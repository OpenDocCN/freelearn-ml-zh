# 前言

机器人学是一个新兴领域，其应用遍及生活的方方面面。机器人及其相关技术似乎仅限于大学和高新技术企业装备精良的实验室。然而，机器人学的许多方面——如构建它们和编程它们——可以在你自己的家中学习和实践。

机器人学的主要领域如下：

+   结构——机械平台的设计和构建

+   电子产品——传感器、电机和控制电路

+   软件——库的代码、传感器交互和行为

本书旨在涵盖每个领域的部分内容，包括基本的 CAD 设计、零件制造和硬件组装。它介绍了某些起始的数字电子学，例如连接和数据总线。它旨在对传感器以及使用它们实现有趣行为的所需代码进行更深入的探讨。

有些机器人书籍提供了理论机器人学的介绍；然而，本书的目的是带你进行一次实践、乐趣和实验之旅。本书提供了逐步的应用解释和图像，以帮助理解。

在家中构建自己的机器人是学习技术技能的绝佳方式。这是一种将难以理解的魔法替换为现实世界经验和自信去构建更多东西的技术体验——任何有实践的人都可以成为机器人巫师。

# 本书面向的对象

本书旨在为那些希望获得设计、构建和编程机器人的实用和逐步动手介绍的读者服务，使用的是流行的 Python 编程语言。它也适合那些希望了解 3D CAD、机器人传感器、机器人硬件以及利用传感器和硬件的机器人行为的人。

本书对那些希望在家庭或车间中构建机器人、学习者以及开发者来说将非常有价值。本书不需要专业的车间，书中将解释所需的所有技能和工具。

对于之前写过一点代码的人来说，这本书会很有用。你不需要有任何电子学或制作东西的经验，但你可以期待在练习本书中的技术时获得初步的经验。

我们期望你对学习有浓厚的兴趣，并在尝试机器人实验时有一点勇气。在本书中应用示例是至关重要的。充分利用本书意味着愿意制作一个真正的机器人并对其进行测试。

# 本书涵盖的内容

*第一章*，*使用 Raspberry Pi Pico 规划机器人*，介绍了 Raspberry Pi Pico 与其他机器人主控制器的关系。它展示了 CircuitPython 编程环境的优势，并引导您制定围绕 Pico 构建机器人的概述计划。本章为本书的前半部分提供了机器人硬件购物清单，讨论了选择这些部件的考虑因素和权衡。

*第二章*，*准备 Raspberry Pi Pico*，引导您将 CircuitPython 安装到 Pico 上，然后开始使用它编写代码。它还将涵盖在 Raspberry Pi Pico 上焊接引脚，以便它可以连接到机器人部件。

*第三章*，*在 FreeCAD 中设计机器人底盘*，介绍了 FreeCAD，同时将概述计划转化为 3D CAD 设计。它展示了如何从设计制作出构建机器人部件的图纸。

*第四章*，*围绕 Pico 构建机器人*，展示了您如何使用 CAD 图纸和手工工具通过切割和钻孔薄塑料片来制作机器人部件。它指导您组装部件，然后连接电子元件。本章是机器人首次通电的地方！

*第五章*，*使用 Raspberry Pi Pico 驱动电机*，向您介绍如何使用 CircuitPython 和 Raspberry Pi Pico 控制电机，展示如何使用电机实现直线运动和转向，以及如何控制速度。本章随后展示了如何将这些内容整合到编程的运动序列中。

*第六章*，*使用 Raspberry Pi Pico 上的编码器测量运动*，介绍了本书中的第一个机器人传感器——轮编码器，展示了如何在代码中检测车轮的运动。本章涵盖了 Raspberry Pi Pico 的 PIO 外设，作为管理这些传感器的一种强大方式。

*第七章*，*规划和购买更多设备*，为本书的下一部分做好准备，涉及距离传感器、蓝牙 LE 和惯性测量单元（**IMU**），并提供有关选择设备及其连接方式的进一步建议。本章为本书的后半部分提供了购物清单。您将回顾 FreeCAD 部件设计以制作传感器支架，然后使用工具切割它们。

*第八章*，*使用 Pico 检测距离以检测物体*，指导您将两个距离传感器连接到机器人上。本章提供了关于 I2C 通信的信息，然后展示了如何编程机器人与传感器通信。接下来，您将为机器人构建代码，使其能够自主避开墙壁。

*第九章*, *使用蓝牙 LE 远程操作 Raspberry Pi Pico 机器人*，比较了无线连接选项，说明了为什么蓝牙 LE 是一个合适的设计选择。你将连接一个蓝牙 LE 模块到机器人上，然后扩展现有代码，通过这个连接输出传感器数据，并在智能手机上显示输出。你还将了解如何从智能手机上控制机器人。

*第十章*, *使用 PID 算法跟踪墙壁*，介绍了 PID 算法，这是机器人中传感器/输出控制行为的基本构建块。我们使用距离传感器构建了一个跟踪墙壁的演示，然后展示如何通过蓝牙 LE 使用智能手机图表调整 PID。

*第十一章*, *在 Raspberry Pi Pico 上使用编码器控制运动*，重新探讨了编码器，展示了如何将它们的输出转换为人类可理解的单位。你将学习如何将这些传感器与 PID 算法结合，以控制电机速度并直线行驶。然后，你将编程机器人以指定速度在直线上行驶指定距离。

*第十二章*, *在 Raspberry Pi Pico 上使用 IMU 检测方向*，介绍了 IMU，这是一种可以让你确定机器人方向的传感器。本章提供了连接传感器和校准它的指南。你将使用 IMU 和 PID 算法来实现使机器人始终面向北方的行为。最后，本章展示了如何使用 IMU 编程机器人以执行指定转向。

*第十三章*, *使用蒙特卡洛方法确定位置*，将展示如何编程机器人以确定它在竞技场中可能的位置。你将使用本章中的计划构建一个泡沫板竞技场并在代码中模拟这个竞技场。你将了解如何使用 Matplotlib 和蓝牙 LE 在计算机上可视化这个空间。然后，你将学习根据传感器输入移动机器人姿态。本章展示了多个机器人行为如何在同一应用中协作。你将了解在机器人运动中使用概率算法进行预测和优化。

*第十四章*, *继续你的旅程——你的下一个机器人*，总结了本书中学到的主题，并提供了深入了解每个主题的信息。本章提供了关于扩展机器人所有方面的想法和研究领域，然后进一步建议构建更雄心勃勃的机器人和提升你的技能。本章还推荐你可以参与的机器人社区。

# 为了充分利用这本书

您需要了解一些 Python 基础知识，例如变量、循环、条件和函数。建议在明亮且通风的桌子上进行本书的机器人构建部分。手工具的访问将有所帮助，尽管您将了解到需要购买哪些工具。机器人代码示例已在 Raspberry Pi Pico 上的 CircuitPython 7.2.0 上测试，但应与更高版本兼容。计算机代码示例已在 Python 3.9 上测试。

| **本书涵盖的软件/硬件** | **操作系统要求** |
| --- | --- |
| Thonny > 3.3 或 Mu Editor > 1.1 | macOS, Linux, 或 Windows |
| Python 3.7 或更高版本 | macOS, Linux, 或 Windows |
| Matplotlib 3.6.1 或更高版本 | macOS, Linux, 或 Windows |
| NumPy 1.23.4 或更高版本 | macOS, Linux, 或 Windows |
| Bleak (Python BLE 库) 0.19.0 或更高版本 | macOS, Linux, 或 Windows |
| 可用的 USB 端口 | macOS, Linux, 或 Windows |
| 拥有蓝牙 LE 的智能手机/平板电脑（蓝牙 > 4.0） | iOS 或 Android |
| Adafruit Bluefruit LE Connect > 3.3.2 | iOS 或 Android |
| 具有蓝牙 LE 功能的笔记本电脑（或 BLE 拓展卡） | macOS, Linux, 或 Windows |
| FreeCAD | macOS, Linux, 或 Windows |
| Raspberry Pi Pico |  |
| CircuitPython > 7.2.0 | Raspberry Pi Pico |

Thonny 内置了 Python 3.x 的安装。可以使用 **工具** *|* **打开系统 shell** 菜单在 Thonny 的 Python 中安装包。

**如果您使用的是本书的数字版，我们建议您亲自输入代码或从书的 GitHub 仓库获取代码（下一节中有一个链接）。这样做将帮助您避免与代码的复制和粘贴相关的任何潜在错误。**

您可以通过以下方式获得本书的帮助：

+   在本书的 GitHub 仓库 [`github.com/PacktPublishing/Robotics-at-Home-with-Raspberry-Pi-Pico`](https://github.com/PacktPublishing/Robotics-at-Home-with-Raspberry-Pi-Pico) 上提交错误

+   通过 Discord 在 [`discord.gg/2VHYY3FkXV`](https://discord.gg/2VHYY3FkXV) 提问

# 下载示例代码文件

您可以从 GitHub 下载本书的示例代码文件 [`github.com/PacktPublishing/Robotics-at-Home-with-Raspberry-Pi-Pico`](https://github.com/PacktPublishing/Robotics-at-Home-with-Raspberry-Pi-Pico)。如果代码有更新，它将在 GitHub 仓库中更新。

我们还有其他来自我们丰富的图书和视频目录的代码包，可在 [`github.com/PacktPublishing/`](https://github.com/PacktPublishing/) 获取。查看它们吧！

# 下载彩色图像

我们还提供了一份包含本书中使用的截图和图表彩色图像的 PDF 文件。您可以从这里下载：[`packt.link/7x3ku`](https://packt.link/7x3ku)。

# 使用的约定

本书中使用了多种文本约定。

`文本中的代码`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“要运行此代码，请确保发送`pio_encoders.py`库、更新的`robot.py`文件，然后是`measure_fixed_time.py`。”

代码块是这样设置的：

```py
import time
import board
import digitalio
led = digitalio.DigitalInOut(board.LED)
led.direction = digitalio.Direction.OUTPUT
while True:
    led.value = True
    time.sleep(0.5)
    led.value = False
    time.sleep(0.5)
```

当我们希望将你的注意力引到代码块的一个特定部分时，相关的行或项目将以粗体显示：

```py
>>> print("Hello, world!")
Hello, World!
>>>
```

任何命令行输入或输出都应如下所示：

```py
code.py output:
4443 4522
```

**粗体**：表示新术语、重要单词或你在屏幕上看到的单词。例如，菜单或对话框中的单词以粗体显示。以下是一个示例：“启动 Mu 编辑器，当它运行时，点击**模式**按钮。从这里，选择**CircuitPython**。”

小贴士或重要注意事项

它看起来像这样。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**：如果你对这本书的任何方面有疑问，请通过 customercare@packtpub.com 给我们发邮件，并在邮件主题中提及书名。

**勘误**：尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果你在这本书中发现了错误，如果你能向我们报告，我们将不胜感激。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。

**盗版**：如果你在互联网上以任何形式遇到我们作品的非法副本，如果你能提供位置地址或网站名称，我们将不胜感激。请通过版权@packtpub.com 与我们联系，并提供材料的链接。

**如果你有兴趣成为作者**：如果你在一个你擅长的主题上，并且你对撰写或为书籍做出贡献感兴趣，请访问[authors.packtpub.com](http://authors.packtpub.com)。

# 分享你的想法

一旦你阅读了《使用 Raspberry Pi Pico 在家进行机器人技术》，我们很乐意听听你的想法！请[点击此处直接进入此书的亚马逊评论页面](https://packt.link/r/1803246073)并分享你的反馈。

你的评论对我们和科技社区都很重要，并将帮助我们确保我们提供高质量的内容。

# 下载这本书的免费 PDF 副本

感谢您购买这本书！

你喜欢在旅途中阅读，但无法随身携带你的印刷书籍吗？你的电子书购买是否与你的选择设备不兼容？

别担心，现在，每当你购买 Packt 书籍时，你都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何地点、任何设备上阅读。直接从你喜欢的技术书籍中搜索、复制和粘贴代码到你的应用程序中。

优惠不会就此停止，你还可以获得独家折扣、时事通讯和每日免费内容的每日电子邮件。

按照以下简单步骤获取好处：

1.  扫描下面的二维码或访问以下链接

![](img/B18001_QR_Free_PDF.jpg)

[`packt.link/free-ebook/9781803246079`](https://packt.link/free-ebook/9781803246079)

1.  提交您的购买证明

1.  就这样！我们将直接将您的免费 PDF 和其他福利发送到您的电子邮件

# 第一部分：基础知识 - 使用 Raspberry Pi Pico 准备机器人学

在本部分，您将迈出学习 Raspberry Pi Pico 的第一步，然后围绕它进行规划和构建机器人，并获得初始机器人代码以使机器人移动。

本部分包含以下章节：

+   *第一章*, *使用 Raspberry Pi Pico 规划机器人*

+   *第二章*, *准备 Raspberry Pi Pico*

+   *第三章*, *在 FreeCAD 中设计机器人底盘*

+   *第四章*, *围绕 Pico 构建机器人*

+   *第五章*, *使用 Raspberry Pi Pico 驱动电机*
