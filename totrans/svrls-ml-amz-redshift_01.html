<html><head></head><body>
		<div id="_idContainer043">
			<h1 id="_idParaDest-16" class="chapter-number"><a id="_idTextAnchor015"/>1</h1>
			<h1 id="_idParaDest-17"><a id="_idTextAnchor016"/>Introduction to Amazon Redshift Serverless</h1>
			<p><em class="italic"><a id="_idTextAnchor017"/>“Hey, what’s a data warehouse?” </em>John Doe, CEO and co-founder of Red.wines, a fictional specialty wine e-commerce company, asked Tathya Vishleshak*, the company’s CTO. John, who owned a boutique winery, had teamed up with Tathya for the project. The company’s success surged during the pandemic, driven by social media and the stay-at-home trend. John wanted detailed data analysis to align inventory and customer outreach. However, there was a problem – producing this analysis was slowing down their <strong class="bold">online transaction processing</strong> (<span class="No-Break"><strong class="bold">OLTP</strong></span><span class="No-Break">)</span><span class="No-Break"> database.</span></p>
			<p><em class="italic">“A data warehouse is like a big database where we store different data for a long time to find insights and make decisions,”</em> <span class="No-Break">Tathya </span><span class="No-Break"><a id="_idIndexMarker000"/></span><span class="No-Break">explained.</span></p>
			<p>John had a concern, <em class="italic">“Sounds expensive; we’re already paying for unused warehouse space. Can we </em><span class="No-Break"><em class="italic">afford it?”</em></span></p>
			<p>Tathya reassured him, <em class="italic">“You’re right, but there are cloud data warehouses such as Amazon Redshift Serverless that let you pay as </em><span class="No-Break"><em class="italic">you use.”</em></span></p>
			<p>Expanding on this, this chapter introduces data warehousing and Amazon Redshift. We’ll cover Amazon Redshift Serverless basics, such as namespaces and workgroups, and guide you in <a id="_idIndexMarker001"/>creating a data warehouse. Amazon Redshift can gather data from various sources, mainly Amazon <strong class="bold">Simple Storage </strong><span class="No-Break"><strong class="bold">Service</strong></span><span class="No-Break"> (</span><span class="No-Break"><strong class="bold">S3</strong></span><span class="No-Break">).</span></p>
			<p>As we go through this chapter, you’ll learn about a crucial aspect of this, the AWS <strong class="bold">Identity and Access Management</strong> (<strong class="bold">IAM</strong>) role, needed<a id="_idIndexMarker002"/> for loading data from S3. This role connects to your Serverless namespace for smooth data transfer. You’ll also learn how to load sample data and run queries using Amazon Redshift query editor. Our goal is to make it simple and actionable, so you’re confident in navigating <span class="No-Break">this journey.</span></p>
			<p class="callout-heading">Tathya Vishleshak</p>
			<p class="callout">The phrase 'Tathya Vishleshak' can be loosely interpreted to reflect the concept of a data analyst in Sanskrit/Hindi. However, it's important to note that this is not a precise or established translation, but rather an attempt to convey a similar meaning based on the individual meanings of the words 'Tathya' and 'Vishleshak' <span class="No-Break">in Sanskrit.</span></p>
			<p>Additionally, Amazon Redshift<a id="_idIndexMarker003"/> is used to analyze structured and unstructured data in data warehouses, operational databases, and data lakes. It’s employed for traditional data warehousing, business intelligence, real-time analytics, and machine learning/predictive analytics. Data analysts and developers use Redshift data with <strong class="bold">machine learning</strong> (<strong class="bold">ML</strong>) models<a id="_idIndexMarker004"/> for tasks such as predicting customer behavior. Amazon Redshift ML streamlines this process using familiar <span class="No-Break">SQL commands.</span></p>
			<p>The book delves into ML, explaining supervised and unsupervised training. You’ll learn about problem-solving with binary classification, multi-class classification, and regression using real-world examples. You’ll also discover how to create deep learning models and custom models with XGBoost, as well as use time series forecasting. The book also covers in-database and remote inferences using existing models, applying ML for predictive analytics, and operationalizing machine <span class="No-Break">learning models.</span></p>
			<p>The following topics will be covered in <span class="No-Break">this chapter:</span></p>
			<ul>
				<li>What is <span class="No-Break">Amazon Redshift?</span></li>
				<li>Getting started with Amazon <span class="No-Break">Redshift Serverless</span></li>
				<li>Connecting to your <span class="No-Break">data warehouse</span></li>
			</ul>
			<p>This chapter requires a web browser and access to an <span class="No-Break">AWS account.</span></p>
			<h1 id="_idParaDest-18"><a id="_idTextAnchor018"/>What is Amazon Redshift?</h1>
			<p>Organizations churn out <a id="_idIndexMarker005"/>vast troves of customer data along with insights into these customers’ interactions with the business. This data gets funneled into various applications and stashed away in disconnected systems. A conundrum arises when attempting to decipher these data silos – a formidable challenge that hampers the derivation of meaningful insights essential for organizational clarity. Adding to this complexity, security and performance considerations typically muzzle business analysts<a id="_idIndexMarker006"/> from accessing data within <span class="No-Break">OLTP systems.</span></p>
			<p>The hiccup is that intricate analytical queries weigh down OLTP databases, casting a shadow over their core operations. Here, the solution is <a id="_idIndexMarker007"/>the <strong class="bold">data warehouse</strong>, which is a central hub of curated data, used by business analysts and data scientists to make informed decisions by employing the business intelligence and machine learning tools at their disposal. These users make use of <strong class="bold">Structured Query Language</strong> (<strong class="bold">SQL</strong>) to<a id="_idIndexMarker008"/> derive insights from this data trove. From operational systems, application logs, and social media streams to the influx of IoT device-generated data, customers channel structured and semi-structured data into organizations’ data warehouses, as depicted in <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.1</em>, showcasing the classic architecture of a conventional <a id="_idIndexMarker009"/><span class="No-Break">data warehouse.</span></p>
			<div>
				<div id="_idContainer014" class="IMG---Figure">
					<img src="image/B19071_01_01.jpg" alt="Figure 1.1 – Data warehouse"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.1 – Data warehouse</p>
			<p>Here’s where Amazon Redshift Serverless comes in. It’s a key option within Amazon Redshift, a <a id="_idIndexMarker010"/>well-managed cloud data warehouse offered by <strong class="bold">Amazon Web Services</strong> (<strong class="bold">AWS</strong>). With cloud-based ease, Amazon Redshift Serverless lets you set up your data storage without infrastructure hassles or cost worries. You pay based on what you use for compute <span class="No-Break">and storage.</span></p>
			<p>Amazon Redshift Serverless<a id="_idIndexMarker011"/> goes beyond convenience, propelling modern data applications that seamlessly connect to the data lake. Enter the data lake – a structure that gathers all data strands under one roof, providing limitless space to store data at any scale, cost-effectively. Alongside other data repositories such as data warehouses, data lakes redefine how organizations handle data. And this is where it all comes together – the following diagram shows how Amazon Redshift Serverless injects SQL-powered queries into the data lake, driving a dynamic <span class="No-Break">data flow:</span></p>
			<div>
				<div id="_idContainer015" class="IMG---Figure">
					<img src="image/B19071_01_02.jpg" alt="Figure 1.2 – Data lake and data warehouse"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.2 – Data lake and data warehouse</p>
			<p>So, let’s get started on creating our first data warehouse in <span class="No-Break">the cloud!</span></p>
			<h1 id="_idParaDest-19"><a id="_idTextAnchor019"/>Getting started with Amazon Redshift Serverless</h1>
			<p>You can <a id="_idIndexMarker012"/>create your data warehouse with Amazon Redshift Serverless using<a id="_idIndexMarker013"/> the <strong class="bold">AWS Command-Line Interface</strong> (<strong class="bold">CLI</strong>), the <strong class="bold">API</strong>, <strong class="bold">AWS CloudFormation templates</strong>, or the <strong class="bold">AWS console</strong>. We are going to <a id="_idIndexMarker014"/>use the <a id="_idIndexMarker015"/>AWS console to create<a id="_idIndexMarker016"/> a Redshift Serverless data warehouse. Log in to your AWS console and search for <strong class="source-inline">Redshift</strong> in the top bar, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.3</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer016" class="IMG---Figure">
					<img src="image/B19701_01_03.jpg" alt="Figure 1.3 – AWS console page showing services filtered by our search for Redshift"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.3 – AWS console page showing services filtered by our search for Redshift</p>
			<p>Click on <strong class="bold">Amazon Redshift</strong>, which will <a id="_idIndexMarker017"/>take you to the home page for the Amazon Redshift console, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.4</em>. To help get you started, Amazon provides free credit for first-time Redshift Serverless customers. So, let’s start creating your trial data warehouse by clicking on <strong class="bold">Try Amazon Redshift Serverless</strong>. If you or your organization has tried Amazon Redshift Serverless before, you will have to pay for the service based on <span class="No-Break">your usage:</span></p>
			<div>
				<div id="_idContainer017" class="IMG---Figure">
					<img src="image/B19701_01_04.jpg" alt="Figure 1.4 – Amazon Redshift service page in the AWS console"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.4 – Amazon Redshift service page in the AWS console</p>
			<p>If you have free credit<a id="_idIndexMarker018"/> available, it will be indicated at the top of your screen, as in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.5</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer018" class="IMG---Figure">
					<img src="image/B19701_01_05.jpg" alt="Figure 1.5 – AWS console showing the Redshift Serverless Get started page"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.5 – AWS console showing the Redshift Serverless Get started page</p>
			<p>You can<a id="_idIndexMarker019"/> either choose the defaults or use the customized settings to create your data warehouse. The customized settings give you more control, allowing you to specify many additional parameters for your compute configuration including the workgroup, data-related settings such as the namespace, and advanced security settings. We will use the customized settings, which will help us customize the namespace settings for our Serverless data warehouse. A namespace combined with a workgroup is what makes a data warehouse with Redshift Serverless, as we will now see in <span class="No-Break">more detail.</span></p>
			<h2 id="_idParaDest-20"><a id="_idTextAnchor020"/>What is a namespace?</h2>
			<p>Amazon Redshift Serverless provides a separation of storage and compute for a data warehouse. A <strong class="bold">namespace</strong> is a<a id="_idIndexMarker020"/> collection of all your data stored in the database such as your tables, views, database users, and their privileges. You are separately charged for storage based on the size of the data stored in your data warehouse. For compute, you are charged for the capacity used over a given duration in <strong class="bold">Redshift processing hours</strong> (<strong class="bold">RPU</strong>) on a<a id="_idIndexMarker021"/> per second-basis. The storage capacity is<a id="_idIndexMarker022"/> billed as <strong class="bold">Redshift managed storage</strong> (<strong class="bold">RMS</strong>) and is billed by GB/month. You can view <a href="https://aws.amazon.com/redshift/pricing/">https://aws.amazon.com/redshift/pricing/</a> for detailed pricing for your <span class="No-Break">AWS Region.</span></p>
			<p>As a data warehouse admin, you can change the name of your data warehouse namespace while creating<a id="_idIndexMarker023"/> the namespace. You can also change your encryption settings, audit logging, and AWS IAM permissions, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.6</em>. The primary reason we are going to use customized settings is to associate an IAM role with <span class="No-Break">the namespace:</span></p>
			<div>
				<div id="_idContainer019" class="IMG---Figure">
					<img src="image/B19701_01_06.jpg" alt="Figure 1.6 – Namespace configuration"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.6 – Namespace configuration</p>
			<p>AWS IAM<a id="_idIndexMarker024"/> allows you to specify which users or services can access other services and resources in AWS. We will use that role for loading data from <strong class="bold">S3</strong> and<a id="_idIndexMarker025"/> training a machine learning model with Redshift ML that <a id="_idIndexMarker026"/>accesses <span class="No-Break"><strong class="bold">Amazon SageMaker</strong></span><span class="No-Break">.</span></p>
			<p>If you have already <a id="_idIndexMarker027"/>created an IAM role earlier, you can associate with that IAM role. If you have not created an IAM role, do so now by selecting the <strong class="bold">Manage IAM roles</strong> option, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.7</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer020" class="IMG---Figure">
					<img src="image/B19701_01_07.jpg" alt="Figure 1.7 – Creating an IAM role and associating it via the AWS console"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.7 – Creating an IAM role and associating it via the AWS console</p>
			<p>Then, select <a id="_idIndexMarker028"/>the <strong class="bold">Create IAM role</strong> option, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.8</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer021" class="IMG---Figure">
					<img src="image/B19701_01_08.jpg" alt="Figure 1.8 – Selecting the “Create IAM role” option"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.8 – Selecting the “Create IAM role” option</p>
			<p>You can then <a id="_idIndexMarker029"/>create a default IAM role and provide appropriate permissions to the IAM role to allow it to access S3 buckets, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.9</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer022" class="IMG---Figure">
					<img src="image/B19701_01_09.jpg" alt="Figure 1.9 – Granting S3 permissions to the IAM role"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.9 – Granting S3 permissions to the IAM role</p>
			<p>As shown in<a id="_idIndexMarker030"/> the preceding figure, select <strong class="bold">Any S3 bucket</strong> to enable Redshift to read data from and write data to all S3 buckets you have created. Then, select <strong class="bold">Create IAM role as default</strong> to create the role and set it as the default <span class="No-Break">IAM role.</span></p>
			<div>
				<div id="_idContainer023" class="IMG---Figure">
					<img src="image/B19701_01_10.jpg" alt="Figure 1.10 – An IAM role was created but is not yet applied"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.10 – An IAM role was created but is not yet applied</p>
			<p>As shown in <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.10</em>, we created the IAM role and associated it with the namespace as a default role. Let’s next proceed to create a workgroup, wherein we will set up the compute configuration for the <span class="No-Break">data warehouse.</span></p>
			<h2 id="_idParaDest-21"><a id="_idTextAnchor021"/>What is a workgroup?</h2>
			<p>As we discussed earlier, a namespace combined with a workgroup is what makes a Redshift Serverless data warehouse. A <strong class="bold">workgroup</strong> provides<a id="_idIndexMarker031"/> the compute resources required to process your data. It also provides the endpoint for you to connect to the warehouse. As an admin, you need to configure the compute settings such as the network and security configuration for <span class="No-Break">the workgroup.</span></p>
			<p>We will not do any customization at this time and simply select the default settings instead, including the VPC and associated subnets for the workgroup, as shown in the <span class="No-Break">following screenshot:</span></p>
			<div>
				<div id="_idContainer024" class="IMG---Figure">
					<img src="image/B19701_01_11.jpg" alt="Figure 1.11 – Default settings and associated subnets for the workgroup"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.11 – Default settings and associated subnets for the workgroup</p>
			<p>Click on the <strong class="bold">Save configuration</strong> button to<a id="_idIndexMarker032"/> create your Redshift Serverless instance, and your first data warehouse will be ready in a <span class="No-Break">few minutes:</span></p>
			<div>
				<div id="_idContainer025" class="IMG---Figure">
					<img src="image/B19701_01_12.jpg" alt="Figure 1.12 – Redshift Serverless creation progress"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.12 – Redshift Serverless creation progress</p>
			<p>Once your data warehouse is ready, you will be redirected to your Serverless dashboard, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.13</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer026" class="IMG---Figure">
					<img src="image/B19701_01_13.jpg" alt="Figure 1.13 – Serverless dashboard showing your namespace and workgroup"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.13 – Serverless dashboard showing your namespace and workgroup</p>
			<p>Now that we have created our data warehouse, we will connect to the data warehouse, load some sample data, and run <span class="No-Break">some queries.</span></p>
			<h1 id="_idParaDest-22"><a id="_idTextAnchor022"/>Connecting to your data warehouse</h1>
			<p>Your data warehouse with<a id="_idIndexMarker033"/> Redshift Serverless is now ready. You can connect to your data warehouse using third-party tools via JDBC/ODBC/Python drivers. Other<a id="_idIndexMarker034"/> options include <a id="_idIndexMarker035"/>the <strong class="bold">Data API</strong> or the embedded <strong class="bold">Redshift query </strong><span class="No-Break"><strong class="bold">editor v2</strong></span><span class="No-Break">.</span></p>
			<h2 id="_idParaDest-23"><a id="_idTextAnchor023"/>Using Amazon Redshift query editor v2</h2>
			<p>Now that your data<a id="_idIndexMarker036"/> warehouse is ready; let’s<a id="_idIndexMarker037"/> navigate to the query editor to load some sample data and run some queries. Select the <strong class="bold">Query data</strong> option from your dashboard, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.13,</em> and you will be navigated to the query editor, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.14</em></span><span class="No-Break">.</span></p>
			<div>
				<div id="_idContainer027" class="IMG---Figure">
					<img src="image/B19701_01_14.jpg" alt="Figure 1.14 – Query editor"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.14 – Query editor</p>
			<p>In the Redshift query editor v2 console, on the left pane, you will see the data warehouses, such as the <strong class="bold">Serverless:default</strong> workgroup, that you have access to. Click on the workgroup (<strong class="bold">Serverless:default</strong>) to connect to the <span class="No-Break">data warehouse.</span></p>
			<div>
				<div id="_idContainer028" class="IMG---Figure">
					<img src="image/B19701_01_15.jpg" alt="Figure 1.15 – Creating a connection to your workgroup"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.15 – Creating a connection to your workgroup</p>
			<p>As shown in the <a id="_idIndexMarker038"/>preceding screenshot, select <strong class="bold">Federated user</strong> if you did not specify any database credentials <a id="_idIndexMarker039"/>while creating the namespace, and then click <strong class="bold">Create connection</strong>. You can leave the database name as <strong class="bold">dev</strong>. You will be prompted to create a connection only when connecting to the data warehouse for the first time. If you have created the connection, you will be connected automatically when you click on the workgroup. Once you are connected, you will see the databases in the navigator, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.16</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer029" class="IMG---Figure">
					<img src="image/B19701_01_16.jpg" alt="Figure 1.16 – List of databases"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.16 – List of databases</p>
			<p>Since we just <a id="_idIndexMarker040"/>created our data <a id="_idIndexMarker041"/>warehouse for the first time, there is no data present in it, so let’s load some sample data into the data <span class="No-Break">warehouse now.</span></p>
			<h2 id="_idParaDest-24"><a id="_idTextAnchor024"/>Loading sample data</h2>
			<p>On the left pane, click <a id="_idIndexMarker042"/>on the <strong class="bold">sample_data_dev</strong> database to expand the <span class="No-Break">available database:</span></p>
			<div>
				<div id="_idContainer030" class="IMG---Figure">
					<img src="image/B19701_01_17.jpg" alt="Figure 1.17 – The Redshift query editor v2 navigator that shows the sample data available"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.17 – The Redshift query editor v2 navigator that shows the sample data available</p>
			<p>As you can see from the <a id="_idIndexMarker043"/>preceding screenshot, three sample datasets are available for you to load into your data warehouse. Click on the icon showing the folder with an arrow located to the right of your chosen sample data notebook to load and open it, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.18</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer031" class="IMG---Figure">
					<img src="image/B19701_01_18.jpg" alt="Figure 1.18 – List of sample databases"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.18 – List of sample databases</p>
			<p>You will be prompted to <a id="_idIndexMarker044"/>create your sample database. Click on <strong class="bold">Create</strong> to get started, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.19</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer032" class="IMG---Figure">
					<img src="image/B19701_01_19.jpg" alt="Figure 1.19 – Creating a sample database"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.19 – Creating a sample database</p>
			<p>The sample data<a id="_idIndexMarker045"/> will be loaded in a few seconds and presented in a notebook with SQL queries for the dataset that you can explore, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.20</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer033" class="IMG---Figure">
					<img src="image/B19701_01_20.jpg" alt="Figure 1.20 – Notebook with sample queries for the tickit database"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.20 – Notebook with sample queries for the tickit database</p>
			<p>You can expand the <a id="_idIndexMarker046"/>navigation tree on the left side of the query editor to view schemas and database objects, such as tables and views in your schema, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.21</em></span><span class="No-Break">.</span></p>
			<div>
				<div id="_idContainer034" class="IMG---Figure">
					<img src="image/B19701_01_21.jpg" alt="Figure 1.21 – Expanding the navigation tree to view schemas and database objects"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.21 – Expanding the navigation tree to view schemas and database objects</p>
			<p>You can click on a <a id="_idIndexMarker047"/>table to view the table definitions, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.22</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer035" class="IMG---Figure">
					<img src="image/B19701_01_22.jpg" alt="Figure 1.22 – Table definitions"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.22 – Table definitions</p>
			<p>Right-clicking on a<a id="_idIndexMarker048"/> table provides additional <strong class="bold">Select table</strong>, <strong class="bold">Show table definition</strong>, and <strong class="bold">Delete</strong> options, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.23</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer036" class="IMG---Figure">
					<img src="image/B19701_01_23.jpg" alt="Figure 1.23 – Right-click﻿ing on a table to view more options"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.23 – Right-clicking on a table to view more options</p>
			<p>You can click <strong class="bold">Run all,</strong> as <a id="_idIndexMarker049"/>shown in <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.24,</em> to run all the queries in the sample notebook. The query editor provides a notebook interface to add annotation, and SQL cells organize your queries in a single document. You can use annotations for <span class="No-Break">documentation purposes.</span></p>
			<div>
				<div id="_idContainer037" class="IMG---Figure">
					<img src="image/B19701_01_24.jpg" alt="Figure 1.24 – The “Run all” option"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.24 – The “Run all” option</p>
			<p>You will see the results of your queries for each cell. You can download the results as JSON or CSV files to your desktop, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.25</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer038" class="IMG---Figure">
					<img src="image/B19701_01_25.jpg" alt="Figure 1.25 – Options to download query results"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.25 – Options to download query results</p>
			<p>Let’s author our <span class="No-Break">first query.</span></p>
			<h2 id="_idParaDest-25"><a id="_idTextAnchor025"/>Running your first query</h2>
			<p>We want to find<a id="_idIndexMarker050"/> out the top 10 events by sales in the <strong class="source-inline">tickit</strong> database. We will run the following SQL statement in the <span class="No-Break">data warehouse:</span></p>
			<pre class="source-code">
SELECT eventname, total_price
FROM  (SELECT eventid, total_price, ntile(1000) over(order by total_price desc) as percentile
       FROM (SELECT eventid, sum(pricepaid) total_price
             FROM   tickit.sales
             GROUP BY eventid)) Q, tickit.event E
       WHERE Q.eventid = E.eventid
       AND percentile = 1
ORDER BY total_price desc
limit 10;</pre>
			<p>In the query editor, add a new query by clicking on the <strong class="bold">+</strong> sign and selecting <strong class="bold">Editor</strong> from the menu that appears. If you wanted to create a new notebook, you could click on <strong class="bold">Notebook</strong> instead, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.26</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer039" class="IMG---Figure">
					<img src="image/B19701_01_26.jpg" alt="Figure 1.26 – Creating a new query"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.26 – Creating a new query</p>
			<p>Now, type the preceding SQL query in the editor and then click on <strong class="bold">Run</strong>. You will get the results as shown in the <span class="No-Break">following screenshot:</span></p>
			<div>
				<div id="_idContainer040" class="IMG---Figure">
					<img src="image/B19701_01_27.jpg" alt="Figure 1.27 – Query with results"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.27 – Query with results</p>
			<p>As the saying goes, <em class="italic">“A picture is worth a thousand words,”</em> and query editor allows you to visualize the <a id="_idIndexMarker051"/>results to gain faster insight. You can create a chart easily by clicking on the <strong class="bold">Chart</strong> option and then selecting the chart you want. Let’s select a scatter plot, as shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.28</em></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer041" class="IMG---Figure">
					<img src="image/B19701_01_28.jpg" alt="Figure 1.28 – Using charts in Redshift query editor v2"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.28 – Using charts in Redshift query editor v2</p>
			<p>You can add a chart <a id="_idIndexMarker052"/>name and notations for the <em class="italic">X</em> and <em class="italic">Y</em> axes and export the chart as PNG or JPG to put in your presentation or to share with your <span class="No-Break">business partners:</span></p>
			<div>
				<div id="_idContainer042" class="IMG---Figure">
					<img src="image/B19701_01_29.jpg" alt="Figure 1.29 – Charting options in query editor v2"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.29 – Charting options in query editor v2</p>
			<p>As you have now seen, you can use Redshift query editor v2 to create your own database, create tables, load data, and run and author queries and notebooks. You can share your queries and notebooks with your <span class="No-Break">team members.</span></p>
			<h1 id="_idParaDest-26"><a id="_idTextAnchor026"/>Summary</h1>
			<p>In this chapter, you learned about cloud data warehouses and Amazon Redshift Serverless. You created your first data warehouse powered by Redshift Serverless and loaded some sample data using the query editor. You also learned how to use the query editor to run queries and visualize data to <span class="No-Break">produce insights.</span></p>
			<p>In <a href="B19071_02.xhtml#_idTextAnchor027"><span class="No-Break"><em class="italic">Chapter 2</em></span></a>, you will learn the best techniques for loading data and performing analytics in your Amazon Redshift Serverless <span class="No-Break">data warehouse.</span></p>
		</div>
	</body></html>