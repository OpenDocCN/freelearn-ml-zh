<html><head></head><body><div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Scalable Computing for Data Science</h1>
                </header>
            
            <article>
                
<p>In this chapter, we will learn how to use Azure in data science. We are going to look at how to prepare data, which includes cleaning and transforming it, creating engineering features, creating and training a machine learning model, and finally, making predictions using the machine learning model. </p>
<p>To build a machine learning algorithm with big data, we need to process a lot of data to train it. To do this, we need a lot of computing power. We also need the compute to be able to<span> scale dynamically based on the load </span><span>to serve these machine learning models at scale so that they can perform predictions.</span></p>
<p>In the era before public clouds, we had to buy all of our hardware beforehand. We had to pay for it all, ...</p></article></section></div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Different scalable compute options in Azure</h1>
                </header>
            
            <article>
                
<p>There are two types of scaling possible in Azure to help us scale our CPUs and/or GPUs:</p>
<ul>
<li><strong>Vertical scaling</strong>: Increasing the number of CPU cores and the memory of the VM.</li>
<li><strong>Horizontal scaling</strong>: Increasing the number of VMs in the cluster, while keeping the CPU cores and the memory the same in each virtual machine. When we use horizontal scaling, we may have to write additional code to perform parallel or distributed computing using a supported framework.</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Introduction to DSVMs</h1>
                </header>
            
            <article>
                
<p>A DSVM is a Linux or Windows container that is made up of popular data science tools and frameworks. It can help us quickly get started with data analytics and data science. It supports a number of OSes; currently, we can create a DSVM with Windows 2012, Windows 2016, Ubuntu Linux, and CentOS Linux. The idea behind DSVMs is to decrease the time it takes to create a working environment.</p>
<p>A DSVM has preconfigured libraries that are tested for compatibility. It is updated every few months so that it uses the latest compatible version of tools, libraries, and frameworks. It supports GPU VMs and comes pre-installed with the necessary drivers. A DSVM also includes tutorials and guides on how to get started.</p>
<p>A DSVM is likely ...</p></article></section></div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Provisioning a DSVM</h1>
                </header>
            
            <article>
                
<p>Let's now go through the steps required to create a DSVM. In this example, we will create a Windows 2016 DSVM, but the steps are similar if you want to create a Linux DSVM:</p>
<ol>
<li>Go to the Azure portal at <a href="https://portal.azure.com">https://portal.azure.com</a>.</li>
</ol>
<ol start="2">
<li>Click on <span class="packt_screen">Create a resource</span>, and then go to <span class="packt_screen">AI + Machine Learning</span> and click on <span class="packt_screen">D</span><span class="packt_screen">ata Science Virtual Machine – Windows 2016</span>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/fe0efb54-7a49-44da-a69e-440cfb3b7e95.jpg" style="width:36.00em;height:34.83em;" width="1715" height="1657"/></p>
<ol start="3">
<li>Alternatively, we can search for <kbd>data science virtual machine</kbd> in the Azure portal:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1015 image-border" src="Images/4218cb20-5eae-4eb2-915c-c82d8bc1c627.png" style="width:42.67em;height:27.17em;" width="1656" height="1054"/></p>
<ol start="4">
<li>A window will appear that will show you some of the key characteristics of the DSVM that you choose:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-963 image-border" src="Images/f0bc8ff3-867a-455d-b423-edd84e394aea.png" style="width:33.50em;height:48.67em;" width="1101" height="1600"/></p>
<ol start="5">
<li>We can create a DSVM quickly by providing the necessary information. This includes the <span class="packt_screen">Resource group</span>, the <span class="packt_screen">Region</span>, a <span class="packt_screen">Username</span>, and a <span class="packt_screen">Password</span>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1018 image-border" src="Images/05d93bb1-32ba-429e-8451-19eef79d5aa0.png" style="width:37.33em;height:40.50em;" width="1540" height="1665"/></p>
<ol start="6">
<li>An important parameter that we need to consider is the <span class="packt_screen">VM SIZE</span>. Here, we have the option of selecting a CPU- and/or a GPU-based VM. We have lots of options based on our CPU, our memory, and our networking requirements. A sample screenshot of different types of VMs is shown as follows:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-964 image-border" src="Images/f8457362-aa48-4828-9035-39a5a45f70ed.png" style="width:46.25em;height:28.67em;" width="1863" height="1155"/></p>
<p>Wait for a few minutes while Azure creates our virtual machine. Once it is ready, we will get a notification in the portal.</p>
<p>After our VM has been created, we can access it using RDP or SSH, depending on the OS. From the overview window, we can look at different metrics when our VM is running, such as CPU usage or disk operations. These metrics can help us to decide whether we need to resize our VM:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1009 image-border" src="Images/e4eb6bf0-af66-452e-b22c-aa6035326594.png" style="width:126.42em;height:56.83em;" width="1517" height="682"/></p>
<p class="mce-root"/>
<p>We can also configure the VM <span>to shut down automatically using the </span><span class="packt_screen">Auto-shutdown</span> option from the portal:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-980 image-border" src="Images/feac6770-f34f-4538-a661-f21d8d2d7ebe.png" style="width:162.50em;height:120.50em;" width="1950" height="1446"/></p>
<p>After we log in to our DSVM, we can start using its tools as if it were our local machine. For more information about each of the tools, please refer to the following website: <a href="https://docs.microsoft.com/en-us/azure/machine-learning/data-science-virtual-machine/provision-vm#important-directories-on-the-vm">https://docs.microsoft.com/en-us/azure/machine-learning/data-science-virtual-machine/provision-vm#important-directories-on-the-vm</a>.</p>
<p>After using the VM, we can stop it from the portal to avoid paying for it unnecessarily. When we want to use it in the future, we can start it again without having to recreate it. </p>
<p>Let's now move on to look at a variant of a DSVM – a DLVM.<strong> </strong></p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">DLVM</h1>
                </header>
            
            <article>
                
<p>A DLVM is a special type of DSVM that has a base image that is customized for deep learning. We can use either Windows 2016 or Ubuntu Linux as the OS. It has pre-installed frameworks, tools, and tutorials to get you started quickly with deep learning.</p>
<p><span>Provisioning a DLVM is</span> similar<span> to provisioning a DSVM. We need to select a GPU-based VM for a DLVM:</span></p>
<ol>
<li>Go to the Azure portal and search for <kbd>deep learning virtual machine</kbd>. We can create a DLVM in the same way as we created a DSVM.</li>
<li>A window will pop up, asking us to provide a name and select an OS, username, password, resource group, location, and so on. The next window requires us to select a GPU-based VM. As shown in the following screenshot, the VM sizes that are not available in your region ...</li></ol></article></section></div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Batch AI service</h1>
                </header>
            
            <article>
                
<p class="mce-root">DSVMs and DLVMs are good at carrying out single node-based computing. In scenarios where we need to distribute training, however, we can use the Batch AI service, which allows us to focus on training instead of having to worry about managing the cluster. A Batch AI service has VMs that use <span>the same base image as the DSVM</span>, meaning that all the libraries, tools, and frameworks that are available in a DSVM are available in the Batch AI service as well. The Batch AI service allows us to use parallel training and <span>GPU-based VMs</span> for deep learning, and we can also deploy a Docker container to a Batch AI node. When using the Batch AI service, we can mount our Azure Blob or Azure Data Lake Storage with our cluster. This means that we can train with a huge amount of data without having to copy the data to the cluster because it can be streamed instead.</p>
<p><span>At the time of writing</span>, the Batch AI service is only available as a preview, so there may be new features when the service is  available <span>generally</span>.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Provisioning a Batch AI service</h1>
                </header>
            
            <article>
                
<p>Let's now proceed to create a Batch AI service:</p>
<ol>
<li>Go to the Azure portal at <a href="https://portal.azure.com">https://portal.azure.com</a>. Go to <span class="packt_screen">Create a resource</span> and search for <kbd>batch ai</kbd>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1028 image-border" src="Images/a594316f-47c7-4cad-8995-3662c5f33d09.png" style="width:162.50em;height:61.33em;" width="1950" height="736"/></p>
<ol start="2">
<li>In the next screen, we can create our Batch AI service.</li>
<li>The screen after that asks for the name, the subscription, the resource group, and the location for our Batch AI service workspace. The workspace is where the cluster, experiments, and file server can be added.</li>
</ol>
<ol start="4">
<li>The <span class="packt_screen">Batch AI Cluster</span> will provide the computing power for running your experiments. We can provide basic information, such as the number of VMs, the VM type, the user account details, and the network ...</li></ol></article></section></div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">ACI</h1>
                </header>
            
            <article>
                
<p>As a data scientist, after we have trained our machine learning model, we may want to deploy the model as a web service for real-time or batch scoring. <span>When we train our machine learning model, we use a certain framework and libraries. In most cases, the same environment should be available in our deployment environment</span>. Containers are a fast and simple way to create such an environment, in which we can host our model and dependencies. Containers can be created easily with ACI. As data scientists, we can use AML to deploy our machine learning model as a web service to an ACI. This way, we can development test our model and then deploy it in production. For more details on ACI, refer to the following website: <a href="https://docs.microsoft.com/en-us/azure/container-instances/container-instances-overview">https://docs.microsoft.com/en-us/azure/container-instances/container-instances-overview</a>.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">AKS</h1>
                </header>
            
            <article>
                
<p>Kubernetes is an open source project for managing applications that are hosted in containers. AKS is a managed Kubernetes service that makes it easy to use Kubernetes. Once you test your machine learning model, you can deploy it to a scalable cluster with AKS. You can then have a scalable web service for your machine learning model. You can use AML to deploy your model to AKS. For more details on AKS, refer to the following website: <a href="https://docs.microsoft.com/en-us/azure/aks/intro-kubernetes">https://docs.microsoft.com/en-us/azure/aks/intro-kubernetes</a>.</p>
<p> </p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter, we have learned about the different types of compute options that are available for you to scale your machine learning training and deployment. We learned about the vertical and horizontal scaling compute options that can be used to provide you with a large amount of compute power for your machine learning projects.</p>
<p>In the next chapter, we will learn about the machine learning server, which can be used for on-premise deployments.</p>


            </article>

            
        </section>
    </div>



  </body></html>