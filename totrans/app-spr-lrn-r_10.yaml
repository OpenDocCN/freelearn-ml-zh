- en: '*Appendix*'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*附录*'
- en: About
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 关于
- en: This section is included to assist the students to perform the activities present
    in the book. It includes detailed steps that are to be performed by the students
    to complete and achieve the objectives of the book.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本节包含的内容旨在帮助学生执行书中的活动。它包括学生为完成和实现书中的目标而需要执行的详细步骤。
- en: 'Chapter 1: R for Advanced Analytics'
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第一章：R 高级分析
- en: 'Activity 1: Create an R Markdown File to Read a CSV File and Write a Summary
    of Data'
  id: totrans-4
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动一：创建 R Markdown 文件以读取 CSV 文件并编写数据摘要
- en: Start the RStudio and navigate to **Files** | **New Files** | **R Markdown**.
  id: totrans-5
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动 RStudio 并导航到 **文件** | **新建文件** | **R Markdown**。
- en: 'On the New R Markdown window, provide the **Title** and **Author** name, as
    illustrated in the following screenshot. Ensure that you select the **Word** option
    under the **Default Output Format** section:![Figure 1.13: Creating a new R Markdown
    file in Rstudio'
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在新的 R Markdown 窗口中，提供 **标题** 和 **作者** 名称，如图所示。确保在 **默认输出格式** 部分下选择 **Word**
    选项：![图 1.13：在 RStudio 中创建新的 R Markdown 文件]
- en: '](img/C12624_01_121.jpg)'
  id: totrans-7
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片 C12624_01_121.jpg]'
- en: 'Figure 1.13: Creating a new R Markdown file in Rstudio'
  id: totrans-8
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1.13：在 RStudio 中创建新的 R Markdown 文件
- en: 'Now, use the `read.csv()` method to read the `bank-full.csv` file:![Figure
    1.14: Using the read.csv method to read the data'
  id: totrans-9
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，使用 `read.csv()` 方法读取 `bank-full.csv` 文件：![图 1.14：使用 read.csv 方法读取数据]
- en: '](img/C12624_01_13.jpg)'
  id: totrans-10
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片 C12624_01_13.jpg]'
- en: 'Figure 1.14: Using the read.csv method to read the data'
  id: totrans-11
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1.14：使用 read.csv 方法读取数据
- en: 'Finally, print the summary into a word file using the `summary` method:'
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，使用 `summary` 方法将摘要打印到 word 文件中：
- en: '![Figure 1.15: Final output after using the summary method'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.15：使用 summary 方法后的最终输出]'
- en: '](img/C12624_01_14.jpg)'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 C12624_01_14.jpg]'
- en: 'Figure 1.15: Final output after using the summary method'
  id: totrans-15
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1.15：使用 summary 方法后的最终输出
- en: 'Activity 2: Create a List of Two Matrices and Access the Values'
  id: totrans-16
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动二：创建两个矩阵的列表并访问值
- en: 'Create two matrices of size `10 x 4` and `4 x 5` by randomly generated numbers
    from a binomial distribution (use `rbinom` method). Call the matrix `mat_A` and
    `mat_B`, respectively:'
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过从二项分布中随机生成数字创建两个大小为 `10 x 4` 和 `4 x 5` 的矩阵。分别命名为 `mat_A` 和 `mat_B`：
- en: '[PRE0]'
  id: totrans-18
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Now, store the two matrices in a list:'
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将两个矩阵存储在一个列表中：
- en: '[PRE1]'
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Using the list, access the row 4 and column 2 of `mat_A` and store it in variable
    `A`, and access row 2 and column 1 of `mat_B` and store it in variable `B`:'
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用列表访问 `mat_A` 的第 4 行和第 2 列，并将其存储在变量 `A` 中，并访问 `mat_B` 的第 2 行和第 1 列，并将其存储在变量
    `B` 中：
- en: '[PRE2]'
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Multiply the `A` and `B` matrices and subtract from row 2 and column 1 of `mat_A`:'
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `A` 和 `B` 矩阵相乘，并从 `mat_A` 的第 2 行和第 1 列中减去：
- en: '[PRE3]'
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The output is as follows:'
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE4]'
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Activity 3: Create a DataFrame with Five Summary Statistics for All Numeric
    Variables from Bank Data Using dplyr and tidyr'
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动三：使用 dplyr 和 tidyr 从银行数据创建包含所有数值变量的五个汇总统计量的 DataFrame
- en: 'Import the `dplyr` and `tidyr` packages in the system:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在系统中导入 `dplyr` 和 `tidyr` 包：
- en: '[PRE5]'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Create the `df` DataFrame and import the file into it:'
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建 `df` DataFrame 并将其文件导入其中：
- en: '[PRE6]'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Extract all numeric variables from bank data using `select()`, and compute
    min, 1st quartile, 3rd quartile, median, mean, max, and standard deviation using
    the `summarise_all()` method:'
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `select()` 从银行数据中提取所有数值变量，并使用 `summarise_all()` 方法计算最小值、1st 四分位数、3rd 四分位数、中位数、均值、最大值和标准差：
- en: '[PRE7]'
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'The result is a wide data frame. 4 variable, 7 measures:'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 结果是一个宽数据框。4 个变量，7 个度量：
- en: '[PRE8]'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Store the result in a DataFrame of wide format named `df_wide`, reshape it
    using the `tidyr` functions, and, finally, convert the wide format to deep, use
    the gather, separate, and spread functions of the `tidyr` package:'
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将结果存储在名为 `df_wide` 的宽格式 DataFrame 中，使用 `tidyr` 函数对其进行重塑，最后将宽格式转换为深度格式，使用 `tidyr`
    包的 gather、separate 和 spread 函数：
- en: '[PRE9]'
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The output is as follows:'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE10]'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Chapter 2: Exploratory Analysis of Data'
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第二章：数据探索分析
- en: 'Activity 4: Plotting Multiple Density Plots and Boxplots'
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动四：绘制多个密度图和箱线图
- en: 'First, load the necessary libraries and packages in the RStudio:'
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，在 RStudio 中加载必要的库和包：
- en: '[PRE11]'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Read the `bank-additional-full.csv` dataset in a DataFrame named `df`:'
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `bank-additional-full.csv` 数据集读取到名为 `df` 的 DataFrame 中：
- en: '[PRE12]'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Define the `plot_grid_numeric` function for density plot:'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义 `plot_grid_numeric` 函数用于密度图：
- en: '[PRE13]'
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Plot the density plot for the `campaign`, `pdays`, `previous`, and `emp.var.rate`
    variables:'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制 `campaign`、`pdays`、`previous` 和 `emp.var.rate` 变量的密度图：
- en: '[PRE14]'
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'The output is as follows:'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.27: Density plot for the campaign, pdays, previous, and emp.var.rate
    variables'
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 2.27：`campaign`、`pdays`、`previous` 和 `emp.var.rate` 变量的密度图]'
- en: '](img/C12624_02_25.jpg)'
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片 C12624_02_25.jpg]'
- en: 'Figure 2.27: Density plot for the campaign, pdays, previous, and emp.var.rate
    variables'
  id: totrans-53
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2.27：展示 pdays、previous、emp.var.rate 变量的密度图
- en: Observe that the interpretations we obtained using the histogram are visibly
    true in density plot as well. Hence, this serves as another alternative plot for
    looking at the same trend.
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 观察到我们使用直方图获得的解释在密度图中也明显为真。因此，这可以作为查看相同趋势的另一种替代图表。
- en: 'Repeat step 4 for boxplot:'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对步骤 4 进行重复以生成箱线图：
- en: '[PRE15]'
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'The output is as follows:'
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.28: Boxplot for the campaign, pdays, previous, and emp.var.rate
    variables'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.28：展示 pdays、previous、emp.var.rate 变量的箱线图'
- en: '](img/C12624_02_26.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/C12624_02_26.jpg)'
- en: 'Figure 2.28: Boxplot for the campaign, pdays, previous, and emp.var.rate variables'
  id: totrans-60
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2.28：展示 pdays、previous、emp.var.rate 变量的箱线图
- en: Now, let's explore the last four numeric variable of the dataset, that is, `nr.employed`,
    `euribor3m`, `cons.conf.index`, and `duration`, and see whether we could derive
    some meaningful insights.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们探索数据集的最后四个数值变量，即 `nr.employed`、`euribor3m`、`cons.conf.index` 和 `duration`，看看我们是否能得出一些有意义的见解。
- en: 'Chapter 3: Introduction to Supervised Learning'
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第三章：监督学习简介
- en: 'Activity 5: Draw a Scatterplot between PRES and PM2.5 Split by Months'
  id: totrans-63
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动五：按月份在 PRES 和 PM2.5 之间绘制散点图
- en: 'Import the `ggplot2` package into the system:'
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `ggplot2` 包导入系统：
- en: '[PRE16]'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: In `ggplot`, assign the component of the `a()` method with the variable `PRES`.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `ggplot` 中，将 `a()` 方法的组件分配给变量 `PRES`。
- en: '[PRE17]'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: In the next layer of the `geom_smooth()` method, passing `colour = "blue"` to
    differentiate.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `geom_smooth()` 方法的下一层中，通过传递 `colour = "blue"` 来区分。
- en: '[PRE18]'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Finally, in the `facet_wrap()` layer, use the `month` variable to draw a separate
    segregation for each month.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，在 `facet_wrap()` 层中，使用 `month` 变量为每个月绘制单独的隔离图。
- en: '[PRE19]'
  id: totrans-71
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'The final code will look like this:'
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 最终代码将如下所示：
- en: '[PRE20]'
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'The plot is as follows:'
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图形如下：
- en: '![Figure 3.19: Scatterplot showing the relationship between PRES and PM2.5'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.19：展示 PRES 和 PM2.5 之间关系的散点图'
- en: '](img/C12624_03_13.jpg)'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/C12624_03_13.jpg)'
- en: 'Figure 3.19: Scatterplot showing the relationship between PRES and PM2.5'
  id: totrans-77
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3.19：显示 PRES 和 PM2.5 之间关系的散点图
- en: 'Activity 6: Transforming Variables and Deriving New Variables to Build a Model'
  id: totrans-78
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动六：转换变量并推导新变量以构建模型
- en: 'Perform the following steps for building the model:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 构建模型时请执行以下步骤：
- en: 'Import the required libraries and packages into the system:'
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将所需的库和包导入系统：
- en: '[PRE21]'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Combine the year, month, day, and hour into a `datetime` variable:'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将年、月、日和小时合并为一个 `datetime` 变量：
- en: '[PRE22]'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Remove the rows with missing values in any column:'
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除任何列中存在缺失值的行：
- en: '[PRE23]'
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Use the `rollapply()` method from the package `zoo` to compute the moving average
    of PM2.5; this is to smoothen any noise from a reading of PM2.5:'
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `zoo` 包中的 `rollapply()` 方法计算 PM2.5 的移动平均值；这是为了平滑 PM2.5 读取中的任何噪声：
- en: '[PRE24]'
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Create two levels of the PM25 pollution, `0–Normal`, `1-Above Normal`. We can
    also create more than two levels; however, for logistic regression, which works
    best with binary classification, we have used two levels:'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建 PM25 污染的两个级别，`0–正常`，`1-高于正常`。我们也可以创建超过两个级别；然而，对于最佳适用于二元分类的逻辑回归，我们使用了两个级别：
- en: '[PRE25]'
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Merge the resulting data frame (PM25_three_hour_pm25_avg ) with the values
    of other environmental variables such as `TEMP`, `DEWP`, and `Iws`, which we used
    in the linear regression model:'
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将结果数据框（PM25_three_hour_pm25_avg）与其他环境变量的值合并，例如我们在线性回归模型中使用的 `TEMP`、`DEWP` 和
    `Iws`：
- en: '[PRE26]'
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Fit the generalized linear model (`glm`) on `pollution_level` using the TEMP,
    DEWP and Iws variables:'
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 TEMP、DEWP 和 Iws 变量在 `pollution_level` 上拟合广义线性模型 (`glm`)：
- en: '[PRE27]'
  id: totrans-93
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Summarize the model:'
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 总结模型：
- en: '[PRE28]'
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'The output is as follows:'
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE29]'
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Chapter 4: Regression'
  id: totrans-98
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第四章：回归
- en: 'Activity 7: Printing Various Attributes Using Model Object Without Using the
    summary Function'
  id: totrans-99
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动七：不使用 `summary` 函数使用模型对象打印各种属性
- en: 'First, print the coefficient values using the following command. Make sure
    the output is like the output of the `summary` function using the `coefficients`
    option. The coefficients are the fitted values from the model that uses the OLS
    algorithm:'
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，使用以下命令打印系数值。确保输出类似于使用 `coefficients` 选项的 `summary` 函数的输出。系数是从使用 OLS 算法的模型中得到的拟合值：
- en: '[PRE30]'
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'The output is as follows:'
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE31]'
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Find the residual value (difference) of the predicted and actual values of PM2.5,
    which should be as small as possible. Residual reflects how far the fitted values
    using the coefficients are from the actual value.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查找预测值和实际PM2.5值之间的残差值（差异），应尽可能小。残差反映了使用系数得到的拟合值与实际值之间的距离。
- en: '[PRE32]'
  id: totrans-105
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'The output is as follows:'
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE33]'
  id: totrans-107
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Next, find the fitted values that should be closer to the actual PM2.5 for
    the best model. Using the coefficients, we can compute the fitted values:'
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，找到最适合模型的最佳PM2.5实际值的拟合值。使用系数，我们可以计算拟合值：
- en: '[PRE34]'
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'The output is as follows:'
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE35]'
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Find the R-Squared values. They should look the same as the one you obtained
    in the output of the `summary` function next to the text Multiple R-squared. R-Square
    helps in evaluating the model performance. If the value is closer to 1, the better
    the model is:'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查找R-Squared值。它们应该与你在`summary`函数输出中“Multiple R-squared”旁边的值相同。R-Square有助于评估模型性能。如果值接近1，则模型越好：
- en: '[PRE36]'
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'The output is as follows:'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE37]'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Find the F-Statistic values. Make sure the output should look same as the one
    you obtained in the output of the `summary` function next to the text F-Statistics.
    This will tell you if your model fits better than just using the mean of the target
    variable. In many practical applications, F-Statistic is used along with p-values:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查找F-Statistic值。确保输出应与你在`summary`函数输出中“F-Statistics”旁边的输出相同。这将告诉你模型是否比仅使用目标变量的均值拟合得更好。在许多实际应用中，F-Statistic与p-values一起使用：
- en: '[PRE38]'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'The output is as follows:'
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE39]'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'Finally, find the coefficient p-values and make sure the values should look
    the same as the one you obtained in the output of the `summary` function under
    Coefficients for each variable. It will be present under the column titled `Pr(>|t|):`.
    If the value is less than 0.05, the variable is statistically significant in predicting
    the target variable:'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，找到系数p-values，并确保值应与你在`summary`函数中每个变量的“Coefficients”部分下获得的值相同。它将出现在标题为“Pr(>|t|)”的列下。如果值小于0.05，则变量在预测目标变量时具有统计学意义：
- en: '[PRE40]'
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'The output is as follows:'
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE41]'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE41]'
- en: The attributes of a model are equally essential to understand, especially in
    linear regression than to obtain the prediction. They help in interpreting the
    model well and connect the problem to its real use case.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 模型的属性对于理解同样重要，尤其是在线性回归中，以便获得预测。它们有助于很好地解释模型并将问题与其实际用例联系起来。
- en: 'Chapter 5: Classification'
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第5章：分类
- en: 'Activity 8: Building a Logistic Regression Model with Additional Features'
  id: totrans-126
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动8：使用附加特征构建逻辑回归模型
- en: 'Create a copy of the `df_new` data frame into `df_copy` for the activity:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建`df_new`数据框的副本到`df_copy`以进行活动：
- en: '[PRE42]'
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'Create new features for square root, square power, and cube power transformations
    for each of the three selected numeric features:'
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为每个选定的三个数值特征创建新的特征，包括平方根、平方幂和立方幂转换：
- en: '[PRE43]'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'Divide the `df_copy` dataset into train and test in 70:30 ratio:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`df_copy`数据集分为70:30的训练和测试比例：
- en: '[PRE44]'
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'Fit the logistic regression model with the new training data:'
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用新的训练数据拟合逻辑回归模型：
- en: '[PRE45]'
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'Predict the responses using the fitted model on the train data and create a
    confusion matrix:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用训练数据上的拟合模型预测响应并创建混淆矩阵：
- en: '[PRE46]'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'The output is as follows:'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE47]'
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'Predict the responses using the fitted model on test data and create a confusion
    matrix:'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用拟合模型在测试数据上预测响应并创建混淆矩阵：
- en: '[PRE48]'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'The output is as follows:'
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE49]'
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'Activity 9: Create a Decision Tree Model with Additional Control Parameters'
  id: totrans-143
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动9：创建具有附加控制参数的决策树模型
- en: Load the `rpart` library.
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载`rpart`库。
- en: '[PRE50]'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'Create the control object for decision tree with new values `minsplit =15`
    and `cp = 0.00`:'
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建具有新值`minsplit =15`和`cp = 0.00`的决策树控制对象：
- en: '[PRE51]'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'Fit the tree model with the train data and pass the control object to the `rpart`
    function:'
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用训练数据拟合树模型并将控制对象传递给`rpart`函数：
- en: '[PRE52]'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'Plot the complexity parameter plot to see how the tree performs at different
    values of `CP`:'
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制复杂度参数图以查看树在不同`CP`值下的表现：
- en: '[PRE53]'
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'The output is as follows:'
  id: totrans-152
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 5.10: Decision tree output'
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图5.10：决策树输出'
- en: '](img/C12624_05_071.jpg)'
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![img/C12624_05_071.jpg](img/C12624_05_071.jpg)'
- en: 'Figure 5.10: Decision tree output'
  id: totrans-155
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5.10：决策树输出
- en: 'Use the fitted model to make predictions on train data and create the confusion
    matrix:'
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用拟合模型在训练数据上做出预测并创建混淆矩阵：
- en: '[PRE54]'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'The output is as follows:'
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE55]'
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'Use the fitted model to make predictions on test data and create the confusion
    matrix:'
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用拟合的模型对测试数据进行预测并创建混淆矩阵：
- en: '[PRE56]'
  id: totrans-161
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'The output is as follows:'
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE57]'
  id: totrans-163
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'Activity 10: Build a Random Forest Model with a Greater Number of Trees'
  id: totrans-164
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动10：构建具有更多树的随机森林模型
- en: 'First, import the `randomForest` library using the following command:'
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，使用以下命令导入`randomForest`库：
- en: '[PRE58]'
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE58]'
- en: Build random forest model with all independent features available. Define the
    number of trees in the model to be 500.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用所有可用独立特征构建随机森林模型。将模型中的树的数量定义为500。
- en: '[PRE59]'
  id: totrans-168
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'Evaluate on training data:'
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在训练数据上评估：
- en: '[PRE60]'
  id: totrans-170
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE60]'
- en: 'The output is as follows:'
  id: totrans-171
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下为输出：
- en: '[PRE61]'
  id: totrans-172
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'Evaluate on test data:'
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在测试数据上评估：
- en: '[PRE62]'
  id: totrans-174
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'The output is as follows:'
  id: totrans-175
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE63]'
  id: totrans-176
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'Chapter 6: Feature Selection and Dimensionality Reduction'
  id: totrans-177
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第6章：特征选择和降维
- en: 'Activity 11: Converting the CBWD Feature of the Beijing PM2.5 Dataset into
    One-Hot Encoded Columns'
  id: totrans-178
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动11：将北京PM2.5数据集的CBWD特征转换为单热编码列
- en: 'Read the Beijing PM2.5 dataset into the DataFrame `PM25`:'
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将北京PM2.5数据集读取到DataFrame `PM25`中：
- en: '[PRE64]'
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'Create a variable `cbwd_one_hot` for storing the result of the `dummyVars`
    function with `~ cbwd` as its first argument:'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个变量`cbwd_one_hot`来存储`dummyVars`函数的结果，其第一个参数为`~ cbwd`：
- en: '[PRE65]'
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'Use the output of the `predict()` function on `cbwd_one_hot` and case it as
    DataFrame:'
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`predict()`函数在`cbwd_one_hot`上的输出，并将其转换为DataFrame：
- en: '[PRE66]'
  id: totrans-184
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'Remove the original `cbwd` variable from the `PM25` DataFrame:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从`PM25` DataFrame中删除原始的`cbwd`变量：
- en: '[PRE67]'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'Using the `cbind()` function, add `cbwd_one_hot` to the `PM25` DataFrame:'
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`cbind()`函数，将`cbwd_one_hot`添加到`PM25` DataFrame中：
- en: '[PRE68]'
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'Print the top 6 rows of `PM25`:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打印`PM25`的前6行：
- en: '[PRE69]'
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'The output of the previous command is as follows:'
  id: totrans-191
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 上一条命令的输出如下：
- en: '[PRE70]'
  id: totrans-192
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'Observe the variable `cbwd` in the output of the `head(PM25)` command: it is
    now transformed into one-hot encoded columns with the `NE`, `NW`, and `SE` suffixes.'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 观察`head(PM25)`命令的输出中的变量`cbwd`：它现在已转换为带有`NE`、`NW`和`SE`后缀的单热编码列。
- en: 'Chapter 7: Model Improvements'
  id: totrans-194
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第7章：模型改进
- en: 'Activity 12: Perform Repeated K-Fold Cross Validation and Grid Search Optimization'
  id: totrans-195
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动12：执行重复K折交叉验证和网格搜索优化
- en: 'Load the required packages `mlbench`, `caret`, and `dplyr` for the exercise:'
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载用于练习所需的包`mlbench`、`caret`和`dplyr`：
- en: '[PRE71]'
  id: totrans-197
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE71]'
- en: 'Load the `PimaIndianDiabetes` dataset into memory from `mlbench` package:'
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从`mlbench`包中将`PimaIndianDiabetes`数据集加载到内存中：
- en: '[PRE72]'
  id: totrans-199
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE72]'
- en: 'Set a `seed` value as `2019` for reproducibility:'
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置一个`seed`值为`2019`以确保可重复性：
- en: '[PRE73]'
  id: totrans-201
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE73]'
- en: 'Define the K-Fold validation object using the `trainControl` function from
    the `caret` package and define `method` as `repeatedcv` instead of `cv`. Define
    an additional construct in the `trainControl` function for the number of repeats
    in the validation `repeats = 10`:'
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`caret`包中的`trainControl`函数定义K折验证对象，并将`method`定义为`repeatedcv`而不是`cv`。在`trainControl`函数中定义一个额外的结构来指定验证的重复次数`repeats
    = 10`：
- en: '[PRE74]'
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'Define the grid for hyperparameter `mtry` of random forest model as `(3,4,5)`:'
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将随机森林模型的超参数`mtry`的网格定义为`(3,4,5)`：
- en: '[PRE75]'
  id: totrans-205
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE75]'
- en: 'Fit the model with the grid values, cross-validation object, and random forest
    classifier:'
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用网格值、交叉验证对象和随机森林分类器拟合模型：
- en: '[PRE76]'
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'Study the model performance by printing the average accuracy and standard deviation
    of accuracy:'
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过打印平均准确率和准确率标准差来研究模型性能：
- en: '[PRE77]'
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE77]'
- en: 'Study the model performance by plotting the accuracy across different values
    of the hyperparameter:'
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过绘制不同超参数值下的准确率来研究模型性能：
- en: '[PRE78]'
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE78]'
- en: 'The final output is as follows:'
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 最终输出如下：
- en: '![Figure 7.17: Model performance accuracy across different values of the hyperparameter'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '![图7.17：不同超参数值下的模型性能准确率'
- en: '](img/C12624_07_16.jpg)'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12624_07_16.jpg)'
- en: 'Figure 7.17: Model performance accuracy across different values of the hyperparameter'
  id: totrans-215
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图7.17：不同超参数值下的模型性能准确率
- en: In this plot, we can see that we perform repeated k-fold cross-validation and
    grid search optimization on the same model.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 在此图中，我们可以看到我们对同一模型执行了重复的k折交叉验证和网格搜索优化。
- en: 'Chapter 8: Model Deployment'
  id: totrans-217
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第8章：模型部署
- en: 'Activity 13: Deploy an R Model Using Plumber'
  id: totrans-218
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动13：使用Plumber部署R模型
- en: Create a `model.r` script that will load the required libraries, data, fit a
    regression model and necessary function to predict on unseen data.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个`model.r`脚本，该脚本将加载所需的库、数据、拟合回归模型以及必要的函数来对未见数据进行预测：
- en: 'Load the `mlbench` library that has the data for this activity:'
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载包含此活动数据的`mlbench`库：
- en: '[PRE79]'
  id: totrans-221
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'Load `BostonHousing` data into a DataFrame `df`:'
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`BostonHousing`数据加载到DataFrame `df`中：
- en: '[PRE80]'
  id: totrans-223
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE80]'
- en: 'Create train dataset using the first `400` rows of df and test with the remaining:'
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用df的前`400`行创建训练数据集，并使用剩余的数据进行测试：
- en: '[PRE81]'
  id: totrans-225
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE81]'
- en: Fit a logistic regression model using the `lm` function with dependent variable
    as `medv` (median value) and 10 independent variables, such as, `crim`, `zn`,
    `indus`, `chas`, `nox`, `rm`, `age`, `dis`, `rad`, and `tax`.
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`lm`函数拟合逻辑回归模型，以`medv`（中位数）作为因变量和10个自变量，例如`crim`、`zn`、`indus`、`chas`、`nox`、`rm`、`age`、`dis`、`rad`和`tax`。
- en: '[PRE82]'
  id: totrans-227
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE82]'
- en: 'Define a model endpoint as `predict_data`; this will be used as the API endpoint
    for Plumber:'
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义一个模型端点为`predict_data`；这将被用作Plumber的API端点：
- en: '[PRE83]'
  id: totrans-229
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE83]'
- en: 'Within the function, convert the parameters to numeric and factor (since the
    API call will pass them as string only):'
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在函数内部，将参数转换为数值和因子（因为API调用将只传递字符串）：
- en: '[PRE84]'
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE84]'
- en: 'Wrap the 10 independent features for the model as a DataFrame named `sample`,
    with the same name for the columns:'
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将模型的10个独立特征作为名为`sample`的DataFrame进行包装，列名保持一致：
- en: '[PRE85]'
  id: totrans-233
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE85]'
- en: 'Pass the `sample` DataFrame to the predict function with the model (created
    in the 4th step) and return predictions:'
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`sample` DataFrame传递给预测函数，并使用在第4步中创建的模型，返回预测结果：
- en: '[PRE86]'
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE86]'
- en: 'The entire `model.r` file will look like this:'
  id: totrans-236
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 整个`model.r`文件将看起来像这样：
- en: '[PRE87]'
  id: totrans-237
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE87]'
- en: Load the `plumber` library.
  id: totrans-238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载`plumber`库。
- en: '[PRE88]'
  id: totrans-239
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE88]'
- en: Create a plumber object using the `plumb` function and pass the `model.r` file
    (created in part 1).
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`plumb`函数创建一个plumber对象，并传递第1部分中创建的`model.r`文件。
- en: '[PRE89]'
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE89]'
- en: Run the plumber object by passing the hostname as `localhost` or `127.0.0.1`
    and a port, say `8080`.
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过传递主机名`localhost`或`127.0.0.1`和一个端口号，例如`8080`，运行plumber对象。
- en: '[PRE90]'
  id: totrans-243
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE90]'
- en: Test the deployed model using the browser or Postman and invoke the API.
  id: totrans-244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用浏览器或Postman测试部署的模型并调用API。
- en: 'API invoke:'
  id: totrans-245
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: API调用：
- en: http://127.0.0.1:8080/predict_
  id: totrans-246
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: http://127.0.0.1:8080/predict_
- en: ata?crim=0.01&zn=18&indus=2.3&chas=0&nox=0.5&rm=6&
  id: totrans-247
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ata?crim=0.01&zn=18&indus=2.3&chas=0&nox=0.5&rm=6&
- en: age=65&dis=4&rad=1&tax=242
  id: totrans-248
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: age=65&dis=4&rad=1&tax=242
- en: '[PRE91]'
  id: totrans-249
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE91]'
- en: 'Chapter 9: Capstone Project - Based on Research Papers'
  id: totrans-250
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第9章：基于研究论文的综合项目
- en: 'Activity 14: Getting the Binary Performance Step with classif.C50 Learner Instead
    of classif.rpart'
  id: totrans-251
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动14：使用classif.C50学习器而不是classif.rpart获取二进制性能步骤
- en: 'Define the algorithm adaptation methods:'
  id: totrans-252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义算法自适应方法：
- en: '[PRE92]'
  id: totrans-253
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE92]'
- en: 'The output is as follows:'
  id: totrans-254
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE93]'
  id: totrans-255
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE93]'
- en: 'Use the problem transformation method, and change the `classif.rpart` learner
    to `classif.C50`:'
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用问题转换方法，并将`classif.rpart`学习器更改为`classif.C50`：
- en: '[PRE94]'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE94]'
- en: Note
  id: totrans-258
  prefs:
  - PREF_IND
  - PREF_H4
  type: TYPE_NORMAL
  zh: 注意
- en: You need to install the `C50` package for this code to work.
  id: totrans-259
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您需要安装`C50`包以确保此代码能够运行。
- en: 'Print the learner details:'
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打印学习器详细信息：
- en: '[PRE95]'
  id: totrans-261
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE95]'
- en: 'The output is as follows:'
  id: totrans-262
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE96]'
  id: totrans-263
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE96]'
- en: 'Print the multilabel learner details:'
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打印多标签学习器详细信息：
- en: '[PRE97]'
  id: totrans-265
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE97]'
- en: 'The output is as follows:'
  id: totrans-266
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE98]'
  id: totrans-267
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE98]'
- en: 'Train the model using the same dataset with training dataset:'
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用与训练数据集相同的数据集来训练模型：
- en: '[PRE99]'
  id: totrans-269
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE99]'
- en: 'Print the model details:'
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打印模型详细信息：
- en: '[PRE100]'
  id: totrans-271
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE100]'
- en: 'The output is as follows:'
  id: totrans-272
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE101]'
  id: totrans-273
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE101]'
- en: 'Predict the output using the `C50` model we created for the test dataset:'
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用我们为测试数据集创建的`C50`模型进行预测输出：
- en: '[PRE102]'
  id: totrans-275
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE102]'
- en: 'The output is as follows:'
  id: totrans-276
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE103]'
  id: totrans-277
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE103]'
- en: 'Print the performance measures:'
  id: totrans-278
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打印性能度量：
- en: '[PRE104]'
  id: totrans-279
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE104]'
- en: 'The output is as follows:'
  id: totrans-280
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE105]'
  id: totrans-281
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE105]'
- en: 'Print the performance measures for the `listMeasures` variable:'
  id: totrans-282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打印`listMeasures`变量的性能度量：
- en: '[PRE106]'
  id: totrans-283
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE106]'
- en: 'The output is as follows:'
  id: totrans-284
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE107]'
  id: totrans-285
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE107]'
- en: 'Run the resampling with cross-validation method:'
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用交叉验证方法进行重采样：
- en: '[PRE108]'
  id: totrans-287
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE108]'
- en: 'The output is as follows:'
  id: totrans-288
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE109]'
  id: totrans-289
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE109]'
- en: 'Print the binary performance:'
  id: totrans-290
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打印二进制性能：
- en: '[PRE110]'
  id: totrans-291
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE110]'
- en: 'The output is as follows:'
  id: totrans-292
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE111]'
  id: totrans-293
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE111]'
