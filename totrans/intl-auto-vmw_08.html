<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">ML-Based Intelligent Log Management</h1>
                </header>
            
            <article>
                
<p><span>In this chapter, we will explore the architecture of vRealize Log Insight and how it works. We'll also discuss how intelligent data summarization happens and its ability to cluster similar messages together. vRealize Log Insight also has automatic schema extraction. It has the capability to perform rapid troubleshooting across physical, virtual, and cloud environments by indexing and intelligent grouping, which assists in searching for quick resolutions with exact root cause analysis. </span></p>
<p>We will learn to leverage vRealize Log Insight for automated remediation, and the logic behind indexing and message grouping, by integrating vRealize Log Insight with third-party tools. </p>
<p><span>We will cover the following topics in this chapter:</span></p>
<ul>
<li>Intelligent log management with vRealize Log Insight</li>
<li class="h1">Cloud operations stages</li>
<li class="h1"><strong>VMware vReaIize Network Insight</strong> (<strong>vRNI</strong>)</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Technical requirements</h1>
                </header>
            
            <article>
                
<p>You can download the following:</p>
<ul>
<li> VMware vRealize Log Insight 4.6.2 from <a href="https://my.vmware.com/web/vmware/details?downloadGroup=VRLI-462&amp;productId=676&amp;rPId=28154">https://my.vmware.com/web/vmware/details?downloadGroup=VRLI-462&amp;productId=676&amp;rPId=28154</a></li>
<li>VMware vRealize Operations Manager 6.7.0 from <a href="https://my.vmware.com/web/vmware/details?downloadGroup=VROPS-670&amp;productId=676&amp;rPId=28154">https://my.vmware.com/web/vmware/details?downloadGroup=VROPS-670&amp;productId=676&amp;rPId=28154</a></li>
<li>VMware vRealize Network Insight 4.0.0 from <a href="https://my.vmware.com/web/vmware/details?downloadGroup=VRNI-400&amp;productId=832&amp;rPId=29784">https://my.vmware.com/web/vmware/details?downloadGroup=VRNI-400&amp;productId=832&amp;rPId=29784</a></li>
<li>Log Intelligence from <a href="https://cloud.vmware.com/log-intelligence">https://cloud.vmware.com/log-intelligence</a></li>
</ul>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Intelligent log management with vRealize Log Insight</h1>
                </header>
            
            <article>
                
<p>It's important that VMware customers understand comprehensive cloud-management platform offerings, and that this is a small part of automating and streamlining their data center operations efforts. </p>
<p>We can plan a log-management solution with vRealize Log Insight as a single point solution. We should understand the larger and more strategic SDDC management story. Log management is a point solution and it fits into the bigger picture and elevate the discussion. Log Insight is extensible with the vast array of content packs available. Unlike other solutions, it will not charge more as the data volume grows.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Log Intelligence value propositions</h1>
                </header>
            
            <article>
                
<p>VMware vRealize Operations and vRealize Log Insight assist cloud service providers to provide services across physical, virtual, and cloud infrastructures. Both can together correlate structured and unstructured data from applications to storage in a simple, easy-to-use, unified console. This is achieved by providing control over performance, capacity, and configuration for accurate future-planning, which helps in taking proactive action with policy-based configuration. vRealize Log Insight adds value to vRealize Operations by providing real-time log management based on intelligent grouping with innovative search capabilities for a quick resolution and enhanced operational analytics.</p>
<p>The following table shows <strong>Log Intelligence</strong> (<strong>LInt</strong>) core to VMware Cloud on AWS features:</p>
<table border="1" style="border-collapse: collapse;width: 100%">
<tbody>
<tr>
<td class="CDPAlignCenter CDPAlign">
<p><strong>VMC on AWS + LInt features</strong></p>
</td>
<td class="CDPAlignCenter CDPAlign">
<p><strong>LInt core to VMC</strong></p>
</td>
<td class="CDPAlignCenter CDPAlign">
<p><strong>LInt 30 day free trial</strong></p>
</td>
<td class="CDPAlignCenter CDPAlign">
<p><strong>LInt paid (price per GB/month)</strong></p>
</td>
</tr>
<tr>
<td>
<p class="CDPAlignCenter CDPAlign">Audit log collection</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign">Unlimited</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign">Unlimited</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign">Unlimited</p>
</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign">
<p>Non-audit log collection</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"> 1 GB/Day</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"> Unlimited</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign">On-Demand/Customer Chosen Level</p>
</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign">
<p>Log retention</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"> 7 Days</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign">30 Days</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign">30 Days</p>
</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign">
<p>Audit log content</p>
</td>
<td class="CDPAlignCenter CDPAlign">
<p>Available</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign">Available</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign">Available</p>
</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign">
<p>Visualization (dashboard)</p>
</td>
<td class="CDPAlignCenter CDPAlign">
<p>Available</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign">Available</p>
</td>
<td class="CDPAlignCenter CDPAlign">
<p> Available</p>
</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign">
<p>Search and save query</p>
</td>
<td class="CDPAlignLeft CDPAlign">
<p class="CDPAlignCenter CDPAlign"> Available</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign">Available</p>
</td>
<td class="CDPAlignCenter CDPAlign">
<p>Available</p>
</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign">
<p>Long term archiving</p>
</td>
<td class="CDPAlignRight CDPAlign"/>
<td>
<p class="CDPAlignCenter CDPAlign">Available</p>
</td>
<td class="CDPAlignCenter CDPAlign">
<p>Available</p>
</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign">
<p>Alerts</p>
</td>
<td/>
<td>
<p class="CDPAlignCenter CDPAlign">Available</p>
</td>
<td class="CDPAlignCenter CDPAlign">
<p> Available</p>
</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign">
<p>Notifications</p>
</td>
<td class="CDPAlignLeft CDPAlign"/>
<td>
<p class="CDPAlignCenter CDPAlign">Available</p>
</td>
<td class="CDPAlignCenter CDPAlign">
<p>Available</p>
</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign">
<p>Event forwarding</p>
</td>
<td/>
<td>
<p class="CDPAlignCenter CDPAlign">Available</p>
</td>
<td class="CDPAlignCenter CDPAlign">
<p> Available</p>
</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign">
<p>Non-audit log content</p>
</td>
<td/>
<td>
<p class="CDPAlignCenter CDPAlign">Available</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"> Available</p>
</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign">
<p>External web hooks</p>
</td>
<td/>
<td>
<p class="CDPAlignCenter CDPAlign">Available</p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"> Available</p>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p>DevOps end-to-end troubleshooting with <strong>Wavefront</strong> and <strong>Log Intelligence</strong> has the ability to cross-launch based on context (time, source, and custom tags ) and to extract metrics from logs.</p>
<p>The following diagram shows the data movement flow across Wavefront and Log Intelligence:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/a6a547f5-58d6-443a-b71d-a9c60615682c.png" style="width:23.50em;height:10.50em;"/></p>
<p>Developer teams get precise data from the Log Analytics tool after going through extensive filtering and they push this data to the <strong>Wavefront</strong> dashboard to get the desired output, which will help them to enhance application capabilities. This is a continuous cycle and all three tightly integrate with each other to achieve the final common objective.</p>
<p>Log Intelligence metrics have the following features:</p>
<ul>
<li>Ability to provide Number of critical errors and the along with number of warnings</li>
<li>Uses Wavefront as the centralized alerting dashboard</li>
<li>Forwards alerts raised from logs to Wavefront</li>
<li>Cross-launch of Alerts related to logs correlation</li>
<li>Application-aware correlation and cross-launches</li>
<li>Content across both metrics and log</li>
</ul>
<p class="mce-root"/>
<p>Wavefront is a cloud-native metrics-monitoring and analytics platform that is specifically designed to handle the high scale of modern cloud applications' velocity and dynamism. DevOps and developer teams who run true cloud-native apps (such as Box, and so on) use Wavefront to monitor their cloud services. Wavefront has capability to reach an <strong>unprecedented scale</strong>. The Wavefront platform collects metrics from distributed applications, containers, microservices, hybrid public cloud infrastructure, and even business data. Once metric data is in the Wavefront time-series database, we can apply powerful and flexible analytics in the form of the Wavefront Query Language.</p>
<p>Engineers use Wavefront to understand the performance of their cloud services and distributed applications at an unprecedented scale. We get instant visibility across all of our cloud services. We can troubleshoot faster and proactively alert and detect the leading indicators of anomalies with Wavefront. We have instant access and unified visibility drives agility in code release, enabling the same visibility across everything. Once Wavefront enters an organization, its adoption spreads across hundreds of engineers, enabling a self-service approach.</p>
<p>Wavefront is easy to implement and easy to scale with its analytics engine, the Wavefront Query Language, which has over 100 analytics functions within the Wavefront Query Language. It's easy to customize dashboards with analytics-driven visibility across cloud applications and infrastructures. Wavefront pricing is defined as per rate of ingestion and per host with vRealize Operations Manager. Customers can see metric rate consumption clearly, tweak it as needed, and use it for budgeting without any hidden costs. Wavefront data sources are native metrics ingestion <span><span>by integrating</span></span> open source agents, API, code libraries and events, metrics from logs, and other tools (DevOps and so on) . It can easily scale up to 4,000,000 <strong><span>packets per second</span></strong> (<strong>pps</strong>) . It has enterprise adoption across thousands of engineers within developer/DevOps teams. Wavefront has already proven SaaS offerings and successfully integrated with popular SaaS apps such as Box, Lyft, Intuit, Workday, and so on across thousands of developers.</p>
<p>Wavefront supports container technology, such as Docker, <strong>Pivotal Container Service</strong> (<strong>PKS</strong>),<span> Kubernetes, and <strong>Elastic Container Service</strong> (<strong>ECS</strong>), out of the box. Container metrics are added and scaled without any issues or performance degradation. It is built from the ground up to scale. Greenfield customers can also leverage LInt/Insight with Wavefront while non-greenfield customers can opt for conversion of logs to metrics for other logging tools.</span></p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>Wavefront is not an <strong>Access Policy Manager</strong> (<strong>APM</strong>) tool, but ingests APM metrics as any other APM tool. It also supports correlation with any other long term trending data source. It also supports code instrumentation with open source libraries, delivers applications visibility (StatsD, Micrometer, and DropWizard), and is ideal for microservices and dynamic custom applications at a high scale. Wavefront can complement existing APM tools. It supports predictive forecasting with Holt-Winters and <span><strong>Autoregressive Integrated Moving Average</strong> (</span><strong>ARIMA</strong>) forecasting algorithms. It can also integrate with more than 125 applications, and supports Azure, GCP, and AWS.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Log Intelligence key benefits for service providers</h1>
                </header>
            
            <article>
                
<p>LInt's key benefits for service providers are as follows:</p>
<ul>
<li>Proactive identification and remediation of emerging performance, capacity, and configuration issues achieve the highest levels of availability.</li>
<li>Continuous monitoring and automatic capacity management optimize scarce infrastructure resources.</li>
<li>There's comprehensive visibility across multiple tenants, applications, compute, storage and networking in a single console.</li>
<li>It has automated enforcement of IT policies, configuration standards, and regulatory requirements.</li>
<li>There's workload balancing for optimal placement of workloads based on the operational characteristics of the environment.</li>
<li><strong>Custom data centers</strong> (<strong>CDCs</strong>) allow service providers to combine hosts, clusters, and data centers from one or more vCenter environments and map those CDCs to individual tenants to create logical groupings of objectives, delivering full capacity management, planning, and support for all analysis badges.</li>
<li>It provides reduced OpEx and increased operational efficiency from accelerated troubleshooting times and improved <strong>mean time to resolution</strong> (<strong>MTTR</strong>) and reduced manual effort.</li>
</ul>
<p>Log Intelligence for VMware Cloud on AWS provides unified visibility into infrastructure and application logs across VMware Cloud on AWS, AWS, and on-premises SDDC. VMware Cloud on AWS  support its native audit logs through Log Intelligence for faster monitoring results and troubleshooting as a core service for real-time alerts on anomalies based on custom triggers/dashboards to visualize trends and effective notifications on custom alerts. It will provide a high-performance search function within logs for faster root-cause analysis with support for a broad range of applications from a single-pane-of-glass console.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Audit log examples</h1>
                </header>
            
            <article>
                
<p><span>VMC</span><span> customers can use the explore logs Log Intelligence capability to view the audit log examples within the <span class="packt_screen">Log Intelligence</span> tab. Samples of <span class="packt_screen">VMware Cloud</span> and <span class="packt_screen">Log Intelligence</span> tabs with sample view of VMC audit log information are as follows:</span></p>
<ul>
<li>Virtual machine created; virtual machine deleted; virtual machine modified; firewall rule created </li>
<li>Firewall rule deleted; firewall rule modified; NAT rule created; NAT rule deleted </li>
<li>IPSec VPN created; IPSec VPN deleted; IPSec VPN modified; Number of failed logins </li>
<li>Virtual machine power on failures; logical networks created; logical networks deleted</li>
</ul>
<p>The following screenshot shows the <span class="packt_screen">Log Intelligence</span> dashboard:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/0e3700f1-17a6-4012-a055-b70aad9a77dd.png"/></p>
<p><span>vRealize Operations and vRealize Log Insight can be used to manage workloads on service providers, private or public clouds, including vCloud Air.</span> <strong>VMware VRealize Business</strong> <span>(</span><strong>vRB</strong><span>) Operations and vRealize Log Insight are shipped as vApps and will run on any vSphere installed/certified hardware infrastructure.</span></p>
<p class="mce-root"/>
<p><strong>VMware Integrated OpenStack</strong> (<strong>VIO</strong>) is a version of OpenStack that includes adapters to VMware compute, network, and storage virtualization solutions. There are several use cases for VIO, which include more than just basic developer access to infrastructure resources. vRealize Operations and vRealize Log Insight can be used with OpenStack to use OpenStack in deploying the open API set. VIO is used for web-scale applications that rely on the open API, a management solution is needed to ensure SLAs and ongoing infrastructure management. We will go through cloud operations stages in the next section, which will explain how we can streamline the cloud operations process to save more OpEx with optimal service.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Cloud operations stages</h1>
                </header>
            
            <article>
                
<p>VMware provides a set of best practices for organizing, operating, and measuring success as customers move to the cloud. The goal is to give customers access to best practices so that they can get the most out of this transition.</p>
<p>Financial transparency, process maturity, organizational setup, and technology implementation are critical factors for success at every stage of the journey. </p>
<p>VMware defines the following stages for the journey into VMware Cloud computing:</p>
<ul>
<li>Standardize</li>
<li>Service Broker</li>
<li>Strategic partner</li>
</ul>
<p>The stages are described in the following sections.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Standardize</h1>
                </header>
            
            <article>
                
<p>We can include this stage with server consolidation and emphasize a cloud solution with a service catalog that end users can access on-demand from anywhere, anytime, and on any device. This will help in rapid deployment of services for all kind of users and applications, irrespective of their domain. Service catalog assists business users in a cloud environment by helping to do their daily tasks more efficiently and with more productivity.</p>
<p>We need the following capabilities in this stage:</p>
<ul>
<li><strong>TCO/ROI</strong>: Clear visibility of operating costs and assets value with their capability</li>
<li><strong>Business and IT users</strong>: Specialized skill sets on cloud computing</li>
<li>IT processes should be automated with all regulatory compliance</li>
<li>Continuous innovation with continuous improvement</li>
<li>Self-service on-demand provisioning portal for application provisioning</li>
<li>Seamless adaption of SaaS-based applications</li>
<li>Intelligent operations based on predictive analysis</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Service Broker</h1>
                </header>
            
            <article>
                
<p>We have to first design a common platform for service-driven cloud deployments. IT will act as a Service Broker to deliver business services in a cloud environment. IT can host cloud environments internally and externally by adding external capacity for current infrastructure or to give access to vendor-based SaaS applications to their business users. This way, IT can minimize development and provisioning times and better assist business objectives with enhanced quality of service and agility.</p>
<p>We need the following capabilities in this stage:</p>
<ul>
<li>Define application life cycle and design application with continuous development processes</li>
<li>Delivering services in a pay-as-you-go model </li>
<li>Automating most of the operation tasks by integrating all tools with a single interface</li>
<li>IT infrastructure/applications usage metering through showback/chargeback tool</li>
<li>Bifurcating CapEx and operating expenses</li>
<li>Transforming a project-based approach to demand-based for Cost optimization</li>
<li>Integrating all IT operational processes to get a single, unified console</li>
<li>Design on-demand service and development processes </li>
<li>SLA should be tightly aligned with the business objective</li>
<li>Services are defined and offered through the customized service catalog</li>
<li>Design cloud-level disaster recovery beyond regional boundaries</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Strategic partner</h1>
                </header>
            
            <article>
                
<p>Customers want efficient, scalable clouds, with a hybrid capability for their cloud environment in the final stage. IT can be consumed as a service with automation, policy-driven governance, and control across the cloud environment.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>This will also help with zero-touch operations supported by predictive and self-healing operational tool capabilities. Application mobility and device-independent access are perfect use cases of cloud computing.</p>
<p>IT is now acting as a strategic partner for any organization to achieve its business objective by improving the following:</p>
<ul>
<li>On-demand help in meeting the market requirement</li>
<li>Better utilization by reducing <span><strong>Total Cost of Ownership</strong> (</span><strong>TCO</strong>)</li>
<li>Improving <strong>quality of service</strong> (<strong>QoS</strong>) will increase stability</li>
<li>Budgeting and services should align with each other</li>
<li>Resource optimization will improve business agility and efficiency</li>
<li>Continuous innovation based on predictive analysis and proactive actions</li>
<li>Applications adaptability in a hybrid cloud environment</li>
<li>Single-pane-of-glass management across the private and public clouds</li>
<li>Service-level disaster-recovery across different geographies</li>
<li>Intelligent remediation and self-healing process</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The Log Insight user interface</h1>
                </header>
            
            <article>
                
<p>Log Insight has two interfaces for log monitoring and analysis:</p>
<ul>
<li><span class="packt_screen">Dashboards</span>: Dashboards are GUI of the log data absorbed by Log Insight and included with content packs for better customization having one or more widgets per dashboard. Widgets are customized per pre-built or user-created queries and come with charts to represent the log data.</li>
<li><span class="packt_screen">Interactive Analytics</span>: This will help administrators to check log messages, locate problem areas, and work on root-cause analysis. The vSphere content pack has customized dashboards that contains details on log data related to specific events. These dashboards will provide high-level overview information through particular events, such as <span><strong>Distributed Resource Scheduler</strong> (</span><strong>DRS</strong>)/HA, vMotion, security, and different performance parameters. Content packs cumulate and show correlated log data across the vSphere environment by allowing a quick view of trouble areas in the environment to find possible connecting reasons, find the root cause, and resolve the problem. </li>
</ul>
<p>Content packs are read-only plugins to vRealize Log Insight that give predefined data information about particular event types, such as log messages, to provide data in a specific format that is easily understood by the operations team.</p>
<p>A content pack should answer questions such as "Is the product/application healthy?" In addition, a content pack should create a greater understanding of how a product/application works.</p>
<p>A content pack comprises information that can be saved from either the <span class="packt_screen">Dashboards</span> or <span class="packt_screen">Interactive Analytics</span> pages in VRealize Log Insight. This includes the following:</p>
<ul>
<li><span class="packt_screen">Queries</span></li>
<li><span class="packt_screen">Fields</span></li>
<li><span class="packt_screen">Aggregations</span></li>
<li><span class="packt_screen">Alerts</span></li>
<li><span class="packt_screen">Dashboards</span></li>
<li><span class="packt_screen">Agent Groups</span></li>
<li><span class="packt_screen">Setup Instructions</span></li>
</ul>
<p>Log Insight is capable of performing real-time log management to gain insights across physical, virtual, and cloud environments. Featuring tight integration with vRealize Operations Manager, Log Insight delivers the operational intelligence and enterprise-wide visibility needed to proactively enable service levels and operational efficiency in dynamic hybrid cloud environments. </p>
<p>Splunk Enterprise is a competitive solution to Log Insight, with similar log management and operational intelligence. Splunk Enterprise is a general-purpose log-management solution that looks closely into machine data to provide insights (which Splunk calls <em>operational intelligence</em>). When compared with vRealize Log Insight, the performance of Splunk suffers and falls far behind Log Insight in terms of time needed to perform search queries and time needed to show search results.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Indexing performance, storage, and report export</h1>
                </header>
            
            <article>
                
<p>Splunk Enterprise provides a distributed management console that lets administrators view information about the overall Splunk infrastructure. It can collect data from virtually any source and provides multiple options to input data from the web, <strong>command-line interface</strong> (<strong>CLI</strong>), and apps. Administrators can also configure advanced archival and data-retirement policies.</p>
<p>However, Splunk becomes remotely inaccessible when network-intensive operations are performed and has multiple issues with viewing reports and dashboards on the console.</p>
<p>vRealize Log Insight tightly integrates with vRealize Operations Manager to provide deep insights into the VMware virtual infrastructure. An integrated network load balancer enhances the availability of clusters, helping to build robust solutions. Historical log data can be archived to NFS servers, but with limited capabilities.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">The user experience</h1>
                </header>
            
            <article>
                
<p>Splunk Enterprise provides a unified user console for log management. Splunk Enterprise can be accessed through one of two authentication methods: using <strong><span>Lightweight Directory Access Protocol</span></strong> (<strong>LDAP</strong>) authentication or via proprietary Splunk authentication. Splunk offers numerous options for visualizing results including reports, charts, and gauges, but legend values are not shown for pie charts from the dashboard. XML dashboards can be converted into HTML dashboards, but once dashboards have been created, administrators cannot modify the date and time of the result to be displayed. In addition, while configuring the <strong>simple mail transfer protocol</strong> (<strong>SMTP</strong>) server for alerts, Splunk does not verify SMTP server details; it requires a test connection with Splunk Server each time a PDF report is scheduled.</p>
<p>VMware vRealize Log Insight is a truly streamlined log-management tool. Log Insight simplifies result visualization, new field extraction, and changing date/time criteria from the search page itself. Unlike Splunk Enterprise, Log Insight also allows date and time values to be modified for preconfigured dashboards. However, when the field definition for any saved query or chart is changed, it stops updating the respective results. Log Insight seamlessly integrates with vRealize Operations Manager but alerts sent to Operations Manager do not show the severity level. All alerts shown in the Operations Manager are the same as ordinary information alerts. This can create a problem for administrators trying to identify critical or important issues.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>The following screenshot displays the dashboards with all of the warnings:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/ad3472f5-3390-463f-bbb0-c2f97332cb9b.png" style="width:44.33em;height:23.92em;"/></p>
<p>We open the <span class="packt_screen">Interactive Analytics</span> interface with query and filter out information related to specific customer by linking widgets with other widgets. We can also link multiple dashboards by clicking their dashboard, which brings up a list of dashboards to further refine how a set of logs can be viewed as we get dashboards of all vSphere events by hostname widget in the vSphere content pack general <span class="packt_screen">Overview</span> dashboard by dashboard linking. We can also select another dashboard on a specific widget that will bring up a list of dashboards that contain specific info or problem areas in the content pack for a selected host.</p>
<p>We adapt <span class="packt_screen">Interactive Analytics</span> with the query filter information and time range configured. We will reset the overview chart and query to default by clicking <span class="packt_screen">Interactive Analytics</span>. <span>We will first</span> <span>see the overview chart on the top of the <span class="packt_screen">Interactive Analytics</span> page, which is a graphical interface of log data. This is based on the chart type, query, and chosen accumulative functions. The search box and query builder assist users to filter and locate relevant log information. Query criteria is automatically entered if a user transformed from a widget in the <span class="packt_screen">Dashboard</span> view and the bottom view shows individual log events.</span></p>
<p class="mce-root"/>
<p><span>It shows fields related to log messages that sustain for the specified time range. Log Insight takes out a subset of the log data to use as a column in a database. This helps unstructured log data to be queried. We can view fields related to specific events in the fields pane. Fields that are included in the index or extracted manually are static. These fields data can be taken out or included through agent parsers, content pack fields, syslog fields, or manually extracted fields. A mini-chart is shown in the field pane by clicking a field.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Events</h1>
                </header>
            
            <article>
                
<p>Absorbed log events can be shown within <span class="packt_screen">Interactive Analytics</span>. All log events are presented by default even when no filters are added and provide event-based information as per the following conditions:</p>
<ul>
<li>As soon as a log message reaches the Log Insight server, it is timestamped.</li>
<li>Log messages have relevant fields to create rapid and efficient queries, for example, hostname and appname are in syslog RFC-compliant fields.</li>
<li>Fields can be also included by content packs and third-party tool integrations, such as the <kbd>vmw_datacenter</kbd>, <kbd>vmw_object_id</kbd>, and <kbd>vmw_vcenter</kbd> fields added by VMware integrations. We can make queries related to these fields to get specific log messages.</li>
</ul>
<p><strong>Query created by Log in to Log Insight Interactive Analysis</strong>:</p>
<ul>
<li><strong>Create a query</strong>: Log Insight assists to use plain English words while searching for log messages. We can also create queries <span>by leveraging regular expressions:</span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"> <img src="assets/56513bad-fc36-4727-ac05-f53612c32193.png" style="width:32.50em;height:15.92em;"/></p>
<ul>
<li>Select the time range:
<ul>
<li>Explore the time range drop-down menu by listing all options</li>
<li>Check the <span class="packt_screen">Latest 24 hours of data</span>:</li>
</ul>
</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="assets/8a7b5f27-c989-43b5-b5c9-a9a7bb9c8bf9.png" style="width:50.58em;height:8.92em;"/></p>
<p>We can get a display of only those log events with timestamps that are within the selected time range. The time zone set in the client web browser discovers the visible log messages. The event list will get amended with the last 24 hours of log messages. </p>
<p>Log message output is related to matched values and operators in the filter. </p>
<p>The following are a few of the filter options to get the desired output:</p>
<ul>
<li>Operators manage filtering functions as we used to do with dashboards. Fields that have numeric values, such as latency numbers, have additional operators, such as &lt;, &gt;, or =. </li>
<li>We have the option to match all or match any values in the filters while two or more filters are created.</li>
<li>We can select a new field by clicking the down arrow and scrolling to the required field. We can also type the filter into the search box and Log Insight will match results as per the typed word. By default, new filters have a text field. </li>
</ul>
<p>Log Insight leverages using globs in queries. <kbd>*</kbd> helps to match various characters. <kbd>?</kbd> only supports one character while using <kbd>fail*</kbd> could give back (failed, failure, or failing) as outputs but <kbd>erro?</kbd> will mostly come back with the word error as output. Log Insight will verify a match corresponding to what we typed while inputting a value. The <kbd>OR</kbd> constraint can be used for multiple values for a single filter line, such as text containing <kbd>esx-03a OR esx-01a</kbd>.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p><strong>Cumulative functions</strong>:<strong> </strong>We can also manage the data that operates the <span class="packt_screen">Overview</span> chart in Log Insight with cumulative functions. The default cumulative function count of events over time is presented above the search box, and clicking the drop-down menu will give us additional functions. Multiple functions can be included in a chart. This assists in displaying a single event in two different ways. The overview chart will amend and add the unique count of hostnames in the console as a line. Each column and line will present information. The column will display the count of events for a specific time frame. The line can give a view of the number of hostnames which have matching error logs during the mentioned time frame. We will group the results/events by hostname and information will come by that displays the time range and count events for a specific hostname. Different charts are also accessible and Log Insight will by default automatically choose the best chart for the dataset. We can manually select charts to display the data in various ways.</p>
<p>Now, we will explore the vRealize Network Insight tool, which provides end-to-end visibility about all network packets and how they are travelling from one object to another, along with predictive analysis for better planning and design.<br/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">VMware vReaIize Network Insight</h1>
                </header>
            
            <article>
                
<p>VMware vRealize Network Insight provides customers intelligent operations for software-defined networking and security. It helps customers to build an efficient, always-on, and secure network infrastructure across different cloud infrastructures. We can plan, design, and deploy micro-segmentation to have visibility across virtual and physical networks. It is very useful in managing VMware NSX deployments and is available as a service offering as VMware Network Insight. vRNI polls third-party devices periodically (between 5 and 10 minutes on average) on a read-only basis. The protocols used include <strong>Secure Shell</strong> (<strong>SSH</strong>), <span><strong>Simple Network Management Protocol</strong> (</span><strong>SNMP</strong>), and <span><strong>Representational State Transfer</strong> (</span><strong>REST</strong>).</p>
<p>vRNI administrators must configure the vRNI data source interfaces with the read-only credentials that have been predefined on these devices. Additionally, vRNI must be able to access these devices where there are no firewalls and other types of security restrictions (specific to these protocols). In particular, SNMP is typically configured as highly restrictive. In most cases, the vRNI proxy node, in which the SNMP read-only requests are made, is commonly located locally, within the same layer-2 management network, as the third-party devices it needs to poll.</p>
<p class="mce-root"/>
<p>vRNI is not polling these devices in real-time, nor is vRNI listening to or collecting SNMP traps or log data. vRNI is a time-based analytics product and is again polling data every 5-10 minutes (depending on the device and use cases) in support of the use cases offered in this product. The following shows various ways of collecting data for the vRNI dashboard:<br/></p>
<ul>
<li><strong>SSH</strong>: vRNI uses SSH version 2.0 to access the third-party data source(s). Third-party devices are polled every 10 minutes by default (except for Brocade VDX, which is polled every 15 minutes). No persistent session is maintained.</li>
<li><strong>REST</strong>:<strong> </strong>vRNI also uses the REST APIs provided by the data source(s). Third-party devices are polled every 10 minutes by default. No persistent session is maintained.</li>
<li><strong>REST/SSH user credentials and privileges</strong>: vRNI requires read-only third-party device credentials (passwords) to access the REST and SSH data. These passwords are added when configuring the third-party data provider within the vRNI user interface. </li>
<li><strong>SNMP</strong>:<strong> </strong>vRNI uses SNMP to collect metrics information from third-party devices (switches, routers, firewalls, and so on). The third-party devices much have SNMP enabled and be accessible from vRNI. vRNI queries the device(s) every five minutes to collect the metric information.</li>
</ul>
<p>Depending on the exact SNMP version used, different parameters are needed:</p>
<ul>
<li><strong>SNMP version 2C</strong>: Needs the SNMP community string configured on the switch</li>
<li><strong>SNMP version 3</strong>: Needs all of the credentials of the user authorized to poll the SNMP service on the switch</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Supported data sources</h1>
                </header>
            
            <article>
                
<p>The following table summarizes the data sources currently supported by vRNI:</p>
<table border="1" style="border-collapse: collapse;width: 100%">
<tbody>
<tr>
<td>
<p class="CDPAlignCenter CDPAlign"><strong>Datasource</strong></p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"><strong>Version/model</strong></p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"><strong>Description</strong></p>
</td>
</tr>
<tr>
<td>
<p>AWS (Enterprise license only)</p>
</td>
<td>
<p>Not applicable</p>
</td>
<td>
<p>It connects to AWS over HTTPS.</p>
</td>
</tr>
<tr>
<td>
<p>Arista switches</p>
</td>
<td>
<p>7050TX, 7250QX, 7050QX-32S, 7280SE-72</p>
<p> </p>
</td>
<td>
<p>It connects to Arista switches over SSH v2 and SNMP.</p>
</td>
</tr>
<tr>
<td>
<p>Brocade switches</p>
</td>
<td>
<p>VDX 6740, VDX 6940, MLX, MLXe</p>
</td>
<td>
<p>It connects to Brocade switches over SSH v2 and SNMP.</p>
</td>
</tr>
<tr>
<td>
<p>Check Point Firewall</p>
</td>
<td>
<p>R80</p>
</td>
<td>
<p>It connects to Check Point Firewall over HTTPS/REST.</p>
</td>
</tr>
<tr>
<td>
<p>Cisco <span><strong>Adaptive Security Appliance</strong> (</span><strong>ASA</strong>)</p>
</td>
<td>
<p>5x series (without FirePower)<br/>
ASA OS Version 9.4</p>
</td>
<td>
<p>It connects to ASA device over SSH v2 and SNMP.</p>
</td>
</tr>
<tr>
<td>
<p>Cisco Catalyst</p>
</td>
<td>
<p>3000, 3750, 4500, 6000, 6500</p>
</td>
<td>
<p>It connects to Cisco Catalyst switches over SSH and SNMP.</p>
</td>
</tr>
<tr>
<td>
<p>Cisco Nexus</p>
</td>
<td>
<p>5000, 6000, 7000, 9000, VSM N1000</p>
</td>
<td>
<p>It connects Cisco Nexus switches over SSH v2 and SNMP.</p>
</td>
</tr>
<tr>
<td>
<p>Cisco <strong><span>Unified Computing System</span></strong> (<strong>UCS</strong>)</p>
</td>
<td>
<p>Series B Blade servers, Series C Rack servers, Chassis, Fabric interconnect</p>
</td>
<td>
<p>It connects UCS Manager over HTTPS and UCS Fabric Interconnect over SSH to fetch information. It also connects to the SNMP service on UCS.</p>
</td>
</tr>
<tr>
<td>
<p>Dell switches</p>
</td>
<td>
<p>PowerConnect 8024, FORCE10 MXL 10, FORCE10 S6000, S4048, Z9100</p>
</td>
<td>
<p>It connects to Dell switches over SSH v2 and SNMP.</p>
</td>
</tr>
<tr>
<td>
<p>HP</p>
</td>
<td>
<p>HP OneView 3.0</p>
</td>
<td>
<p>It connects to HP OneView Manager over HTTPS/REST.</p>
</td>
</tr>
<tr>
<td>
<p>HP</p>
</td>
<td>
<p>HP Virtual Connect Manager 4.41</p>
</td>
<td>
<p>It connects to HP Virtual Connect Manager over SSH v2.</p>
</td>
</tr>
<tr>
<td>
<p>Infoblox</p>
</td>
<td>
<p>Infoblox</p>
</td>
<td>
<p>It connects to Infoblox over REST.</p>
</td>
</tr>
<tr>
<td>
<p>Juniper switches</p>
</td>
<td>
<p>EX3300, QFX 51xx Series (JunOS v12 &amp; v15, without QFabric)</p>
</td>
<td>
<p>It connects to Juniper switches over Netconf or SSH v2 and SNMP.</p>
</td>
</tr>
<tr>
<td>
<p>Palo Alto Panorama</p>
</td>
<td>
<p>7.0.x, 7.1.x, 8.0</p>
</td>
<td>
<p>It connects to Panorama over HTTPS/REST.</p>
</td>
</tr>
<tr>
<td>
<p>VMware NSX</p>
</td>
<td>
<p>6.4, 6.3 (upto 6.3.5), 6.2 (upto 6.2.9), 6.1(upto 6.1.7), 6.0</p>
</td>
<td>
<p>It connects to VMware NSX over SSH v2 and HTTPS.</p>
</td>
</tr>
<tr>
<td>
<p>VMware NSX T</p>
</td>
<td>
<p>2.0</p>
</td>
<td>
<p>It connects to VMware NSX T over HTTPS.</p>
</td>
</tr>
</tbody>
</table>
<p>All REST APIs vRNI use the following:</p>
<table border="1" style="border-collapse: collapse;width: 100%">
<tbody>
<tr>
<td>
<p class="CDPAlignCenter CDPAlign"><strong>API</strong></p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"><strong>Description</strong></p>
</td>
</tr>
<tr>
<td><kbd>/api/v1/sessions</kbd>
<p> </p>
</td>
<td>
<p>It creates a session with the API. This is the equivalent of login. This operation exchanges user credentials supplied in the security context for a session identifier that is to be used for authenticating subsequent calls. To authenticate subsequent calls, clients are expected to include the session key.</p>
</td>
</tr>
<tr>
<td><kbd>/api/v1/version</kbd>
<p> </p>
</td>
<td>
<p>It gets the version of Log Insight installation.</p>
</td>
</tr>
<tr>
<td><kbd>/api/v1/content/contentpack/${id}</kbd>
<p> </p>
</td>
<td>
<p>It fetches the details of a vRNI content pack identified with given ID.</p>
</td>
</tr>
<tr>
<td><kbd>/api/v1/alerts</kbd>
<p> </p>
</td>
<td>
<p>It fetches list of alerts that correspond to this user.</p>
</td>
</tr>
<tr>
<td><kbd>/api/v1/events</kbd>
<p> </p>
</td>
<td>
<p>It fetches a list of events that match content pack alerts that occurred in the queries timeframe.</p>
</td>
</tr>
</tbody>
</table>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter, we learned how LInt can access VMware Cloud on AWS audit logs for faster monitoring and troubleshooting as a core service with real-time alerts on anomalies based on custom triggers. It will also provide you with custom dashboards to visualize trends for effective notifications on custom alerts and high-performance searches within logs for faster root-cause analysis. We went through how it provides a single console across a broad range of applications such as VMware Cloud on AWS, cloud-based applications, and Native AWS EC2-based applications along with Wavefront integration for faster<br/>
troubleshooting with logs and metrics. We saw how to determine the health of an on-premises SDDC environment quickly by identifying anomalies across infrastructure and applications and accelerating troubleshooting with out-of-the-box dashboards for VMware SDDC solutions, such as vCenter and NSX.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>In the next chapter, we will explore <strong>machine learning as a service</strong> (<strong>MLaaS</strong>) by using vRealize Automation. The ML workflow includes data-cleaning, model-selection, feature-engineering, model-training, and inference. Production ML environments are always complex to build and maintain as each ML process may require customization of the hardware and software. We can eliminate this complexity by automating the deployment of hardware resources (such as <strong>Load Balancer as a service</strong> (<strong>LBaaS</strong>) and <strong>network as a service</strong> (<strong>NaaS</strong>)) by configuring them with the required operating system and application stack and providing them to different tenants.</p>


            </article>

            
        </section>
    </body></html>