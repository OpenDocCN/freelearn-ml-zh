<html><head></head><body>
		<div id="_idContainer182">
			<h1 id="_idParaDest-224"><em class="italic"><a id="_idTextAnchor226"/>Chapter 12</em>: The Enterprise Architect and Security Views</h1>
			<p>H2O at Scale is used to build state-of-the-art <strong class="bold">machine learning</strong> (<strong class="bold">ML</strong>) models against large-to-massive volumes of data on enterprise systems. Enterprise systems are complex integrations of diverse components that work together under common architecture and security principles. H2O at Scale needs to fit into this ecosystem in expected, secure, and cohesive ways. In this chapter, we will examine H2O at Scale architecture and security attributes in detail to understand how H2O software deploys to the enterprise, integrates with well-known frameworks, implements extensive security capabilities, and generally plays nicely in enterprise systems.</p>
			<p>In this chapter, we will cover the following main topics:</p>
			<ul>
				<li>The enterprise and security architect view</li>
				<li>H2O at Scale enterprise architecture</li>
				<li>H2O at Scale security</li>
				<li>The data scientist's view of enterprise and security architecture</li>
			</ul>
			<h1 id="_idParaDest-225"><a id="_idTextAnchor227"/>Technical requirements</h1>
			<p>There are no technical requirements for this chapter.</p>
			<h1 id="_idParaDest-226"><a id="_idTextAnchor228"/>The enterprise and security architect view</h1>
			<p>Enterprise and security <a id="_idIndexMarker933"/>architects have broad roles, but for our purposes <a id="_idIndexMarker934"/>here, we will focus on their concerns about how software architecture integrates into and impacts the existing enterprise software ecosystem and how it addresses security requirements. </p>
			<p>A summary of this view is shown in the following diagram. Enterprises will likely have their own specific needs and concerns, but our discussion here will be a common starting point:</p>
			<div>
				<div id="_idContainer175" class="IMG---Figure">
					<img src="image/B16721_12_001.jpg" alt="Figure 12.1 – Architecture and security views of H2O at Scale&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.1 – Architecture and security views of H2O at Scale</p>
			<p>Let's look at an overview before <a id="_idIndexMarker935"/>we dive into detailed views, as follows: </p>
			<ul>
				<li><strong class="bold">H2O enterprise architecture</strong>: Needs and concerns here relate to how software components<a id="_idIndexMarker936"/> are deployed, integrated into, and potentially impact the rest of the technology ecosystem. Architecture in our case is primarily at the component level—that is, at the level of the <em class="italic">big separate pieces</em>—and not lower down, such as class design.</li>
				<li><strong class="bold">H2O security</strong>: Enterprises go to extreme lengths<a id="_idIndexMarker937"/> to secure their systems from internal and external threats. H2O at Scale technology is used by a large proportion of <em class="italic">Fortune 100</em> and <em class="italic">Fortune 500</em> companies across industry verticals and has undergone and passed extensive security reviews to do so. We will touch on H2O security around the most scrutinized areas.</li>
			</ul>
			<p>Let's first dive into the enterprise architecture view.</p>
			<h1 id="_idParaDest-227"><a id="_idTextAnchor229"/>H2O at Scale enterprise architecture</h1>
			<p>We will look at H2O at Scale model building architecture through <a id="_idIndexMarker938"/>multiple lenses to allow architect stakeholders to understand how this technology addresses their common needs and concerns.</p>
			<p>H2O at Scale components are flexible in how they are implemented, so first, we need to understand these alternatives and their implications, as elaborated in the following section.</p>
			<h2 id="_idParaDest-228"><a id="_idTextAnchor230"/>H2O at Scale implementation patterns</h2>
			<p>There are three patterns for how H2O at Scale is <a id="_idIndexMarker939"/>implemented, as shown in the following diagram: </p>
			<div>
				<div id="_idContainer176" class="IMG---Figure">
					<img src="image/B16721_12_02.jpg" alt="Figure 12.2 – Implementation patterns for H2O at Scale&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.2 – Implementation patterns for H2O at Scale</p>
			<p>A central concept to these patterns is that we are defining H2O at Scale components as Enterprise Steam, H2O Core (H2O-3 or Sparkling Water or both, with exportable H2O <strong class="bold">MOJO</strong> (short for <strong class="bold">Model Object, Optimized</strong>)), and an enterprise-server cluster (which H2O leverages but is not installed on). The <a id="_idIndexMarker940"/>reason for this component definition has been stated in many places throughout this book and will be recapped briefly here, as follows: </p>
			<ul>
				<li><strong class="bold">H2O at Scale (minimal)</strong>: Minimally, H2O at Scale components are Enterprise Steam, H2O <a id="_idIndexMarker941"/>Core (H2O-3, Sparkling Water), and a Kubernetes or <strong class="bold">Yet Another Resource Negotiator</strong> (<strong class="bold">YARN</strong>)-based Hadoop or Spark server cluster. An H2O MOJO is generated from H2O Core. Its deployment to scoring systems was covered extensively in <a href="B16721_10_Final_SK_ePub.xhtml#_idTextAnchor178"><em class="italic">Chapter 10</em></a>, <em class="italic">H2O Model Deployment Patterns</em>. </li>
				<li><strong class="bold">H2O AI Cloud platform</strong>: H2O at Scale can be implemented as a subset of a larger H2O AI Cloud platform. This larger platform will be overviewed in <a href="B16721_13_Final_SK_ePub.xhtml#_idTextAnchor241"><em class="italic">Chapter 13</em></a>, <em class="italic">Introducing H2O AI Cloud</em>. In this context, H2O at Scale retains its functionality and architecture and is considered one of multiple specialized <a id="_idIndexMarker942"/>model-building engines on the larger integrated H2O platform.</li>
				<li><strong class="bold">Non-enterprise H2O</strong>: H2O Core can be implemented in two other patterns that are generally not considered enterprise implementations. H2O Core can be run on a user's local machine. This is useful for personal work, but the true power of H2O at Scale (in-memory data and its compute distributed horizontally across a server cluster) is not available in this case. Model building thus cannot be conducted at large data volumes.</li>
			</ul>
			<p>H2O Core can also be run directly against Hadoop, Spark, or Kubernetes clusters without implementing Enterprise Steam. This creates significant user management and governance risks for the enterprise and forces technical integration knowledge onto data scientists. This topic has been addressed in detail in <a href="B16721_11_Final_SK_ePub.xhtml#_idTextAnchor207"><em class="italic">Chapter 11</em></a>, <em class="italic">The Administrator and Operations Views</em>, and will be touched on in this chapter.</p>
			<p class="callout-heading">Which H2O at Scale?</p>
			<p class="callout">The architecture and security discussion for this chapter focuses on H2O at Scale components implemented minimally (the middle diagram in <em class="italic">Figure 12.2</em>). For H2O at Scale as a subset of the larger H2O AI Cloud platform, the architecture is similar but not identical. The differences will be outlined in <a href="B16721_13_Final_SK_ePub.xhtml#_idTextAnchor241"><em class="italic">Chapter 13</em></a>, <em class="italic">Introducing H2O AI Cloud</em>.</p>
			<p class="callout">All discussions of H2O at Scale functionality, from model building to model deployment to Enterprise Steam administration, are the same whether H2O at Scale is implemented alone or as part of the larger H2O AI Cloud. </p>
			<p>Let's start looking at how the user client, Enterprise <a id="_idIndexMarker943"/>Steam, and H2O Core components fit into the enterprise environment.</p>
			<h2 id="_idParaDest-229"><a id="_idTextAnchor231"/>Component integration architecture</h2>
			<p>The following <a id="_idIndexMarker944"/>components are <a id="_idIndexMarker945"/>involved in H2O at Scale model building: </p>
			<ul>
				<li>A web browser</li>
				<li>A data-science <strong class="bold">integrated development environment</strong> (<strong class="bold">IDE</strong>) (for example, Jupyter Notebook) with <a id="_idIndexMarker946"/>an H2O client library installed</li>
				<li>H2O Enterprise Steam, with H2O-3 and/or Sparkling Water <strong class="bold">Java ARchive</strong> (<strong class="bold">JAR</strong>) files loaded <a id="_idIndexMarker947"/>for distributing as jobs to an enterprise-server cluster</li>
				<li>An enterprise <strong class="bold">identity provider</strong> (<strong class="bold">IdP</strong>)</li>
				<li>An <a id="_idIndexMarker948"/>enterprise-server cluster </li>
			</ul>
			<p>These component integrations are shown in greater detail in the following diagram:</p>
			<div>
				<div id="_idContainer177" class="IMG---Figure">
					<img src="image/B16721_12_03.jpg" alt="Figure 12.3 – Component integration architecture for H2O at Scale&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.3 – Component integration architecture for H2O at Scale</p>
			<p>Note that the only installed H2O components are an H2O and Enterprise Steam client library in the data scientist's IDE and H2O Enterprise Steam, which is installed on a small server. Enterprise <a id="_idIndexMarker949"/>Steam manages a Java JAR <a id="_idIndexMarker950"/>file that is pushed to the enterprise-server cluster to form a self-assembling H2O cluster for each user. Importantly, this JAR file is removed from the enterprise-server cluster when the H2O cluster is stopped. Thus, no H2O artifacts are installed on the enterprise-server cluster.</p>
			<p class="callout-heading">H2O at Scale Has a Small Component Footprint on the Enterprise System</p>
			<p class="callout">Despite its ability to build models against massive datasets, the actual footprint of H2O at Scale on the enterprise system is quite small from an installed component standpoint. </p>
			<p class="callout">Enterprise Steam is the only component installed in the enterprise environment and it requires only a <a id="_idIndexMarker951"/>small single server (an edge node when on Hadoop). The software to create H2O clusters (distributed model building) is managed on Enterprise Steam and pushed to the enterprise-server cluster temporarily and not installed there. Enterprise Steam<a id="_idIndexMarker952"/> leverages Kubernetes or YARN to launch an H2O cluster natively to these frameworks (that is, an H2O cluster is a native Kubernetes or YARN job).</p>
			<p class="callout">Other than that, the data scientist installs an H2O client library in their IDE environment to communicate with Enterprise Steam and the user's H2O cluster.</p>
			<p>Note also that all data scientist and administrator interactions with the enterprise environment <a id="_idIndexMarker953"/>are centralized through <a id="_idIndexMarker954"/>Enterprise Steam. This includes all user authentication and H2O cluster formation (and stopping or termination) and administrator configurations to integrate and secure H2O at Scale activities against the enterprise-server environment.</p>
			<p class="callout-heading">Enterprise Steam as a Centralized Component for H2O at Scale</p>
			<p class="callout">Enterprise Steam serves as a central gateway for all user interactions with the enterprise system, including user <a id="_idIndexMarker955"/>authentication through an enterprise IdP, user management of the H2O cluster life cycle, administrator management of H2O software, and administrator configuration to integrate and secure H2O on the enterprise-server cluster. </p>
			<h2 id="_idParaDest-230"><a id="_idTextAnchor232"/>Communication architecture</h2>
			<p>Communication protocols <a id="_idIndexMarker956"/>among H2O at Scale <a id="_idIndexMarker957"/>components are shown in the following diagram: </p>
			<div>
				<div id="_idContainer178" class="IMG---Figure">
					<img src="image/B16721_12_04.jpg" alt="Figure 12.4 – Communication architecture of H2O at Scale&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.4 – Communication architecture of H2O at Scale</p>
			<p>Note that H2O uses well-known communication protocols. Also, note that (except for data on <a id="_idIndexMarker958"/>the user's client machine) data is transferred <a id="_idIndexMarker959"/>directly from the data source to the user's H2O cluster (where it is partitioned into memory).</p>
			<p class="callout-heading">Data Ingest Is Direct from the Source (Preferably Storage Layer) to the H2O Cluster</p>
			<p class="callout">Data ingested to the H2O cluster for model building does not pass through Enterprise Steam or the <a id="_idIndexMarker960"/>user's client (except if uploaded from the client): it passes directly from the data source to H2O's in-memory compute on the enterprise-server cluster. When dealing with <a id="_idIndexMarker961"/>massive datasets, it is best to use the server-cluster <a id="_idIndexMarker962"/>storage layer (for example, <strong class="bold">Simple Storage Service</strong> (<strong class="bold">S3</strong>), Azure Blob, or <strong class="bold">Hadoop Distributed File System</strong> (<strong class="bold">HDFS</strong>)) as a data source compared to other data sources such as <strong class="bold">Java Database Connectivity</strong> (<strong class="bold">JDBC</strong>). The H2O cluster partitions source data into memory among the nodes on the cluster. This loading <a id="_idIndexMarker963"/>of partitions is parallelized from the storage layer and not from other data sources (for example, a JDBC database or Hive). </p>
			<h2 id="_idParaDest-231"><a id="_idTextAnchor233"/>Deployment architecture</h2>
			<p>There are two deployment patterns for H2O at Scale: on either Kubernetes- or YARN-based server clusters. In both cases (as discussed previously), only Enterprise Steam is installed on the enterprise <a id="_idIndexMarker964"/>environment. This Kubernetes- versus YARN-based distinction—and the architecture and infrastructure details that follow—are hidden from the data scientist. As stressed throughout this book, the data scientist uses familiar languages and IDEs to build H2O models at scale and knows little or nothing of the technical implementation of scaling that takes place behind the scenes on the server clusters.</p>
			<h3>Deployment on Kubernetes clusters</h3>
			<p>Kubernetes is a <a id="_idIndexMarker965"/>modern framework to <a id="_idIndexMarker966"/>scale and manage containerized applications. H2O at Scale can be deployed to leverage this framework natively. Details of how this is done are shown in the following deployment diagram: </p>
			<div>
				<div id="_idContainer179" class="IMG---Figure">
					<img src="image/B16721_12_05.jpg" alt="Figure 12.5 – Deployment diagram of H2O at Scale on Kubernetes&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.5 – Deployment diagram of H2O at Scale on Kubernetes</p>
			<p>The key points are noted here:</p>
			<ul>
				<li>Enterprise Steam is installed and <a id="_idIndexMarker967"/>run on the Kubernetes cluster <a id="_idIndexMarker968"/>using a <strong class="bold">Helm chart</strong>. Helm is a package manager for <a id="_idIndexMarker969"/>Kubernetes, and Helm charts are a collection of templatized files in a directory structure used to define, install, and upgrade the components on the Kubernetes framework. Helm charts make installation and upgrades on Kubernetes easy and repeatable.</li>
				<li>Enterprise Steam is fundamentally a web-server application that pushes workloads to the enterprise cluster as an orchestrated <strong class="bold">Kubernetes Pod</strong>. As such, Enterprise <a id="_idIndexMarker970"/>Steam requires very low resources.</li>
				<li>Enterprise Steam <a id="_idIndexMarker971"/>runs as a service with a <strong class="bold">service identifier</strong> (<strong class="bold">service ID</strong>). </li>
				<li>A <strong class="bold">license key</strong> acquired from H2O.ai is required to use Enterprise Steam. The license <a id="_idIndexMarker972"/>key expires in 1 year and <a id="_idIndexMarker973"/>needs to be renewed before this time.</li>
				<li>Kubernetes configurations are made in Enterprise Steam. These include <strong class="bold">volume mounts</strong>, <strong class="bold">HDFS</strong> and <strong class="bold">Hive</strong> access, and MinIO access (which opens access <a id="_idIndexMarker974"/>to the <a id="_idIndexMarker975"/>cloud object <a id="_idIndexMarker976"/>store—specifically, <strong class="bold">Amazon Web Services</strong> (<strong class="bold">AWS</strong>)<strong class="bold"> S3</strong>, <strong class="bold">Azure Blob</strong>, and <strong class="bold">Google Cloud Storage</strong> (<strong class="bold">GCS</strong>). </li>
				<li>H2O-3 <strong class="bold">Docker images</strong> are stored by version in any public (for example, <strong class="bold">Docker Hub</strong>) or <a id="_idIndexMarker977"/>private (for example, <strong class="bold">AWS Elastic Container Registry </strong>(<strong class="bold">ECR</strong>) image repository and are pulled from here by Kubernetes <a id="_idIndexMarker978"/>when the cluster is launched. <p class="callout-heading">Note </p><p class="callout">H2O Sparkling Water is currently not available on Enterprise Steam on Kubernetes.</p></li>
				<li>For details on installing<a id="_idIndexMarker979"/> Enterprise Steam, see the H2O documentation at <a href="https://docs.h2o.ai/enterprise-steam/latest-stable/docs/install-docs/installation.html">https://docs.h2o.ai/enterprise-steam/latest-stable/docs/install-docs/installation.html</a>.<p class="callout-heading">Upgrading H2O-3 is Easy</p><p class="callout">Recall that H2O-3 <a id="_idIndexMarker980"/>is not installed on the enterprise-server cluster: here, it is orchestrated and distributed as Pods on the Kubernetes cluster and then torn down after the user is done using the resulting H2O cluster. This makes upgrading easy: the administrator simply configures a new version of H2O in Enterprise Steam (and stores its Docker image in the configured repository), and users launch their next H2O cluster with the newer versions. (Multiple versions can coexist on Enterprise Steam, so users can select among them when launching an H2O cluster.) </p></li>
			</ul>
			<p>For <strong class="bold">high availability</strong>, Enterprise Steam can be installed as an active-passive setup with automatic <a id="_idIndexMarker981"/>failover handled by Kubernetes. This is <a id="_idIndexMarker982"/>described <a id="_idIndexMarker983"/>in the H2O documentation at <a href="https://docs.h2o.ai/enterprise-steam/latest-stable/docs/install-docs/ha.html">https://docs.h2o.ai/enterprise-steam/latest-stable/docs/install-docs/ha.html</a>.</p>
			<p>Let's see how H2O at Scale is deployed on YARN-based clusters. Fundamentally, these modes are similar when ignoring the underlying framework specifics.</p>
			<h3>Deployment on YARN-based server clusters</h3>
			<p>YARN is an open <a id="_idIndexMarker984"/>source framework for launching and managing distributed processing in a horizontally scalable <a id="_idIndexMarker985"/>architecture. It is typically implemented against Hadoop or Spark clusters (or Spark on Hadoop). The diagram and discussion that follows relate to deployments on Hadoop:</p>
			<div>
				<div id="_idContainer180" class="IMG---Figure">
					<img src="image/B16721_12_06.jpg" alt="Figure 12.6 – Deployment diagram of H2O at Scale on Hadoop&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.6 – Deployment diagram of H2O at Scale on Hadoop</p>
			<p>Key points are <a id="_idIndexMarker986"/>similar to Kubernetes-based implementations. Differences for Hadoop are noted here:</p>
			<ul>
				<li>Enterprise Steam is deployed on a Hadoop <strong class="bold">edge node</strong>.</li>
				<li>Enterprise Steam pushes workloads to the enterprise cluster as a native <strong class="bold">YARN</strong> job. </li>
				<li>Enterprise Steam is installed on a <strong class="bold">Linux OS</strong> (either <strong class="bold">Debian/Ubuntu</strong> or <strong class="bold">Red Hat Enterprise Linux</strong> (<strong class="bold">RHEL</strong>)/<strong class="bold">CentOS</strong>) as a package (<strong class="bold">Debian</strong> (<strong class="bold">DEB</strong>) or <strong class="bold">RPM Package Manager</strong> (<strong class="bold">RPM</strong>) or a <strong class="bold">tape archive GNU zip</strong> (<strong class="bold">TAR GZ</strong>) installation). </li>
				<li>Configurations are made on the Hadoop <strong class="bold">management node</strong> to the <strong class="source-inline">core-site.xml</strong> and <strong class="source-inline">kms-site.xml</strong> configuration files. These Hadoop configurations are made to integrate Steam with YARN and to implement <strong class="bold">user impersonation</strong>. Because Enterprise Steam is on an edge node, changes to Hadoop configurations on the management node are replicated immediately on Enterprise Steam.</li>
				<li>H2O-3 or Sparkling Water JAR files are packaged by Enterprise Steam <strong class="bold">YARN applications</strong> and run against the Hadoop cluster as a separate YARN job for each user launching an H2O cluster. The YARN job (or, equivalently, the H2O cluster) runs until the user stops the H2O cluster, or Enterprise Steam auto-stops the cluster <a id="_idIndexMarker987"/>after a threshold of idle or absolute time has been reached. The H2O-3 JAR and Sparkling Water JAR files are obtained from H2O.ai and are specific to the Hadoop distribution. The administrator<a id="_idIndexMarker988"/> uploads the JAR files from the UI or performs a <strong class="bold">secure copy</strong> (<strong class="bold">SCP</strong>) to the Enterprise Steam filesystem.</li>
				<li>For specification details on installing Enterprise Steam, including requirements for Linux OS, Java, and Hadoop distributions, see the H2O Enterprise Steam documentation <a id="_idIndexMarker989"/>at <a href="https://docs.h2o.ai/enterprise-steam/latest-stable/docs/install-docs/installation.html">https://docs.h2o.ai/enterprise-steam/latest-stable/docs/install-docs/installation.html</a>.<p class="callout-heading">Upgrading H2O-3 or Sparkling Water Is Easy (Again)</p><p class="callout">H2O-3 and Sparkling Water are not installed on the Hadoop cluster: here, they are wrapped into YARN jobs <a id="_idIndexMarker990"/>and distributed and run on the cluster as such. This makes upgrading <a id="_idIndexMarker991"/>easy: the administrator simply uploads a newer version of the JAR file to Enterprise Steam and the users launch their next H2O cluster with the newer versions. (Multiple versions can coexist, so users can select among them when launching an H2O cluster.) </p></li>
			</ul>
			<p>For high availability <a id="_idIndexMarker992"/>on Hadoop, Enterprise Steam is installed as an active-passive setup with manual failover. This is described in the H2O documentation at <a href="https://docs.h2o.ai/enterprise-steam/latest-stable/docs/install-docs/ha.html">https://docs.h2o.ai/enterprise-steam/latest-stable/docs/install-docs/ha.html</a>.</p>
			<h3>Deployment as part of H2O AI Cloud</h3>
			<p>Enterprise Steam, H2O Core (H2O-3 and Sparkling Water) can be deployed as part of a larger H2O AI Cloud platform (<em class="italic">see Figure 12.2</em>). As such, it has a similar architecture to the two models<a id="_idIndexMarker993"/> just shown but is now integrated and installed as part of a larger H2O AI Cloud implementation. This will be discussed further in <a href="B16721_13_Final_SK_ePub.xhtml#_idTextAnchor241"><em class="italic">Chapter 13</em></a>, <em class="italic">Introducing H2O AI Cloud.</em></p>
			<p>Now that we have explored H2O at Scale's enterprise architecture view, let's look at the security view.</p>
			<h1 id="_idParaDest-232"><a id="_idTextAnchor234"/>H2O at Scale security</h1>
			<p>H2O at Scale<a id="_idIndexMarker994"/> has been deployed to numerous highly regulated enterprises in financial services, insurance, healthcare, and other industries. This typically involves extensive and thorough architecture and security reviews that vary across organizations. Key areas from an architecture standpoint are discussed in the following sections.</p>
			<h2 id="_idParaDest-233"><a id="_idTextAnchor235"/>Data movement and privacy</h2>
			<p>Top security points for data movement and privacy<a id="_idIndexMarker995"/> are noted here:</p>
			<ul>
				<li>Data moves directly from the enterprise data source to the memory of the user's H2O cluster on the enterprise cluster and does not pass through H2O Enterprise Steam or the data scientist's client. </li>
				<li>Data in concurrent H2O clusters is isolated from other data: users cannot see or access each other's data during model building.</li>
				<li>Data in a user's H2O cluster is removed when the H2O cluster is stopped. Recall that data is partitioned in memory across a user's running H2O cluster nodes. </li>
				<li>Users can download data to an enterprise-storage-layer home directory (for example, in AWS S3 or HDFS) as configured by an administrator. </li>
				<li>Users cannot download data from an H2O cluster to a local disk.</li>
			</ul>
			<h2 id="_idParaDest-234"><a id="_idTextAnchor236"/>User authentication and access control</h2>
			<p>The main points to note are outlined here:</p>
			<ul>
				<li>User authentication<a id="_idIndexMarker996"/> is done centrally through Enterprise<a id="_idIndexMarker997"/> Steam, which<a id="_idIndexMarker998"/> authenticates<a id="_idIndexMarker999"/> against the enterprise <a id="_idIndexMarker1000"/>IdP. Enterprise<a id="_idIndexMarker1001"/> Steam supports <strong class="bold">OpenID</strong>, <strong class="bold">Lightweight Directory Access Protocol</strong> (<strong class="bold">LDAP</strong>), <strong class="bold">Security Assertion Markup Language</strong> (<strong class="bold">SAML</strong>), and <strong class="bold">Pluggable Authentication Modules</strong> (<strong class="bold">PAM</strong>) authentication. </li>
				<li>User authentication through Enterprise Steam<a id="_idIndexMarker1002"/> can be done through the H2O Steam <strong class="bold">application programming interface</strong> (<strong class="bold">API</strong>). Users can generate <strong class="bold">personal access tokens</strong> (<strong class="bold">PATs</strong>) and use them as environment<a id="_idIndexMarker1003"/> variables in their programs (as opposed to hardcoding them). The generation of a new PAT revokes the previous one. PATs are generated from the Enterprise Steam UI after the user logs in.</li>
				<li>Enterprise Steam supports running on a Kerberos-secured Hadoop cluster.</li>
				<li>For access to HDFS or Hive, Hadoop impersonation can be configured. This allows Enterprise Steam to appear to these data sources as the logged-in user and not as the Enterprise Steam service ID. This in turn allows H2O users to authenticate against these resources simply by logging in to Enterprise Steam (as opposed to explicitly passing authorization credentials).</li>
				<li>For JDBC and other access to data sources, the data scientist passes access credentials (for example, JDBC connection <strong class="bold">Uniform Resource Locator</strong> (<strong class="bold">URL</strong>), username, and password) as parameters to the H2O API's data import statement in the client IDE.</li>
			</ul>
			<p>Enterprise Steam administrator configurations for user authentication and access control were covered in <a href="B16721_11_Final_SK_ePub.xhtml#_idTextAnchor207"><em class="italic">Chapter 11</em></a>, <em class="italic">The Administrator and Operations View</em>.</p>
			<h2 id="_idParaDest-235"><a id="_idTextAnchor237"/>Network and firewall</h2>
			<p>It is assumed that H2O at Scale<a id="_idIndexMarker1004"/> is deployed securely behind the enterprise network either on-premises or in the cloud. Aspects of H2O network security are noted here:</p>
			<ul>
				<li>User access to Enterprise Steam<a id="_idIndexMarker1005"/> and H2O clusters on the enterprise-server cluster is through <strong class="bold">Hypertext Transfer Protocol Secure</strong> (<strong class="bold">HTTPS</strong>). Enterprise Steam autogenerates a self-signed <strong class="bold">Transport Layer Security </strong>(<strong class="bold">TLS</strong>) certificate at installation<a id="_idIndexMarker1006"/> time, but you will have the option to install your own after your first login. Additionally, certificates can be installed for LDAP, Kubernetes Ingress, and Kubernetes connection to MinIO and H2O.ai storage layers.</li>
				<li>Enterprise Steam exposes users to port <strong class="source-inline">9555</strong> by default, but this can be changed. Enterprise Steam runs behind a reverse proxy, and users never communicate directly with the H2O cluster itself.</li>
			</ul>
			<p>Full details for H2O Enterprise<a id="_idIndexMarker1007"/> Steam security can be found in the H2O documentation at <a href="https://docs.h2o.ai/enterprise-steam/latest-stable/docs/install-docs/index.html">https://docs.h2o.ai/enterprise-steam/latest-stable/docs/install-docs/index.html</a>.</p>
			<p>We have now explored H2O at Scale enterprise and security architecture from the perspective of their respective stakeholders. Let's now view how this relates to the data scientist.</p>
			<h1 id="_idParaDest-236"><a id="_idTextAnchor238"/>The data scientist's view of enterprise and security architecture</h1>
			<p>Data scientists typically<a id="_idIndexMarker1008"/> do not interact directly or frequently with enterprise<a id="_idIndexMarker1009"/> and security architects. Nevertheless, data<a id="_idIndexMarker1010"/> scientists may be impacted<a id="_idIndexMarker1011"/> by these stakeholders in the way shown in the following diagram:</p>
			<div>
				<div id="_idContainer181" class="IMG---Figure">
					<img src="image/B16721_12_07.jpg" alt="Figure 12.7 – Data-science view of enterprise and security architecture&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 12.7 – Data-science view of enterprise and security architecture</p>
			<p>Implementing H2O at Scale<a id="_idIndexMarker1012"/> for the first time in the enterprise typically requires<a id="_idIndexMarker1013"/> formal architecture and security review<a id="_idIndexMarker1014"/> of the technology. Enterprise systems<a id="_idIndexMarker1015"/> are large ecosystems of multiple technologies integrated into a coherent whole. Architect and security reviewers determine if H2O at Scale can be implemented in this ecosystem while conforming to principles that define the coherent whole. These principles are rules and guidelines defined by enterprise stakeholders that may range from guaranteeing new technology aligns with business needs, to guaranteeing the technology satisfies an extensive list of security<a id="_idIndexMarker1016"/> requirements, to guaranteeing that the architecture enables <strong class="bold">business continuity</strong> (<strong class="bold">BC</strong>) after a disruption. These are just a few examples. </p>
			<p>H2O at Scale technology has passed architecture and security reviews of <em class="italic">Fortune 100</em> and <em class="italic">Fortune 500</em> enterprises for reasons that have been outlined in this chapter. H2O at Scale can be summarized as follows:</p>
			<ul>
				<li>Has a light installation footprint and is easy to upgrade</li>
				<li>Integrates natively into existing frameworks (Kubernetes; YARN)</li>
				<li>Governs H2O users and H2O software management centrally through Enterprise Steam</li>
				<li>Provides high availability for BC</li>
				<li>Uses common communication protocols</li>
				<li>Implements extensive and well-known security mechanisms</li>
				<li>Ensures data privacy </li>
				<li>Provides<a id="_idIndexMarker1017"/> support with known <strong class="bold">service-level agreements</strong> (<strong class="bold">SLAs</strong>)</li>
			</ul>
			<p>Let's summarize<a id="_idIndexMarker1018"/> what<a id="_idIndexMarker1019"/> we learned<a id="_idIndexMarker1020"/> in this<a id="_idIndexMarker1021"/> chapter. </p>
			<h1 id="_idParaDest-237"><a id="_idTextAnchor239"/>Summary</h1>
			<p>In this chapter, we examined the architecture and security underpinnings of H2O at Scale model-building technology. Such an examination provides architecture and security stakeholders a sound starting point to evaluate H2O against technical requirements and architecture principles that define enterprise systems. In general, H2O at Scale integrates and operates nicely in enterprise ecosystems and has a small software footprint in doing so. H2O also has extensive security capabilities that meet the high security demands of enterprises.</p>
			<p>In the next chapter, we will take everything we have learned up to this point and place it in the larger context of H2O.ai's exciting new end-to-end machine learning platform called the H2O AI Cloud.</p>
		</div>
	</body></html>