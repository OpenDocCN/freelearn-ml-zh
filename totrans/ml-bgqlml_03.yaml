- en: '*Chapter 2*: Setting Up Your GCP and BigQuery Environment'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The first steps of using a new public cloud provider can be complex, and sometimes
    you might feel overwhelmed by all the services and options in front of you. Cloud
    vendors offer a vast variety of components and resources to solve different use
    cases. With this plethora of modules, it is not easy to decide which service to
    use. Fortunately, to create and run a **Google Cloud Platform** (**GCP**) project,
    you don't have to have specific technical skills or a large budget to invest.
    Regardless of whether you are a private user or an employee of a large company,
    GCP offers the possibility to use its cloud services simply by creating an account
    and a project on the platform. It is also possible to leverage a free trial to
    get credits and test products for a limited period of time.
  prefs: []
  type: TYPE_NORMAL
- en: 'The topics covered in this chapter will help to create a solid foundation for
    your technical environment, and the tasks covered should be performed only once.
    To avoid any kind of uncertainty and disorientation, in this chapter, you''ll
    be taken step by step through the following activities:'
  prefs: []
  type: TYPE_NORMAL
- en: Creating your GCP account and project
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Activating BigQuery
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Discovering the BigQuery web UI
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Exploring BigQuery public datasets
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Technical requirements
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This chapter requires you to have access to a web browser. To perform the steps
    described in this chapter, we suggest using one of the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Google Chrome
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Firefox
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Microsoft Edge
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Microsoft Internet Explorer 11+
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Safari 8+ (Safari Private Browsing mode is not supported)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Now that you're ready with a supported web browser, let's dive into the creation
    of a new GCP account and project.
  prefs: []
  type: TYPE_NORMAL
- en: Creating your GCP account and project
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The first step to start using GCP is the creation of a new **GCP account** and
    a new **project**. A project is a container of multiple GCP resources, and it
    is usually accessed by users through their accounts. Examples of GCP resources
    include Google Compute Engine VMs, Google Cloud Storage buckets, App Engine instances,
    and BigQuery datasets. A GCP project is also linked to a billing account to which
    all of the costs of services consumption are charged. GCP objects can be organized
    hierarchically. Projects are the first level of the hierarchy and can be grouped
    into **folders**. Each folder can have another folder or an **organization** node
    as a parent. The organization is at the top of the GCP hierarchy and cannot have
    a parent.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the following diagram, you can see a hierarchy composed of an organization
    node, two main folders, and two nested folders linked to three different GCP projects:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.1 – GCP resource hierarchy composed of resources, projects, folders,
    and an organization'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_02_001.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.1 – GCP resource hierarchy composed of resources, projects, folders,
    and an organization
  prefs: []
  type: TYPE_NORMAL
- en: According to GCP best practices, it is suggested that you create different projects
    to separate different environments, such as **development**, **test**, **quality
    assurance**, and **production**. Folders are particularly useful to segregate
    workloads that belong to different departments or different teams within the same
    company. The creation of an organization node is not required but one can be used
    to group all the workloads of an entire company or legal entity. The organization
    and the folder nodes are used to assign uniform policies and permissions across
    the company's departments with a unique and centralized point of control.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs: []
  type: TYPE_NORMAL
- en: To use GCP folders, the creation of an organization node is mandatory. If the
    organization node is not created, each project will be considered logically separated
    from the others and cannot be grouped into a folder.
  prefs: []
  type: TYPE_NORMAL
- en: For the hands-on exercises of this book, we'll simply create a GCP project.
    This is the only necessary item to organize all the BigQuery datasets that we
    will create throughout the chapters of the book.
  prefs: []
  type: TYPE_NORMAL
- en: Now that we've learned how GCP resources are organized, let's take a look at
    how to create a new **Google account**.
  prefs: []
  type: TYPE_NORMAL
- en: Registering a GCP account
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To start using GCP, we need at least one user. A user is a **member** configured
    in the **Identity and Access Management** (**IAM**) system. The goal of IAM is
    to grant the right access and permissions to the right members. GCP supports different
    types of members:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Google account**: Any person that may interact with GCP, identified by an
    email address, such as a Gmail account.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Service account**: A technical user, not directly linked to a human user.
    This is assigned to a GCP service to interact with and access other resources.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`user2@companyxyz.com`, and `user3@companyxyz.com`.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Cloud Identity domain**: Similar to the Google Workspace domain, with the
    only difference being that this group of users doesn''t have access to Google''s
    productivity suite.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Google group**: Represents a group of accounts. It is linked to an email
    alias and can be used to assign the same permissions and grants to multiple accounts.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'For our purposes, we''ll create a simple Google account using the free trial
    that is offered by Google and available at this address: [https://cloud.google.com/free](https://cloud.google.com/free):'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.2 – Google Cloud web page to access the GCP free trial'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_02_002.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.2 – Google Cloud web page to access the GCP free trial
  prefs: []
  type: TYPE_NORMAL
- en: 'This free option enables you to get started with GCP at no cost and offers
    the following:'
  prefs: []
  type: TYPE_NORMAL
- en: The possibility to leverage the free tiers of each GCP service, including BigQuery.
    This option has no expiration.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A limited credit amount of $300 to overcome the limits of the free tiers or
    to use other services. This credit expires in 90 days.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'If you haven''t created a GCP project yet, start by selecting **Get started
    for free**, or click **Sign In** to access your existing GCP console. For educational
    purposes, we''ll select **Get started for free** to show the entire process of
    account creation, as shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.3 – Creation of a Google account for GCP'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_02_003.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.3 – Creation of a Google account for GCP
  prefs: []
  type: TYPE_NORMAL
- en: If you don't have an existing email address, you can directly create a Gmail
    account during the GCP registration process. For the account creation process,
    it is necessary to specify your first and last name, an existing or new email
    address, and a strong password to access GCP.
  prefs: []
  type: TYPE_NORMAL
- en: 'After accepting the privacy terms, you will be redirected to the GCP registration
    process, which is basically composed of two steps:'
  prefs: []
  type: TYPE_NORMAL
- en: In the first step, you need to select your country, read and agree to the terms
    of service, and then sign up to receive updates from Google and its partners.
    As shown on the right-hand side of *Figure 2.4*, the registration page summarizes
    the main conditions of the free trial:![Figure 2.4 – First step of GCP account
    creation
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_02_004.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 2.4 – First step of GCP account creation
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The second step requires you to provide all the information that is necessary
    for the billing of your GCP projects. This step asks for your billing address
    and a credit card to start using GCP:![Figure 2.5 – Details to provide to create
    a GCP account
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_02_005.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 2.5 – Details to provide to create a GCP account
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: At the end of the process, select **Start my free trial**; you will be ready
    to access the home page of Google Cloud Console.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Although a credit card is required for the creation of a Google Cloud account,
    the credit card will not be used until you explicitly decide to upgrade the account
    from the free tier to the paid version.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Now that we've created our Google account and we have accessed Google Cloud
    Console for the first time, in the next section we'll explore the main features
    of this web interface.
  prefs: []
  type: TYPE_NORMAL
- en: Exploring Google Cloud Console
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Google Cloud Console allows users to access and use all the GCP resources using
    a graphical user interface.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the following screenshot, you can see Google Cloud Console and its main
    sections:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.6 – Overview of the functionalities of Google Cloud Console'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_02_006.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.6 – Overview of the functionalities of Google Cloud Console
  prefs: []
  type: TYPE_NORMAL
- en: Starting from the top-left corner, you can see the hamburger button to access
    the navigation menu (`1`). This menu allows you to browse among all the GCP resources
    and select which service to use. Moving to the right, just after the GCP logo,
    you'll see the name of the current GCP project (`2`), which shows you which environment
    is currently in use. The search bar (`3`), positioned at the top of the page,
    allows us to look for specific resources or technologies in our project and can
    be considered an alternative to the navigation menu.
  prefs: []
  type: TYPE_NORMAL
- en: Focusing on the top-right corner, we can find `4`). This tool provides the possibility
    to use, for free, a Linux command line directly from Google Cloud Console. This
    Linux environment is already pre-configured with the Google Cloud SDK to easily
    provision and manage resources in your GCP project. Furthermore, it can be used
    to temporarily store data because it offers 5 GB of capacity at no cost.
  prefs: []
  type: TYPE_NORMAL
- en: Moving further to the left, you can see the account settings (`5`) function,
    which is used to access your Google account profile and to log out if needed.
  prefs: []
  type: TYPE_NORMAL
- en: Most of the central area of the screen is occupied by the dashboard (`6`). It
    contains some cards, which provide an overview of your GCP project at a glance.
    The cards are widgets that can be shown or hidden through the `7`) button on the
    right.
  prefs: []
  type: TYPE_NORMAL
- en: Now that we've taken a look at the home page of the GCP console, we're ready
    to create a new GCP project that will host all the hands-on activities of this
    book.
  prefs: []
  type: TYPE_NORMAL
- en: Creating a GCP project
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'As we''ve explained, a GCP project is a container for all the GCP resources
    that we use. Each project is identified by the following features:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Project name**: An easy-to-remember and readable name chosen during the creation
    phase. The name doesn''t have to be unique; it has a purely descriptive function
    and can be changed after project creation.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Project ID**: This identifier is unique and is assigned by the user or automatically
    generated by Google during the creation of a new project. Unlike the project name,
    it cannot be modified. The ID needs to be unique across GCP.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Project number**: An identifier that is automatically generated by GCP and
    cannot be changed by the users. It''s also unique across GCP.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Looking at Google Cloud Console in the **Project info** card, all these identifiers
    can be easily read:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.7 – The Project info widget shows the identifiers of a GCP project'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_02_007.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.7 – The Project info widget shows the identifiers of a GCP project
  prefs: []
  type: TYPE_NORMAL
- en: 'By selecting the name of the project that''s currently in use, we can access
    the entire list of GCP projects that we''re allowed to access:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.8 – By selecting the name of the project in use, it is possible
    to change it'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_02_008.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.8 – By selecting the name of the project in use, it is possible to
    change it
  prefs: []
  type: TYPE_NORMAL
- en: Clicking opens a pop-up window that allows us to change the current project
    or to browse the GCP hierarchy of organization, folders, and projects. In our
    case, the only existing GCP project is **My First Project**, which was automatically
    created during the registration process.
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s go through the process of creating a new project:'
  prefs: []
  type: TYPE_NORMAL
- en: By selecting the **New Project** button at the top-right corner of the window,
    it is possible to create a new environment to logically separate cloud workloads.
    For our purposes, we'll create a dedicated GCP project to host all the hands-on
    exercises that will follow in the chapters of this book:![Figure 2.9 – This window
    allows you to select an existing project or create a new one
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_02_009.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 2.9 – This window allows you to select an existing project or create
    a new one
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: In the next step, you are asked to fill in the project name. In this case, we'll
    use `bigqueryml-packt`, but you can choose another one. This is also the place
    where it is possible to link your GCP project to a parent object such as an organization
    or a folder. Upon selecting **Edit**, you have also the opportunity to change
    the automatically generated project ID. The new project will be created by you
    clicking the **Create** button:![Figure 2.10 – The New Project window allows you
    to choose the project name, ID, and location
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_02_010.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 2.10 – The New Project window allows you to choose the project name,
    ID, and location
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: After a few seconds, we will get a notification about the creation of the new
    project, visible at the top-right corner of the GCP console by clicking on the
    bell icon:![Figure 2.11 – A notification is sent to the GCP user when a new project
    is created and ready to be used
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_02_011.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 2.11 – A notification is sent to the GCP user when a new project is created
    and ready to be used
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'After creation, the new GCP project is also visible in the project hierarchy
    and can be selected in order to choose it as the current working environment:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.12 – After the project''s creation, it is possible to make it the
    current project'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_02_012.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.12 – After the project's creation, it is possible to make it the current
    project
  prefs: []
  type: TYPE_NORMAL
- en: Now that we've created a new project, it is time to start using BigQuery. In
    the next section, we'll learn how to activate the service before using it.
  prefs: []
  type: TYPE_NORMAL
- en: Activating BigQuery
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Each GCP service can be enabled or disabled according to the customer''s needs
    and the use case that it is required to implement. For our purposes, we''ll show
    the steps that are necessary to activate the BigQuery service, but the same approach
    can be extended to other GCP technologies:'
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs: []
  type: TYPE_NORMAL
- en: Enabling or disabling a GCP service will not impact the billing of your GCP
    project. You'll be charged only for the actual usage of GCP components and not
    for just having a service enabled.
  prefs: []
  type: TYPE_NORMAL
- en: The first step is to access the API and services library, which can be easily
    found in the navigation menu of Google Cloud Console:![Figure 2.13 – From the
    navigation menu of the GCP console,
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: it is possible to access the library of GCP services
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '](img/B16722_02_013.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 2.13 – From the navigation menu of the GCP console, it is possible to
    access the library of GCP services
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: This function lets you browse the entire library of GCP services and choose
    services to turn on or off.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: If we search for *bigquery* in the search bar, the first result will be **BigQuery
    API**:![Figure 2.14 – Looking for bigquery using the search bar, it is possible
    to find the BigQuery API service
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_02_014.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 2.14 – Looking for bigquery using the search bar, it is possible to find
    the BigQuery API service
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Upon clicking on **BigQuery API**, we'll be redirected to a page dedicated to
    the BigQuery service, where it is possible to read a description of the service,
    access the BigQuery documentation, and enable the service if that wasn't done
    before. If the service was disabled, trying to access BigQuery directly from the
    navigation menu would have redirected us to the same page.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Selecting the **Enable** button, GCP will activate BigQuery, allowing you to
    start using it. Once the service is effectively enabled, you will be redirected
    to the dashboard of the service, which shows an overview of the usage statistics
    and lets you disable this component with the **Disable API** button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: So far, we've created a new Google account and a dedicated GCP project, and
    we've enabled BigQuery; now it's time to take a look at the BigQuery web interface.
  prefs: []
  type: TYPE_NORMAL
- en: Discovering the BigQuery web UI
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: When the BigQuery APIs are enabled, in order to access the BigQuery UI, you
    can open the GCP navigation menu and select **BigQuery** from the list of Google
    Cloud services.
  prefs: []
  type: TYPE_NORMAL
- en: 'At first glance (see the following screenshot), the BigQuery UI might seem
    complex because it contains a lot of information and buttons. On the left side
    of the screen, we can see a column occupied by the navigation panel (**1**). This
    panel is split into two main sections. In the upper one, you can access the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Query history**, which tracks all the queries previously executed with their
    execution statuses.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Saved queries**, an area to store the queries that you save and use more
    frequently.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Job history**, to keep track of all the bulk load, export, and copy operations with
    their execution statuses.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Transfers** enables us to ingest data into BigQuery, leveraging **BigQuery
    Data Transfer Service** from **Software as a Service** (**SaaS**) applications,
    such as Google Analytics, Google Ads, or Amazon S3.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Scheduled queries**, to periodically schedule a query or to monitor queries
    already scheduled for execution.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Reservations**, to reserve BigQuery processing power with the flat-rate pricing
    model.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**BI Engine** allows you to activate an in-memory layer on top of BigQuery
    to further increase performance and get sub-second latencies for reporting activities.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Resources** allows you to browse different GCP projects and datasets.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In the lower part of the navigation panel, we can access and browse projects,
    related BigQuery datasets, and data structures such as tables, views, and machine
    learning models (**2**):'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.15 – All the functionalities of the BigQuery web interface'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_02_015.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.15 – All the functionalities of the BigQuery web interface
  prefs: []
  type: TYPE_NORMAL
- en: At the top center of the web page, you can leverage the web query editor (**3**)
    to write SQL statements and run these queries using the **Run** button (**4**).
    The web query editor can be hidden by the developer with the **HIDE EDITOR** button
    in the top-right corner or cleared by selecting **COMPOSE NEW QUERY** (**5**).
    Below the query editor, you can visualize the results of the executed queries
    and the details of each selected item (**6**), such as a dataset or a table. Between
    the two sections of the web interface, it is possible to access the **Query Scheduler**
    tool (**7**). Clicking on the **More** button (**8**), it is also possible to
    access the BigQuery options and the SQL formatter, which is used to make SQL queries
    readable.
  prefs: []
  type: TYPE_NORMAL
- en: On the right-hand side of the **bigqueryml-packt** panel, you can select/click
    **CREATE DATASET** (**9**) to create a new BigQuery dataset.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs: []
  type: TYPE_NORMAL
- en: Among the BigQuery options, you can find the options to enable or disable the
    BigQuery cache. If the cache is enabled, BigQuery tries to use cached results
    if they are available. If the result of a query is already in the cache, the query
    is not executed. The cache is used to save computational resources and get high
    performance. If a query contains non-deterministic functions, such as `CURRENT_TIMESTAMP()`
    and `NOW()`, the cache is not used and BigQuery will execute the query statement.
  prefs: []
  type: TYPE_NORMAL
- en: In this section, we've analyzed all the main features available in the BigQuery
    web interface. Now, we can start exploring the **BigQuery public datasets** and
    understand how to use them in our projects.
  prefs: []
  type: TYPE_NORMAL
- en: Exploring the BigQuery public datasets
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Collecting large volumes of data is fundamental to developing machine learning
    use cases. This kind of activity is considered one of the most painful jobs in
    the data management field. In fact, it requires tools and best practices to regularly
    monitor and gather information from the physical world to translate it into data.
    Thanks to the **Cloud Public Datasets Program**, we are allowed to use data that
    has already been collected and ingested into BigQuery.
  prefs: []
  type: TYPE_NORMAL
- en: 'The **BigQuery public datasets** are available in the **Datasets** section
    of the **Google Cloud Marketplace** and are publicly available and ready to use
    for all GCP users. A list of all the datasets is reachable at this URL: [https://console.cloud.google.com/marketplace/browse?filter=solution-type:dataset](https://console.cloud.google.com/marketplace/browse?filter=solution-type:dataset).
    The datasets are provided not only by Google but by large companies and public
    organizations that contribute to the maintenance of this multidisciplinary set
    of around 200 datasets. Some of the contributors are GitHub, NOAA, NASA, the City
    of Chicago, the University of Oxford, and the USA Department of Transportation.'
  prefs: []
  type: TYPE_NORMAL
- en: The public datasets are also directly accessible from the BigQuery UI. In the
    next few pages, we'll discover step by step what we should do to start using them.
  prefs: []
  type: TYPE_NORMAL
- en: Searching for a public dataset
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: From the BigQuery UI, we can select the **Add Data** button in the navigation
    menu and then click on **Explore public datasets** to open an overlay window that
    will show the BigQuery public datasets divided by category of interest.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the following screenshot, you can see some BigQuery public datasets:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.16 – The BigQuery public datasets embedded view in the main BigQuery
    UI'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_02_016.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.16 – The BigQuery public datasets embedded view in the main BigQuery
    UI
  prefs: []
  type: TYPE_NORMAL
- en: From this screen, you can scroll up and down to explore the available datasets,
    use the search bar to look for a specific topic, or use the **Category** menu
    to filter the topics.
  prefs: []
  type: TYPE_NORMAL
- en: For our purposes, we'll look for the open data related to **Chicago Taxi Trips**,
    published by the City of Chicago. To find this dataset, the suggestion is to search
    the keywords Chicago taxi and select the only item that will appear with the name
    **Chicago Taxi Trips**.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the following screenshot, you can see a description of the dataset:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.17 – The Chicago Taxi Trips public dataset overview, accessible
    from the'
  prefs: []
  type: TYPE_NORMAL
- en: Google Cloud Marketplace
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_02_017.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.17 – The Chicago Taxi Trips public dataset overview, accessible from
    the Google Cloud Marketplace
  prefs: []
  type: TYPE_NORMAL
- en: In the **Overview** section, the dataset is described, and additional information
    is provided on the right. In this particular case, we can read that the dataset
    is updated monthly and is published on the Chicago Data Portal.
  prefs: []
  type: TYPE_NORMAL
- en: 'Upon clicking the `bigquery-public-data` project. Browsing this GCP project,
    you''ll find the `chicago_taxi_trips` dataset, which contains only one table:
    `taxi_trips`.'
  prefs: []
  type: TYPE_NORMAL
- en: Analyzing a table
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Clicking on the table name will enable you to go deeper into some aspects of
    the `taxi_trips` data. In the **Schema** tab, we can explore what the fields that
    compose the selected table are. Some columns are defined as **REQUIRED** and others
    are **NULLABLE**. Thanks to the publisher of the dataset, this table is also well
    documented, and we can read a short description of each field. This kind of information
    will help us during the first stages of the implementation of a new use case before
    building a machine learning model:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.18 – The table schema is accessible simply by selecting the table
    name'
  prefs: []
  type: TYPE_NORMAL
- en: from the navigation menu
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_02_018.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.18 – The table schema is accessible simply by selecting the table name
    from the navigation menu
  prefs: []
  type: TYPE_NORMAL
- en: 'To deep dive into the technical details of the table, we can move to the **Details**
    tab. This section shows relevant information such as the following:'
  prefs: []
  type: TYPE_NORMAL
- en: The table size in GB.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The number of rows in the table.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The creation date of the table and also the last time that it was updated.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The BigQuery region in which the table is stored. In this case, the data is
    stored in the multi-region US.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**Number of Rows** and **Last Modified Date** give fundamental information
    for machine learning purposes. To train effective models, we need to be sure that
    we have enough records and that those records aren''t obsolete. Using an insufficient
    number of records or old data can produce low-quality machine learning models.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The **Preview** tab gives us the last available information that we can gather
    from the table. This functionality allows us to take a view of a sample of data
    stored in the table and understand the content at a glance.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the following screenshot, you can visualize the records of the table using
    the **Preview** feature:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.19 – The Preview tab presents a sample of records from the taxi_trips
    table'
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_02_019.jpg)'
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2.19 – The Preview tab presents a sample of records from the taxi_trips
    table
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs: []
  type: TYPE_NORMAL
- en: Accessing information from the `SELECT COUNT(*)` query. To view a sample of
    the records, it is recommended to use the `SELECT *` on the table.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Throughout this second chapter, we've taken the first steps into GCP. Before
    starting the registration process, we look at the hierarchy of GCP resources,
    composed of multiple projects, folders, and an organization node.
  prefs: []
  type: TYPE_NORMAL
- en: After that, we learned how to create a new account and leverage the free trial
    offered by Google. Then, we explored Google Cloud Console from the web browser
    and created a new GCP project that we'll use in the next chapters to host our
    machine learning use cases.
  prefs: []
  type: TYPE_NORMAL
- en: Upon completing the setup operations, we enabled the BigQuery API to start accessing
    this serverless analytic data warehouse.
  prefs: []
  type: TYPE_NORMAL
- en: Since BigQuery provides a lot of different functions, we introduced each of
    them gradually, exploring their utility. One of the most important functions is
    adding public datasets to our console. This capability enables us to access and
    use tables that have already been compiled by companies and public institutions.
    The datasets are ready to use and can be leveraged to develop our use cases.
  prefs: []
  type: TYPE_NORMAL
- en: For this chapter, we focused on a table with information about taxi trips, published
    by the City of Chicago. This table offered us the opportunity to explore the technical
    details of a table and how to preview the data in it.
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we will write our first SQL statements to become confident
    with all the basic operations that will be extremely valuable during the development
    of machine learning models.
  prefs: []
  type: TYPE_NORMAL
- en: Further reading
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The following links will offer you more resources on this chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Google Cloud trial**: [https://cloud.google.com/free](https://cloud.google.com/free)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Enabling an API in GCP**: [https://cloud.google.com/endpoints/docs/openapi/enable-api](https://cloud.google.com/endpoints/docs/openapi/enable-api)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**BigQuery web interface**: [https://console.cloud.google.com/bigquery](https://console.cloud.google.com/bigquery)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**BigQuery web interface documentation**: [https://cloud.google.com/bigquery/docs/bigquery-web-ui](https://cloud.google.com/bigquery/docs/bigquery-web-ui)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**BigQuery public datasets marketplace**: [https://console.cloud.google.com/marketplace/browse?filter=solution-type:dataset](https://console.cloud.google.com/marketplace/browse?filter=solution-type:dataset)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**BigQuery public datasets documentation**: [https://cloud.google.com/bigquery/public-data](https://cloud.google.com/bigquery/public-data)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Data portal of the City of Chicago**: [https://data.cityofchicago.org/](https://data.cityofchicago.org/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
