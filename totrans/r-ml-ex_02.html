<html><head></head><body>
<div class="book" title="Data structures in R">
<div class="book" title="Vectors"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec10" class="calibre1"/>Vectors</h2></div></div></div><p class="calibre8">Just like we mentioned briefly in <a id="id11" class="calibre1"/>the previous sections, vectors are the most basic data type inside R. We use vectors to represent anything, be it input or output. We previously saw how we create vectors and apply mathematical operations on them. We will see some more examples here.</p><div class="book" title="Creating vectors"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec01" class="calibre1"/>Creating vectors</h3></div></div></div><p class="calibre8">Here we will look at ways to <a id="id12" class="calibre1"/>initialize vectors, some of which we had also worked on previously, using operators such as <code class="email">:</code> and functions such as <code class="email">c</code>. In the following code snippet, we will use the <code class="email">seq</code> family of functions to initialize vectors in different ways.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; c(2.5:4.5, 6, 7, c(8, 9, 10), c(12:15))</strong></span>
<span class="strong"><strong class="calibre9"> [1]  2.5  3.5  4.5  6.0  7.0  8.0  9.0 10.0 12.0 13.0 14.0 15.0</strong></span>
<span class="strong"><strong class="calibre9">&gt; vector("numeric", 5)</strong></span>
<span class="strong"><strong class="calibre9">[1] 0 0 0 0 0</strong></span>
<span class="strong"><strong class="calibre9">&gt; vector("logical", 5)</strong></span>
<span class="strong"><strong class="calibre9">[1] FALSE FALSE FALSE FALSE FALSE</strong></span>
<span class="strong"><strong class="calibre9">&gt; logical(5)</strong></span>
<span class="strong"><strong class="calibre9">[1] FALSE FALSE FALSE FALSE FALSE</strong></span>
<span class="strong"><strong class="calibre9">&gt; # seq is a function which creates sequences</strong></span>
<span class="strong"><strong class="calibre9">&gt; seq.int(1,10)</strong></span>
<span class="strong"><strong class="calibre9"> [1]  1  2  3  4  5  6  7  8  9 10</strong></span>
<span class="strong"><strong class="calibre9">&gt; seq.int(1,10,2)</strong></span>
<span class="strong"><strong class="calibre9">[1] 1 3 5 7 9</strong></span>
<span class="strong"><strong class="calibre9">&gt; seq_len(10)</strong></span>
<span class="strong"><strong class="calibre9"> [1]  1  2  3  4  5  6  7  8  9 10</strong></span>
</pre></div></div><div class="book" title="Indexing and naming vectors"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec02" class="calibre1"/>Indexing and naming vectors</h3></div></div></div><p class="calibre8">One of the most <a id="id13" class="calibre1"/>important operations we can do on vectors involves subsetting and <a id="id14" class="calibre1"/>indexing vectors to access specific elements which are often useful when we want to run some code only on specific data points. The following examples show some ways in which we can index and subset vectors:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; vec &lt;- c("R", "Python", "Julia", "Haskell", "Java", "Scala")</strong></span>
<span class="strong"><strong class="calibre9">&gt; vec[1]</strong></span>
<span class="strong"><strong class="calibre9">[1] "R"</strong></span>
<span class="strong"><strong class="calibre9">&gt; vec[2:4]</strong></span>
<span class="strong"><strong class="calibre9">[1] "Python"  "Julia"   "Haskell"</strong></span>
<span class="strong"><strong class="calibre9">&gt; vec[c(1, 3, 5)]</strong></span>
<span class="strong"><strong class="calibre9">[1] "R"     "Julia" "Java" </strong></span>
<span class="strong"><strong class="calibre9">&gt; nums &lt;- c(5, 8, 10, NA, 3, 11)</strong></span>
<span class="strong"><strong class="calibre9">&gt; nums</strong></span>
<span class="strong"><strong class="calibre9">[1]  5  8 10 NA  3 11</strong></span>
<span class="strong"><strong class="calibre9">&gt; which.min(nums)   # index of the minimum element</strong></span>
<span class="strong"><strong class="calibre9">[1] 5</strong></span>
<span class="strong"><strong class="calibre9">&gt; which.max(nums)   # index of the maximum element</strong></span>
<span class="strong"><strong class="calibre9">[1] 6</strong></span>
<span class="strong"><strong class="calibre9">&gt; nums[which.min(nums)]  # the actual minimum element</strong></span>
<span class="strong"><strong class="calibre9">[1] 3</strong></span>
<span class="strong"><strong class="calibre9">&gt; nums[which.max(nums)]  # the actual maximum element</strong></span>
<span class="strong"><strong class="calibre9">[1] 11</strong></span>
</pre></div><p class="calibre8">Now we look at how we can name vectors. This is basically a nifty feature in R where you can label each element in a vector to make it more readable or easy to interpret. There are two ways this can be done, which are shown in the following examples:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; c(first=1, second=2, third=3, fourth=4, fifth=5)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00003.jpeg" alt="Indexing and naming vectors" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; positions &lt;- c(1, 2, 3, 4, 5)</strong></span>
<span class="strong"><strong class="calibre9">&gt; names(positions) </strong></span>
<span class="strong"><strong class="calibre9">NULL</strong></span>
<span class="strong"><strong class="calibre9">&gt; names(positions) &lt;- c("first", "second", "third", "fourth", "fifth")</strong></span>
<span class="strong"><strong class="calibre9">&gt; positions</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00003.jpeg" alt="Indexing and naming vectors" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; names(positions)</strong></span>
<span class="strong"><strong class="calibre9">[1] "first"  "second" "third"  "fourth" "fifth"</strong></span>
<span class="strong"><strong class="calibre9">&gt; positions[c("second", "fourth")]</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00004.jpeg" alt="Indexing and naming vectors" class="calibre16"/></span></p><p class="calibre8">Thus, you can see, it <a id="id15" class="calibre1"/>becomes really useful to annotate and name vectors <a id="id16" class="calibre1"/>sometimes, and we can also subset and slice vectors using element names rather than values.</p></div></div></div>

<div class="book" title="Data structures in R">
<div class="book" title="Arrays and matrices"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec11" class="calibre1"/>Arrays and matrices</h2></div></div></div><p class="calibre8">Vectors are one dimensional <a id="id17" class="calibre1"/>data structures, which means that they just have one dimension and we can get the number of elements they have using the <code class="email">length</code> property. Do remember that arrays may also have a similar meaning in other programming languages, but in R they have a slightly different meaning. Basically, arrays in R are data structures which hold the data having multiple dimensions. Matrices are just a special case of generic arrays having two dimensions, namely represented by properties <code class="email">rows</code> and <code class="email">columns</code>. Let us look at some examples in the following code snippets in the accompanying subsection.</p><div class="book" title="Creating arrays and matrices"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec03" class="calibre1"/>Creating arrays and matrices</h3></div></div></div><p class="calibre8">First we will create an <a id="id18" class="calibre1"/>array that has three dimensions. Now it is easy to represent two dimensions in your screen, but to go one dimension higher, there are special ways in which R transforms the data. The following example shows how R fills the data (column first) in each dimension and shows the final output for a 4x3x3 array:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; three.dim.array &lt;- array(</strong></span>
<span class="strong"><strong class="calibre9">+     1:32,    # input data</strong></span>
<span class="strong"><strong class="calibre9">+     dim = c(4, 3, 3),   # dimensions</strong></span>
<span class="strong"><strong class="calibre9">+     dimnames = list(    # names of dimensions</strong></span>
<span class="strong"><strong class="calibre9">+         c("row1", "row2", "row3", "row4"),</strong></span>
<span class="strong"><strong class="calibre9">+         c("col1", "col2", "col3"),</strong></span>
<span class="strong"><strong class="calibre9">+         c("first.set", "second.set", "third.set")</strong></span>
<span class="strong"><strong class="calibre9">+     )</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">&gt; three.dim.array</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00005.jpeg" alt="Creating arrays and matrices" class="calibre16"/></span></p><p class="calibre8">Like I mentioned earlier, a matrix is just a special case of an array. We can create a matrix using the <code class="email">matrix</code> function, shown in detail in the following example. Do note that we use the parameter <code class="email">byrow</code> to fill the data row-wise in the matrix instead of R's default column-wise fill <a id="id19" class="calibre1"/>in any array or matrix. The <code class="email">ncol</code> and <code class="email">nrow</code> parameters stand for number of columns and rows respectively.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; mat &lt;- matrix(</strong></span>
<span class="strong"><strong class="calibre9">+     1:24,   # data</strong></span>
<span class="strong"><strong class="calibre9">+     nrow = 6,  # num of rows</strong></span>
<span class="strong"><strong class="calibre9">+     ncol = 4,  # num of columns</strong></span>
<span class="strong"><strong class="calibre9">+     byrow = TRUE,  # fill the elements row-wise</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">&gt; mat</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00006.jpeg" alt="Creating arrays and matrices" class="calibre16"/></span></p></div><div class="book" title="Names and dimensions"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec04" class="calibre1"/>Names and dimensions</h3></div></div></div><p class="calibre8">Just like we named <a id="id20" class="calibre1"/>vectors and accessed element names, will perform similar operations in the following code snippets. You have already seen the use of the <code class="email">dimnames</code> parameter in the preceding examples. Let us look at some more examples as follows:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; dimnames(three.dim.array)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00007.jpeg" alt="Names and dimensions" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; rownames(three.dim.array)</strong></span>
<span class="strong"><strong class="calibre9">[1] "row1" "row2" "row3" "row4"</strong></span>
<span class="strong"><strong class="calibre9">&gt; colnames(three.dim.array)</strong></span>
<span class="strong"><strong class="calibre9">[1] "col1" "col2" "col3"</strong></span>
<span class="strong"><strong class="calibre9">&gt; dimnames(mat)</strong></span>
<span class="strong"><strong class="calibre9">NULL</strong></span>
<span class="strong"><strong class="calibre9">&gt; rownames(mat)</strong></span>
<span class="strong"><strong class="calibre9">NULL</strong></span>
<span class="strong"><strong class="calibre9">&gt; rownames(mat) &lt;- c("r1", "r2", "r3", "r4", "r5", "r6")</strong></span>
<span class="strong"><strong class="calibre9">&gt; colnames(mat) &lt;- c("c1", "c2", "c3", "c4")</strong></span>
<span class="strong"><strong class="calibre9">&gt; dimnames(mat)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00008.jpeg" alt="Names and dimensions" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; mat</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00009.jpeg" alt="Names and dimensions" class="calibre16"/></span></p><p class="calibre8">To access details of dimensions related to arrays and matrices, there are special functions. The <a id="id21" class="calibre1"/>following examples show the same:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; dim(three.dim.array)</strong></span>
<span class="strong"><strong class="calibre9">[1] 4 3 3</strong></span>
<span class="strong"><strong class="calibre9">&gt; nrow(three.dim.array)</strong></span>
<span class="strong"><strong class="calibre9">[1] 4</strong></span>
<span class="strong"><strong class="calibre9">&gt; ncol(three.dim.array)</strong></span>
<span class="strong"><strong class="calibre9">[1] 3</strong></span>
<span class="strong"><strong class="calibre9">&gt; length(three.dim.array)  # product of dimensions</strong></span>
<span class="strong"><strong class="calibre9">[1] 36</strong></span>
<span class="strong"><strong class="calibre9">&gt; dim(mat)</strong></span>
<span class="strong"><strong class="calibre9">[1] 6 4</strong></span>
<span class="strong"><strong class="calibre9">&gt; nrow(mat)</strong></span>
<span class="strong"><strong class="calibre9">[1] 6</strong></span>
<span class="strong"><strong class="calibre9">&gt; ncol(mat)</strong></span>
<span class="strong"><strong class="calibre9">[1] 4</strong></span>
<span class="strong"><strong class="calibre9">&gt; length(mat)</strong></span>
<span class="strong"><strong class="calibre9">[1] 24</strong></span>
</pre></div></div><div class="book" title="Matrix operations"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec05" class="calibre1"/>Matrix operations</h3></div></div></div><p class="calibre8">A lot of machine <a id="id22" class="calibre1"/>learning and optimization algorithms deal with matrices as their input data. In the following section, we will look at some examples of the most common operations on matrices.</p><p class="calibre8">We start by initializing two matrices and then look at ways of combining the two matrices using functions such as <code class="email">c</code> which returns a vector, <code class="email">rbind</code> which combines the matrices by <code class="email">rows,</code> and <code class="email">cbind</code> which does the same by columns.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; mat1 &lt;- matrix(</strong></span>
<span class="strong"><strong class="calibre9">+     1:15,</strong></span>
<span class="strong"><strong class="calibre9">+     nrow = 5,</strong></span>
<span class="strong"><strong class="calibre9">+     ncol = 3,</strong></span>
<span class="strong"><strong class="calibre9">+     byrow = TRUE,</strong></span>
<span class="strong"><strong class="calibre9">+     dimnames = list(</strong></span>
<span class="strong"><strong class="calibre9">+         c("M1.r1", "M1.r2", "M1.r3", "M1.r4", "M1.r5")</strong></span>
<span class="strong"><strong class="calibre9">+         ,c("M1.c1", "M1.c2", "M1.c3")</strong></span>
<span class="strong"><strong class="calibre9">+     )</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">&gt; mat1</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00010.jpeg" alt="Matrix operations" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; mat2 &lt;- matrix(</strong></span>
<span class="strong"><strong class="calibre9">+     16:30,</strong></span>
<span class="strong"><strong class="calibre9">+     nrow = 5,</strong></span>
<span class="strong"><strong class="calibre9">+     ncol = 3,</strong></span>
<span class="strong"><strong class="calibre9">+     byrow = TRUE,</strong></span>
<span class="strong"><strong class="calibre9">+     dimnames = list(</strong></span>
<span class="strong"><strong class="calibre9">+         c("M2.r1", "M2.r2", "M2.r3", "M2.r4", "M2.r5"),</strong></span>
<span class="strong"><strong class="calibre9">+         c("M2.c1", "M2.c2", "M2.c3")</strong></span>
<span class="strong"><strong class="calibre9">+     )</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">&gt; mat2</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00011.jpeg" alt="Matrix operations" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; rbind(mat1, mat2)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00012.jpeg" alt="Matrix operations" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; cbind(mat1, mat2)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00013.jpeg" alt="Matrix operations" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; c(mat1, mat2)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00014.jpeg" alt="Matrix operations" class="calibre16"/></span></p><p class="calibre8">Now we look at some of the important arithmetic operations which can be performed on matrices. Most of them <a id="id23" class="calibre1"/>are quite self-explanatory from the following syntax:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; mat1 + mat2   # matrix addition</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00015.jpeg" alt="Matrix operations" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; mat1 * mat2  # element-wise multiplication</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00016.jpeg" alt="Matrix operations" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; tmat2 &lt;- t(mat2)  # transpose</strong></span>
<span class="strong"><strong class="calibre9">&gt; tmat2</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00017.jpeg" alt="Matrix operations" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; mat1 %*% tmat2   # matrix inner product</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00018.jpeg" alt="Matrix operations" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; m &lt;- matrix(c(5, -3, 2, 4, 12, -1, 9, 14, 7), nrow = 3, ncol = 3)</strong></span>
<span class="strong"><strong class="calibre9">&gt; m</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00019.jpeg" alt="Matrix operations" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; inv.m &lt;- solve(m)  # matrix inverse</strong></span>
<span class="strong"><strong class="calibre9">&gt; inv.m</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00020.jpeg" alt="Matrix operations" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; round(m %*% inv.m) # matrix * matrix_inverse = identity matrix</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00021.jpeg" alt="Matrix operations" class="calibre16"/></span></p><p class="calibre8">The preceding arithmetic operations are just some of the most popular ones amongst the vast number of functions <a id="id24" class="calibre1"/>and operators which can be applied to matrices. This becomes useful, especially in areas such as linear optimization.</p></div></div></div>

<div class="book" title="Data structures in R">
<div class="book" title="Lists"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec12" class="calibre1"/>Lists</h2></div></div></div><p class="calibre8">Lists are a special case <a id="id25" class="calibre1"/>of vectors where each element in the vector can be of a different type of data structure or even simple data types. It is similar to the lists in the Python programming language in some aspects, if you have used it before, where the lists indicate elements which can be of different types and each have a specific index in the list. In R, each element of a list can be as simple as a single element or as complex as a whole matrix, a function, or even a vector of strings.</p><div class="book" title="Creating and indexing lists"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec06" class="calibre1"/>Creating and indexing lists</h3></div></div></div><p class="calibre8">We will get started with <a id="id26" class="calibre1"/>looking at some common methods to create and initialize lists in the <a id="id27" class="calibre1"/>following examples. Besides that, we will also look at how we can access some of these list elements for further computations. Do remember that each element in a list can be a simple primitive data type or even complex data structures or functions.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; list.sample &lt;- list(</strong></span>
<span class="strong"><strong class="calibre9">+     1:5,</strong></span>
<span class="strong"><strong class="calibre9">â€©+     c("first", "second", "third"),</strong></span>
<span class="strong"><strong class="calibre9">+     c(TRUE, FALSE, TRUE, TRUE),</strong></span>
<span class="strong"><strong class="calibre9">+     cos,</strong></span>
<span class="strong"><strong class="calibre9">+     matrix(1:9, nrow = 3, ncol = 3)</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">&gt; list.sample</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00022.jpeg" alt="Creating and indexing lists" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; list.with.names &lt;- list(</strong></span>
<span class="strong"><strong class="calibre9">+     even.nums = seq.int(2,10,2),</strong></span>
<span class="strong"><strong class="calibre9">+     odd.nums  = seq.int(1,10,2),</strong></span>
<span class="strong"><strong class="calibre9">+     languages = c("R", "Python", "Julia", "Java"),</strong></span>
<span class="strong"><strong class="calibre9">+     cosine.func = cos</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">&gt; list.with.names</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00023.jpeg" alt="Creating and indexing lists" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; list.with.names$cosine.func</strong></span>
<span class="strong"><strong class="calibre9">function (x)  .Primitive("cos")</strong></span>
<span class="strong"><strong class="calibre9">&gt; list.with.names$cosine.func(pi)</strong></span>
<span class="strong"><strong class="calibre9">[1] -1</strong></span>
<span class="strong"><strong class="calibre9">&gt;</strong></span>
<span class="strong"><strong class="calibre9">&gt; list.sample[[4]]</strong></span>
<span class="strong"><strong class="calibre9">function (x)  .Primitive("cos")</strong></span>
<span class="strong"><strong class="calibre9">&gt; list.sample[[4]](pi)</strong></span>
<span class="strong"><strong class="calibre9">[1] -1</strong></span>
<span class="strong"><strong class="calibre9">&gt;</strong></span>
<span class="strong"><strong class="calibre9">&gt; list.with.names$odd.nums</strong></span>
<span class="strong"><strong class="calibre9">[1] 1 3 5 7 9</strong></span>
<span class="strong"><strong class="calibre9">&gt; list.sample[[1]]</strong></span>
<span class="strong"><strong class="calibre9">[1] 1 2 3 4 5</strong></span>
<span class="strong"><strong class="calibre9">&gt; list.sample[[3]]</strong></span>
<span class="strong"><strong class="calibre9">[1]  TRUE FALSE  TRUE  TRUE</strong></span>
</pre></div><p class="calibre8">You can see <a id="id28" class="calibre1"/>from the preceding examples how easy it is to access any element of the <a id="id29" class="calibre1"/>list and use it for further computations, such as the <code class="email">cos</code> function.</p></div><div class="book" title="Combining and converting lists"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec07" class="calibre1"/>Combining and converting lists</h3></div></div></div><p class="calibre8">Now we will <a id="id30" class="calibre1"/>take a look at how to combine several lists together into one <a id="id31" class="calibre1"/>single list in the following examples:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; l1 &lt;- list(</strong></span>
<span class="strong"><strong class="calibre9">+     nums = 1:5,</strong></span>
<span class="strong"><strong class="calibre9">+     chars = c("a", "b", "c", "d", "e"),</strong></span>
<span class="strong"><strong class="calibre9">+     cosine = cos</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">&gt; l2 &lt;- list(</strong></span>
<span class="strong"><strong class="calibre9">+     languages = c("R", "Python", "Java"),</strong></span>
<span class="strong"><strong class="calibre9">+     months = c("Jan", "Feb", "Mar", "Apr"),</strong></span>
<span class="strong"><strong class="calibre9">+     sine = sin</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">&gt; # combining the lists now</strong></span>
<span class="strong"><strong class="calibre9">&gt; l3 &lt;- c(l1, l2)</strong></span>
<span class="strong"><strong class="calibre9">&gt; l3</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00024.jpeg" alt="Combining and converting lists" class="calibre16"/></span></p><p class="calibre8">It is very easy to <a id="id32" class="calibre1"/>convert lists in to vectors and vice versa. The following examples <a id="id33" class="calibre1"/>show some common ways we can achieve this:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; l1 &lt;- 1:5</strong></span>
<span class="strong"><strong class="calibre9">&gt; class(l1)</strong></span>
<span class="strong"><strong class="calibre9">[1] "integer"</strong></span>
<span class="strong"><strong class="calibre9">&gt; list.l1 &lt;- as.list(l1)</strong></span>
<span class="strong"><strong class="calibre9">&gt; class(list.l1)</strong></span>
<span class="strong"><strong class="calibre9">[1] "list"</strong></span>
<span class="strong"><strong class="calibre9">&gt; list.l1</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00025.jpeg" alt="Combining and converting lists" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; unlist(list.l1)</strong></span>
<span class="strong"><strong class="calibre9">[1] 1 2 3 4 5</strong></span>
</pre></div></div></div></div>

<div class="book" title="Data structures in R">
<div class="book" title="Data frames"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec13" class="calibre1"/>Data frames</h2></div></div></div><p class="calibre8">Data frames are special <a id="id34" class="calibre1"/>data structures which are typically used for storing data tables or data in the form of spreadsheets, where each column indicates a specific attribute or field and the rows consist of specific values for those columns. This data structure is extremely useful in working with datasets which usually have a lot of fields and attributes.</p><div class="book" title="Creating data frames"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec08" class="calibre1"/>Creating data frames</h3></div></div></div><p class="calibre8">We can create data frames <a id="id35" class="calibre1"/>easily using the <code class="email">data.frame</code> function. We will look at some following examples to illustrate the same with some popular superheroes:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; df &lt;- data.frame(</strong></span>
<span class="strong"><strong class="calibre9">+     real.name = c("Bruce Wayne", "Clark Kent", "Slade Wilson", "Tony Stark", "Steve Rogers"),</strong></span>
<span class="strong"><strong class="calibre9">+     superhero.name = c("Batman", "Superman", "Deathstroke", "Iron Man", "Capt. America"),</strong></span>
<span class="strong"><strong class="calibre9">+     franchise = c("DC", "DC", "DC", "Marvel", "Marvel"),</strong></span>
<span class="strong"><strong class="calibre9">+     team = c("JLA", "JLA", "Suicide Squad", "Avengers", "Avengers"),</strong></span>
<span class="strong"><strong class="calibre9">+     origin.year = c(1939, 1938, 1980, 1963, 1941)</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">&gt; df</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00026.jpeg" alt="Creating data frames" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; class(df)</strong></span>
<span class="strong"><strong class="calibre9">[1] "data.frame"</strong></span>
<span class="strong"><strong class="calibre9">&gt; str(df)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00027.jpeg" alt="Creating data frames" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; rownames(df)</strong></span>
<span class="strong"><strong class="calibre9">[1] "1" "2" "3" "4" "5"</strong></span>
<span class="strong"><strong class="calibre9">&gt; colnames(df)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00028.jpeg" alt="Creating data frames" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; dim(df)</strong></span>
<span class="strong"><strong class="calibre9">[1] 5 5</strong></span>
</pre></div><p class="calibre8">The <code class="email">str</code> function talks in detail about the structure of the data frame where we see details about the data present in each column of the data frame. There are a lot of datasets readily available in <a id="id36" class="calibre1"/>R base which you can directly load and start using. One of them is shown next. The <code class="email">mtcars</code> dataset has information about various automobiles, which was extracted from the <span class="strong"><em class="calibre10">Motor Trend U.S. Magazine</em></span> of 1974.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; head(mtcars)   # one of the datasets readily available in R</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00029.jpeg" alt="Creating data frames" class="calibre16"/></span></p></div><div class="book" title="Operating on data frames"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec09" class="calibre1"/>Operating on data frames</h3></div></div></div><p class="calibre8">There are a lot of <a id="id37" class="calibre1"/>operations we can do on data frames, such as merging, combining, slicing, and transposing data frames. We will look at some of the important data frame operations in the following examples.</p><p class="calibre8">It is really easy to index and subset specific data inside data frames using simplex indexes and functions such as <code class="email">subset</code>.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; df[2:4,]</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00030.jpeg" alt="Operating on data frames" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; df[2:4, 1:2]</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00031.jpeg" alt="Operating on data frames" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; subset(df, team=="JLA", c(real.name, superhero.name, franchise))</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00032.jpeg" alt="Operating on data frames" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; subset(df, team %in% c("Avengers","Suicide Squad"), c(real.name, superhero.name, franchise))</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00033.jpeg" alt="Operating on data frames" class="calibre16"/></span></p><p class="calibre8">We will now look at <a id="id38" class="calibre1"/>some more complex operations, such as combining and merging data frames.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; df1 &lt;- data.frame(</strong></span>
<span class="strong"><strong class="calibre9">+     id = c('emp001', 'emp003', 'emp007'),</strong></span>
<span class="strong"><strong class="calibre9">+     name = c('Harvey Dent', 'Dick Grayson', 'James Bond'),</strong></span>
<span class="strong"><strong class="calibre9">+     alias = c('TwoFace', 'Nightwing', 'Agent 007')</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">&gt; </strong></span>
<span class="strong"><strong class="calibre9">&gt; df2 &lt;- data.frame(</strong></span>
<span class="strong"><strong class="calibre9">+     id = c('emp001', 'emp003', 'emp007'),</strong></span>
<span class="strong"><strong class="calibre9">+     location = c('Gotham City', 'Gotham City', 'London'),</strong></span>
<span class="strong"><strong class="calibre9">+     speciality = c('Split Persona', 'Expert Acrobat', 'Gadget Master')</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">&gt; df1</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00034.jpeg" alt="Operating on data frames" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; df2</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00035.jpeg" alt="Operating on data frames" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; rbind(df1, df2)   # not possible since column names don't match</strong></span>
<span class="strong"><strong class="calibre9">Error in match.names(clabs, names(xi)) : </strong></span>
<span class="strong"><strong class="calibre9">  names do not match previous names</strong></span>
<span class="strong"><strong class="calibre9">&gt; cbind(df1, df2)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00036.jpeg" alt="Operating on data frames" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; merge(df1, df2, by="id")</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00037.jpeg" alt="Operating on data frames" class="calibre16"/></span></p><p class="calibre8">From the preceding operations it is evident that <code class="email">rbind</code> and <code class="email">cbind</code> work in the same way as we saw previously with <a id="id39" class="calibre1"/>arrays and matrices. However, merge lets you merge the data frames in the same way as you join various tables in relational databases.</p></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Working with functions" id="F8901-973e731d75c2419489ee73e3a0cf4be8"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec10" class="calibre1"/>Working with functions</h1></div></div></div><p class="calibre8">Next up, we will <a id="id40" class="calibre1"/>be looking at functions, which is a technique or methodology to easily structure and modularize your code, specifically lines of code which perform specific tasks, so that you can execute them whenever you need them without writing them again and again. In R, functions are basically treated as just another data type and you can assign functions, manipulate them as and when needed, and also pass them as arguments to other functions. We will be exploring all this in the following section.</p></div>

<div class="book" title="Working with functions" id="F8901-973e731d75c2419489ee73e3a0cf4be8">
<div class="book" title="Built-in functions"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec14" class="calibre1"/>Built-in functions</h2></div></div></div><p class="calibre8">R consists of <a id="id41" class="calibre1"/>several functions which are available in the R-base package and, as you install more packages, you get more functionality, which is made available in the form of functions. We will look at a few built-in functions in the following examples:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; sqrt(5)</strong></span>
<span class="strong"><strong class="calibre9">[1] 2.236068</strong></span>
<span class="strong"><strong class="calibre9">&gt; sqrt(c(1,2,3,4,5,6,7,8,9,10))</strong></span>
<span class="strong"><strong class="calibre9">[1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751     [8] 2.828427 3.000000 3.162278</strong></span>
<span class="strong"><strong class="calibre9">&gt; # aggregating functions</strong></span>
<span class="strong"><strong class="calibre9">&gt; mean(c(1,2,3,4,5,6,7,8,9,10))</strong></span>
<span class="strong"><strong class="calibre9">[1] 5.5</strong></span>
<span class="strong"><strong class="calibre9">&gt; median(c(1,2,3,4,5,6,7,8,9,10))</strong></span>
<span class="strong"><strong class="calibre9">[1] 5.5</strong></span>
</pre></div><p class="calibre8">You can see from the preceding examples that functions such as <code class="email">mean</code>, <code class="email">median,</code> and <code class="email">sqrt</code> are built-in and can be used anytime when you start R, without loading any other packages or defining the functions explicitly.</p></div></div>

<div class="book" title="Working with functions" id="F8901-973e731d75c2419489ee73e3a0cf4be8">
<div class="book" title="User-defined functions"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec15" class="calibre1"/>User-defined functions</h2></div></div></div><p class="calibre8">The real <a id="id42" class="calibre1"/>power lies in the ability to define your own functions based on different operations and computations you want to perform on the data and making R execute those functions just in the way you intend them to work. Some illustrations are shown as follows:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">square &lt;- function(data){</strong></span>
<span class="strong"><strong class="calibre9">  return (data^2)</strong></span>
<span class="strong"><strong class="calibre9">}</strong></span>
<span class="strong"><strong class="calibre9">&gt; square(5)</strong></span>
<span class="strong"><strong class="calibre9">[1] 25</strong></span>
<span class="strong"><strong class="calibre9">&gt; square(c(1,2,3,4,5))</strong></span>
<span class="strong"><strong class="calibre9">[1]  1  4  9 16 25</strong></span>
<span class="strong"><strong class="calibre9">point &lt;- function(xval, yval){</strong></span>
<span class="strong"><strong class="calibre9">  return (c(x=xval,y=yval))</strong></span>
<span class="strong"><strong class="calibre9">}</strong></span>
<span class="strong"><strong class="calibre9">&gt; p1 &lt;- point(5,6)</strong></span>
<span class="strong"><strong class="calibre9">&gt; p2 &lt;- point(2,3)</strong></span>
<span class="strong"><strong class="calibre9">&gt; </strong></span>
<span class="strong"><strong class="calibre9">&gt; p1</strong></span>
<span class="strong"><strong class="calibre9">x y </strong></span>
<span class="strong"><strong class="calibre9">5 6 </strong></span>
<span class="strong"><strong class="calibre9">&gt; p2</strong></span>
<span class="strong"><strong class="calibre9">x y </strong></span>
<span class="strong"><strong class="calibre9">2 3</strong></span>
</pre></div><p class="calibre8">As we saw in the previous code snippet, we can define functions such as <code class="email">square</code> which computes the square of a single number or even a <a id="id43" class="calibre1"/>vector of numbers using the same code. Functions such as point are useful to represent specific entities which represent <code class="email">points</code> in the two-dimensional co-ordinate space. Now we will be looking at how to use the preceding functions together.</p></div></div>

<div class="book" title="Working with functions" id="F8901-973e731d75c2419489ee73e3a0cf4be8">
<div class="book" title="Passing functions as arguments"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec16" class="calibre1"/>Passing functions as arguments</h2></div></div></div><p class="calibre8">When you <a id="id44" class="calibre1"/>define any function, you can also pass other functions to it as arguments if you intend to use them inside your function to perform some complex computations. This reduces the complexity and redundancy of the code. The following example computes the Euclidean distance between two points using the <code class="email">square</code> function defined earlier, which is passed as an argument:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; # defining the function</strong></span>
<span class="strong"><strong class="calibre9">euclidean.distance &lt;- function(point1, point2, square.func){</strong></span>
<span class="strong"><strong class="calibre9">  distance &lt;- sqrt(</strong></span>
<span class="strong"><strong class="calibre9">                  as.integer(</strong></span>
<span class="strong"><strong class="calibre9">                    square.func(point1['x'] - point2['x'])</strong></span>
<span class="strong"><strong class="calibre9">                  ) +</strong></span>
<span class="strong"><strong class="calibre9">                  as.integer(</strong></span>
<span class="strong"><strong class="calibre9">                    square.func(point1['y'] - point2['y'])</strong></span>
<span class="strong"><strong class="calibre9">                  )</strong></span>
<span class="strong"><strong class="calibre9">              )</strong></span>
<span class="strong"><strong class="calibre9">  return (c(distance=distance))</strong></span>
<span class="strong"><strong class="calibre9">}</strong></span>
<span class="strong"><strong class="calibre9">&gt; # executing the function, passing square as argument</strong></span>
<span class="strong"><strong class="calibre9">&gt; euclidean.distance(point1 = p1, point2 = p2, square.func = square)</strong></span>
<span class="strong"><strong class="calibre9">distance </strong></span>
<span class="strong"><strong class="calibre9">4.242641 </strong></span>
<span class="strong"><strong class="calibre9">&gt; euclidean.distance(point1 = p2, point2 = p1, square.func = square)</strong></span>
<span class="strong"><strong class="calibre9">distance </strong></span>
<span class="strong"><strong class="calibre9">4.242641 </strong></span>
<span class="strong"><strong class="calibre9">&gt; euclidean.distance(point1 = point(10, 3), point2 = point(-4, 8), square.func = square)</strong></span>
<span class="strong"><strong class="calibre9">distance</strong></span>
<span class="strong"><strong class="calibre9">14.86607</strong></span>
</pre></div><p class="calibre8">Thus, you can see that with functions you can define a specific function once and execute it as many times as you need.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Controlling code flow" id="G6PI1-973e731d75c2419489ee73e3a0cf4be8"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec11" class="calibre1"/>Controlling code flow</h1></div></div></div><p class="calibre8">This section <a id="id45" class="calibre1"/>covers areas related to controlling the execution of your code. Using specific constructs such as <code class="email">if-else</code> and <code class="email">switch</code>, you can execute code conditionally. Constructs like <code class="email">for</code>, <code class="email">while</code>, and <code class="email">repeat</code>, and <code class="email">help</code> in executing the same code multiple times which is also known as looping. We will be exploring all these constructs in the following section.</p></div>

<div class="book" title="Controlling code flow" id="G6PI1-973e731d75c2419489ee73e3a0cf4be8">
<div class="book" title="Working with if, if-else, and ifelse"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec17" class="calibre1"/>Working with if, if-else, and ifelse</h2></div></div></div><p class="calibre8">There are <a id="id46" class="calibre1"/>several constructs which help us in executing code conditionally. This <a id="id47" class="calibre1"/>is especially useful when we don't want to execute a bunch <a id="id48" class="calibre1"/>of statements one after the other sequentially but execute the code only when it meets or does not meet specific conditions. The following examples illustrate the same:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; num = 5</strong></span>
<span class="strong"><strong class="calibre9">&gt; if (num == 5){</strong></span>
<span class="strong"><strong class="calibre9">+     cat('The number was 5')</strong></span>
<span class="strong"><strong class="calibre9">+ }</strong></span>
<span class="strong"><strong class="calibre9">The number was 5</strong></span>
<span class="strong"><strong class="calibre9">&gt; </strong></span>
<span class="strong"><strong class="calibre9">&gt; num = 7</strong></span>
<span class="strong"><strong class="calibre9">&gt; </strong></span>
<span class="strong"><strong class="calibre9">&gt; if (num == 5){</strong></span>
<span class="strong"><strong class="calibre9">+     cat('The number was 5')</strong></span>
<span class="strong"><strong class="calibre9">+ } else{</strong></span>
<span class="strong"><strong class="calibre9">+     cat('The number was not 5')</strong></span>
<span class="strong"><strong class="calibre9">+ }</strong></span>
<span class="strong"><strong class="calibre9">The number was not 5</strong></span>
<span class="strong"><strong class="calibre9">&gt;</strong></span>
<span class="strong"><strong class="calibre9">&gt; if (num == 5){</strong></span>
<span class="strong"><strong class="calibre9">+     cat('The number was 5')</strong></span>
<span class="strong"><strong class="calibre9">+ } else if (num == 7){</strong></span>
<span class="strong"><strong class="calibre9">+     cat('The number was 7')</strong></span>
<span class="strong"><strong class="calibre9">+ } else{</strong></span>
<span class="strong"><strong class="calibre9">+     cat('No match found')</strong></span>
<span class="strong"><strong class="calibre9">+ }</strong></span>
<span class="strong"><strong class="calibre9">The number was 7</strong></span>
<span class="strong"><strong class="calibre9">&gt; ifelse(num == 5, "Number was 5", "Number was not 5")</strong></span>
<span class="strong"><strong class="calibre9">[1] "Number was not 5"</strong></span>
</pre></div></div></div>

<div class="book" title="Controlling code flow" id="G6PI1-973e731d75c2419489ee73e3a0cf4be8">
<div class="book" title="Working with switch"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec18" class="calibre1"/>Working with switch</h2></div></div></div><p class="calibre8">The <code class="email">switch</code> <a id="id49" class="calibre1"/>function is especially useful when you have to match an expression or argument to several conditions and execute only if there is a specific match. This becomes extremely messy when implemented with the <code class="email">if-else</code> constructs but is much more elegant with the <code class="email">switch</code> function, as we will see next:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; switch(</strong></span>
<span class="strong"><strong class="calibre9">+ "first",</strong></span>
<span class="strong"><strong class="calibre9">+ first = "1st",</strong></span>
<span class="strong"><strong class="calibre9">+ second = "2nd",</strong></span>
<span class="strong"><strong class="calibre9">+ third = "3rd",</strong></span>
<span class="strong"><strong class="calibre9">+ "No position"</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">[1] "1st"</strong></span>
<span class="strong"><strong class="calibre9">&gt; </strong></span>
<span class="strong"><strong class="calibre9">&gt; switch(</strong></span>
<span class="strong"><strong class="calibre9">+ "third",</strong></span>
<span class="strong"><strong class="calibre9">+ first = "1st",</strong></span>
<span class="strong"><strong class="calibre9">+ second = "2nd",</strong></span>
<span class="strong"><strong class="calibre9">+ third = "3rd",</strong></span>
<span class="strong"><strong class="calibre9">+ "No position"</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">[1] "3rd"</strong></span>
<span class="strong"><strong class="calibre9">&gt; # when no match, default statement executes</strong></span>
<span class="strong"><strong class="calibre9">&gt; switch(</strong></span>
<span class="strong"><strong class="calibre9">+ "fifth",</strong></span>
<span class="strong"><strong class="calibre9">+ first = "1st",</strong></span>
<span class="strong"><strong class="calibre9">+ second = "2nd",</strong></span>
<span class="strong"><strong class="calibre9">+ third = "3rd",</strong></span>
<span class="strong"><strong class="calibre9">+ "No position"</strong></span>
<span class="strong"><strong class="calibre9">+ )</strong></span>
<span class="strong"><strong class="calibre9">[1] "No position"</strong></span>
</pre></div></div></div>

<div class="book" title="Controlling code flow" id="G6PI1-973e731d75c2419489ee73e3a0cf4be8">
<div class="book" title="Loops"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec19" class="calibre1"/>Loops</h2></div></div></div><p class="calibre8">Loops are an <a id="id50" class="calibre1"/>excellent way to execute code segments repeatedly when needed. Vectorization constructs are, however, more optimized than loops for working on larger data sets, but we will see that later in this chapter. For now, you should remember that there are three types of loops in R, namely, <code class="email">for</code>, <code class="email">while</code>, and <code class="email">repeat</code>. We will look at all of them in the following examples:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; # for loop</strong></span>
<span class="strong"><strong class="calibre9">&gt; for (i in 1:10){</strong></span>
<span class="strong"><strong class="calibre9">+     cat(paste(i," "))</strong></span>
<span class="strong"><strong class="calibre9">+ }</strong></span>
<span class="strong"><strong class="calibre9">1  2  3  4  5  6  7  8  9  10  </strong></span>
<span class="strong"><strong class="calibre9">&gt; </strong></span>
<span class="strong"><strong class="calibre9">&gt; sum = 0</strong></span>
<span class="strong"><strong class="calibre9">&gt; for (i in 1:10){</strong></span>
<span class="strong"><strong class="calibre9">+     sum &lt;- sum + i</strong></span>
<span class="strong"><strong class="calibre9">+ }</strong></span>
<span class="strong"><strong class="calibre9">&gt; sum</strong></span>
<span class="strong"><strong class="calibre9">[1] 55</strong></span>
<span class="strong"><strong class="calibre9">&gt; </strong></span>
<span class="strong"><strong class="calibre9">&gt; # while loop</strong></span>
<span class="strong"><strong class="calibre9">&gt; count &lt;- 1</strong></span>
<span class="strong"><strong class="calibre9">&gt; while (count &lt;= 10){</strong></span>
<span class="strong"><strong class="calibre9">+     cat(paste(count, " "))</strong></span>
<span class="strong"><strong class="calibre9">+     count &lt;- count + 1</strong></span>
<span class="strong"><strong class="calibre9">+ }</strong></span>
<span class="strong"><strong class="calibre9">1  2  3  4  5  6  7  8  9  10  </strong></span>
<span class="strong"><strong class="calibre9">&gt; </strong></span>
<span class="strong"><strong class="calibre9">&gt; # repeat infinite loop </strong></span>
<span class="strong"><strong class="calibre9">&gt; count = 1</strong></span>
<span class="strong"><strong class="calibre9">&gt; repeat{</strong></span>
<span class="strong"><strong class="calibre9">+     cat(paste(count, " "))</strong></span>
<span class="strong"><strong class="calibre9">+     if (count &gt;= 10){</strong></span>
<span class="strong"><strong class="calibre9">+         break  # break off from the infinite loop</strong></span>
<span class="strong"><strong class="calibre9">+     }</strong></span>
<span class="strong"><strong class="calibre9">+     count &lt;- count + 1</strong></span>
<span class="strong"><strong class="calibre9">+ }</strong></span>
<span class="strong"><strong class="calibre9">1  2  3  4  5  6  7  8  9  10  </strong></span>
</pre></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Advanced constructs"><div class="book" id="H5A42-973e731d75c2419489ee73e3a0cf4be8"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec12" class="calibre1"/>Advanced constructs</h1></div></div></div><p class="calibre8">We heard the <a id="id51" class="calibre1"/>term <span class="strong"><strong class="calibre9">vectorized</strong></span> earlier when we talked about operating on vectors without using loops. While looping is a great way to iterate through vectors and perform computations, it is not very efficient when we deal with what is known as <span class="strong"><strong class="calibre9">Big Data</strong></span>. In this case, R provides some advanced constructs which we will be looking at in this section. We will be covering the following functions:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><code class="email">lapply</code>: Loops over a list and evaluates a function on each element</li><li class="listitem"><code class="email">sapply</code>: A simplified version of lapply</li><li class="listitem"><code class="email">apply</code>: Evaluates a function on the boundaries or margins of an array</li><li class="listitem"><code class="email">tapply</code>: Evaluates a function over subsets of a vector</li><li class="listitem"><code class="email">mapply</code>: A multivariate version of lapply</li></ul></div></div>

<div class="book" title="Advanced constructs">
<div class="book" title="lapply and sapply"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec20" class="calibre1"/>lapply and sapply</h2></div></div></div><p class="calibre8">Like we mentioned <a id="id52" class="calibre1"/>earlier, <code class="email">lapply</code> takes a list and a function as input and <a id="id53" class="calibre1"/>evaluates that function over each element of the list. If the input list is not a list, it is converted into a list using the <code class="email">as.list</code> function before the output is returned. It is much faster than a normal loop because the actual looping is done internally using C code. We look at its implementation and an example in the following code snippet:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; # lapply function definition</strong></span>
<span class="strong"><strong class="calibre9">&gt; lapply</strong></span>
<span class="strong"><strong class="calibre9">function (X, FUN, ...) </strong></span>
<span class="strong"><strong class="calibre9">{</strong></span>
<span class="strong"><strong class="calibre9">    FUN &lt;- match.fun(FUN)</strong></span>
<span class="strong"><strong class="calibre9">    if (!is.vector(X) || is.object(X)) </strong></span>
<span class="strong"><strong class="calibre9">        X &lt;- as.list(X)</strong></span>
<span class="strong"><strong class="calibre9">    .Internal(lapply(X, FUN))</strong></span>
<span class="strong"><strong class="calibre9">}</strong></span>
<span class="strong"><strong class="calibre9">&lt;bytecode: 0x00000000003e4f68&gt;</strong></span>
<span class="strong"><strong class="calibre9">&lt;environment: namespace:base&gt;</strong></span>
<span class="strong"><strong class="calibre9">&gt; # example</strong></span>
<span class="strong"><strong class="calibre9">&gt; nums &lt;- list(l1=c(1,2,3,4,5,6,7,8,9,10), l2=1000:1020)</strong></span>
<span class="strong"><strong class="calibre9">&gt; lapply(nums, mean)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00038.jpeg" alt="lapply and sapply" class="calibre16"/></span></p><p class="calibre8">Coming to <code class="email">sapply</code>, it is similar to <code class="email">lapply</code> except that it tries to simplify the results wherever possible. For example, if the final result is such that every element is of length <code class="email">1</code>, it returns a vector, if the length of every element in the result is the same but more than 1, a matrix is returned, and <a id="id54" class="calibre1"/>if it is not able to simplify the results, we get the <a id="id55" class="calibre1"/>same result as <code class="email">lapply</code>. We illustrate the same with the following example:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; data &lt;- list(l1=1:10, l2=runif(10), l3=rnorm(10,2))</strong></span>
<span class="strong"><strong class="calibre9">&gt; data</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00039.jpeg" alt="lapply and sapply" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; </strong></span>
<span class="strong"><strong class="calibre9">&gt; lapply(data, mean)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00040.jpeg" alt="lapply and sapply" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; sapply(data, mean)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00041.jpeg" alt="lapply and sapply" class="calibre16"/></span></p></div></div>

<div class="book" title="Advanced constructs">
<div class="book" title="apply"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec21" class="calibre1"/>apply</h2></div></div></div><p class="calibre8">The <code class="email">apply</code> function is <a id="id56" class="calibre1"/>used to evaluate a function over the margins or boundaries <a id="id57" class="calibre1"/>of an array; for instance, applying aggregate functions on the rows or columns of an array. The <code class="email">rowSums</code>, <code class="email">rowMeans</code>, <code class="email">colSums,</code> and <code class="email">colMeans</code> functions also use <code class="email">apply</code> internally but are much more optimized and useful when operating on large arrays. We will see all the preceding constructs in the following example:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; mat &lt;- matrix(rnorm(20), nrow=5, ncol=4)</strong></span>
<span class="strong"><strong class="calibre9">&gt; mat</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00042.jpeg" alt="apply" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; # row sums</strong></span>
<span class="strong"><strong class="calibre9">&gt; apply(mat, 1, sum)</strong></span>
<span class="strong"><strong class="calibre9">[1]  0.79786959  0.53900665 -2.36486927 -1.28221227  0.06701519</strong></span>
<span class="strong"><strong class="calibre9">&gt; rowSums(mat)</strong></span>
<span class="strong"><strong class="calibre9">[1]  0.79786959  0.53900665 -2.36486927 -1.28221227  0.06701519</strong></span>
<span class="strong"><strong class="calibre9">&gt; # row means</strong></span>
<span class="strong"><strong class="calibre9">&gt; apply(mat, 1, mean)</strong></span>
<span class="strong"><strong class="calibre9">[1]  0.1994674  0.1347517 -0.5912173 -0.3205531  0.0167538</strong></span>
<span class="strong"><strong class="calibre9">&gt; rowMeans(mat)</strong></span>
<span class="strong"><strong class="calibre9">[1]  0.1994674  0.1347517 -0.5912173 -0.3205531  0.0167538</strong></span>
<span class="strong"><strong class="calibre9">&gt;</strong></span>
<span class="strong"><strong class="calibre9">&gt; # col sums</strong></span>
<span class="strong"><strong class="calibre9">&gt; apply(mat, 2, sum)</strong></span>
<span class="strong"><strong class="calibre9">[1] -0.6341087  0.3321890 -2.1345245  0.1932540</strong></span>
<span class="strong"><strong class="calibre9">&gt; colSums(mat)</strong></span>
<span class="strong"><strong class="calibre9">[1] -0.6341087  0.3321890 -2.1345245  0.1932540</strong></span>
<span class="strong"><strong class="calibre9">&gt; apply(mat, 2, mean)</strong></span>
<span class="strong"><strong class="calibre9">[1] -0.12682173  0.06643781 -0.42690489  0.03865079</strong></span>
<span class="strong"><strong class="calibre9">&gt; colMeans(mat)</strong></span>
<span class="strong"><strong class="calibre9">[1] -0.12682173  0.06643781 -0.42690489  0.03865079</strong></span>
<span class="strong"><strong class="calibre9">&gt;</strong></span>
<span class="strong"><strong class="calibre9">&gt; # row quantiles</strong></span>
<span class="strong"><strong class="calibre9">&gt; apply(mat, 1, quantile, probs=c(0.25, 0.5, 0.75))</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00043.jpeg" alt="apply" class="calibre16"/></span></p><p class="calibre8">Thus you can see how <a id="id58" class="calibre1"/>easy it is to apply various statistical functions on matrices without using loops at all.</p></div></div>

<div class="book" title="Advanced constructs">
<div class="book" title="tapply"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec22" class="calibre1"/>tapply</h2></div></div></div><p class="calibre8">The function <code class="email">tapply</code> is <a id="id59" class="calibre1"/>used to evaluate a function over the subsets of any <a id="id60" class="calibre1"/>vector. This is similar to applying the <code class="email">GROUP BY</code> construct in SQL if you are familiar with using relational databases. We illustrate the same in the following examples:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; data &lt;- c(1:10, rnorm(10,2), runif(10))</strong></span>
<span class="strong"><strong class="calibre9">&gt; data</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00044.jpeg" alt="tapply" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; groups &lt;- gl(3,10)</strong></span>
<span class="strong"><strong class="calibre9">&gt; groups</strong></span>
<span class="strong"><strong class="calibre9"> [1] 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3</strong></span>
<span class="strong"><strong class="calibre9">Levels: 1 2 3</strong></span>
<span class="strong"><strong class="calibre9">&gt; tapply(data, groups, mean)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00045.jpeg" alt="tapply" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; tapply(data, groups, mean, simplify = FALSE)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00046.jpeg" alt="tapply" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; tapply(data, groups, range)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00047.jpeg" alt="tapply" class="calibre16"/></span></p></div></div>

<div class="book" title="Advanced constructs">
<div class="book" title="mapply"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec23" class="calibre1"/>mapply</h2></div></div></div><p class="calibre8">The <code class="email">mapply</code> function is a <a id="id61" class="calibre1"/>multivariate version of <code class="email">lapply</code> and is used to <a id="id62" class="calibre1"/>evaluate a function in parallel over sets of arguments. A simple example is if we have to build a list of vectors using the <code class="email">rep</code> function, we  have to write it multiple times. However, with <code class="email">mapply</code> we can achieve the same in a more elegant way as illustrated next:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; list(rep(1,4), rep(2,3), rep(3,2), rep(4,1))</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00048.jpeg" alt="mapply" class="calibre16"/></span></p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; mapply(rep, 1:4, 4:1)</strong></span>
</pre></div><p class="calibre8"><span class="strong"><strong class="calibre9">Output:</strong></span></p><p class="calibre8"><span class="strong"><img src="../images/00048.jpeg" alt="mapply" class="calibre16"/></span></p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Next steps with R" id="I3QM1-973e731d75c2419489ee73e3a0cf4be8"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec13" class="calibre1"/>Next steps with R</h1></div></div></div><p class="calibre8">Before we dive into <a id="id63" class="calibre1"/>machine learning, it will be useful to pause for a moment, take a deep breath, and contemplate on what you have learnt so far. This quick yet detailed refresher of R will help you a lot in the upcoming chapters. However, there are two more things which we must go through quickly. They are how to get help in R and how to work with various packages in R.</p></div>

<div class="book" title="Next steps with R" id="I3QM1-973e731d75c2419489ee73e3a0cf4be8">
<div class="book" title="Getting help"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec24" class="calibre1"/>Getting help</h2></div></div></div><p class="calibre8">By now, you must have <a id="id64" class="calibre1"/>figured out that there are thousands of functions and constructs in R and it is impossible to remember what each of them actually does and you don't have to either! R provides many intuitive ways to get help regarding any function, package, or data structure. To start with, you can run the <code class="email">help.start()</code> function at the <code class="email">R</code> command prompt, which will start a manual browser. Here you will get detailed information regarding R which includes manuals, references, and other material. The following command shows the contents of <code class="email">help.start()</code> as shown in the screenshot following the command, which you can use to navigate further and get more help:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; help.start()</strong></span>
</pre></div><p class="calibre8">If nothing happens, you should open <code class="email">http://127.0.0.1:31850/doc/html/index.html</code> yourself.</p><div class="mediaobject"><img src="../images/00049.jpeg" alt="Getting help" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre8">To get help on any particular function or construct in R, if you know the function's name, you can get help using the help function or the <code class="email">?</code> operator in combination with the function name. For example, if you want help regarding the <code class="email">apply</code> function, just type <code class="email">help("apply")</code> or <code class="email">?apply</code> to get detailed information regarding the <code class="email">apply</code> function. This easy mechanism for getting help in R increases your productivity and makes working with R a pleasant experience. Often, you won't quite remember the exact name of the function you intend to use but you might have a vague idea of what its name might be. R has a help feature for this purpose too, where you can use the <code class="email">help.search</code> function or the <code class="email">??</code> operator, in combination <a id="id65" class="calibre1"/>with the function name. For example, you can use <code class="email">??apply</code> to get more information on the apply function.</p></div></div>

<div class="book" title="Next steps with R" id="I3QM1-973e731d75c2419489ee73e3a0cf4be8">
<div class="book" title="Handling packages"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec25" class="calibre1"/>Handling packages</h2></div></div></div><p class="calibre8">There are thousands and <a id="id66" class="calibre1"/>thousands of packages containing a wide variety of capabilities available on <span class="strong"><strong class="calibre9">CRAN</strong></span> (<span class="strong"><strong class="calibre9">Comprehensive R Archive Network</strong></span>), which is a repository hosting all these packages. To download any package from CRAN, all you have to do is run the <code class="email">install.packages</code> function passing the package name as a parameter, like <code class="email">install.packages("caret")</code>. Once the package is downloaded and installed, you can load it into your current R session using the <code class="email">library</code> function. To load the package <code class="email">caret</code>, just type <code class="email">library(caret)</code> and it should be readily available for use. The <code class="email">require</code> function has similar functionality to load a specific package and is used specially inside functions in a similar way by typing <code class="email">require(caret)</code> to load the <code class="email">caret</code> package. The only difference between <code class="email">require</code> and <code class="email">library</code> is that, in case the specific package is not found, <code class="email">library</code> will show an error but <code class="email">require</code> will continue the <a id="id67" class="calibre1"/>execution of code without showing any error. However, if there is a dependency call to that package then your code will definitely throw an error.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Machine learning basics"><div class="book" id="J2B82-973e731d75c2419489ee73e3a0cf4be8"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec14" class="calibre1"/>Machine learning basics</h1></div></div></div><p class="calibre8">Now that you have refreshed <a id="id68" class="calibre1"/>your memory about R, we will be talking about the basics of what machine learning is, how it is used today, and what are the main areas inside machine learning. This section intends to provide an overview into machine learning which will help in paving the way to the next chapter where we will be exploring it in more depth.</p></div>

<div class="book" title="Machine learning basics">
<div class="book" title="Machine learning â€“ what does it really mean?"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec26" class="calibre1"/>Machine learning â€“ what does it really mean?</h2></div></div></div><p class="calibre8">Machine learning <a id="id69" class="calibre1"/>does not have just one distinct textbook definition because it is a field which encompasses and borrows concepts and techniques from several other areas in computer science. It is also taught as an academic course in universities and has recently gained more prominence, with machine learning and data science being widely adopted online, in the form of educational videos, courses, and training. Machine learning is basically an intersection of elements from the fields of computer science, statistics, and mathematics, which uses concepts from artificial intelligence, pattern detection, optimization, and learning theory to develop algorithms and techniques which can learn from and make predictions on data without being explicitly programmed.</p><p class="calibre8">The learning here refers to the ability to make computers or machines intelligent based on the data and algorithms which we provide to them so that they start detecting patterns and insights from the provided data. This learning ensures that machines can detect patterns on data fed to it without explicitly programming them every time. The initial data or observations are fed to the machine and the machine learning algorithm works on that data to generate some output which can be a prediction, a hypothesis, or even some numerical result. Based on this output, there can be feedback mechanisms to our machine learning algorithm to improve our results. This whole system forms a machine learning model which can be used directly on completely new data or observations to get results from it without needing to write any separate algorithm again to work on that data.</p></div></div>

<div class="book" title="Machine learning basics">
<div class="book" title="Machine learning â€“ how is it used in the world?"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec27" class="calibre1"/>Machine learning â€“ how is it used in the world?</h2></div></div></div><p class="calibre8">You might be <a id="id70" class="calibre1"/>wondering how on earth some algorithms or code can be used in the real world. It turns out they are used in a wide variety of use-cases in different verticals. Some examples are as follows:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre9">Retail</strong></span>: Machine learning is widely used in the retail and e-commerce vertical where each store wants to outperform its competitors.<div class="book"><ul class="itemizedlist1"><li class="listitem"><span class="strong"><strong class="calibre9">Pricing analytics</strong></span>: Machine learning algorithms are used to compare prices for items across various stores so that a store can sell the item at the most competitive price.</li><li class="listitem"><span class="strong"><strong class="calibre9">Market basket analysis</strong></span>: They are used for analysis of customer shopping trends and recommendation of products to buy, which we will be covering in <a class="calibre1" title="ChapterÂ 3.Â Predicting Customer Shopping Trends with Market Basket Analysis" href="part0026_split_000.html#OPEK1-973e731d75c2419489ee73e3a0cf4be8">Chapter 3</a>, <span class="strong"><em class="calibre10">Predicting Customer Shopping Trends with Market Basket Analysis</em></span>.</li><li class="listitem"><span class="strong"><strong class="calibre9">Recommendation engines</strong></span>: They are used to analyze customer purchases, ratings, and satisfaction to recommend products to various users. We will be building some recommendation systems of our own in <a class="calibre1" title="ChapterÂ 4.Â Building a Product Recommendation System" href="part0032_split_000.html#UGI01-973e731d75c2419489ee73e3a0cf4be8">Chapter 4</a>, <span class="strong"><em class="calibre10">Building a Product Recommendation System</em></span>.</li></ul></div></li><li class="listitem"><span class="strong"><strong class="calibre9">Advertising</strong></span>: The advertising industry heavily relies on machine learning to promote and show the right advertisements to consumers for maximum conversion.<div class="book"><ul class="itemizedlist1"><li class="listitem"><span class="strong"><strong class="calibre9">Web analytics</strong></span>: Analyzes website traffic</li><li class="listitem"><span class="strong"><strong class="calibre9">Churn analytics</strong></span>: Predicts customer churn rate</li><li class="listitem"><span class="strong"><strong class="calibre9">Advertisement click-through prediction</strong></span>: Used to predict how effective an advertisement would be to consumers such that they click on it to buy the relevant product</li></ul></div></li><li class="listitem"><span class="strong"><strong class="calibre9">Healthcare</strong></span>: Machine learning algorithms are used widely in the healthcare vertical for more effective treatment of patients.<div class="book"><ul class="itemizedlist1"><li class="listitem"><span class="strong"><strong class="calibre9">Disease detection and prediction</strong></span>: Used to detect and predict chances of a disease based on the patient's medical history.</li><li class="listitem">Studying complex structures such as the human brain and DNA to understand the human body's functionality better for more effective treatment.</li></ul></div></li><li class="listitem">Detection and filtering of spam e-mails and messages.</li><li class="listitem">Predicting election results.</li><li class="listitem">Fraud detection and prediction. We will be taking a stab at one of the most critical fraud detection problems in <a class="calibre1" title="ChapterÂ 5.Â Credit Risk Detection and Prediction â€“ Descriptive Analytics" href="part0038_split_000.html#147LC1-973e731d75c2419489ee73e3a0cf4be8">Chapters 5</a>, <span class="strong"><em class="calibre10">Credit Risk Detection and Prediction â€“ Descriptive Analytics</em></span> and <a class="calibre1" title="ChapterÂ 6.Â Credit Risk Detection and Prediction â€“ Predictive Analytics" href="part0046_split_000.html#1BRPS1-973e731d75c2419489ee73e3a0cf4be8">Chapter 6</a>, <span class="strong"><em class="calibre10">Credit Risk Detection and Prediction â€“ Predictive Analytics</em></span>.</li><li class="listitem">Text prediction in a messaging application.</li><li class="listitem">Self-driving cars, planes, and other vehicles.</li><li class="listitem">Weather, traffic, and <a id="id71" class="calibre1"/>crime activity forecasting and prediction.</li><li class="listitem">Sentiment and emotion analysis, which we will be covering in <a class="calibre1" title="ChapterÂ 8.Â Sentiment Analysis of Twitter Data" href="part0066_split_000.html#1UU542-973e731d75c2419489ee73e3a0cf4be8">Chapter 8</a>, <span class="strong"><em class="calibre10">Sentiment Analysis of Twitter Data</em></span>.</li></ul></div><p class="calibre8">The preceding examples just scratch the surface of what machine learning can really do and by now I am sure that you have got a good flavor of the various areas where machine learning is being used extensively.</p></div></div>

<div class="book" title="Machine learning basics">
<div class="book" title="Types of machine learning algorithms"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec28" class="calibre1"/>Types of machine learning algorithms</h2></div></div></div><p class="calibre8">As we talked <a id="id72" class="calibre1"/>about earlier, to make machines learn, you <a id="id73" class="calibre1"/>need machine learning algorithms. Machine learning algorithms are a special class of algorithms which work on data and gather insights from it. The idea is to build a model using a combination of data and algorithms which can then be used to work on new data and derive actionable insights.</p><p class="calibre8">Each machine learning algorithm depends on what type of data it can work on and what type of problem are we trying to solve. You might be tempted to learn a couple of algorithms and then try to apply them to every problem you face. Do remember that there is no universal machine learning algorithm which fits all problems. The main input to machine learning algorithms is data which consists of features, where each feature can be described as an attribute of the data set, such as your height, weight, and so on if we were dealing with data related to human beings. Machine learning algorithms can be divided into two main areas, namely supervised and unsupervised learning algorithms.</p><div class="book" title="Supervised machine learning algorithms"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec10" class="calibre1"/>Supervised machine learning algorithms</h3></div></div></div><p class="calibre8">The supervised <a id="id74" class="calibre1"/>learning algorithms are a subset of the family of machine learning algorithms which are mainly used in predictive modeling. A predictive model is basically a model constructed from a machine learning algorithm and features or attributes from <a id="id75" class="calibre1"/>training data such that we can predict a value using the other values obtained from the input data. Supervised learning algorithms try to model relationships and dependencies between the target prediction output and the input features such that we can predict the output values for new data based on those relationships which it learned from the previous data sets. The main types of supervised learning algorithms include:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre9">Classification algorithms</strong></span>: These algorithms build predictive models from training data which have features and class labels. These predictive models in-turn use the features learnt from training data on new, previously unseen data to predict their class labels. The output classes are discrete. Types of classification algorithms include decision trees, random forests, support vector machines, and many more. We will be using several of these algorithms in <a class="calibre1" title="ChapterÂ 2.Â Let's Help Machines Learn" href="part0022_split_000.html#KVCC1-973e731d75c2419489ee73e3a0cf4be8">Chapter 2</a>, <span class="strong"><em class="calibre10">Let's Help Machines Learn</em></span>, <a class="calibre1" title="ChapterÂ 6.Â Credit Risk Detection and Prediction â€“ Predictive Analytics" href="part0046_split_000.html#1BRPS1-973e731d75c2419489ee73e3a0cf4be8">Chapter 6</a>, <span class="strong"><em class="calibre10">Credit Risk Detection and Prediction â€“ Predictive Analytics</em></span>, and <a class="calibre1" title="ChapterÂ 8.Â Sentiment Analysis of Twitter Data" href="part0066_split_000.html#1UU542-973e731d75c2419489ee73e3a0cf4be8">Chapter 8</a>, <span class="strong"><em class="calibre10">Sentiment Analysis of Twitter Data</em></span>.</li><li class="listitem"><span class="strong"><strong class="calibre9">Regression algorithms</strong></span>: These algorithms are used to predict output values based on some input features obtained from the data. To do this, the algorithm builds a model based on features and output values of the training data and this model is used to predict values for new data. The output values in this case are <a id="id76" class="calibre1"/>continuous and not discrete. Types of regression algorithms include linear regression, multivariate <a id="id77" class="calibre1"/>regression, regression trees, and lasso regression, among many others. We explore some of these in <a class="calibre1" title="ChapterÂ 2.Â Let's Help Machines Learn" href="part0022_split_000.html#KVCC1-973e731d75c2419489ee73e3a0cf4be8">Chapter 2</a>, <span class="strong"><em class="calibre10">Let's Help Machines Learn</em></span>.</li></ul></div></div><div class="book" title="Unsupervised machine learning algorithms"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec11" class="calibre1"/>Unsupervised machine learning algorithms</h3></div></div></div><p class="calibre8">The unsupervised <a id="id78" class="calibre1"/>learning algorithms are the family of machine learning algorithms which are mainly used in pattern detection and descriptive <a id="id79" class="calibre1"/>modeling. A descriptive model is basically a model constructed from an unsupervised machine learning algorithm and features from input data similar to the supervised learning process. However, there are no output categories or labels here based on which the algorithm can try to model relationships. These algorithms try to use techniques on the input data to mine for rules, detect patterns, and summarize and group the data points which help in deriving meaningful insights and describe the data better to the users. There is no specific concept of training or testing data here since we do not have any specific relationship mapping and we are just trying to get useful insights and descriptions from the data we are trying to analyze. The main types of unsupervised learning algorithms include:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre9">Clustering algorithms</strong></span>: The main objective of these algorithms is to cluster or <a id="id80" class="calibre1"/>group input data points into different classes or categories using just the features derived from the input data alone and no other external information. Unlike classification, the output labels are not known beforehand in clustering. There are different approaches to build clustering models, such as by using means, medoids, hierarchies, and many more. Some popular clustering <a id="id81" class="calibre1"/>algorithms include k-means, k-medoids, and hierarchical clustering. We will look at some clustering algorithms in <a class="calibre1" title="ChapterÂ 2.Â Let's Help Machines Learn" href="part0022_split_000.html#KVCC1-973e731d75c2419489ee73e3a0cf4be8">Chapter 2</a>, <span class="strong"><em class="calibre10">Let's Help Machines Learn</em></span>, and <a class="calibre1" title="ChapterÂ 7.Â Social Media Analysis â€“ Analyzing Twitter Data" href="part0059_split_000.html#1O8H61-973e731d75c2419489ee73e3a0cf4be8">Chapter 7</a>, <span class="strong"><em class="calibre10">Social Media Analysis â€“ Analyzing Twitter Data</em></span>.</li><li class="listitem"><span class="strong"><strong class="calibre9">Association rule learning algorithms</strong></span>: These algorithms are used to mine and extract rules and patterns from data sets. These rules explain relationships between different variables and attributes, and also depict frequent item sets and patterns which occur in the data. These rules in turn help discover useful <a id="id82" class="calibre1"/>insights for any business or organization from their huge data repositories. Popular <a id="id83" class="calibre1"/>algorithms include Apriori and FP Growth. We will be using some of these in <a class="calibre1" title="ChapterÂ 2.Â Let's Help Machines Learn" href="part0022_split_000.html#KVCC1-973e731d75c2419489ee73e3a0cf4be8">Chapter 2</a>, <span class="strong"><em class="calibre10">Let's Help Machines Learn</em></span>, and <a class="calibre1" title="ChapterÂ 3.Â Predicting Customer Shopping Trends with Market Basket Analysis" href="part0026_split_000.html#OPEK1-973e731d75c2419489ee73e3a0cf4be8">Chapter 3</a>, <span class="strong"><em class="calibre10">Predicting Customer Shopping Trends with Market Basket Analysis</em></span>.</li></ul></div></div><div class="book" title="Popular machine learning packages in R"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec12" class="calibre1"/>Popular machine learning packages in R</h3></div></div></div><p class="calibre8">After getting a brief <a id="id84" class="calibre1"/>overview of machine learning basics and types of algorithms, you must be getting inquisitive as to how we apply some of these algorithms to solve real world problems using R. It turns out, there are a whole lot of packages in R which are dedicated to just solving machine learning problems. These packages consist of algorithms which are optimized and ready to be used to solve problems. We will list several popular machine learning packages in R, so that you are aware of what tools you might need later on and also feel more familiar with some of these packages when used in the later chapters. Based on usage and functionality, the following R packages are quite popular in solving machine learning problems:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><code class="email">caret</code>: This package (short for classification and regression training) consists of several machine learning algorithms for building predictive models</li><li class="listitem"><code class="email">randomForest</code>: This package deals with implementations of the random forest algorithm for classification and regression</li><li class="listitem"><code class="email">rpart</code>: This package focuses on recursive partitioning and decision trees</li><li class="listitem"><code class="email">glmnet</code>: The main focus of this package is lasso and elastic-net regularized regression models</li><li class="listitem"><code class="email">e1071</code>: This deals with fourier transforms, clustering, support vector machines, and many more supervised and unsupervised algorithms</li><li class="listitem"><code class="email">party</code>: This deals with recursive partitioning</li><li class="listitem"><code class="email">arules</code>: This package is used for association rule learning algorithms</li><li class="listitem"><code class="email">recommenderlab</code>: This is a library to build recommendation engines</li><li class="listitem"><code class="email">nnet</code>: This package enables predictive modeling using neural networks</li><li class="listitem"><code class="email">h2o</code>: It is one of the most popular packages being used in data science these days and offers fast and scalable algorithms including gradient boosting and deep learning</li></ul></div><p class="calibre8">Besides the preceding libraries, there are a ton of other packages out there related to machine learning in R. What matters is choosing the right algorithm and model based on the data and problem in hand.</p></div></div></div>
<div class="book" title="Summary" id="K0RQ1-973e731d75c2419489ee73e3a0cf4be8"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec15" class="calibre1"/>Summary</h1></div></div></div><p class="calibre8">In this chapter, we talked briefly about the journey we will take into the world of machine learning and R. We discussed the basics of R and built a strong foundation of the core constructs and data structures used in R. Then we dived into the world of machine learning by looking at some concepts and algorithms, and how it is used in the world to solve problems. Finally, we ended with a quick glance at some of the most popular machine learning packages in R to get us all familiarized with some handy tools for our machine learning toolbox!</p><p class="calibre8">In the next chapter, we will be looking in depth about machine learning concepts and algorithms which will help us make the machines learn something!</p></div></body></html>