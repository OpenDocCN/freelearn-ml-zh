- en: '*Appendix*'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*附录*'
- en: About
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 关于
- en: This section is included to assist the students to perform the activities in
    the book. It includes detailed steps that are to be performed by the students
    to achieve the objectives of the activities.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本节包含的内容旨在帮助学生完成书中的活动。它包括学生为实现活动目标需要执行的详细步骤。
- en: 'Chapter 1: Introduction to Clustering Methods'
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 1 章：聚类方法简介
- en: 'Activity 1: k-means Clustering with Three Clusters'
  id: totrans-4
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动一：具有三个聚类的 k-means 聚类
- en: 'Solution:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 解答：
- en: 'Load the Iris dataset in the `iris_data` variable:'
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `iris_data` 变量中加载 Iris 数据集：
- en: '[PRE0]'
  id: totrans-7
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Create a `t_color` column and make its default value `red`. Change the value
    of the two species to `green` and `blue` so the third one remains `red`:'
  id: totrans-8
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个 `t_color` 列并将其默认值设为 `red`。将两种物种的值改为 `green` 和 `blue`，这样第三个就保持为 `red`：
- en: '[PRE1]'
  id: totrans-9
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Note
  id: totrans-10
  prefs:
  - PREF_IND
  - PREF_H4
  type: TYPE_NORMAL
  zh: 注意
- en: Here, we change the `color` column of only those values whose species is `setosa`
    or `virginica`)
  id: totrans-11
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们只更改那些物种为 `setosa` 或 `virginica` 的值的 `color` 列）
- en: 'Choose any three random cluster centers:'
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择任意三个随机的聚类中心：
- en: '[PRE2]'
  id: totrans-13
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Plot the `x`, `y` plot by entering the sepal length and sepal width in the
    `plot()` function, along with color:'
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过在 `plot()` 函数中输入花萼长度和花萼宽度以及颜色来绘制 `x`，`y` 图：
- en: '[PRE3]'
  id: totrans-15
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Here is the output:'
  id: totrans-16
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这里是输出：
- en: '![Figure 1.36: Scatter plot for the given cluster centers](img/C12628_01_36.jpg)'
  id: totrans-17
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 1.36：给定聚类中心的散点图](img/C12628_01_36.jpg)'
- en: 'Figure 1.36: Scatter plot for the given cluster centers'
  id: totrans-18
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1.36：给定聚类中心的散点图
- en: 'Choose a number of iterations:'
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择迭代次数：
- en: '[PRE4]'
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Choose an the initial value of `n`:'
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 `n` 的初始值：
- en: '[PRE5]'
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Start the `while` loop for finding the cluster centers:'
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 开始 `while` 循环以找到聚类中心：
- en: '[PRE6]'
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Calculate the distance of each point from the current cluster centers. We''re
    calculating the Euclidean distance here using the `sqrt` function:'
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算每个点到当前聚类中心的距离。这里我们使用 `sqrt` 函数计算欧几里得距离：
- en: '[PRE7]'
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Assign each point to a cluster to whose center it is closest:'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将每个点分配到最近的聚类中心：
- en: '[PRE8]'
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Calculate new cluster centers by calculating the mean `x` and `y` coordinates
    of each center with the `mean()` function in R:'
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过使用 R 中的 `mean()` 函数计算每个中心的平均 `x` 和 `y` 坐标来计算新的聚类中心：
- en: '[PRE9]'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Choose the color for each center to plot a scatterplot:'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为每个中心选择颜色以绘制散点图：
- en: '[PRE10]'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Plot the final plot:'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制最终的图表：
- en: '[PRE11]'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'The output is as follows:'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 1.37: Scatter plot representing different species in different colors](img/C12628_01_37.jpg)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.37：用不同颜色表示不同物种的散点图](img/C12628_01_37.jpg)'
- en: 'Figure 1.37: Scatter plot representing different species in different colors'
  id: totrans-37
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1.37：用不同颜色表示不同物种的散点图
- en: 'Activity 2: Customer Segmentation with k-means'
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动二：使用 k-means 进行客户细分
- en: 'Solution:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 解答：
- en: Download the data from [https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-R/tree/master/Lesson01/Activity02/wholesale_customers_data.csv](https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-R/tree/master/Lesson01/Activity02/wholesale_customers_data.csv).
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 [https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-R/tree/master/Lesson01/Activity02/wholesale_customers_data.csv](https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-R/tree/master/Lesson01/Activity02/wholesale_customers_data.csv)
    下载数据。
- en: 'Read the data into the `ws` variable:'
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据读入 `ws` 变量：
- en: '[PRE12]'
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Store only column 5 and 6 in the `ws` variable by discarding the rest of the
    columns:'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只存储 `ws` 变量中的第 5 和第 6 列，丢弃其他列：
- en: '[PRE13]'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Import the `factoextra` library:'
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入 `factoextra` 库：
- en: '[PRE14]'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Calculate the cluster centers for two centers:'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算两个中心的聚类中心：
- en: '[PRE15]'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Plot the chart for two clusters:'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制两个聚类的图表：
- en: '[PRE16]'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'The output is as follows:'
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 1.38: Chart for two clusters](img/C12628_01_38.jpg)'
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 1.38：两个聚类的图表](img/C12628_01_38.jpg)'
- en: 'Figure 1.38: Chart for two clusters'
  id: totrans-53
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1.38：两个聚类的图表
- en: Notice how outliers are also part of the two clusters.
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意到异常值也成为了两个聚类的一部分。
- en: 'Calculate the cluster centers for three clusters:'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算三个聚类的聚类中心：
- en: '[PRE17]'
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Plot the chart for three clusters:'
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制三个聚类的图表：
- en: '[PRE18]'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'The output is as follows:'
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 1.39: Chart for three clusters](img/C12628_01_39.jpg)'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 1.39：三个聚类的图表](img/C12628_01_39.jpg)'
- en: 'Figure 1.39: Chart for three clusters'
  id: totrans-61
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1.39：三个聚类的图表
- en: Notice some outliers are now a part of a separate cluster.
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意现在一些异常值已经成为一个单独聚类的部分。
- en: 'Calculate the cluster centers for four centers:'
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算四个中心的聚类中心：
- en: '[PRE19]'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Plot the chart for four clusters:'
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制四个聚类的图表：
- en: '[PRE20]'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'The output is as follows:'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 1.40: Chart for four clusters](img/C12628_01_40.jpg)'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 1.40：四个聚类的图表](img/C12628_01_40.jpg)'
- en: 'Figure 1.40: Chart for four clusters'
  id: totrans-69
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1.40：四个聚类的图表
- en: Notice how outliers have started separating in two different clusters.
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意到异常值已经开始分离成两个不同的聚类。
- en: 'Calculate the cluster centers for five clusters:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算五个聚类的聚类中心：
- en: '[PRE21]'
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Plot the chart for five clusters:'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制五个聚类的图表：
- en: '[PRE22]'
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'The output is as follows:'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 1.41: Chart for five clusters](img/C12628_01_41.jpg)'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图1.41：五个聚类的图表](img/C12628_01_41.jpg)'
- en: 'Figure 1.41: Chart for five clusters'
  id: totrans-77
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1.41：五个聚类的图表
- en: Notice how outliers have clearly formed two separate clusters in red and blue,
    while the rest of the data is classified in three different clusters.
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意到异常值如何明显地形成了两个分开的红色和蓝色聚类，而其余数据被分类到三个不同的聚类中。
- en: 'Calculate the cluster centers for six clusters:'
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算六个聚类的聚类中心：
- en: '[PRE23]'
  id: totrans-80
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Plot the chart for six clusters:'
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制六个聚类的图表：
- en: '[PRE24]'
  id: totrans-82
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'The output is as follows:'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 1.42: Chart for six clusters](img/C12628_01_42.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![图1.42：六个聚类的图表](img/C12628_01_42.jpg)'
- en: 'Figure 1.42: Chart for six clusters'
  id: totrans-85
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1.42：六个聚类的图表
- en: 'Activity 3: Performing Customer Segmentation with k-medoids Clustering'
  id: totrans-86
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动3：使用k-medoids聚类进行客户细分
- en: 'Solution:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Read the CSV file into the `ws` variable:'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将CSV文件读入`ws`变量：
- en: '[PRE25]'
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Store only columns 5 and 6 in the `ws` variable:'
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只在`ws`变量中存储第5和第6列：
- en: '[PRE26]'
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Import the `factoextra` library for visualization:'
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入`factoextra`库进行可视化：
- en: '[PRE27]'
  id: totrans-93
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Import the `cluster` library for clustering by PAM:'
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入`cluster`库进行PAM聚类：
- en: '[PRE28]'
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Calculate clusters by entering data and the number of clusters in the `pam`
    function:'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过在`pam`函数中输入数据和聚类数量来计算聚类：
- en: '[PRE29]'
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Plot a visualization of the clusters:'
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制聚类可视化图：
- en: '[PRE30]'
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'The output is as follows:'
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 1.43: K-medoid plot of the clusters](img/C12628_01_43.jpg)'
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图1.43：聚类K-medoid图](img/C12628_01_43.jpg)'
- en: 'Figure 1.43: K-medoid plot of the clusters'
  id: totrans-102
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1.43：聚类K-medoid图
- en: 'Again, calculate the clusters with k-means and plot the output to compare with
    the output of the `pam` clustering:'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次，使用k-means聚类计算聚类并绘制输出，以与`pam`聚类的输出进行比较：
- en: '[PRE31]'
  id: totrans-104
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'The output is as follows:'
  id: totrans-105
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 1.44: K-means plot of the clusters](img/C12628_01_44.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![图1.44：聚类K-means图](img/C12628_01_44.jpg)'
- en: 'Figure 1.44: K-means plot of the clusters'
  id: totrans-107
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1.44：聚类K-means图
- en: 'Activity 4: Finding the Ideal Number of Market Segments'
  id: totrans-108
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动4：寻找理想的市场细分数量
- en: 'Solution:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Read the downloaded dataset into the `ws` variable:'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将下载的数据集读入`ws`变量：
- en: '[PRE32]'
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'Store only columns 5 and 6 in the variable by discarding other columns:'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过丢弃其他列，只在变量中存储第5和第6列：
- en: '[PRE33]'
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Calculate the optimal number of clusters with the silhouette score:'
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用轮廓分数计算最佳聚类数量：
- en: '[PRE34]'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'Here is the output:'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这里是输出：
- en: '![Figure 1.45: Graph representing optimal number of clusters with silhouette
    score](img/C12628_01_45.jpg)'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图1.45：表示轮廓分数最佳聚类数量的图表](img/C12628_01_45.jpg)'
- en: 'Figure 1.45: Graph representing optimal number of clusters with the silhouette
    score'
  id: totrans-118
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1.45：表示轮廓分数最佳聚类数量的图表
- en: The optimal number of clusters, according to the silhouette score, is two.
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 根据轮廓分数，最佳聚类数量是两个。
- en: 'Calculate the optimal number of clusters with the WSS score:'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用WSS分数计算最佳聚类数量：
- en: '[PRE35]'
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Here is the output:'
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这里是输出：
- en: '![Figure 1.46: Optimal number of clusters with the WSS score](img/C12628_01_46.jpg)'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图1.46：WSS分数下的最佳聚类数量](img/C12628_01_46.jpg)'
- en: 'Figure 1.46: Optimal number of clusters with the WSS score'
  id: totrans-124
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1.46：WSS分数下的最佳聚类数量
- en: The optimum number of clusters according to the WSS elbow method is around six.
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 根据WSS肘部方法，最佳聚类数量大约是六个。
- en: 'Calculate the optimal number of clusters with the Gap statistic:'
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用Gap统计量计算最佳聚类数量：
- en: '[PRE36]'
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'Here is the output:'
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这里是输出：
- en: '![Figure 1.47: Optimal number of clusters with the Gap statistic](img/C12628_01_47.jpg)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![图1.47：Gap统计量下的最佳聚类数量](img/C12628_01_47.jpg)'
- en: 'Figure 1.47: Optimal number of clusters with the Gap statistic'
  id: totrans-130
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图1.47：Gap统计量下的最佳聚类数量
- en: The optimal number of clusters according to the Gap statistic is one.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 根据Gap统计量，最佳聚类数量是一个。
- en: 'Chapter 2: Advanced Clustering Methods'
  id: totrans-132
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第二章：高级聚类方法
- en: 'Activity 5: Implementing k-modes Clustering on the Mushroom Dataset'
  id: totrans-133
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动5：在蘑菇数据集上实现k-modes聚类
- en: 'Solution:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: Download `mushrooms.csv` from https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-R/blob/master/Lesson02/Activity05/mushrooms.csv.
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-R/blob/master/Lesson02/Activity05/mushrooms.csv下载`mushrooms.csv`。
- en: 'After downloading, load the `mushrooms.csv` file in R:'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载后，在R中加载`mushrooms.csv`文件：
- en: '[PRE37]'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Check the dimensions of the dataset:'
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查数据集的维度：
- en: '[PRE38]'
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'The output is as follows:'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE39]'
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'Check the distribution of all columns:'
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查所有列的分布：
- en: '[PRE40]'
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'The output is as follows:'
  id: totrans-144
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.29: Screenshot of summary of distribution of all columns](img/C12628_02_29.jpg)'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 2.29：所有列分布摘要的屏幕截图](img/C12628_02_29.jpg)'
- en: 'Figure 2.29: Screenshot of the summary of distribution of all columns'
  id: totrans-146
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2.29：所有列分布摘要的屏幕截图
- en: Each column contains all the unique labels and their count.
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 每一列包含所有唯一的标签及其计数。
- en: 'Store all the columns of the dataset, except for the final label, in a new
    variable, `ms_k`:'
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据集的所有列（除了最终标签）存储在一个新变量`ms_k`中：
- en: '[PRE41]'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'Import the `klaR` library, which has the `kmodes` function:'
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入具有`kmodes`函数的`klaR`库：
- en: '[PRE42]'
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'Calculate `kmodes` clusters and store them in a `kmodes_ms` variable. Enter
    the dataset without `true` labels as the first parameter and enter the number
    of clusters as the second parameter:'
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算`kmodes`聚类并将它们存储在`kmodes_ms`变量中。将不带`true`标签的数据集作为第一个参数输入，将聚类数量作为第二个参数输入：
- en: '[PRE43]'
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'Check the results by creating a table of `true` labels and `cluster` labels:'
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过创建一个包含`true`标签和`cluster`标签的表格来检查结果：
- en: '[PRE44]'
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'The output is as follows:'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE45]'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE45]'
- en: As you can see, most of the edible mushrooms are in cluster 2 and most of the
    poisonous mushrooms are in cluster 1\. So, using k-modes clustering has done a
    reasonable job of identifying whether each mushroom is edible or poisonous.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，大多数可食用蘑菇都在第 2 个聚类中，而大多数有毒蘑菇都在第 1 个聚类中。因此，使用 k-modes 聚类已经合理地完成了识别每种蘑菇是否可食用或有毒的工作。
- en: 'Activity 6: Implementing DBSCAN and Visualizing the Results'
  id: totrans-159
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 6：实现 DBSCAN 并可视化结果
- en: 'Solution:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Import the `dbscan` and `factoextra` library:'
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入`dbscan`和`factoextra`库：
- en: '[PRE46]'
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'Import the `multishapes` dataset:'
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入`multishapes`数据集：
- en: '[PRE47]'
  id: totrans-164
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'Put the columns of the `multishapes` dataset in the `ms` variable:'
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`multishapes`数据集的列放入`ms`变量中：
- en: '[PRE48]'
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'Plot the dataset as follows:'
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按以下方式绘制数据集：
- en: '[PRE49]'
  id: totrans-168
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'The output is as follows:'
  id: totrans-169
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.30: Plot of the multishapes dataset](img/C12628_02_30.jpg)'
  id: totrans-170
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 2.30：多形状数据集的折线图](img/C12628_02_30.jpg)'
- en: 'Figure 2.30: Plot of the multishapes dataset'
  id: totrans-171
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2.30：多形状数据集的折线图
- en: 'Perform k-means clustering on the dataset and plot the results:'
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对数据集执行 k-means 聚类并绘制结果：
- en: '[PRE50]'
  id: totrans-173
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'The output is as follows:'
  id: totrans-174
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![](img/C12628_02_31.jpg)'
  id: totrans-175
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/C12628_02_31.jpg)'
- en: 'Figure 2.31: Plot of k-means on the multishapes dataset'
  id: totrans-176
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2.31：多形状数据集上的 k-means 折线图
- en: 'Perform DBSCAN on the `ms` variable and plot the results:'
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对`ms`变量执行 DBSCAN 并绘制结果：
- en: '[PRE51]'
  id: totrans-178
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'The output is as follows:'
  id: totrans-179
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.32: Plot of DBCAN on the multishapes dataset](img/C12628_02_32.jpg)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![图 2.32：多形状数据集上的 DBCAN 折线图](img/C12628_02_32.jpg)'
- en: 'Figure 2.32: Plot of DBCAN on the multishapes dataset'
  id: totrans-181
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2.32：多形状数据集上的 DBCAN 折线图
- en: Here, you can see all the points in black are anomalies and are not present
    in any cluster, and the clusters formed in DBSCAN are not possible with any other
    type of clustering method. These clusters have taken all types of shapes and sizes,
    whereas in k-means, all clusters are of a spherical shape.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你可以看到所有黑色点都是异常值，并且不在任何聚类中，而 DBSCAN 形成的聚类在其他任何聚类方法中都是不可能的。这些聚类具有所有类型的形状和大小，而
    k-means 中的所有聚类都是球形的。
- en: 'Activity 7: Performing a Hierarchical Cluster Analysis on the Seeds Dataset'
  id: totrans-183
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 7：对种子数据集进行层次聚类分析
- en: 'Solution:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Read the downloaded file into the `sd` variable:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将下载的文件读入`sd`变量：
- en: '[PRE52]'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE52]'
- en: Note
  id: totrans-187
  prefs:
  - PREF_IND
  - PREF_H4
  type: TYPE_NORMAL
  zh: 注意
- en: Make changes to the path as per the location of the file on your system.
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 根据系统上文件的位置修改路径。
- en: 'First, put all the columns of the dataset other than final labels into the
    `sd_c` variable:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，将数据集的所有列（除了最终标签）放入`sd_c`变量中：
- en: '[PRE53]'
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'Import the `cluster` library:'
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入`cluster`库：
- en: '[PRE54]'
  id: totrans-192
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'Calculate the hierarchical clusters and plot the dendrogram:'
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算层次聚类并绘制树状图：
- en: '[PRE55]'
  id: totrans-194
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'The output is as follows:'
  id: totrans-195
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.33: Cluster dendrogram](img/C12628_02_33.jpg)'
  id: totrans-196
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 2.33：聚类树状图](img/C12628_02_33.jpg)'
- en: 'Figure 2.33: Cluster dendrogram'
  id: totrans-197
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2.33：聚类树状图
- en: 'Cut the tree at `k=3` and plot a table to see how the results of the clustering
    have performed at classifying the three types of seeds:'
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`k=3`处切割树并绘制一个表格，以查看聚类结果在分类三种种子类型方面的表现：
- en: '[PRE56]'
  id: totrans-199
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'The output is as follows:'
  id: totrans-200
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.34: Table classifying the three types of seeds](img/C12628_02_34.jpg)'
  id: totrans-201
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 2.34：分类三种种子类型的表格](img/C12628_02_34.jpg)'
- en: 'Figure 2.34: Table classifying the three types of seeds'
  id: totrans-202
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2.34：分类三种种子类型的表格
- en: 'Perform divisive clustering on the `sd_c` dataset and plot the dendrogram:'
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对`sd_c`数据集执行划分聚类并绘制树状图：
- en: '[PRE57]'
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'The output is as follows:'
  id: totrans-205
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.35: Dendrogram of divisive clustering](img/C12628_02_35.jpg)'
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 2.35：划分聚类的树状图](img/C12628_02_35.jpg)'
- en: 'Figure 2.35: Dendrogram of divisive clustering'
  id: totrans-207
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2.35：分裂聚类的树状图
- en: 'Cut the tree at `k=3` and plot a table to see how the results of the clustering
    have performed at classifying the three types of seeds:'
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`k=3`处切割树，并绘制一个表格以查看聚类结果在分类三种种子类型时的表现：
- en: '[PRE58]'
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'The output is as follows:'
  id: totrans-210
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.36: Table classifying the three types of seeds](img/C12628_02_36.jpg)'
  id: totrans-211
  prefs: []
  type: TYPE_IMG
  zh: '![图2.36：分类三种种子类型的表格](img/C12628_02_36.jpg)'
- en: 'Figure 2.36: Table classifying the three types of seeds'
  id: totrans-212
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2.36：分类三种种子类型的表格
- en: You can see that both types of clustering methods have produced identical results.
    These results also demonstrate that divisive clustering is the reverse of hierarchical
    clustering.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以看到两种聚类方法都产生了相同的结果。这些结果还表明，分裂聚类是层次聚类的逆过程。
- en: 'Chapter 3: Probability Distributions'
  id: totrans-214
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第3章：概率分布
- en: 'Activity 8: Finding the Standard Distribution Closest to the Distribution of
    Variables of the Iris Dataset'
  id: totrans-215
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动8：寻找与鸢尾花数据集中变量分布最接近的标准分布
- en: 'Solution:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 解答：
- en: 'Load the Iris dataset into the `df` variable:'
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`df`变量加载到Iris数据集中：
- en: '[PRE59]'
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'Select rows corresponding to the setosa species only:'
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 仅选择对应setosa物种的行：
- en: '[PRE60]'
  id: totrans-220
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE60]'
- en: 'Import the `kdensity` library:'
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入`kdensity`库：
- en: '[PRE61]'
  id: totrans-222
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'Calculate and plot the KDE from the `kdensity` function for sepal length:'
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`kdensity`函数计算并绘制花瓣长度的核密度估计图：
- en: '[PRE62]'
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'The output is as follows:'
  id: totrans-225
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 3.36 Plot of the KDE for sepal length](img/C12628_03_36.jpg)'
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图3.36：花瓣长度的核密度估计图](img/C12628_03_36.jpg)'
- en: Figure 3.36 Plot of the KDE for sepal length
  id: totrans-227
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3.36：花瓣长度的核密度估计图
- en: This distribution is closest to the normal distribution, which we studied in
    the previous section. Here, the mean and median are both around 5.
  id: totrans-228
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这个分布与我们之前章节中研究的正态分布最接近。在这里，平均值和中位数都在5左右。
- en: 'Calculate and plot the KDE from the `kdensity` function for sepal width:'
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`kdensity`函数从`df`中计算并绘制花瓣宽度的核密度估计图：
- en: '[PRE63]'
  id: totrans-230
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'The output is as follows:'
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 3.37 Plot of the KDE for sepal width](img/C12628_03_37.jpg)'
  id: totrans-232
  prefs: []
  type: TYPE_IMG
  zh: '![图3.37：花瓣宽度的核密度估计图](img/C12628_03_37.jpg)'
- en: Figure 3.37 Plot of the KDE for sepal width
  id: totrans-233
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3.37：花瓣宽度的核密度估计图
- en: This distribution is also closest to normal distribution. We can formalize this
    similarity with a Kolmogorov-Smirnov test.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 这个分布也最接近正态分布。我们可以通过柯尔莫哥洛夫-斯米尔诺夫检验来形式化这种相似性。
- en: 'Activity 9: Calculating the CDF and Performing the Kolmogorov-Simonov Test
    with the Normal Distribution'
  id: totrans-235
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动9：使用正态分布计算累积分布函数和执行柯尔莫哥洛夫-西蒙诺夫检验
- en: 'Solution:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 解答：
- en: 'Load the Iris dataset into the `df` variable:'
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Iris数据集加载到`df`变量中：
- en: '[PRE64]'
  id: totrans-238
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'Keep rows with the setosa species only:'
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 仅保留setosa物种的行：
- en: '[PRE65]'
  id: totrans-240
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'Calculate the mean and standard deviation of the sepal length column of `df`:'
  id: totrans-241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算`df`中花瓣长度列的平均值和标准差：
- en: '[PRE66]'
  id: totrans-242
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'Generate a new distribution with the standard deviation and mean of the sepal
    length column:'
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用花瓣长度列的标准差和平均值生成一个新的分布：
- en: '[PRE67]'
  id: totrans-244
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'Plot the CDF of both `xnorm` and the sepal length column:'
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制`xnorm`和花瓣长度列的累积分布函数：
- en: '[PRE68]'
  id: totrans-246
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'The output is as follows:'
  id: totrans-247
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 3.38: The CDF of xnorm and sepal length](img/C12628_03_38.jpg)'
  id: totrans-248
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图3.38：xnorm和花瓣长度的累积分布函数](img/C12628_03_38.jpg)'
- en: 'Figure 3.38: The CDF of xnorm and sepal length'
  id: totrans-249
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3.38：xnorm和花瓣长度的累积分布函数
- en: The samples look very close to each other in the distribution. Let's see, in
    the next test, whether the sepal length sample belongs to the normal distribution
    or not.
  id: totrans-250
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在分布中，样本看起来非常接近。让我们看看，在下一个测试中，花瓣长度样本是否属于正态分布。
- en: 'Perform the Kolmogorov-Smirnov test on the two samples, as follows:'
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对两个样本进行柯尔莫哥洛夫-斯米尔诺夫检验，如下所示：
- en: '[PRE69]'
  id: totrans-252
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'The output is as follows:'
  id: totrans-253
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE70]'
  id: totrans-254
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE70]'
- en: Here, `p-value` is very high and the `D` value is low, so we can assume that
    the distribution of sepal length is closely approximated by the normal distribution.
  id: totrans-255
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这里，`p-value`非常高，而`D`值很低，因此我们可以假设花瓣长度的分布接近正态分布。
- en: 'Repeat the same steps for the sepal width column of `df`:'
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对`df`中花瓣宽度列重复相同的步骤：
- en: '[PRE71]'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE71]'
- en: 'The output is as follows:'
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 3.39: CDF of xnorm and sepal width](img/C12628_03_39.jpg)'
  id: totrans-259
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图3.39：xnorm和花瓣宽度的累积分布函数](img/C12628_03_39.jpg)'
- en: 'Figure 3.39: CDF of xnorm and sepal width'
  id: totrans-260
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3.39：xnorm和花瓣宽度的累积分布函数
- en: 'Perform the Kolmogorov-Smirnov test as follows:'
  id: totrans-261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按如下进行柯尔莫哥洛夫-斯米尔诺夫检验：
- en: '[PRE72]'
  id: totrans-262
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE72]'
- en: 'The output is as follows:'
  id: totrans-263
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE73]'
  id: totrans-264
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE73]'
- en: Here, also, the sample distribution of sepal width is closely approximated by
    the normal distribution.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，花瓣宽度的样本分布也接近正态分布。
- en: 'Chapter 4: Dimension Reduction'
  id: totrans-266
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第4章：降维
- en: 'Activity 10: Performing PCA and Market Basket Analysis on a New Dataset'
  id: totrans-267
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动10：在新数据集上执行PCA和市场篮子分析
- en: 'Solution:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 解答：
- en: 'Before starting our main analysis, we will remove one variable that will not
    be relevant to us:'
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在开始我们的主要分析之前，我们将移除一个对我们无关的变量：
- en: '[PRE74]'
  id: totrans-270
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'We will create dummy variables. We will end up with one original dataset, and
    one dummy variable dataset. We do that as follows:'
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将创建虚拟变量。最终我们将得到一个原始数据集和一个虚拟变量数据集。我们这样做如下：
- en: '[PRE75]'
  id: totrans-272
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE75]'
- en: Next, we will create dummy variables for each of the measurements in the original
    dataset. You can find out the meaning of each of the variables in the dataset
    in the documentation of the MASS package, available at [https://cran.r-project.org/web/packages/MASS/MASS.pdf](https://cran.r-project.org/web/packages/MASS/MASS.pdf).
  id: totrans-273
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 接下来，我们将为原始数据集中的每个测量值创建虚拟变量。您可以在MASS包的文档中找到每个变量的含义，该文档可在[https://cran.r-project.org/web/packages/MASS/MASS.pdf](https://cran.r-project.org/web/packages/MASS/MASS.pdf)找到。
- en: 'Create dummy variables for whether a town has high or low crime per capita:'
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为是否一个城镇的人均犯罪率高低创建虚拟变量：
- en: '[PRE76]'
  id: totrans-275
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'Create dummy variables for whether a town has a high or low proportion of land
    zoned for lots over 25,000 feet:'
  id: totrans-276
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为是否一个城镇划定的地块面积超过25,000平方英尺的比例高或低创建虚拟变量：
- en: '[PRE77]'
  id: totrans-277
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE77]'
- en: 'Create dummy variables for whether a town has a high or low proportion of non-retail
    business acres per town:'
  id: totrans-278
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为是否一个城镇非零售商业用地比例高或低创建虚拟变量：
- en: '[PRE78]'
  id: totrans-279
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE78]'
- en: 'Create dummy variables for whether a town borders the Charles River:'
  id: totrans-280
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为是否一个城镇毗邻查尔斯河创建虚拟变量：
- en: '[PRE79]'
  id: totrans-281
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'Create dummy variables for whether a town has a high or low nitrogen oxide
    concentration:'
  id: totrans-282
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为是否一个城镇氮氧化物浓度高或低创建虚拟变量：
- en: '[PRE80]'
  id: totrans-283
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE80]'
- en: 'Create dummy variables for whether a town has a high or low average number
    of rooms per dwelling:'
  id: totrans-284
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为是否一个城镇每户平均房间数量高或低创建虚拟变量：
- en: '[PRE81]'
  id: totrans-285
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE81]'
- en: 'Create dummy variables for whether a town has a high or low proportion of owner-occupied
    units built prior to 1940:'
  id: totrans-286
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为是否一个城镇拥有1940年之前建造的业主自住单元比例高或低创建虚拟变量：
- en: '[PRE82]'
  id: totrans-287
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE82]'
- en: 'Create dummy variables for whether a town has a high or low average distance
    to five of Boston''s employment centers:'
  id: totrans-288
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为是否一个城镇距离波士顿五个就业中心平均距离高或低创建虚拟变量：
- en: '[PRE83]'
  id: totrans-289
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE83]'
- en: 'Create dummy variables for whether a town has a high or low index of accessibility
    to radial highways:'
  id: totrans-290
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为是否一个城镇对放射状高速公路的可达性指数高或低创建虚拟变量：
- en: '[PRE84]'
  id: totrans-291
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE84]'
- en: 'Create dummy variables for whether a town has a high or low full-value property
    tax rate:'
  id: totrans-292
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为是否一个城镇的全值财产税税率高或低创建虚拟变量：
- en: '[PRE85]'
  id: totrans-293
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE85]'
- en: 'Create dummy variables for whether a town has a high or low pupil-teacher ratio:'
  id: totrans-294
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为是否一个城镇的学生-教师比例高或低创建虚拟变量：
- en: '[PRE86]'
  id: totrans-295
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE86]'
- en: 'Create dummy variables for whether a town has a high or low proportion of lower-status
    population:'
  id: totrans-296
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为是否一个城镇低阶层人口比例高或低创建虚拟变量：
- en: '[PRE87]'
  id: totrans-297
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE87]'
- en: 'Create dummy variables for whether a town has a high or low median home value:'
  id: totrans-298
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为是否一个城镇的中位家庭价值高或低创建虚拟变量：
- en: '[PRE88]'
  id: totrans-299
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE88]'
- en: 'Create a dataset that consists entirely of the dummy variables we have just
    created:'
  id: totrans-300
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个完全由我们刚刚创建的虚拟变量组成的数据集：
- en: '[PRE89]'
  id: totrans-301
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE89]'
- en: 'Finally, we will restore our `Boston_2` dataset to its original form before
    all of the dummy variables were added:'
  id: totrans-302
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，我们将我们的`Boston_2`数据集恢复到添加所有虚拟变量之前的原始形式：
- en: '[PRE90]'
  id: totrans-303
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE90]'
- en: 'Calculate the eigenvalues and eigenvectors of the covariance matrix of the
    dataset, as follows:'
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按如下方式计算数据集协方差矩阵的特征值和特征向量：
- en: '[PRE91]'
  id: totrans-305
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE91]'
- en: 'The output is as follows:'
  id: totrans-306
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.17: Eigenvectors of the covariance matrix](img/C12628_04_17.jpg)'
  id: totrans-307
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图4.17：协方差矩阵的特征向量](img/C12628_04_17.jpg)'
- en: 'Figure 4.17: Eigenvectors of the covariance matrix'
  id: totrans-308
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图4.17：协方差矩阵的特征向量
- en: 'Print eigen values as follows:'
  id: totrans-309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按如下方式打印特征值：
- en: '[PRE92]'
  id: totrans-310
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE92]'
- en: 'The output is as follows:'
  id: totrans-311
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.18: Eigenvalues of the covariance matrix](img/C12628_04_18.jpg)'
  id: totrans-312
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图4.18：协方差矩阵的特征值](img/C12628_04_18.jpg)'
- en: 'Figure 4.18: Eigenvalues of the covariance matrix'
  id: totrans-313
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图4.18：协方差矩阵的特征值
- en: 'For the third part, we create a simple scree plot based on the eigenvalues:'
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于第三部分，我们将基于特征值创建一个简单的斯克奇图：
- en: '[PRE93]'
  id: totrans-315
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE93]'
- en: 'The output is as follows:'
  id: totrans-316
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.19: Plot of the eigenvalues](img/C12628_04_19.jpg)'
  id: totrans-317
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图4.19：特征值的绘图](img/C12628_04_19.jpg)'
- en: 'Figure 4.19: Plot of the eigenvalues'
  id: totrans-318
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图4.19：特征值的绘图
- en: 'Next, we choose the number of eigenvectors we will use (I chose 10), and we
    transform the dataset to be 10-dimensional, as follows:'
  id: totrans-319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们选择我们将使用的特征向量的数量（我选择了10），并将数据集转换为10维，如下所示：
- en: '[PRE94]'
  id: totrans-320
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE94]'
- en: 'Then, we restore the dataset as much as possible:'
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，我们将尽可能恢复数据集：
- en: '[PRE95]'
  id: totrans-322
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE95]'
- en: 'Finally, we can check how close our restoration is to the original dataset,
    as follows:'
  id: totrans-323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，我们可以检查我们的恢复与原始数据集的接近程度，如下所示：
- en: '[PRE96]'
  id: totrans-324
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE96]'
- en: 'Here, we need to specify a `support` threshold (for example, 20%), and complete
    the first pass through the data:'
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这里，我们需要指定一个`support`阈值（例如，20%），并完成对数据的第一次遍历：
- en: '[PRE97]'
  id: totrans-326
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE97]'
- en: 'Here, we complete the second pass through the data:'
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这里，我们完成对数据的第二次遍历：
- en: '[PRE98]'
  id: totrans-328
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE98]'
- en: 'Here, we complete the third pass, and then do filtering based on the `confidence`
    and `lift` thresholds:'
  id: totrans-329
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这里，我们完成第三次遍历，然后根据`confidence`和`lift`阈值进行过滤：
- en: '[PRE99]'
  id: totrans-330
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE99]'
- en: 'Our final output is the list of three-item baskets that have passed the `support`,
    `confidence`, and `lift` thresholds:'
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们最终的输出是那些通过了`support`、`confidence`和`lift`阈值的三个项目篮子的列表：
- en: '[PRE100]'
  id: totrans-332
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE100]'
- en: 'The output is as follows:'
  id: totrans-333
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 4.20: Output of the three-item basket](img/C12628_04_20.jpg)'
  id: totrans-334
  prefs: []
  type: TYPE_IMG
  zh: '![图4.20：三项篮子的输出](img/C12628_04_20.jpg)'
- en: 'Figure 4.20: Output of the three-item basket'
  id: totrans-335
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图4.20：三项篮子的输出
- en: 'Chapter 5: Data Comparison Methods'
  id: totrans-336
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第五章：数据比较方法
- en: 'Activity 11: Create an Image Signature for a Photograph of a Person'
  id: totrans-337
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动11：为人物照片创建图像签名
- en: 'Solution:'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Download the Borges photo to your computer and save it as `borges.jpg`. Make
    sure that it is saved in R''s working directory. If it is not in R''s working
    directory, then change R''s working directory using the `setwd()` function. Then,
    you can load this image into a variable called `im` (short for image), as follows:'
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Borges照片下载到你的电脑上，并保存为`borges.jpg`。确保它保存在R的工作目录中。如果它不在R的工作目录中，那么使用`setwd()`函数更改R的工作目录。然后，你可以将这张图片加载到一个名为`im`（代表图像）的变量中，如下所示：
- en: '[PRE101]'
  id: totrans-340
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE101]'
- en: The rest of the code we will explore will use this image, called `im`. Here,
    we have loaded a picture of the Alamo into `im`. However, you can run the rest
    of the code on any image, simply by saving the image to your working directory
    and specifying its path in the f`ilepath` variable.
  id: totrans-341
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们将要探索的其余代码将使用这张图片，称为`im`。在这里，我们已经将阿拉莫的图片加载到`im`中。然而，你可以通过将图片保存到你的工作目录并在`filepath`变量中指定其路径来运行其余的代码。
- en: 'The signature we are developing is meant to be used for grayscale images. So,
    we will convert this image to grayscale, using functions in the `imager` package:'
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们正在开发的签名旨在用于灰度图像。因此，我们将使用`imager`包中的函数将此图像转换为灰度：
- en: '[PRE102]'
  id: totrans-343
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE102]'
- en: The second line of this code is the conversion to grayscale. The last line performs
    a split of the image into 10 equal sections.
  id: totrans-344
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 代码的第二行是转换为灰度。最后一行执行了将图像分割成10等份的操作。
- en: 'The following code creates an empty matrix that we will fill with information
    about each section of our 10x10 grid:'
  id: totrans-345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下代码创建了一个空矩阵，我们将用关于我们10x10网格每个部分的详细信息来填充它：
- en: '[PRE103]'
  id: totrans-346
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE103]'
- en: 'Next, we will run the following loop. The first line of this loop uses the
    `imsplit` command. This command was also used previously to split the x axis into
    10 equal parts. This time, for each of the 10 x-axis splits, we will do a split
    along the y-axis, also splitting it into 10 equal parts:'
  id: totrans-347
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 接下来，我们将运行以下循环。这个循环的第一行使用了`imsplit`命令。这个命令之前也被用来将x轴分成10等份。这次，对于x轴的每个10等份，我们将沿着y轴进行分割，也将它分成10等份：
- en: '[PRE104]'
  id: totrans-348
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE104]'
- en: The output so far is the `matrix` variable. We will use this in *step 4*.
  id: totrans-349
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 到目前为止的输出是`matrix`变量。我们将在*步骤4*中使用它。
- en: 'Get the signature of the Borges photograph by running the following code:'
  id: totrans-350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过运行以下代码获取Borges照片的签名：
- en: '[PRE105]'
  id: totrans-351
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE105]'
- en: 'The output is as follows:'
  id: totrans-352
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 5.12: Matrix of borges_signature](img/C12628_05_13.jpg)'
  id: totrans-353
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图5.12：borges_signature矩阵](img/C12628_05_13.jpg)'
- en: 'Figure 5.12: Matrix of borges_signature'
  id: totrans-354
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5.12：borges_signature矩阵
- en: 'Next, we will start calculating a signature using a 9x9 matrix, instead of
    a 10x10 matrix. We start with the same process we used before. The following lines
    of code load our Borges image like we did previously. The final line of this code
    splits the image into equal parts, but instead of 10 equal parts, we set `nb=9`
    so that we split the image into 9 equal parts:'
  id: totrans-355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们将开始使用9x9矩阵而不是10x10矩阵来计算一个签名。我们开始使用之前使用过的相同过程。以下代码行加载我们的Borges图像，就像我们之前做的那样。代码的最后一行将图像分割成相等的部分，但这次我们设置`nb=9`，以便将图像分割成9等份：
- en: '[PRE106]'
  id: totrans-356
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE106]'
- en: 'The following code creates an empty matrix that we will fill with information
    about each section of our 9x9 grid:'
  id: totrans-357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下代码创建了一个空矩阵，我们将用关于我们9x9网格每个部分的详细信息来填充它：
- en: '[PRE107]'
  id: totrans-358
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE107]'
- en: Note that we use `nrow=9` and `ncol=9` so that we have a 9x9 matrix to fill
    with our brightness measurements.
  id: totrans-359
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意我们使用`nrow=9`和`ncol=9`，这样我们就有了一个9x9的矩阵来填充我们的亮度测量值。
- en: 'Next, we will run the following loop. The first line of this loop uses the
    `imsplit` command. This command was also used earlier to split the x axis into
    9 equal parts. This time, for each of the 9 x axis splits, we will do a split
    along the y axis, also splitting it into 9 equal parts:'
  id: totrans-360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们将运行以下循环。此循环的第一行使用 `imsplit` 命令。此命令之前也用于将 x 轴分割成 9 个相等的部分。这次，对于每个 9 个 x
    轴分割，我们将沿着 y 轴进行分割，也将它分割成 9 个相等的部分：
- en: '[PRE108]'
  id: totrans-361
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE108]'
- en: The output so far is the `matrix` variable. We will repeat *Step 4*.
  id: totrans-362
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 到目前为止的输出是 `matrix` 变量。我们将重复 *步骤 4*。
- en: 'Get a 9x9 signature of the Borges photograph by running the following code:'
  id: totrans-363
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过运行以下代码获取博尔赫斯照片的 9x9 签名：
- en: '[PRE109]'
  id: totrans-364
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE109]'
- en: 'The output is as follows:'
  id: totrans-365
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 5.13: Matrix of borges_signature_ninebynine](img/C12628_05_14.jpg)'
  id: totrans-366
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.13：borges_signature_ninebynine 矩阵](img/C12628_05_14.jpg)'
- en: 'Figure 5.13: Matrix of borges_signature_ninebynine'
  id: totrans-367
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 5.13：borges_signature_ninebynine 矩阵
- en: 'Activity 12: Create an Image Signature for the Watermarked Image'
  id: totrans-368
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 12：为水印图像创建图像签名
- en: 'Solution:'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Download the watermarked photo to your computer and save it as `alamo_marked.jpg`.
    Make sure that it is saved in R''s working directory. If it is not in R''s working
    directory, then change R''s working directory using the `setwd()` function. Then,
    you can load this image into a variable called `im` (short for image), as follows:'
  id: totrans-370
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将带水印的图片下载到您的计算机上，并将其保存为 `alamo_marked.jpg`。请确保它保存在 R 的工作目录中。如果它不在 R 的工作目录中，请使用
    `setwd()` 函数更改 R 的工作目录。然后，您可以将此图像加载到名为 `im`（代表图像）的变量中，如下所示：
- en: '[PRE110]'
  id: totrans-371
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE110]'
- en: The rest of the code we will explore will use this image called `im`. Here,
    we have loaded a watermarked picture of the Alamo into `im`. However, you can
    run the rest of the code on any image, simply by saving the image to your working
    directory, and specifying its path in the `filepath` variable.
  id: totrans-372
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们将要探索的其余代码将使用名为 `im` 的此图像。在这里，我们已经将阿拉莫的水印图片加载到 `im` 中。然而，您只需将图片保存到您的工作目录中，并在
    `filepath` 变量中指定其路径，就可以在任意图片上运行其余的代码。
- en: 'The signature we are developing is meant to be used for grayscale images. So,
    we will convert this image to grayscale by using functions in the `imager` package:'
  id: totrans-373
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们正在开发的签名旨在用于灰度图像。因此，我们将使用 `imager` 包中的函数将此图像转换为灰度：
- en: '[PRE111]'
  id: totrans-374
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE111]'
- en: The second line of this code is the conversion to grayscale. The last line performs
    a split of the image into 10 equal sections.
  id: totrans-375
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此代码的第二行是转换为灰度。最后一行执行将图像分割成 10 个相等部分的操作。
- en: 'The following code creates an empty matrix that we will fill with information
    about each section of our 10x10 grid:'
  id: totrans-376
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下代码创建了一个空矩阵，我们将用有关我们 10x10 网格每个部分的信息来填充它：
- en: '[PRE112]'
  id: totrans-377
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE112]'
- en: 'Next, we will run the following loop. The first line of this loop uses the
    `imsplit` command. This command was also used earlier to split the x axis into
    10 equal parts. This time, for each of the 10 x-axis splits, we will do a split
    along the y axis, also splitting it into 10 equal parts:'
  id: totrans-378
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 接下来，我们将运行以下循环。此循环的第一行使用 `imsplit` 命令。此命令之前也用于将 x 轴分割成 10 个相等的部分。这次，对于每个 10 个
    x 轴分割，我们将沿着 y 轴进行分割，也将它分割成 10 个相等的部分：
- en: '[PRE113]'
  id: totrans-379
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE113]'
- en: The output so far is the `matrix` variable. We will use this in *Step 4*.
  id: totrans-380
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 到目前为止的输出是 `matrix` 变量。我们将在 *步骤 4* 中使用此变量。
- en: 'We can get the signature of the watermarked photograph by running the following
    code:'
  id: totrans-381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以通过运行以下代码获取水印照片的签名：
- en: '[PRE114]'
  id: totrans-382
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE114]'
- en: 'The output is as follows:'
  id: totrans-383
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 5.14: Signature of watermarked image](img/C12628_05_06.jpg)'
  id: totrans-384
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图 5.14：水印图像的签名](img/C12628_05_06.jpg)'
- en: 'Figure 5.14: Signature of watermarked image'
  id: totrans-385
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 5.14：水印图像的签名
- en: 'The final output of this activity is the `watermarked_signature` variable,
    which is the analytic signature of the watermarked Alamo photo. If you have completed
    all of the exercises and activities so far, then you should have three analytic
    signatures: one called `building_signature`, one called `borges_signature`, and
    one called `watermarked_signature`.'
  id: totrans-386
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此活动的最终输出是 `watermarked_signature` 变量，它是水印阿拉莫照片的分析签名。如果您已经完成了迄今为止的所有练习和活动，那么您应该有三个分析签名：一个名为
    `building_signature`，一个名为 `borges_signature`，还有一个名为 `watermarked_signature`。
- en: 'After completing this activity, we have stored this signature in a variable
    called `watermarked_signature`. Now, we can compare it to our original Alamo signature,
    as follows:'
  id: totrans-387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成此活动后，我们将此签名存储在名为 `watermarked_signature` 的变量中。现在，我们可以将其与我们的原始阿拉莫签名进行比较，如下所示：
- en: '[PRE115]'
  id: totrans-388
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE115]'
- en: In this case, the result we get is 0.015, indicating a very close match between
    the original image signature and this new image's signature.
  id: totrans-389
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这种情况下，我们得到的结果是 0.015，这表明原始图像签名与这个新图像的签名非常接近。
- en: What we have seen is that our analytic signature method returns similar signatures
    for similar images, and different signatures for different images. This is exactly
    what we want a signature to do, and so we can judge this method a success.
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: 我们所看到的是，我们的分析签名方法对相似图像返回相似的签名，对不同的图像返回不同的签名。这正是我们希望签名所做的，因此我们可以判断这种方法是成功的。
- en: 'Activity 13: Performing Factor Analysis'
  id: totrans-391
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动13：执行因子分析
- en: 'Solution:'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'The data file can be downloaded from [https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-R/tree/master/Lesson05/Data/factor.csv](https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-R/tree/master/Lesson05/Data/factor.csv).
    Save it to your computer and make sure that it is in R''s working directory. If
    you save it as `factor.csv`, then you can load it in R by executing the following
    command:'
  id: totrans-393
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据文件可以从[https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-R/tree/master/Lesson05/Data/factor.csv](https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-R/tree/master/Lesson05/Data/factor.csv)下载。将其保存到您的计算机上，并确保它在R的工作目录中。如果您将其保存为`factor.csv`，则可以通过执行以下命令在R中加载它：
- en: '[PRE116]'
  id: totrans-394
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE116]'
- en: 'Load the `psych` package as follows:'
  id: totrans-395
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按如下方式加载`psych`包：
- en: '[PRE117]'
  id: totrans-396
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE117]'
- en: 'We will be performing factor analysis on the user ratings, which are recorded
    in columns 2 through 11 of the data. We can select these columns as follows:'
  id: totrans-397
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将对用户评分进行因子分析，这些评分记录在数据文件的2至11列中。我们可以如下选择这些列：
- en: '[PRE118]'
  id: totrans-398
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE118]'
- en: 'Create a correlation matrix of the ratings data as follows:'
  id: totrans-399
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按如下方式创建评分数据的相关矩阵：
- en: '[PRE119]'
  id: totrans-400
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE119]'
- en: 'Determine the number of factors we should use by creating a scree plot. A scree
    plot is produced as one of the outputs of the following command:'
  id: totrans-401
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过创建灰度图来确定我们应该使用多少个因素。灰度图是以下命令的输出之一：
- en: '[PRE120]'
  id: totrans-402
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE120]'
- en: 'The scree plot looks like the following:![Figure 5.15: Parallel Analysis Scree
    Plots](img/C12628_05_16.jpg)'
  id: totrans-403
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 灰度图如下所示：![图5.15：平行分析灰度图](img/C12628_05_16.jpg)
- en: 'Figure 5.15: Parallel Analysis Scree Plots'
  id: totrans-404
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5.15：平行分析灰度图
- en: The scree plot shows one factor whose eigenvalue is much higher than the others.
    While we are free to choose any number of factors in our analysis, the single
    factor that is much larger than the others provides good reason to use one factor
    in our analysis.
  id: totrans-405
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 灰度图显示了其中一个特征值远高于其他特征的特征。虽然我们在分析中可以自由选择任意数量的特征，但其中一个特征值远大于其他特征，这为我们使用一个特征进行分析提供了充分的理由。
- en: 'We can perform factor analysis as follows, specifying the number of factors
    in the `nfactors` parameter:'
  id: totrans-406
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以如下进行因子分析，指定`nfactors`参数中的因子数量：
- en: '[PRE121]'
  id: totrans-407
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE121]'
- en: 'This stores the results of our factor analysis in a variable called `factor_analysis`:'
  id: totrans-408
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这将我们的因子分析结果存储在一个名为`factor_analysis`的变量中：
- en: 'We can examine the results of our factor analysis as follows:'
  id: totrans-409
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以如下检查我们的因子分析结果：
- en: '[PRE122]'
  id: totrans-410
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE122]'
- en: 'The output looks as follows:'
  id: totrans-411
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下所示：
- en: '![Figure 5.16: Result of factor analysis](img/C12628_05_17.jpg)'
  id: totrans-412
  prefs: []
  type: TYPE_IMG
  zh: '![图5.16：因子分析结果](img/C12628_05_17.jpg)'
- en: 'Figure 5.16: Result of factor analysis'
  id: totrans-413
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5.16：因子分析结果
- en: The numbers under `MR1` show us the factor loadings for each category for our
    single factor. Since we have only one explanatory factor, all of the categories
    that have positive loadings on this factor are positively correlated with each
    other. We could interpret this factor as general positivity, since it would indicate
    that if people rate one category highly, they will also rate other categories
    highly, and if they rate one category poorly, they are likely to rate other categories
    poorly.
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: 在`MR1`下的数字显示了我们对每个类别的单特征因子载荷。由于我们只有一个解释性因素，所有在这个因素上有正载荷的类别之间都是正相关。我们可以将这个因素解释为普遍的积极性，因为它会表明，如果人们对一个类别评价很高，他们也会对其他类别评价很高；如果他们对一个类别评价很低，他们很可能也会对其他类别评价很低。
- en: The only major exception to this rule is `Category 10`, which records users'
    average ratings of religious institutions. In this case, the factor loading is
    large and negative. This indicates that people who rate most other categories
    highly tend to rate religious institutions poorly, and vice versa. So, maybe we
    can interpret the positivity factor we have found as positivity about recreational
    activities, instead since religious institutions are arguably not places for recreation
    but rather for worship. It seems that, in this dataset, those who are positive
    about recreational activities are negative about worship, and vice versa. For
    the factor loadings that are close to 0, we can also conclude that the rule about
    positivity about recreation holds less strongly. You can see that factor analysis
    has enabled us to find relationships between the observations in our data that
    we had not previously suspected.
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
- en: 'Chapter 6: Anomaly Detection'
  id: totrans-416
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Activity 14: Finding Univariate Anomalies Using a Parametric Method and a Non-parametric
    Method'
  id: totrans-417
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Solution:'
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
- en: 'Load the data as follows:'
  id: totrans-419
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE123]'
  id: totrans-420
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE123]'
- en: 'Draw a boxplot as follows:'
  id: totrans-421
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE124]'
  id: totrans-422
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE124]'
- en: '![Figure 6.21: Boxplot of the islands dataset](img/C12628_06_21.jpg)'
  id: totrans-423
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'Figure 6.21: Boxplot of the islands dataset'
  id: totrans-424
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: You should notice that the data is extremely fat-tailed, meaning that the median
    and interquartile range take up a relatively tiny portion of the plot compared
    to the many observations that R has classified as outliers.
  id: totrans-425
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Create a new log-transformed dataset as follows:'
  id: totrans-426
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE125]'
  id: totrans-427
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE125]'
- en: 'Create a boxplot of the log-transformed data as follows:'
  id: totrans-428
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE126]'
  id: totrans-429
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE126]'
- en: '![Figure 6.22: Boxplot of log-transformed dataset](img/C12628_06_22.jpg)'
  id: totrans-430
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'Figure 6.22: Boxplot of log-transformed dataset'
  id: totrans-431
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: You should notice that there are only five outliers after the log transformation.
  id: totrans-432
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Calculate the interquartile range:'
  id: totrans-433
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE127]'
  id: totrans-434
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE127]'
- en: 'Add 1.5 times the interquartile range to the third quartile to get the upper
    limit of the non-outlier data:'
  id: totrans-435
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE128]'
  id: totrans-436
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE128]'
- en: 'Classify outliers as any observations above this upper limit:'
  id: totrans-437
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE129]'
  id: totrans-438
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE129]'
- en: 'Calculate the interquartile range for the log-transformed data:'
  id: totrans-439
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE130]'
  id: totrans-440
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE130]'
- en: 'Add 1.5 times the interquartile range to the third quartile to get the upper
    limit of the non-outlier data:'
  id: totrans-441
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE131]'
  id: totrans-442
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE131]'
- en: 'Classify outliers as any observations above this upper limit:'
  id: totrans-443
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE132]'
  id: totrans-444
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE132]'
- en: 'Print the non-transformed outliers as follows:'
  id: totrans-445
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE133]'
  id: totrans-446
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE133]'
- en: 'For the non-transformed outliers, we obtain the following:'
  id: totrans-447
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Figure 6.23: Non-transformed outliers](img/C12628_06_23.jpg)'
  id: totrans-448
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'Figure 6.23: Non-transformed outliers'
  id: totrans-449
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Print the log-transformed outliers as follows:'
  id: totrans-450
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE134]'
  id: totrans-451
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE134]'
- en: 'For the log-transformed outliers, we obtain the following:'
  id: totrans-452
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Figure 6.24: Log-transformed outliers](img/C12628_06_24.jpg)'
  id: totrans-453
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'Figure 6.24: Log-transformed outliers'
  id: totrans-454
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Calculate the mean and standard deviation of the data:'
  id: totrans-455
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE135]'
  id: totrans-456
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE135]'
- en: 'Select observations that are more than two standard deviations away from the
    mean:'
  id: totrans-457
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE136]'
  id: totrans-458
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE136]'
- en: 'We obtain the following outliers:'
  id: totrans-459
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Figure 6.25: Screenshot of the outliers](img/C12628_06_25.jpg)'
  id: totrans-460
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'Figure 6.25: Screenshot of the outliers'
  id: totrans-461
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'First, we calculate the mean and standard deviation of the log-transformed
    data:'
  id: totrans-462
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE137]'
  id: totrans-463
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE137]'
- en: 'Select observations that are more than two standard deviations away from the
    mean:'
  id: totrans-464
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择距离平均值超过两个标准差的观测值：
- en: '[PRE138]'
  id: totrans-465
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE138]'
- en: 'We print the log-transformed outliers as follows:'
  id: totrans-466
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们如下打印对数变换后的异常值：
- en: '[PRE139]'
  id: totrans-467
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE139]'
- en: 'The output is as follows:'
  id: totrans-468
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 6.26: Log-transformed outliers](img/C12628_06_26.jpg)'
  id: totrans-469
  prefs: []
  type: TYPE_IMG
  zh: '![图6.26：对数变换后的异常值](img/C12628_06_26.jpg)'
- en: 'Figure 6.26: Log-transformed outliers'
  id: totrans-470
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6.26：对数变换后的异常值
- en: 'Activity 15: Using Mahalanobis Distance to Find Anomalies'
  id: totrans-471
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动15：使用马氏距离查找异常值
- en: 'Solution:'
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: 解答：
- en: 'You can load and plot the data as follows:'
  id: totrans-473
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以按照以下步骤加载数据并绘制图表：
- en: '[PRE140]'
  id: totrans-474
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE140]'
- en: 'The output plot is the following:'
  id: totrans-475
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出图表如下：
- en: '![Figure 6.27: Plot of the cars dataset](img/C12628_06_27.jpg)'
  id: totrans-476
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图6.27：汽车数据集的绘图](img/C12628_06_27.jpg)'
- en: 'Figure 6.27: Plot of the cars dataset'
  id: totrans-477
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6.27：汽车数据集的绘图
- en: 'Calculate the centroid:'
  id: totrans-478
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算质心：
- en: '[PRE141]'
  id: totrans-479
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE141]'
- en: 'Calculate the covariance matrix:'
  id: totrans-480
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算协方差矩阵：
- en: '[PRE142]'
  id: totrans-481
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE142]'
- en: 'Calculate the inverse of the covariance matrix:'
  id: totrans-482
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算协方差矩阵的逆：
- en: '[PRE143]'
  id: totrans-483
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE143]'
- en: 'Create a `NULL` variable, which will hold each of our calculated distances:'
  id: totrans-484
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个`NULL`变量，它将保存我们计算出的每个距离：
- en: '[PRE144]'
  id: totrans-485
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE144]'
- en: 'We can loop through each observation and find the Mahalanobis distance between
    them and the centroid of the data:'
  id: totrans-486
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以遍历每个观测值，并计算它们与数据集质心的马氏距离：
- en: '[PRE145]'
  id: totrans-487
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE145]'
- en: 'Plot all observations that have particularly high Mahalanobis distances to
    see our outliers:'
  id: totrans-488
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制具有特别高马氏距离的所有观测值，以查看我们的异常值：
- en: '[PRE146]'
  id: totrans-489
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE146]'
- en: 'We can see the output plot as follows, with the outlier points shown in red:'
  id: totrans-490
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们可以如下查看输出图表，异常点用红色表示：
- en: '![Figure 6.28: Plot with outliers marked](img/C12628_06_28.jpg)'
  id: totrans-491
  prefs: []
  type: TYPE_IMG
  zh: '![图6.28：标记异常值的绘图](img/C12628_06_28.jpg)'
- en: 'Figure 6.28: Plot with outliers marked'
  id: totrans-492
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6.28：标记异常值的绘图
