<html><head></head><body>
		<div id="_idContainer174">
			<h1 id="_idParaDest-205"><em class="italic"><a id="_idTextAnchor207"/>Chapter 11</em>: The Administrator and Operations Views</h1>
			<p>We have spent a good proportion of time in this book so far understanding the components of the H2O machine learning at scale framework and deep diving to develop the skills to implement the framework for model building and model deployment on enterprise systems.</p>
			<p>Success in machine learning requires skill with code and technology but in an enterprise, it also requires success with people and processes. Looked at in another way, the proverbial <em class="italic">success is a team sport</em> statement is all too true. Let's now begin looking at the personas or stakeholders that participate in bringing success to H2O machine learning at scale. </p>
			<p>In this chapter, we will start by addressing the personas directly involved in this success: H2O administrators, the operations team, and the data scientist. We'll understand how the key stakeholders interact with H2O at scale model building and model deployment. We'll look at the H2O administrator view of H2O at scale and understand how Enterprise Steam is central to this view. We'll also look at the operations team view of H2O at scale model building and model deployment. Finally, we'll understand how data scientists are impacted by the H2O administrator and the operations team views.</p>
			<p>In this chapter, we're going to cover the following main topics:</p>
			<ul>
				<li>A model building and deployment view: The personas on the ground</li>
				<li>View 1: Enterprise Steam administrator</li>
				<li>View 2: The operations team</li>
				<li>View 3: The data scientist</li>
			</ul>
			<h1 id="_idParaDest-206"><a id="_idTextAnchor208"/>A model building and deployment view – the personas on the ground</h1>
			<p>Many personas or<a id="_idIndexMarker856"/> stakeholders are involved in the machine learning life cycle. The key personas involved in H2O at scale model building and deployment are the data scientist, the Enterprise Steam administrator, and the operations team. The focus of this chapter is on these personas. Let's get a high-level view of their activities as shown in the following diagram:</p>
			<p class="figure-caption"> </p>
			<div>
				<div id="_idContainer168" class="IMG---Figure">
					<img src="image/B16721_11_001.jpg" alt="Figure 11.1 – Key personas involved in building and deploying H2O models at scale&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.1 – Key personas involved in building and deploying H2O models at scale</p>
			<p>A summary of these stakeholders and their high-level concerns are as follows:</p>
			<ul>
				<li><strong class="bold">Enterprise Steam Administrator</strong>: Governs <a id="_idIndexMarker857"/>who launches H2O clusters on the multitenant enterprise <a id="_idIndexMarker858"/>server cluster and how many resources they are allowed to consume, and centralizes and manages H2O integration on the server cluster</li>
				<li><strong class="bold">H2O Cluster Operations</strong>: Troubleshoots <a id="_idIndexMarker859"/>H2O jobs on the<a id="_idIndexMarker860"/> enterprise server cluster (either a Kubernetes or Hadoop cluster)</li>
				<li><strong class="bold">Model Operations</strong>: Deploys, manages, and <a id="_idIndexMarker861"/>monitors models deployed to scoring environments</li>
				<li><strong class="bold">Data Scientist</strong>: For the purpose <a id="_idIndexMarker862"/>of this chapter, knows how and why to interact with the aforementioned <a id="_idIndexMarker863"/>personas</li>
			</ul>
			<p>The rest of this chapter will be dedicated to drilling down into each of these persona's views and activities when working on H2O machine learning at scale.</p>
			<p>Let's get started.</p>
			<h1 id="_idParaDest-207"><a id="_idTextAnchor209"/>View 1 – Enterprise Steam administrator</h1>
			<p>Let's first look at the<a id="_idIndexMarker864"/> concerns of the Enterprise Steam administrator before understanding their activities. </p>
			<h2 id="_idParaDest-208"><a id="_idTextAnchor210"/>Enterprise Steam administrator concerns </h2>
			<p>The Enterprise Steam <a id="_idIndexMarker865"/>administrator has two broad <a id="_idIndexMarker866"/>concerns as shown in the following diagram:</p>
			<p class="figure-caption"> </p>
			<div>
				<div id="_idContainer169" class="IMG---Figure">
					<img src="image/B16721_11_002.jpg" alt="Figure 11.2 – Enterprise Steam administrator concerns&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.2 – Enterprise Steam administrator concerns</p>
			<p><strong class="bold">The preceding diagram can be summarized as follows:</strong></p>
			<ul>
				<li><strong class="bold">H2O user governance</strong>: These concerns focus on governing data scientists, who launch H2O model building jobs on the enterprise server cluster. This includes authenticating these H2O <a id="_idIndexMarker867"/>users against the enterprise identity provider, defining roles for H2O users, and governing the resource consumption of H2O users in the enterprise server cluster environment.</li>
				<li><strong class="bold">H2O system management</strong>: These concerns revolve around centralizing the integration of H2O technology with the enterprise server cluster and managing H2O software versions. This creates a separation of roles where now data scientists do not need to understand<a id="_idIndexMarker868"/> the complexities of this integration (which they would if Enterprise Steam were not implemented). </li>
			</ul>
			<p>Enterprise Steam can be seen as a <a id="_idIndexMarker869"/>necessity in handling enterprise concerns.</p>
			<p class="callout-heading">Enterprise Steam's Value to the Enterprise</p>
			<p class="callout">Enterprises tend to be careful in governing who uses enterprise systems, how users integrate with them, and how users use resources on them. Administrators use Enterprise Steam to build centralized safeguards to handle these concerns and to create uniformity and predictability of H2O usage. Enterprise Steam also makes it easier for data scientists because they do not need to know the technical complexities of integrating H2O with the enterprise system.  </p>
			<p>To appreciate the benefits of Enterprise Steam, it is useful to look at the role it plays in the workflow of data scientists building models at scale with H2O. This is summarized in the following diagram:</p>
			<p> </p>
			<div>
				<div id="_idContainer170" class="IMG---Figure">
					<img src="image/B16721_11_003.jpg" alt="Figure 11.3 – Data science and administrator workflows through Enterprise Steam&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.3 – Data science and administrator workflows through Enterprise Steam</p>
			<p>Fundamentally, Enterprise Steam<a id="_idIndexMarker870"/> sits in front of all data scientists' access to H2O on the enterprise server cluster. Let's understand the benefits of this design in a step-by-step way:</p>
			<ol>
				<li><strong class="bold">Data scientist authenticates through Enterprise Steam</strong>: All data scientists using H2O are authenticated through the enterprise identity provider, for example, LDAP. We will see later in the chapter that group membership returned from the identity provider is used to configure user capabilities specific to the group. </li>
				<li><strong class="bold">Launch H2O cluster</strong>: The data scientist must go through Enterprise Steam to launch an H2O cluster on the enterprise server cluster. In doing so, the data scientist is given boundaries around the size of the H2O cluster (the number of server nodes, memory, and CPU per node) that can be launched and how long it can run before being shut down. We will see later in the chapter how the Enterprise Steam admin uses a <strong class="bold">profile</strong> to define these boundaries.</li>
			</ol>
			<p>Note that there is a lot of complexity involved in configuring H2O to integrate with the specifics of the enterprise server cluster. This is taken care of by the Enterprise Steam administrator using Enterprise Steam's configuration workflow. Data scientists are shielded from this task and simply use the Enterprise Steam UI (or its API from the model building IDE) to quickly launch an H2O cluster.</p>
			<ol>
				<li value="3"><strong class="bold">Build models</strong>: From the model building IDE, data scientists must use the Enterprise Steam API to authenticate before interacting with the H2O cluster that has been launched. After authenticating through Enterprise Steam, the data scientist will be able to connect to their H2O cluster and write code to build models on it.  </li>
			</ol>
			<p>Note that all the steps in the <a id="_idIndexMarker871"/>workflow just described can be done programmatically from the data scientist's IDE and do not require interaction with the Enterprise Steam UI.</p>
			<p class="callout-heading">The Enterprise Steam UI versus the API</p>
			<p class="callout">It is convenient to <a id="_idIndexMarker872"/>manage one or more H2O clusters (launch, stop, re-launch, terminate) from the Enterprise Steam UI. Alternatively, this can be done from your IDE as well by using the same Enterprise Steam API required to authenticate to Enterprise Steam when connecting to your cluster from the IDE to build models. Thus, you can work entirely from your IDE if you wish.</p>
			<p>Let's now return to the role of the Enterprise Steam administrator in governing H2O users and managing the H2O system and integration.</p>
			<h2 id="_idParaDest-209"><a id="_idTextAnchor211"/>Enterprise Steam configurations</h2>
			<p>Let's go directly to the home<a id="_idIndexMarker873"/> configurations screen in Enterprise Steam. This will help us get the big picture before focusing on H2O user governance and H2O<a id="_idIndexMarker874"/> system management. This is shown in the following screenshot. Keep in mind that only Enterprise Steam administrators can see and access these configurations:</p>
			<p> </p>
			<div>
				<div id="_idContainer171" class="IMG---Figure">
					<img src="image/B16721_11_004.jpg" alt="Figure 11.4 – Enterprise Steam configurations home page (administrator visibility only)&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.4 – Enterprise Steam configurations home page (administrator visibility only)</p>
			<p>Let's organize this logically:</p>
			<ul>
				<li><strong class="bold">H2O user governance</strong>: This is done using the <strong class="bold">ACCESS CONTROL</strong> configuration set. Note that these<a id="_idIndexMarker875"/> configurations also include user resource consumption governance and other guardrails.</li>
				<li><strong class="bold">H2O System Management – integration</strong>: Configurations<a id="_idIndexMarker876"/> for integration with the enterprise cluster environment are done using the <strong class="bold">BACKENDS</strong> and <strong class="bold">PRODUCTS</strong> configuration sets. This includes management of H2O versions as well.</li>
				<li><strong class="bold">H2O System Management – Steam</strong>: Configuring <a id="_idIndexMarker877"/>Enterprise Steam itself is done using the <strong class="bold">STEAM CONFIGURATION</strong> configuration set.<p class="callout-heading">Driverless AI Can be Configured in Enterprise Steam (Wait, What?)</p><p class="callout">The focus of this book is<a id="_idIndexMarker878"/> machine learning at scale with H2O. From a model building perspective, this focuses on H2O-3 or Sparkling Water clusters training on massive datasets via the horizontally scaling architecture these create.  </p><p class="callout">Driverless AI is an H2O product that is specialized for extreme AutoML (typically on datasets of less than 100-200 GB) leveraging extensive automation, a genetic algorithm to find the best models, and highly automated and exhaustive feature engineering. We will elaborate more on Driverless AI when covering H2O.ai's end-to-end machine learning platform in <a href="B16721_13_Final_SK_ePub.xhtml#_idTextAnchor241"><em class="italic">Chapter 13</em></a>, <em class="italic">Introducing H2O AI Cloud</em>. We will see in that chapter how Driverless AI can augment the use of H2O-3 and Sparkling Water at scale. For now, know that Driverless AI can also be launched and managed through Steam (on a Kubernetes cluster).</p></li>
			</ul>
			<p>Let's now elaborate on the previous bullets one by one.</p>
			<h2 id="_idParaDest-210"><a id="_idTextAnchor212"/>H2O user governance from Enterprise Steam</h2>
			<p>Enterprise Steam administrators govern <a id="_idIndexMarker879"/>users of H2O clusters <a id="_idIndexMarker880"/>using the <strong class="bold">GENERAL</strong> &gt; <strong class="bold">ACCESS CONTROL</strong> set of configurations. An overview of these configurations follows.</p>
			<h3>Authentication</h3>
			<p>User authentication to Enterprise Steam and thus to H2O clusters that are launched can be configured against the following <a id="_idIndexMarker881"/>enterprise identity providers:</p>
			<ul>
				<li><strong class="bold">OpenID</strong></li>
				<li><strong class="bold">LDAP</strong></li>
				<li><strong class="bold">SAML</strong></li>
				<li><strong class="bold">PAM</strong></li>
			</ul>
			<p>Detailed and familiar settings are configured depending on which provider is selected.</p>
			<h3>Tokens</h3>
			<p>Tokens are alternatives to<a id="_idIndexMarker882"/> using passwords when using the Enterprise Steam API. Tokens are issued here for the logged-in user. Each time a token is generated the previously issued token is revoked. In the case of OIDC auth, the user must obtain <a id="_idIndexMarker883"/>a token to use the API (a <strong class="bold">single sign-on</strong> (<strong class="bold">SSO</strong>) password cannot be used).</p>
			<h3>Users</h3>
			<p>Users who have authenticated <a id="_idIndexMarker884"/>through Enterprise Steam are listed on this page. Users are listed by username, role, and authentication method. Users can be deactivated and reactivated from here.  </p>
			<p>Overrides of an individual user's role, authentication method, and profile assignments can be done here as well. Note that the user's role, authentication method, and profile are typically assigned via mapping to a group that they belong to and that is returned by the identity provider. Also note that a user configuration for enabled identity provider can be overridden here when the user exists in more than one enabled identity provider system.</p>
			<h3>Roles</h3>
			<p>There are two roles in <a id="_idIndexMarker885"/>Enterprise steam:</p>
			<ul>
				<li><strong class="bold">Admin</strong>: Logged-in users with admin roles can make configuration changes as discussed in this <a id="_idIndexMarker886"/>chapter.</li>
				<li><strong class="bold">Standard user</strong>: Logged-in users <a id="_idIndexMarker887"/>with standard user roles are data scientists who can launch clusters from Enterprise Steam as shown in <em class="italic">Figure 11.3</em>. This user experience is described more fully in <a href="B16721_03_Final_SK_ePub.xhtml#_idTextAnchor042"><em class="italic">Chapter 3</em></a>, <em class="italic">Fundamental Workflow – Data to Deployable Model</em>.</li>
			</ul>
			<p>Note that roles can be assigned by group name (returned from authentication against the identity provider). You may also provide a group name with the wildcard character <strong class="source-inline">*</strong> to assign a role to all authenticated users.</p>
			<h3>Profiles</h3>
			<p>This is where users are given<a id="_idIndexMarker888"/> boundaries on the resource consumption of their H2O clusters. These boundaries are assigned to a profile that is given a name, and profiles are mapped to one or more user groups or to individual users. The wildcard character <strong class="source-inline">*</strong> maps a profile to all users.  </p>
			<p>Users are constrained to these boundaries when they launch an H2O cluster. For example, an intern may only be allowed one concurrent H2O cluster comprising no more than 2 nodes each with 1 GB of memory, whereas an advanced user may be allowed 3 concurrent clusters each with up to 20 nodes and 50 GB of memory per node.</p>
			<p class="callout-heading">Profiles Govern User Resource Consumption</p>
			<p class="callout">Profiles draw boundaries around each user's resource consumption on the shared server cluster. This is done by limiting the number of H2O clusters a user can manage concurrently, the size of each cluster (total server nodes, memory per node, CPU per node), and how long the cluster can run.  </p>
			<p class="callout">Profiles should not limit users but on the other hand, they should be appropriately sized for them. Without profiles, users tend toward maximum possible resource consumption while requiring far less. Multiplied by all users this typically creates unnecessary pressure to expand the server cluster (which has a significant cost) or to constrain the tenants that use it. </p>
			<p>There are three profile types for H2O Core that can be configured and assigned to users: </p>
			<ul>
				<li><strong class="bold">H2O</strong>: H2O-3 clusters <a id="_idIndexMarker889"/>on Hadoop.</li>
				<li><strong class="bold">Sparkling Water – Internal Backend</strong>: Sparkling Water clusters on Hadoop where H2O and Spark DataFrames <a id="_idIndexMarker890"/>occupy the same memory space (that is, memory on the same server node).</li>
				<li><strong class="bold">Hadoop: Sparkling Water – External Backend</strong>: Sparkling Water clusters on Hadoop where H2O and Spark DataFrames occupy separate memory space (memory on different server <a id="_idIndexMarker891"/>nodes). Note that this profile is used infrequently, typically only for Sparkling Water processing that lasts extremely long durations (typically over 24 hours). The external backend has the advantage of isolating H2O Sparkling Water clusters from disruption caused by Spark node termination or reassignment but has the disadvantage of requiring network (versus memory space) transfer of data between <a id="_idIndexMarker892"/>H2O and Spark DataFrames. </li>
				<li><strong class="bold">H2O – Kubernetes</strong>: H2O-3 clusters on<a id="_idIndexMarker893"/> the Kubernetes cluster framework.</li>
			</ul>
			<p>See <a href="B16721_02_Final_SK_ePub.xhtml#_idTextAnchor024"><em class="italic">Chapter 2</em></a>, <em class="italic">Platform Components and Key Concepts</em>, to revisit the distinction between H2O-3 and Sparkling Water clusters. Also recall that <strong class="bold">H2O cluster</strong> refers to either an <strong class="bold">H2O-3 cluster</strong> or a <strong class="bold">Sparkling Water cluster</strong>.</p>
			<p class="callout-heading">Hadoop Spark versus a Pure Spark Cluster</p>
			<p class="callout">Hadoop systems <a id="_idIndexMarker894"/>typically implement both MapReduce and Spark frameworks as distributed compute systems and jobs on these frameworks typically are managed by the YARN resource manager. Enterprise Steam manages H2O-3 clusters on the MapReduce framework of Hadoop/YARN and Sparkling Water clusters on the Spark framework of Hadoop/YARN.</p>
			<p class="callout">Note that Spark can also be run alone outside of Hadoop and YARN. H2O Sparkling Water clusters can be run on this type of Spark implementation but currently, H2O does not integrate Enterprise Steam with these environments.</p>
			<p class="callout">Kubernetes is an alternative<a id="_idIndexMarker895"/> framework for implementing distributed compute. Enterprise Steam also integrates with Kubernetes to launch and run H2O-3 clusters. Support for Enterprise Steam and Kubernetes for Sparkling Water is currently in progress.</p>
			<p>Details differ for the four profile<a id="_idIndexMarker896"/> types listed previously, but they each share the following key configurations:</p>
			<ul>
				<li><strong class="bold">Profile name</strong>: To assign to user groups.</li>
				<li><strong class="bold">User groups</strong>: Who to assign the profile to.</li>
				<li><strong class="bold">Cluster limit per user</strong>: The number of H2O clusters a user can concurrently run.</li>
				<li><strong class="bold">Number of nodes</strong>: The number of server nodes comprising the distributed H2O cluster. </li>
				<li><strong class="bold">Memory and CPU</strong>: The amount of memory and CPU per node to dedicate to the H2O cluster.</li>
				<li><strong class="bold">Maximum idle time (hrs)</strong>: The H2O cluster will automatically shut down when the H2O cluster is idle for longer than this duration.</li>
				<li><strong class="bold">Maximum uptime (hrs)</strong>: The H2O cluster will automatically shut down when the H2O cluster has been running longer than this duration, whether idle or not.</li>
				<li><strong class="bold">Enable cluster saving</strong>: Saves cluster data when the cluster is shut down (either after the user manually shuts it down or after the maximum idle time or uptime is exceeded) so that the cluster can be restarted and resume with the same state as when it shut down.</li>
			</ul>
			<p>Note that the preceding is not an exhaustive list but just a list of the  key configurations to govern user resource usage on an H2O cluster. </p>
			<h2 id="_idParaDest-211"><a id="_idTextAnchor213"/>Enterprise Steam configurations</h2>
			<p>Configurations to manage the Enterprise Steam server are made at <strong class="bold">GENERAL</strong> &gt; <strong class="bold">STEAM CONFIGURATION</strong>. The configuration sets to do this are as follows.</p>
			<h3>License</h3>
			<p>Enterprise Steam<a id="_idIndexMarker897"/> requires a license from H2O.ai. This configuration page identifies the number of days remaining on the current license and provides ways to manage the license.</p>
			<h3>Security</h3>
			<p>This configuration page provides settings to harden the security of Enterprise Steam.Enterprise<a id="_idIndexMarker898"/> Steam only runs on HTTPS and Steam by default generates a self-signed certificate. This page allows you to configure the path to your own TLS certificate, among other security settings.</p>
			<h3>Logging</h3>
			<p>Enterprise Steam <a id="_idIndexMarker899"/>performs extensive logging of user authentication and H2O cluster usage. This page allows you to configure the log level and the log directory path. This is also where you can download the logs.  </p>
			<p>You can also download usage reports of H2O clusters at user-level granularity. </p>
			<h3>Import/export</h3>
			<p>This page facilitates the<a id="_idIndexMarker900"/> reuse of configurations by allowing the Enterprise Steam configuration to be exported as well as a configuration from another instance to be imported and loaded.</p>
			<h2 id="_idParaDest-212"><a id="_idTextAnchor214"/>Server cluster (backend) integration</h2>
			<p>A theme of this book<a id="_idIndexMarker901"/> is that H2O Core (H2O-3 and Sparkling Water) is used to build models on massive data volumes. To achieve this, users launch H2O clusters, which distribute both data and compute in parallel across multiple separate servers. This allows, for example, XGBoost or <strong class="bold">Generalized Linear Model</strong> (<strong class="bold">GLM</strong>) algorithms<a id="_idIndexMarker902"/> to train against a terabyte of data.  </p>
			<p>Enterprise Steam allows the administrators to configure the integration of H2O clusters in these server cluster environments. This is done in the <strong class="bold">BACKENDS</strong> section of the configuration pages.  </p>
			<p>There are two types of server cluster backends that H2O clusters can be launched on and governed by Enterprise Steam: </p>
			<ul>
				<li><strong class="bold">Hadoop</strong>: These are YARN-based distributed <a id="_idIndexMarker903"/>systems, for example, Cloudera CDH or CDP, or Amazon EMR.</li>
				<li><strong class="bold">Kubernetes</strong>: This is a distributed <a id="_idIndexMarker904"/>framework architected around orchestrating pools of containers and is vendor-agnostic, though with vendor-specific offerings.  </li>
			</ul>
			<p>Configuration items are detailed<a id="_idIndexMarker905"/> and extensive for either backend to allow H2O clusters to run securely against these enterprise environments. See the H2O documentation for full details at <a href="https://docs.h2o.ai/enterprise-steam/latest-stable/docs/install-docs/backends.html">https://docs.h2o.ai/enterprise-steam/latest-stable/docs/install-docs/backends.html</a>.</p>
			<h2 id="_idParaDest-213"><a id="_idTextAnchor215"/>H2O-3 and Sparkling Water management</h2>
			<p>Now that cluster backends have been<a id="_idIndexMarker906"/> configured, administrators can manage and configure <strong class="bold">H2O-3</strong> or <strong class="bold">Sparkling Water</strong>, which users run on these backends. This is done in the <strong class="bold">PRODUCTS</strong> section of the configuration pages. </p>
			<p>Both H2O-3 and Sparkling Water have the following pages:</p>
			<ul>
				<li><strong class="bold">Configuration</strong>: This presents high-level configurations that will be constant for all H2O-3 or Sparkling Water clusters among users and profiles. For example, you can append a configured YARN prefix to the job name appearing for all H2O clusters listed in the YARN resource manager UI on the Hadoop system.</li>
				<li><strong class="bold">Engines</strong>: Engines refers to H2O-3 or Sparkling Water library versions that are used to launch an H2O cluster. This configuration page lists all library versions (engines) maintained by Enterprise Steam. Each is available as a drop-down choice when the user launches an H2O cluster. Note that new library versions are either uploaded to<a id="_idIndexMarker907"/> the library (after first downloading from the H2O.ai website) or copied to the Enterprise Steam server local filesystem (for example, via the <strong class="source-inline">scp</strong> command from another server). Library versions can be added and removed on this configuration page.<p class="callout-heading">Note on Upgrading H2O Versions</p><p class="callout">Upgrading H2O versions is easy: the user simply launches a new H2O cluster by selecting a new library version (that the<a id="_idIndexMarker908"/> administrator has uploaded or copied to Enterprise Steam as just described). This simple upgrade method works because (a) the H2O cluster architecture pushes the library from Enterprise Steam to the nodes on the server cluster when the H2O cluster is launched and removes the library when the H2O cluster is terminated, and (b) each H2O cluster is an isolated entity. Thus, <em class="italic">user A</em> can launch an H2O cluster using one H2O version and <em class="italic">user B</em> can do so using another version (or <em class="italic">user A</em> can launch multiple H2O clusters each with a different version).</p><p class="callout">A requirement in all cases is that the library version installed in your IDE environment matches the version the H2O cluster was launched with.</p></li>
			</ul>
			<p>See the H2O.ai documentation for <a id="_idIndexMarker909"/>more in-depth details about using H2O-3 on Hadoop: <a href="https://docs.h2o.ai/h2o/latest-stable/h2o-docs/welcome.html#hadoop-users">https://docs.h2o.ai/h2o/latest-stable/h2o-docs/welcome.html#hadoop-users</a>. Note that the list of Hadoop launch parameters listed at this link can be used to configure Enterprise Steam for all H2O-3 clusters.</p>
			<h2 id="_idParaDest-214"><a id="_idTextAnchor216"/>Restarting Enterprise Steam</h2>
			<p>For some <a id="_idIndexMarker910"/>configuration changes, you will be prompted with a message stating that a restart of Enterprise Steam is necessary to apply these changes.  </p>
			<p>Restart Enterprise Steam by running the following command from the Enterprise Steam server command line:</p>
			<p class="source-code">sudo systemctl restart steam</p>
			<p>Validate that Enterprise Steam is running after the restart by running the following command:</p>
			<p class="source-code">sudo systemctl status steam</p>
			<p>The log for troubleshooting the Enterprise Steam service is found at the following path on the Enterprise Steam server: <strong class="source-inline">/opt/h2oai/steam/logs/steam.log</strong>.</p>
			<p>Now that we have understood the Enterprise Steam administrator views of machine learning at scale with H2O, let's see what this means to the operations team.</p>
			<h1 id="_idParaDest-215"><a id="_idTextAnchor217"/>View 2 – The operations team</h1>
			<p>The operations team maintains <a id="_idIndexMarker911"/>enterprise systems and monitors the workloads run on them. For H2O at scale, these operations focus on the following three areas:</p>
			<ul>
				<li>The Enterprise Steam server</li>
				<li>H2O model building jobs running on the enterprise cluster</li>
				<li>The models deployed to production scoring environments  </li>
			</ul>
			<p>Specific operations personas around these areas and their concerns are summarized in the following diagram:</p>
			<p class="figure-caption"> </p>
			<div>
				<div id="_idContainer172" class="IMG---Figure">
					<img src="image/B16721_11_005.jpg" alt="Figure 11.5 – Operations and persona concerns for H2O at scale&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.5 – Operations and persona concerns for H2O at scale</p>
			<p>Let's look more<a id="_idIndexMarker912"/> closely at each operations persona and their concerns around H2O at scale.</p>
			<h2 id="_idParaDest-216"><a id="_idTextAnchor218"/>Enterprise Steam server Ops</h2>
			<p>Ops around the Enterprise Steam <a id="_idIndexMarker913"/>server are focused on deploying and maintaining the server and the Enterprise Steam service that runs on it.  </p>
			<p>Enterprise Steam is a lightweight service that is mostly a web app with an embedded database to maintain state. There are no data science workloads that run on Enterprise Steam and no data science data passes through or resides on it. As discussed previously and summarized in <em class="italic">Figure 11.3</em>, Enterprise Steam launches the H2O cluster formation on the backend Hadoop or Kubernetes infrastructure where H2O workloads occur as driven by the data scientist's IDE.</p>
			<h2 id="_idParaDest-217"><a id="_idTextAnchor219"/>H2O cluster Ops</h2>
			<p>H2O cluster ops are typically performed by Hadoop or Kubernetes administrators. On Hadoop, H2O clusters are run as native YARN MapReduce (for H2O-3 clusters) or Spark (for Sparkling Water clusters) jobs<a id="_idIndexMarker914"/> and are viewable as such in the YARN resource management UI. As noted in <a href="B16721_02_Final_SK_ePub.xhtml#_idTextAnchor024"><em class="italic">Chapter 2</em></a>, <em class="italic">Platform Components and Key Concepts</em>, each YARN job maps to a single H2O cluster and runs for the duration that the cluster runs for.</p>
			<h2 id="_idParaDest-218"><a id="_idTextAnchor220"/>MLOps</h2>
			<p>MLOps sometimes refers to operations<a id="_idIndexMarker915"/> on the full machine learning life cycle but we will focus on operations around deploying and maintaining models for scoring in production systems. These operations typically focus on the following:</p>
			<ul>
				<li><strong class="bold">Model deployment</strong>: This concerns the actual <a id="_idIndexMarker916"/>deployment of the model to its scoring environment and is typically<a id="_idIndexMarker917"/> performed via automated <strong class="bold">continuous integration and continuous delivery</strong> (<strong class="bold">CI/CD</strong>) pipelines.</li>
				<li><strong class="bold">Model monitoring (software focus)</strong>: This is <a id="_idIndexMarker918"/>a traditional concern around asking how healthy the model is from a running software perspective. Typically, the model is monitored<a id="_idIndexMarker919"/> to see that it is running with no errors and that its scoring latencies are meeting <strong class="bold">service-level agreement</strong> (<strong class="bold">SLA</strong>) expectations.</li>
				<li><strong class="bold">Model monitoring (machine learning focus)</strong>: This is a set of concerns around model scoring outcomes specifically. It typically addresses whether data drift is occurring (whether the data distribution at scoring time has shifted from that of the training data), which is <a id="_idIndexMarker920"/>used to determine whether the model needs to be retrained or not. Other concerns may be monitoring for prediction decay (whether the prediction distribution of scores is shifting toward being less predictive), monitoring for bias (whether a model is predicting in an unfair or prejudiced way for a particular subset or demographic group), and monitoring for adversarial attacks (attempts to fool models with artificial data to create a mistaken prediction or to maliciously damage the model scoring).</li>
				<li><strong class="bold">Model governance</strong>: This is a set of concerns that include managing model versions and tracing deployed models back to the details of model building (for example, the training and <a id="_idIndexMarker921"/>testing datasets used to build the model, configuration details of the trained model, the data science owner of the trained model, and so on). It also includes the ability to roll back or reproduce models and other concerns that may be specific to the organization. Note that the model documentation generated during the model building stage is an excellent asset for use in model governance. (See <a href="B16721_07_Final_SK_ePub.xhtml#_idTextAnchor127"><em class="italic">Chapter 7</em></a>, <em class="italic">Understanding ML Models</em>, for details on generating H2O AutoDoc.) </li>
			</ul>
			<p>Note that MLOps is a<a id="_idIndexMarker922"/> rapidly moving set of practices and implementations. Building an MLOPs framework on your own will likely result in great difficulty keeping up with the capabilities and ease of use of MLOps platforms offered by software vendors. We will see in <a href="B16721_13_Final_SK_ePub.xhtml#_idTextAnchor241"><em class="italic">Chapter 13</em></a>, <em class="italic">Introducing H2O AI Cloud</em>, that H2O.ai offers a fully capable MLOps component as part of its end-to-end platform.</p>
			<p>Now that we have understood the Enterprise Steam administrator and the operations views of machine learning at scale with H2O, let's see what this means to the data scientist.</p>
			<h1 id="_idParaDest-219"><a id="_idTextAnchor221"/>View 3 – The data scientist</h1>
			<p>The primary ways that data <a id="_idIndexMarker923"/>scientists using H2O at scale interact with the Enterprise Steam administrator and the operations teams are shown in the following diagram:</p>
			<div>
				<div id="_idContainer173" class="IMG---Figure">
					<img src="image/B16721_11_006.jpg" alt="Figure 11.6 – Data scientist interactions with administrator and operations stakeholders when using H2O at scale&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.6 – Data scientist interactions with administrator and operations stakeholders when using H2O at scale</p>
			<p>Let's drill down into the <a id="_idIndexMarker924"/>key data scientist interactions with the Enterprise Steam administrator and with operations teams.</p>
			<h2 id="_idParaDest-220"><a id="_idTextAnchor222"/>Interactions with Enterprise Steam administrators</h2>
			<p>Recall that data scientists <a id="_idIndexMarker925"/>authenticate through Enterprise Steam and launch H2O cluster sizes as defined by Enterprise Steam profiles. Data scientists may at times interact with Enterprise Steam <a id="_idIndexMarker926"/>administrators to solve authentication issues or to ask for profiles that size H2O clusters more appropriately to their needs. They may also request access to a different YARN queue than what is allowed in their profile, request a longer configured idle time for their profile, or request a new version of H2O for launching H2O clusters. There may of course be other H2O configuration and profile requests. Reviewing the <em class="italic">View 1 – The Enterprise Steam administrator</em> section will help data scientists understand how Enterprise Steam configurations affect them and perhaps should be changed.</p>
			<h2 id="_idParaDest-221"><a id="_idTextAnchor223"/>Interactions with H2O cluster (Hadoop or Kubernetes) Ops teams</h2>
			<p>Data scientists rarely interact with <a id="_idIndexMarker927"/>H2O cluster operations teams. These teams are typically Hadoop or Kubernetes operations<a id="_idIndexMarker928"/> teams, depending on which server cluster backend H2O clusters are launched on.  </p>
			<p>When data scientists do interact with these teams, it is typically to help troubleshoot H2O jobs that are failing or performing badly. This interaction may involve requests for Hadoop or Kubernetes logs<a id="_idIndexMarker929"/> to send to the <strong class="bold">H2O support portal</strong> for troubleshooting on the H2O side.</p>
			<h2 id="_idParaDest-222"><a id="_idTextAnchor224"/>Interactions with MLOps teams</h2>
			<p>Data scientists typically interact<a id="_idIndexMarker930"/> with the MLOps team to engage at the beginning of the model deployment process. This often involves staging the <a id="_idIndexMarker931"/>model scoring artifact known as the <a id="_idIndexMarker932"/>H2O MOJO (generated from model building) for deployment and possibly staging other assets to archive with the model for governance purposes (for example, H2O AutoDoc).</p>
			<p>Data scientists may also interact with the MLOps team to determine whether data drift is occurring to decide on whether to retrain the model with more up-to-date training data. Depending on the MLOps system, this process may be automated so that an alert is sent to the data scientist and other stakeholders with content that identifies and describes the drift.</p>
			<h1 id="_idParaDest-223"><a id="_idTextAnchor225"/>Summary</h1>
			<p>In this chapter, we learned that H2O administrators (working through Enterprise Steam) and the operations team (managing the enterprise server cluster environment where H2O model building is executed, and also managing, monitoring, and governing the models after they are deployed to a scoring environment) are key personas participating in H2O machine learning at scale. We also learned how data scientists who build models are impacted by these personas and why they may need to interact with them.</p>
			<p>Let's move on to two additional personas who play a role in H2O machine learning at scale and who may impact the data scientist: the enterprise architect and the security stakeholders.</p>
		</div>
	</body></html>