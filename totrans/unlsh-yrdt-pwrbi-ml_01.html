<html><head></head><body>
		<div id="_idContainer028">
			<h1 id="_idParaDest-15" class="chapter-number"><a id="_idTextAnchor015"/>1</h1>
			<h1 id="_idParaDest-16"><a id="_idTextAnchor016"/>Requirements, Data Modeling, and Planning</h1>
			<p>You begin your journey by assessing the requirements and data for your project. The use case will be a fictional scenario, but everything will be built using real data from the <strong class="bold">Federal Aviation Administration’s (FAA) Wildlife Strike Database</strong>. The data is real, the topic can be understood by anyone, and the findings within the data are interesting and fun. According to the FAA’s website, about 47 animal strikes are reported daily by aircraft. These incidents can damage airplanes, potentially endanger passengers, and negatively impact wild animal (especially <span class="No-Break">bird) populations.</span></p>
			<p>For the use case, you have been assigned to provide your leadership with tools to do an interactive analysis of the FAA Wildlife Strike data, find insights about factors that influence the incidents, and also make predictions about future wildlife strike incidents and the associated costs. The primary goal of your project, predicting the future impact of FAA Wildlife Strikes, will require building some Power BI machine <span class="No-Break">learning models.</span></p>
			<p>Before uploading data to Power BI’s <strong class="bold">machine learning</strong> (<strong class="bold">ML</strong>) tools, you’ll need to create tables of data that will train the ML models. There is an old saying about data and analytics: <em class="italic">“Garbage in, garbage out.”</em> <strong class="bold">Software as a Service</strong> (<strong class="bold">SaaS</strong>) machine learning tools are easy to use, but you still need to feed them good-quality curated data. Identifying the right training data and getting it into the right format are crucial steps in an <span class="No-Break">ML project.</span></p>
			<p>This project will encompass data exploration, data transformation, data analysis, and additional downstream data transformations before you begin working with Power BI ML tools. You are already an experienced <strong class="bold">business intelligence</strong> (<strong class="bold">BI</strong>) professional and Power BI user, and now you are ready to take your skills to the next level with ML in <span class="No-Break">Power BI!</span></p>
			<p><strong class="bold">Power BI</strong> supports connections to source data in many different formats, ranging from relational databases to unstructured sources to big flat tables of raw data. Countless books have been written about the best ways to structure and model data for different use cases. Rather than dive into the specifics of data modeling, for this book, we will begin with two <span class="No-Break">simple assumptions:</span></p>
			<ul>
				<li>Most of the time, a <strong class="bold">star schema</strong> design will provide the most efficient storage and query performance for business intelligence <span class="No-Break">data models</span></li>
				<li>Basic ML models, such as the ones you will build in this book, are usually created with a <span class="No-Break"><strong class="bold">flattened table</strong></span></li>
			</ul>
			<p>Just to be clear, not every solution will follow these assumptions. Rather, these assumptions are generalizations that can provide you with a starting point as you approach the design of a new data model. Quite often, there will not be a perfect answer, and the optimal design will be dictated by the types of queries and business logic that are generated by the end consumers of the <span class="No-Break">data model.</span></p>
			<p>If you’ve never heard the terms star schema and flattened data before, don’t worry! The book will progress at a pace that is intended to help you learn and will also stay at a level that makes sense when you review the FAA data. Let’s browse the FAA Wildlife Strike data and decide upon the best data modeling strategy for your <span class="No-Break">new project!</span></p>
			<p>In this chapter, we will take the following steps so that you can understand the data, think through how it will be used, and then formulate a preliminary plan for the <span class="No-Break">data model:</span></p>
			<ul>
				<li>Reviewing the <span class="No-Break">source data</span></li>
				<li>Reviewing the requirements for <span class="No-Break">the solution</span></li>
				<li>Designing a preliminary <span class="No-Break">data model</span></li>
				<li>Considerations <span class="No-Break">for ML</span></li>
			</ul>
			<h1 id="_idParaDest-17"><a id="_idTextAnchor017"/>Technical requirements</h1>
			<p>For this chapter, you will need <span class="No-Break">the following:</span></p>
			<ul>
				<li>Power BI Desktop April 2023 or later (no <span class="No-Break">licenses required)</span></li>
				<li>FAA Wildlife Strike data files from either the FAA website or the Packt GitHub <span class="No-Break">repo: </span><a href="https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-01"><span class="No-Break">https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-01</span></a></li>
			</ul>
			<h1 id="_idParaDest-18"><a id="_idTextAnchor018"/>Reviewing the source data</h1>
			<p>You begin<a id="_idIndexMarker000"/> your journey by digging into the source data that you will be using for your project. Let’s <span class="No-Break">get started!</span></p>
			<h2 id="_idParaDest-19"><a id="_idTextAnchor019"/>Accessing the data</h2>
			<p>The source<a id="_idIndexMarker001"/> data that you will be using for this book is real data from the <a id="_idIndexMarker002"/>United States <strong class="bold">FAA</strong>. The data contains reports filed when aircraft struck wildlife. There is a website providing details, documentation, updates, and access instructions at this URL: <a href="https://wildlife.faa.gov/home">https://wildlife.faa.gov/home</a>. The URL (and all URLs) will also be linked from the affiliated GitHub site at <a href="https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI">https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI</a> in case changes are made after this book has <span class="No-Break">been published.</span></p>
			<p>If you’d prefer to follow along using the finished version of the content from this chapter rather than building it all step by step, you can download the PBIT version of the file at the Packt GitHub site folder for <a href="B19500_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic">Chapter </em></span><span class="No-Break"><em class="italic">1</em></span></a><span class="No-Break">: </span><a href="https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-01"><span class="No-Break">https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-01</span></a><span class="No-Break">.</span></p>
			<p>Within the FAA Wildlife Strike Database website, you can navigate to this link and run basic queries against the data and familiarize yourself with the content: <a href="https://wildlife.faa.gov/search">https://wildlife.faa.gov/search</a>. There are also two files linked from this page that you can reference while reviewing the <span class="No-Break">source data.</span></p>
			<p>At the time of this book’s writing, the second heading on the web page is titled <strong class="bold">Download the FAA Wildlife Strike Database</strong>, and it has a link titled <strong class="bold">Download</strong> that allows you to download the entire historical database along with a reference file. You can download the files from the FAA site for the purposes of this book. There will also be a Power BI PBIT file containing the results of the efforts of this chapter at the GitHub repository. A PBIT file is a Power BI template that can be populated with the files that you download from the Packt GitHub site. If the FAA data ever becomes unavailable, you can still proceed with the contents from the GitHub site to recreate the contents of <span class="No-Break">every chapter.</span></p>
			<p>The files you will be using from the FAA are <span class="No-Break">as follows:</span></p>
			<ul>
				<li><strong class="source-inline">wildlife.accdb</strong>: This contains all of the historical FAA Wildlife Strike reports. You can also download a copy of the file that is identical to the book from the Packt GitHub <span class="No-Break">site: </span><a href="https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-01"><span class="No-Break">https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-01</span></a><span class="No-Break">.</span></li>
				<li><strong class="source-inline">read_me.xls</strong>: This contains descriptive information about the data in the <strong class="source-inline">wildlife.accdb</strong> database<a id="_idIndexMarker003"/> file. An <strong class="source-inline">.xlsx</strong> version of the file is available on the Packt GitHub <span class="No-Break">site, too.</span></li>
			</ul>
			<h2 id="_idParaDest-20"><a id="_idTextAnchor020"/>Exploring the FAA Wildlife Strike report data</h2>
			<p>The <strong class="source-inline">wildlife.accdb</strong> file is in<a id="_idIndexMarker004"/> an Access<a id="_idIndexMarker005"/> file format that can be opened with many different tools including Microsoft Access, Microsoft Excel, Power BI, and many more. For the purpose of this book, you will open it using <strong class="bold">Power BI Desktop</strong>. Power BI Desktop is available as a free download at this <span class="No-Break">link: </span><a href="https://powerbi.microsoft.com/en-us/downloads/"><span class="No-Break">https://powerbi.microsoft.com/en-us/downloads/</span></a><span class="No-Break">.</span></p>
			<ol>
				<li>First, open up Power BI Desktop. Once it is open on your desktop, select the <strong class="bold">Get data</strong> drop-down menu from the ribbon and click on <strong class="bold">More…</strong> as shown in the <span class="No-Break">following screenshot:</span></li>
			</ol>
			<div>
				<div id="_idContainer010" class="IMG---Figure">
					<img src="image/Figure_1.01_B19500.jpg" alt="Figure 1.1 – Connecting to data with Power BI Desktop"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.1 – Connecting to data with Power BI Desktop</p>
			<ol>
				<li value="2">Next, within<a id="_idIndexMarker006"/> the <strong class="bold">Get data</strong> window, select <strong class="bold">Access database</strong> and <a id="_idIndexMarker007"/><span class="No-Break">click </span><span class="No-Break"><strong class="bold">Connect</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer011" class="IMG---Figure">
					<img src="image/Figure_1.02_B19500.jpg" alt="Figure 1.2 – Access database connector in Power BI"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.2 – Access database connector in Power BI</p>
			<ol>
				<li value="3">Select <a id="_idIndexMarker008"/>the <strong class="bold">Access database</strong> file<a id="_idIndexMarker009"/> that was downloaded and unzipped from the FAA Wildlife Strike Database, <span class="No-Break">named </span><span class="No-Break"><strong class="bold">wildlife</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer012" class="IMG---Figure">
					<img src="image/Figure_1.03_B19500.jpg" alt="Figure 1.3 – The wildlife file shows up in Power BI"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.3 – The wildlife file shows up in Power BI</p>
			<ol>
				<li value="4">Select<a id="_idIndexMarker010"/> the <strong class="bold">STRIKE_REPORTS</strong> table and <a id="_idIndexMarker011"/>click <span class="No-Break"><strong class="bold">Transform Data</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer013" class="IMG---Figure">
					<img src="image/Figure_1.04_B19500.jpg" alt="Figure 1.4 – Preview of the data before making transformations"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.4 – Preview of the data before making transformations</p>
			<ol>
				<li value="5">The Power<a id="_idIndexMarker012"/> Query <a id="_idIndexMarker013"/>window will open in Power BI Desktop with a preview of the FAA Wildlife Strike data. On the ribbon, select the <strong class="bold">View</strong> header for <strong class="bold">Data Preview</strong>, and then check the boxes for <strong class="bold">Column quality</strong>, <strong class="bold">Column distribution</strong>, and <strong class="bold">Column profile</strong>. These features will provide some insights for the data preview, that helps you explore and understand <span class="No-Break">the data:</span></li>
			</ol>
			<div>
				<div id="_idContainer014" class="IMG---Figure">
					<img src="image/Figure_1.05_B19500.jpg" alt="Figure 1.5 – Data Preview features in Power Query"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.5 – Data Preview features in Power Query</p>
			<p>In <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.5</em>, notice<a id="_idIndexMarker014"/> that<a id="_idIndexMarker015"/> the first column, <strong class="bold">INDEX_NR</strong>, is highlighted. You can see that none of the values are empty, none have errors, and in <strong class="bold">Column statistics</strong> at the bottom of <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.6</em>, every value is a unique integer. The name <strong class="bold">INDEX_NR</strong> gives it away, but this column is the unique identifier for each row <span class="No-Break">of data.</span></p>
			<p>Let’s review another column in Power Query. Go ahead and highlight <strong class="bold">TIME_OF_DAY</strong>. As you can see in <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.6</em>, there are four distinct values and about 12% are blank. Blank values are an important consideration for this solution. Non-empty values include terms such as <strong class="bold">Day</strong>, <strong class="bold">Dawn</strong>, <strong class="bold">Dusk</strong>, and <strong class="bold">Night</strong>. What does an empty value mean? Was the field left blank by the person filing the report? Was it not entered properly into the system? You’ll revisit this topic later in <span class="No-Break">the book.</span></p>
			<div>
				<div id="_idContainer015" class="IMG---Figure">
					<img src="image/Figure_1.06_B19500.jpg" alt="Figure 1.6 – Column statistics help with understanding data"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.6 – Column statistics help with understanding data</p>
			<p>Since there <a id="_idIndexMarker016"/>are<a id="_idIndexMarker017"/> over 100 columns in the FAA Wildlife Strike reports’ data, we won’t discuss all of them in this chapter. That being said, reviewing each and every column would be a great way to review the data for errors, empty fields, distribution of values, and more. For the purposes of this chapter, go ahead and open up the <strong class="source-inline">read_me.xls</strong> file that was included with the ZIP file from the FAA. The first sheet is <strong class="bold">Column Name</strong> and contains the names and descriptive data about the columns in the <strong class="source-inline">wildlife.accdb</strong> file. Most of the columns fall into one of the <span class="No-Break">following categories:</span></p>
			<ul>
				<li>Date and time fields detailing the dates, times, and years for different events related to <span class="No-Break">each report</span></li>
				<li>Descriptive information about the event such as height of contact, latitudes and longitudes, originating airports, and <span class="No-Break">flight numbers</span></li>
				<li>Descriptive information about the aircraft such as ownership, aircraft type and manufacturer, number of engines, location of engines, and <span class="No-Break">so on</span></li>
				<li>Estimates of the damage due to the strike such as costs, costs adjusted for inflation, damage location on the aircraft, <span class="No-Break">and more</span></li>
				<li>Information about the wildlife struck by the aircraft including species, size, quantities hit, and <span class="No-Break">so on</span></li>
			</ul>
			<p>Once you’ve finished browsing the report data, close the <strong class="source-inline">read_me.xlsx</strong> document on your desktop, and then connect to it from Power BI per the following steps. The document<a id="_idIndexMarker018"/> version <a id="_idIndexMarker019"/>used in this book can be downloaded from the Packt GitHub site <span class="No-Break">here: </span><a href="https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-01"><span class="No-Break">https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-01</span></a><span class="No-Break">.</span></p>
			<ol>
				<li>Click on <strong class="bold">Excel Workbook</strong> in the <span class="No-Break">left-hand panel:</span></li>
			</ol>
			<div>
				<div id="_idContainer016" class="IMG---Figure">
					<img src="image/Figure_1.07_B19500.jpg" alt="Figure 1.7 – Excel Workbook is a new source of data"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.7 – Excel Workbook is a new source of data</p>
			<ol>
				<li value="2">Select<a id="_idIndexMarker020"/> the <strong class="bold">read_me</strong> file <a id="_idIndexMarker021"/>from the browser and <span class="No-Break">click </span><span class="No-Break"><strong class="bold">Open</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer017" class="IMG---Figure">
					<img src="image/Figure_1.08_B19500.jpg" alt="Figure 1.8 – Excel file ready to open in Power Query"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.8 – Excel file ready to open in Power Query</p>
			<ol>
				<li value="3">Tick <a id="_idIndexMarker022"/>the <strong class="bold">Aircraft Type</strong>, <strong class="bold">Engine Codes</strong>, and <strong class="bold">Engine Position</strong> boxes. Then, <span class="No-Break">click </span><span class="No-Break"><strong class="bold">OK</strong></span><span class="No-Break">.</span></li>
			</ol>
			<div>
				<div id="_idContainer018" class="IMG---Figure">
					<img src="image/Figure_1.09_B19500.jpg" alt="Figure 1.9 – Sheets in Power Query can be individually selected"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.9 – Sheets in Power Query can be individually selected</p>
			<p>After <a id="_idIndexMarker023"/>clicking <strong class="bold">OK</strong> and <a id="_idIndexMarker024"/>importing the three sheets, notice that <strong class="bold">Aircraft Type</strong>, <strong class="bold">Engine Codes</strong>, and <strong class="bold">Engine Position</strong> are now available in Power Query as three separate tables <span class="No-Break">of data:</span></p>
			<div>
				<div id="_idContainer019" class="IMG---Figure">
					<img src="image/Figure_1.10_B19500.jpg" alt="Figure 1.10 – Three new tables are previewed in Power Query"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.10 – Three new tables are previewed in Power Query</p>
			<p>The three tables <a id="_idIndexMarker025"/>contain<a id="_idIndexMarker026"/> descriptive information about values that exist in the FAA Wildlife Strike <span class="No-Break">reports’ data:</span></p>
			<ul>
				<li><strong class="bold">Aircraft Type</strong>: A table that maps the Aircraft Code to a description such as Airplane, Helicopter, <span class="No-Break">or Glider</span></li>
				<li><strong class="bold">Engine Codes</strong>: Information about engine manufacturer and <span class="No-Break">model numbers</span></li>
				<li><strong class="bold">Engine Position</strong>: Details about the location of an engine on <span class="No-Break">the aircraft</span></li>
			</ul>
			<p>For all three of these tables, you’ll notice that there are some unnecessary rows and blank values. You will address these later in the book, so there is no need to make any modifications in Power Query at <span class="No-Break">this time.</span></p>
			<p>Once you’ve browsed the different columns from all the different tables in Power Query, click <strong class="bold">Close &amp; Apply</strong> to import the data into Power BI and save it, per the <span class="No-Break">following diagram:</span></p>
			<div>
				<div id="_idContainer020" class="IMG---Figure">
					<img src="image/Figure_1.11_B19500.jpg" alt="Figure 1.11 – The Close &amp; Apply button will import data into Power BI"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.11 – The Close &amp; Apply button will import data into Power BI</p>
			<p>Once the data is imported, you can save your Power BI Desktop file as a <strong class="source-inline">.pbix</strong> file. A copy of the<a id="_idIndexMarker027"/> PBIT<a id="_idIndexMarker028"/> file named <a href="B19500_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic">Chapter 1</em></span></a><strong class="source-inline"> Template.pbit</strong>, which can be populated with the data and then saved as a PBIX, can be found at this GitHub <span class="No-Break">link: </span><a href="https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-01"><span class="No-Break">https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-01</span></a><span class="No-Break">.</span></p>
			<h1 id="_idParaDest-21"><a id="_idTextAnchor021"/>Reviewing the requirements for the solution</h1>
			<p>Now that you’ve<a id="_idIndexMarker029"/> explored the FAA Wildlife Strike data, you have a better understanding of what data is available for your solution. The original assignment that you were given by your stakeholders was <span class="No-Break">as follows:</span></p>
			<ul>
				<li>Provide leadership with tools to do interactive analysis of the FAA Wildlife <span class="No-Break">Strike data</span></li>
				<li>Find insights about factors that influence <span class="No-Break">the incidents</span></li>
				<li>Make predictions about future wildlife <span class="No-Break">strike incidents</span></li>
			</ul>
			<p>Those requirements sound pretty vague! Now that you have a better understanding of the available data, it’s a good time to circle back with the stakeholders and clarify those requirements. You ask them questions such as <span class="No-Break">the following:</span></p>
			<ul>
				<li>What types of interactive analysis do you want <span class="No-Break">to do?</span></li>
				<li>Are you interested in the impact on endangered <span class="No-Break">bird species?</span></li>
				<li>Maybe you’d like to view trends due to wildlife strikes and compare airports <span class="No-Break">and regions?</span></li>
				<li>Perhaps you’d like to see the height and frequency of wildlife strikes at different times of <span class="No-Break">the year?</span></li>
				<li>Would understanding correlations to factors such as aircraft size, time of day, season, geography, and height <span class="No-Break">be useful?</span></li>
				<li>Are you interested in predicting specific risks <span class="No-Break">or outcomes?</span></li>
			</ul>
			<p>Entire books have<a id="_idIndexMarker030"/> been written about gathering requirements for data and analytics projects, and discussions on this particular topic could also be extensive. For the sake of keeping this book consumable, let’s assume that your discussions with the stakeholders led to prioritizing the following deliverabl<a id="_idTextAnchor022"/>es for <span class="No-Break">the project:</span></p>
			<ul>
				<li><strong class="bold">Analytic report</strong>: Viewing trends over time such as number of incidents, location of incidents, height, and details such as types of aircraft and <span class="No-Break">wildlife species</span></li>
				<li><strong class="bold">Predict damage</strong>: When a strike is reported, make a prediction as to whether there will be a cost associated with <span class="No-Break">any damage</span></li>
				<li><strong class="bold">Predict size</strong>: When a strike is reported, make a prediction about the size of the wildlife that struck <span class="No-Break">the aircraft</span></li>
				<li><strong class="bold">Predict height</strong>: For wildlife strikes, predict the height of <span class="No-Break">the incidents</span></li>
			</ul>
			<p>Now, you review the notes you took about the FAA Wildlife Strike data during your data exploration efforts. In doing so, you can think about how the data might match up to the use cases. Based on the requirements and your initial exploration of the data, you decide that the <a id="_idIndexMarker031"/>FAA Wildlife Strike data from the <strong class="source-inline">wildlife.accdb</strong> file and the tables from the <strong class="source-inline">read_me.xls</strong> file (<strong class="bold">Engine Codes</strong>, <strong class="bold">Aircraft Type</strong>, and <strong class="bold">Engine Position</strong>) are appropriate content to include during the initial phases of <span class="No-Break">your project.</span></p>
			<h1 id="_idParaDest-22"><a id="_idTextAnchor023"/>Designing a preliminary data model</h1>
			<p>Earlier in this <a id="_idIndexMarker032"/>chapter, we made two simple assumptions about <span class="No-Break">data modeling:</span></p>
			<ul>
				<li>Most of the time, a <em class="italic">star schema</em> design will provide the most efficient storage and query performance for business intelligence <span class="No-Break">data models</span></li>
				<li>Basic ML models, such as the ones you can build in this book, are usually created with a <span class="No-Break"><em class="italic">flattened table</em></span></li>
			</ul>
			<p>Now that you have a grasp of the underlying data and requirements, it is time to think about the data model for your FAA Wildlife Strike data solution. Logically, you can describe your tables of data <span class="No-Break">as follows:</span></p>
			<ul>
				<li><strong class="bold">STRIKE_REPORTS</strong> (from <strong class="source-inline">wildlife.accdb</strong>): Each row represents a report that was filed. The table of data contains both descriptive values (date, location, and type) along with values that can be summed up and averaged (height <span class="No-Break">and costs).</span></li>
				<li><strong class="bold">Engine Codes</strong> (from <strong class="source-inline">read-me.xls</strong>): This contains information about the aircraft engines that can be tied <span class="No-Break">to </span><span class="No-Break"><strong class="bold">STRIKE_REPORTS</strong></span><span class="No-Break">.</span></li>
				<li><strong class="bold">Aircraft Type</strong> (from <strong class="source-inline">read-me.xls</strong>): This contains information about the aircraft that can be tied <span class="No-Break">to </span><span class="No-Break"><strong class="bold">STRIKE_REPORTS</strong></span><span class="No-Break">.</span></li>
				<li><strong class="bold">Engine Position</strong> (from <strong class="source-inline">read-me.xls</strong>): This contains information about the aircraft engine positions that can be tied <span class="No-Break">to </span><span class="No-Break"><strong class="bold">STRIKE_REPORTS</strong></span><span class="No-Break">.</span></li>
			</ul>
			<p>At this point, you are faced with some data model choices. No matter what decision you make, some people might question your architecture, since there is no perfect design. Depending on how end users will use the data, the data model design may change. This book will demonstrate some of the differences in data model designs for ML models versus traditional BI designs. At a high level, there are three basic approaches you can take in <a id="_idIndexMarker033"/><span class="No-Break">Power BI:</span></p>
			<ul>
				<li><strong class="bold">Flatten</strong>: You can flatten all the data onto a single table by joining <strong class="bold">Engine Codes</strong>, <strong class="bold">Aircraft Type</strong>, and <strong class="bold">Engine Position</strong> <span class="No-Break">onto </span><span class="No-Break"><strong class="bold">STRIKE_REPORTS</strong></span><span class="No-Break">.</span></li>
				<li><strong class="bold">Star schema</strong>: You can build out a true star schema with <strong class="bold">STRIKE_REPORTS</strong> as a fact table and <strong class="bold">Engine Codes</strong>, <strong class="bold">Aircraft Type</strong>, and <strong class="bold">Engine Position</strong> as dimension tables. Some additional data from <strong class="bold">STRIKE_REPORTS</strong> would also be broken out into separate dimension tables. For example, <strong class="bold">AIRPORT_ID</strong>, <strong class="bold">AIRPORT</strong>, <strong class="bold">STATE</strong>, and <strong class="bold">FAAREGION</strong> could be separate <span class="No-Break">dimension tables.</span></li>
				<li><strong class="bold">Hybrid design</strong>: You can build out a hybrid design using both a flattened and star schema design pattern for the sake of practicality and ease <span class="No-Break">of use.</span></li>
			</ul>
			<p>Let’s look at each of these <span class="No-Break">in turn.</span></p>
			<h2 id="_idParaDest-23"><a id="_idTextAnchor024"/>Flattening the data</h2>
			<p>Flattening the <a id="_idIndexMarker034"/>FAA Wildlife Strike reports’ data<a id="_idIndexMarker035"/> would require joining the <strong class="bold">Engine Codes</strong>, <strong class="bold">Aircraft Type</strong>, and <strong class="bold">Engine Position</strong> tables onto the <strong class="bold">STRIKE_REPORTS</strong> table so that everything is on one big flat table of data. The result would be something that looks <span class="No-Break">like this:</span></p>
			<div>
				<div id="_idContainer021" class="IMG---Figure">
					<img src="image/Figure_1.12_B19500.jpg" alt="Figure 1.12 – Tables on the left are combined to form a si﻿ngle table on the right"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.12 – Tables on the left are combined to form a si<a id="_idTextAnchor025"/>ngle table on the right</p>
			<p>The following table <a id="_idIndexMarker036"/>contains some, but not all, of the<a id="_idIndexMarker037"/> pros and cons of a flattened table <span class="No-Break">of data:</span></p>
			<table id="table001-1" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Pros</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Cons</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<ul>
								<li><span class="No-Break">Simplicity</span></li>
								<li>No joins needed <span class="No-Break">for code</span></li>
								<li>Commonly used by <span class="No-Break">data scientists</span></li>
								<li>Can compress well with <span class="No-Break">columnar databases</span></li>
								<li>No relational data models for <span class="No-Break">business users</span></li>
							</ul>
						</td>
						<td class="No-Table-Style">
							<ul>
								<li>Repetitive data can lead to an inefficient <span class="No-Break">storage footprint</span></li>
								<li>Limitations for queries with <span class="No-Break">advanced logic</span></li>
								<li>Less flexibility for future change and evolution <span class="No-Break">of solution</span></li>
								<li>Complex logical queries can be <span class="No-Break">less efficient</span></li>
							</ul>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.13 – Pros and cons of a flattened table for BI</p>
			<p>Next, let’s look at the <span class="No-Break">star schema.</span></p>
			<h2 id="_idParaDest-24"><a id="_idTextAnchor026"/>Star schema</h2>
			<p>A true star <a id="_idIndexMarker038"/>schema built to best practices would <a id="_idIndexMarker039"/>include<a id="_idIndexMarker040"/> relationships between <strong class="bold">Engine Codes</strong>, <strong class="bold">Aircraft Type</strong>, and <strong class="bold">Engine Position</strong> with the <strong class="bold">STRIKE_REPORTS</strong> table. It would also break off parts of the <strong class="bold">STRIKE_REPORTS</strong> table into smaller dimension tables. The following figure is a representation of the approach for a true star schema. There may be more dimension tables that would need to be broken off of the <strong class="bold">STRIKE_REPORTS</strong> table in addition to <strong class="bold">Location</strong> and <strong class="bold">Species</strong>, but this is an example of how it <span class="No-Break">might look:</span></p>
			<div>
				<div id="_idContainer022" class="IMG---Figure">
					<img src="image/Figure_1.14_B19500.jpg" alt="Figure 1.14 – Tables on the left are combined into a star schema, and some data is split off into new dimension tables"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.14 – Tables on the left are combined into a star schema, and some data is split off into new dimension tables</p>
			<p>The following <a id="_idIndexMarker041"/>table contains some, but not all, of the <a id="_idIndexMarker042"/>pros and cons of a true star <span class="No-Break">schema design:</span></p>
			<table id="table002" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Pros</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Cons</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<ul>
								<li>Tables often line up with <span class="No-Break">business logic</span></li>
								<li>Balance of minimal data duplication and <span class="No-Break">efficient queries</span></li>
								<li>Usually expandable if the scope of the solution grows and new data <span class="No-Break">is introduced</span></li>
								<li>Traditionally considered the gold standard for BI <span class="No-Break">data models</span></li>
							</ul>
						</td>
						<td class="No-Table-Style">
							<ul>
								<li>With modern tools, the benefits of reducing data duplication are less impactful versus <span class="No-Break">older tools</span></li>
								<li><span class="No-Break">Complicated ETL</span></li>
								<li>Machine learning models are usually trained with flat tables <span class="No-Break">of data</span></li>
								<li>Don’t always scale well with very large data volumes having tens of billions <span class="No-Break">of rows</span></li>
							</ul>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.15 – Pros and cons of a star schema for BI</p>
			<h2 id="_idParaDest-25"><a id="_idTextAnchor027"/>Hybrid design</h2>
			<p>For the FAA <a id="_idIndexMarker043"/>Wildlife Strike data, combining <a id="_idIndexMarker044"/>aspects <a id="_idIndexMarker045"/>of a flattened design and a star schema is also an option. At the time of this book’s writing, the entire <strong class="bold">STRIKE_REPORTS</strong> table is fewer than 300,000 rows and has fewer than 100 columns. Only two columns contain verbose free text, so data volume is not an issue when using Power BI. For this particular use case, the differences in data storage requirements between flattened and star schema data models are minimal. With data volumes of this small size, you can design the data model to meet the needs of the solution without some of the performance concerns that would be introduced for data sources with tens of millions of rows or hundreds of columns containing free text fields. Columns of data left on a transaction table that will be used as categories are technically called <strong class="bold">degenerate dimensions</strong>. A<a id="_idIndexMarker046"/> hybrid design could look something like the <span class="No-Break">following example:</span></p>
			<div>
				<div id="_idContainer023" class="IMG---Figure">
					<img src="image/Figure_1.16_B19500.jpg" alt="Figure 1.16 – Tables from the left are enhanced and combined into a star schema with some descriptive data still in the fact table"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.16 – Tables from the left are enhanced and combined into a star schema with some descriptive data still in the fact table</p>
			<p>The following <a id="_idIndexMarker047"/>table<a id="_idIndexMarker048"/> contains some, but not all, of the<a id="_idIndexMarker049"/> pros and cons of a <span class="No-Break">hybrid design:</span></p>
			<table id="table003" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Pros</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Cons</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<ul>
								<li><span class="No-Break">Rapid prototyping</span></li>
								<li>Less logic in the data <span class="No-Break">transformation layer</span></li>
								<li><span class="No-Break">Flexible design</span></li>
							</ul>
						</td>
						<td class="No-Table-Style">
							<ul>
								<li>Possibly less performant than a star schema for <span class="No-Break">traditional BI</span></li>
								<li>Additional logical complexity for users versus a big <span class="No-Break">flat table</span></li>
								<li>Data will still need to be flattened out for <span class="No-Break">machine learning</span></li>
								<li>Not perfect for either BI or ML, but a compromise between <span class="No-Break">the two</span></li>
							</ul>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.17 – Pros and cons of a hybrid design and considerations for additional data</p>
			<p>Before finalizing <a id="_idIndexMarker050"/>a preliminary logical design for <a id="_idIndexMarker051"/>your FAA Wildlife Strike solution, take a step back <a id="_idIndexMarker052"/>to think about the data and the requirements. You can review the expected deliverables from earlier in the chapter, including an analytic report and predictions of damage, size, <span class="No-Break">and height.</span></p>
			<p>In addition to the FAA Wildlife Strike data you’ve been using, what other data might be useful for the solution? Also, what is the effort to get the data? Here are a few examples that you <span class="No-Break">could research:</span></p>
			<table id="table004" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="bold">Additional </strong><span class="No-Break"><strong class="bold">Data Sources</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Level </strong><span class="No-Break"><strong class="bold">of Effort</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Date-based table of aggregations such as Month, Quarter, Season, <span class="No-Break">and Holidays</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Easy</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Time-based table of aggregations such as hour, AM/PM, and <span class="No-Break">so on</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Easy</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Data for flights that didn’t have a wildlife strike could provide a baseline for the percentage of flights <span class="No-Break">with strikes</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Difficult</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Weather data that could be mapped to the date and time of <span class="No-Break">wildlife strikes</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Difficult</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Additional data about wildlife species such as weight ranges, habitat ranges, and <span class="No-Break">so on</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Difficult</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.18 – Additional potential data sources for the solution</p>
			<p>Additional flight, weather, and wildlife data could provide greater analytic and predictive value for the solution. However, adding those sources would require quite a bit of effort that exceeds the scope of your project and the length of this book. If the initial project goes well, you can circle back to these options for <span class="No-Break">future enhancements.</span></p>
			<p>There may be value in adding a Time table to the solution, so open up Power Query and take another<a id="_idIndexMarker053"/> look at the <strong class="bold">TIME </strong><span class="No-Break">column</span>. Notice that 95% of the entries <span class="No-Break">are empty:</span></p>
			<div>
				<div id="_idContainer024" class="IMG---Figure">
					<img src="image/Figure_1.19_B19500.jpg" alt="Figure 1.19 – 95% of the values for TIME are empty"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.19 – 95% of the values for TIME are empty</p>
			<p>Due to a lack of complete data, you decide to leave a Time table out of the <span class="No-Break">initial build.</span></p>
			<p>How about a Date table so that you can roll up data by week, month, quarter, year, holidays, weekends, and more? Looking at the <strong class="bold">INCIDENT_DATE</strong> column in Power Query, it <a id="_idIndexMarker054"/>is <a id="_idIndexMarker055"/>populated<a id="_idIndexMarker056"/> for every entry in <span class="No-Break">the preview:</span></p>
			<div>
				<div id="_idContainer025" class="IMG---Figure">
					<img src="image/Figure_1.20_B19500.jpg" alt="Figure 1.20 – INCIDENT_DATE is fully populated with date values"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.20 – INCIDENT_DATE is fully populated with date values</p>
			<p><strong class="bold">INCIDENT_DATE</strong> can be<a id="_idIndexMarker057"/> used as a key for connecting to a Date<a id="_idIndexMarker058"/> table containing many different date-based aggregations. You decide to pull in a Date table for the architecture. The resulting preliminary data model will now look <span class="No-Break">as follows:</span></p>
			<div>
				<div id="_idContainer026" class="IMG---Figure">
					<img src="image/Figure_1.21_B19500.jpg" alt="Figure 1.21 – A Date table is added to the preliminary data model"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.21 – A Date table is added to the preliminary data model</p>
			<p>The Date table was not present in the source data, but in your reporting model, it will allow you to slice and dice data by day, week, month, quarter, year, weekend, and more. When you explore data in future chapters, it will add new ways to dive into and explore date-based <a id="_idIndexMarker059"/>trends. The Date table will <a id="_idIndexMarker060"/>be<a id="_idIndexMarker061"/> added in <a href="B19500_02.xhtml#_idTextAnchor030"><span class="No-Break"><em class="italic">Chapter 2</em></span></a><span class="No-Break">.</span></p>
			<p>In the final section of the chapter, we’ll look at what else we need to take into account <span class="No-Break">for ML.</span></p>
			<h1 id="_idParaDest-26"><a id="_idTextAnchor028"/>Considerations for ML</h1>
			<p>Now that you’ve<a id="_idIndexMarker062"/> created a preliminary data model that will serve as the basis for analytic reporting in Power BI, you start thinking about a process for creating tables of data to be used with Power BI machine learning. You will need to create a single table of flattened data for each machine learning model that you train, test, <span class="No-Break">and deploy.</span></p>
			<p>Creating tables of data to train a machine learning model entails treating each column as a feature of the algorithm that you will be training and then using to make predictions. For example, if you wanted to create a machine learning algorithm that predicts whether something is an insect, the <strong class="bold">features</strong> (ML terminology for columns on a single table) might be <strong class="source-inline">[Six Legs Y/N?]</strong>, <strong class="source-inline">[Life Form Y/N?]</strong>, <strong class="source-inline">[Count of Eyes]</strong>, and <strong class="source-inline">[Weight]</strong>, and then a column that will be predicted, such as <strong class="source-inline">[Insect Y/N?]</strong>. Each row would represent something that is being evaluated for a prediction to answer the question, “Is this <span class="No-Break">an insect?”</span></p>
			<p>You decide to take the following approach, in the following order, so that you can do everything within <span class="No-Break">Power BI:</span></p>
			<ol>
				<li>Data exploration and initial data model creation in Power BI Desktop <span class="No-Break">Power Query.</span></li>
				<li>Analytic report created in <span class="No-Break">Power BI.</span></li>
				<li>Feature discovery in <span class="No-Break">Power BI.</span></li>
				<li>Create training data sets in <span class="No-Break">Power Query.</span></li>
				<li>Move training data sets to Power <span class="No-Break">BI dataflows.</span></li>
				<li>Train, test, deploy a Power BI machine learning model in Power <span class="No-Break">BI dataflows.</span></li>
			</ol>
			<p>This process is<a id="_idIndexMarker063"/> shown in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.22</em></span><span class="No-Break">.</span></p>
			<div>
				<div id="_idContainer027" class="IMG---Figure">
					<img src="image/Figure_1.22_B19500.jpg" alt="Figure 1.22 – All of the ETL (extract, transform, load) will happen in Power BI Power Query and Power BI dataflows"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.22 – All of the ETL (extract, transform, load) will happen in Power BI Power Query and Power BI dataflows</p>
			<p>Power BI ML offers three different types of predictive model types. Those types, as defined in the Power BI <a id="_idIndexMarker064"/>service, are <span class="No-Break">as follows:</span></p>
			<ul>
				<li>A <strong class="bold">binary prediction</strong> model <a id="_idIndexMarker065"/>predicts whether an outcome will be achieved. Effectively, a prediction of “Yes” or “No” <span class="No-Break">is returned.</span></li>
				<li><strong class="bold">General classification</strong> models <a id="_idIndexMarker066"/>predict more than <a id="_idIndexMarker067"/>two possible outcomes such as <em class="italic">A</em>, <em class="italic">B</em>, <em class="italic">C</em>, <span class="No-Break">or </span><span class="No-Break"><em class="italic">D</em></span><span class="No-Break">.</span></li>
				<li>A <strong class="bold">regression</strong> model will<a id="_idIndexMarker068"/> predict a numeric value along a spectrum of possible values. For example, it will predict the costs of an event based on similar <span class="No-Break">past events.</span></li>
			</ul>
			<p>As part of your preliminary planning, you consider how these options could map to the deliverables that <a id="_idIndexMarker069"/>were prioritized by <span class="No-Break">your stakeholders:</span></p>
			<ul>
				<li><strong class="bold">Analytic report</strong>: This deliverable will be a Power BI analytic report and could use some Power BI AI features, but it will not be a Power BI ML model. The analytic report will help you explore and identify the right data for Power BI machine <span class="No-Break">learning models.</span></li>
				<li><strong class="bold">Predict damage</strong>: Predicting whether or not damage will result from a wildlife strike is a good match for a binary prediction model since the answer will have two possible outcomes: yes <span class="No-Break">or no.</span></li>
				<li><strong class="bold">Predict size</strong>: Predicting the size of the wildlife that struck an aircraft based upon factors such as damage cost, damage location, height, time of year, and airport location will probably have multiple values that can be predicted such as <em class="italic">Large</em>, <em class="italic">Medium</em>, and <em class="italic">Small</em>. This requirement could be a good fit for a general <span class="No-Break">classification model.</span></li>
				<li><strong class="bold">Predict height</strong>: This deliverable predicts the height at which wildlife strikes will happen and provides that prediction as a numeric value representing height above ground level in feet. It is likely a good fit for a regression model, which predicts <span class="No-Break">numeric values.</span></li>
			</ul>
			<p>There is no way of knowing with certainty whether the FAA Wildlife Strike data will support these specific use cases, but you won’t know until you try! Discovery is a key part of the process. First, you must identify features in the data that might have predictive value, and then train and test the machine learning models in Power BI. Only then will you know what types <a id="_idIndexMarker070"/>of predictions might be possible for <span class="No-Break">your project.</span></p>
			<h1 id="_idParaDest-27"><a id="_idTextAnchor029"/>Summary</h1>
			<p>In this chapter, you explored the data available for your project and reviewed subsequent options for mapping data to the requirements of your stakeholders. You reviewed data architecture options to meet both business intelligence and ML requirements in Power BI and decided upon a hybrid approach that blends a star schema design with flattened data. You also formulated a plan to explore, analyze, design, build, and deploy your solution. Finally, you decided upon three use cases for predictive ML models in <span class="No-Break">Power BI.</span></p>
			<p>In the next chapter, you will ingest and prep data from the FAA Wildlife Strike database using Power Query within Power BI. You’ll deep dive into data characteristics, decide what is needed for your design, and build out a flexible foundation that will support both the current project and future iterations and changes. Your approach in Power Query will support both business intelligence analytics in Power BI and predictive analytics in Power <span class="No-Break">BI ML.</span></p>
		</div>
	</body></html>