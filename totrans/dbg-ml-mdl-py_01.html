<html><head></head><body>
<div id="_idContainer019">
<h1 class="chapter-number" id="_idParaDest-16"><a id="_idTextAnchor015"/><span class="koboSpan" id="kobo.1.1">1</span></h1>
<h1 id="_idParaDest-17"><a id="_idTextAnchor016"/><span class="koboSpan" id="kobo.2.1">Beyond Code Debugging</span></h1>
<p><strong class="bold"><span class="koboSpan" id="kobo.3.1">Artificial intelligence</span></strong><span class="koboSpan" id="kobo.4.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.5.1">AI</span></strong><span class="koboSpan" id="kobo.6.1">), like human intelligence, is a capability and tool</span><a id="_idIndexMarker000"/><span class="koboSpan" id="kobo.7.1"> that can be used for decision-making and task accomplishment. </span><span class="koboSpan" id="kobo.7.2">As humans, we use our intelligence in making our daily decisions and thinking about the challenges and problems we deal with. </span><span class="koboSpan" id="kobo.7.3">We use our brains and central nervous systems to receive information from our surroundings and process them for decision-making </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">and reactions.</span></span></p>
<p><span class="koboSpan" id="kobo.9.1">Machine learning models are the AI techniques that are used nowadays to tackle problems across healthcare and finance. </span><span class="koboSpan" id="kobo.9.2">Machine learning models have been used in robotic systems in manufacturing facilities to package products or identify products that might have been damaged. </span><span class="koboSpan" id="kobo.9.3">They have been used in our smartphones to identify our faces for security purposes, by e-commerce companies to suggest the most suited products or movies to us, and even for improving healthcare and drug development to bring new more effective drugs onto the market for </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">severe diseases.</span></span></p>
<p><span class="koboSpan" id="kobo.11.1">In this chapter, we will provide a quick review of different types of machine learning modeling. </span><span class="koboSpan" id="kobo.11.2">You will learn about different techniques and challenges in debugging your machine learning code. </span><span class="koboSpan" id="kobo.11.3">We will also discuss why debugging machine learning modeling goes far beyond just </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">code debugging.</span></span></p>
<p><span class="koboSpan" id="kobo.13.1">We will cover the following topics in </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">this chapter:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.15.1">Machine learning at </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">a glance</span></span></li>
<li><span class="koboSpan" id="kobo.17.1">Types of machine </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">learning modeling</span></span></li>
<li><span class="koboSpan" id="kobo.19.1">Debugging in </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">software development</span></span></li>
<li><span class="koboSpan" id="kobo.21.1">Flaws in data used </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">for modeling</span></span></li>
<li><span class="koboSpan" id="kobo.23.1">Model and </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">prediction-centric debugging</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.25.1">This chapter is an introduction to this book to prepare you for more advanced concepts that will be presented later. </span><span class="koboSpan" id="kobo.25.2">This will help you improve your models and move toward becoming an expert in the machine </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">learning era.</span></span></p>
<h1 id="_idParaDest-18"><a id="_idTextAnchor017"/><span class="koboSpan" id="kobo.27.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.28.1">You can find the code files for this chapter on GitHub </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">at </span></span><a href="https://github.com/PacktPublishing/Debugging-Machine-Learning-Models-with-Python/tree/main/Chapter01"><span class="No-Break"><span class="koboSpan" id="kobo.30.1">https://github.com/PacktPublishing/Debugging-Machine-Learning-Models-with-Python/tree/main/Chapter01</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.31.1">.</span></span></p>
<h1 id="_idParaDest-19"><a id="_idTextAnchor018"/><span class="koboSpan" id="kobo.32.1">Machine learning at a glance</span></h1>
<p><span class="koboSpan" id="kobo.33.1">You need three fundamental elements</span><a id="_idIndexMarker001"/><span class="koboSpan" id="kobo.34.1"> to build a machine learning model: an algorithm, data, and computing power (</span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.35.1">Figure 1</span></em></span><em class="italic"><span class="koboSpan" id="kobo.36.1">.1</span></em><span class="koboSpan" id="kobo.37.1">). </span><span class="koboSpan" id="kobo.37.2">A machine learning algorithm needs to be fed with the right data and trained using the necessary computing power. </span><span class="koboSpan" id="kobo.37.3">It can then be used to predict what it has been trained on for </span><span class="No-Break"><span class="koboSpan" id="kobo.38.1">unseen data:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer014">
<span class="koboSpan" id="kobo.39.1"><img alt="Figure 1.1 – The three elements in the machine learning triangle" src="image/B16369_01_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.40.1">Figure 1.1 – The three elements in the machine learning triangle</span></p>
<p><span class="koboSpan" id="kobo.41.1">Machine learning applications</span><a id="_idIndexMarker002"/><span class="koboSpan" id="kobo.42.1"> can be generally categorized as </span><strong class="bold"><span class="koboSpan" id="kobo.43.1">automation</span></strong><span class="koboSpan" id="kobo.44.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.45.1">discovery</span></strong><span class="koboSpan" id="kobo.46.1">. </span><span class="koboSpan" id="kobo.46.2">In the automation category, the goal</span><a id="_idIndexMarker003"/><span class="koboSpan" id="kobo.47.1"> of the machine learning model and the software and hardware systems built around it is to do the tasks that are possible and usually easy but tedious, repetitive, boring, or dangerous for human beings. </span><span class="koboSpan" id="kobo.47.2">Some examples of this include recognizing damaged products in manufacturing lines or recognizing employees’ faces at entrances in high-security facilities. </span><span class="koboSpan" id="kobo.47.3">Sometimes, it is not possible to use human beings for some of these tasks, although the task would be easy. </span><span class="koboSpan" id="kobo.47.4">For example, for face recognition on your phone, if your phone was stolen, you would not be there to recognize that the person who is trying to log into your phone is not you and your phone should be able to do it by itself. </span><span class="koboSpan" id="kobo.47.5">But we cannot come up with a generalizable mathematical formulation for these tasks to tell the machine what to do in each situation. </span><span class="koboSpan" id="kobo.47.6">So, the machine learning model learns how to come up with its prediction, for example, in terms of recognizing faces, according to the identified patterns in </span><span class="No-Break"><span class="koboSpan" id="kobo.48.1">the data.</span></span></p>
<p><span class="koboSpan" id="kobo.49.1">On the other hand, in the discovery category</span><a id="_idIndexMarker004"/><span class="koboSpan" id="kobo.50.1"> of machine learning modeling, we want the models to provide information and insight about unknowns that are either not easy or fully discovered, or even impossible, for human experts or non-experts to extract. </span><span class="koboSpan" id="kobo.50.2">For example, discovering new drugs for cancer patients is not a task where you can learn all aspects of it by going through a couple of courses and books. </span><span class="koboSpan" id="kobo.50.3">In such cases, machine learning can help us come up with new insights to help discover </span><span class="No-Break"><span class="koboSpan" id="kobo.51.1">new drugs.</span></span></p>
<p><span class="koboSpan" id="kobo.52.1">For both discovery</span><a id="_idIndexMarker005"/><span class="koboSpan" id="kobo.53.1"> and automation, different types of machine learning modeling can help us achieve our goals. </span><span class="koboSpan" id="kobo.53.2">We will explore this in the </span><span class="No-Break"><span class="koboSpan" id="kobo.54.1">next sect</span><a id="_idTextAnchor019"/><span class="koboSpan" id="kobo.55.1">ion.</span></span></p>
<h1 id="_idParaDest-20"><a id="_idTextAnchor020"/><span class="koboSpan" id="kobo.56.1">Types of machine learning modeling</span></h1>
<p><span class="koboSpan" id="kobo.57.1">Machine learning</span><a id="_idIndexMarker006"/><span class="koboSpan" id="kobo.58.1"> contains multiple modeling types that may rely on output data, a variable type of model output, and learning from prerecorded data or experience. </span><span class="koboSpan" id="kobo.58.2">Although the examples in this book focus on supervised learning, we will review other types of modeling, including unsupervised</span><a id="_idIndexMarker007"/><span class="koboSpan" id="kobo.59.1"> learning, self-supervised learning, semi-supervised learning, </span><strong class="bold"><span class="koboSpan" id="kobo.60.1">reinforcement learning</span></strong><span class="koboSpan" id="kobo.61.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.62.1">RL</span></strong><span class="koboSpan" id="kobo.63.1">), and generative machine learning to cover the six major categories of machine learning modeling (</span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.64.1">Figure 1</span></em></span><em class="italic"><span class="koboSpan" id="kobo.65.1">.2</span></em><span class="koboSpan" id="kobo.66.1">). </span><span class="koboSpan" id="kobo.66.2">We will also talk about techniques in machine learning modeling and provide code examples that are not parallel to these categories, such as active learning, transfer learning, ensemble learning, and </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">deep learning:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer015">
<span class="koboSpan" id="kobo.68.1"><img alt="Figure 1.2 – Types of machine learning modeling" src="image/B16369_01_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.69.1">Figure 1.2 – Types of machine learning modeling</span></p>
<p><span class="koboSpan" id="kobo.70.1">Self-supervised and semi-supervised learning</span><a id="_idIndexMarker008"/><span class="koboSpan" id="kobo.71.1"> are sometimes considered sub-categories of supervised learning. </span><span class="koboSpan" id="kobo.71.2">However, we will separate them here so that we can establish the differences between the usual supervised learning models you are familiar with and these two types </span><span class="No-Break"><span class="koboSpan" id="kobo.72.1">of mod</span><a id="_idTextAnchor021"/><span class="koboSpan" id="kobo.73.1">eling.</span></span></p>
<h2 id="_idParaDest-21"><a id="_idTextAnchor022"/><span class="koboSpan" id="kobo.74.1">Supervised learning</span></h2>
<p><span class="koboSpan" id="kobo.75.1">Supervised learning</span><a id="_idIndexMarker009"/><span class="koboSpan" id="kobo.76.1"> is about identifying</span><a id="_idIndexMarker010"/><span class="koboSpan" id="kobo.77.1"> the relationship between inputs/features and the output for each data point. </span><span class="koboSpan" id="kobo.77.2">But what do input and </span><span class="No-Break"><span class="koboSpan" id="kobo.78.1">output mean?</span></span></p>
<p><span class="koboSpan" id="kobo.79.1">Imagine that we want to build a machine learning model to predict whether a person is likely to get breast cancer or not. </span><span class="koboSpan" id="kobo.79.2">The output of the model could be 1 for </span><em class="italic"><span class="koboSpan" id="kobo.80.1">getting breast cancer </span></em><span class="koboSpan" id="kobo.81.1">and 0 for </span><em class="italic"><span class="koboSpan" id="kobo.82.1">not getting breast cancer</span></em><span class="koboSpan" id="kobo.83.1"> and the inputs could be the characteristics of the people, such as their age, weight, and whether they smoke or not. </span><span class="koboSpan" id="kobo.83.2">There could even be inputs that are measured using advanced technologies, such as the genetic information of each person. </span><span class="koboSpan" id="kobo.83.3">In this case, we want to use our machine learning model to predict which patient will get cancer in </span><span class="No-Break"><span class="koboSpan" id="kobo.84.1">the future.</span></span></p>
<p><span class="koboSpan" id="kobo.85.1">You can also design a machine learning model to estimate the price of houses in a city. </span><span class="koboSpan" id="kobo.85.2">Here, your model could use characteristics of houses, such as the number of bedrooms and size of the house, the neighborhood, and access to schools, to estimate </span><span class="No-Break"><span class="koboSpan" id="kobo.86.1">house prices.</span></span></p>
<p><span class="koboSpan" id="kobo.87.1">In both of these examples, we have models trying to identify patterns within input features, such as a high number of bedrooms but only one bathroom, and associate those with the output. </span><span class="koboSpan" id="kobo.87.2">Depending on the output variable type, your model can be categorized as a classification model, in which the output is categorical, such as </span><em class="italic"><span class="koboSpan" id="kobo.88.1">getting</span></em><span class="koboSpan" id="kobo.89.1"> or </span><em class="italic"><span class="koboSpan" id="kobo.90.1">not getting cancer</span></em><span class="koboSpan" id="kobo.91.1">, or a regression</span><a id="_idIndexMarker011"/><span class="koboSpan" id="kobo.92.1"> model, in which</span><a id="_idIndexMarker012"/><span class="koboSpan" id="kobo.93.1"> the output is continuous, such as </span><span class="No-Break"><span class="koboSpan" id="kobo.94.1">hou</span><a id="_idTextAnchor023"/><span class="koboSpan" id="kobo.95.1">se prices.</span></span></p>
<h2 id="_idParaDest-22"><a id="_idTextAnchor024"/><span class="koboSpan" id="kobo.96.1">Unsupervised learning</span></h2>
<p><span class="koboSpan" id="kobo.97.1">The majority of our life, at least</span><a id="_idIndexMarker013"/><span class="koboSpan" id="kobo.98.1"> in childhood, has been spent</span><a id="_idIndexMarker014"/><span class="koboSpan" id="kobo.99.1"> using our five senses (eyesight, hearing, taste, touch, and smell) to collect information about our surroundings, food, and so on, without us trying to find supervised learning style relationships such as whether a banana is ripe or not based on its color and shape. </span><span class="koboSpan" id="kobo.99.2">Similarly, in unsupervised learning, we are not seeking to identify the relationship between the features (input) and the output. </span><span class="koboSpan" id="kobo.99.3">Instead, the goal is to identify relationships between data points, as in clustering, extract new features (that is, embeddings or representations), and, if needed, reduce the dimensionality (that is, the number of features) of our data without using any output for the </span><a id="_idTextAnchor025"/><span class="No-Break"><span class="koboSpan" id="kobo.100.1">data points.</span></span></p>
<h2 id="_idParaDest-23"><a id="_idTextAnchor026"/><span class="koboSpan" id="kobo.101.1">Self-supervised learning</span></h2>
<p><span class="koboSpan" id="kobo.102.1">The third category</span><a id="_idIndexMarker015"/><span class="koboSpan" id="kobo.103.1"> of machine learning </span><a id="_idIndexMarker016"/><span class="koboSpan" id="kobo.104.1">modeling is called self-supervised learning. </span><span class="koboSpan" id="kobo.104.2">In this category, the goal is to identify the relationship between inputs and outputs, but the difference with supervised learning is the source of outputs. </span><span class="koboSpan" id="kobo.104.3">For example, if the goal of the supervised machine learning model is to translate from English to French, the inputs come from English words and sentences and the outputs come from French words and sentences. </span><span class="koboSpan" id="kobo.104.4">However, we can have a self-supervised learning model within English sentences to try to predict the next word or a missing word in a sentence. </span><span class="koboSpan" id="kobo.104.5">For example, let’s say we aim to recognize that “talking” is a good candidate to fill the gap in “Jack is ____ with Julie.” </span><span class="koboSpan" id="kobo.104.6">Self-supervised learning models have been used in recent years across different fields to identify new features. </span><span class="koboSpan" id="kobo.104.7">This is commonly called representation learning. </span><span class="koboSpan" id="kobo.104.8">We will talk</span><a id="_idIndexMarker017"/><span class="koboSpan" id="kobo.105.1"> about some examples of self-supervised</span><a id="_idIndexMarker018"/><span class="koboSpan" id="kobo.106.1"> learning in </span><a href="B16369_14.xhtml#_idTextAnchor379"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.107.1">Chapter 14</span></em></span></a><span class="koboSpan" id="kobo.108.1">, </span><em class="italic"><span class="koboSpan" id="kobo.109.1">Introduction to </span></em><em class="italic"><span class="koboSpan" id="kobo.110.1">Recent Advancements in </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.111.1">M</span><a id="_idTextAnchor027"/><span class="koboSpan" id="kobo.112.1">achine Learning</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.113.1">.</span></span></p>
<h2 id="_idParaDest-24"><a id="_idTextAnchor028"/><span class="koboSpan" id="kobo.114.1">Semi-supervised learning</span></h2>
<p><span class="koboSpan" id="kobo.115.1">Semi-supervised learning</span><a id="_idIndexMarker019"/><span class="koboSpan" id="kobo.116.1"> can help us benefit</span><a id="_idIndexMarker020"/><span class="koboSpan" id="kobo.117.1"> from supervised learning without throwing out the data points that don’t have output values. </span><span class="koboSpan" id="kobo.117.2">Sometimes, we have data points for which we don’t have the output values and only their feature values are available. </span><span class="koboSpan" id="kobo.117.3">In such cases, semi-supervised learning helps us use data points with or without output. </span><span class="koboSpan" id="kobo.117.4">One simple process to do so is to group data points that are similar to each other and use known outputs of the data points in each group to assign output for other data points of the same group that don’t h</span><a id="_idTextAnchor029"/><span class="koboSpan" id="kobo.118.1">ave </span><span class="No-Break"><span class="koboSpan" id="kobo.119.1">output value.</span></span></p>
<h2 id="_idParaDest-25"><a id="_idTextAnchor030"/><span class="koboSpan" id="kobo.120.1">Reinforcement learning</span></h2>
<p><span class="koboSpan" id="kobo.121.1">In RL, a model is rewarded</span><a id="_idIndexMarker021"/><span class="koboSpan" id="kobo.122.1"> according to its experience</span><a id="_idIndexMarker022"/><span class="koboSpan" id="kobo.123.1"> in an environment (real or virtual). </span><span class="koboSpan" id="kobo.123.2">In other words, RL is about identifying relationships with piecewise example addition. </span><span class="koboSpan" id="kobo.123.3">In RL, data is not considered part of the model and is independent of the model itself. </span><span class="koboSpan" id="kobo.123.4">We will go through some details of RL in </span><a href="B16369_14.xhtml#_idTextAnchor379"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.124.1">Chapter 14</span></em></span></a><span class="koboSpan" id="kobo.125.1">, </span><em class="italic"><span class="koboSpan" id="kobo.126.1">Introduction to </span></em><em class="italic"><span class="koboSpan" id="kobo.127.1">Recent Advancements in </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.128.1">Machine Learning</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.129.1">.</span></span></p>
<h2 id="_idParaDest-26"><a id="_idTextAnchor031"/><span class="koboSpan" id="kobo.130.1">Generative machine learning</span></h2>
<p><span class="koboSpan" id="kobo.131.1">Generative machine learning</span><a id="_idIndexMarker023"/><span class="koboSpan" id="kobo.132.1"> modeling helps</span><a id="_idIndexMarker024"/><span class="koboSpan" id="kobo.133.1"> us develop models that can generate images, text, or any data point that is close to the probability distribution of data provided in the training process. </span><span class="koboSpan" id="kobo.133.2">ChatGPT is one of the most famous tools that’s built on top of a generative model to generate realistic and meaningful text in response to user questions and answers (</span><a href="https://openai.com/blog/chatgpt"><span class="koboSpan" id="kobo.134.1">https://openai.com/blog/chatgpt</span></a><span class="koboSpan" id="kobo.135.1">). </span><span class="koboSpan" id="kobo.135.2">We will go through more details about generative modeling and the available tools built on top of it in </span><a href="B16369_14.xhtml#_idTextAnchor379"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.136.1">Chapter 14</span></em></span></a><span class="koboSpan" id="kobo.137.1">, </span><em class="italic"><span class="koboSpan" id="kobo.138.1">Introduction to </span></em><em class="italic"><span class="koboSpan" id="kobo.139.1">Recent Advancements in </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.140.1">Machine Learning</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.141.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.142.1">In this section, we provided a brief review of the basic components for building machine learning models and different types of modeling. </span><span class="koboSpan" id="kobo.142.2">But if you want to develop machine learning models for automation or discovery, for healthcare or any other application, with a low or high number of data points, on your laptop or the cloud, using a </span><strong class="bold"><span class="koboSpan" id="kobo.143.1">central processing unit</span></strong><span class="koboSpan" id="kobo.144.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.145.1">CPU</span></strong><span class="koboSpan" id="kobo.146.1">) or </span><strong class="bold"><span class="koboSpan" id="kobo.147.1">graphics processing unit</span></strong><span class="koboSpan" id="kobo.148.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.149.1">GPU</span></strong><span class="koboSpan" id="kobo.150.1">), you need to develop high-quality code that works as expected. </span><span class="koboSpan" id="kobo.150.2">Although this book is not a software debugging book, an overview</span><a id="_idIndexMarker025"/><span class="koboSpan" id="kobo.151.1"> of software debugging</span><a id="_idIndexMarker026"/><span class="koboSpan" id="kobo.152.1"> challenges and techniques could help you in developing your </span><a id="_idTextAnchor032"/><span class="koboSpan" id="kobo.153.1">machine </span><span class="No-Break"><span class="koboSpan" id="kobo.154.1">learning models.</span></span></p>
<h1 id="_idParaDest-27"><a id="_idTextAnchor033"/><span class="koboSpan" id="kobo.155.1">Debugging in software development</span></h1>
<p><span class="koboSpan" id="kobo.156.1">If you want to use Python</span><a id="_idIndexMarker027"/><span class="koboSpan" id="kobo.157.1"> and its libraries to build machine learning and deep learning models, you need to make sure your code works as expected. </span><span class="koboSpan" id="kobo.157.2">Let’s consider the following examples of the same function for returning the multiplication of </span><span class="No-Break"><span class="koboSpan" id="kobo.158.1">two variables:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.159.1">Correct code:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.160.1">
def multiply(x, y):    z = x * y    return z</span></pre></li> <li><span class="koboSpan" id="kobo.161.1">Code with </span><span class="No-Break"><span class="koboSpan" id="kobo.162.1">a typo:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.163.1">
def multiply(x, y):    z = x * y    </span><strong class="bold"><span class="koboSpan" id="kobo.164.1">retunr z</span></strong></pre></li> <li><span class="koboSpan" id="kobo.165.1">Code with an </span><span class="No-Break"><span class="koboSpan" id="kobo.166.1">indentation issue:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.167.1">
def multiply(x, y):</span><strong class="bold"><span class="koboSpan" id="kobo.168.1">z = x * y</span></strong><span class="koboSpan" id="kobo.169.1">return z</span></pre></li> <li><span class="koboSpan" id="kobo.170.1">Incorrect use of </span><strong class="source-inline"><span class="koboSpan" id="kobo.171.1">**</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.172.1">for multiplication:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.173.1">
def multiply(x, y):    z = x </span><strong class="bold"><span class="koboSpan" id="kobo.174.1">**</span></strong><span class="koboSpan" id="kobo.175.1"> y    return z</span></pre></li> </ul>
<p><span class="koboSpan" id="kobo.176.1">As you can see, there could</span><a id="_idIndexMarker028"/><span class="koboSpan" id="kobo.177.1"> be typos in the code and issues with indentation that prevent the code from running. </span><span class="koboSpan" id="kobo.177.2">You might also face issues because of an incorrect operator being used, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.178.1">**</span></strong><span class="koboSpan" id="kobo.179.1"> for multiplication instead of </span><strong class="source-inline"><span class="koboSpan" id="kobo.180.1">*</span></strong><span class="koboSpan" id="kobo.181.1">. </span><span class="koboSpan" id="kobo.181.2">In this case, your code will run but the expected result will be different than what the function is supposed to do, which is multip</span><a id="_idTextAnchor034"/><span class="koboSpan" id="kobo.182.1">lying the </span><span class="No-Break"><span class="koboSpan" id="kobo.183.1">input variables.</span></span></p>
<h2 id="_idParaDest-28"><a id="_idTextAnchor035"/><span class="koboSpan" id="kobo.184.1">Error messages in Python</span></h2>
<p><span class="koboSpan" id="kobo.185.1">Sometimes, there</span><a id="_idIndexMarker029"/><span class="koboSpan" id="kobo.186.1"> are issues with our code that don’t let it continue running. </span><span class="koboSpan" id="kobo.186.2">These issues could result in different error messages in Python. </span><span class="koboSpan" id="kobo.186.3">Here are some examples of error messages you might face when you’re running your </span><span class="No-Break"><span class="koboSpan" id="kobo.187.1">Python code:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.188.1">SyntaxError</span></strong><span class="koboSpan" id="kobo.189.1">: This is a type of error</span><a id="_idIndexMarker030"/><span class="koboSpan" id="kobo.190.1"> you’ll get when the syntax</span><a id="_idIndexMarker031"/><span class="koboSpan" id="kobo.191.1"> you used in your code is not the correct Python syntax. </span><span class="koboSpan" id="kobo.191.2">It could be caused by a typo, such as having </span><strong class="source-inline"><span class="koboSpan" id="kobo.192.1">retunr</span></strong><span class="koboSpan" id="kobo.193.1"> instead of </span><strong class="source-inline"><span class="koboSpan" id="kobo.194.1">return</span></strong><span class="koboSpan" id="kobo.195.1">, as shown previously, or using a command that doesn’t exist, such as using </span><strong class="source-inline"><span class="koboSpan" id="kobo.196.1">giveme</span></strong><span class="koboSpan" id="kobo.197.1"> instead </span><span class="No-Break"><span class="koboSpan" id="kobo.198.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.199.1">return</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.201.1">TypeError</span></strong><span class="koboSpan" id="kobo.202.1">: This error will be raised</span><a id="_idIndexMarker032"/><span class="koboSpan" id="kobo.203.1"> when your code</span><a id="_idIndexMarker033"/><span class="koboSpan" id="kobo.204.1"> tries to perform an operation on an object or variable that cannot be done in Python. </span><span class="koboSpan" id="kobo.204.2">For example, if your code tries to multiply two numbers while</span><a id="_idIndexMarker034"/><span class="koboSpan" id="kobo.205.1"> the variables</span><a id="_idIndexMarker035"/><span class="koboSpan" id="kobo.206.1"> are in string format instead of float or </span><span class="No-Break"><span class="koboSpan" id="kobo.207.1">integer format.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.208.1">AttributeError</span></strong><span class="koboSpan" id="kobo.209.1">: This type of error is raised when</span><a id="_idIndexMarker036"/><span class="koboSpan" id="kobo.210.1"> an attribute is used </span><a id="_idIndexMarker037"/><span class="koboSpan" id="kobo.211.1">for an object that it is not defined for. </span><span class="koboSpan" id="kobo.211.2">For example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.212.1">isnull</span></strong><span class="koboSpan" id="kobo.213.1"> is not defined for a list. </span><span class="koboSpan" id="kobo.213.2">So, </span><strong class="source-inline"><span class="koboSpan" id="kobo.214.1">my_list.isnull()</span></strong><span class="koboSpan" id="kobo.215.1"> results </span><span class="No-Break"><span class="koboSpan" id="kobo.216.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.217.1">AttributeError</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.218.1">.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.219.1">NameError</span></strong><span class="koboSpan" id="kobo.220.1">: This error is raised when you try to call</span><a id="_idIndexMarker038"/><span class="koboSpan" id="kobo.221.1"> a function, class, or other</span><a id="_idIndexMarker039"/><span class="koboSpan" id="kobo.222.1"> names and modules that are not defined in your code. </span><span class="koboSpan" id="kobo.222.2">For example, if you haven’t defined a </span><strong class="source-inline"><span class="koboSpan" id="kobo.223.1">neural_network</span></strong><span class="koboSpan" id="kobo.224.1"> class in your code but call it in your code as </span><strong class="source-inline"><span class="koboSpan" id="kobo.225.1">neural_network()</span></strong><span class="koboSpan" id="kobo.226.1">, you will get a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.227.1">NameError</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.228.1"> message.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.229.1">IndentationError</span></strong><span class="koboSpan" id="kobo.230.1">: Python is a programming language</span><a id="_idIndexMarker040"/><span class="koboSpan" id="kobo.231.1"> that relies on correct</span><a id="_idIndexMarker041"/><span class="koboSpan" id="kobo.232.1"> indentation – that is, the necessary spaces at the beginning of each line of code – to understand relationships between the lines. </span><span class="koboSpan" id="kobo.232.2">It also helps with code readability. </span><strong class="source-inline"><span class="koboSpan" id="kobo.233.1">IndentationError</span></strong><span class="koboSpan" id="kobo.234.1"> is the result of the wrong type of indentation being used in your code. </span><span class="koboSpan" id="kobo.234.2">But not all wrong indentation, based on the objective you have in mind, results in </span><strong class="source-inline"><span class="koboSpan" id="kobo.235.1">IndentationError</span></strong><span class="koboSpan" id="kobo.236.1">. </span><span class="koboSpan" id="kobo.236.2">For example, the following code examples work without any error, but only the first one meets the objective of counting the number of odd numbers in a list. </span><span class="koboSpan" id="kobo.236.3">The bottom function returns the length of the input list instead. </span><span class="koboSpan" id="kobo.236.4">As a result, if you run the top part of the code, you will get 3 as the output, which is the total number of odd numbers in the input list, while the bottom part of the code returns 5, which is the length of the list. </span><span class="koboSpan" id="kobo.236.5">These types of errors, which don’t stop the code from running</span><a id="_idIndexMarker042"/><span class="koboSpan" id="kobo.237.1"> but generate an incorrect output, are called </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.238.1">logical errors</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.239.1">.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.240.1">Here is some example code</span><a id="_idIndexMarker043"/><span class="koboSpan" id="kobo.241.1"> in which using the wrong indention results in wrong results without any </span><span class="No-Break"><span class="koboSpan" id="kobo.242.1">error message:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.243.1">
def odd_counter(num_list: list):    """
    :param num_list: list of integers to be checked for identifying  	    odd numbers
    :return: return an integer as the number of odd numbers in the  	    input list
    """
    odd_count = 0
    for num in num_list:
        if (num % 2) == 0:
            print("{} is even".format(num))
        else:
            print("{} is even".format(num))
            odd_count += 1
    return odd_count
num_list = [1, 2, 5, 8, 9]
print(f'Total number of odd numbers in the list:
    {odd_counter(num_list)}')</span></pre>
<p><span class="koboSpan" id="kobo.244.1">The following code</span><a id="_idIndexMarker044"/><span class="koboSpan" id="kobo.245.1"> runs but generates</span><a id="_idIndexMarker045"/> <span class="No-Break"><span class="koboSpan" id="kobo.246.1">unintended results:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.247.1">
def odd_counter(num_list: list):    """
    :param num_list: list of integers to be checked for identifying 	    odd numbers
    :return: return an integer as the number of odd numbers in the  	    input list
    """
    odd_count = 0
    for num in num_list:
        if (num % 2) == 0:
            print("{} is even".format(num))
        else:
            print("{} is even".format(num))
        odd_count += 1
    return odd_count
num_list = [1, 2, 5, 8, 9]
print(f'Total number of odd numbers in the list:
    {odd_counter(num_list)}')</span></pre>
<p><span class="koboSpan" id="kobo.248.1">There are other errors whose meanings are clear based on their name, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.249.1">ZeroDivisionError</span></strong><span class="koboSpan" id="kobo.250.1"> when your code tries to return division by zero, </span><strong class="source-inline"><span class="koboSpan" id="kobo.251.1">IndexError</span></strong><span class="koboSpan" id="kobo.252.1"> if your code tries to get a value based on an index that is greater than the length of a list, or </span><strong class="source-inline"><span class="koboSpan" id="kobo.253.1">ImportError</span></strong><span class="koboSpan" id="kobo.254.1"> when you’re trying to import a function or class that cannot </span><span class="No-Break"><span class="koboSpan" id="kobo.255.1">be found.</span></span></p>
<p><span class="koboSpan" id="kobo.256.1">In the previous code examples, we used </span><strong class="source-inline"><span class="koboSpan" id="kobo.257.1">docstring</span></strong><span class="koboSpan" id="kobo.258.1"> to specify the type of input parameter (that is, a list) and the intended output. </span><span class="koboSpan" id="kobo.258.2">Having this information helps you and new users of your code to better understand the code and resolve any issue with </span><span class="No-Break"><span class="koboSpan" id="kobo.259.1">it quickly.</span></span></p>
<p><span class="koboSpan" id="kobo.260.1">These are simple examples</span><a id="_idIndexMarker046"/><span class="koboSpan" id="kobo.261.1"> of issues that can happen in your software and pipelines. </span><span class="koboSpan" id="kobo.261.2">In machine</span><a id="_idIndexMarker047"/><span class="koboSpan" id="kobo.262.1"> learning modeling, you need to conduct debugging to deal with hundreds or thousands of lines of code and tens or hundreds of functions and classes. </span><span class="koboSpan" id="kobo.262.2">However, debugging could be much more challenging compared to these examples. </span><span class="koboSpan" id="kobo.262.3">It could be even more difficult if you need to start working on a piece of code that you have not written yourself when, for example, you’re joining a new team in the industry or academia. </span><span class="koboSpan" id="kobo.262.4">You need to use techniques and tools that help you debug your code with minimum effort and time. </span><span class="koboSpan" id="kobo.262.5">Although this book is not designed for code debugging, reviewing some debugging techniques</span><a id="_idIndexMarker048"/><span class="koboSpan" id="kobo.263.1"> could help you in deve</span><a id="_idTextAnchor036"/><span class="koboSpan" id="kobo.264.1">loping high-quality code</span><a id="_idIndexMarker049"/><span class="koboSpan" id="kobo.265.1"> that runs </span><span class="No-Break"><span class="koboSpan" id="kobo.266.1">as planned.</span></span></p>
<h2 id="_idParaDest-29"><a id="_idTextAnchor037"/><span class="koboSpan" id="kobo.267.1">Debugging techniques</span></h2>
<p><span class="koboSpan" id="kobo.268.1">There are techniques</span><a id="_idIndexMarker050"/><span class="koboSpan" id="kobo.269.1"> to help you in the process of debugging a piece of code or software. </span><span class="koboSpan" id="kobo.269.2">You might have used one or more of these techniques, even without remembering or knowin</span><a id="_idTextAnchor038"/><span class="koboSpan" id="kobo.270.1">g their names. </span><span class="koboSpan" id="kobo.270.2">We will review</span><a id="_idIndexMarker051"/><span class="koboSpan" id="kobo.271.1"> four of </span><span class="No-Break"><span class="koboSpan" id="kobo.272.1">them here.</span></span></p>
<h3><span class="koboSpan" id="kobo.273.1">Traceback</span></h3>
<p><span class="koboSpan" id="kobo.274.1">When you get an error message</span><a id="_idIndexMarker052"/><span class="koboSpan" id="kobo.275.1"> in Python, it usually provides you with the necessary</span><a id="_idIndexMarker053"/><span class="koboSpan" id="kobo.276.1"> information to find the issue. </span><span class="koboSpan" id="kobo.276.2">This information creates a report-like message about the lines of your code that the error occurred in, as well as the types of error and function or class calls that resulted in such errors. </span><span class="koboSpan" id="kobo.276.3">This report-like message is called a </span><strong class="bold"><span class="koboSpan" id="kobo.277.1">traceback</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.278.1">in Python.</span></span></p>
<p><span class="koboSpan" id="kobo.279.1">Consider the following code, in which the </span><strong class="source-inline"><span class="koboSpan" id="kobo.280.1">reverse_multiply</span></strong><span class="koboSpan" id="kobo.281.1"> function is supposed to return a list of element-wise multiplication of an input list and its reverse. </span><span class="koboSpan" id="kobo.281.2">Here, </span><strong class="source-inline"><span class="koboSpan" id="kobo.282.1">reverse_multiply</span></strong><span class="koboSpan" id="kobo.283.1"> uses the </span><strong class="source-inline"><span class="koboSpan" id="kobo.284.1">multiply</span></strong><span class="koboSpan" id="kobo.285.1"> command to multiply the two lists. </span><span class="koboSpan" id="kobo.285.2">Since </span><strong class="source-inline"><span class="koboSpan" id="kobo.286.1">multiply</span></strong><span class="koboSpan" id="kobo.287.1"> is designed for multiplying two float numbers, not two lists, the code returns the traceback message with the necessary information for finding the issue, starting from the bottom operation. </span><span class="koboSpan" id="kobo.287.2">It specifies that </span><strong class="source-inline"><span class="koboSpan" id="kobo.288.1">TypeError</span></strong><span class="koboSpan" id="kobo.289.1"> occurred on line 8 within </span><strong class="source-inline"><span class="koboSpan" id="kobo.290.1">multiply</span></strong><span class="koboSpan" id="kobo.291.1">, which is the bottom operation, and then lets us know that this issue results in an error occurring on line 21, in </span><strong class="source-inline"><span class="koboSpan" id="kobo.292.1">reverse_multiply</span></strong><span class="koboSpan" id="kobo.293.1">, and eventually line 27 in the whole code module. </span><span class="koboSpan" id="kobo.293.2">Both the PyCharm IDE and Jupyter return this information. </span><span class="koboSpan" id="kobo.293.3">The following code examples show you how to use traceback to find necessary information so that you can debug a small and simple piece of Python code in both PyCharm and </span><span class="No-Break"><span class="koboSpan" id="kobo.294.1">Jupyter Notebook:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.295.1">
def multiply(x: float, y: float):    """
    :param x: input variable of type float
    :param y: input variable of type float
    return: returning multiplications of the input variables
    """
    z = x * y
    return z
def reverse_multiply(num_list: list):
    """
    :param num_list: list of integers to be checked for identifying 	    odd numbers
    :return: return a list containing element-wise multiplication of  	    the input list and its reverse
    """
    rev_list = num_list.copy()
    rev_list.reverse()
    mult_list = multiply(num_list, rev_list)
    return mult_list
num_list = [1, 2, 5, 8, 9]
print(reverse_multiply(num_list))</span></pre>
<p><span class="koboSpan" id="kobo.296.1">The following lines show you the </span><strong class="bold"><span class="koboSpan" id="kobo.297.1">traceback</span></strong><span class="koboSpan" id="kobo.298.1"> error message when you </span><a id="_idIndexMarker054"/><span class="koboSpan" id="kobo.299.1">run the previous</span><a id="_idIndexMarker055"/><span class="koboSpan" id="kobo.300.1"> code in </span><span class="No-Break"><span class="koboSpan" id="kobo.301.1">Jupyter Notebook:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.302.1">
TypeError                 Traceback (most recent call last)&lt;ipython-input-1-4ceb9b77c7b5&gt; in &lt;module&gt;()
      25
      26 num_list = [1, 2, 5, 8, 9]
---&gt; 27 print(reverse_multiply(num_list))
&lt;ipython-input-1-4ceb9b77c7b5&gt; in reverse_multiply(num_list)
      19   rev_list.reverse()
      20
---&gt; 21   mult_list = multiply(num_list, rev_list)
      22
      23   return mult_list
&lt;ipython-input-1-4ceb9b77c7b5&gt; in multiply(x, y)
        6   return: returning multiplications of the input variables
        7   """
----&gt; 8   z = x * y
        9   return z
      10
TypeError: can't multiply sequence by non-int of type 'list'
</span><strong class="bold"><span class="koboSpan" id="kobo.303.1">Traceback error message in Pycharm</span></strong><span class="koboSpan" id="kobo.304.1">
Traceback (most recent call last):
  File "&lt;input&gt;", line 27, in &lt;module&gt;
  File "&lt;input&gt;", line 21, in reverse_multiply
  File "&lt;input&gt;", line 8, in multiply
TypeError: can't multiply sequence by non-int of type 'list'</span></pre>
<p><span class="koboSpan" id="kobo.305.1">Python traceback messages seem to be very useful for debugging our code. </span><span class="koboSpan" id="kobo.305.2">However, they are not enough for debugging large code bases that contain many functions and classes. </span><span class="koboSpan" id="kobo.305.3">You need to use complemen</span><a id="_idTextAnchor039"/><span class="koboSpan" id="kobo.306.1">tary</span><a id="_idIndexMarker056"/><span class="koboSpan" id="kobo.307.1"> techniques to help you in the </span><span class="No-Break"><span class="koboSpan" id="kobo.308.1">debugging </span></span><span class="No-Break"><a id="_idIndexMarker057"/></span><span class="No-Break"><span class="koboSpan" id="kobo.309.1">process.</span></span></p>
<h3><span class="koboSpan" id="kobo.310.1">Induction and deduction</span></h3>
<p><span class="koboSpan" id="kobo.311.1">When you have found an error</span><a id="_idIndexMarker058"/><span class="koboSpan" id="kobo.312.1"> in your code, you can either start by collecting</span><a id="_idIndexMarker059"/><span class="koboSpan" id="kobo.313.1"> as much information as you can and try to find potential issues using the information, or you can jump into checking your suspicions. </span><span class="koboSpan" id="kobo.313.2">These two approaches differentiate induction from the deduction process in terms of </span><span class="No-Break"><span class="koboSpan" id="kobo.314.1">code debugging:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.315.1">Induction</span></strong><span class="koboSpan" id="kobo.316.1">: In the induction process, you start </span><a id="_idIndexMarker060"/><span class="koboSpan" id="kobo.317.1">collecting information</span><a id="_idIndexMarker061"/><span class="koboSpan" id="kobo.318.1"> and data about the problem in your code that helps you come up with a list of potential issues resulting from the error. </span><span class="koboSpan" id="kobo.318.2">Then, you can narrow the list down and, if necessary, collect more information and data from the process until you fix </span><span class="No-Break"><span class="koboSpan" id="kobo.319.1">the error.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.320.1">Deduction</span></strong><span class="koboSpan" id="kobo.321.1">: In the deduction process, you come</span><a id="_idIndexMarker062"/><span class="koboSpan" id="kobo.322.1"> up with a short list of your points of suspicion regarding the issues in your code and try to find if any one of them is the actual source </span><a id="_idIndexMarker063"/><span class="koboSpan" id="kobo.323.1">of the issue. </span><span class="koboSpan" id="kobo.323.2">You continue this process and gather more information and come up with new potential sources of the problem. </span><span class="koboSpan" id="kobo.323.3">You continue this process until you fix </span><span class="No-Break"><span class="koboSpan" id="kobo.324.1">the problem.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.325.1">In both approaches, you go through an iterative process of coming up with potential sources of issues and building hypotheses and then collect the necessary information until you fix the error in your code. </span><span class="koboSpan" id="kobo.325.2">If a piece of code or software is new to you, this process could take time. </span><span class="koboSpan" id="kobo.325.3">In such cases, try to get help from your teammates with more experience with the code to</span><a id="_idTextAnchor040"/><span class="koboSpan" id="kobo.326.1"> collect more data and come up with more </span><span class="No-Break"><span class="koboSpan" id="kobo.327.1">relevant hypotheses.</span></span></p>
<h3><span class="koboSpan" id="kobo.328.1">Bug clustering</span></h3>
<p><span class="koboSpan" id="kobo.329.1">As stated</span><a id="_idIndexMarker064"/><span class="koboSpan" id="kobo.330.1"> in the Pareto</span><a id="_idIndexMarker065"/><span class="koboSpan" id="kobo.331.1"> principle, named after Vilfredo Pareto, a famous Italian sociologist and economist, 80% of the results originate from 20% of the causes. </span><span class="koboSpan" id="kobo.331.2">The exact number is not the point here. </span><span class="koboSpan" id="kobo.331.3">This principle helps us better understand that the majority of the problems and errors in our code are caused by a minority of its modules. </span><span class="koboSpan" id="kobo.331.4">By grouping bugs, we can hit multiple birds with one stone as resolving an issue in a group</span><a id="_idIndexMarker066"/><span class="koboSpan" id="kobo.332.1"> of b</span><a id="_idTextAnchor041"/><span class="koboSpan" id="kobo.333.1">ugs could potentially resolve most others within the </span><span class="No-Break"><span class="koboSpan" id="kobo.334.1">same</span></span><span class="No-Break"><a id="_idIndexMarker067"/></span><span class="No-Break"><span class="koboSpan" id="kobo.335.1"> group.</span></span></p>
<h3><span class="koboSpan" id="kobo.336.1">Problem simplification</span></h3>
<p><span class="koboSpan" id="kobo.337.1">The idea here</span><a id="_idIndexMarker068"/><span class="koboSpan" id="kobo.338.1"> is to simplify the code so that you can identify the cause of the error and fix it. </span><span class="koboSpan" id="kobo.338.2">You could replace big data objects with smaller and even synthetic ones or limit function calling in a big module. </span><span class="koboSpan" id="kobo.338.3">This process could help you quickly eliminate the options for identifying the causes of the issues in your code, or even in the data format you have used as inputs of functions or classes in your code. </span><span class="koboSpan" id="kobo.338.4">Especially in a machine learning setting, where you might deal with complex data processes, big data files, or streams of dat</span><a id="_idTextAnchor042"/><span class="koboSpan" id="kobo.339.1">a, this simplification process for debugging</span><a id="_idIndexMarker069"/><span class="koboSpan" id="kobo.340.1"> could be </span><span class="No-Break"><span class="koboSpan" id="kobo.341.1">very useful.</span></span></p>
<h2 id="_idParaDest-30"><a id="_idTextAnchor043"/><span class="koboSpan" id="kobo.342.1">Debuggers</span></h2>
<p><span class="koboSpan" id="kobo.343.1">Each IDE you might use, such</span><a id="_idIndexMarker070"/><span class="koboSpan" id="kobo.344.1"> as PyCharm, or if you use Jupyter Notebook to experiment with your ideas using Python, has built-in features for debugging. </span><span class="koboSpan" id="kobo.344.2">There are also free or paid tools you can benefit from to facilitate your debugging processes. </span><span class="koboSpan" id="kobo.344.3">For example, in PyCharm and most other IDEs, you can use breakpoints as pausing places when running a big piece of code so that you can follow the operations in your code (</span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.345.1">Figure 1</span></em></span><em class="italic"><span class="koboSpan" id="kobo.346.1">.3</span></em><span class="koboSpan" id="kobo.347.1">) and eventually find the cause of </span><span class="No-Break"><span class="koboSpan" id="kobo.348.1">the issue:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer016">
<span class="koboSpan" id="kobo.349.1"><img alt="Figure 1.3 – Using breakpoints in PyCharm for code debugging" src="image/B16369_01_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.350.1">Figure 1.3 – Using breakpoints in PyCharm for code debugging</span></p>
<p><span class="koboSpan" id="kobo.351.1">The breakpoint capabilities in different IDEs are not the same. </span><span class="koboSpan" id="kobo.351.2">For example, you can use PyCharm’s conditional breakpoints to speed up your debugging process, which helps you not execute a line of code in a loop or repeat function calls manually. </span><span class="koboSpan" id="kobo.351.3">Read more about the debugging features of the IDE you use and consider them as another tool in your toolbox for better and easier Python programming and machine </span><span class="No-Break"><span class="koboSpan" id="kobo.352.1">learning modeling.</span></span></p>
<p><span class="koboSpan" id="kobo.353.1">The debugging techniques and tools we’ve briefly explained here, or those you already know about, could help you develop a piece of code that runs and provides the intended results. </span><span class="koboSpan" id="kobo.353.2">You could also follow some best practices for high-qu</span><a id="_idTextAnchor044"/><span class="koboSpan" id="kobo.354.1">ality Python programming and building your machine </span><span class="No-Break"><span class="koboSpan" id="kobo.355.1">learning</span></span><span class="No-Break"><a id="_idIndexMarker071"/></span><span class="No-Break"><span class="koboSpan" id="kobo.356.1"> models.</span></span></p>
<h2 id="_idParaDest-31"><a id="_idTextAnchor045"/><span class="koboSpan" id="kobo.357.1">Best practices for high-quality Python programming</span></h2>
<p><span class="koboSpan" id="kobo.358.1">Prevention is better than a cure. </span><span class="koboSpan" id="kobo.358.2">There are practices you can follow to prevent or decrease the chance of bugs occurring in your code. </span><span class="koboSpan" id="kobo.358.3">In this section, we will talk about three of those practices: </span><strong class="bold"><span class="koboSpan" id="kobo.359.1">incremental programmin</span><a id="_idTextAnchor046"/><span class="koboSpan" id="kobo.360.1">g</span></strong><span class="koboSpan" id="kobo.361.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.362.1">logging</span></strong><span class="koboSpan" id="kobo.363.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.364.1">defensive programming</span></strong><span class="koboSpan" id="kobo.365.1">. </span><span class="koboSpan" id="kobo.365.2">Let’s look at each </span><span class="No-Break"><span class="koboSpan" id="kobo.366.1">in detail.</span></span></p>
<h3><span class="koboSpan" id="kobo.367.1">Incremental programming</span></h3>
<p><span class="koboSpan" id="kobo.368.1">Machine learning</span><a id="_idIndexMarker072"/><span class="koboSpan" id="kobo.369.1"> modeling in practice, in academia or industry, is beyond writing a few lines of code to train a simple model such as a logistic regression model using datasets that already exist in </span><strong class="source-inline"><span class="koboSpan" id="kobo.370.1">scikit-learn</span></strong><span class="koboSpan" id="kobo.371.1">. </span><span class="koboSpan" id="kobo.371.2">It requires many modules for processing data, training and testing model and postprocessing inferences, or predictions to assess the reliability of the models. </span><span class="koboSpan" id="kobo.371.3">Writing code for every small component, then testing it and writing test code using PyTest, for example, could help you avoid issues with each function or class you wrote. </span><span class="koboSpan" id="kobo.371.4">It also helps you make sure that the outputs of one module that feed another module as its input are compatible. </span><span class="koboSpan" id="kobo.371.5">This process is what is called </span><strong class="bold"><span class="koboSpan" id="kobo.372.1">incremental programming</span></strong><span class="koboSpan" id="kobo.373.1">. </span><span class="koboSpan" id="kobo.373.2">When you write a pie</span><a id="_idTextAnchor047"/><span class="koboSpan" id="kobo.374.1">ce of software or pipeline, try to write and test it piece </span><span class="No-Break"><span class="koboSpan" id="kobo.375.1">by piece.</span></span></p>
<h3><span class="koboSpan" id="kobo.376.1">Logging</span></h3>
<p><span class="koboSpan" id="kobo.377.1">Every car has a series</span><a id="_idIndexMarker073"/><span class="koboSpan" id="kobo.378.1"> of dashboard lights that get turned on when there is a problem with the car. </span><span class="koboSpan" id="kobo.378.2">These problems could stop the car from running or cause serious damage if they’re not acted upon, such as low gas or engine oil change lights. </span><span class="koboSpan" id="kobo.378.3">Now, imagine there was no light or warning, and all of a sudden, the car you are driving stops or makes a terrible sound, and you don’t know what to do. </span><span class="koboSpan" id="kobo.378.4">When you develop functions and classes in Python, you can benefit from </span><strong class="bold"><span class="koboSpan" id="kobo.379.1">logging</span></strong><span class="koboSpan" id="kobo.380.1"> to log information, errors, and other kinds of messages that help you in identifying potential sources of issues when you get an error message. </span><span class="koboSpan" id="kobo.380.2">The following example showcases how to use </span><strong class="bold"><span class="koboSpan" id="kobo.381.1">error</span></strong><span class="koboSpan" id="kobo.382.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.383.1">info</span></strong><span class="koboSpan" id="kobo.384.1"> as two attributes of logging. </span><span class="koboSpan" id="kobo.384.2">You can benefit from different attributes of logging in terms of the functions and classes you write to improve data and information gathering while running your code. </span><span class="koboSpan" id="kobo.384.3">You can also export</span><a id="_idIndexMarker074"/><span class="koboSpan" id="kobo.385.1"> the log information in a file using </span><strong class="source-inline"><span class="koboSpan" id="kobo.386.1">basicConfig()</span></strong><span class="koboSpan" id="kobo.387.1">, which does the basic configuration for the </span><span class="No-Break"><span class="koboSpan" id="kobo.388.1">logging system:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.389.1">
import loggingdef multiply(x: float, y: float):
    """
    :param x: input variable of type float
    :param y: input variable of type float
    return: returning multiplications of
    the input variables
    """
    if not isinstance(x, (int, float)) or not isinstance(y,
    (int, float)):
</span><strong class="bold"><span class="koboSpan" id="kobo.390.1">        logging.error('Input variables are not of type float or integer!')</span></strong><span class="koboSpan" id="kobo.391.1">
    z = x * y
    return z
def reverse_multiply(num_list: list):
    """
    :param num_list: list of integers to be checked
    for identifying odd numbers
    :return: return a list containing element-wise multiplication
    of the input list and its reverse
    """
</span><strong class="bold"><span class="koboSpan" id="kobo.392.1">    logging.info("Length of {num_list} is {</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.393.1">    list_len}".format(num_list=num_list,</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.394.1">        list_len = len(num_list)))</span></strong><span class="koboSpan" id="kobo.395.1">
    rev_list = num_list.copy()
    rev_list.reverse()
    mult_list = [multiply(num_list[iter], rev_lis</span><a id="_idTextAnchor048"/><span class="koboSpan" id="kobo.396.1">t[iter])
    for iter in range(0, len(num_list))]
    return mult_list
num_list = [1, 'no', 5, 8, 9]
print(reverse_multiply(num_list))</span></pre>
<p><span class="koboSpan" id="kobo.397.1">When you run the previous code, you will get the following messages </span><span class="No-Break"><span class="koboSpan" id="kobo.398.1">and output:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.399.1">
ERROR:root:Input variables are not of type float or integer!ERROR:root:Input variables are not of type float or integer!
</span><span class="koboSpan" id="kobo.399.2">[9, 'nononononononono', 25, 'nononononononono', 9]</span></pre>
<p><span class="koboSpan" id="kobo.400.1">The logged error messages are the results</span><a id="_idIndexMarker075"/><span class="koboSpan" id="kobo.401.1"> of attempting to multiply </span><strong class="source-inline"><span class="koboSpan" id="kobo.402.1">'no'</span></strong><span class="koboSpan" id="kobo.403.1">, which is a string with </span><span class="No-Break"><span class="koboSpan" id="kobo.404.1">another number.</span></span></p>
<h3><span class="koboSpan" id="kobo.405.1">Defensive programming</span></h3>
<p><span class="koboSpan" id="kobo.406.1">Defensive programming</span><a id="_idIndexMarker076"/><span class="koboSpan" id="kobo.407.1"> is about preparing yourself for mistakes that can be made by you, your teammates, and your collaborators. </span><span class="koboSpan" id="kobo.407.2">There are tools, techniques, and Python classes to defend</span><a id="_idIndexMarker077"/><span class="koboSpan" id="kobo.408.1"> the code against such mistakes, such as </span><strong class="bold"><span class="koboSpan" id="kobo.409.1">assertions</span></strong><span class="koboSpan" id="kobo.410.1">. </span><span class="koboSpan" id="kobo.410.2">For example, using the following line in your code stops it, if the conditions are met, and returns an error message stating </span><strong class="source-inline"><span class="koboSpan" id="kobo.411.1">AssertionError: Variable should be of </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.412.1">typ</span><a id="_idTextAnchor049"/><span class="koboSpan" id="kobo.413.1">e float</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.414.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.415.1">
assert isinstance(num, float), 'Variable should be of type float'</span></pre> <h2 id="_idParaDest-32"><a id="_idTextAnchor050"/><span class="koboSpan" id="kobo.416.1">Version control</span></h2>
<p><span class="koboSpan" id="kobo.417.1">The tools and practices</span><a id="_idIndexMarker078"/><span class="koboSpan" id="kobo.418.1"> we covered here are just examples of how you can improve the quality of your programming and decrease the amount of time needed to eliminate issues and errors in your code. </span><span class="koboSpan" id="kobo.418.2">Another important tool in improving</span><a id="_idIndexMarker079"/><span class="koboSpan" id="kobo.419.1"> your machine learning modeling is </span><strong class="bold"><span class="koboSpan" id="kobo.420.1">versioning</span></strong><span class="koboSpan" id="kobo.421.1">. </span><span class="koboSpan" id="kobo.421.2">We will talk about data and model versioning in </span><a href="B16369_10.xhtml#_idTextAnchor286"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.422.1">Chapter 10</span></em></span></a><span class="koboSpan" id="kobo.423.1">, </span><em class="italic"><span class="koboSpan" id="kobo.424.1">Versioning and Reproducible Machine Learning Modeling</span></em><span class="koboSpan" id="kobo.425.1">, but let’s briefly talk about code </span><span class="No-Break"><span class="koboSpan" id="kobo.426.1">versioning here.</span></span></p>
<p><span class="koboSpan" id="kobo.427.1">Version control systems allow you to manage changes in your code and files that exist in a code base and help you in tracking those changes, gain access to the history of changes, and collaborate in developing different components of a machine learning pipeline. </span><span class="koboSpan" id="kobo.427.2">You can use</span><a id="_idIndexMarker080"/><span class="koboSpan" id="kobo.428.1"> version control systems such as </span><strong class="bold"><span class="koboSpan" id="kobo.429.1">Git</span></strong><span class="koboSpan" id="kobo.430.1"> and its associated hosting services such as </span><strong class="bold"><span class="koboSpan" id="kobo.431.1">GitHub</span></strong><span class="koboSpan" id="kobo.432.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.433.1">GitLab</span></strong><span class="koboSpan" id="kobo.434.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.435.1">BitBucket</span></strong><span class="koboSpan" id="kobo.436.1"> for your projects. </span><span class="koboSpan" id="kobo.436.2">These tools let you and your teammates</span><a id="_idIndexMarker081"/><span class="koboSpan" id="kobo.437.1"> and collaborators</span><a id="_idIndexMarker082"/><span class="koboSpan" id="kobo.438.1"> work on different</span><a id="_idIndexMarker083"/><span class="koboSpan" id="kobo.439.1"> branches of code without disrupting each other’s work. </span><span class="koboSpan" id="kobo.439.2">It also lets you easily go back to the history of changes and find out when a change happened in </span><span class="No-Break"><span class="koboSpan" id="kobo.440.1">the code.</span></span></p>
<p><span class="koboSpan" id="kobo.441.1">If you have not used version control systems, don’t consider them as a new complicated tool or programming language you need to start learning. </span><span class="koboSpan" id="kobo.441.2">There are a couple of core concepts and terms you need to learn first, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.442.1">commit</span></strong><span class="koboSpan" id="kobo.443.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.444.1">push</span></strong><span class="koboSpan" id="kobo.445.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.446.1">pull</span></strong><span class="koboSpan" id="kobo.447.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.448.1">merge</span></strong><span class="koboSpan" id="kobo.449.1">, when using Git. </span><span class="koboSpan" id="kobo.449.2">Using these functionalities could be even as simple as a few clicks in an IDE such as PyCharm</span><a id="_idIndexMarker084"/><span class="koboSpan" id="kobo.450.1"> if you don’t want to or know how to use the </span><strong class="bold"><span class="koboSpan" id="kobo.451.1">command-line </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.452.1">interface</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.453.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.454.1">CLI</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.455.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.456.1">We reviewed some commonly used techniques and tools to help you in debugging your code and high-quality Python programming. </span><span class="koboSpan" id="kobo.456.2">However, there are more advanced tools built on top of models such as GPT, such as ChatGPT (</span><a href="https://openai.com/blog/chatgpt"><span class="koboSpan" id="kobo.457.1">https://openai.com/blog/chatgpt</span></a><span class="koboSpan" id="kobo.458.1">) and GitHub Copilot (</span><a href="https://github.com/features/copilot"><span class="koboSpan" id="kobo.459.1">https://github.com/features/copilot</span></a><span class="koboSpan" id="kobo.460.1">), that you can use to develop your code faster and increase the quality of your code and even your code debugging efforts. </span><span class="koboSpan" id="kobo.460.2">We will talk about some of these tools in </span><a href="B16369_14.xhtml#_idTextAnchor379"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.461.1">Chapter 14</span></em></span></a><span class="koboSpan" id="kobo.462.1">, </span><em class="italic"><span class="koboSpan" id="kobo.463.1">Introduction to </span></em><em class="italic"><span class="koboSpan" id="kobo.464.1">Recent Advancements in </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.465.1">Machine Learning</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.466.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.467.1">Although using the preceding debugging techniques or best practices to avoid issues in your Python code helps you have a low-bug code base, it doesn’t prevent all the problems with machine learning models. </span><span class="koboSpan" id="kobo.467.2">This book is about going beyond Python programming for machine learning to help you iden</span><a id="_idTextAnchor051"/><span class="koboSpan" id="kobo.468.1">tify problems with your machine learning models and develop</span><a id="_idIndexMarker085"/> <span class="No-Break"><span class="koboSpan" id="kobo.469.1">high-quality models.</span></span></p>
<h2 id="_idParaDest-33"><a id="_idTextAnchor052"/><span class="koboSpan" id="kobo.470.1">Debugging beyond Python</span></h2>
<p><span class="koboSpan" id="kobo.471.1">Eliminating code issues doesn’t resolve all the issues that may exist in a machine learning model or a pipeline for data preparation and modeling. </span><span class="koboSpan" id="kobo.471.2">There could be issues that don’t result in any error message, such as problems that originate from data used for modeling, and differences between test data and production data (that is, data that the model needs to be used </span><span class="No-Break"><span class="koboSpan" id="kobo.472.1">for eventually).</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.473.1">Production versus development environments</span></p>
<p class="callout"><span class="koboSpan" id="kobo.474.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.475.1">development environment</span></strong><span class="koboSpan" id="kobo.476.1"> is where we develop our models, such </span><a id="_idIndexMarker086"/><span class="koboSpan" id="kobo.477.1">as our computers or cloud environments we use for development. </span><span class="koboSpan" id="kobo.477.2">It is where we develop our code, debug it, process data, train models, and validate them. </span><span class="koboSpan" id="kobo.477.3">But what we do in this stage doesn’t affect </span><span class="No-Break"><span class="koboSpan" id="kobo.478.1">users directly.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.479.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.480.1">production environment</span></strong><span class="koboSpan" id="kobo.481.1"> is where the model is ready to be used by end users or could</span><a id="_idIndexMarker087"/><span class="koboSpan" id="kobo.482.1"> affect them. </span><span class="koboSpan" id="kobo.482.2">For example, a model could get into production in the Amazon platform for recommending products, be delivered to other teams in a banking system for fraud detection, or eve</span><a id="_idTextAnchor053"/><span class="koboSpan" id="kobo.483.1">n be used in hospitals to help clinicians in diagnosing patients’ </span><span class="No-Break"><span class="koboSpan" id="kobo.484.1">conditions better.</span></span></p>
<h1 id="_idParaDest-34"><a id="_idTextAnchor054"/><span class="koboSpan" id="kobo.485.1">Flaws in data used for modeling</span></h1>
<p><span class="koboSpan" id="kobo.486.1">Data is one of the core components</span><a id="_idIndexMarker088"/><span class="koboSpan" id="kobo.487.1"> of machine learning modeling (</span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.488.1">Figure 1</span></em></span><em class="italic"><span class="koboSpan" id="kobo.489.1">.1</span></em><span class="koboSpan" id="kobo.490.1">). </span><span class="koboSpan" id="kobo.490.2">Applications of machine learning across different industries such as healthcare, finance, automotive, retail, and marketing are made possible by getting access to the necessary data for training and testing machine learning models. </span><span class="koboSpan" id="kobo.490.3">As the data gets fed into machine learning models for training (that is, identifying optimal model parameters) and testing, flaws</span><a id="_idIndexMarker089"/><span class="koboSpan" id="kobo.491.1"> in data could result in problems in models, such as low performance in training (for example, high bias), low generalizability (for example high variance), or socioeconomic biases. </span><span class="koboSpan" id="kobo.491.2">Here, we will discuss examples of flaws and p</span><a id="_idTextAnchor055"/><span class="koboSpan" id="kobo.492.1">roperties of data that need to be considered when designing a machine </span><span class="No-Break"><span class="koboSpan" id="kobo.493.1">learning model.</span></span></p>
<h2 id="_idParaDest-35"><a id="_idTextAnchor056"/><span class="koboSpan" id="kobo.494.1">Data format and structure</span></h2>
<p><span class="koboSpan" id="kobo.495.1">There could be issues</span><a id="_idIndexMarker090"/><span class="koboSpan" id="kobo.496.1"> with how data is stored, read, and moved through different functions and classes in your code or pipeline. </span><span class="koboSpan" id="kobo.496.2">You might need to work with structured or tabular data or unstructured data such as videos and text</span><a id="_idIndexMarker091"/><span class="koboSpan" id="kobo.497.1"> documents. </span><span class="koboSpan" id="kobo.497.2">This data</span><a id="_idIndexMarker092"/><span class="koboSpan" id="kobo.498.1"> could be stored in relational databases such as </span><strong class="bold"><span class="koboSpan" id="kobo.499.1">MySQL</span></strong><span class="koboSpan" id="kobo.500.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.501.1">NoSQL</span></strong><span class="koboSpan" id="kobo.502.1"> (that is, non-relational) databases, data warehouses, and data lakes, or even stored locally in different file formats, such as </span><strong class="bold"><span class="koboSpan" id="kobo.503.1">CSV</span></strong><span class="koboSpan" id="kobo.504.1">. </span><span class="koboSpan" id="kobo.504.2">Either way, the expected and existing file data</span><a id="_idIndexMarker093"/><span class="koboSpan" id="kobo.505.1"> structure and formats need to match. </span><span class="koboSpan" id="kobo.505.2">For example, if your code is expecting a tab-separated file format but instead the input file of the corresponding function is comma-separated, then all the columns could be lumped together. </span><span class="koboSpan" id="kobo.505.3">Luckily, most of the time, these kinds of issues result in errors in </span><span class="No-Break"><span class="koboSpan" id="kobo.506.1">the code.</span></span></p>
<p><span class="koboSpan" id="kobo.507.1">There could also be mismatches in the provided and expected data that wouldn’t cause any errors if the code is not defended against them and not enough information is logged. </span><span class="koboSpan" id="kobo.507.2">For example, imagine a scikit-learn </span><strong class="source-inline"><span class="koboSpan" id="kobo.508.1">fit</span></strong><span class="koboSpan" id="kobo.509.1"> function that expects training data with 100 features and at the same time, you have 100 data points. </span><span class="koboSpan" id="kobo.509.2">In this case, your code will not return any errors if features are in rows or columns of an input DataFrame. </span><span class="koboSpan" id="kobo.509.3">Then, your code needs to check if each row of an input DataFrame contains values of one feature across all data points or the feature values of one data point. </span><span class="koboSpan" id="kobo.509.4">The following figure shows how switching features with data points, such as transposing a DataFrame that switches rows with columns, could provide wrong input files but result in no error. </span><span class="koboSpan" id="kobo.509.5">In this figure, we have considered four columns and rows for simplicity. </span><span class="koboSpan" id="kobo.509.6">Here, F and D are used as abbreviations for feature and data </span><span class="No-Break"><span class="koboSpan" id="kobo.510.1">point, respectively:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer017">
<span class="koboSpan" id="kobo.511.1"><img alt="Figure 1.4 – Simplified example showcasing how the transpose of a DataFrame can be used by mistake in a scikit-learn fit function that expects four features" src="image/B16369_01_04.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.512.1">Figure 1.4 – Simplified example showcasing how the transpose of a DataFrame can be used by mistake in a scikit-learn fit function that expects four features</span></p>
<p><span class="koboSpan" id="kobo.513.1">Data flaws are not restricted</span><a id="_idIndexMarker094"/><span class="koboSpan" id="kobo.514.1"> to structure and format issues. </span><span class="koboSpan" id="kobo.514.2">Some data characteristi</span><a id="_idTextAnchor057"/><span class="koboSpan" id="kobo.515.1">cs need to be considered when you’re trying to build and improve a machine </span><span class="No-Break"><span class="koboSpan" id="kobo.516.1">learning model.</span></span></p>
<h2 id="_idParaDest-36"><a id="_idTextAnchor058"/><span class="koboSpan" id="kobo.517.1">Data quantity and quality</span></h2>
<p><span class="koboSpan" id="kobo.518.1">Despite machine</span><a id="_idIndexMarker095"/><span class="koboSpan" id="kobo.519.1"> learning being a more than half-century-old concept, the rise of excitement around machine learning started in 2012. </span><span class="koboSpan" id="kobo.519.2">Although there were algorithmic advancements for image classification between 2010 and 2015, it was the availability of 1.2 million high-resolution images in the ImageNet LSVRC-2010 contest and the necessary computing power that played a crucial role in the development of the first high-performance image classification models, such as AlexNet (Krizhevsky et al., 2012) and VGG (Simonyan and </span><span class="No-Break"><span class="koboSpan" id="kobo.520.1">Zisserman, 2014).</span></span></p>
<p><span class="koboSpan" id="kobo.521.1">In addition to data quantity, the quality</span><a id="_idIndexMarker096"/><span class="koboSpan" id="kobo.522.1"> of the data also plays a very important role. </span><span class="koboSpan" id="kobo.522.2">In some applications, such as clinical cancer settings, a high quantity of high-quality data is not accessible. </span><span class="koboSpan" id="kobo.522.3">Benefitting from both quantity and quality could also become a tradeoff as we could have access to more data but with lower quality. </span><span class="koboSpan" id="kobo.522.4">We can choose to stick to high-quality data or low-quality ones or try to benefit from both high-quality and low-quality data if possible. </span><span class="koboSpan" id="kobo.522.5">Selecting th</span><a id="_idTextAnchor059"/><span class="koboSpan" id="kobo.523.1">e right approach is domain-specific and depends on the data and algorithm used </span><span class="No-Break"><span class="koboSpan" id="kobo.524.1">for modeling.</span></span></p>
<h2 id="_idParaDest-37"><a id="_idTextAnchor060"/><span class="koboSpan" id="kobo.525.1">Data biases</span></h2>
<p><span class="koboSpan" id="kobo.526.1">Machine learning models</span><a id="_idIndexMarker097"/><span class="koboSpan" id="kobo.527.1"> can have different kinds of biases, depending on the data we feed them. </span><strong class="bold"><span class="koboSpan" id="kobo.528.1">Correctional Offender Management Profiling for Alternative Sanctions</span></strong><span class="koboSpan" id="kobo.529.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.530.1">COMPAS</span></strong><span class="koboSpan" id="kobo.531.1">) is a famous example of machine learning models with reported biases. </span><span class="koboSpan" id="kobo.531.2">COMPAS</span><a id="_idIndexMarker098"/><span class="koboSpan" id="kobo.532.1"> is designed to estimate the likelihood of a defendant to re-offend based on their response to more than 100 survey questions. </span><span class="koboSpan" id="kobo.532.2">A summary of the responses to the questions results in a risk score, which includes questions such as whether one of the prisoner’s parents was ever in prison. </span><span class="koboSpan" id="kobo.532.3">Although the tool has been successful in many examples, when it has been wrong in terms of prediction, the results for white and black offenders were not the same. </span><span class="koboSpan" id="kobo.532.4">The developer company of COMPAS presented data that supports its algorithm’s findings. </span><span class="koboSpan" id="kobo.532.5">You can find articles and blog posts to read more about</span><a id="_idIndexMarker099"/><span class="koboSpan" id="kobo.533.1"> its current status and whether it is still used or still has biases </span><span class="No-Break"><span class="koboSpan" id="kobo.534.1">or not.</span></span></p>
<p><span class="koboSpan" id="kobo.535.1">These were some examples of issues in data and their consequences in the resulting m</span><a id="_idTextAnchor061"/><span class="koboSpan" id="kobo.536.1">achine learning models. </span><span class="koboSpan" id="kobo.536.2">But there are other problems in models that do not originate </span><span class="No-Break"><span class="koboSpan" id="kobo.537.1">from data.</span></span></p>
<h1 id="_idParaDest-38"><a id="_idTextAnchor062"/><span class="koboSpan" id="kobo.538.1">Model and prediction-centric debugging</span></h1>
<p><span class="koboSpan" id="kobo.539.1">The predictions of a model</span><a id="_idIndexMarker100"/><span class="koboSpan" id="kobo.540.1"> in the training, testing, and production stages could help us detect issues with the models and find opportunities to improve them. </span><span class="koboSpan" id="kobo.540.2">Here, we will briefly review some aspects of model- and prediction-centric model debugging. </span><span class="koboSpan" id="kobo.540.3">You can read more details about these problems and other considerations in achieving a reliable model, ho</span><a id="_idTextAnchor063"/><span class="koboSpan" id="kobo.541.1">w to identify the source of the issues, and how</span><a id="_idIndexMarker101"/><span class="koboSpan" id="kobo.542.1"> to resolve them in future chapters of </span><span class="No-Break"><span class="koboSpan" id="kobo.543.1">this book.</span></span></p>
<h2 id="_idParaDest-39"><a id="_idTextAnchor064"/><span class="koboSpan" id="kobo.544.1">Underfitting and overfitting</span></h2>
<p><span class="koboSpan" id="kobo.545.1">When we train a model, such as a supervised learning model, the goal is to have high performance not just in training but also in testing. </span><span class="koboSpan" id="kobo.545.2">When a model</span><a id="_idIndexMarker102"/><span class="koboSpan" id="kobo.546.1"> has low performance even in a training set, we need to deal with the issue of </span><strong class="bold"><span class="koboSpan" id="kobo.547.1">underfitting</span></strong><span class="koboSpan" id="kobo.548.1">. </span><span class="koboSpan" id="kobo.548.2">We can develop more complicated models, such as a random forest or deep learning model, instead of linear and logistic regression models. </span><span class="koboSpan" id="kobo.548.3">More complex models might result</span><a id="_idIndexMarker103"/><span class="koboSpan" id="kobo.549.1"> in lower underfitting, but they might cause </span><strong class="bold"><span class="koboSpan" id="kobo.550.1">overfitti</span><a id="_idTextAnchor065"/><span class="koboSpan" id="kobo.551.1">ng</span></strong><span class="koboSpan" id="kobo.552.1"> and result in lower generalizability of the prediction to test or production data (</span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.553.1">Figure 1</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.554.1">.5</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.555.1">):</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer018">
<span class="koboSpan" id="kobo.556.1"><img alt="Figure 1.5 – Schematic illustration of underfitting and overfitting" src="image/B16369_01_05.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.557.1">Figure 1.5 – Schematic illustration of underfitting and overfitting</span></p>
<p><span class="koboSpan" id="kobo.558.1">Algorithm and hyperparameter selection determine the level of complexity and the chance of underfitting or overfitting when training and testing a machine learning model. </span><span class="koboSpan" id="kobo.558.2">For example, by choosing a model that can learn nonlinear patterns instead of linear models, your model could have a higher chance of low underfitting as it could identify more complex patterns in training data. </span><span class="koboSpan" id="kobo.558.3">But at the same time, you could increase the chance of overfitting as some of the complex patterns in the training data might not be generalizable to the test data (</span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.559.1">Figure 1</span></em></span><em class="italic"><span class="koboSpan" id="kobo.560.1">.5</span></em><span class="koboSpan" id="kobo.561.1">). </span><span class="koboSpan" id="kobo.561.2">There are approaches to assess underfitting and overfitting</span><a id="_idIndexMarker104"/><span class="koboSpan" id="kobo.562.1"> that will help you develop a high-performance and generalizable</span><a id="_idIndexMarker105"/><span class="koboSpan" id="kobo.563.1"> model. </span><span class="koboSpan" id="kobo.563.2">We will discuss these in </span><span class="No-Break"><span class="koboSpan" id="kobo.564.1">future chapters.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.565.1">Model hyperparameters</span></p>
<p class="callout"><span class="koboSpan" id="kobo.566.1">Some parameters can affect the performance of a machine learning model that usually do not get optimized automatically in the training process. </span><span class="koboSpan" id="kobo.566.2">These are called hyperparameters. </span><span class="koboSpan" id="kobo.566.3">We will go through</span><a id="_idIndexMarker106"/><span class="koboSpan" id="kobo.567.1"> examples of such hyperparameters, such as the number of tree</span><a id="_idTextAnchor066"/><span class="koboSpan" id="kobo.568.1">s in a random forest model or the size of hidden layers in neural network models, in </span><span class="No-Break"><span class="koboSpan" id="kobo.569.1">future chapters.</span></span></p>
<h2 id="_idParaDest-40"><a id="_idTextAnchor067"/><span class="koboSpan" id="kobo.570.1">Inference in model testing and production</span></h2>
<p><span class="koboSpan" id="kobo.571.1">The eventual goal of machine learning</span><a id="_idIndexMarker107"/><span class="koboSpan" id="kobo.572.1"> modeling is to have a highly effective model in production. </span><span class="koboSpan" id="kobo.572.2">When we test</span><a id="_idIndexMarker108"/><span class="koboSpan" id="kobo.573.1"> the model, we are assessing its generalizability, but we cannot be sure about its performance on the data it has not seen. </span><span class="koboSpan" id="kobo.573.2">The data that’s used for training machine learning models could become out of date. </span><span class="koboSpan" id="kobo.573.3">For example, the changes in the trends of the clothing market could make predictions of a model for clothing </span><span class="No-Break"><span class="koboSpan" id="kobo.574.1">recommendation unreliable.</span></span></p>
<p><span class="koboSpan" id="kobo.575.1">There are different concepts in this topic, s</span><a id="_idTextAnchor068"/><span class="koboSpan" id="kobo.576.1">uch as data variance, data drift, and model drift, all of which we will cover in the next </span><span class="No-Break"><span class="koboSpan" id="kobo.577.1">few chapters.</span></span></p>
<h2 id="_idParaDest-41"><a id="_idTextAnchor069"/><span class="koboSpan" id="kobo.578.1">Data or hyperparameters for changing landscapes</span></h2>
<p><span class="koboSpan" id="kobo.579.1">When we train a machine learning</span><a id="_idIndexMarker109"/><span class="koboSpan" id="kobo.580.1"> model with specific training data</span><a id="_idIndexMarker110"/><span class="koboSpan" id="kobo.581.1"> and a set of hyperparameters, the values of model parameters get changed so that they’re as close to an optimum point as possible for a defined objective or loss function. </span><span class="koboSpan" id="kobo.581.2">The two other tools to achieve a better model are providing better data for training and selecting better hyperparameters. </span><span class="koboSpan" id="kobo.581.3">Each algorithm has a capacity for performance improvement. </span><span class="koboSpan" id="kobo.581.4">By playing with model hyperparameters alone, you cannot develop the best possible model. </span><span class="koboSpan" id="kobo.581.5">In the same way, by increasing the quality and quantity of your data and keeping your model hyperparameters the same, you could also not achieve the best performance possible. </span><span class="koboSpan" id="kobo.581.6">So, data and hyperparameters</span><a id="_idIndexMarker111"/><span class="koboSpan" id="kobo.582.1"> come hand in hand. </span><span class="koboSpan" id="kobo.582.2">Before</span><a id="_idIndexMarker112"/><span class="koboSpan" id="kobo.583.1"> you read the next chapters, remember that by spending more time and money on hyperparameter optimizatio</span><a id="_idTextAnchor070"/><span class="koboSpan" id="kobo.584.1">n alone, you cannot necessarily get a better model. </span><span class="koboSpan" id="kobo.584.2">We will look at this in more detail later in </span><span class="No-Break"><span class="koboSpan" id="kobo.585.1">this book.</span></span></p>
<h1 id="_idParaDest-42"><a id="_idTextAnchor071"/><span class="koboSpan" id="kobo.586.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.587.1">In this chapter, we reviewed important concepts and approaches for debugging in software development and their differences with machine learning model debugging. </span><span class="koboSpan" id="kobo.587.2">You learned that debugging in machine learning modeling is beyond software debugging and how data and algorithms, in addition to code, could cause flawed or low-performance models and unreliable predictions. </span><span class="koboSpan" id="kobo.587.3">You can benefit from these understandings and the tools and techniques you will learn about throughout this book to develop reliable machine </span><span class="No-Break"><span class="koboSpan" id="kobo.588.1">learning models.</span></span></p>
<p><span class="koboSpan" id="kobo.589.1">In the next chapter, you will learn about the different components of the machine learning life cycle. </span><span class="koboSpan" id="kobo.589.2">You will also learn how modularizing machine learning modeling with these compo</span><a id="_idTextAnchor072"/><span class="koboSpan" id="kobo.590.1">nents helps us in identifying opportunities for improving our models before and after training </span><span class="No-Break"><span class="koboSpan" id="kobo.591.1">and testing.</span></span></p>
<h1 id="_idParaDest-43"><a id="_idTextAnchor073"/><span class="koboSpan" id="kobo.592.1">Questions</span></h1>
<ol>
<li><span class="koboSpan" id="kobo.593.1">Could your code have unintended indentation but not return any </span><span class="No-Break"><span class="koboSpan" id="kobo.594.1">error message?</span></span></li>
<li><span class="koboSpan" id="kobo.595.1">What is the difference between </span><strong class="source-inline"><span class="koboSpan" id="kobo.596.1">AttributeError</span></strong><span class="koboSpan" id="kobo.597.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.598.1">NameError</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.599.1">in Python?</span></span></li>
<li><span class="koboSpan" id="kobo.600.1">How does data dimensionality affect </span><span class="No-Break"><span class="koboSpan" id="kobo.601.1">model performance?</span></span></li>
<li><span class="koboSpan" id="kobo.602.1">What information do </span><em class="italic"><span class="koboSpan" id="kobo.603.1">traceback</span></em><span class="koboSpan" id="kobo.604.1"> messages in Python provide you about the errors in </span><span class="No-Break"><span class="koboSpan" id="kobo.605.1">your code?</span></span></li>
<li><span class="koboSpan" id="kobo.606.1">Could you explain two best practices for high-quality </span><span class="No-Break"><span class="koboSpan" id="kobo.607.1">Python programming?</span></span></li>
<li><span class="koboSpan" id="kobo.608.1">Could you explain why you might have features or data points with different levels </span><span class="No-Break"><span class="koboSpan" id="kobo.609.1">of confidence?</span></span></li>
<li><span class="koboSpan" id="kobo.610.1">Could you provide suggestions on how to reduce underfitting or overfitting when building a model for a </span><span class="No-Break"><span class="koboSpan" id="kobo.611.1">given dataset?</span></span></li>
<li><span class="koboSpan" id="kobo.612.1">Could we have a model with significantly lower performance in production </span><span class="No-Break"><span class="koboSpan" id="kobo.613.1">than</span></span><span class="No-Break"><span class="koboSpan" id="kobo.614.1"> testing?</span></span></li>
<li><span class="koboSpan" id="kobo.615.1">Is it a good idea to</span><a id="_idTextAnchor074"/><span class="koboSpan" id="kobo.616.1"> focus on hyperparameter optimization when we can also improve the quality or quantity of the </span><span class="No-Break"><span class="koboSpan" id="kobo.617.1">training data?</span></span></li>
</ol>
<h1 id="_idParaDest-44"><a id="_idTextAnchor075"/><span class="koboSpan" id="kobo.618.1">References</span></h1>
<ul>
<li><span class="koboSpan" id="kobo.619.1">Widyasari, Ratnadira, et al. </span><em class="italic"><span class="koboSpan" id="kobo.620.1">BugsInPy: A database of existing bugs in Python programs to enable controlled testing and debugging studies.</span></em><span class="koboSpan" id="kobo.621.1"> Proceedings of the 28th ACM joint meeting on European software engineering conference and symposium on the foundations of software </span><span class="No-Break"><span class="koboSpan" id="kobo.622.1">engineering. </span><span class="koboSpan" id="kobo.622.2">2020.</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.623.1">The Art of Software Testing, Second Edition</span></em><span class="koboSpan" id="kobo.624.1">, by Glenford J. </span><span class="koboSpan" id="kobo.624.2">Myers, Corey Sandler, Tom Badgett, Todd </span><span class="No-Break"><span class="koboSpan" id="kobo.625.1">M. </span><span class="koboSpan" id="kobo.625.2">Thomas.</span></span></li>
<li><span class="koboSpan" id="kobo.626.1">Krizhevsky, Alex, Ilya Sutskever, and Geoffrey E. </span><span class="koboSpan" id="kobo.626.2">Hinton. </span><em class="italic"><span class="koboSpan" id="kobo.627.1">Imagenet classification with deep convolutional neural networks</span></em><span class="koboSpan" id="kobo.628.1">. </span><span class="koboSpan" id="kobo.628.2">Advances in neural information processing systems 25 (2012). </span></li>
<li><span class="koboSpan" id="kobo.629.1">Simonyan, Karen, and Andrew Zisserman. </span><span class="koboSpan" id="kobo.629.2">“Very deep convolutional networks for large-scale image recognition.” </span><span class="koboSpan" id="kobo.629.3">arXiv preprint arXiv:1409.1556 (</span><span class="No-Break"><span class="koboSpan" id="kobo.630.1">2014). </span></span><a href="https://arxiv.org/abs/1409.1556"><span class="No-Break"><span class="koboSpan" id="kobo.631.1">https://arxiv.org/abs/1409.1556</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.632.1">.</span></span></li>
</ul>
</div>
</body></html>