<html><head></head><body>
<div id="_idContainer238">
<h1 class="chapter-number" id="_idParaDest-176"><a id="_idTextAnchor189"/><span class="koboSpan" id="kobo.1.1">9</span></h1>
<h1 id="_idParaDest-177"><a id="_idTextAnchor190"/><span class="koboSpan" id="kobo.2.1"> Logging, Monitoring, and Threat Detection</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Following best practices is not enough. </span><span class="koboSpan" id="kobo.3.2">The threat landscape changes every day and adversaries find new ways to gain access to our resources. </span><span class="koboSpan" id="kobo.3.3">Monitoring the safeguards we have put in place is vital to maintaining our security posture. </span><span class="koboSpan" id="kobo.3.4">In this chapter, we will see how to monitor our resources and see how effective our security measures are in preventing and detecting threats. </span><span class="koboSpan" id="kobo.3.5">We will learn how Azure Monitor works and how to configure logging, retention, and notifications. </span><span class="koboSpan" id="kobo.3.6">Finally, we will explore some features of Defender for Cloud and Microsoft Sentinel that can further help us protect our resources and mitigate threats even in </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">real time.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">In this chapter, we’re going to cover the following </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">main topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.7.1">Enabling logging and configuring data retention for </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">Azure services</span></span></li>
<li><span class="koboSpan" id="kobo.9.1">Securing resources with </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">Microsoft Defender</span></span></li>
<li><span class="koboSpan" id="kobo.11.1">Exploring threat management </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">with Sentinel</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.13.1">By the end of this chapter, we will be able to set up alerts, create analytics queries, improve our organization’s security posture, and see what the next steps are in skilling up to mitigate threats in </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">real time.</span></span></p>
<h1 id="_idParaDest-178"><a id="_idTextAnchor191"/><span class="koboSpan" id="kobo.15.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.16.1">Although this chapter deals mostly with monitoring and logging, knowing the </span><strong class="bold"><span class="koboSpan" id="kobo.17.1">Kusto Query Language</span></strong><span class="koboSpan" id="kobo.18.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.19.1">KQL</span></strong><span class="koboSpan" id="kobo.20.1">) might come in handy when </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">implementing solutions.</span></span></p>
<p><span class="koboSpan" id="kobo.22.1">KQL is a query language used </span><a id="_idIndexMarker716"/><span class="koboSpan" id="kobo.23.1">to query, analyze, and visualize large datasets stored in Azure Data Explorer, Azure Monitor, Microsoft Sentinel, and Application Insights. </span><span class="koboSpan" id="kobo.23.2">KQL is a powerful language that allows you to perform various operations on your data, including filtering, aggregating, joining, and </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">visualizing it.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.25.1">KQL learning resources</span></p>
<p class="callout"><span class="koboSpan" id="kobo.26.1">Some resources to learn KQL can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">here: </span></span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">https://learn.microsoft.com/en-us/azure/data-explorer/kql-learning-resources</span></span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">.</span></span></p>
<h1 id="_idParaDest-179"><a id="_idTextAnchor192"/><span class="koboSpan" id="kobo.30.1">Enabling logging and configuring data retention for Azure services</span></h1>
<p><span class="koboSpan" id="kobo.31.1">As soon as we create</span><a id="_idIndexMarker717"/><span class="koboSpan" id="kobo.32.1"> an Azure subscription, we get full monitoring capabilities with the </span><strong class="bold"><span class="koboSpan" id="kobo.33.1">Azure Monitor</span></strong><span class="koboSpan" id="kobo.34.1"> service. </span><span class="koboSpan" id="kobo.34.2">This is a service where we do not need to enable or do any action, it is automatically available for our subscriptions. </span><span class="koboSpan" id="kobo.34.3">Although it provides us with full stack monitoring and advanced analytics, there are different things we can do with services that work on top of Azure Monitor. </span><span class="koboSpan" id="kobo.34.4">Azure Monitor </span><a id="_idIndexMarker718"/><span class="koboSpan" id="kobo.35.1">can monitor and combine data in Azure, on-premises, and </span><span class="No-Break"><span class="koboSpan" id="kobo.36.1">other clouds.</span></span></p>
<p><span class="koboSpan" id="kobo.37.1">You can access the Azure Monitor service by searching for </span><strong class="source-inline"><span class="koboSpan" id="kobo.38.1">monitor</span></strong><span class="koboSpan" id="kobo.39.1"> on the search bar and clicking on the resource. </span><span class="koboSpan" id="kobo.39.2">In this blade, you will see all Monitor has </span><span class="No-Break"><span class="koboSpan" id="kobo.40.1">to offer:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer200">
<span class="koboSpan" id="kobo.41.1"><img alt="Figure 9.1 – An Azure Monitor overview" src="image/B21076_09_1.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.42.1">Figure 9.1 – An Azure Monitor overview</span></p>
<p><span class="koboSpan" id="kobo.43.1">Let us see the key components of </span><span class="No-Break"><span class="koboSpan" id="kobo.44.1">Azure Monitor.</span></span></p>
<h2 id="_idParaDest-180"><a id="_idTextAnchor193"/><span class="koboSpan" id="kobo.45.1">Working with Azure Monitor</span></h2>
<p><span class="koboSpan" id="kobo.46.1">There are</span><a id="_idIndexMarker719"/><span class="koboSpan" id="kobo.47.1"> two types of data Monitor gathers, </span><strong class="bold"><span class="koboSpan" id="kobo.48.1">metrics</span></strong><span class="koboSpan" id="kobo.49.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.50.1">logs</span></strong><span class="koboSpan" id="kobo.51.1">. </span><span class="koboSpan" id="kobo.51.2">Metrics </span><a id="_idIndexMarker720"/><span class="koboSpan" id="kobo.52.1">are numerical values that represent various aspects of the </span><a id="_idIndexMarker721"/><span class="koboSpan" id="kobo.53.1">performance and health of Azure resources at a specific point in time. </span><span class="koboSpan" id="kobo.53.2">These metrics provide real-time data about how a resource is functioning and can be used to monitor and troubleshoot applications and infrastructure in Azure. </span><span class="koboSpan" id="kobo.53.3">Azure Monitor collects a wide range of metrics, including performance indicators such as CPU usage, memory usage, network traffic, and disk activity. </span><span class="koboSpan" id="kobo.53.4">These metrics are specific to different types of resources, such as virtual machines, databases, and </span><span class="No-Break"><span class="koboSpan" id="kobo.54.1">web apps.</span></span></p>
<p><span class="koboSpan" id="kobo.55.1">Metrics in Azure Monitor are collected at different time frames, depending on the type of resource. </span><span class="koboSpan" id="kobo.55.2">For example, some metrics might be collected every minute, while others might be collected every hour. </span><span class="koboSpan" id="kobo.55.3">Metrics collected by Azure Monitor metrics are also used in Azure autoscale to automatically adjust the number of resources in a resource group, based on demand. </span><span class="koboSpan" id="kobo.55.4">Data is retained in the service for 90 days. </span><span class="koboSpan" id="kobo.55.5">For longer retention, there are other services such as </span><em class="italic"><span class="koboSpan" id="kobo.56.1">Log Analytics</span></em><span class="koboSpan" id="kobo.57.1"> or infinite retention in a </span><em class="italic"><span class="koboSpan" id="kobo.58.1">Storage account</span></em><span class="koboSpan" id="kobo.59.1"> using the </span><span class="No-Break"><span class="koboSpan" id="kobo.60.1">Azure APIs.</span></span></p>
<p><span class="koboSpan" id="kobo.61.1">In the following screenshot, we can see how metrics are visualized </span><span class="No-Break"><span class="koboSpan" id="kobo.62.1">in graphs:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer201">
<span class="koboSpan" id="kobo.63.1"><img alt="Figure 9.2 – Azure Monitor metrics" src="image/B21076_09_2.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.64.1">Figure 9.2 – Azure Monitor metrics</span></p>
<p><span class="koboSpan" id="kobo.65.1">These graphs</span><a id="_idIndexMarker722"/><span class="koboSpan" id="kobo.66.1"> can be filtered and modified to show different metrics, can be used to generate alerts, and can be saved and added to </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">Azure dashboards.</span></span></p>
<p><span class="koboSpan" id="kobo.68.1">Azure Monitor</span><a id="_idIndexMarker723"/><span class="koboSpan" id="kobo.69.1"> also collects logs. </span><span class="koboSpan" id="kobo.69.2">Logs are records of events from various sources across your Azure subscriptions and tenants. </span><span class="koboSpan" id="kobo.69.3">Logs can be collected from a wide variety of sources, including Azure resources, guest operating systems, databases, security events, networking event applications, and custom logs from external sources that use APIs to </span><span class="No-Break"><span class="koboSpan" id="kobo.70.1">import data.</span></span></p>
<p><span class="koboSpan" id="kobo.71.1">Logs</span><a id="_idIndexMarker724"/><span class="koboSpan" id="kobo.72.1"> and metrics work together in Azure Monitor. </span><span class="koboSpan" id="kobo.72.2">You can correlate metrics data with log data to gain a comprehensive view of the health and performance of your resources. </span><span class="koboSpan" id="kobo.72.3">We can view individual logs for each resource by going to the </span><strong class="bold"><span class="koboSpan" id="kobo.73.1">Resource</span></strong><span class="koboSpan" id="kobo.74.1"> blade and clicking on </span><strong class="bold"><span class="koboSpan" id="kobo.75.1">Activity log</span></strong><span class="koboSpan" id="kobo.76.1">, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.77.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer202">
<span class="koboSpan" id="kobo.78.1"><img alt="Figure 9.3 – Azure Monitor logs" src="image/B21076_09_3.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.79.1">Figure 9.3 – Azure Monitor logs</span></p>
<p><span class="koboSpan" id="kobo.80.1">The activity log is also available from the Monitor main page or the top bar in the Azure portal by clicking the bell icon. </span><span class="koboSpan" id="kobo.80.2">You can get metrics and logs via the Rest API and </span><span class="No-Break"><span class="koboSpan" id="kobo.81.1">command-line tools.</span></span></p>
<p><span class="koboSpan" id="kobo.82.1">Monitor also has built-in RBAC roles when interacting with monitoring or </span><strong class="bold"><span class="koboSpan" id="kobo.83.1">Log Analytics</span></strong><span class="koboSpan" id="kobo.84.1"> data. </span><span class="koboSpan" id="kobo.84.2">Take a look at the following screenshot of the table to see what these roles </span><span class="No-Break"><span class="koboSpan" id="kobo.85.1">can do:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer203">
<span class="koboSpan" id="kobo.86.1"><img alt="Figure 9.4 – Azure Monitor RBAC" src="image/B21076_09_4.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.87.1">Figure 9.4 – Azure Monitor RBAC</span></p>
<p><span class="koboSpan" id="kobo.88.1">Moving forward, </span><a id="_idIndexMarker725"/><span class="koboSpan" id="kobo.89.1">let us see how we can query and gain insights from the logs using </span><span class="No-Break"><span class="koboSpan" id="kobo.90.1">Log Analytics.</span></span></p>
<h3><span class="koboSpan" id="kobo.91.1">Setting up Log Analytics</span></h3>
<p><span class="koboSpan" id="kobo.92.1">Azure Monitor</span><a id="_idIndexMarker726"/><span class="koboSpan" id="kobo.93.1"> holds data for 90 days as we saw previously. </span><span class="koboSpan" id="kobo.93.2">If we need to hold data for a longer time period, we can use Log Analytics. </span><span class="koboSpan" id="kobo.93.3">It is a powerful tool that helps us collect data from multiple sources and save it in one or more workspaces, which act as containers for our logs. </span><span class="koboSpan" id="kobo.93.4">They provide a scope for queries, views, and other configurations. </span><span class="koboSpan" id="kobo.93.5">We can have multiple workspaces to organize and manage log data from different sources. </span><span class="koboSpan" id="kobo.93.6">These queries can be visualized, exported, and saved for continuous monitoring. </span><span class="koboSpan" id="kobo.93.7">Azure Monitor Logs uses KQL to query and analyze log data. </span><span class="koboSpan" id="kobo.93.8">KQL is a powerful, SQL-like language specifically designed to query large datasets efficiently. </span><span class="koboSpan" id="kobo.93.9">It allows us to perform complex searches and analytics on </span><span class="No-Break"><span class="koboSpan" id="kobo.94.1">our logs.</span></span></p>
<p><span class="koboSpan" id="kobo.95.1">To start collecting logs, we need to create a Log Analytics workspace. </span><span class="koboSpan" id="kobo.95.2">Search for </span><strong class="source-inline"><span class="koboSpan" id="kobo.96.1">Log Analytics workspaces</span></strong><span class="koboSpan" id="kobo.97.1"> and then click on </span><strong class="bold"><span class="koboSpan" id="kobo.98.1">+ Create</span></strong><span class="koboSpan" id="kobo.99.1"> to create a new workspace, as </span><span class="No-Break"><span class="koboSpan" id="kobo.100.1">shown here:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer204">
<span class="koboSpan" id="kobo.101.1"><img alt="Figure 9.5 – Azure Log Analytics workspaces" src="image/B21076_09_5.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.102.1">Figure 9.5 – Azure Log Analytics workspaces</span></p>
<p><span class="koboSpan" id="kobo.103.1">On the creation </span><a id="_idIndexMarker727"/><span class="koboSpan" id="kobo.104.1">form, fill in the name and the rest of the required information, and then click the </span><strong class="bold"><span class="koboSpan" id="kobo.105.1">Review + Create</span></strong><span class="koboSpan" id="kobo.106.1"> button to deploy </span><span class="No-Break"><span class="koboSpan" id="kobo.107.1">the resource.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer205">
<span class="koboSpan" id="kobo.108.1"><img alt="Figure 9.6 – Create Log Analytics workspace" src="image/B21076_09_6.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.109.1">Figure 9.6 – Create Log Analytics workspace</span></p>
<p><span class="koboSpan" id="kobo.110.1">Now that </span><a id="_idIndexMarker728"/><span class="koboSpan" id="kobo.111.1">we have a Log Analytics workspace, all we need is some data. </span><span class="koboSpan" id="kobo.111.2">In the next section, let us see how to enable diagnostics settings for our Azure Machine Learning resource and send them to </span><span class="No-Break"><span class="koboSpan" id="kobo.112.1">the workspace.</span></span></p>
<h2 id="_idParaDest-181"><a id="_idTextAnchor194"/><span class="koboSpan" id="kobo.113.1">Enabling diagnostic settings</span></h2>
<p><span class="koboSpan" id="kobo.114.1">Azure diagnostic</span><a id="_idIndexMarker729"/><span class="koboSpan" id="kobo.115.1"> settings allow us to collect and route diagnostic data from various Azure resources to different destinations for analysis, monitoring, and compliance. </span><span class="koboSpan" id="kobo.115.2">This feature helps you gain insights into the performance and operational health of our resources and provides us with filtering and bigger retention, depending on what the destination is. </span><span class="koboSpan" id="kobo.115.3">Common destinations include an Azure </span><strong class="bold"><span class="koboSpan" id="kobo.116.1">Storage account</span></strong><span class="koboSpan" id="kobo.117.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.118.1">Log</span></strong><strong class="bold"> </strong><strong class="bold"><span class="koboSpan" id="kobo.119.1">Analytics workspace</span></strong><span class="koboSpan" id="kobo.120.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.121.1">Event Hubs</span></strong><span class="koboSpan" id="kobo.122.1">. </span><span class="koboSpan" id="kobo.122.2">We can send </span><a id="_idIndexMarker730"/><span class="koboSpan" id="kobo.123.1">data to multiple destinations simultaneously. </span><span class="koboSpan" id="kobo.123.2">For example, we can send data to both, a </span><a id="_idIndexMarker731"/><span class="koboSpan" id="kobo.124.1">Log Analytics workspace and </span><a id="_idIndexMarker732"/><span class="koboSpan" id="kobo.125.1">an Azure Storage account, for redundancy or different types </span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">of analysis.</span></span></p>
<p><span class="koboSpan" id="kobo.127.1">Let us enable </span><strong class="bold"><span class="koboSpan" id="kobo.128.1">Diagnostic settings</span></strong><span class="koboSpan" id="kobo.129.1"> on our Azure Machine </span><span class="No-Break"><span class="koboSpan" id="kobo.130.1">Learning resource.</span></span></p>
<p><span class="koboSpan" id="kobo.131.1">To </span><a id="_idIndexMarker733"/><span class="koboSpan" id="kobo.132.1">start, open your Azure Machine Learning resource, select </span><strong class="bold"><span class="koboSpan" id="kobo.133.1">Diagnostic settings</span></strong><span class="koboSpan" id="kobo.134.1">, and click on </span><strong class="bold"><span class="koboSpan" id="kobo.135.1">Add diagnostic setting</span></strong><span class="koboSpan" id="kobo.136.1">, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.137.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer206">
<span class="koboSpan" id="kobo.138.1"><img alt="Figure 9.7 – Add diagnostic setting" src="image/B21076_09_7.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.139.1">Figure 9.7 – Add diagnostic setting</span></p>
<p><span class="koboSpan" id="kobo.140.1">Select the log categories you are interested in and click to choose the destination details. </span><span class="koboSpan" id="kobo.140.2">For this one, we will use the </span><strong class="bold"><span class="koboSpan" id="kobo.141.1">Log Analytics</span></strong><span class="koboSpan" id="kobo.142.1"> resource we created in the previous section. </span><span class="koboSpan" id="kobo.142.2">Check the </span><strong class="bold"><span class="koboSpan" id="kobo.143.1">Send to Log Analytics workspace</span></strong><span class="koboSpan" id="kobo.144.1"> checkbox and provide the required details, as shown in the following screenshot. </span><span class="koboSpan" id="kobo.144.2">Then, click </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">on </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.146.1">Save</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.147.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer207">
<span class="koboSpan" id="kobo.148.1"><img alt="Figure 9.8 – Selecting log categories and a destination" src="image/B21076_09_8.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.149.1">Figure 9.8 – Selecting log categories and a destination</span></p>
<p><span class="koboSpan" id="kobo.150.1">One of the </span><a id="_idIndexMarker734"/><span class="koboSpan" id="kobo.151.1">most important reasons we have to enable additional logs and more data is to get notifications when something is happening in our system. </span><span class="koboSpan" id="kobo.151.2">Let us review how to set up alerts in </span><span class="No-Break"><span class="koboSpan" id="kobo.152.1">Azure Monitor.</span></span></p>
<h2 id="_idParaDest-182"><a id="_idTextAnchor195"/><span class="koboSpan" id="kobo.153.1">Working with alerts</span></h2>
<p><span class="koboSpan" id="kobo.154.1">Alerts </span><a id="_idIndexMarker735"/><span class="koboSpan" id="kobo.155.1">help us to monitor and manage resources in Azure. </span><span class="koboSpan" id="kobo.155.2">We can use alerts and get notifications when certain conditions are met, which can help us proactively respond to issues or changes. </span><span class="koboSpan" id="kobo.155.3">There are a lot of components that go into creating and working with alerts, so let us see what </span><span class="No-Break"><span class="koboSpan" id="kobo.156.1">they are.</span></span></p>
<p><span class="koboSpan" id="kobo.157.1">We will start by going to </span><strong class="bold"><span class="koboSpan" id="kobo.158.1">Alerts</span></strong><span class="koboSpan" id="kobo.159.1"> under the </span><strong class="bold"><span class="koboSpan" id="kobo.160.1">Monitor</span></strong><span class="koboSpan" id="kobo.161.1"> blade. </span><span class="koboSpan" id="kobo.161.2">Here, we can see </span><strong class="bold"><span class="koboSpan" id="kobo.162.1">Alerts</span></strong><span class="koboSpan" id="kobo.163.1"> that have been fired by priority and create </span><span class="No-Break"><span class="koboSpan" id="kobo.164.1">new alerts:</span></span></p>
<p class="IMG---Figure"><span class="koboSpan" id="kobo.165.1"> n</span></p>
<div>
<div class="IMG---Figure" id="_idContainer208">
<span class="koboSpan" id="kobo.166.1"><img alt="Figure 9.9 – Monitor | Alerts" src="image/B21076_09_9.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.167.1">Figure 9.9 – Monitor | Alerts</span></p>
<p><span class="koboSpan" id="kobo.168.1">However, before</span><a id="_idIndexMarker736"/><span class="koboSpan" id="kobo.169.1"> we dive into </span><strong class="bold"><span class="koboSpan" id="kobo.170.1">Alerts</span></strong><span class="koboSpan" id="kobo.171.1"> creation, let us review </span><span class="No-Break"><span class="koboSpan" id="kobo.172.1">action groups.</span></span></p>
<h3><span class="koboSpan" id="kobo.173.1">Creating an action group</span></h3>
<p><span class="koboSpan" id="kobo.174.1">It is better</span><a id="_idIndexMarker737"/><span class="koboSpan" id="kobo.175.1"> to create an action group before we create an alert. </span><span class="koboSpan" id="kobo.175.2">Action groups define a set of notifications and actions to be taken when an alert is triggered. </span><span class="koboSpan" id="kobo.175.3">This can include sending emails and SMS messages, making HTTP requests, and triggering Azure functions. </span><span class="koboSpan" id="kobo.175.4">We can create am action group directly from the alert form, but it makes things simpler if it </span><span class="No-Break"><span class="koboSpan" id="kobo.176.1">already exists.</span></span></p>
<p><span class="koboSpan" id="kobo.177.1">Click on </span><strong class="bold"><span class="koboSpan" id="kobo.178.1">Create</span></strong><span class="koboSpan" id="kobo.179.1">, and from the dropdown, choose </span><strong class="bold"><span class="koboSpan" id="kobo.180.1">Action group</span></strong><span class="koboSpan" id="kobo.181.1">. </span><span class="koboSpan" id="kobo.181.2">This will take you to the </span><strong class="bold"><span class="koboSpan" id="kobo.182.1">Create action group</span></strong><span class="koboSpan" id="kobo.183.1"> form. </span><span class="koboSpan" id="kobo.183.2">Fill in some basic details, as shown in the following screenshot, and </span><span class="No-Break"><span class="koboSpan" id="kobo.184.1">click </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.185.1">Next</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.186.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer209">
<span class="koboSpan" id="kobo.187.1"><img alt="Figure 9.10 – The Create action group basic details" src="image/B21076_09_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.188.1">Figure 9.10 – The Create action group basic details</span></p>
<p><span class="koboSpan" id="kobo.189.1">Next, in</span><a id="_idIndexMarker738"/><span class="koboSpan" id="kobo.190.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.191.1">Notifications</span></strong><span class="koboSpan" id="kobo.192.1"> tab, there are two types of notifications we can create – email to a specific role or email/send an SMS to a specific account/number. </span><span class="koboSpan" id="kobo.192.2">We will configure both options here. </span><span class="koboSpan" id="kobo.192.3">Choose </span><strong class="bold"><span class="koboSpan" id="kobo.193.1">Email Azure Resource Manager Role</span></strong><span class="koboSpan" id="kobo.194.1"> on the dropdown to reveal the menu on the right. </span><span class="koboSpan" id="kobo.194.2">Choose </span><strong class="bold"><span class="koboSpan" id="kobo.195.1">Owner</span></strong><span class="koboSpan" id="kobo.196.1"> as the role, and click </span><strong class="bold"><span class="koboSpan" id="kobo.197.1">OK</span></strong><span class="koboSpan" id="kobo.198.1">. </span><span class="koboSpan" id="kobo.198.2">There are other options for the role to be notified, including </span><strong class="bold"><span class="koboSpan" id="kobo.199.1">Contributor</span></strong><span class="koboSpan" id="kobo.200.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.201.1">Reader</span></strong><span class="koboSpan" id="kobo.202.1">. </span><span class="koboSpan" id="kobo.202.2">On this screen, you also need to provide </span><span class="No-Break"><span class="koboSpan" id="kobo.203.1">a name:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer210">
<span class="koboSpan" id="kobo.204.1"><img alt="Figure 9.11 – Creating a role notification" src="image/B21076_09_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.205.1">Figure 9.11 – Creating a role notification</span></p>
<p><span class="koboSpan" id="kobo.206.1">On the next row, choose the second option of the </span><strong class="bold"><span class="koboSpan" id="kobo.207.1">Email/SMS message/Push/Voice</span></strong><span class="koboSpan" id="kobo.208.1"> dropdown to reveal the menu on the right. </span><span class="koboSpan" id="kobo.208.2">Here, the easiest way to get notifications is to provide an email or send a push notification to the Azure mobile app; however, there are more options available that might incur extra charges, such as </span><strong class="bold"><span class="koboSpan" id="kobo.209.1">SMS</span></strong><span class="koboSpan" id="kobo.210.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.211.1">Voice</span></strong><span class="koboSpan" id="kobo.212.1">. </span><span class="koboSpan" id="kobo.212.2">Check the desired option and provide the necessary details. </span><span class="koboSpan" id="kobo.212.3">For example, in the </span><strong class="bold"><span class="koboSpan" id="kobo.213.1">Email</span></strong><span class="koboSpan" id="kobo.214.1"> section, you have to provide an individual email as </span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">shown here:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer211">
<span class="koboSpan" id="kobo.216.1"><img alt="Figure 9.12 – Creating an email notification" src="image/B21076_09_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.217.1">Figure 9.12 – Creating an email notification</span></p>
<p><span class="koboSpan" id="kobo.218.1">If you need </span><a id="_idIndexMarker739"/><span class="koboSpan" id="kobo.219.1">more roles or more emails, you can always add more rows and configure them accordingly. </span><span class="koboSpan" id="kobo.219.2">This is how </span><span class="No-Break"><span class="koboSpan" id="kobo.220.1">it looks:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer212">
<span class="koboSpan" id="kobo.221.1"><img alt="Figure 9.13 – Multiple notifications enabled" src="image/B21076_09_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.222.1">Figure 9.13 – Multiple notifications enabled</span></p>
<p><span class="koboSpan" id="kobo.223.1">As soon as you are done, click </span><strong class="bold"><span class="koboSpan" id="kobo.224.1">Next</span></strong><span class="koboSpan" id="kobo.225.1"> to go to the next </span><span class="No-Break"><span class="koboSpan" id="kobo.226.1">tab, </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.227.1">Actions</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.228.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.229.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.230.1">Actions</span></strong><span class="koboSpan" id="kobo.231.1"> tab, we can set up actions. </span><span class="koboSpan" id="kobo.231.2">Actions are not required; however, it is another way </span><a id="_idIndexMarker740"/><span class="koboSpan" id="kobo.232.1">for doing both, sending a notification and triggering some other action in one step. </span><span class="koboSpan" id="kobo.232.2">Our options include the following, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.233.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer213">
<span class="koboSpan" id="kobo.234.1"><img alt="Figure 9.14 – Action types" src="image/B21076_09_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.235.1">Figure 9.14 – Action types</span></p>
<p><span class="koboSpan" id="kobo.236.1">We will not set anything, but let us review our options anyway. </span><span class="koboSpan" id="kobo.236.2">Some of these we have already seen in </span><a href="B21076_08.xhtml#_idTextAnchor176"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.237.1">Chapter 8</span></em></span></a><span class="No-Break"><span class="koboSpan" id="kobo.238.1">:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.239.1">Automation Runbook</span></strong><span class="koboSpan" id="kobo.240.1">: Runbooks are a way to automate tasks in Azure. </span><span class="koboSpan" id="kobo.240.2">They are built using PowerShell, Python, or a graphical workflow designer. </span><span class="koboSpan" id="kobo.240.3">They can perform a wide range of tasks, from simple scripts to complex workflows involving multiple </span><span class="No-Break"><span class="koboSpan" id="kobo.241.1">Azure services.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.242.1">Azure Function</span></strong><span class="koboSpan" id="kobo.243.1">: This is a serverless compute service that allows us to run event-triggered code without having to explicitly provision or </span><span class="No-Break"><span class="koboSpan" id="kobo.244.1">manage infrastructure.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.245.1">Event Hub</span></strong><span class="koboSpan" id="kobo.246.1">: This is designed to collect, process, and analyze large streams of events or data. </span><span class="koboSpan" id="kobo.246.2">An event hub can handle millions of events per second, making it a powerful tool to process high-throughput </span><span class="No-Break"><span class="koboSpan" id="kobo.247.1">data streams.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.248.1">ITSM</span></strong><span class="koboSpan" id="kobo.249.1">: This is a way to integrate Azure Monitor alerts with </span><strong class="bold"><span class="koboSpan" id="kobo.250.1">IT Service Management</span></strong><span class="koboSpan" id="kobo.251.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.252.1">ITSM</span></strong><span class="koboSpan" id="kobo.253.1">) tools </span><a id="_idIndexMarker741"/><span class="koboSpan" id="kobo.254.1">such as ServiceNow or System Center Service Manager. </span><span class="koboSpan" id="kobo.254.2">It allows you to automatically create incidents or tickets in your ITSM system</span><a id="_idIndexMarker742"/><span class="koboSpan" id="kobo.255.1"> when specific conditions in your alerts </span><span class="No-Break"><span class="koboSpan" id="kobo.256.1">are met.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.257.1">Logic App</span></strong><span class="koboSpan" id="kobo.258.1">: This is a cloud-based workflow automation platform that enables you to automate and integrate various tasks and business processes across different applications and services, using a visual designer </span><span class="No-Break"><span class="koboSpan" id="kobo.259.1">and connectors.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.260.1">Secure Webhook</span></strong><span class="koboSpan" id="kobo.261.1">/</span><strong class="bold"><span class="koboSpan" id="kobo.262.1">Webhook</span></strong><span class="koboSpan" id="kobo.263.1">: Another way for an application to provide other apps with real-time information is by using </span><span class="No-Break"><span class="koboSpan" id="kobo.264.1">a webhook.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.265.1">These are all our options under </span><strong class="bold"><span class="koboSpan" id="kobo.266.1">Actions</span></strong><span class="koboSpan" id="kobo.267.1">. </span><span class="koboSpan" id="kobo.267.2">Depending on the specific case, we might need multiple action groups, and as soon as we have them in place, we are ready to start creating </span><span class="No-Break"><span class="koboSpan" id="kobo.268.1">alert rules.</span></span></p>
<h3><span class="koboSpan" id="kobo.269.1">Creating alert rules</span></h3>
<p><span class="koboSpan" id="kobo.270.1">To create a</span><a id="_idIndexMarker743"/><span class="koboSpan" id="kobo.271.1"> new alert rule, click on </span><strong class="bold"><span class="koboSpan" id="kobo.272.1">Create</span></strong><span class="koboSpan" id="kobo.273.1">, and on the dropdown, choose </span><strong class="bold"><span class="koboSpan" id="kobo.274.1">Alert rules</span></strong><span class="koboSpan" id="kobo.275.1">. </span><span class="koboSpan" id="kobo.275.2">This will take us to the </span><strong class="bold"><span class="koboSpan" id="kobo.276.1">Create an alert </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.277.1">rule</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.278.1"> form:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer214">
<span class="koboSpan" id="kobo.279.1"><img alt="Figure 9.15 – The Alerts blade" src="image/B21076_09_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.280.1">Figure 9.15 – The Alerts blade</span></p>
<p><span class="koboSpan" id="kobo.281.1">The first</span><a id="_idIndexMarker744"/><span class="koboSpan" id="kobo.282.1"> step is to choose the scope of the rule. </span><span class="koboSpan" id="kobo.282.2">This can be a subscription, a resource, or a resource group. </span><span class="koboSpan" id="kobo.282.3">Here, we can choose the Azure Machine </span><span class="No-Break"><span class="koboSpan" id="kobo.283.1">Learning resource.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer215">
<span class="koboSpan" id="kobo.284.1"><img alt="Figure 9.16 – Selecting a scope" src="image/B21076_09_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.285.1">Figure 9.16 – Selecting a scope</span></p>
<p><span class="koboSpan" id="kobo.286.1">On the second tab, we can select </span><strong class="bold"><span class="koboSpan" id="kobo.287.1">Condition</span></strong><span class="koboSpan" id="kobo.288.1">. </span><span class="koboSpan" id="kobo.288.2">There are different types </span><span class="No-Break"><span class="koboSpan" id="kobo.289.1">of conditions:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.290.1">Based on metrics emitted by Azure resources</span></strong><span class="koboSpan" id="kobo.291.1">: For example, you can set an alert to trigger when CPU usage exceeds a </span><span class="No-Break"><span class="koboSpan" id="kobo.292.1">certain threshold</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.293.1">Based on operations performed on resources</span></strong><span class="koboSpan" id="kobo.294.1">: For instance, you can set an alert to trigger when a specific type of operation occurs, such as a virtual machine </span><span class="No-Break"><span class="koboSpan" id="kobo.295.1">being deleted</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.296.1">Based on log queries against data collected by Azure Monitor Logs</span></strong><span class="koboSpan" id="kobo.297.1">: You can create complex queries to define the conditions for </span><span class="No-Break"><span class="koboSpan" id="kobo.298.1">your alert</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.299.1">Here, go to the </span><strong class="bold"><span class="koboSpan" id="kobo.300.1">Select a signal</span></strong><span class="koboSpan" id="kobo.301.1"> dropdown, and select the </span><strong class="bold"><span class="koboSpan" id="kobo.302.1">All Administrative operations</span></strong><span class="koboSpan" id="kobo.303.1"> option. </span><span class="koboSpan" id="kobo.303.2">This</span><a id="_idIndexMarker745"/><span class="koboSpan" id="kobo.304.1"> will send an alert for any administrative change on the Azure Machine </span><span class="No-Break"><span class="koboSpan" id="kobo.305.1">Learning resource:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer216">
<span class="koboSpan" id="kobo.306.1"><img alt="Figure 9.17 – Select a signal" src="image/B21076_09_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.307.1">Figure 9.17 – Select a signal</span></p>
<p><span class="koboSpan" id="kobo.308.1">Depending on the signal, you might get more options, such as frequency, but here, we have only a few in terms of </span><strong class="bold"><span class="koboSpan" id="kobo.309.1">Alert logic</span></strong><span class="koboSpan" id="kobo.310.1">, as shown in the following screenshot. </span><span class="koboSpan" id="kobo.310.2">Leave the values as default and </span><span class="No-Break"><span class="koboSpan" id="kobo.311.1">click </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.312.1">Next</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer217">
<span class="koboSpan" id="kobo.314.1"><img alt="Figure 9.18 – Alert logic" src="image/B21076_09_18.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.315.1">Figure 9.18 – Alert logic</span></p>
<p><span class="koboSpan" id="kobo.316.1">On the </span><strong class="bold"><span class="koboSpan" id="kobo.317.1">Actions</span></strong><span class="koboSpan" id="kobo.318.1"> tab, choose the action group we created previously and </span><span class="No-Break"><span class="koboSpan" id="kobo.319.1">click </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.320.1">Next</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.321.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer218">
<span class="koboSpan" id="kobo.322.1"><img alt="Figure 9.19 – Select action groups" src="image/B21076_09_19.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.323.1">Figure 9.19 – Select action groups</span></p>
<p><span class="koboSpan" id="kobo.324.1">On the </span><strong class="bold"><span class="koboSpan" id="kobo.325.1">Details</span></strong><span class="koboSpan" id="kobo.326.1"> tab, we</span><a id="_idIndexMarker746"/><span class="koboSpan" id="kobo.327.1"> can fill in some basic details to ensure that we can recognize the alert in the list, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.328.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer219">
<span class="koboSpan" id="kobo.329.1"><img alt="Figure 9.20 – The alert name and description" src="image/B21076_09_20.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.330.1">Figure 9.20 – The alert name and description</span></p>
<p><span class="koboSpan" id="kobo.331.1">Now that we have completed the configuration, all we have to do is wait for the alert </span><span class="No-Break"><span class="koboSpan" id="kobo.332.1">to fire.</span></span></p>
<p><span class="koboSpan" id="kobo.333.1">Let us see in the following section how we can manage </span><span class="No-Break"><span class="koboSpan" id="kobo.334.1">multiple alerts.</span></span></p>
<h3><span class="koboSpan" id="kobo.335.1">Managing alerts</span></h3>
<p><span class="koboSpan" id="kobo.336.1">When events fire, you will get notified depending on how you have set up the action group. </span><span class="koboSpan" id="kobo.336.2">Another</span><a id="_idIndexMarker747"/><span class="koboSpan" id="kobo.337.1"> way to monitor alerts is from the </span><strong class="bold"><span class="koboSpan" id="kobo.338.1">Alerts</span></strong><span class="koboSpan" id="kobo.339.1"> menu in the </span><strong class="bold"><span class="koboSpan" id="kobo.340.1">Monitor</span></strong><span class="koboSpan" id="kobo.341.1"> blade, as shown in the following screenshot, where we can see an event firing. </span><span class="koboSpan" id="kobo.341.2">Alerts can be filtered by resource </span><span class="No-Break"><span class="koboSpan" id="kobo.342.1">or severity:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer220">
<span class="koboSpan" id="kobo.343.1"><img alt="Figure 9.21 – Alerts fired" src="image/B21076_09_21.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.344.1">Figure 9.21 – Alerts fired</span></p>
<p><span class="koboSpan" id="kobo.345.1">To ensure that not everyone works on the same alert, we can change the user response on this alert by clicking the three-dot menu on the right, switching from </span><strong class="bold"><span class="koboSpan" id="kobo.346.1">New</span></strong><span class="koboSpan" id="kobo.347.1"> to either </span><strong class="bold"><span class="koboSpan" id="kobo.348.1">Acknowledged</span></strong><span class="koboSpan" id="kobo.349.1"> or even </span><strong class="bold"><span class="koboSpan" id="kobo.350.1">Closed</span></strong><span class="koboSpan" id="kobo.351.1">, as </span><span class="No-Break"><span class="koboSpan" id="kobo.352.1">shown here:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer221">
<span class="koboSpan" id="kobo.353.1"><img alt="Figure 9.22 – Changing a user response" src="image/B21076_09_22.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.354.1">Figure 9.22 – Changing a user response</span></p>
<p><span class="koboSpan" id="kobo.355.1">Remember that Azure Monitor alerts are a critical part of maintaining the health and performance of your Azure resources. </span><span class="koboSpan" id="kobo.355.2">Properly configured alerts can help you stay proactive in</span><a id="_idIndexMarker748"/><span class="koboSpan" id="kobo.356.1"> managing your resources and responding to any issues promptly. </span><span class="koboSpan" id="kobo.356.2">Although throughout this chapter we will see more ways to monitor our resources, this is the fastest and simplest way to </span><span class="No-Break"><span class="koboSpan" id="kobo.357.1">get started.</span></span></p>
<p><span class="koboSpan" id="kobo.358.1">Now, let us see how to monitor our models and endpoints using </span><span class="No-Break"><span class="koboSpan" id="kobo.359.1">Application Insights.</span></span></p>
<h2 id="_idParaDest-183"><a id="_idTextAnchor196"/><span class="koboSpan" id="kobo.360.1">Working with Application Insights</span></h2>
<p><span class="koboSpan" id="kobo.361.1">When we</span><a id="_idIndexMarker749"/><span class="koboSpan" id="kobo.362.1"> created a workspace, one of the associated resources was </span><strong class="bold"><span class="koboSpan" id="kobo.363.1">Application Insights</span></strong><span class="koboSpan" id="kobo.364.1">. </span><span class="koboSpan" id="kobo.364.2">Application Insights works on top of Monitor and provides real-time monitoring of your applications. </span><span class="koboSpan" id="kobo.364.3">It tracks various metrics such as request rates, response times, failure rates, and dependencies. </span><span class="koboSpan" id="kobo.364.4">This helps you identify performance bottlenecks, errors, and exceptions. </span><span class="koboSpan" id="kobo.364.5">Applications Insights can help us troubleshoot ML endpoints deployed in </span><strong class="bold"><span class="koboSpan" id="kobo.365.1">Azure Kubernetes Service</span></strong><span class="koboSpan" id="kobo.366.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.367.1">AKS</span></strong><span class="koboSpan" id="kobo.368.1">) or </span><strong class="bold"><span class="koboSpan" id="kobo.369.1">Azure Container Instances</span></strong><span class="koboSpan" id="kobo.370.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.371.1">ACI</span></strong><span class="koboSpan" id="kobo.372.1">). </span><span class="koboSpan" id="kobo.372.2">Application Insights collects the </span><span class="No-Break"><span class="koboSpan" id="kobo.373.1">following information:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.374.1">Exceptions</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.375.1">Responses</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.376.1">Output data</span></span></li>
<li><span class="koboSpan" id="kobo.377.1">Request rates, response times, and </span><span class="No-Break"><span class="koboSpan" id="kobo.378.1">failure rates</span></span></li>
<li><span class="koboSpan" id="kobo.379.1">Dependency rates, response times, and </span><span class="No-Break"><span class="koboSpan" id="kobo.380.1">failure rates</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.381.1">Let us see how to enable Insights via the Azure Machine Learning Studio or </span><span class="No-Break"><span class="koboSpan" id="kobo.382.1">the SDK.</span></span></p>
<h3><span class="koboSpan" id="kobo.383.1">Configuring logging via the Studio and SDK</span></h3>
<p><span class="koboSpan" id="kobo.384.1">In </span><a href="B21076_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.385.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.386.1">, we</span><a id="_idIndexMarker750"/><span class="koboSpan" id="kobo.387.1"> deployed a model to an ACI endpoint. </span><span class="koboSpan" id="kobo.387.2">In the model deployment screen, all we have to do to enable Application Insights is to expand the </span><strong class="bold"><span class="koboSpan" id="kobo.388.1">Advanced</span></strong><span class="koboSpan" id="kobo.389.1"> dropdown and check the </span><strong class="bold"><span class="koboSpan" id="kobo.390.1">Enable Application Insights diagnostics and data collection</span></strong><span class="koboSpan" id="kobo.391.1"> checkbox, as </span><span class="No-Break"><span class="koboSpan" id="kobo.392.1">shown here:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer222">
<span class="koboSpan" id="kobo.393.1"><img alt="Figure 9.23 – Model deployment advanced settings" src="image/B21076_09_23.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.394.1">Figure 9.23 – Model deployment advanced settings</span></p>
<p><span class="koboSpan" id="kobo.395.1">Now, after </span><a id="_idIndexMarker751"/><span class="koboSpan" id="kobo.396.1">deployment, we will get insights regarding this endpoint. </span><span class="koboSpan" id="kobo.396.2">If you are already using the SDK, the process might be simpler. </span><span class="koboSpan" id="kobo.396.3">Depending on the service, all you need to do is set the </span><strong class="source-inline"><span class="koboSpan" id="kobo.397.1">enable_app_insights</span></strong><span class="koboSpan" id="kobo.398.1"> flag to </span><strong class="source-inline"><span class="koboSpan" id="kobo.399.1">true</span></strong><span class="koboSpan" id="kobo.400.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.401.1">false</span></strong><span class="koboSpan" id="kobo.402.1"> to enable or disable </span><span class="No-Break"><span class="koboSpan" id="kobo.403.1">logging, respectively.</span></span></p>
<p><span class="koboSpan" id="kobo.404.1">First, we need to get a reference to the web service and then update the flag, as shown in the following </span><span class="No-Break"><span class="koboSpan" id="kobo.405.1">code snippet:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.406.1">
From azureml.core.webservice import Webservice
# reference the web service
my_web_service= Webservice(workspace, "service-name")
# update the enable_app_insights flag
my_web_service update(enable_app_insights=True)</span></pre> <p><span class="koboSpan" id="kobo.407.1">Then, we can see the results in the </span><strong class="bold"><span class="koboSpan" id="kobo.408.1">Applications Insights</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.409.1">resource blade:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer223">
<span class="koboSpan" id="kobo.410.1"><img alt="Figure 9.24 – Application Insights" src="image/B21076_09_24.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.411.1">Figure 9.24 – Application Insights</span></p>
<p><span class="koboSpan" id="kobo.412.1">Here, besides </span><a id="_idIndexMarker752"/><span class="koboSpan" id="kobo.413.1">the logs and metrics available, we can integrate with DevOps, create a live metrics stream, and track users and sessions along with dependent apps and services. </span><span class="koboSpan" id="kobo.413.2">By clicking on </span><strong class="bold"><span class="koboSpan" id="kobo.414.1">Logs</span></strong><span class="koboSpan" id="kobo.415.1">, we can run log </span><span class="No-Break"><span class="koboSpan" id="kobo.416.1">analytics queries.</span></span></p>
<p><span class="koboSpan" id="kobo.417.1">Here is an example of a simple </span><span class="No-Break"><span class="koboSpan" id="kobo.418.1">KQL query:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.419.1">
requests
| where timestamp &gt; ago(24h) // Filter for requests in the last 24 hours
| where resultCode !startswith "2" // Filter for non-2xx status codes
| project timestamp, name, url, resultCode, operation_Id, duration, client_Type
| order by timestamp desc</span></pre> <p><span class="koboSpan" id="kobo.420.1">Let’s examine </span><span class="No-Break"><span class="koboSpan" id="kobo.421.1">the query:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.422.1">requests</span></strong><span class="koboSpan" id="kobo.423.1">: This is the table that contains information about all the HTTP requests made to </span><span class="No-Break"><span class="koboSpan" id="kobo.424.1">your application.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.425.1">where timestamp &gt; ago(24h)</span></strong><span class="koboSpan" id="kobo.426.1">: This line filters the requests to only include those that occurred in the last 24 hours. </span><span class="koboSpan" id="kobo.426.2">You can adjust the time frame </span><span class="No-Break"><span class="koboSpan" id="kobo.427.1">as needed.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.428.1">where resultCode !startswith "2"</span></strong><span class="koboSpan" id="kobo.429.1">: This line filters for requests where </span><strong class="source-inline"><span class="koboSpan" id="kobo.430.1">resultCode</span></strong><span class="koboSpan" id="kobo.431.1"> does not start with </span><strong class="source-inline"><span class="koboSpan" id="kobo.432.1">2</span></strong><span class="koboSpan" id="kobo.433.1">. </span><span class="koboSpan" id="kobo.433.2">This effectively filters for non-</span><strong class="source-inline"><span class="koboSpan" id="kobo.434.1">2xx</span></strong><span class="koboSpan" id="kobo.435.1"> status codes, which usually indicate </span><span class="No-Break"><span class="koboSpan" id="kobo.436.1">an error.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.437.1">project</span></strong><span class="koboSpan" id="kobo.438.1">: This selects specific columns to display in the result. </span><span class="koboSpan" id="kobo.438.2">You can adjust this to include more or fewer columns, depending on </span><span class="No-Break"><span class="koboSpan" id="kobo.439.1">your needs.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.440.1">order by timestamp desc</span></strong><span class="koboSpan" id="kobo.441.1">: This line orders results by timestamp in descending order so that you see the most recent </span><span class="No-Break"><span class="koboSpan" id="kobo.442.1">errors first.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.443.1">This query </span><a id="_idIndexMarker753"/><span class="koboSpan" id="kobo.444.1">will provide you with information about recent requests that resulted in errors, including details such as the timestamp, request name, URL, status code, operation ID, duration, and client type. </span><span class="koboSpan" id="kobo.444.2">Depending on what we need to monitor, we would need to change the query to the appropriate tables. </span><span class="koboSpan" id="kobo.444.3">On top of that, we can add our own custom exceptions to </span><span class="No-Break"><span class="koboSpan" id="kobo.445.1">the logs.</span></span></p>
<h3><span class="koboSpan" id="kobo.446.1">The Application Insights API for custom events and metrics</span></h3>
<p><span class="koboSpan" id="kobo.447.1">To ingest or </span><a id="_idIndexMarker754"/><span class="koboSpan" id="kobo.448.1">send data to the Applications Insight resource, make sure you familiarize yourselves with the available API and SDKs here: </span><a href="https://learn.microsoft.com/en-us/azure/azure-monitor/app/api-custom-events-metrics"><span class="koboSpan" id="kobo.449.1">https://learn.microsoft.com/en-us/azure/azure-monitor/app/api-custom-events-metrics</span></a><span class="koboSpan" id="kobo.450.1">. </span><span class="koboSpan" id="kobo.450.2">Application Insights also provides a dashboard to </span><span class="No-Break"><span class="koboSpan" id="kobo.451.1">monitor everything.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer224">
<span class="koboSpan" id="kobo.452.1"><img alt="Figure 9.25 – The Application Insights dashboard" src="image/B21076_09_25.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.453.1">Figure 9.25 – The Application Insights dashboard</span></p>
<p><span class="koboSpan" id="kobo.454.1">We can</span><a id="_idIndexMarker755"/><span class="koboSpan" id="kobo.455.1"> access this dashboard from the </span><strong class="bold"><span class="koboSpan" id="kobo.456.1">Overview</span></strong><span class="koboSpan" id="kobo.457.1"> blade of the Application Insights resource. </span><span class="koboSpan" id="kobo.457.2">All we need to do is click on </span><strong class="bold"><span class="koboSpan" id="kobo.458.1">Application Dashboard</span></strong><span class="koboSpan" id="kobo.459.1"> to open the dashboard view (as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.460.1">Figure 9</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.461.1">.24</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.462.1">).</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.463.1">Creating Azure dashboards</span></p>
<p class="callout"><span class="koboSpan" id="kobo.464.1">To learn more about the Application Insights dashboard, read this </span><span class="No-Break"><span class="koboSpan" id="kobo.465.1">documentation: </span></span><a href="https://learn.microsoft.com/en-us/azure/azure-monitor/app/overview-dashboard"><span class="No-Break"><span class="koboSpan" id="kobo.466.1">https://learn.microsoft.com/en-us/azure/azure-monitor/app/overview-dashboard</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.467.1">.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.468.1">To learn how to work with Azure dashboards in general, see </span><span class="No-Break"><span class="koboSpan" id="kobo.469.1">here: </span></span><a href="https://learn.microsoft.com/en-us/azure/azure-portal/azure-portal-dashboards"><span class="No-Break"><span class="koboSpan" id="kobo.470.1">https://learn.microsoft.com/en-us/azure/azure-portal/azure-portal-dashboards</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.471.1">.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.472.1">Dashboards can also be created programmatically by using templates. </span><span class="koboSpan" id="kobo.472.2">Find out more information in this </span><span class="No-Break"><span class="koboSpan" id="kobo.473.1">link: </span></span><a href="https://learn.microsoft.com/en-us/azure/azure-portal/azure-portal-dashboards-create-programmatically"><span class="No-Break"><span class="koboSpan" id="kobo.474.1">https://learn.microsoft.com/en-us/azure/azure-portal/azure-portal-dashboards-create-programmatically</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.475.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.476.1">Application Insights is designed to help developers monitor the performance and usage of their applications, identify and diagnose issues, and gain insights into how users interact with our applications. </span><span class="koboSpan" id="kobo.476.2">It is very useful in Azure Machine Learning, as it can monitor your endpoints, and by using the connection string, we can also gather logs from </span><span class="No-Break"><span class="koboSpan" id="kobo.477.1">our applications.</span></span></p>
<p><span class="koboSpan" id="kobo.478.1">Logs and metrics</span><a id="_idIndexMarker756"/><span class="koboSpan" id="kobo.479.1"> can be difficult to read, but in large datasets, it is easier to visualize them. </span><span class="koboSpan" id="kobo.479.2">Let us see some ways that we can visualize metrics and logs gathered from </span><span class="No-Break"><span class="koboSpan" id="kobo.480.1">Azure Monitor.</span></span></p>
<h2 id="_idParaDest-184"><a id="_idTextAnchor197"/><span class="koboSpan" id="kobo.481.1">Visualizing the data</span></h2>
<p><span class="koboSpan" id="kobo.482.1">To visualize </span><a id="_idIndexMarker757"/><span class="koboSpan" id="kobo.483.1">data from Azure Monitor, we have various tools and techniques. </span><span class="koboSpan" id="kobo.483.2">Let us see some of </span><span class="No-Break"><span class="koboSpan" id="kobo.484.1">those here.</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.485.1">Dashboards</span></strong><span class="koboSpan" id="kobo.486.1">: Azure dashboards</span><a id="_idIndexMarker758"/><span class="koboSpan" id="kobo.487.1"> allow us to combine multiple visualizations (such as charts, tables, and other widgets) in a single view. </span><span class="koboSpan" id="kobo.487.2">We can pin visualizations from Azure Monitor</span><a id="_idIndexMarker759"/><span class="koboSpan" id="kobo.488.1"> Logs to a dashboard for easy access and monitoring. </span><span class="koboSpan" id="kobo.488.2">Dashboards can also be set as the Azure portal start page so that we can see them </span><span class="No-Break"><span class="koboSpan" id="kobo.489.1">right away.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.490.1">Workbooks</span></strong><span class="koboSpan" id="kobo.491.1">: Azure Workbooks</span><a id="_idIndexMarker760"/><span class="koboSpan" id="kobo.492.1"> provides a flexible and customizable way to visualize </span><a id="_idIndexMarker761"/><span class="koboSpan" id="kobo.493.1">data from Azure Monitor logs. </span><span class="koboSpan" id="kobo.493.2">It includes a range of pre-built workbook templates for common scenarios, such as virtual machines, that can be customized to suit our specific needs. </span><span class="koboSpan" id="kobo.493.3">Workbooks can be shared with team members and scheduled for </span><span class="No-Break"><span class="koboSpan" id="kobo.494.1">regular updates.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.495.1">Log Analytics language</span></strong><span class="koboSpan" id="kobo.496.1">: You </span><a id="_idIndexMarker762"/><span class="koboSpan" id="kobo.497.1">can </span><a id="_idIndexMarker763"/><span class="koboSpan" id="kobo.498.1">write queries in the Azure Log Analytics query language to retrieve specific data from your logs. </span><span class="koboSpan" id="kobo.498.2">Once you have the data, you can use visualization functions to display it in a </span><span class="No-Break"><span class="koboSpan" id="kobo.499.1">graphical format.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.500.1">PowerBI</span></strong><span class="koboSpan" id="kobo.501.1">: Power BI </span><a id="_idIndexMarker764"/><span class="koboSpan" id="kobo.502.1">can connect</span><a id="_idIndexMarker765"/><span class="koboSpan" id="kobo.503.1"> to Azure Monitor logs and help you create more complex and </span><span class="No-Break"><span class="koboSpan" id="kobo.504.1">interactive visualizations.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.505.1">Azure Monitor is a critical tool to maintain the health and performance of your Azure infrastructure and applications. </span><span class="koboSpan" id="kobo.505.2">It’s particularly valuable for businesses running mission-critical applications in the cloud, as it helps in identifying and resolving issues quickly, optimizing resource utilization, and ensuring a smooth </span><span class="No-Break"><span class="koboSpan" id="kobo.506.1">user experience.</span></span></p>
<p><span class="koboSpan" id="kobo.507.1">Now, let us see a couple of other tools to help us monitor our resources, which can also provide </span><span class="No-Break"><span class="koboSpan" id="kobo.508.1">security recommendations.</span></span></p>
<h1 id="_idParaDest-185"><a id="_idTextAnchor198"/><span class="koboSpan" id="kobo.509.1">Securing resources with Microsoft Defender</span></h1>
<p><strong class="bold"><span class="koboSpan" id="kobo.510.1">Microsoft Defender for Cloud</span></strong><span class="koboSpan" id="kobo.511.1"> is a </span><strong class="bold"><span class="koboSpan" id="kobo.512.1">cloud-native application protection platform</span></strong><span class="koboSpan" id="kobo.513.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.514.1">CNAPP</span></strong><span class="koboSpan" id="kobo.515.1">) designed</span><a id="_idIndexMarker766"/><span class="koboSpan" id="kobo.516.1"> specifically </span><a id="_idIndexMarker767"/><span class="koboSpan" id="kobo.517.1">for cloud environments. </span><span class="koboSpan" id="kobo.517.2">It offers a comprehensive </span><a id="_idIndexMarker768"/><span class="koboSpan" id="kobo.518.1">set of security measures and</span><a id="_idIndexMarker769"/><span class="koboSpan" id="kobo.519.1"> best practices, aimed at safeguarding cloud-based applications against a wide range of cyber attacks and vulnerabilities. </span><span class="koboSpan" id="kobo.519.2">Microsoft Defender for Cloud combines several functionalities, including</span><a id="_idIndexMarker770"/><span class="koboSpan" id="kobo.520.1"> a </span><strong class="bold"><span class="koboSpan" id="kobo.521.1">cloud workload protection platform</span></strong><span class="koboSpan" id="kobo.522.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.523.1">CWPP</span></strong><span class="koboSpan" id="kobo.524.1">) focusing on infrastructure, storage, and so on, a </span><strong class="bold"><span class="koboSpan" id="kobo.525.1">cloud security posture management</span></strong><span class="koboSpan" id="kobo.526.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.527.1">CSPM</span></strong><span class="koboSpan" id="kobo.528.1">) solution </span><a id="_idIndexMarker771"/><span class="koboSpan" id="kobo.529.1">to prevent security issues, and a </span><strong class="bold"><span class="koboSpan" id="kobo.530.1">DevSecOps</span></strong><span class="koboSpan" id="kobo.531.1"> solution </span><a id="_idIndexMarker772"/><span class="koboSpan" id="kobo.532.1">that helps to secure code across different clouds if needed. </span><span class="koboSpan" id="kobo.532.2">Defender includes a basic CSPM without additional cost. </span><span class="koboSpan" id="kobo.532.3">There are advanced features that you can enable on top of that, including attack path analysis, the cloud security explorer, advanced threat hunting, security governance, as well as tools to evaluate your security compliance across regulatory standards that apply to specific </span><span class="No-Break"><span class="koboSpan" id="kobo.533.1">industries’ locations.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.534.1">Microsoft Defender for Cloud pricing</span></p>
<p class="callout"><span class="koboSpan" id="kobo.535.1">You can check out </span><a id="_idIndexMarker773"/><span class="koboSpan" id="kobo.536.1">Defender pricing and features </span><span class="No-Break"><span class="koboSpan" id="kobo.537.1">here: </span></span><a href="https://azure.microsoft.com/en-us/pricing/details/defender-for-cloud/?v=17.23h"><span class="No-Break"><span class="koboSpan" id="kobo.538.1">https://azure.microsoft.com/en-us/pricing/details/defender-for-cloud/?v=17.23h</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.539.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.540.1">Let us walk through the service and see how we can leverage it in our Azure Machine </span><span class="No-Break"><span class="koboSpan" id="kobo.541.1">Learning resources.</span></span></p>
<p><span class="koboSpan" id="kobo.542.1">The following is the main blade of </span><strong class="bold"><span class="koboSpan" id="kobo.543.1">Microsoft Defender for Cloud</span></strong><span class="koboSpan" id="kobo.544.1">. </span><span class="koboSpan" id="kobo.544.2">You can open it by typing </span><strong class="source-inline"><span class="koboSpan" id="kobo.545.1">Defender for Cloud</span></strong><span class="koboSpan" id="kobo.546.1"> in the top </span><span class="No-Break"><span class="koboSpan" id="kobo.547.1">search box:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer225">
<span class="koboSpan" id="kobo.548.1"><img alt="Figure 9.26 – Microsoft Defender for Cloud" src="image/B21076_09_26.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.549.1">Figure 9.26 – Microsoft Defender for Cloud</span></p>
<p><span class="koboSpan" id="kobo.550.1">At first </span><a id="_idIndexMarker774"/><span class="koboSpan" id="kobo.551.1">glance, we </span><a id="_idIndexMarker775"/><span class="koboSpan" id="kobo.552.1">can see the </span><strong class="bold"><span class="koboSpan" id="kobo.553.1">Security posture</span></strong><span class="koboSpan" id="kobo.554.1"> secure score of our workloads, which is based on implemented security recommendations in our resources; our </span><strong class="bold"><span class="koboSpan" id="kobo.555.1">Regulatory compliance</span></strong><span class="koboSpan" id="kobo.556.1"> score, which is </span><a id="_idIndexMarker776"/><span class="koboSpan" id="kobo.557.1">based on applied policies; our </span><strong class="bold"><span class="koboSpan" id="kobo.558.1">Workload protections </span></strong><span class="koboSpan" id="kobo.559.1">percentage; and an inventory of monitored assets. </span><span class="koboSpan" id="kobo.559.2">There are also other articles available on the rest of the screen and announcements </span><span class="No-Break"><span class="koboSpan" id="kobo.560.1">regarding Defender.</span></span></p>
<p><span class="koboSpan" id="kobo.561.1">Let us see how we can use the information provided to secure our Azure Machine </span><span class="No-Break"><span class="koboSpan" id="kobo.562.1">Learning resources.</span></span></p>
<h2 id="_idParaDest-186"><a id="_idTextAnchor199"/><span class="koboSpan" id="kobo.563.1">Improving our security posture</span></h2>
<p><span class="koboSpan" id="kobo.564.1">The first thing is</span><a id="_idIndexMarker777"/><span class="koboSpan" id="kobo.565.1"> to click on </span><strong class="bold"><span class="koboSpan" id="kobo.566.1">Security posture</span></strong><span class="koboSpan" id="kobo.567.1"> to see recommendations to improve our secure score. </span><span class="koboSpan" id="kobo.567.2">The secure score is an indicator that evaluates and assigns a score to the security status of your Azure resources and workloads. </span><span class="koboSpan" id="kobo.567.3">The lower the score, the less your resources are following security recommendations. </span><span class="koboSpan" id="kobo.567.4">To </span><a id="_idIndexMarker778"/><span class="koboSpan" id="kobo.568.1">improve our score, we need to implement recommendations for each of </span><span class="No-Break"><span class="koboSpan" id="kobo.569.1">our resources.</span></span></p>
<p><span class="koboSpan" id="kobo.570.1">Note in the</span><a id="_idIndexMarker779"/><span class="koboSpan" id="kobo.571.1"> following screenshot that the security posture is evaluated for Azure, </span><strong class="bold"><span class="koboSpan" id="kobo.572.1">Amazon Web Services</span></strong><span class="koboSpan" id="kobo.573.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.574.1">AWS</span></strong><span class="koboSpan" id="kobo.575.1">), and the </span><strong class="bold"><span class="koboSpan" id="kobo.576.1">Google Cloud Platform</span></strong><span class="koboSpan" id="kobo.577.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.578.1">GCP</span></strong><span class="koboSpan" id="kobo.579.1">). </span><span class="koboSpan" id="kobo.579.2">You</span><a id="_idIndexMarker780"/><span class="koboSpan" id="kobo.580.1"> can connect your analytics and create a unified </span><span class="No-Break"><span class="koboSpan" id="kobo.581.1">security blade.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer226">
<span class="koboSpan" id="kobo.582.1"><img alt="Figure 9.27 – Security posture" src="image/B21076_09_27.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.583.1">Figure 9.27 – Security posture</span></p>
<p><span class="koboSpan" id="kobo.584.1">To get started with recommendations, click on your subscription on the </span><strong class="bold"><span class="koboSpan" id="kobo.585.1">View </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.586.1">recommendations</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.587.1"> link.</span></span></p>
<p><span class="koboSpan" id="kobo.588.1">Then, we can see the recommendations for all </span><span class="No-Break"><span class="koboSpan" id="kobo.589.1">our resources:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer227">
<span class="koboSpan" id="kobo.590.1"><img alt="Figure 9.28 – ﻿Recommendations" src="image/B21076_09_28.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.591.1">Figure 9.28 – Recommendations</span></p>
<p><span class="koboSpan" id="kobo.592.1">To focus on</span><a id="_idIndexMarker781"/><span class="koboSpan" id="kobo.593.1"> the Azure Machine Learning recommendations, filter this list appropriately. </span><span class="koboSpan" id="kobo.593.2">As my ML resources are in the same resource group, I will filter by </span><strong class="bold"><span class="koboSpan" id="kobo.594.1">Resource group</span></strong><span class="koboSpan" id="kobo.595.1">, containing my Azure Machine Learning workspace and </span><span class="No-Break"><span class="koboSpan" id="kobo.596.1">associated services:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer228">
<span class="koboSpan" id="kobo.597.1"><img alt="Figure 9.29 – Adding a filter to the resource group" src="image/B21076_09_29.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.598.1">Figure 9.29 – Adding a filter to the resource group</span></p>
<p><span class="koboSpan" id="kobo.599.1">For each recommendation, we can see how the implementation will improve our score. </span><span class="koboSpan" id="kobo.599.2">All recommendations under each category must be implemented to get the aforementioned score increase. </span><span class="koboSpan" id="kobo.599.3">For example, the </span><strong class="bold"><span class="koboSpan" id="kobo.600.1">Apply system updates</span></strong><span class="koboSpan" id="kobo.601.1"> recommendation only has one action in the following screenshot, but the implementation will improve our score by </span><strong class="bold"><span class="koboSpan" id="kobo.602.1">5%</span></strong><span class="koboSpan" id="kobo.603.1">. </span><span class="koboSpan" id="kobo.603.2">To implement the recommendation, you can click on the link to see </span><span class="No-Break"><span class="koboSpan" id="kobo.604.1">more information:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer229">
<span class="koboSpan" id="kobo.605.1"><img alt="Figure 9.30 – Security posture recommendations" src="image/B21076_09_30.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.606.1">Figure 9.30 – Security posture recommendations</span></p>
<p><span class="koboSpan" id="kobo.607.1">Here, we can see </span><a id="_idIndexMarker782"/><span class="koboSpan" id="kobo.608.1">the issue severity, a description, the remediation steps, and the affected resources. </span><span class="koboSpan" id="kobo.608.2">We can then manually proceed and update the resources </span><span class="No-Break"><span class="koboSpan" id="kobo.609.1">as instructed:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer230">
<span class="koboSpan" id="kobo.610.1"><img alt="Figure 9.31 – Recommendation remediation" src="image/B21076_09_31.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.611.1">Figure 9.31 – Recommendation remediation</span></p>
<p><span class="koboSpan" id="kobo.612.1">We can even enforce this in the future by clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.613.1">Enforce</span></strong><span class="koboSpan" id="kobo.614.1"> button, as shown in the previous screenshot, which will assign this recommendation as </span><span class="No-Break"><span class="koboSpan" id="kobo.615.1">a policy.</span></span></p>
<p><span class="koboSpan" id="kobo.616.1">Similarly, we can</span><a id="_idIndexMarker783"/><span class="koboSpan" id="kobo.617.1"> implement security recommendations in our Azure Machine Learning instance and any other resources in our subscriptions. </span><span class="koboSpan" id="kobo.617.2">The recommendations are part of the Azure security baseline, which we will analyze in more detail in </span><a href="B21076_10.xhtml#_idTextAnchor203"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.618.1">Chapter 10</span></em></span></a><span class="koboSpan" id="kobo.619.1">, where we will create a security baseline for our Azure Machine Learning environment by using security </span><span class="No-Break"><span class="koboSpan" id="kobo.620.1">best practices.</span></span></p>
<p><span class="koboSpan" id="kobo.621.1">Now, let us explore Microsoft Sentinel to help us secure and automate our response to </span><span class="No-Break"><span class="koboSpan" id="kobo.622.1">security incidents.</span></span></p>
<h1 id="_idParaDest-187"><a id="_idTextAnchor200"/><span class="koboSpan" id="kobo.623.1">Exploring threat management with Sentinel</span></h1>
<p><span class="koboSpan" id="kobo.624.1">Microsoft Sentinel is </span><a id="_idIndexMarker784"/><span class="koboSpan" id="kobo.625.1">a cloud-native </span><strong class="bold"><span class="koboSpan" id="kobo.626.1">Security Information and Event Management </span></strong><span class="koboSpan" id="kobo.627.1">(</span><strong class="bold"><span class="koboSpan" id="kobo.628.1">SIEM</span></strong><span class="koboSpan" id="kobo.629.1">) and </span><strong class="bold"><span class="koboSpan" id="kobo.630.1">Security Orchestration, Automation, and Response</span></strong><span class="koboSpan" id="kobo.631.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.632.1">SOAR</span></strong><span class="koboSpan" id="kobo.633.1">) solution. </span><span class="koboSpan" id="kobo.633.2">It </span><a id="_idIndexMarker785"/><span class="koboSpan" id="kobo.634.1">offers intelligent security</span><a id="_idIndexMarker786"/><span class="koboSpan" id="kobo.635.1"> analytics and threat intelligence centrally for Azure and other clouds. </span><span class="koboSpan" id="kobo.635.2">With</span><a id="_idIndexMarker787"/><span class="koboSpan" id="kobo.636.1"> Sentinel, we have smart alert detection, threat visibility, hunting, and response, all in a single pane. </span><span class="koboSpan" id="kobo.636.2">There are several benefits to using Sentinel for the</span><a id="_idIndexMarker788"/> <span class="No-Break"><span class="koboSpan" id="kobo.637.1">aforementioned tasks:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.638.1">As a cloud solution, it scales with our data, and we pay for what </span><span class="No-Break"><span class="koboSpan" id="kobo.639.1">we use.</span></span></li>
<li><span class="koboSpan" id="kobo.640.1">Microsoft Sentinel gathers data using connectors from a wide range of sources, including Azure services, on-premises environments, and </span><span class="No-Break"><span class="koboSpan" id="kobo.641.1">other clouds.</span></span></li>
<li><span class="koboSpan" id="kobo.642.1">The service comes with built-in ML models that help to identify suspicious activities and reduce false positives. </span><span class="koboSpan" id="kobo.642.2">Over time, these models can be trained to improve their accuracy based on your organization’s </span><span class="No-Break"><span class="koboSpan" id="kobo.643.1">unique patterns.</span></span></li>
<li><span class="koboSpan" id="kobo.644.1">Threat hunting is done using KQL to identify threats, anomalies, and patterns, and there are templates available to get </span><span class="No-Break"><span class="koboSpan" id="kobo.645.1">you started.</span></span></li>
<li><span class="koboSpan" id="kobo.646.1">Beyond just detection, Microsoft Sentinel also allows you to automate common tasks and responses. </span><span class="koboSpan" id="kobo.646.2">This can help organizations respond more quickly </span><span class="No-Break"><span class="koboSpan" id="kobo.647.1">to threats.</span></span></li>
<li><span class="koboSpan" id="kobo.648.1">We can use workbooks to visualize and help teams drill down into data, find patterns, and understand security </span><span class="No-Break"><span class="koboSpan" id="kobo.649.1">postures better.</span></span></li>
<li><span class="koboSpan" id="kobo.650.1">Microsoft Sentinel</span><a id="_idIndexMarker789"/><span class="koboSpan" id="kobo.651.1"> provides tools to handle incidents, from identification to investigation </span><span class="No-Break"><span class="koboSpan" id="kobo.652.1">to remediation.</span></span></li>
<li><span class="koboSpan" id="kobo.653.1">Default data retention is at 30 days, but it can be increased to </span><span class="No-Break"><span class="koboSpan" id="kobo.654.1">90 days.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.655.1">To work </span><a id="_idIndexMarker790"/><span class="koboSpan" id="kobo.656.1">with Sentinel, we need a Log Analytics workspace to gather logs. </span><span class="koboSpan" id="kobo.656.2">Refer to the previous sections of this chapter to create a new Log Analytics workspace. </span><span class="koboSpan" id="kobo.656.3">After you have a workspace, you </span><a id="_idIndexMarker791"/><span class="koboSpan" id="kobo.657.1">can add Microsoft Sentinel to the workspace. </span><span class="koboSpan" id="kobo.657.2">Find </span><strong class="source-inline"><span class="koboSpan" id="kobo.658.1">Microsoft Sentinel</span></strong><span class="koboSpan" id="kobo.659.1"> from the search bar of the Azure portal, and on the page that loads, click </span><span class="No-Break"><span class="koboSpan" id="kobo.660.1">on </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.661.1">Create</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.662.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer231">
<span class="koboSpan" id="kobo.663.1"><img alt="Figure 9.32 – Microsoft Sentinel" src="image/B21076_09_32.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.664.1">Figure 9.32 – Microsoft Sentinel</span></p>
<p><span class="koboSpan" id="kobo.665.1">In the next step, </span><strong class="bold"><span class="koboSpan" id="kobo.666.1">Add Microsoft Sentinel to a workspace</span></strong><span class="koboSpan" id="kobo.667.1">, choose the workspace we created previously, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.668.1">next screenshot.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer232">
<span class="koboSpan" id="kobo.669.1"><img alt="Figure 9.33 – Adding Sentinel to a workspace" src="image/B21076_09_33.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.670.1">Figure 9.33 – Adding Sentinel to a workspace</span></p>
<p><span class="koboSpan" id="kobo.671.1">As soon</span><a id="_idIndexMarker792"/><span class="koboSpan" id="kobo.672.1"> as you add a workspace, you can leverage the Sentinel threat management capabilities. </span><span class="koboSpan" id="kobo.672.2">This is the main page of Sentinel. </span><span class="koboSpan" id="kobo.672.3">Everything you need to work with threat management can</span><a id="_idIndexMarker793"/><span class="koboSpan" id="kobo.673.1"> be found on the </span><span class="No-Break"><span class="koboSpan" id="kobo.674.1">left menu.</span></span></p>
<p><span class="koboSpan" id="kobo.675.1">Let us explore the most useful features of </span><span class="No-Break"><span class="koboSpan" id="kobo.676.1">Microsoft Sentinel:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.677.1">Incidents</span></strong><span class="koboSpan" id="kobo.678.1">: In</span><a id="_idIndexMarker794"/><span class="koboSpan" id="kobo.679.1"> Microsoft Sentinel, incidents </span><a id="_idIndexMarker795"/><span class="koboSpan" id="kobo.680.1">are compilations of related alerts, representing potentially harmful activities or patterns within a system. </span><span class="koboSpan" id="kobo.680.2">They provide a consolidated view to help security analysts estimate the scope and sequence of a potential attack. </span><span class="koboSpan" id="kobo.680.3">Incidents in Microsoft Sentinel are equipped with information such as the entities involved, a timeline of related alerts, and other relevant details. </span><span class="koboSpan" id="kobo.680.4">Incidents allow security teams to focus on broader events rather than individual alerts, helping prioritize responses based on the combined severity of </span><span class="No-Break"><span class="koboSpan" id="kobo.681.1">related alerts.</span></span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer233">
<span class="koboSpan" id="kobo.682.1"><img alt="Figure 9.34 – Incidents" src="image/B21076_09_34.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.683.1">Figure 9.34 – Incidents</span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.684.1">Hunting</span></strong><span class="koboSpan" id="kobo.685.1">: Hunting in Microsoft Sentinel refers to proactive </span><a id="_idIndexMarker796"/><span class="koboSpan" id="kobo.686.1">queries and exploration of data to identify signs of malicious or suspicious activities that haven’t necessarily raised automatic alerts. </span><span class="koboSpan" id="kobo.686.2">We can run predefined or custom KQL queries to filter through collected data, searching for anomalies or patterns of interest. </span><span class="koboSpan" id="kobo.686.3">The goal is to discover hidden threats, identify previously unnoticed patterns, and strengthen </span><span class="No-Break"><span class="koboSpan" id="kobo.687.1">detection capabilities.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.688.1">To access hunting queries, click on </span><strong class="bold"><span class="koboSpan" id="kobo.689.1">Hunting</span></strong><span class="koboSpan" id="kobo.690.1">. </span><span class="koboSpan" id="kobo.690.2">The process of creating a hunt is easy. </span><span class="koboSpan" id="kobo.690.3">From the main page, click on </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.691.1">New hunt</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.692.1">.</span></span></p></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer234">
<span class="koboSpan" id="kobo.693.1"><img alt="Figure 9.35 – Hunting queries" src="image/B21076_09_35.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.694.1">Figure 9.35 – Hunting queries</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.695.1">Provide a </span><em class="italic"><span class="koboSpan" id="kobo.696.1">name</span></em><span class="koboSpan" id="kobo.697.1"> and </span><a id="_idIndexMarker797"/><span class="koboSpan" id="kobo.698.1">more information if </span><a id="_idIndexMarker798"/><span class="koboSpan" id="kobo.699.1">necessary, and then </span><span class="No-Break"><span class="koboSpan" id="kobo.700.1">click </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.701.1">Create</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.702.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer235">
<span class="koboSpan" id="kobo.703.1"><img alt="Figure 9.36 – A new hunt" src="image/B21076_09_36.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.704.1">Figure 9.36 – A new hunt</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.705.1">A hunt is composed of one or more queries. </span><span class="koboSpan" id="kobo.705.2">To add your query, click on the hunt name you just </span><a id="_idIndexMarker799"/><span class="koboSpan" id="kobo.706.1">created, and under </span><strong class="bold"><span class="koboSpan" id="kobo.707.1">Query actions</span></strong><span class="koboSpan" id="kobo.708.1">, you can select </span><strong class="bold"><span class="koboSpan" id="kobo.709.1">New query</span></strong><span class="koboSpan" id="kobo.710.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.711.1">Add queries to hunt</span></strong><span class="koboSpan" id="kobo.712.1"> to choose from existing queries. </span><span class="koboSpan" id="kobo.712.2">Queries are written </span><span class="No-Break"><span class="koboSpan" id="kobo.713.1">in KQL.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer236">
<span class="koboSpan" id="kobo.714.1"><img alt="Figure 9.37 – Adding queries" src="image/B21076_09_37.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.715.1">Figure 9.37 – Adding queries</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.716.1">I chose the latter </span><a id="_idIndexMarker800"/><span class="koboSpan" id="kobo.717.1">and selected these two queries from the list, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.718.1">next screenshot.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer237">
<span class="koboSpan" id="kobo.719.1"><img alt="Figure 9.38 – Adding existing queries" src="image/B21076_09_38.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.720.1">Figure 9.38 – Adding existing queries</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.721.1">Now, you can </span><a id="_idIndexMarker801"/><span class="koboSpan" id="kobo.722.1">run these queries to confirm your hypothesis and discover suspected threats. </span><span class="koboSpan" id="kobo.722.2">Upon discovery, we can create an incident directly from the </span><span class="No-Break"><span class="koboSpan" id="kobo.723.1">hunting page.</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.724.1">Threat intelligence</span></strong><span class="koboSpan" id="kobo.725.1">: Threat intelligence </span><a id="_idIndexMarker802"/><span class="koboSpan" id="kobo.726.1">in Microsoft Sentinel involves leveraging information about existing and emerging threats and vulnerabilities. </span><span class="koboSpan" id="kobo.726.2">Microsoft Sentinel integrates with Microsoft Defender’s Threat Intelligence, which provides </span><a id="_idIndexMarker803"/><span class="koboSpan" id="kobo.727.1">data about known malicious IP addresses, URLs, file hashes, and so on. </span><span class="koboSpan" id="kobo.727.2">When this data matches activity in your environment, Sentinel can raise alerts. </span><span class="koboSpan" id="kobo.727.3">The integration of threat intelligence allows organizations to cross-reference their real-time data with known threat indicators, improving the detection of potential security breaches and understanding the broader </span><span class="No-Break"><span class="koboSpan" id="kobo.728.1">threat landscape.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.729.1">These are just the basics. </span><span class="koboSpan" id="kobo.729.2">Sentinel has a lot of capabilities, as it integrates with multiple Microsoft services such as Defender for Cloud and Microsoft 365. </span><span class="koboSpan" id="kobo.729.3">To skill up in Sentinel, take a look at the following resources, ranging from learning paths </span><span class="No-Break"><span class="koboSpan" id="kobo.730.1">to certifications.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.731.1">Get started with Microsoft Sentinel</span></p>
<p class="callout"><span class="koboSpan" id="kobo.732.1">To get </span><a id="_idIndexMarker804"/><span class="koboSpan" id="kobo.733.1">started with Microsoft Sentinel, check out the following learning </span><span class="No-Break"><span class="koboSpan" id="kobo.734.1">paths: </span></span><a href="https://learn.microsoft.com/en-us/azure/sentinel/skill-up-resources"><span class="No-Break"><span class="koboSpan" id="kobo.735.1">https://learn.microsoft.com/en-us/azure/sentinel/skill-up-resources</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.736.1">.</span></span></p>
<h1 id="_idParaDest-188"><a id="_idTextAnchor201"/><span class="koboSpan" id="kobo.737.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.738.1">In this chapter, we learned to utilize multiple services, ensuring we can monitor our resources effectively by enabling different services and learning how we can start to use the logs we gather to prevent security incidents. </span><span class="koboSpan" id="kobo.738.2">The first one we worked with was Azure Monitor, using Monitor alerts to make sure we can be notified about any issues. </span><span class="koboSpan" id="kobo.738.3">By combining the capabilities of Monitor Log Analytics and Application Insights, we can have end-to-end monitoring of our resources and our model endpoints. </span><span class="koboSpan" id="kobo.738.4">Additionally, by using Microsoft Defender for Cloud, we can get recommendations to implement best practices, and we can use Microsoft Sentinel for advanced threat management. </span><span class="koboSpan" id="kobo.738.5">Now that we have a comprehensive view of the best practices across different surface areas included in a ML project, we can combine them and see how we can build a security baseline for our Azure resources in the </span><span class="No-Break"><span class="koboSpan" id="kobo.739.1">next chapter.</span></span></p>
</div>


<div class="Content" id="_idContainer239">
<h1 id="_idParaDest-189" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor202"/><span class="koboSpan" id="kobo.1.1">Part 4: Best Practices for Enterprise Security in Azure Machine Learning</span></h1>
<p><span class="koboSpan" id="kobo.2.1">In this part, you will review the best practices outlined in this book and explore more services that could be used to further secure your cloud resources. </span><span class="koboSpan" id="kobo.2.2">You will also see a sample solution architecture that incorporates all those practices. </span><span class="koboSpan" id="kobo.2.3">Finally, you will learn how to work with threat modeling, developing a strategy to maintain the same level of security and stay protected in </span><span class="No-Break"><span class="koboSpan" id="kobo.3.1">the future.</span></span></p>
<p><span class="koboSpan" id="kobo.4.1">This part has the </span><span class="No-Break"><span class="koboSpan" id="kobo.5.1">following chapter:</span></span></p>
<ul>
<li><a href="B21076_10.xhtml#_idTextAnchor203"><em class="italic"><span class="koboSpan" id="kobo.6.1">Chapter 10</span></em></a><em class="italic"><span class="koboSpan" id="kobo.7.1">, Setting a Security Baseline for Your Azure Machine Learning Workloads</span></em></li>
</ul>
</div>
<div>
<div id="_idContainer240">
</div>
</div>
<div>
<div class="Basic-Graphics-Frame" id="_idContainer241">
</div>
</div>
</body></html>