- en: '*Chapter 9*: Automated Machine Learning with GCP'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第9章*：使用GCP的自动化机器学习'
- en: '"*The first rule of any technology used in a business is that automation* *applied
    to an efficient operation will magnify the efficiency. The second is that automation
    applied to an inefficient operation will magnify the inefficiency.*"'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '"*任何在商业中使用的技术的第一规则是，应用于高效操作的自动化将放大效率。第二是，应用于低效操作的自动化将放大低效。*"'
- en: '*-Bill Gates*'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '*-比尔·盖茨*'
- en: This has been a long yet rewarding journey of learning about major hyperscalers
    and how they implement automated machine learning in their respective platforms.
    In the previous chapter, you learned how to get started with Google Cloud AI Platform,
    learned about AI Hub, and learned how to build a notebook instance in GCP. You
    also learned about the different flavors of automated machine learning offered
    by GCP, including AutoML Natural Language, AutoML Tables, AutoML Translation,
    AutoML Video, and AutoML Vision.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一段漫长而有益的学习之旅，了解了主要超大规模企业及其如何在各自的平台上实施自动化机器学习。在前一章中，你学习了如何开始使用Google Cloud
    AI平台，了解了AI Hub，以及如何在GCP中构建notebook实例。你还了解了GCP提供的不同类型的自动化机器学习，包括AutoML自然语言、AutoML
    Tables、AutoML翻译、AutoML视频和AutoML视觉。
- en: Continuing with the breadth of GCP offerings, capabilities, and services, we
    will now do a deep dive into Cloud AutoML Tables. We will build models and explain
    how automated machine learning works with AutoML Tables; that is, how you can
    take unstructured data and perform automated machine learning tasks by analyzing
    the input features (feature engineering), selecting the model (neural architecture
    search), and performing hyperparameter tuning. We will deploy these models to
    GCP and test them via web services to demonstrate their operationalization.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续探讨GCP提供的广泛的产品、功能和服务的背景下，我们现在将深入探讨Cloud AutoML Tables。我们将构建模型并解释如何使用AutoML
    Tables进行自动化机器学习；也就是说，如何通过分析输入特征（特征工程）、选择模型（神经架构搜索）和执行超参数调整来对非结构化数据进行自动化机器学习任务。我们将将这些模型部署到GCP，并通过网络服务进行测试，以展示其运营化。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Getting started with Google Cloud AutoML Tables
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开始使用Google Cloud AutoML Tables
- en: Creating an AutoML Tables experiment
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建一个AutoML Tables实验
- en: Understanding AutoML Tables model deployment
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解AutoML Tables模型部署
- en: AutoML Tables with BigQuery public datasets
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用BigQuery公共数据集的AutoML Tables
- en: Automated machine learning for price prediction
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动化机器学习进行价格预测
- en: Getting started with Google Cloud AutoML Tables
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 开始使用Google Cloud AutoML Tables
- en: AutoML Tables helps harness the insights in your structured data. In any large
    enterprise, there are multiple modalities of data, including structured, unstructured,
    and semi-structured data. For most organizations dealing with databases and transactions,
    there is indeed a lot of structured data out there. This data is quite suitable
    for advances analytics, and GCP's AutoML Tables is just the tool to help you automatically
    build and deploy machine learning models based on structured data.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: AutoML Tables帮助利用结构化数据中的洞察力。在任何大型企业中，都存在多种数据模式，包括结构化、非结构化和半结构化数据。对于大多数处理数据库和交易的组织来说，确实存在大量的结构化数据。这些数据非常适合高级分析，而GCP的AutoML
    Tables正是帮助你自动构建和部署基于结构化数据的机器学习模型的工具。
- en: AutoML Tables enables machine learning engineers and data scientists to automatically
    build and deploy state-of-the-art machine learning models on structured data faster
    than anyone could manually do. It automates modeling on a wide range of data types,
    from numbers and classes to strings, timestamps, lists, and nested fields. Google
    Cloud AutoML tables make this happen with minimal code. In this chapter, we will
    learn how to take an exported CSV file, click a few buttons, wait a while, and
    get a very highly tuned model on the other end.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: AutoML Tables使机器学习工程师和数据科学家能够比手动操作更快地自动构建和部署结构化数据上的最先进的机器学习模型。它自动化了广泛数据类型的建模，从数字和类别到字符串、时间戳、列表和嵌套字段。Google
    Cloud AutoML tables通过最少的代码实现这一点。在本章中，我们将学习如何获取一个导出的CSV文件，点击几个按钮，等待一段时间，然后在另一端获得一个高度调优的模型。
- en: Google's automated machine learning team has worked hard so that the tool works
    for a wide variety of data types. Google's AutoML Tables explores that vast space
    of possible models and hyperparameters so that it can try and optimize things
    on your behalf. As we explore the examples in this chapter, you will see that
    the first step is to import your training data via the **Import** tab, give it
    a name, and select the source – either a table from BigQuery, a file on your machine,
    or a file on Google Cloud Storage. This first step takes a bit of time as the
    system analyzes the columns of your dataset. Once it's done this, you'll get to
    edit the auto-generated schema and select the column for predicting on. Here,
    you can also update the column type, as well as whether it is nullable.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 谷歌的自动化机器学习团队努力工作，以确保该工具适用于各种数据类型。谷歌的AutoML Tables探索了可能的模型和超参数的广阔空间，以便代表你尝试优化事物。在我们探索本章的示例时，你会发现第一步是通过**导入**选项卡导入你的训练数据，给它命名，并选择来源——无论是BigQuery中的表、你机器上的文件，还是Google
    Cloud Storage上的文件。这一步需要一些时间，因为系统正在分析你的数据集的列。一旦完成这一步，你将能够编辑自动生成的模式并选择用于预测的列。在这里，你还可以更新列类型，以及它是否为可空。
- en: You can also view datasets that may have a lot of columns to get a nice overview
    of their data. You can click on the different column names to see some statistics
    about your columns. After analyzing the data, we can start the training process.
    This is where AutoML really shines because all you have to do is click **Train**.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以查看可能有很多列的数据集，以获得它们数据的良好概述。你可以点击不同的列名来查看关于你列的一些统计信息。在分析数据后，我们可以开始训练过程。在这里，AutoML真正大放异彩，因为你所要做的就是点击**训练**。
- en: There are some options that you can set, including a maximum budget of training
    hours. This enables you to experiment with your data if you want and limit that
    training time before committing to a full, longer training run. You'll notice
    that the training times shown are somewhat on the long side of things. This is
    because it's not only doing model tuning but also selecting what model to use
    in the first place. So, as a result, there's a lot of things happening during
    training. But we don't have to do anything here.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以设置一些选项，包括最大训练小时数预算。这使你能够在做出全面、更长时间的训练运行承诺之前，对你的数据进行实验并限制训练时间。你会注意到显示的训练时间相对较长。这是因为它不仅在进行模型调优，还在选择最初要使用的模型。因此，在训练期间有很多事情发生。但我们在这里不需要做任何事情。
- en: Once the training is completed, we must evaluate and deploy the model. You will
    be able to see how the training did, as well as the metrics about the model's
    performance. Finally, we will deploy the model to get predictions. There's even
    an editor in the browser that will make requests to your endpoint, so you don't
    need to set up a local environment to make these calls to try and test it out.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦训练完成，我们必须评估和部署模型。你将能够看到训练的效果，以及关于模型性能的指标。最后，我们将部署模型以获取预测。浏览器中甚至还有一个编辑器，可以对你的端点进行请求，因此你不需要设置本地环境来尝试和测试这些调用。
- en: Now that you have learned how AutoML Tables works, let's explore it in practice.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经了解了AutoML Tables的工作原理，让我们来实际探索一下。
- en: Creating an AutoML Tables experiment
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建AutoML Tables实验
- en: 'AutoML Tables automatically builds and deploys state-of-the-art machine learning
    models on structured data. Let''s start with our first experiment to put this
    knowledge into practice:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: AutoML Tables自动在结构化数据上构建和部署最先进的机器学习模型。让我们从我们的第一个实验开始，将这一知识付诸实践：
- en: 'Access the Google Cloud AI Platform home page by visiting this link: [https://console.cloud.google.com/home/](https://console.cloud.google.com/home/).
    Click on the **Datasets** link in the left pane; you will see the following screen:![Figure
    9.1 – Google Cloud AI Platform home page'
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过访问此链接访问谷歌云AI平台主页：[https://console.cloud.google.com/home/](https://console.cloud.google.com/home/)。点击左侧面板中的**数据集**链接；你将看到以下屏幕：![图9.1
    – 谷歌云AI平台主页
- en: '](img/Figure_9.1_B16890.jpg)'
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/Figure_9.1_B16890.jpg)'
- en: Figure 9.1 – Google Cloud AI Platform home page
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.1 – 谷歌云AI平台主页
- en: On the `IrisAutoML`. Then, click on **CREATE DATASET**:![Figure 9.2 – AutoML
    Tables – Create new dataset screen
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`IrisAutoML`上，然后点击**创建数据集**：![图9.2 – AutoML Tables – 创建新数据集屏幕
- en: '](img/Figure_9.2_B16890.jpg)'
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/Figure_9.2_B16890.jpg)'
- en: Figure 9.2 – AutoML Tables – Create new dataset screen
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.2 – AutoML Tables – 创建新数据集屏幕
- en: For this experiment, we will start with the Iris dataset. You can download the
    CSV file from [https://www.kaggle.com/uciml/iris](https://www.kaggle.com/uciml/iris)
    since we will be using it in the next step. The dataset is too small to be used
    for automated machine learning though, but you will see how this unfolds soon.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于这个实验，我们将从 Iris 数据集开始。你可以从 [https://www.kaggle.com/uciml/iris](https://www.kaggle.com/uciml/iris)
    下载 CSV 文件，因为我们将在下一步中使用它。尽管数据集太小，不适合用于自动化机器学习，但你很快就会看到它是如何展开的。
- en: 'Now, you need to import the data (CSV) file into **Google AutoML Tables**.
    The file needs to be uploaded to a storage bucket. Select the file from your machine
    and click on **BROWSE** to create a storage destination on GCP, as shown in the
    following screenshot:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你需要将数据（CSV）文件导入到 **Google AutoML 表格**。文件需要上传到存储桶。从你的机器中选择文件并点击 **浏览** 在 GCP
    上创建存储目标，如下截图所示：
- en: '![Figure 9.3 – AutoML Tables – import file from local computer'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 9.3 – AutoML 表格 – 从本地计算机导入文件'
- en: '](img/Figure_9.3_B16890.jpg)'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.3_B16890.jpg)'
- en: Figure 9.3 – AutoML Tables – import file from local computer
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.3 – AutoML 表格 – 从本地计算机导入文件
- en: To create a storage bucket, you need to follow these steps.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建存储桶，你需要遵循以下步骤。
- en: First, provide a name for your storage bucket:![Figure 9.4 – AutoML Tables –
    creating a storage bucket on GCP
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，为你的存储桶提供一个名称：![图 9.4 – AutoML 表格 – 在 GCP 上创建存储桶
- en: '](img/Figure_9.4_B16890.jpg)'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.4_B16890.jpg)'
- en: Figure 9.4 – AutoML Tables – creating a storage bucket on GCP
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 9.4 – AutoML 表格 – 在 GCP 上创建存储桶
- en: Then, choose where you would like to store the data. The options are region
    (single region), dual region with **high availability** (**HA**), or multi-region
    for highest availability across multiple locations. For this example, we will
    choose **us-central1** as a single region, but you can choose another region if
    it suits you better geographically:![Figure 9.5 – AutoML Tables – choosing a location
    to create a storage bucket
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，选择你希望存储数据的位置。选项包括区域（单个区域）、双区域高可用性（**HA**）或多区域，以实现跨多个位置的最高可用性。在这个例子中，我们将选择
    **us-central1** 作为单个区域，但如果你在地理位置上更合适，可以选择其他区域：![图 9.5 – AutoML 表格 – 选择创建存储桶的位置
- en: '](img/Figure_9.5_B16890.jpg)'
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.5_B16890.jpg)'
- en: Figure 9.5 – AutoML Tables – choosing a location to create a storage bucket
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 9.5 – AutoML 表格 – 选择创建存储桶的位置
- en: Next, choose the default storage class for the data. The storage classes you
    can choose from are **Standard**, **Nearline (**backup**)**, **Coldline (**disaster
    recovery**)**, and **Archive (**for archival use**)**. Choose the **Standard**
    class for the purpose of this implementation, as seen in the following screenshot:![Figure
    9.6 – AutoML Tables – choosing a storage class for your data on GCP
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，选择数据的默认存储类别。你可以选择的存储类别有 **标准**、**近线（备份**）**、**冷线（灾难恢复**）**和**存档（用于存档用途**）**。为了这次实施，选择
    **标准** 类别，如下截图所示：![图 9.6 – AutoML 表格 – 在 GCP 上为你的数据选择存储类别
- en: '](img/Figure_9.6_B16890.jpg)'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.6_B16890.jpg)'
- en: Figure 9.6 – AutoML Tables – choosing a storage class for your data on GCP
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 9.6 – AutoML 表格 – 在 GCP 上为你的数据选择存储类别
- en: 'Finally, the encryption settings need to be configured. Here, you can provide
    your own key or use the default setting of using Google''s managed key. Click
    on **CREATE** to complete the process of making the bucket:'
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，需要配置加密设置。在这里，你可以提供自己的密钥或使用默认的 Google 管理密钥设置。点击 **创建** 完成创建存储桶的过程：
- en: '![Figure 9.7 – AutoML Tables – choosing encryption settings'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 9.7 – AutoML 表格 – 选择加密设置'
- en: '](img/Figure_9.7_B16890.jpg)'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.7_B16890.jpg)'
- en: Figure 9.7 – AutoML Tables – choosing encryption settings
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.7 – AutoML 表格 – 选择加密设置
- en: 'This will trigger the bucket being created and the data being imported. You
    will see the following screen:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 这将触发创建存储桶和数据导入。你将看到以下屏幕：
- en: '![Figure 9.8 – AutoML Tables – data being imported into the GCP bucket'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 9.8 – AutoML 表格 – 数据正在导入到 GCP 存储桶'
- en: '](img/Figure_9.8_B16890.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.8_B16890.jpg)'
- en: Figure 9.8 – AutoML Tables – data being imported into the GCP bucket
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.8 – AutoML 表格 – 数据正在导入到 GCP 存储桶
- en: 'This is where we will learn an important lesson: not all data is suitable for
    automated machine learning. Once the import process is complete, you will see
    the following error message:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我们将要学习的一个重要教训：并非所有数据都适合自动化机器学习。一旦导入过程完成，你将看到以下错误信息：
- en: '![Figure 9.9 – AutoML Tables – too few rows error'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 9.9 – AutoML 表格 – 行数不足错误'
- en: '](img/Figure_9.9_B16890.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.9_B16890.jpg)'
- en: Figure 9.9 – AutoML Tables – too few rows error
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.9 – AutoML 表格 – 行数不足错误
- en: Even though you can do this experiment with other tools, cloud automated machine
    learning platforms set a minimum bar to ensure the quality of their algorithms
    is not compromised. This example provides us with a critical lesson that not all
    problems are automated machine learning-worthy.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管您可以用其他工具进行这个实验，但云自动机器学习平台设定了一个最低标准，以确保其算法的质量不受损害。这个例子给我们提供了一个重要的教训，即并非所有问题都适合自动机器学习。
- en: Let's repeat the same experiment with a larger dataset – the loan risk dataset
    – which contains 21 fields and 1,000 instances. You can download it from BigML
    ([http://bml.io/W2SpyF](http://bml.io/W2SpyF), BigML, Inc. Corvallis, Oregon,
    USA, 2011). This dataset was created by Dr. Hans Hofmann at Institut für Statistik
    und Ökonometrie, Universität Hamburg, and contains fields such as checking status,
    duration, credit history, purpose, credit amount, and savings status. These can
    be used to create a model that will predict the level of the risk of a loan application.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们用更大的数据集重复相同的实验 – 贷款风险数据集，它包含21个字段和1,000个实例。您可以从BigML下载它（[http://bml.io/W2SpyF](http://bml.io/W2SpyF)，BigML，Inc.
    Corvallis，俄勒冈州，美国，2011）。这个数据集由汉堡大学统计学与计量经济学研究所的汉斯·霍夫曼博士创建，包含诸如检查状态、持续时间、信用历史、目的、信用金额和储蓄状态等字段。这些字段可以用来创建一个预测贷款申请风险水平的模型。
- en: 'Let''s carry out the aforementioned steps for the loan risk dataset by creating
    a bucket:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过创建一个桶来执行上述步骤，用于贷款风险数据集：
- en: Download the dataset from [http://bml.io/W2SpyF](http://bml.io/W2SpyF). Click
    on the **CREATE DATASET** button and import the loan risk dataset:![Figure 9.10
    – AutoML Tables – choosing a new dataset bucket
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从[http://bml.io/W2SpyF](http://bml.io/W2SpyF)下载数据集。点击**创建数据集**按钮并导入贷款风险数据集：![图9.10
    – AutoML表格 – 选择新的数据集桶
- en: '](img/Figure_9.10_B16890.jpg)'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.10_B16890.jpg)'
- en: Figure 9.10 – AutoML Tables – choosing a new dataset bucket
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.10 – AutoML表格 – 选择新的数据集桶
- en: As the import process starts, upload the csv file extracted from the dataset
    that we downloaded in step 5 file and point it to the destination cloud storage
    by clicking the **SELECT FILES** button:![Figure 9.11 – AutoML Tables – choosing
    storage for data
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当导入过程开始时，上传从步骤5下载的数据集提取的csv文件，并通过点击**选择文件**按钮将其指向目标云存储：![图9.11 – AutoML表格 –
    选择数据存储
- en: '](img/Figure_9.11_B16890.jpg)'
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.11_B16890.jpg)'
- en: Figure 9.11 – AutoML Tables – choosing storage for data
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.11 – AutoML表格 – 选择数据存储
- en: Since the loan dataset meets the required size limitations, it is imported successfully,
    and you will see the following training screen. This is where you can edit the
    auto-generated schema and select the column for predicting on. You can also update
    the column type, as well as whether it is nullable.
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由于贷款数据集满足所需的大小限制，它已成功导入，您将看到以下训练界面。这是您可以编辑自动生成的模式并选择预测列的地方。您还可以更新列类型，以及它是否为可空。
- en: 'This screen gives you a detailed overview of the dataset. You can click on
    the different column names to see some statistics about your columns:'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此界面提供了数据集的详细概述。您可以通过点击不同的列名来查看有关您列的一些统计信息：
- en: '![](img/Figure_9.12_B16890.jpg)'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![](img/Figure_9.12_B16890.jpg)'
- en: Figure 9.12 – AutoML Tables – training screen
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.12 – AutoML表格 – 训练界面
- en: 'Now, select the target column; that is, the column to predict, which is the
    class. The class is a categorical field with two possible values: good credit
    or bad credit. This determines whether this specific individual qualifies for
    credit. Once you''ve selected the class, click on **TRAIN MODEL**:'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，选择目标列；即预测列，也就是类别。类别是一个具有两个可能值的分类字段：良好信用或不良信用。这决定了这个特定个人是否有资格获得信用。一旦您选择了类别，点击**训练模型**：
- en: '![Figure 9.13 – AutoML Tables – selecting the target column for training'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '![图9.13 – AutoML表格 – 选择训练的目标列'
- en: '](img/Figure_9.13_B16890.jpg)'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.13_B16890.jpg)'
- en: Figure 9.13 – AutoML Tables – selecting the target column for training
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.13 – AutoML表格 – 选择训练的目标列
- en: 'Upon clicking on the **TRAIN MODEL** button, you will see a fluid menu on the
    right. The menu can be seen in the following screenshot. This is where you can
    set experimental parameters and is where AutoML really shines because all you
    have to do is click **Train**. There are some options that you can set, including
    a maximum budget for training hours. This enables you to experiment with your
    data if you want and limit that training time before committing to a full, longer
    training run. You''ll notice that the training times shown are somewhat on the
    long side of things. This is because it''s not only doing model tuning but also
    selecting what model to use in the first place:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**训练模型**按钮后，您将在右侧看到一个流动菜单。该菜单在以下屏幕截图中可见。这是您可以设置实验参数的地方，也是AutoML真正发光的地方，因为您只需点击**训练**。您可以设置一些选项，包括训练小时数的最大预算。这使您能够在做出全面、更长时间训练运行承诺之前，对数据进行实验并限制训练时间。您会注意到显示的训练时间相对较长。这是因为它不仅在进行模型调优，还在选择最初要使用的模型：
- en: '![Figure 9.14 – AutoML Tables – choosing a storage class for your data on GCP'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '![图9.14 – AutoML表格 – 在GCP上为您的数据选择存储类别'
- en: '](img/Figure_9.14_B16890.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.14_B16890.jpg)'
- en: Figure 9.14 – AutoML Tables – choosing a storage class for your data on GCP
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.14 – AutoML表格 – 在GCP上为您的数据选择存储类别
- en: 'How long should you train your model for? The suggested training time from
    GCP is defined at [https://cloud.google.com/automl-tables/docs/train](https://cloud.google.com/automl-tables/docs/train),
    as shown in the following screenshot:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该训练模型多长时间？GCP建议的训练时间定义在[https://cloud.google.com/automl-tables/docs/train](https://cloud.google.com/automl-tables/docs/train)，如下面的屏幕截图所示：
- en: '![Figure 9.15 – AutoML Tables – suggested training times'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '![图9.15 – AutoML表格 – 建议的训练时间'
- en: '](img/Figure_9.15_B16890.jpg)'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.15_B16890.jpg)'
- en: Figure 9.15 – AutoML Tables – suggested training times
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.15 – AutoML表格 – 建议的训练时间
- en: You can find the respective pricing guide at [https://cloud.google.com/automl-tables/pricing](https://cloud.google.com/automl-tables/pricing).
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在[https://cloud.google.com/automl-tables/pricing](https://cloud.google.com/automl-tables/pricing)找到相应的定价指南。
- en: You can also review the advanced options, which is where you can see the optimization
    objectives for the experiment. Since this is a classification experiment, the
    objectives listed include A**UC ROC**, **Log loss**, **AUC PR**, **Precision**,
    and **Recall**. The **Early stopping** toggle ensures that upon detecting that
    no more improvements can be made, it stops the process. Otherwise, AutoML Tables
    will continue training until the budget is met.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以查看高级选项，在这里您可以查看实验的优化目标。由于这是一个分类实验，列出的目标包括A**UC ROC**、**Log损失**、**AUC PR**、**精确度**和**召回率**。**提前停止**切换确保在检测到无法再进行改进时停止进程。否则，AutoML表格将继续训练，直到达到预算：
- en: 'Click on **TRAIN MODEL** to start this operation:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**训练模型**以启动此操作：
- en: '![Figure 9.16 – AutoML Tables – advanced options for training'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '![图9.16 – AutoML表格 – 训练的高级选项'
- en: '](img/Figure_9.16_B16890.jpg)'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.16_B16890.jpg)'
- en: Figure 9.16 – AutoML Tables – advanced options for training
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.16 – AutoML表格 – 训练的高级选项
- en: 'Upon starting the experiment, you will see the following screen. It''s initiated
    when the infrastructure is set up, as well as when the model is eventually trained:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在启动实验时，您将看到以下屏幕。它是在基础设施设置以及模型最终训练时启动的：
- en: '![Figure 9.17 – AutoML Tables – starting the AutoML Tables experiment'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '![图9.17 – AutoML表格 – 开始AutoML表格实验'
- en: '](img/Figure_9.17_B16890.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.17_B16890.jpg)'
- en: Figure 9.17 – AutoML Tables – starting the AutoML Tables experiment
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.17 – AutoML表格 – 开始AutoML表格实验
- en: 'Once the training is completed, we must evaluate and deploy the model. At this
    stage, you will be able to see how the training did, as well as any metrics about
    the model''s performance. Finally, you can deploy the model to get predictions
    about credit worthiness:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 训练完成后，我们必须评估和部署模型。在这个阶段，您将能够看到训练的效果，以及关于模型性能的任何指标。最后，您可以部署模型以获取关于信用价值的预测：
- en: '![Figure 9.18 – AutoML Tables – choosing a storage class for your data on GCP'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '![图9.18 – AutoML表格 – 在GCP上为您的数据选择存储类别'
- en: '](img/Figure_9.18_B16890.jpg)'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.18_B16890.jpg)'
- en: Figure 9.18 – AutoML Tables – choosing a storage class for your data on GCP
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.18 – AutoML表格 – 在GCP上为您的数据选择存储类别
- en: 'The accuracy is measured as a percentage, while the area under the `0` to `1`.
    Training the model with different training costs (duration) will get you a higher
    value, which indicates a higher-quality model:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 准确率以百分比衡量，而 `0` 到 `1` 下的面积。使用不同的训练成本（持续时间）训练模型将得到更高的值，这表明模型质量更高：
- en: '![Figure 9.19 – AutoML Tables – details of the trained model, including its
    F1 score, accuracy, and ](img/Figure_9.19_B16890.jpg)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![图 9.19 – AutoML 表格 – 训练模型的详细信息，包括其 F1 分数、准确率和精确率](img/Figure_9.19_B16890.jpg)'
- en: Figure 9.19 – AutoML Tables – details of the trained model, including its F1
    score, accuracy, and precision
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.19 – AutoML 表格 – 训练模型的详细信息，包括其 F1 分数、准确率和精确率
- en: 'The following page also shows the confusion matrix, which shows the quality
    of the model on the data; that is, how many data-points were predicted correctly,
    compared to how many were incorrectly predicted:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 下一页还显示了混淆矩阵，它显示了模型在数据上的质量；即预测正确的数据点数量与预测错误的数据点数量相比：
- en: '![Figure 9.20 – AutoML Tables – confusion matrix'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 9.20 – AutoML 表格 – 混淆矩阵'
- en: '](img/Figure_9.20_B16890.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.20_B16890.jpg)'
- en: Figure 9.20 – AutoML Tables – confusion matrix
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.20 – AutoML 表格 – 混淆矩阵
- en: 'Feature importance – that is, which feature has the biggest impact on the resulting
    model – is also shown. In this case, you can observe that the checking status,
    the duration of credit, and the purpose seem to have the most impact on the credit
    decision:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 特征重要性 – 即哪个特征对最终模型的影响最大 – 也已展示。在这种情况下，你可以观察到检查状态、信用期限和目的似乎对信用决策影响最大：
- en: '![Figure 9.21 – AutoML Tables – feature importance table'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 9.21 – AutoML 表格 – 特征重要性表'
- en: '](img/Figure_9.21_B16890.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.21_B16890.jpg)'
- en: Figure 9.21 – AutoML Tables – feature importance table
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.21 – AutoML 表格 – 特征重要性表
- en: Now that we've trained the model, let's proceed with its deployment.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经训练了模型，接下来让我们进行其部署。
- en: Understanding AutoML Tables model deployment
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解 AutoML 表格模型部署
- en: 'In order to deploy the model that we trained in the previous section, perform
    the following steps:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 为了部署我们在上一节中训练的模型，请执行以下步骤：
- en: 'We must click on the **TEST & USE** tab to deploy the model. There are multiple
    ways of testing the trained model: you can either test it as a batch prediction
    (file-based), as an online prediction (API), or export it in a Docker container.
    The option at the top of the page lets you toggle between online predictions via
    the REST API and batch predictions. This allows you to upload a CSV file or point
    to a BigQuery table and get prediction results for that entire file or table.
    Considering the amount of time it takes to use, AutoML Tables enables you to achieve
    a much higher level of model performance than you could reach manually. We will
    be doing online API-based prediction in this section:![Figure 9.22 – AutoML Tables
    – exporting the model'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们必须点击 **测试 & 使用** 选项卡来部署模型。有多种测试训练模型的方法：你可以将其作为批量预测（基于文件），作为在线预测（API），或者将其导出为
    Docker 容器。页面顶部的选项允许你在通过 REST API 进行在线预测和批量预测之间切换。这允许你上传 CSV 文件或指向 BigQuery 表，并获取整个文件或表的预测结果。考虑到使用所需的时间，AutoML
    表格使你能够达到比手动更高的模型性能水平。在本节中，我们将进行基于在线 API 的预测：![图 9.22 – AutoML 表格 – 导出模型
- en: '](img/Figure_9.22_B16890.jpg)'
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.22_B16890.jpg)'
- en: Figure 9.22 – AutoML Tables – exporting the model
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 9.22 – AutoML 表格 – 导出模型
- en: Click on the **ONLINE PREDICTION** tab. You will see the following screen. Here,
    you can call the API right from the console:![Figure 9.23 – AutoML Tables – online
    prediction on the trained model
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **在线预测** 选项卡。你将看到以下屏幕。在这里，你可以直接从控制台调用 API：![图 9.23 – AutoML 表格 – 在训练模型上进行在线预测
- en: '](img/Figure_9.23_B16890.jpg)'
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.23_B16890.jpg)'
- en: Figure 9.23 – AutoML Tables – online prediction on the trained model
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 9.23 – AutoML 表格 – 在训练模型上进行在线预测
- en: However, if you just click on **PREDICT**, it will give you the error shown
    in the following screenshot. Why? Because the model hasn't been deployed yet,
    which means there is no endpoint to call:![Figure 9.24 – AutoML Tables – online
    prediction on the trained model's error
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然而，如果你只是点击 **预测**，它将给出以下截图所示的错误。为什么？因为模型尚未部署，这意味着没有可调用的端点：![图 9.24 – AutoML
    表格 – 在训练模型上进行在线预测的错误
- en: '](img/Figure_9.24_B16890.jpg)'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.24_B16890.jpg)'
- en: Figure 9.24 – AutoML Tables – online prediction on the trained model's error
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 9.24 – AutoML 表格 – 在训练模型上进行在线预测的错误
- en: Click on the **Deploy model** button. You will see the following popup, confirming
    the deployment details. Now, click on **DEPLOY**:![Figure 9.25 – AutoML Tables
    – Deploying the trained model popup
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**部署模型**按钮。你将看到一个弹出窗口，确认部署细节。现在，点击**部署**：![图9.25 – AutoML表格 – 部署训练好的模型弹出窗口
- en: '](img/Figure_9.25_B16890.jpg)'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.25_B16890.jpg)'
- en: Figure 9.25 – AutoML Tables – Deploying the trained model popup
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.25 – AutoML表格 – 部署训练好的模型弹出窗口
- en: This starts the process of model deployment. Once completed, you will see the
    following screen, which states that the model has been successfully deployed and
    is available for requests, along with the size it takes up. You should remember
    that the model is now running on a server, so you will be spending compute and
    storage costs associated with running the model. This is what the prior warning
    was about.
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这启动了模型部署的过程。一旦完成，你将看到以下屏幕，它表明模型已成功部署并可供请求，同时显示了它所占用的空间大小。你应该记住，模型现在正在服务器上运行，因此你将承担与模型运行相关的计算和存储成本。这就是之前警告的内容。
- en: At this point, you can go ahead and click on the `0.661` confidence score. At
    this point, you can switch to the feature column view and edit some of the parameters.
    We intuitively known that age and the duration of the credit have a significant
    impact on our credit results. Lowering the age from `48` to `18` and increasing
    the credit term to `60` in the editable form turns this good credit decision into
    a bad one.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这一点上，你可以点击`0.661`置信度分数。此时，你可以切换到特征列视图并编辑一些参数。我们直观地知道年龄和信用期限对我们的信用结果有重大影响。将年龄从`48`降低到`18`，并在可编辑表中将信用期限增加到`60`，将这个良好的信用决策变成不良的。
- en: 'Let''s change these values and invoke the API again. You will see that the
    results have changed to bad ones, as seen in the following screenshot:'
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们更改这些值并再次调用API。你将看到结果变成了不良的，如下面的截图所示：
- en: '![Figure 9.28 – AutoML Tables – invoking the model with a modified age and
    credit duration'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '![图9.28 – AutoML表格 – 使用修改后的年龄和信用期限调用模型'
- en: '](img/Figure_9.28_B16890.jpg)'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.28_B16890.jpg)'
- en: Figure 9.28 – AutoML Tables – invoking the model with a modified age and credit
    duration
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.28 – AutoML表格 – 使用修改后的年龄和信用期限调用模型
- en: The preceding experiments have shown you how to train, deploy, and test a model.
    Now, let's explore how to use BigQuery-based public datasets with AutoML Tables.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的实验已经向你展示了如何训练、部署和测试一个模型。现在，让我们探索如何使用基于BigQuery的公开数据集与AutoML表格一起使用。
- en: AutoML Tables with BigQuery public datasets
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用BigQuery公开数据集的AutoML表格
- en: Data has been called the new oil of the digital economy. To extend this analogy,
    automated machine learning is the engine that uses data to provide advanced analytics
    without custom manual plumbing each time, but I digress. Real-world data for performing
    machine learning experiments comes from various organizations, though counterparts
    are needed to perform experiments and try out hypotheses. Such a data repository
    is the Google BigQuery cloud data warehouse – specifically, its large collection
    of public datasets. In this example, we will use BigQuery, one of the three methods
    specified in the data ingestion process for AutoML Tables, for our experiment.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 数据被称为数字经济的新石油。为了扩展这个类比，自动化机器学习是使用数据提供高级分析而不需要每次都进行定制手动配置的引擎，但我跑题了。进行机器学习实验的现实世界数据来自各种组织，尽管需要对应者来执行实验和尝试假设。这样的数据仓库是Google
    BigQuery云数据仓库——具体来说，是其大量的公开数据集集合。在这个例子中，我们将使用BigQuery，这是AutoML表格数据摄取过程中指定的三种方法之一，用于我们的实验。
- en: 'Like the loan dataset we used earlier, the adult income dataset is a public
    dataset derived from the 1994 United States Census Bureau and uses demographic
    information to predict the income of two classes: above or below $50,000 per year.
    The dataset contains 14 attributes, with the target fields being income and number
    of attributes. The data can be downloaded from [https://www.kaggle.com/wenruliu/adult-income-dataset?select=adult.csv](https://www.kaggle.com/wenruliu/adult-income-dataset?select=adult.csv).
    However, BigQuery contains a repository of popular public datasets, so we will
    use that instead. Let''s get started:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 与我们之前使用的贷款数据集类似，成人收入数据集是从1994年美国人口普查局获得的一个公开数据集，它使用人口统计信息来预测两类人的收入：每年超过或低于50,000美元。该数据集包含14个属性，目标字段是收入和属性数量。数据可以从[https://www.kaggle.com/wenruliu/adult-income-dataset?select=adult.csv](https://www.kaggle.com/wenruliu/adult-income-dataset?select=adult.csv)下载。然而，BigQuery包含了一个流行的公开数据集仓库，因此我们将使用它。让我们开始吧：
- en: As we did previously, click on **Create new dataset** in the **Tables** tab
    and click on the **CREATE DATASET** button:![Figure 9.29 – AutoML Tables – Create
    new dataset prompt
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如我们之前所做的那样，在**表格**选项卡中点击**创建新数据集**，然后点击**创建数据集**按钮：![图9.29 – AutoML表格 – 创建新数据集提示
- en: '](img/Figure_9.29_B16890.jpg)'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.29_B16890.jpg)'
- en: Figure 9.29 – AutoML Tables – Create new dataset prompt
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.29 – AutoML表格 – 创建新数据集提示
- en: Now, to add to the dataset, select the third option – that is, **Select a table
    or view from BigQuery** – as shown in the following screenshot:![Figure 9.30 –
    AutoML Tables – selecting the BigQuery data
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，为了添加到数据集中，选择第三个选项 – 即**从BigQuery中选择一个表或视图** – 如以下截图所示：![图9.30 – AutoML表格
    – 选择BigQuery数据
- en: '](img/Figure_9.30_B16890.jpg)'
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.30_B16890.jpg)'
- en: Figure 9.30 – AutoML Tables – selecting the BigQuery data
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.30 – AutoML表格 – 选择BigQuery数据
- en: 'BigQuery can be accessed at [https://console.cloud.google.com/bigquery](https://console.cloud.google.com/bigquery).
    This is where you can view the datasets it contains. You can do this by calling
    the following query:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: BigQuery可以通过[https://console.cloud.google.com/bigquery](https://console.cloud.google.com/bigquery)访问。这是您可以查看其包含的数据集的地方。您可以通过调用以下查询来完成此操作：
- en: '[PRE0]'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'You will see the following output. Our goal is to export this data to a bucket
    where it can be used for our experiment. Set the destination table for the query
    result as a dataset and click on **Run**:'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您将看到以下输出。我们的目标是导出这些数据到一个存储桶中，以便用于我们的实验。将查询结果的目标表设置为数据集，然后点击**运行**：
- en: '![Figure 9.31 – AutoML Tables – BigQuery search results from the census adult
    income dataset'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '![图9.31 – AutoML表格 – 从人口普查成年人收入数据集的BigQuery搜索结果'
- en: '](img/Figure_9.31_B16890.jpg)'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.31_B16890.jpg)'
- en: Figure 9.31 – AutoML Tables – BigQuery search results from the census adult
    income dataset
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.31 – AutoML表格 – 从人口普查成年人收入数据集的BigQuery搜索结果
- en: 'The following is a brief list of BigQuery public datasets. This makes using
    these curated datasets quite accessible and easy to use across the entire GCP
    suite of products:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一个简短的BigQuery公共数据集列表。这使得在整个GCP产品套件中使用这些精心挑选的数据集变得非常容易和方便：
- en: '![Figure 9.32 – AutoML Tables – BigQuery public datasets'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '![图9.32 – AutoML表格 – BigQuery公共数据集'
- en: '](img/Figure_9.32_B16890.jpg)'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.32_B16890.jpg)'
- en: Figure 9.32 – AutoML Tables – BigQuery public datasets
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.32 – AutoML表格 – BigQuery公共数据集
- en: 'In the previous step, you ran the query, which is now completed, and created
    a dataset, as shown in the following screenshot:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一步中，您运行了查询，现在已完成，并创建了一个数据集，如下面的截图所示：
- en: '![Figure 9.33 – AutoML Tables – BigQuery public dataset export'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '![图9.33 – AutoML表格 – BigQuery公共数据集导出'
- en: '](img/Figure_9.33_B16890.jpg)'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_9.33_B16890.jpg)'
- en: Figure 9.33 – AutoML Tables – BigQuery public dataset export
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.33 – AutoML表格 – BigQuery公共数据集导出
- en: Now that the data has been exported to a bucket, you can use it to experiment
    in AutoML Tables.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 现在数据已经导出到一个存储桶中，您可以使用它来在AutoML表格中进行实验。
- en: Automated machine learning for price prediction
  id: totrans-150
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 自动化机器学习用于价格预测
- en: So far, you have seen how AutoML Tables can be used for classification problems;
    that is, finding classes in a dataset. Now, let's do some regression; that is,
    predicting values. To do this, we will use the house sales prediction dataset.
    The King County house sales dataset contains prices for King County, which includes
    Seattle. The dataset can be downloaded from Kaggle at [https://www.kaggle.com/harlfoxem/housesalesprediction](https://www.kaggle.com/harlfoxem/housesalesprediction).
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，您已经看到了如何使用AutoML表格来解决分类问题；也就是说，在数据集中找到类别。现在，让我们做一些回归；也就是说，预测值。为此，我们将使用房屋销售预测数据集。金县房屋销售数据集包含了金县的价格，其中包括西雅图。该数据集可以从Kaggle下载，网址为[https://www.kaggle.com/harlfoxem/housesalesprediction](https://www.kaggle.com/harlfoxem/housesalesprediction)。
- en: 'For this experiment, our goal is to predict a house''s sale value (price) by
    using 21 features and 21,613 observations or data points:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个实验，我们的目标是使用21个特征和21,613个观测值或数据点来预测房屋的销售价值（价格）：
- en: Let's start in AI Platform by clicking on the **CREATE DATASET** button on the
    main page:![Figure 9.34 – AutoML Tables – getting started with the AI Platform
    home page
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们在AI平台上开始，点击主页上的**创建数据集**按钮：![图9.34 – AutoML表格 – 在AI平台主页上开始
- en: '](img/Figure_9.34_B16890.jpg)'
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.34_B16890.jpg)'
- en: Figure 9.34 – AutoML Tables – getting started with the AI Platform home page
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.34 – AutoML表格 – 在AI平台主页上开始
- en: 'Here, you must choose a dataset name and region, as shown in the following
    screenshot. Set the dataset''s type to tabular since it currently has classification
    and regression automated machine learning capabilities and click **CREATE**:'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，你必须选择数据集名称和区域，如以下截图所示。将数据集类型设置为表格，因为它目前具有分类和回归自动机器学习功能，然后点击**创建**：
- en: '![Figure 9.35 – AutoML Tables – selecting the automated machine learning objective'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图9.35 – AutoML表格 – 选择自动机器学习目标'
- en: '](img/Figure_9.35_B16890.jpg)'
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.35_B16890.jpg)'
- en: Figure 9.35 – AutoML Tables – selecting the automated machine learning objective
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.35 – AutoML表格 – 选择自动机器学习目标
- en: Upon clicking **CREATE**, you will see the following screen. Select the **Upload
    CSV files** **from your computer** option and upload it to cloud storage by pressing
    **CONTINUE**:![Figure 9.36 – AutoML Tables – choosing storage parameters for your
    data
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**后，你将看到以下屏幕。选择**从您的计算机上传CSV文件**选项，并通过点击**继续**将其上传到云存储：![图9.36 – AutoML表格
    – 选择数据存储参数
- en: '](img/Figure_9.36_B16890.jpg)'
  id: totrans-161
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.36_B16890.jpg)'
- en: Figure 9.36 – AutoML Tables – choosing storage parameters for your data
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.36 – AutoML表格 – 选择数据存储参数
- en: Upon clicking **CONTINUE**, the dataset will be uploaded and you will see the
    following screen, which shows a description of the data. Click on **TRAIN NEW
    MODEL**:![Figure 9.37 – AutoML Tables – data description details once uploading
    is completed
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**继续**后，数据集将被上传，你将看到以下屏幕，显示数据的描述。点击**训练新模型**：![图9.37 – AutoML表格 – 上传完成后数据描述的详细信息
- en: '](img/Figure_9.37_B16890.jpg)'
  id: totrans-164
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.37_B16890.jpg)'
- en: Figure 9.37 – AutoML Tables – data description details once uploading is completed
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.37 – AutoML表格 – 上传完成后数据描述的详细信息
- en: At this point, you are at the training the new model workflow. Here, set the
    objective to `Regression` and the method to **AutoML**. Then, press **CONTINUE**:![Figure
    9.38 – AutoML Tables – Train new model steps
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这个阶段，你处于训练新模型的工作流程中。在这里，将目标设置为`回归`，方法设置为**AutoML**。然后，按**继续**：![图9.38 – AutoML表格
    – 训练新模型步骤
- en: '](img/Figure_9.38_B16890.jpg)'
  id: totrans-167
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.38_B16890.jpg)'
- en: Figure 9.38 – AutoML Tables – Train new model steps
  id: totrans-168
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.38 – AutoML表格 – 训练新模型步骤
- en: Next, we must edit the model definition. Here, choose the target column (the
    price to be predicted) and the data split; that is, how you would like the test
    and training data to be split. The default option of random assignment is a good
    choice unless you have a specific need to do manual or chronological stratification.
    Click **CONTINUE** to proceed:![Figure 9.39 – AutoML Tables – Train new model
    steps
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们必须编辑模型定义。在这里，选择目标列（要预测的价格）和数据拆分；即你希望如何拆分测试数据和训练数据。除非你有特定的需求进行手动或按时间顺序分层，否则默认的随机分配选项是一个不错的选择。点击**继续**以继续：![图9.39
    – AutoML表格 – 训练新模型步骤
- en: '](img/Figure_9.39_B16890.jpg)'
  id: totrans-170
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.39_B16890.jpg)'
- en: Figure 9.39 – AutoML Tables – Train new model steps
  id: totrans-171
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.39 – AutoML表格 – 训练新模型步骤
- en: 'The following screenshot gives you the option to perform granular actions with
    data, such as removing or filtering columns, applying transformations, and more:'
  id: totrans-172
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下截图提供了对数据进行细粒度操作的选择，例如删除或过滤列、应用转换等：
- en: '![Figure 9.40 – AutoML Tables – description of the dataset upon being uploaded'
  id: totrans-173
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图9.40 – AutoML表格 – 上传数据集后的描述'
- en: '](img/Figure_9.40_B16890.jpg)'
  id: totrans-174
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.40_B16890.jpg)'
- en: Figure 9.40 – AutoML Tables – description of the dataset upon being uploaded
  id: totrans-175
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.40 – AutoML表格 – 上传数据集后的描述
- en: You can also choose optimization objectives. The choices are **root mean square
    error** (**RMSE**), **mean absolute error** (**MAE**), or **root mean square log
    error** (**RMSLE**), which is robust against the outliers. Select **RMSE (Default)**
    and click on **CONTINUE** to proceed:![Figure 9.41 – AutoML Tables – description
    of the optimization objectives
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你还可以选择优化目标。选项包括**均方根误差**（**RMSE**）、**平均绝对误差**（**MAE**）或**均方根对数误差**（**RMSLE**），它对异常值具有鲁棒性。选择**RMSE（默认）**并点击**继续**以继续：![图9.41
    – AutoML表格 – 优化目标的描述
- en: '](img/Figure_9.41_B16890.jpg)'
  id: totrans-177
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/Figure_9.41_B16890.jpg)'
- en: Figure 9.41 – AutoML Tables – description of the optimization objectives
  id: totrans-178
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图9.41 – AutoML表格 – 优化目标的描述
- en: The final thing we must look at before we start training is the training budget.
    This step should be familiar to you from our earlier experiments. Set a budget
    of 5 hours and click on **START TRAINING**. Do not forget to toggle on **Enable
    early stopping** – we don't want to exhaust the budget if the results are reached
    earlier:![Figure 9.42 – AutoML Tables – training the new model's compute and price
    step
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在我们开始训练之前，我们必须考虑的最后一件事情是训练预算。这一步应该从我们之前的实验中对你来说很熟悉。设置5小时的预算并点击**开始训练**。别忘了切换**启用早期停止**
    – 如果结果提前达到，我们不希望耗尽预算：![图 9.42 – AutoML 表格 – 训练新模型的计算和价格步骤
- en: '](img/Figure_9.42_B16890.jpg)'
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/Figure_9.42_B16890.jpg)'
- en: Figure 9.42 – AutoML Tables – training the new model's compute and price step
  id: totrans-181
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 9.42 – AutoML 表格 – 训练新模型的计算和价格步骤
- en: 'The model will start training. You will be able to see its progress in the
    **Training jobs and models** side panel:'
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 模型将开始训练。你将能够在**训练作业和模型**侧面板中看到其进度：
- en: '![Figure 9.43 – AutoML Tables – new model training started'
  id: totrans-183
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 9.43 – AutoML 表格 – 新模型训练开始'
- en: '](img/Figure_9.43_B16890.jpg)'
  id: totrans-184
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/Figure_9.43_B16890.jpg)'
- en: Figure 9.43 – AutoML Tables – new model training started
  id: totrans-185
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 9.43 – AutoML 表格 – 新模型训练开始
- en: 'This specific model took 1 hour and 35 minutes to train. The following screen
    will appear once it''s completed. This screen will show you the status attributes
    and training performance of the model:'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这个特定模型训练耗时1小时35分钟。一旦完成，将出现以下屏幕。此屏幕将显示模型的状态属性和训练性能：
- en: '![Figure 9.44 – AutoML Tables – training performance and results'
  id: totrans-187
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 9.44 – AutoML 表格 – 训练性能和结果'
- en: '](img/Figure_9.44_B16890.jpg)'
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/Figure_9.44_B16890.jpg)'
- en: Figure 9.44 – AutoML Tables – training performance and results
  id: totrans-189
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 9.44 – AutoML 表格 – 训练性能和结果
- en: 'Scroll down the **Training performance and results** page to view the feature
    importance chart for this model. This chart proves the age-old adage of real estate
    – location, location, location – to be correct. Also, the price of the property
    and the square feet of living space are closely related. This is not surprising
    either:'
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 滚动到**训练性能和结果**页面以查看此模型的特征重要性图表。此图表证明了古老的格言“房地产 – 地点，地点，地点”是正确的。此外，房产的价格和居住空间的平方英尺密切相关。这也并不令人惊讶：
- en: '![Figure 9.45 – AutoML Tables – results and their feature importance'
  id: totrans-191
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 9.45 – AutoML 表格 – 结果及其特征重要性'
- en: '](img/Figure_9.45_B16890.jpg)'
  id: totrans-192
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/Figure_9.45_B16890.jpg)'
- en: Figure 9.45 – AutoML Tables – results and their feature importance
  id: totrans-193
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 9.45 – AutoML 表格 – 结果及其特征重要性
- en: 'At this point, you can deploy and test the model by clicking on **DEPLOY &
    TEST**, as shown in the following screenshot:'
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这一点上，你可以通过点击**部署和测试**来部署和测试模型，如下面的截图所示：
- en: '![Figure 9.46 – AutoML Tables – deploying the model to an endpoint'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 9.46 – AutoML 表格 – 将模型部署到端点'
- en: '](img/Figure_9.46_B16890.jpg)'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/Figure_9.46_B16890.jpg)'
- en: Figure 9.46 – AutoML Tables – deploying the model to an endpoint
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.46 – AutoML 表格 – 将模型部署到端点
- en: In the several experiments we've conducted in this section, we have found that
    the size of the data was a substantial factor for improved accuracy. As the number
    of observations in a dataset increases, automated machine learning can perform
    a better neural architecture search and hyperparameter optimization to get the
    best results.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中我们进行的几个实验中，我们发现数据的大小是提高准确性的一个重要因素。随着数据集中观测值的增加，自动化机器学习可以执行更好的神经网络架构搜索和超参数优化，以获得最佳结果。
- en: Summary
  id: totrans-199
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned how to perform automated machine learning using
    AutoML Tables. We started by setting up a Cloud AutoML Tables-based experiment
    and then demonstrated how the AutoML Tables model is trained and deployed. Using
    multiple data sources, we explored AutoML Tables with BigQuery public datasets,
    as well as both classification and regression. We hope that this chapter has made
    you familiar with working with GCP AutoML so that you can apply it to your automated
    machine learning experiments.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了如何使用 AutoML 表格执行自动化机器学习。我们首先设置了一个基于 Cloud AutoML 表格的实验，然后展示了如何训练和部署
    AutoML 表格模型。我们使用多个数据源，探索了 AutoML 表格与 BigQuery 公共数据集，以及分类和回归。我们希望本章使你熟悉了与 GCP AutoML
    一起工作，以便你可以将其应用于你的自动化机器学习实验。
- en: In the next chapter, we will explore an enterprise use case for automated machine
    learning.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将探讨自动化机器学习的企业用例。
- en: Further reading
  id: totrans-202
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'For more information regarding what was covered in this chapter, please refer
    to the following links:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 关于本章涵盖的内容的更多信息，请参阅以下链接：
- en: 'AutoML Tables beginner''s guide:'
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AutoML Tables 初学者指南：
- en: '[https://cloud.google.com/automl-tables/docs/beginners-guide](https://cloud.google.com/automl-tables/docs/beginners-guide)'
  id: totrans-205
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[https://cloud.google.com/automl-tables/docs/beginners-guide](https://cloud.google.com/automl-tables/docs/beginners-guide)'
- en: 'AutoML Tables notebooks:'
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AutoML Tables 笔记本：
- en: '[https://cloud.google.com/automl-tables/docs/notebooks](https://cloud.google.com/automl-tables/docs/notebooks)'
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[https://cloud.google.com/automl-tables/docs/notebooks](https://cloud.google.com/automl-tables/docs/notebooks)'
