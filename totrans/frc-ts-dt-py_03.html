<html><head></head><body>
<div id="_idContainer092">
<h1 class="chapter-number" id="_idParaDest-40"><a id="_idTextAnchor176"/><a id="_idTextAnchor177"/><a id="_idTextAnchor178"/><span class="koboSpan" id="kobo.1.1">3</span></h1>
<h1 id="_idParaDest-41"><a id="_idTextAnchor179"/><span class="koboSpan" id="kobo.2.1">How Prophet Works</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Sometimes, Prophet can feel like magic, creating a complex forecast with barely any user instructions! </span><span class="koboSpan" id="kobo.3.2">But if you understand the equations behind Prophet, you’ll notice that it isn’t magic at all, but in fact, a very flexible algorithm for extracting multiple simultaneous patterns in </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">the data.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">All of this math may feel intimidating to those without a strong statistical background, but it is actually quite approachable, and an understanding of the math behind the magic will be to your benefit as you begin to forecast more complex datasets. </span><span class="koboSpan" id="kobo.5.2">In this chapter, we’ll walk through all of the relevant equations together. </span><span class="koboSpan" id="kobo.5.3">If you start to feel lost, don’t fret! </span><span class="koboSpan" id="kobo.5.4">All will become clear as you use Prophet more </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">and more.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">This chapter will introduce the reasons Facebook (now, Meta) chose to develop its own forecasting package, rather than rely on one of the many already existing tools. </span><span class="koboSpan" id="kobo.7.2">Next, you will learn about Facebook’s forecasting philosophy: a combination of the analyst’s knowledge and computing automation. </span><span class="koboSpan" id="kobo.7.3">Finally, you’ll look at the equations Prophet uses to build its models, and you’ll then tear them apart to see the role each term plays in </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">the forecast.</span></span></p>
<p><span class="koboSpan" id="kobo.9.1">In this chapter, we will discuss </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.11.1">Facebook’s motivation for </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">building Prophet</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.13.1">Analyst-in-the-loop forecasting</span></span></li>
<li><span class="koboSpan" id="kobo.14.1">The math </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">behind Prophet</span></span></li>
</ul>
<h1 id="_idParaDest-42"><a id="_idTextAnchor180"/><a id="_idTextAnchor181"/><span class="koboSpan" id="kobo.16.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.17.1">The data files and code examples in this chapter can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">at </span><a id="_idTextAnchor182"/></span><a href="https://github.com/PacktPublishing/Forecasting-Time-Series-Data-with-Prophet-Second-Edition"><span class="No-Break"><span class="koboSpan" id="kobo.19.1">https://github.com/PacktPublishing/Forecasting-Time-Series-Data-with-Prophet-Second-Edition</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.20.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.21.1">Please refer to the </span><em class="italic"><span class="koboSpan" id="kobo.22.1">Preface</span></em><span class="koboSpan" id="kobo.23.1"> of this book for the technical requirements necessary to run the </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">code examples.</span></span></p>
<h1 id="_idParaDest-43"><a id="_idTextAnchor183"/><a id="_idTextAnchor184"/><span class="koboSpan" id="kobo.25.1">Facebook’s motivation for building Prophet</span></h1>
<p><span class="koboSpan" id="kobo.26.1">As mentioned </span><a id="_idIndexMarker102"/><span class="koboSpan" id="kobo.27.1">when introducing Prophet in </span><a href="B19630_01.xhtml#_idTextAnchor031"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.28.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.29.1">, </span><em class="italic"><span class="koboSpan" id="kobo.30.1">The History and Development of Time Series Forecasting</span></em><span class="koboSpan" id="kobo.31.1">, Facebook noticed that the internal demand for business forecasts was increasing. </span><span class="koboSpan" id="kobo.31.2">Its forecasting techniques did not scale well and its analysts </span><span class="No-Break"><span class="koboSpan" id="kobo.32.1">were overwhelmed.</span></span></p>
<p><span class="koboSpan" id="kobo.33.1">Facebook scoured the literature in search of a scalable forecasting methodology. </span><span class="koboSpan" id="kobo.33.2">At the time, Facebook’s forecasting was largely done with Rob Hyndman’s </span><strong class="bold"><span class="koboSpan" id="kobo.34.1">forecast</span></strong><span class="koboSpan" id="kobo.35.1"> package in R (</span><a href="https://github.com/robjhyndman/forecast"><span class="koboSpan" id="kobo.36.1">https://github.com/robjhyndman/forecast</span></a><span class="koboSpan" id="kobo.37.1">, now </span><a id="_idIndexMarker103"/><span class="koboSpan" id="kobo.38.1">superseded </span><a id="_idIndexMarker104"/><span class="koboSpan" id="kobo.39.1">by his </span><strong class="bold"><span class="koboSpan" id="kobo.40.1">fable</span></strong><span class="koboSpan" id="kobo.41.1"> package: </span><a href="https://github.com/tidyverts/fable"><span class="koboSpan" id="kobo.42.1">https://github.com/tidyverts/fable</span></a><span class="koboSpan" id="kobo.43.1">). </span><span class="koboSpan" id="kobo.43.2">Although powerful, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.44.1">forecast</span></strong><span class="koboSpan" id="kobo.45.1"> package required R analysts with specialized data science skills in forecasting and substantial product experience. </span><span class="koboSpan" id="kobo.45.2">Further, as Python became more and more popular among new hires, Facebook found itself running short of analysts able to produce high-quality forecasts. </span><span class="koboSpan" id="kobo.45.3">Unfortunately, the completely automatic forecasting tools Facebook looked into were too brittle and often too inflexible to incorporate valuable </span><span class="No-Break"><span class="koboSpan" id="kobo.46.1">domain knowledge.</span></span></p>
<p><span class="koboSpan" id="kobo.47.1">Facebook needed to make it easier for experts and non-experts alike to make high-quality forecasts that keep up with demand. </span><span class="koboSpan" id="kobo.47.2">Prophet was, therefore, designed to be a much more straightforward way to create reasonable, accurate forecasts that are customizable in ways that are intuitive to a non-expert. </span><span class="koboSpan" id="kobo.47.3">Facebook approached this problem using what it refers to as </span><span class="No-Break"><span class="koboSpan" id="kobo.48.1">analyst-in-the-loop forecastin</span><a id="_idTextAnchor185"/><a id="_idTextAnchor186"/><span class="koboSpan" id="kobo.49.1">g.</span></span></p>
<h1 id="_idParaDest-44"><a id="_idTextAnchor187"/><span class="koboSpan" id="kobo.50.1">Analyst-in-the-loop forecasting</span></h1>
<p><span class="koboSpan" id="kobo.51.1">When developing Prophet, Facebook took great care </span><a id="_idIndexMarker105"/><span class="koboSpan" id="kobo.52.1">to ensure that the default settings for all parameters would give great results for a wide variety of business cases. </span><span class="koboSpan" id="kobo.52.2">However, there are always edge cases, challenging datasets, or simply a forecast that doesn’t quite match expectations. </span><span class="koboSpan" id="kobo.52.3">In these situations where the forecast is not satisfactory, the analyst is not stuck with fully automated results. </span><span class="koboSpan" id="kobo.52.4">Any analyst, even a beginner forecaster, can improve the forecast by tweaking a variety of easily interpretable parameters. </span><span class="koboSpan" id="kobo.52.5">Facebook dubs this process </span><strong class="bold"><span class="koboSpan" id="kobo.53.1">analyst-in-the-loop forecasting</span></strong><span class="koboSpan" id="kobo.54.1"> (see </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.55.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.56.1">.1</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">).</span></span><a id="_idTextAnchor188"/><a id="_idTextAnchor189"/></p>
<div>
<div class="IMG---Figure" id="_idContainer021">
<span class="koboSpan" id="kobo.58.1"><img alt="Figure 3.1 – Analyst-in-the-loop forecasting" src="image/Fig_3.1.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.59.1">Figure 3.1 – Analyst-in-the-loop forecasting</span></p>
<p><span class="koboSpan" id="kobo.60.1">Analyst-in-the-loop forecasting is an iterative process. </span><span class="koboSpan" id="kobo.60.2">The </span><a id="_idIndexMarker106"/><span class="koboSpan" id="kobo.61.1">analyst starts by using Prophet to build a model using the default parameters. </span><span class="koboSpan" id="kobo.61.2">Prophet has been optimized for speed, so in (usually) just a few seconds, it can output a very acceptable forecast. </span><span class="koboSpan" id="kobo.61.3">Prophet can then evaluate the forecast and surface potential issues before handing it back to the analyst for a quick visual inspection. </span><span class="koboSpan" id="kobo.61.4">If the forecast matches the analyst’s expectations, their work is done! </span><span class="koboSpan" id="kobo.61.5">But when Prophet has revealed poor performance or the analyst’s visual inspection provides unsatisfactory results, the analyst can intuitively tweak the model to improve performance and better align results </span><span class="No-Break"><span class="koboSpan" id="kobo.62.1">with expectations.</span></span></p>
<p><span class="koboSpan" id="kobo.63.1">This cycle can continue as many times as necessary. </span><span class="koboSpan" id="kobo.63.2">The beauty of Prophet is that because forecasting is so exceptionally quick, a full cycle can often be completed in less than a minute. </span><span class="koboSpan" id="kobo.63.3">An analyst with extensive domain knowledge but limited statistical knowledge is thus able to create a highly customized forecast. </span><span class="koboSpan" id="kobo.63.4">Parameters the analyst may wish to adjust include </span><span class="No-Break"><span class="koboSpan" id="kobo.64.1">the following:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.65.1">Capacities</span></strong><span class="koboSpan" id="kobo.66.1">: An upper </span><a id="_idIndexMarker107"/><span class="koboSpan" id="kobo.67.1">or lower limit that the forecast can asymptotically approach. </span><span class="koboSpan" id="kobo.67.2">An example of capacity might be the total market size at a </span><span class="No-Break"><span class="koboSpan" id="kobo.68.1">given time.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.69.1">Changepoints</span></strong><span class="koboSpan" id="kobo.70.1">: These are moments in time when the trend of the forecast takes an abrupt change of direction. </span><span class="koboSpan" id="kobo.70.2">These might result from a major product update or even a mention in the press that garners </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">significant attention.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.72.1">Holidays and seasonality</span></strong><span class="koboSpan" id="kobo.73.1">: Whatever is being forecast will behave differently due to the effects of holidays and seasonality. </span><span class="koboSpan" id="kobo.73.2">For example, sales of turkeys peak in the week before Thanksgiving, and beach balls in mid-summer. </span><span class="koboSpan" id="kobo.73.3">The analyst who understands their product can easily input this intelligence into </span><span class="No-Break"><span class="koboSpan" id="kobo.74.1">their model.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.75.1">Smoothing parameters</span></strong><span class="koboSpan" id="kobo.76.1">: After visually inspecting the model, the analyst can intuitively see whether the model is over- or under-fitting the data. </span><span class="koboSpan" id="kobo.76.2">Smoothing parameters can be used to reduce the noise of a model or to instruct the model on how much seasonal variation can be expected in </span><span class="No-Break"><span class="koboSpan" id="kobo.77.1">the future.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.78.1">There are often discussions about the difference</span><a id="_idIndexMarker108"/><span class="koboSpan" id="kobo.79.1"> between </span><strong class="bold"><span class="koboSpan" id="kobo.80.1">statistical forecasting</span></strong><span class="koboSpan" id="kobo.81.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.82.1">judgmental forecasting</span></strong><span class="koboSpan" id="kobo.83.1">. </span><span class="koboSpan" id="kobo.83.2">A</span><a id="_idIndexMarker109"/><span class="koboSpan" id="kobo.84.1"> statistical forecast is a model mathematically fit to historical data, whereas a judgmental forecast (also </span><a id="_idIndexMarker110"/><span class="koboSpan" id="kobo.85.1">sometimes called a </span><strong class="bold"><span class="koboSpan" id="kobo.86.1">managerial forecast</span></strong><span class="koboSpan" id="kobo.87.1">) is a </span><a id="_idIndexMarker111"/><span class="koboSpan" id="kobo.88.1">process through which human experts produce a forecast using whatever knowledge they have learned through their experience with the time series. </span><span class="koboSpan" id="kobo.88.2">Judgmental forecasts can include much more information than a statistical forecast and can be more responsive to changing conditions, but they don’t scale well and require significant work from the analyst. </span><span class="koboSpan" id="kobo.88.3">A statistical forecast is much more easily automated and can scale up to meet forecasting demand, but is limited in the amount of domain knowledge it </span><span class="No-Break"><span class="koboSpan" id="kobo.89.1">can incorporate.</span></span></p>
<p><span class="koboSpan" id="kobo.90.1">Facebook’s analyst-in-the-loop paradigm is a combination of the best qualities of these two different approaches: powerfully automated, but simple and intuitive to adjust. </span><span class="koboSpan" id="kobo.90.2">Despite this simplicity, however, Prophet is actually rather sophisticated when you peer at its inner workings. </span><span class="koboSpan" id="kobo.90.3">Although creating accurate forecasts does not require an understanding of the math underpinning Prophet’s models, an awareness of what Prophet is doing will only improve your forecasting nous. </span><span class="koboSpan" id="kobo.90.4">If you’re ready, let’s now take a look at the set</span><a id="_idIndexMarker112"/><span class="koboSpan" id="kobo.91.1"> of equations Prophet is using to build </span><span class="No-Break"><span class="koboSpan" id="kobo.92.1">its forecasts.</span></span></p>
<h1 id="_idParaDest-45"><a id="_idTextAnchor190"/><span class="koboSpan" id="kobo.93.1">The math behind Prophet</span></h1>
<p><span class="koboSpan" id="kobo.94.1">In </span><a href="B19630_01.xhtml#_idTextAnchor031"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.95.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.96.1">, </span><em class="italic"><span class="koboSpan" id="kobo.97.1">The History and Development of Time Series Forecasting</span></em><span class="koboSpan" id="kobo.98.1">, we introduced </span><a id="_idIndexMarker113"/><span class="koboSpan" id="kobo.99.1">Prophet as an additive regression model. </span><em class="italic"><span class="koboSpan" id="kobo.100.1">Figures 1.4</span></em><span class="koboSpan" id="kobo.101.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.102.1">1.5</span></em><span class="koboSpan" id="kobo.103.1"> in that chapter illustrated this by showing how several different curves representing model components can simply be added together to arrive at a final model. </span><span class="koboSpan" id="kobo.103.2">Mathematically, this is represented with the </span><span class="No-Break"><span class="koboSpan" id="kobo.104.1">following equation:</span></span></p>
<table class="No-Table-Style" id="table001-1">
<colgroup>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style"/>
<td class="No-Table-Style">
<p class="IMG---Figure"><span class="koboSpan" id="kobo.105.1"><img alt="" src="image/B19630_03_F01.png"/></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.106.1">(</span><span class="No-Break"><span class="koboSpan" id="kobo.107.1">1)</span></span></p>
</td>
</tr>
</tbody>
</table>
<p><span class="koboSpan" id="kobo.108.1">The model’s forecasted </span><span class="koboSpan" id="kobo.109.1"><img alt="" src="image/B19630_03_F02.png"/></span><span class="koboSpan" id="kobo.110.1"> value at time </span><span class="koboSpan" id="kobo.111.1"><img alt="" src="image/B19630_03_F03.png"/></span><span class="koboSpan" id="kobo.112.1"> is given by the </span><span class="koboSpan" id="kobo.113.1"><img alt="" src="image/B19630_03_F04.png"/></span><span class="koboSpan" id="kobo.114.1"> function. </span><span class="koboSpan" id="kobo.114.2">This function consists of four components, summed together (or multiplied together; see </span><a href="B19630_05.xhtml#_idTextAnchor254"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.115.1">Chapter 5</span></em></span></a><span class="koboSpan" id="kobo.116.1">, </span><em class="italic"><span class="koboSpan" id="kobo.117.1">Working with</span></em> <em class="italic"><span class="koboSpan" id="kobo.118.1">Seasonality,</span></em><span class="koboSpan" id="kobo.119.1"> for more </span><span class="No-Break"><span class="koboSpan" id="kobo.120.1">on this):</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.121.1"><img alt="" src="image/B19630_03_F05.png"/></span><span class="koboSpan" id="kobo.122.1"> is the growth component, or the general trend, which </span><span class="No-Break"><span class="koboSpan" id="kobo.123.1">is non-periodic</span></span></li>
<li><span class="koboSpan" id="kobo.124.1"><img alt="" src="image/B19630_03_F06.png"/></span><span class="koboSpan" id="kobo.125.1"> is the seasonality component – that is, the summation of all </span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">periodic components</span></span></li>
<li><span class="koboSpan" id="kobo.127.1"><img alt="" src="image/B19630_03_F07.png"/></span><span class="koboSpan" id="kobo.128.1"> is the holiday component, representing all one-off </span><span class="No-Break"><span class="koboSpan" id="kobo.129.1">special events</span></span></li>
<li><span class="koboSpan" id="kobo.130.1"><img alt="" src="image/B19630_03_F08.png"/></span><span class="koboSpan" id="kobo.131.1"> is the </span><span class="No-Break"><span class="koboSpan" id="kobo.132.1">error term</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.133.1">The combination of these four components (actually, only the first three components—the error term is just there to account for noise that cannot be accommodated by the model) is all Prophet needs to build its forecast. </span><span class="koboSpan" id="kobo.133.2">The simplicity of this equation, however, hides </span><a id="_idIndexMarker114"/><span class="koboSpan" id="kobo.134.1">many complexities. </span><span class="koboSpan" id="kobo.134.2">To really understand what is happening, we’ll need to break down each of </span><span class="No-Break"><span class="koboSpan" id="kobo.135.1">those components.</span></span></p>
<h2 id="_idParaDest-46"><a id="_idTextAnchor191"/><span class="koboSpan" id="kobo.136.1">Linear growth</span></h2>
<p><span class="koboSpan" id="kobo.137.1">First, we’ll look</span><a id="_idIndexMarker115"/><span class="koboSpan" id="kobo.138.1"> at the growth term. </span><span class="koboSpan" id="kobo.138.2">Prophet </span><a id="_idIndexMarker116"/><span class="koboSpan" id="kobo.139.1">was introduced with two growth modes, linear and logistic, one of which needs to be chosen by the analyst when setting up the model. </span><span class="koboSpan" id="kobo.139.2">(How does the analyst choose? </span><span class="koboSpan" id="kobo.139.3">We’ll cover that in </span><a href="B19630_07.xhtml#_idTextAnchor453"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.140.1">Chapter 7</span></em></span></a><span class="koboSpan" id="kobo.141.1">, </span><em class="italic"><span class="koboSpan" id="kobo.142.1">Controlling</span></em> <em class="italic"><span class="koboSpan" id="kobo.143.1">Growth Modes</span></em><span class="koboSpan" id="kobo.144.1">!) That choice instructs Prophet to use one of two equations for this term. </span><span class="koboSpan" id="kobo.144.2">We’ll start by looking at the </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">linear version:</span></span></p>
<table class="No-Table-Style" id="table002">
<colgroup>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style"/>
<td class="No-Table-Style">
<p class="IMG---Figure"><span class="koboSpan" id="kobo.146.1"><img alt="" src="image/B19630_03_F09.png"/></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.147.1">(</span><span class="No-Break"><span class="koboSpan" id="kobo.148.1">2)</span></span></p>
</td>
</tr>
</tbody>
</table>
<p><span class="koboSpan" id="kobo.149.1">The </span><span class="koboSpan" id="kobo.150.1"><img alt="" src="image/B19630_03_F10.png"/></span><span class="koboSpan" id="kobo.151.1"> variable is the growth rate, the slope of the line. </span><span class="koboSpan" id="kobo.151.2">Those familiar with regression will recognize that the basic equation for a line is </span><span class="koboSpan" id="kobo.152.1"><img alt="" src="image/B19630_03_F11.png"/></span><span class="koboSpan" id="kobo.153.1">. </span><span class="koboSpan" id="kobo.153.2">We see equation </span><em class="italic"><span class="koboSpan" id="kobo.154.1">(2)</span></em><span class="koboSpan" id="kobo.155.1"> bears some resemblance to this basic equation if you collect everything in the parentheses and group them together. </span><span class="koboSpan" id="kobo.155.2">But a key difference between a simple line and Prophet’s </span><strong class="bold"><span class="koboSpan" id="kobo.156.1">piecewise linear model</span></strong><span class="koboSpan" id="kobo.157.1"> is </span><a id="_idIndexMarker117"/><span class="koboSpan" id="kobo.158.1">right there in the name: it is piecewise. </span><span class="koboSpan" id="kobo.158.2">The slope can change as a function </span><span class="No-Break"><span class="koboSpan" id="kobo.159.1">of </span><span class="koboSpan" id="kobo.160.1"><img alt="" src="image/B19630_03_F12.png"/></span><span class="koboSpan" id="kobo.161.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer034">
<span class="koboSpan" id="kobo.162.1"><img alt="Figure 3.2 – The vertical dashed line is a changepoint in Prophet’s model, where the slope changes" src="image/Fig_3.2.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.163.1">Figure 3.2 – The vertical dashed line is a changepoint in Prophet’s model, where the slope changes</span></p>
<p><span class="koboSpan" id="kobo.164.1">This is why </span><span class="koboSpan" id="kobo.165.1"><img alt="" src="image/B19630_03_F13.png"/></span><span class="koboSpan" id="kobo.166.1">, the </span><a id="_idIndexMarker118"/><span class="koboSpan" id="kobo.167.1">slope, has an addition to it: </span><span class="koboSpan" id="kobo.168.1"><img alt="" src="image/B19630_03_F14.png"/></span><span class="koboSpan" id="kobo.169.1">. </span><span class="koboSpan" id="kobo.169.2">The </span><span class="koboSpan" id="kobo.170.1"><img alt="" src="image/B19630_03_F15.png"/></span><span class="koboSpan" id="kobo.171.1"> variable is </span><a id="_idIndexMarker119"/><span class="koboSpan" id="kobo.172.1">a vector of rate adjustments (i.e., the slope change that occurs at each changepoint), where </span><span class="koboSpan" id="kobo.173.1"><img alt="" src="image/B19630_03_F16.png"/></span><span class="koboSpan" id="kobo.174.1"> is the change of slope that occurs at time </span><span class="koboSpan" id="kobo.175.1"><img alt="" src="image/B19630_03_F17.png"/></span><span class="koboSpan" id="kobo.176.1">. </span><span class="koboSpan" id="kobo.176.2">The </span><span class="koboSpan" id="kobo.177.1"><img alt="" src="image/B19630_03_F18.png"/></span><span class="koboSpan" id="kobo.178.1"> vector identifies the locations of each changepoint and is defined </span><span class="No-Break"><span class="koboSpan" id="kobo.179.1">as follows:</span></span></p>
<table class="No-Table-Style" id="table003">
<colgroup>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style"/>
<td class="No-Table-Style">
<p class="IMG---Figure"><span class="koboSpan" id="kobo.180.1"><img alt="" src="image/B19630_03_F19.png"/></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.181.1">(</span><span class="No-Break"><span class="koboSpan" id="kobo.182.1">3)</span></span></p>
</td>
</tr>
</tbody>
</table>
<p><span class="koboSpan" id="kobo.183.1">In simple words, this means that the slope of the line is constant, but allows slope adjustments to occur. </span><span class="koboSpan" id="kobo.183.2">At any time </span><span class="koboSpan" id="kobo.184.1"><img alt="" src="image/B19630_03_F20.png"/></span><span class="koboSpan" id="kobo.185.1">, the slope is equal to the </span><span class="koboSpan" id="kobo.186.1"><img alt="" src="image/B19630_03_F21.png"/></span><span class="koboSpan" id="kobo.187.1"> base rate plus all of the slope adjustments up to </span><span class="No-Break"><span class="koboSpan" id="kobo.188.1">that point.</span></span></p>
<p><span class="koboSpan" id="kobo.189.1">To make the line continuous, each segment between changepoints must be adjusted up or down with an offset parameter so that the endpoints of each segment are connected. </span><span class="koboSpan" id="kobo.189.2">In equation </span><em class="italic"><span class="koboSpan" id="kobo.190.1">(2)</span></em><span class="koboSpan" id="kobo.191.1">, </span><span class="koboSpan" id="kobo.192.1"><img alt="" src="image/B19630_03_F22.png"/></span><span class="koboSpan" id="kobo.193.1"> is the offset parameter. </span><span class="koboSpan" id="kobo.193.2">Just like the slope, this offset parameter is a base offset plus all offsets up to time </span><span class="koboSpan" id="kobo.194.1"><img alt="" src="image/B19630_03_F23.png"/></span><span class="koboSpan" id="kobo.195.1">. </span><span class="koboSpan" id="kobo.195.2">Mathematically, this is done by adding to </span><span class="koboSpan" id="kobo.196.1"><img alt="" src="image/B19630_03_F24.png"/></span><span class="koboSpan" id="kobo.197.1"> that vector of</span><a id="_idIndexMarker120"/><span class="koboSpan" id="kobo.198.1"> changepoint</span><a id="_idIndexMarker121"/><span class="koboSpan" id="kobo.199.1"> locations, </span><span class="koboSpan" id="kobo.200.1"><img alt="" src="image/B19630_03_F25.png"/></span><span class="koboSpan" id="kobo.201.1">, multiplied by a vector of offset adjustments, </span><span class="koboSpan" id="kobo.202.1"><img alt="" src="image/B19630_03_F26.png"/></span><span class="koboSpan" id="kobo.203.1">. </span><span class="koboSpan" id="kobo.203.2">In this linear model, </span><span class="koboSpan" id="kobo.204.1"><img alt="" src="image/B19630_03_F27.png"/></span><span class="koboSpan" id="kobo.205.1"> is set </span><span class="No-Break"><span class="koboSpan" id="kobo.206.1">to </span><span class="koboSpan" id="kobo.207.1"><img alt="" src="image/B19630_03_F28.png"/></span><span class="koboSpan" id="kobo.208.1">:</span></span></p>
<table class="No-Table-Style" id="table004">
<colgroup>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style"/>
<td class="No-Table-Style">
<p class="IMG---Figure"><span class="koboSpan" id="kobo.209.1"><img alt="" src="image/B19630_03_F29.png"/></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.210.1">(</span><span class="No-Break"><span class="koboSpan" id="kobo.211.1">4)</span></span></p>
</td>
</tr>
</tbody>
</table>
<p><span class="koboSpan" id="kobo.212.1">That is how </span><span class="koboSpan" id="kobo.213.1"><img alt="" src="image/B19630_03_F30.png"/></span><span class="koboSpan" id="kobo.214.1"> is defined for Prophet’s linear model! </span><span class="koboSpan" id="kobo.214.2">Now let’s see how to change it for the </span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">logistic model.</span></span></p>
<h2 id="_idParaDest-47"><a id="_idTextAnchor192"/><span class="koboSpan" id="kobo.216.1">Logistic growth</span></h2>
<p><span class="koboSpan" id="kobo.217.1">Similar to how </span><a id="_idIndexMarker122"/><span class="koboSpan" id="kobo.218.1">the</span><a id="_idIndexMarker123"/><span class="koboSpan" id="kobo.219.1"> general equation for a line is </span><span class="koboSpan" id="kobo.220.1"><img alt="" src="image/B19630_03_F31.png"/></span><span class="koboSpan" id="kobo.221.1">, the general equation for a logistic curve is given by the </span><span class="No-Break"><span class="koboSpan" id="kobo.222.1">following equation:</span></span></p>
<table class="No-Table-Style" id="table005">
<colgroup>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style"/>
<td class="No-Table-Style">
<p class="IMG---Figure"><span class="koboSpan" id="kobo.223.1"><img alt="" src="image/B19630_03_F32.png"/></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.224.1">(</span><span class="No-Break"><span class="koboSpan" id="kobo.225.1">5)</span></span></p>
</td>
</tr>
</tbody>
</table>
<p><span class="koboSpan" id="kobo.226.1">As in the linear model, equation </span><em class="italic"><span class="koboSpan" id="kobo.227.1">(2)</span></em><span class="koboSpan" id="kobo.228.1">, </span><span class="koboSpan" id="kobo.229.1"><img alt="" src="image/B19630_03_F33.png"/></span><span class="koboSpan" id="kobo.230.1"> is the growth rate and </span><span class="koboSpan" id="kobo.231.1"><img alt="" src="image/B19630_03_F34.png"/></span><span class="koboSpan" id="kobo.232.1"> is an offset parameter. </span><span class="koboSpan" id="kobo.232.2">Equation </span><em class="italic"><span class="koboSpan" id="kobo.233.1">(5)</span></em><span class="koboSpan" id="kobo.234.1"> requires many of the same adjustments we made in equation </span><em class="italic"><span class="koboSpan" id="kobo.235.1">(2)</span></em><span class="koboSpan" id="kobo.236.1"> to allow for changepoints. </span><span class="koboSpan" id="kobo.236.2">Prophet also </span><a id="_idIndexMarker124"/><span class="koboSpan" id="kobo.237.1">allows </span><span class="koboSpan" id="kobo.238.1"><img alt="" src="image/B19630_03_F35.png"/></span><span class="koboSpan" id="kobo.239.1">, the </span><strong class="bold"><span class="koboSpan" id="kobo.240.1">carrying capacity</span></strong><span class="koboSpan" id="kobo.241.1">, to change with time. </span><span class="koboSpan" id="kobo.241.2">This value is essentially </span><a id="_idIndexMarker125"/><span class="koboSpan" id="kobo.242.1">an asymptote that the curve approaches but never </span><span class="No-Break"><span class="koboSpan" id="kobo.243.1">quite reaches:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer058">
<span class="koboSpan" id="kobo.244.1"><img alt="Figure 3.3 – Prophet’s logistic model, with a carrying capacity set to 500" src="image/Fig_3.3.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.245.1">Figure 3.3 – Prophet’s logistic model, with a carrying capacity set to 500</span></p>
<p><span class="koboSpan" id="kobo.246.1">Note that the </span><span class="koboSpan" id="kobo.247.1"><img alt="" src="image/B19630_03_F36.png"/></span><span class="koboSpan" id="kobo.248.1"> capacity</span><a id="_idIndexMarker126"/><span class="koboSpan" id="kobo.249.1"> is a function of time. </span><span class="koboSpan" id="kobo.249.2">This means that the asymptote need not</span><a id="_idIndexMarker127"/><span class="koboSpan" id="kobo.250.1"> be constant but can indeed be any arbitrary curve. </span><span class="koboSpan" id="kobo.250.2">Here, we demonstrate a constant capacity switching to a linearly </span><span class="No-Break"><span class="koboSpan" id="kobo.251.1">increasing capacity:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer060">
<span class="koboSpan" id="kobo.252.1"><img alt="Figure 3.4 – Carrying capacity may not necessarily be constant" src="image/Fig_3.4.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.253.1">Figure 3.4 – Carrying capacity may not necessarily be constant</span></p>
<p><span class="koboSpan" id="kobo.254.1">If we take </span><a id="_idIndexMarker128"/><span class="koboSpan" id="kobo.255.1">equation </span><em class="italic"><span class="koboSpan" id="kobo.256.1">(5)</span></em><span class="koboSpan" id="kobo.257.1"> and make the same adjustments</span><a id="_idIndexMarker129"/><span class="koboSpan" id="kobo.258.1"> to </span><span class="koboSpan" id="kobo.259.1"><img alt="" src="image/B19630_03_F37.png"/></span><span class="koboSpan" id="kobo.260.1"> and </span><span class="koboSpan" id="kobo.261.1"><img alt="" src="image/B19630_03_F38.png"/></span><span class="koboSpan" id="kobo.262.1"> that we made in equation </span><em class="italic"><span class="koboSpan" id="kobo.263.1">(2)</span></em><span class="koboSpan" id="kobo.264.1">, and also allow </span><span class="koboSpan" id="kobo.265.1"><img alt="" src="image/B19630_03_F39.png"/></span><span class="koboSpan" id="kobo.266.1"> to be a function of time, then we arrive at the </span><span class="No-Break"><span class="koboSpan" id="kobo.267.1">following equation:</span></span></p>
<table class="No-Table-Style" id="table006">
<colgroup>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style"/>
<td class="No-Table-Style">
<p class="IMG---Figure"><span class="koboSpan" id="kobo.268.1"><img alt="" src="image/B19630_03_F40.png"/></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.269.1">(</span><span class="No-Break"><span class="koboSpan" id="kobo.270.1">6)</span></span></p>
</td>
</tr>
</tbody>
</table>
<p><span class="koboSpan" id="kobo.271.1">This is Prophet’s logistic growth model. </span><span class="koboSpan" id="kobo.271.2">In the linear model, </span><span class="koboSpan" id="kobo.272.1"><img alt="" src="image/B19630_03_F41.png"/></span><span class="koboSpan" id="kobo.273.1">, but in the logistic model, </span><span class="koboSpan" id="kobo.274.1"><img alt="" src="image/B19630_03_F42.png"/></span><span class="koboSpan" id="kobo.275.1"> must take a more </span><span class="No-Break"><span class="koboSpan" id="kobo.276.1">complex form:</span></span></p>
<table class="No-Table-Style" id="table007">
<colgroup>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style"/>
<td class="No-Table-Style">
<p class="IMG---Figure"><span class="koboSpan" id="kobo.277.1"><img alt="" src="image/B19630_03_F43.png"/></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.278.1">(</span><span class="No-Break"><span class="koboSpan" id="kobo.279.1">7)</span></span></p>
</td>
</tr>
</tbody>
</table>
<p><span class="koboSpan" id="kobo.280.1">Although equation </span><em class="italic"><span class="koboSpan" id="kobo.281.1">(7)</span></em><span class="koboSpan" id="kobo.282.1"> is more complex than </span><em class="italic"><span class="koboSpan" id="kobo.283.1">(4)</span></em><span class="koboSpan" id="kobo.284.1">, it essentially performs the same task: ensuring that, at each changepoint, the endpoints of each segment of the trend curve are connected and the line </span><span class="No-Break"><span class="koboSpan" id="kobo.285.1">is continuous.</span></span></p>
<p><span class="koboSpan" id="kobo.286.1">The growth </span><a id="_idIndexMarker130"/><span class="koboSpan" id="kobo.287.1">term, </span><span class="koboSpan" id="kobo.288.1"><img alt="" src="image/B19630_03_F44.png"/></span><span class="koboSpan" id="kobo.289.1">, is the most complicated of the</span><a id="_idIndexMarker131"/><span class="koboSpan" id="kobo.290.1"> full Prophet model. </span><span class="koboSpan" id="kobo.290.2">It gets easier from here! </span><span class="koboSpan" id="kobo.290.3">Now, we’ll move on to understand </span><span class="koboSpan" id="kobo.291.1"><img alt="" src="image/B19630_03_F45.png"/></span><span class="koboSpan" id="kobo.292.1">, the </span><span class="No-Break"><span class="koboSpan" id="kobo.293.1">seasonality term.</span></span></p>
<h2 id="_idParaDest-48"><a id="_idTextAnchor193"/><span class="koboSpan" id="kobo.294.1">Seasonality</span></h2>
<p><span class="koboSpan" id="kobo.295.1">Time series data </span><a id="_idIndexMarker132"/><span class="koboSpan" id="kobo.296.1">often exhibits periodicity, especially with </span><a id="_idIndexMarker133"/><span class="koboSpan" id="kobo.297.1">business data, where there are often yearly cycles, weekly cycles, and daily cycles. </span><span class="koboSpan" id="kobo.297.2">Prophet can accept an unlimited number of such periodic components in its seasonality term, </span><span class="koboSpan" id="kobo.298.1"><img alt="" src="image/B19630_03_F45.png"/></span><span class="koboSpan" id="kobo.299.1">, from </span><span class="No-Break"><span class="koboSpan" id="kobo.300.1">equation </span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.301.1">(1)</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.302.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.303.1">Prophet models this term with a Fourier series. </span><span class="koboSpan" id="kobo.303.2">A Fourier series is simply a summation of multiple sinusoidal curves. </span><span class="koboSpan" id="kobo.303.3">The shape of this final curve is determined by the amplitude, phase, and period of each of the component curves. </span><span class="koboSpan" id="kobo.303.4">A Fourier series can include an infinite number of components, and can, therefore, be made to fit almost any arbitrary periodic function, as </span><span class="No-Break"><span class="koboSpan" id="kobo.304.1">demonstrated here:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer071">
<span class="koboSpan" id="kobo.305.1"><img alt="Figure 3.5 – The sum of four sinusoidal curves demonstrates a Fourier series" src="image/Fig_3.5.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.306.1">Figure 3.5 – The sum of four sinusoidal curves demonstrates a Fourier series</span></p>
<p><span class="koboSpan" id="kobo.307.1">In Prophet, this </span><a id="_idIndexMarker134"/><span class="koboSpan" id="kobo.308.1">summation takes the </span><span class="No-Break"><span class="koboSpan" id="kobo.309.1">following</span></span><span class="No-Break"><a id="_idIndexMarker135"/></span><span class="No-Break"><span class="koboSpan" id="kobo.310.1"> form:</span></span></p>
<table class="No-Table-Style" id="table008">
<colgroup>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style"/>
<td class="No-Table-Style">
<p class="IMG---Figure"><span class="koboSpan" id="kobo.311.1"><img alt="" src="image/B19630_03_F47.png"/></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.312.1">(</span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">8)</span></span></p>
</td>
</tr>
</tbody>
</table>
<p><span class="koboSpan" id="kobo.314.1">This is the sum of </span><span class="koboSpan" id="kobo.315.1"><img alt="" src="image/B19630_03_F48.png"/></span><span class="koboSpan" id="kobo.316.1"> different curves, referred </span><a id="_idIndexMarker136"/><span class="koboSpan" id="kobo.317.1">to as the </span><strong class="bold"><span class="koboSpan" id="kobo.318.1">Fourier order</span></strong><span class="koboSpan" id="kobo.319.1">. </span><span class="koboSpan" id="kobo.319.2">In this formula, </span><span class="koboSpan" id="kobo.320.1"><img alt="" src="image/B19630_03_F49.png"/></span><span class="koboSpan" id="kobo.321.1"> is the regular period of the time series (for example, 365.25 for yearly data, 7 for weekly data, or 1 for daily data, when the time series is scaled in days). </span><span class="koboSpan" id="kobo.321.2">Part of Prophet’s fitting process is to calculate values for </span><span class="koboSpan" id="kobo.322.1"><img alt="" src="image/B19630_03_F50.png"/></span><span class="koboSpan" id="kobo.323.1"> and </span><span class="koboSpan" id="kobo.324.1"><img alt="" src="image/B19630_03_F51.png"/></span><span class="koboSpan" id="kobo.325.1">, which are merely </span><span class="No-Break"><span class="koboSpan" id="kobo.326.1">fitting parameters.</span></span></p>
<p><span class="koboSpan" id="kobo.327.1">Holding </span><span class="koboSpan" id="kobo.328.1"><img alt="" src="image/B19630_03_F52.png"/></span><span class="koboSpan" id="kobo.329.1"> to be relatively low essentially applies a low-pass filter on the data and prohibits the model’s ability to overfit the data. </span><span class="koboSpan" id="kobo.329.2">Increasing </span><span class="koboSpan" id="kobo.330.1"><img alt="" src="image/B19630_03_F53.png"/></span><span class="koboSpan" id="kobo.331.1">, however, is sometimes desirable, as it allows for the fitting of seasonality patterns, which change more quickly. </span><span class="koboSpan" id="kobo.331.2">Prophet’s developers have taken this into account and carefully chosen default values that seem to</span><a id="_idIndexMarker137"/><span class="koboSpan" id="kobo.332.1"> perform </span><a id="_idIndexMarker138"/><span class="koboSpan" id="kobo.333.1">quite well. </span><span class="koboSpan" id="kobo.333.2">We’ll look more closely at this in </span><a href="B19630_05.xhtml#_idTextAnchor254"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.334.1">Chapter 5</span></em></span></a><span class="koboSpan" id="kobo.335.1">, </span><em class="italic"><span class="koboSpan" id="kobo.336.1">Working </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.337.1">with Seasonality</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.338.1">.</span></span></p>
<h2 id="_idParaDest-49"><a id="_idTextAnchor194"/><span class="koboSpan" id="kobo.339.1">Holidays</span></h2>
<p><span class="koboSpan" id="kobo.340.1">The final component </span><a id="_idIndexMarker139"/><span class="koboSpan" id="kobo.341.1">we need to take a look at in order to</span><a id="_idIndexMarker140"/><span class="koboSpan" id="kobo.342.1"> understand Prophet’s full forecast model is the holiday component. </span><span class="koboSpan" id="kobo.342.2">This is possibly the simplest component to understand. </span><span class="koboSpan" id="kobo.342.3">The analyst provides Prophet (or loads a default list) with a set of holiday names and dates, including future dates, and Prophet estimates the deviation from the trend and seasonality forecast during previous dates and then applies that same change to </span><span class="No-Break"><span class="koboSpan" id="kobo.343.1">future dates.</span></span></p>
<p><span class="koboSpan" id="kobo.344.1">This is mathematically represented with a matrix of </span><span class="No-Break"><span class="koboSpan" id="kobo.345.1">regressors, </span><span class="koboSpan" id="kobo.346.1"><img alt="" src="image/B19630_03_F54.png"/></span><span class="koboSpan" id="kobo.347.1">:</span></span></p>
<table class="No-Table-Style" id="table009">
<colgroup>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style"/>
<td class="No-Table-Style">
<p class="IMG---Figure"><span class="koboSpan" id="kobo.348.1"><img alt="" src="image/B19630_03_F55.png"/></span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.349.1">(</span><span class="No-Break"><span class="koboSpan" id="kobo.350.1">9)</span></span></p>
</td>
</tr>
</tbody>
</table>
<p><span class="koboSpan" id="kobo.351.1">In this equation, </span><span class="koboSpan" id="kobo.352.1"><img alt="" src="image/B19630_03_F56.png"/></span><span class="koboSpan" id="kobo.353.1"> is the set of past and future dates for each holiday, </span><span class="koboSpan" id="kobo.354.1"><img alt="" src="image/B19630_03_F57.png"/></span><span class="koboSpan" id="kobo.355.1">. </span><span class="koboSpan" id="kobo.355.2">The change in the forecast due to holiday </span><span class="koboSpan" id="kobo.356.1"><img alt="" src="image/B19630_03_F58.png"/></span><span class="koboSpan" id="kobo.357.1"> is captured in the </span><span class="koboSpan" id="kobo.358.1"><img alt="" src="image/B19630_03_F59.png"/></span><span class="koboSpan" id="kobo.359.1"> parameter. </span><span class="koboSpan" id="kobo.359.2">This allows the entire holiday component to be expressed as the product of the </span><span class="koboSpan" id="kobo.360.1"><img alt="" src="image/B19630_03_F60.png"/></span><span class="koboSpan" id="kobo.361.1"> matrix and the </span><span class="koboSpan" id="kobo.362.1"><img alt="" src="image/B19630_03_F61.png"/></span> <span class="No-Break"><span class="koboSpan" id="kobo.363.1">vector:</span></span></p>
<table class="No-Table-Style" id="table010">
<colgroup>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style"/>
<td class="No-Table-Style">
<div>
<div class="IMG---Figure" id="_idContainer087">
<span class="koboSpan" id="kobo.364.1"><img alt="" src="image/B19630_03_F62.jpg"/></span>
</div>
</div>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.365.1">(</span><span class="No-Break"><span class="koboSpan" id="kobo.366.1">10)</span></span></p>
</td>
</tr>
</tbody>
</table>
<p><span class="koboSpan" id="kobo.367.1">And with that, Prophet has everything it needs to build its forecast! </span><span class="koboSpan" id="kobo.367.2">It simply sums the </span><span class="koboSpan" id="kobo.368.1"><img alt="" src="image/B19630_03_F63.png"/></span><span class="koboSpan" id="kobo.369.1"> growth component, the </span><span class="koboSpan" id="kobo.370.1"><img alt="" src="image/B19630_03_F64.png"/></span><span class="koboSpan" id="kobo.371.1"> seasonality component, and the </span><span class="koboSpan" id="kobo.372.1"><img alt="" src="image/B19630_03_F65.png"/></span><span class="koboSpan" id="kobo.373.1"> holiday component</span><a id="_idIndexMarker141"/><span class="koboSpan" id="kobo.374.1"> to </span><a id="_idIndexMarker142"/><span class="koboSpan" id="kobo.375.1">provide its final </span><span class="No-Break"><span class="koboSpan" id="kobo.376.1">forecast, </span><span class="koboSpan" id="kobo.377.1"><img alt="" src="image/B19630_03_F66.png"/></span><span class="koboSpan" id="kobo.378.1">.</span></span></p>
<h1 id="_idParaDest-50"><span class="koboSpan" id="kobo.379.1">Summar</span><a id="_idTextAnchor195"/><span class="koboSpan" id="kobo.380.1">y</span></h1>
<p><span class="koboSpan" id="kobo.381.1">This chapter introduced you to the development of Prophet, from the idea’s genesis up to the theoretical formulation. </span><span class="koboSpan" id="kobo.381.2">This chapter provided, however, just a summary of the mathematical equations that describe how Prophet works. </span><span class="koboSpan" id="kobo.381.3">For full details, please refer to the original paper describing Prophet: </span><em class="italic"><span class="koboSpan" id="kobo.382.1">Taylor, S. </span><span class="koboSpan" id="kobo.382.2">J. </span><span class="koboSpan" id="kobo.382.3">and Letham, B. </span><span class="koboSpan" id="kobo.382.4">2017. </span><span class="koboSpan" id="kobo.382.5">Forecasting at scale. </span><span class="koboSpan" id="kobo.382.6">PeerJ Preprints </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.383.1">5:e3190v2 </span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.384.1">(</span></span><a href="https://doi.org/10.7287/peerj.preprints.3190v2"><span class="No-Break"><span class="koboSpan" id="kobo.385.1">https://doi.org/10.7287/peerj.preprints.3190v2</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.386.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.387.1">Now that you understand how Prophet works, the remainder of this book will be spent demonstrating all of the parameters and additional features available that allow you to have greater control over your forecasts. </span><span class="koboSpan" id="kobo.387.2">In the next chapter, we’ll take a look at non-daily data to see what precautions and adjustments need to be taken, thereby preparing us to handle datasets with different </span><span class="No-Break"><span class="koboSpan" id="kobo.388.1">time granularities.</span></span></p>
</div>
<div>
<div class="IMG---Figure" id="_idContainer093">
</div>
</div>


<div class="Content" id="_idContainer094">
<h1 id="_idParaDest-51"><a id="_idTextAnchor196"/><span class="koboSpan" id="kobo.1.1">Part 2: Seasonality, Tuning, and Advanced Features</span></h1>
<p><span class="koboSpan" id="kobo.2.1">This section will teach you about the advanced features of Prophet. </span><span class="koboSpan" id="kobo.2.2">Every adjustable parameter will be explored with examples and a discussion of why and how to modify it. </span><span class="koboSpan" id="kobo.2.3">Each chapter builds on the previous chapters to add more and more complexity and power to the forecasting models. </span><span class="koboSpan" id="kobo.2.4">By the end of the section, you will be able to build models that harness the full capability of Prophet’s </span><span class="No-Break"><span class="koboSpan" id="kobo.3.1">forecasting toolset.</span></span></p>
<p><span class="koboSpan" id="kobo.4.1">This section comprises the </span><span class="No-Break"><span class="koboSpan" id="kobo.5.1">following chapters:</span></span></p>
<ul>
<li><a href="B19630_04.xhtml#_idTextAnchor197"><em class="italic"><span class="koboSpan" id="kobo.6.1">Chapter 4</span></em></a><span class="koboSpan" id="kobo.7.1">, </span><em class="italic"><span class="koboSpan" id="kobo.8.1">Handing Non-Daily Data</span></em></li>
<li><a href="B19630_05.xhtml#_idTextAnchor254"><em class="italic"><span class="koboSpan" id="kobo.9.1">Chapter 5</span></em></a><span class="koboSpan" id="kobo.10.1">, </span><em class="italic"><span class="koboSpan" id="kobo.11.1">Working with Seasonality</span></em></li>
<li><a href="B19630_06.xhtml#_idTextAnchor375"><em class="italic"><span class="koboSpan" id="kobo.12.1">Chapter 6</span></em></a><span class="koboSpan" id="kobo.13.1">, </span><em class="italic"><span class="koboSpan" id="kobo.14.1">Forecasting Holiday Effects</span></em></li>
<li><a href="B19630_07.xhtml#_idTextAnchor453"><em class="italic"><span class="koboSpan" id="kobo.15.1">Chapter 7</span></em></a><span class="koboSpan" id="kobo.16.1">, </span><em class="italic"><span class="koboSpan" id="kobo.17.1">Controlling Growth Modes</span></em></li>
<li><a href="B19630_08.xhtml#_idTextAnchor537"><em class="italic"><span class="koboSpan" id="kobo.18.1">Chapter 8</span></em></a><span class="koboSpan" id="kobo.19.1">, </span><em class="italic"><span class="koboSpan" id="kobo.20.1">Influencing Trend Changepoints</span></em></li>
<li><a href="B19630_09.xhtml#_idTextAnchor599"><em class="italic"><span class="koboSpan" id="kobo.21.1">Chapter 9</span></em></a><span class="koboSpan" id="kobo.22.1">, </span><em class="italic"><span class="koboSpan" id="kobo.23.1">Including Additional Regressors</span></em></li>
<li><a href="B19630_10.xhtml#_idTextAnchor641"><em class="italic"><span class="koboSpan" id="kobo.24.1">Chapter 10</span></em></a><span class="koboSpan" id="kobo.25.1">, </span><em class="italic"><span class="koboSpan" id="kobo.26.1">Accounting for Outliers and Special Events</span></em></li>
<li><a href="B19630_11.xhtml#_idTextAnchor728"><em class="italic"><span class="koboSpan" id="kobo.27.1">Chapter 11</span></em></a><span class="koboSpan" id="kobo.28.1">, </span><em class="italic"><span class="koboSpan" id="kobo.29.1">Managing Uncertainty Intervals</span></em></li>
</ul>
</div>
<div>
<div id="_idContainer095">
</div>
</div>
</body></html>