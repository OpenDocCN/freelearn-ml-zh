<html><head></head><body>
<div><div><h1 class="chapter-number" id="_idParaDest-198"><a id="_idTextAnchor206"/>13</h1>
<h1 id="_idParaDest-199"><a id="_idTextAnchor207"/>Time-to-Event Variables – An Introduction</h1>
<p><a id="_idTextAnchor208"/>In this short chapter, we will introduce another branch of statistics called <strong class="bold">survival analysis</strong>, which is related to survival and time-censoring studies. Survival analysis is also called <strong class="bold">time-to-event variable analysis</strong>, which <a id="_idIndexMarker983"/>is a particular statistical outcome type that requires other techniques than those used in the few last chapters that we have studied. A time-to-event variable analysis studies, for example, whether a participant has an event of interest during the study timeframe. In other words, we study the <em class="italic">proportion of a sample surviving after a specific time point</em> and the rate at which the survived sample proportion will fail or die, or whether there are survival differences in different treatment groups. The term <em class="italic">survival</em> in survival analysis is <a id="_idIndexMarker984"/>originally based on the time from treatment until death in the medical field. However, survival analysis is readily applicable to many fields including <a id="_idIndexMarker985"/>engineering (where it is referred to <a id="_idIndexMarker986"/>as <strong class="bold">reliability theory</strong> or <strong class="bold">reliability analysis</strong>), sociology (<strong class="bold">event history analysis</strong>), and <a id="_idIndexMarker987"/>economics (<strong class="bold">duration analysis</strong>). Survival studies might not be ambiguous in medical research<a id="_idIndexMarker988"/> when a death occurs, although some events such as organ failure can be poorly defined. Ambiguity does occur in other research fields, however: for instance, in engineering, a failure or a broken system can be partial or not strictly determined by time. We also examine survival data, the survival function, hazard, and hazard ratios in this chapter.</p>
<p>In this chapter, we’re going to cover the following main topics:</p>
<ul>
<li>Censoring</li>
<li>Survival data</li>
<li>The survival function, hazard, and hazard ratios</li>
</ul>
<h1 id="_idParaDest-200"><a id="_idTextAnchor209"/>What is censoring?</h1>
<p>In the field of statistics, <strong class="bold"> Censoring</strong> refers to a situation where the full extent or precise value of a measurement or observation is not entirely known. In Survival Analysis, this happens when we have information about sample observations and do not know when the given event happened, and is considered a key issue in survival analysis, distinguishing time-to-event analysis from the other statistical analyses mentioned in the previous chapters. There are several reasons why censoring happens; for example, a person withdraws from a study or exits prior to a follow-up, or the event in question has already happened before the study starts. The censored event is <em class="italic">non-informative</em>, that is, <em class="italic">censoring causes study failure due to some reason other than failure time. In other words, failure caused by censoring is not related to the probability of an event occurring.</em> <strong class="bold">Informative censoring</strong> happens <a id="_idIndexMarker989"/>when an observation is lost to follow-up because of research reasons. Three types of <a id="_idIndexMarker990"/>informative censoring are <strong class="bold">right censoring</strong>, <strong class="bold">left censoring</strong>, and <strong class="bold">interval censoring</strong>. In this <a id="_idIndexMarker991"/>book, we<a id="_idIndexMarker992"/> focus on <strong class="bold">non-informative </strong><strong class="bold">right censoring</strong>.</p>
<h2 id="_idParaDest-201"><a id="_idTextAnchor210"/>Left censoring</h2>
<p>When<a id="_idIndexMarker993"/> we know the <em class="italic">event has happened before the observation data is collected</em>, then the observation is <strong class="bold">left-censored</strong>. An example left-censored <a id="_idIndexMarker994"/>scenario is where we study the age when a middle-school student begins puberty. There may be some students reaching this developmental stage before they enter middle school. All of these students are considered left-censored. As another example, consider an HIV study for an at-risk group of patients where, by the time the study starts, some patients already have HIV.</p>
<h2 id="_idParaDest-202"><a id="_idTextAnchor211"/>Right censoring</h2>
<p>When the <em class="italic">event happens after some time point</em> but we do not know the exact time, then it is <a id="_idIndexMarker995"/>considered <strong class="bold">right-censored</strong>. Applying the previous scenario <a id="_idIndexMarker996"/>here, imagine there are some students who withdraw from the puberty developmental stage study, or we lose them prior to following up (for example, they move to another school) or they have a delayed puberty (the developmental stage had still not taken place by the time they left middle school to begin high school). Another example is a cancer study where a group of patients is recruited for a clinical trial to see how a new treatment affects them, but a patient in the group dies because of a car accident after 2 years. In that case, we know this patient’s survival is at least 2 years during the period of the study, but do not know how many years beyond 2 that this patient could have survived with the cancer diagnosis.</p>
<h2 id="_idParaDest-203"><a id="_idTextAnchor212"/>Interval censoring</h2>
<p>Left censoring and right censoring<a id="_idIndexMarker997"/> are special cases of <strong class="bold">interval censoring</strong>. A <a id="_idIndexMarker998"/>clear example to illustrate interval censoring is a patient that tests negatively at time t 1 for HIV but positively at time t 2. However, we do not know the exact time this patient got infected between time interval [t 1, t 2]. This particular patient had an annual checkup last year and again this year. The lab results show he was HIV-negative last year but HIV-positive this year. Therefore, the infection occurred at some time point between last year’s and this year’s checkups, but we do not know exactly when.</p>
<h2 id="_idParaDest-204"><a id="_idTextAnchor213"/>Type I and Type II censoring</h2>
<p>There are two types<a id="_idIndexMarker999"/> of right censoring: <strong class="bold">Type I censoring</strong> and <strong class="bold">Type II censoring</strong>. In <strong class="bold">Type I censoring</strong>, a study<a id="_idIndexMarker1000"/> is designed to terminate after some time <a id="_idIndexMarker1001"/>point t. Fixed censoring occurs when an object <a id="_idIndexMarker1002"/>does not have an event after time t. This object is considered censored at time t. Random censoring occurs when censored objects do not have the same censoring time. In <strong class="bold">Type II censoring</strong>, a study terminates after some prespecified number of events occur. This type of censoring is frequently used in life testing experiments to save time and money. For example, we randomly select n objects as a sample to test whether a new innovation is really effective, but instead of testing all these n objects, we define that the study terminates if r failures occur to save time and costs. In this case, the first r objects have events at time t 1, t 2, … , t r but the remaining n − r objects do not have an event at time T = max(t 1, t 2, … , t r) and they are therefore considered censored.</p>
<p>Let us visualize a cancer study for a period of 5 years testing a new treatment. The start time point is 0 when the study starts, and the end time point is 5 when the study ends.</p>
<div><div><img alt="Figure 13.1 – Right censoring in survival analysis for a cancer study" height="436" src="img/B18945_13_01.jpg" width="755"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 13.1 – Right censoring in survival analysis for a cancer study</p>
<p>The first patient was recruited at the beginning of the study, but he died in year 2-and-a-half. The second patient was also recruited at the beginning of the study but in year 5, he was still surviving. This patient has survived for more than 5 years, but we do not know for how <a id="_idIndexMarker1003"/>many years he can ultimately survive, which means that <a id="_idIndexMarker1004"/>right censoring occurred with this patient. The third patient was recruited in year 1 but she died in year 4. The fourth patient joined the study in year 2 but by year 4, we were unable to follow up with this patient. The reason could be that he moved to another city, for instance. Censoring occurs for patient 2 and patient 4.</p>
<p>The<a id="_idIndexMarker1005"/> study <a id="_idIndexMarker1006"/>seems like a regression problem but in this example, the <a id="_idIndexMarker1007"/>second patient was considered to have survived when the study concluded. This makes survival analysis different from regular statistical analyses. We also do not remove the data of the second patient from the study data since the information is valuable: patients can survive for at least 5 years. In addition, patient follow-ups can be prevented because they may move to another place or are very sick but instead of removing the data, we record the reason why they dropped out of the study. Similarly, gender considerations can be biased because, for example, male patients may be more likely to withdraw from the study than female patients when they are sick, thus resulting in a potentially incorrect conclusion that females survive longer than males.</p>
<h1 id="_idParaDest-205"><a id="_idTextAnchor214"/>Survival data</h1>
<p><strong class="bold">Survival data</strong> focuses <a id="_idIndexMarker1008"/>on whether or not an object in a study experiences an event. In addition, the follow-up time is also considered. <em class="italic">Time zero</em> or <em class="italic">time origin</em> is the time when the study starts. Depending on the purpose of a study, time zero or time origin can be different. For instance, in a prostate cancer study, researchers recruit 40-year-old and older male participants, but in a study of puberty developmental ages, male and female teenagers of 12 and older are recruited. If the research takes place over a period of time (which could be several months or years) then recording the time origin and follow-up time during the study is vitally important.</p>
<p>Lastly, we discuss the <em class="italic">relationship between survival and censoring times</em> and how we <em class="italic">record survival data with censoring</em>. Suppose that for each object in a sample, we know its true event time T and true censoring time C. Then, the <em class="italic">survival time of an object is the period of time until an event occurs</em> and the <em class="italic">censoring time of an object is the moment when censoring occurs</em>, when, for example, the study ends or we are unable to follow up on this object. Let δ i denote the status indicator for the object i:</p>
<p>δ i = { 1 if the event was observed ,   0 if censoring was observed.</p>
<p>In other words, δ i = 1 when the event T i occurs <em class="italic">before</em> censoring C i and δ i = 0 when the event T i occurs <em class="italic">after</em> censoring C i. The observed outcome variable is</p>
<p>Y i = min(T i, C i)</p>
<p>and the censored survival data for object i can be captured as (Y i, δ i).</p>
<p>The following example considers three patients in a cancer study. Time is considered here in years and the duration of the study is 5 years.</p>
<table class="No-Table-Style _idGenTablePara-1" id="table001-8">
<colgroup>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="bold">Patient</strong></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold">T</strong></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold">C</strong></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold">δ</strong></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>1</p>
</td>
<td class="No-Table-Style">
<p>3 (the patient died in year 3)</p>
</td>
<td class="No-Table-Style">
<p>No censoring – patient died in year 3</p>
</td>
<td class="No-Table-Style">
<p>1 (because the event was observed)</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>2</p>
</td>
<td class="No-Table-Style">
<p>7 (the patient died in year 7 but the study ended in year 5)</p>
</td>
<td class="No-Table-Style">
<p>5 (the study ends in year 5)</p>
</td>
<td class="No-Table-Style">
<p>0 (because the censoring was observed)</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>3</p>
</td>
<td class="No-Table-Style">
<p>No information</p>
</td>
<td class="No-Table-Style">
<p>4 (the patient dropped out of the study)</p>
</td>
<td class="No-Table-Style">
<p>0 (because the censoring was observed)</p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 13.2 – Survival analysis for a cancer study</p>
<p>The following figure illustrates information about 3 patients in the cancer study.</p>
<div><div><img alt="Figure 13.3 – Survival analysis for a cancer study" height="454" src="img/B18945_13_03.jpg" width="762"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 13.3 – Survival analysis for a cancer study</p>
<h1 id="_idParaDest-206"><a id="_idTextAnchor215"/>Survival Function, Hazard and Hazard Ratio</h1>
<p>Let us first discuss the<a id="_idIndexMarker1009"/> survival function. The formula of the function is defined as</p>
<p>S(t) = P(T &gt; t)</p>
<p>and represents the probability that the object survives past time t. The survival function is a non-increasing function with <em class="italic">t</em> ranges from 0 to ∞. When t = 0, S(t) = 1 and when t = ∞ , S(t) = S(∞) = 0. It is a smooth function theoretically but practically, <em class="italic">events occur on a discrete time scale</em> (days, weeks, years).</p>
<div><div><img alt="Figure 13.4 – Survival function illustrated" height="496" src="img/B18945_13_04.jpg" width="797"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 13.4 – Survival function illustrated</p>
<p>In this example, we<a id="_idIndexMarker1010"/> go back to the cancer study that spanned 5 years. At time zero, when the study started, the survival probability was 1 or 100% but at year 5, the probability of survival was close to 0.2 or 20%.</p>
<p>Now we consider the <em class="italic">Stanford heart transplant dataset.</em> The dataset contains the information of 103 patients who participated in an experimental heart transplant program (see <em class="italic">Figure 13</em><em class="italic">.5</em>). The patients were seriously ill and had the potential to obtain some benefit from being part of the program, as they could be waiting anywhere from a few weeks to several months to receive a new heart from a donor. The CSV dataset can be downloaded at <a href="https://www.openintro.org/data/csv/heart_transplant.csv">https://www.openintro.org/data/csv/heart_transplant.csv</a>.</p>
<div><div><img alt="Figure 13.5 – First five rows of Stanford translant data" height="195" src="img/B18945_13_005.jpg" width="572"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 13.5 – First five rows of Stanford translant data</p>
<p>We are interested in two features here: <code>survived</code> (recording the survival status of dead versus alive) and <code>survtime</code> (the number of days the patients survived after they were determined<a id="_idIndexMarker1011"/> to be a candidate for a heart transplant until the study ended). When we sort the data by <code>survtime</code>, among the first 15 observations, the patient in row 13 is still alive as shown in <em class="italic">Figure 13</em><em class="italic">.6</em>. Therefore, the observation at row number 13 is time censored.</p>
<div><div><img alt="Figure 13.6 – Status of first 15 transplant patients" height="499" src="img/B18945_13_006.jpg" width="208"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 13.6 – Status of first 15 transplant patients</p>
<p>In this example, to calculate the probability of survival beyond <code>survtime = 3</code>, we just need to calculate<a id="_idIndexMarker1012"/> the <strong class="bold">probability of survival</strong> in each interval of time [t 0, t 1], (t 1, t 2], (t 2, t 3], which is calculated by</p>
<p>P(Survival in (t i−1, t i]) = 1 − P(Dead in (t i−1, t i] | Alive in t i−1)</p>
<p>where</p>
<p>P(Dead in (t i−1, t i] | Alive in t i−1) =  number of deaths in (t i−1, t i]    ___________________  number of alives at t i−1 ,</p>
<p>then</p>
<p>S(t 3) = P(Survival &gt; t 3) = (1 −  0 _ 103 )*(1 −  1 _ 103 )*(1 −  3 _ 102 ) = 96.12 % .</p>
<p>Next, we discuss hazard <a id="_idIndexMarker1013"/>function <a id="_idIndexMarker1014"/>or hazard rate. The <strong class="bold">hazard function</strong> is defined as</p>
<p>h(t) = lim 𝛥t→0  Pr(t &lt; T ≤ t + Δt | T &gt; t)  ______________  Δt ,</p>
<p><em class="italic">t</em><em class="italic">he instantaneous rate at which events occur given survival up to that time</em>. In other words, it is just the probability of <em class="italic">dying</em> in the next few seconds or the next day given being <em class="italic">alive</em> now. The hazard ratio is a ratio of death probabilities. For example, when a hazard ratio is 3, then the given group has 3 times the chance of dying compared to another group.</p>
<h1 id="_idParaDest-207"><a id="_idTextAnchor216"/>Summary</h1>
<p>In this chapter, we provided an overview of time-to-event variable analysis and how it differs from other statistical analyses that we have studied in the previous chapters. We covered censoring intuition (left, right, and interval censoring) and discussed Type I and Type II censoring. We also discussed non-informative and informative events in this chapter. We then discussed survival data and the relationship between survival and censoring times and how we record survival data with censoring. The survival function, hazard, and hazard ratio were also mentioned in the last section of this chapter.</p>
<p>In the next chapter, we will consider the non-parametric Kaplan-Meier model, the parametric exponential model, and also the semiparametric Cox Proportional Hazards model. We will perform real data analysis in Python by applying these models for survival analysis.</p>
</div>
</div></body></html>