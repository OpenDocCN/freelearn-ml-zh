<html><head></head><body>
		<div id="_idContainer057">
			<h1 id="_idParaDest-45" class="chapter-number"><a id="_idTextAnchor047"/>3</h1>
			<h1 id="_idParaDest-46"><a id="_idTextAnchor048"/>Exploring Data Using Power BI and Creating a Semantic Model</h1>
			<p><a href="B19500_02.xhtml#_idTextAnchor030"><span class="No-Break"><em class="italic">Chapter 2</em></span></a> was a tedious process of combing through the FAA Wildlife Strike raw data, identifying the columns of data that you want to carry forward for analysis, and then setting up queries that will transform the data and metadata for the purpose of analysis and ML with Power BI. However, it was <span class="No-Break">important work.</span></p>
			<p>Now, you are ready to create a <strong class="bold">semantic</strong> model layer using a Power BI dataset and then set the foundation for the data that you will use to train ML models in Power BI. If you aren’t familiar with a semantic layer, it is a description commonly used in business intelligence solutions to describe a layer that translates data descriptions into common business terms and logic. For example, a source column named <strong class="source-inline">columnname</strong> or <strong class="source-inline">column_name</strong> might be displayed to users as <strong class="bold">Column Name</strong> via the semantic layer. Also, the logic for runtime calculations such as <strong class="bold">Year to Date Cumulative Sales</strong> often exists in the semantic layer. In the Microsoft Power BI ecosystem, the semantic layer exists within the Power <span class="No-Break">BI dataset.</span></p>
			<p>The Power BI dataset will consist of all of the data created by the queries in <a href="B19500_02.xhtml#_idTextAnchor030"><span class="No-Break"><em class="italic">Chapter 2</em></span></a> but with the addition of custom columns, relationships between tables, and calculated measures that will help you aggregate columns for the purpose of doing mathematical operations for your analytics. Going back to the <em class="italic">Reviewing the requirements for the solution</em> section of <a href="B19500_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic">Chapter 1</em></span></a>, this will be the basis for the <strong class="bold">Analytical Report</strong> that you have been tasked <span class="No-Break">to deliver.</span></p>
			<p>Once you’ve built out your Power BI dataset with some basic calculated measures, you will start building the basis for the data that will be used for ML in Power BI. This will be the basis for the <strong class="bold">Predict Damage</strong>, <strong class="bold">Predict Size</strong>, and <strong class="bold">Predict Height</strong> ML models that are requirements from the <em class="italic">Reviewing the requirements for the solution</em> section of <a href="B19500_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic">Chapter 1</em></span></a><span class="No-Break">.</span></p>
			<h1 id="_idParaDest-47"><a id="_idTextAnchor049"/>Technical requirements</h1>
			<p>For this chapter, you will need <span class="No-Break">the following:</span></p>
			<ul>
				<li>Power BI Desktop April 2023 or later (no <span class="No-Break">licenses required)</span></li>
				<li>FAA Wildlife Strike data files from either the FAA website or the Packt GitHub site at this <span class="No-Break">link: </span><a href="https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/"><span class="No-Break">https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/</span></a><span class="No-Break">.</span></li>
			</ul>
			<h1 id="_idParaDest-48"><a id="_idTextAnchor050"/>Designing relationships between tables</h1>
			<p>In a Power BI dataset, relationships <a id="_idIndexMarker162"/>between tables determine how queries that involve data from both tables are generated. If you’ve taken an introductory class on Power BI, such as <em class="italic">Dashboard in a Day</em>, learning about relationships is a foundational skill for Power BI development. Back in <a href="B19500_02.xhtml#_idTextAnchor030"><span class="No-Break"><em class="italic">Chapter 2</em></span></a>, you determined that the tables have the following key values to <span class="No-Break">establish relationships:</span></p>
			<ul>
				<li><strong class="bold">Date Table</strong>: The <strong class="source-inline">Date</strong> column <a id="_idIndexMarker163"/>matches up to the <strong class="source-inline">Incident Date</strong> column on the <strong class="source-inline">Strike </strong><span class="No-Break"><strong class="source-inline">Reports</strong></span><span class="No-Break"> table</span></li>
				<li><strong class="bold">Aircraft Type Info</strong>: <strong class="source-inline">Aircraft Code</strong> matches <a id="_idIndexMarker164"/>up with <strong class="source-inline">Aircraft Class Code</strong> on the <strong class="source-inline">Strike </strong><span class="No-Break"><strong class="source-inline">Reports</strong></span><span class="No-Break"> table</span></li>
				<li><strong class="bold">Engine Codes Info</strong>: <strong class="source-inline">Manufacturer Code</strong> and <strong class="source-inline">Model Code</strong> are compound keys matching <a id="_idIndexMarker165"/>up with <strong class="source-inline">AMA</strong> and <strong class="source-inline">AMO</strong> from the <strong class="source-inline">Strike </strong><span class="No-Break"><strong class="source-inline">Reports</strong></span><span class="No-Break"> table</span></li>
				<li><strong class="bold">Engine Position Info</strong>: <strong class="source-inline">Engine Code</strong> maps <a id="_idIndexMarker166"/>to four columns on the <strong class="source-inline">Strike Reports</strong> table – <strong class="source-inline">Engine 1 Position Code</strong>, <strong class="source-inline">Engine 2 Position Code</strong>, <strong class="source-inline">Engine 3 Position Code</strong>, and <strong class="source-inline">Engine 4 </strong><span class="No-Break"><strong class="source-inline">Position Code</strong></span></li>
			</ul>
			<p>Let’s go ahead and make sure that proper key values exist for all of <span class="No-Break">these tables!</span></p>
			<p>You can pick up where you left off with your PBIX file from <a href="B19500_02.xhtml#_idTextAnchor030"><span class="No-Break"><em class="italic">Chapter 2</em></span></a>, or you can follow along using the finished version of the content from this chapter. You can download the PBIT version of the file from the Packt GitHub site folder for <a href="B19500_03.xhtml#_idTextAnchor047"><span class="No-Break"><em class="italic">Chapter </em></span><span class="No-Break"><em class="italic">3</em></span></a><span class="No-Break">: </span><a href="https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-03"><span class="No-Break">https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-03</span></a><span class="No-Break">.</span></p>
			<h2 id="_idParaDest-49"><a id="_idTextAnchor051"/>Date table</h2>
			<p>You’ve already created<a id="_idIndexMarker167"/> a <strong class="bold">Date</strong> table named <strong class="bold">Date Info</strong>, which has a field named <strong class="bold">Date</strong> containing every unique <strong class="bold">Date</strong> value between 1990-2024. Within Power Query, you’ll see within <strong class="bold">Column Statistics</strong> that there are no blank values and every value is unique and does not repeat. <strong class="bold">Date</strong> is the primary key of the <span class="No-Break"><strong class="bold">Date</strong></span><span class="No-Break"> table.</span></p>
			<p>For the <strong class="bold">Strike Reports</strong> table, <strong class="bold">Incident Date</strong> is the foreign key value that will map to the <strong class="bold">Date</strong> table. The column represents the date that a wildlife strike was reported to have happened. The column is also fully populated with <span class="No-Break">valid data.</span></p>
			<p>Since the <strong class="bold">Date</strong> table contains a valid primary key, and <strong class="bold">Incident Date</strong> on the <strong class="bold">Strike</strong> <strong class="bold">Reports</strong> table is a valid <strong class="bold">Date</strong> field, you do not need to do any additional transformations. The columns are ready for a relationship in <span class="No-Break">the dataset!</span></p>
			<h2 id="_idParaDest-50"><a id="_idTextAnchor052"/>Aircraft Type Info</h2>
			<p>On the <strong class="bold">Aircraft</strong> <strong class="bold">Type</strong> <strong class="bold">Info</strong> table, you see <a id="_idIndexMarker168"/>a text column named <strong class="bold">Aircraft</strong> <strong class="bold">Code</strong>. Each row contains a unique letter that identifies the row. <strong class="bold">Aircraft</strong> <strong class="bold">Classification</strong> is another column that provides a description of the type of aircraft. If working with extremely large data volumes, integer key values are a best practice. However, since the total data volume is a manageable size, you’re fine using the character text values as a primary key for the <strong class="bold">Aircraft </strong><span class="No-Break"><strong class="bold">Type</strong></span><span class="No-Break"> table.</span></p>
			<p>The <strong class="bold">Strike</strong> <strong class="bold">Reports</strong> table contains a corresponding column named <strong class="bold">Aircraft</strong> <strong class="bold">Class</strong> <strong class="bold">Code</strong>. You left-click the caret next to the column name and select <strong class="bold">Load</strong> <strong class="bold">More</strong> to see all the possible unique values in the table. You notice that there are values registering as both <strong class="bold">(null)</strong>, which is actually blank, and the four-letter value <strong class="bold">NULL</strong>, which is a <span class="No-Break">text entry:</span></p>
			<div>
				<div id="_idContainer039" class="IMG---Figure">
					<img src="image/Figure_3.01_B19500.jpg" alt="Figure 3.1 – A screenshot showing (null) and NULL text values"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.1 – A screenshot showing (null) and NULL text values</p>
			<p>The <strong class="bold">NULL</strong> text value does not exist in the Aircraft Type Info query. It differs from <strong class="bold">(null)</strong> because <strong class="bold">NULL</strong> contains actual text while <strong class="bold">(null)</strong> is an empty value. If you filter the column for either <strong class="bold">(null)</strong> or the <strong class="bold">NULL </strong>text value, you notice that the rows containing those values appear to have differences. Most of the blank <strong class="bold">(null)</strong> values are on rows where wildlife was struck by unknown flights and many columns are blank, while some of the <strong class="bold">NULL</strong> text values contain <span class="No-Break"><strong class="bold">Flight</strong></span><span class="No-Break"> numbers.</span></p>
			<p>When you build out data for use with Power BI ML, you will want to remove or replace all blank values since ML models usually need a design that does not have null values. Power BI datasets still work with null foreign key values, but that approach is not ideal. You decide to add two new rows to the Aircraft Type Info query, one for the <strong class="bold">NULL</strong> text value and one for blank values that show up as <strong class="bold">(null)</strong>. You will also need to replace the blank values in the Strike <a id="_idIndexMarker169"/>Reports query. Here are the steps you need <span class="No-Break">to perform:</span></p>
			<ol>
				<li>Right-click the <strong class="bold">Aircraft Class Code</strong> column and select <strong class="bold">Replace Values…</strong>, then type in <strong class="source-inline">null</strong> for <strong class="bold">Value to Find</strong> and <strong class="source-inline">blank</strong> for <strong class="bold">Replace With</strong>. Now, all of the empty values will contain the <span class="No-Break">word </span><span class="No-Break"><strong class="source-inline">blank</strong></span><span class="No-Break">.</span></li>
				<li>On the <strong class="bold">Home</strong> ribbon of Power Query, select <strong class="bold">Enter Data</strong>. Name the new table <strong class="bold">Aircraft Type Added Data</strong>. Create two columns, <strong class="bold">Aircraft Code</strong> and <span class="No-Break"><strong class="bold">Aircraft Classification</strong></span><span class="No-Break">.</span></li>
				<li>Enter <strong class="source-inline">blank</strong> for both columns in row 1 and <strong class="source-inline">NULL</strong> for both columns in row 2. Your table should look <a id="_idIndexMarker170"/>like this before <span class="No-Break">hitting </span><span class="No-Break"><strong class="bold">OK</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer040" class="IMG---Figure">
					<img src="image/Figure_3.02_B19500.jpg" alt="Figure 3.2 – New data for Aircraft Type to account for blanks and the text valu﻿e NULL"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.2 – New data for Aircraft Type to account for blanks and the text valu<a id="_idTextAnchor053"/>e NULL</p>
			<ol>
				<li value="4">Right-click the new query in the <strong class="bold">Queries</strong> pane, and move it to the <strong class="bold">Raw Data</strong> group. Right-click it again, and uncheck <strong class="bold">Enable Load</strong>. Power Query should now look <span class="No-Break">like this:</span></li>
			</ol>
			<div>
				<div id="_idContainer041" class="IMG---Figure">
					<img src="image/Figure_3.03_B19500.jpg" alt="Figure 3.3 – New data added to the Raw Data group that will not be loaded to the dataset"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.3 – New data added to the Raw Data group that will not be loaded to the dataset</p>
			<ol>
				<li value="5">Left-click<a id="_idIndexMarker171"/> on the <strong class="bold">Aircraft Type Info</strong> query. On the Power Query ribbon, under <strong class="bold">Home</strong> | <strong class="bold">Combine</strong>, select <strong class="bold">Append Queries</strong> | <strong class="bold">Append Queries</strong>. Append the <strong class="bold">Aircraft Type Added Data</strong> query. Your <strong class="bold">Aircraft Type Info</strong> query should now look <span class="No-Break">like this:</span></li>
			</ol>
			<div>
				<div id="_idContainer042" class="IMG---Figure">
					<img src="image/Figure_3.04_B19500.jpg" alt="Figure 3.4 – New rows added to Aircraft Type Info query"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.4 – New rows added to Aircraft Type Info query</p>
			<p>Now, both the <strong class="bold">Strike Reports</strong> query and the <strong class="bold">Aircraft Type Info</strong> query will have referential integrity, meaning that when you populate the dataset, every key value on the <strong class="bold">Strike Reports</strong> table will be a <a id="_idIndexMarker172"/>value that finds a match on the <strong class="bold">Aircraft Type Info</strong> table. The <strong class="bold">Aircraft Type Info</strong> query is ready <span class="No-Break">to go!</span></p>
			<h2 id="_idParaDest-51"><a id="_idTextAnchor054"/>Engine Codes Info</h2>
			<p>As noted previously, you’ve already <a id="_idIndexMarker173"/>determined that <strong class="bold">Manufacturer Code</strong> and <strong class="bold">Model Code</strong> are compound keys matching up with <strong class="bold">AMA</strong> and <strong class="bold">AMO</strong> from the <strong class="bold">Strike Reports</strong> query. For the <strong class="bold">Engine Codes Info</strong> query, you observe that a combination of <strong class="bold">Manufacturer Code</strong> and <strong class="bold">Model Code</strong> results in a unique row definition. On the <strong class="bold">Strike Reports</strong> query, you browse the values in the <strong class="bold">AMA</strong> and <strong class="bold">AMO</strong> columns to find that there are blank <strong class="bold">(null)</strong> values in both columns and some invalid values that will not match up with the <strong class="bold">Engine Codes Info</strong> query. You evaluate a few options for handling <span class="No-Break">these discrepancies:</span></p>
			<ul>
				<li>Account for all of the incomplete and non-matching values by adding new rows to the <strong class="bold">Engine Codes </strong><span class="No-Break"><strong class="bold">Info</strong></span><span class="No-Break"> query.</span></li>
				<li>Break off the <strong class="bold">Engine Manufacturing</strong> data into a separate query, which will be a <span class="No-Break">new dimension.</span></li>
				<li>Add a new row to the <strong class="bold">Engine Codes Info</strong> table for unmatched values, called <strong class="source-inline">Incomplete or Missing</strong>. A new foreign key will be added to the <strong class="bold">Engine Codes Info</strong> query for incomplete or missing compound <span class="No-Break">key values.</span></li>
			</ul>
			<p>While the first and second options would follow best practices, you decide to move ahead with option three (put all of the incomplete entries and mismatched values into a single bucket) for your first round of development. If you determine later that better matches will improve your results in a meaningful way, you can always circle back in future rounds of development. Options one and two would require significant effort, and right now, you doubt that the benefits would justify the investment of time. You have a deadline to meet! Changing the architecture in the future will still be a valid option due to the flexibility of Power Query and <span class="No-Break">Power BI.</span></p>
			<p>First, begin by adding a new row to the <strong class="bold">Engine Codes Info</strong> query. Create a new query in the <strong class="bold">Raw Data</strong> group called <strong class="bold">Engine Codes Added Data</strong>, just as you did with <strong class="bold">Aircraft Type </strong><span class="No-Break"><strong class="bold">Added Data</strong></span><span class="No-Break">:</span></p>
			<ol>
				<li>On the ribbon of Power <a id="_idIndexMarker174"/>Query, select <strong class="bold">Enter Data</strong>. Name the new table <strong class="bold">Engine Codes Added Data</strong>. Create four columns: <strong class="bold">Manufacturer Code</strong>, <strong class="bold">Model Code</strong>, <strong class="bold">Engine Manufacturer</strong>, and <span class="No-Break"><strong class="bold">Engine Model</strong></span><span class="No-Break">.</span></li>
				<li>Enter <strong class="source-inline">Incomplete or Missing</strong> for all four columns in row 1. Your table should look like this before <span class="No-Break">hitting </span><span class="No-Break"><strong class="bold">OK</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer043" class="IMG---Figure">
					<img src="image/Figure_3.05_B19500.jpg" alt="Figure 3.5 – Incomplete or missing key values can be bucketed in the report for Engine Codes"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.5 – Incomplete or missing key values can be bucketed in the report for Engine Codes</p>
			<ol>
				<li value="3">Right-click the new query in the <strong class="bold">Queries</strong> pane, and move it to the <strong class="bold">Raw Data</strong> group. Right-click it again, and uncheck <span class="No-Break"><strong class="bold">Enable Load</strong></span><span class="No-Break">.</span></li>
				<li>Left-click on<a id="_idIndexMarker175"/> the <strong class="bold">Engine Codes Info</strong> query. On the Power Query ribbon, under <strong class="bold">Home</strong> | <strong class="bold">Combine</strong>, select <strong class="bold">Append Queries</strong> | <strong class="bold">Append Queries</strong>. Append the <strong class="bold">Engine Codes Added Data</strong> query. Your <strong class="bold">Engine Codes Info</strong> query now contains the additional row of data. Power Query should now look like this (notice that <strong class="bold">Incomplete or Missing</strong> is now in <span class="No-Break">the table):</span></li>
			</ol>
			<div>
				<div id="_idContainer044" class="IMG---Figure">
					<img src="image/Figure_3.06_B19500.jpg" alt="Figure 3.6 – The Engine Codes Info query now has a bucket for missing and incomplete key values"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.6 – The Engine Codes Info query now has a bucket for missing and incomplete key values</p>
			<ol>
				<li value="5">Power BI datasets <a id="_idIndexMarker176"/>require a single key column, and do not support compound keys. You’ll need to add a single primary key to the <strong class="bold">Engine Codes Info</strong> query. On the Power Query ribbon, select <strong class="bold">Add Column</strong> | <strong class="bold">General</strong> | <strong class="bold">Index Column</strong> | <strong class="bold">From 1</strong>. Rename the new <strong class="bold">Index</strong> column to <strong class="bold">Engine Codes Info Key</strong>. The <strong class="bold">Engine Codes Info</strong> query now looks <span class="No-Break">like this:</span></li>
			</ol>
			<div>
				<div id="_idContainer045" class="IMG---Figure">
					<img src="image/Figure_3.07_B19500.jpg" alt="Figure 3.7 – Integer primary key value added to the Engine Codes Info query"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.7 – Integer primary key value added to the Engine Codes Info query</p>
			<ol>
				<li value="6">Now, you will add a corresponding foreign key to the <strong class="bold">Strike Reports</strong> query. While on the <strong class="bold">Strike </strong><strong class="bold"><a id="_idIndexMarker177"/></strong><strong class="bold">Reports</strong> query in Power Query, select <strong class="bold">Home</strong> | <strong class="bold">Combine</strong> | <strong class="bold">Merge Queries</strong> | <strong class="bold">Merge Queries</strong>. Select <strong class="bold">Engine Codes Info</strong> as the second table. Click on <strong class="bold">EMA</strong> on the <strong class="bold">Strike Reports</strong> table and <strong class="bold">Manufacturer Code</strong> on the <strong class="bold">Engine Codes Info</strong> table. You’ll see that greater than 50% of the rows found <span class="No-Break">a match:</span></li>
			</ol>
			<div>
				<div id="_idContainer046" class="IMG---Figure">
					<img src="image/Figure_3.08_B19500.jpg" alt="Figure 3.8 – Not all of the EMA values from Strike Reports found a match on the Engine Codes Info query"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.8 – Not all of the EMA values from Strike Reports found a match on the Engine Codes Info query</p>
			<ol>
				<li value="7">Since the table<a id="_idIndexMarker178"/> matches up via a compound key, <strong class="bold">EMA</strong> and <strong class="bold">EMO</strong> to <strong class="bold">Manufacturer Code</strong> and <strong class="bold">Model Code</strong>, you press Ctrl and click <strong class="bold">EMO</strong> on the <strong class="bold">Strike Reports</strong> table and <strong class="bold">Model Code</strong> for the <strong class="bold">Engine Codes Info</strong> table. You lose a few matches versus the <strong class="bold">Manufacturer</strong> keys alone, which would justify breaking off the <strong class="bold">Manufacturer</strong> information into a separate dimension table. However, since the difference is small, you decide to add breaking out <strong class="bold">Manufacturer</strong> as a separate dimension to the backlog for future rounds of development. If you don’t get any matches, check to ensure that the <strong class="bold">EMA</strong> and <strong class="bold">EMO</strong> columns in both tables are text values since data types need to be the same. Proceeding with the current plan will still give you a fairly similar <span class="No-Break">match rate:</span></li>
			</ol>
			<div>
				<div id="_idContainer047" class="IMG---Figure">
					<img src="image/Figure_3.09_B19500.jpg" alt="Figure 3.9 – A compound key can tie together Strike Reports and Engine Codes Info but not every row finds a match"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.9 – A compound key can tie together Strike Reports and Engine Codes Info but not every row finds a match</p>
			<ol>
				<li value="8">Click <strong class="bold">OK</strong>. You’ll see a new <a id="_idIndexMarker179"/>column was added to <strong class="bold">Strike Reports</strong> named <strong class="bold">Engine Codes Info</strong>. Click the caret and select only <strong class="bold">Engine Codes </strong><span class="No-Break"><strong class="bold">Info Key</strong></span><span class="No-Break">:</span></li>
			</ol>
			<div>
				<div id="_idContainer048" class="IMG---Figure">
					<img src="image/Figure_3.10_B19500.jpg" alt="Figure 3.10 – A foreign key for Engine Codes Info was added to Strike Reports"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.10 – A foreign key for Engine Codes Info was added to Strike Reports</p>
			<ol>
				<li value="9">Click <strong class="bold">OK</strong>. You now <a id="_idIndexMarker180"/>have a single foreign key value, <strong class="bold">Engine Codes Info Key</strong>, for the <strong class="bold">Engine Codes Info</strong> table in <span class="No-Break">your dataset.</span></li>
			</ol>
			<p>Let's move on to the <span class="No-Break">next step.</span></p>
			<h2 id="_idParaDest-52"><a id="_idTextAnchor055"/>Engine Position Info</h2>
			<p>You previously determined <a id="_idIndexMarker181"/>that <strong class="bold">Engine Code</strong> on the <strong class="bold">Engine Position Info</strong> table was a primary key for the table, and all four of the columns (<strong class="bold">Engine 1 Position Code</strong>, <strong class="bold">Engine 2 Position Code</strong>, <strong class="bold">Engine 3 Position Code</strong>, and <strong class="bold">Engine 4 Position Code</strong>) from the <strong class="bold">Wildlife Strikes</strong> query were foreign keys referencing the engine position. You revisit the preliminary data model, which includes <strong class="bold">Engine Position Info</strong> as a dimension table referencing <strong class="bold">Strike Reports</strong> as a fact table. Since there is not a single foreign key on the <strong class="bold">Engine Position Info</strong> table referencing a single primary key on the <strong class="bold">Strike Reports</strong> table, a dimensional design can be handled in a few different ways, such as <span class="No-Break">the following:</span></p>
			<ul>
				<li>A separate fact table having a separate row for each <span class="No-Break">engine position.</span></li>
				<li>Change the granularity of the existing fact table to have a separate row for each <span class="No-Break">engine position.</span></li>
				<li>Add a separate copy of <strong class="bold">Engine Position Info</strong> for each of the four foreign key columns on the <strong class="bold">Strike </strong><span class="No-Break"><strong class="bold">Reports</strong></span><span class="No-Break"> table.</span></li>
				<li>Add inactive relationships between the <strong class="bold">Engine Position Info</strong> and <strong class="bold">Strike Reports</strong> table that can be switched out interactively using the DAX <span class="No-Break">expression language.</span></li>
			</ul>
			<p>The first option might be a valid choice if significant analytics were to be performed on the engine positions and you were building a complex star schema design. The second and third options would work from a logical perspective but would add unnecessary complexity and bloat to your design. Remember, you will be performing analytics for the purpose of building predictive models using ML in Power BI. Keeping the columns on the <strong class="bold">Strike Reports</strong> table in the current format will work well for building queries to be used for ML purposes. You know that Power BI ML works best with simple flattened tables of data, with each of those four columns as a potential feature of the data. You decide to proceed with the fourth option since it works best for your ML use case and will not add bloat or unnecessary complexity to <span class="No-Break">your design.</span></p>
			<p>You take a look at the data <a id="_idIndexMarker182"/>within the <strong class="bold">Engine 1 Position Code</strong>, <strong class="bold">Engine 2 Position Code</strong>, <strong class="bold">Engine 3 Position Code</strong>, and <strong class="bold">Engine 4 Position Code</strong> columns of the <strong class="bold">Strike Reports</strong> table. All four columns are similar to the <strong class="bold">Aircraft Class Code</strong> column that you previously reviewed in having both <strong class="bold">(null)</strong> entries, which are actually blank, and the four-letter <strong class="bold">NULL</strong> value, which is a text entry. You handle this scenario in a similar manner by adding two new rows to the <strong class="bold">Engine Position Info</strong> query for <strong class="bold">blank</strong> and <span class="No-Break"><strong class="bold">NULL</strong></span><span class="No-Break"> entries:</span></p>
			<ol>
				<li>Right-click each of the <strong class="bold">Engine 1 Position Code</strong>, <strong class="bold">Engine 2 Position Code</strong>, <strong class="bold">Engine 3 Position Code</strong>, and <strong class="bold">Engine 4 Position Code</strong> columns and select <strong class="bold">Replace Values…</strong>, then type in <strong class="source-inline">null</strong> for <strong class="bold">Value to Find</strong> and <strong class="source-inline">blank</strong> for <strong class="bold">Replace With</strong>. Now, all of the empty values will contain the <span class="No-Break">word </span><span class="No-Break"><strong class="bold">blank</strong></span><span class="No-Break">.</span></li>
				<li>On the ribbon of Power Query, select <strong class="bold">Enter Data</strong>. Name the new table <strong class="bold">Engine Position Added Data</strong>. Create two columns, <strong class="bold">Engine Code</strong> and <strong class="bold">Location </strong><span class="No-Break"><strong class="bold">of Engine</strong></span><span class="No-Break">.</span></li>
				<li>Enter <strong class="source-inline">blank</strong> for both columns in row 1 and <strong class="source-inline">NULL</strong> for both columns in <span class="No-Break">row 2.</span></li>
				<li>Right-click the new query in the <strong class="bold">Queries</strong> pane, and move it to the <strong class="bold">Raw Data</strong> group. Right-click it again, and<a id="_idIndexMarker183"/> uncheck <strong class="bold">Enable Load</strong>. Power Query should now look <span class="No-Break">like this:</span></li>
			</ol>
			<div>
				<div id="_idContainer049" class="IMG---Figure">
					<img src="image/Figure_3.11_B19500.jpg" alt="Figure 3.11 – New data to account for blank and NULL text values in Engine Position"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.11 – New data to account for blank and NULL text values in Engine Position</p>
			<ol>
				<li value="5">Left-click on the <strong class="bold">Engine Position Info</strong> query. On the Power Query ribbon, under <strong class="bold">Home</strong> | <strong class="bold">Combine select Append Queries</strong> | <strong class="bold">Append Queries</strong>, append the <strong class="bold">Engine Position Added Data</strong> query. Your <strong class="bold">Engine Position Info</strong> query should now look <span class="No-Break">like this:</span></li>
			</ol>
			<div>
				<div id="_idContainer050" class="IMG---Figure">
					<img src="image/Figure_3.12_B19500.jpg" alt="Figure 3.12 – Engine Position Info can now match for blank rows and the NULL text value"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.12 – Engine Position Info can now match for blank rows and the NULL text value</p>
			<p>You are sure to note that <a id="_idIndexMarker184"/>although it is a best practice to use integer values for primary and foreign keys, Power BI has the flexibility and performance to handle text values as key columns in this solution. Replacing all of the key values on these tables with integer values would introduce unnecessary complexity at this point in <span class="No-Break">your efforts.</span></p>
			<p>At this point, you are ready to start building your Power <span class="No-Break">BI dataset!</span></p>
			<h1 id="_idParaDest-53"><a id="_idTextAnchor056"/>Building a Power BI dataset</h1>
			<p>You review the preliminary <a id="_idIndexMarker185"/>data model design from your earlier efforts, and note that you have approached a fork for which the relational analytic data that will populate the Power BI dataset will likely have differences from the flattened data used for ML in <span class="No-Break">Power BI:</span></p>
			<div>
				<div id="_idContainer051" class="IMG---Figure">
					<img src="image/Figure_3.13_B19500.jpg" alt="Figure 3.13 – You will now populate Power Query queries for the Power BI dataset"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.13 – You will now populate Power Query queries for the Power BI dataset</p>
			<p>In order to keep your work both organized and optimized for future changes, you decide to create a new group in Power Query that will contain the tables for the Power BI dataset. You take note that when working with extremely large data volumes or a complex data model, avoiding complexity within Power Query is often a best practice. However, with your data volumes, complexity, and overall use case, it makes sense to have separate groups for <a id="_idIndexMarker186"/>different segments of <span class="No-Break">the project:</span></p>
			<ol>
				<li>Create a new group within <strong class="bold">Queries</strong> called <strong class="bold">Curated </strong><span class="No-Break"><strong class="bold">Dataset Tables</strong></span><span class="No-Break">.</span></li>
				<li>Right-click each of the <strong class="bold">Strike Reports</strong>, <strong class="bold">Aircraft Type Info</strong>, <strong class="bold">Engine Codes Info</strong>, <strong class="bold">Engine Position Info</strong>, and <strong class="bold">Date</strong> queries, and <span class="No-Break">select </span><span class="No-Break"><strong class="bold">Reference</strong></span><span class="No-Break">.</span></li>
				<li>Move each of those new queries into the <strong class="bold">Curated Dataset </strong><span class="No-Break"><strong class="bold">Tables</strong></span><span class="No-Break"> group.</span></li>
				<li>Rename the queries for readability to <strong class="bold">Strike reports Fact</strong>, <strong class="bold">Aircraft Type Dim</strong>, <strong class="bold">Engine Codes Dim</strong>, <strong class="bold">Engine Position Dim</strong>, and <span class="No-Break"><strong class="bold">Date Dim</strong></span><span class="No-Break">.</span></li>
				<li>Within the <strong class="bold">Curated Reporting Queries</strong> group, right-click each query and uncheck <strong class="bold">Enable Load</strong>. These queries do not need to be imported and cached within <span class="No-Break">Power BI.</span></li>
			</ol>
			<p>Power Query<a id="_idIndexMarker187"/> should now look<a id="_idIndexMarker188"/> <span class="No-Break">like this:</span></p>
			<div>
				<div id="_idContainer052" class="IMG---Figure">
					<img src="image/Figure_3.14_B19500.jpg" alt="Figure 3.14 – Queries that will be populated as tables in the Power BI dataset"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.14 – Queries that will be populated as tables in the Power BI dataset</p>
			<p>Now, it is time for your dataset to blast off! First, you will go through the following steps to build your Power <span class="No-Break">BI dataset:</span></p>
			<ol>
				<li>Import and process the <strong class="bold">Wildlife Strike</strong> data queries from <span class="No-Break">Power Query.</span></li>
				<li>Create relationships between fact and <span class="No-Break">dimension tables.</span></li>
				<li>Clean up the metadata and adjust <span class="No-Break">the settings.</span></li>
			</ol>
			<h2 id="_idParaDest-54"><a id="_idTextAnchor057"/>Importing and processing the Wildlife Strike data queries from Power Query</h2>
			<p>You run the full queries and<a id="_idIndexMarker189"/> import the <strong class="bold">Wildlife Strike</strong> data for <span class="No-Break">your dataset:</span></p>
			<ol>
				<li>In the Power Query ribbon, select <strong class="bold">Home</strong> | <strong class="bold">Close</strong> | <strong class="bold">Close &amp; Apply</strong> | <strong class="bold">Close &amp; Apply</strong>. Your dataset will populate with data imported using the Power <span class="No-Break">Query transformations.</span></li>
				<li>After importing the data, Power Query is closed and you are in the primary interface of Power <span class="No-Break">BI Desktop.</span></li>
				<li>On the<a id="_idIndexMarker190"/> left side of the application, click the <strong class="bold">Model</strong> view and arrange the tables in a manner that is easy <span class="No-Break">to read:</span></li>
			</ol>
			<div>
				<div id="_idContainer053" class="IMG---Figure">
					<img src="image/Figure_3.15_B19500.jpg" alt="Figure 3.15 – Arrange the dataset tables in the Model view"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.15 – Arrange the dataset tables in the Model view</p>
			<h2 id="_idParaDest-55"><a id="_idTextAnchor058"/>Creating relationships between fact and dimension tables</h2>
			<p>Next, you’ll create<a id="_idIndexMarker191"/> relationships between the tables of data. On the <strong class="bold">Date Dim</strong> table, drag the <strong class="bold">Date</strong> column and drop it on the <strong class="bold">Incident Date</strong> column of the <strong class="bold">Strike Reports Fact</strong> table. Power BI will appear <span class="No-Break">as follows:</span></p>
			<div>
				<div id="_idContainer054" class="IMG---Figure">
					<img src="image/Figure_3.16_B19500.jpg" alt="Figure 3.16 – A relationship has been created between Strike Reports Fact and Date Dim"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.16 – A relationship has been created between Strike Reports Fact and Date Dim</p>
			<p>Double-click on the <a id="_idIndexMarker192"/>relationship line to reveal that the relationship was determined to be a many-to-one with a cross-filter direction of <strong class="bold">Single</strong>. The arrow on the relationship line indicates that the <strong class="bold">Date Dim</strong> table can filter the <strong class="bold">Strike Reports Fact</strong> table, but not the other way around. The <strong class="bold">Make this relationship active</strong> box is <span class="No-Break">also checked:</span></p>
			<div>
				<div id="_idContainer055" class="IMG---Figure">
					<img src="image/Figure_3.17_B19500.jpg" alt="Figure 3.17 – The cardinality and filter direction are set to Many to one and Single"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.17 – The cardinality and filter direction are set to Many to one and Single</p>
			<p>Repeat the process by <a id="_idIndexMarker193"/>dragging and dropping the remaining columns to the <strong class="bold">Strike Reports </strong><span class="No-Break"><strong class="bold">Fact</strong></span><span class="No-Break"> table:</span></p>
			<table id="table001-3" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
					<col/>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="bold">Source Table (Column) </strong></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Destination </strong><span class="No-Break"><strong class="bold">Table (Column)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Cardinality</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Cross </strong><strong class="bold">–</strong><strong class="bold"> filter direction </strong></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Make this relationship active </strong></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Strike Reports Fact (Aircraft <span class="No-Break">Class Code)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Aircraft Type Dim (<span class="No-Break">Aircraft Code)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Many to one (fact <span class="No-Break">to dimension)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Single (dimension <span class="No-Break">to fact)</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Yes</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Strike Reports Fact (Engine Codes <span class="No-Break">Info Key)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Engine Codes Dim (Engine Codes <span class="No-Break">Info Key)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Many to one (fact <span class="No-Break">to dimension)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Single (dimension <span class="No-Break">to fact)</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Yes</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Strike Reports Fact (Engine 1 <span class="No-Break">Position Code)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Engine Position Dim (<span class="No-Break">Engine Code)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Many to one (fact <span class="No-Break">to dimension)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Single (dimension <span class="No-Break">to fact)</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Yes</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Strike Reports Fact (Engine 2 <span class="No-Break">Position Code)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Engine Position Dim (<span class="No-Break">Engine Code)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Many to one (fact <span class="No-Break">to dimension)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Single (dimension <span class="No-Break">to fact)</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">No</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Strike Reports Fact (Engine 2 <span class="No-Break">Position Code)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Engine Position Dim (<span class="No-Break">Engine Code)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Many to one (fact <span class="No-Break">to dimension)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Single (dimension <span class="No-Break">to fact)</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">No</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Strike Report Fact (Engine 2 <span class="No-Break">Position Code)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Engine Position Dim (<span class="No-Break">Engine Code)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Many to one (fact <span class="No-Break">to dimension)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Single (dimension <span class="No-Break">to fact)</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">No</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.18 – Relationship settings between the Strike Reports Fact table and dimension tables</p>
			<p>Your <a id="_idIndexMarker194"/>Power BI model view should now look <span class="No-Break">like this:</span></p>
			<div>
				<div id="_idContainer056" class="IMG---Figure">
					<img src="image/Figure_3.19_B19500.jpg" alt="Figure 3.19 – Completed relational design for the Power BI dataset"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.19 – Completed relational design for the Power BI dataset</p>
			<p>The<a id="_idIndexMarker195"/> relationships between tables are now defined <span class="No-Break">and complete.</span></p>
			<h2 id="_idParaDest-56"><a id="_idTextAnchor059"/>Cleaning up the metadata and adjusting settings</h2>
			<p>Next, you move on to clean up the <a id="_idIndexMarker196"/>metadata so that the end users of the analytic reports can easily understand the content of the dataset. This process will involve the <span class="No-Break">following tasks:</span></p>
			<ul>
				<li>Hiding <span class="No-Break">unnecessary columns</span></li>
				<li>Adjusting <strong class="bold">Summarization</strong> and <strong class="bold">Data </strong><span class="No-Break"><strong class="bold">Category</strong></span><span class="No-Break"> settings</span></li>
				<li>Adjusting settings for the <strong class="bold">Date </strong><span class="No-Break"><strong class="bold">Dim</strong></span><span class="No-Break"> table</span></li>
			</ul>
			<h3>Hiding unnecessary columns</h3>
			<p>Columns that serve as a foreign <a id="_idIndexMarker197"/>key or surrogate primary key remain part of the browsable solution for report developers and viewers by default. You hide the visibility of these columns since they are part of the dataset for relationships but do not have a practical use in reporting. In the <strong class="bold">Fields</strong> panel on the right-hand side of the screen, right-click on these columns and select <strong class="bold">Hide in </strong><span class="No-Break"><strong class="bold">report view</strong></span><span class="No-Break">:</span></p>
			<table id="table002-2" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="bold">Table (Column) </strong><span class="No-Break"><strong class="bold">to Hide</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Engine Codes Dim (Engine Codes <span class="No-Break">Info Key)</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Strike Reports Fact (Engine Codes <span class="No-Break">Info Key)</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Strike Reports Fact (<span class="No-Break">Incident Date)</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Strike Reports Fact (Aircraft <span class="No-Break">Class Code)</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.20 – Columns that aren’t needed in the reports are hidden</p>
			<h3>Adjusting Summarization, Data Category, Format, and Sort by settings</h3>
			<p>Power BI provides settings for columns of data that impact how the data is displayed and aggregated in reports. The <strong class="bold">Summarization</strong> setting <a id="_idIndexMarker198"/>determines whether numeric values will add/average/min/max or whether they are not intended to be used for math. The <strong class="bold">Don’t Summarize</strong> setting will ensure that numeric values do not get summarized by default. <strong class="bold">Data Category</strong> settings will <a id="_idIndexMarker199"/>determine how data is displayed within the context of maps, URLs, and so on when added to reports. When you highlight a column, <strong class="bold">Summarization</strong> and <strong class="bold">Data Category</strong> are on the Power BI data view ribbon at <strong class="bold">Column Tools</strong> | <strong class="bold">Properties</strong>. <strong class="bold">Format</strong> is also configured on the ribbon, and determines the display characteristics on the page such as decimal points. <strong class="bold">Sort by</strong> determines <a id="_idIndexMarker200"/>a column to sort another column, such as using numeric values 1-12 to sort the months January through February on a data visualization. You use the following settings for columns in <span class="No-Break">this solution:</span></p>
			<table id="table003-2" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
					<col/>
					<col/>
					<col/>
				</colgroup>
				<thead>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Table (Column)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Summarization</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Data Category</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Format</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Sort by</strong></span></p>
						</td>
					</tr>
				</thead>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">Strike Reports </strong><span class="No-Break"><strong class="source-inline">Fact (Latitude)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Don’t Summarize</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Latitude</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Decimal number with <span class="No-Break">7 places</span></p>
						</td>
						<td class="No-Table-Style"/>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">Strike Reports </strong><span class="No-Break"><strong class="source-inline">Fact (Longitude)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Don’t Summarize</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Longitude</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Decimal number with <span class="No-Break">7 places</span></p>
						</td>
						<td class="No-Table-Style"/>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">Strike Reports </strong><span class="No-Break"><strong class="source-inline">Fact (State)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Don’t Summarize</span></p>
						</td>
						<td class="No-Table-Style">
							<p>State <span class="No-Break">or Province</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Text</span></p>
						</td>
						<td class="No-Table-Style"/>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">Strike Reports Fact (</strong><span class="No-Break"><strong class="source-inline">Enroute State)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Don’t Summarize</span></p>
						</td>
						<td class="No-Table-Style">
							<p>State <span class="No-Break">or Province</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Text</span></p>
						</td>
						<td class="No-Table-Style"/>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">Date (</strong><span class="No-Break"><strong class="source-inline">Quarter Year)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Don’t Summarize</span></p>
						</td>
						<td class="No-Table-Style"/>
						<td class="No-Table-Style">
							<p><span class="No-Break">Text</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Date (</strong><span class="No-Break"><strong class="bold">Quarter Num)</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">Date (</strong><span class="No-Break"><strong class="source-inline">Month Name)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Don’t Summarize</span></p>
						</td>
						<td class="No-Table-Style"/>
						<td class="No-Table-Style">
							<p><span class="No-Break">Text</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Date (</strong><span class="No-Break"><strong class="bold">Month Num)</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">Date (Month </strong><span class="No-Break"><strong class="source-inline">Name Short)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Don’t Summarize</span></p>
						</td>
						<td class="No-Table-Style"/>
						<td class="No-Table-Style">
							<p><span class="No-Break">Text</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Date (</strong><span class="No-Break"><strong class="bold">Month Num)</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">Date (</strong><span class="No-Break"><strong class="source-inline">Month Year)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Don’t Summarize</span></p>
						</td>
						<td class="No-Table-Style"/>
						<td class="No-Table-Style">
							<p><span class="No-Break">Text</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Date (Month </strong><span class="No-Break"><strong class="bold">Year Order)</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">Date (</strong><span class="No-Break"><strong class="source-inline">Week Year)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Don’t Summarize</span></p>
						</td>
						<td class="No-Table-Style"/>
						<td class="No-Table-Style">
							<p><span class="No-Break">Text</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Date (Week </strong><span class="No-Break"><strong class="bold">Year Order)</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">Date (</strong><span class="No-Break"><strong class="source-inline">Day Name)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Don’t Summarize</span></p>
						</td>
						<td class="No-Table-Style"/>
						<td class="No-Table-Style">
							<p><span class="No-Break">Text</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Date (Day </strong><span class="No-Break"><strong class="bold">Num Week)</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">Date (Day </strong><span class="No-Break"><strong class="source-inline">Name Short)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Don’t Summarize</span></p>
						</td>
						<td class="No-Table-Style"/>
						<td class="No-Table-Style">
							<p><span class="No-Break">Text</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Date (Day </strong><span class="No-Break"><strong class="bold">Num Week)</strong></span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.21 – Categories, summarization, format, and sort settings for columns</p>
			<p>As you build out your analytical report and determine suitable features for ML in Power BI, you may modify more settings and add to <span class="No-Break">this list.</span></p>
			<h3>Adjusting settings for the Date Dim table</h3>
			<p>Specifying the <strong class="bold">Date Dim</strong> table as an official date table will unlock capabilities in Power BI such <a id="_idIndexMarker201"/>as <strong class="bold">Time Intelligence</strong>. Marking the <strong class="bold">Date Dim</strong> table as an official date table can be accomplished <a id="_idIndexMarker202"/>by navigating to <strong class="bold">Table Tools</strong> | <strong class="bold">Calendars</strong> | <strong class="bold">Mark as date table</strong> in the <strong class="bold">Data</strong> view and selecting <strong class="bold">Date</strong> as the official date column for <span class="No-Break">the solution.</span></p>
			<p>Having built out the foundation of the relational model in the Power BI dataset, you can move on to build runtime calculations. You’ve got the data model set up the way you need it, but adding some logic to the semantic layer for mathematical operations will empower you to dive deeper <span class="No-Break">with analytics.</span></p>
			<h1 id="_idParaDest-57"><a id="_idTextAnchor060"/>Adding measures to your Power BI dataset</h1>
			<p>As a final activity for<a id="_idIndexMarker203"/> this chapter, you will add a few basic measures <a id="_idIndexMarker204"/>to the Power BI dataset. Measures are not stored on the tables of data but rather during runtime on reports. These measures will be used to do mathematics such as total number of reports, average damage cost amounts, average height of contact calculations, and more. For now, you choose a few basic measures that will give you a starting point for analysis. In future chapters, you can add more measures as you discover new perspectives within <span class="No-Break">the data.</span></p>
			<p>Measures can be added using the DAX expression language, which is a key skill for Power BI. Most of the formulas will be fairly simple for anyone who is familiar with writing formulas <span class="No-Break">in Excel.</span></p>
			<p>Add the following measures in the <strong class="bold">Data</strong> view of Power BI while the <strong class="bold">Strike Reports Fact</strong> table <span class="No-Break">is highlighted:</span></p>
			<table id="table004-2" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Name</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">DAX formula</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Description</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Incidents</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="source-inline">Incidents = COUNTROWS('Strike </strong><span class="No-Break"><strong class="source-inline">Reports Fact')</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p>This formula will calculate a count of the total incidents that <span class="No-Break">were reported</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Average Speed</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="source-inline">Average Speed = </strong><span class="No-Break"><strong class="source-inline">AVERAGE([Speed])</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p>An average speed for incidents at the time <span class="No-Break">of impact</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Average Height</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="source-inline">Average Height = </strong><span class="No-Break"><strong class="source-inline">AVERAGE([Height])</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p>An average height for incidents at the time <span class="No-Break">of impact</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Total Cost <span class="No-Break">of Repairs</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="source-inline">Total Cost of Repairs = SUM([Cost </strong><span class="No-Break"><strong class="source-inline">of Repairs])</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p>A sum of all <span class="No-Break">repair costs</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Average Cost <span class="No-Break">of Repairs</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="source-inline">Average Cost of Repairs = SUM([Cost </strong><span class="No-Break"><strong class="source-inline">of Repairs])</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p>An average of all <span class="No-Break">repair costs</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Incidents <span class="No-Break">with Costs</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="source-inline">Incidents with Costs = CALCULATE([Incidents],FILTER('Strike Reports Fact',[Cost of Repairs] &gt; </strong><span class="No-Break"><strong class="source-inline">0)</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p>A count of incidents that resulted in <span class="No-Break">costs incurred</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Percentage Incidents <span class="No-Break">with Costs</span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="source-inline">Percentage Incidents with Costs = DIVIDE([Incidents </strong><span class="No-Break"><strong class="source-inline">with Costs],[Incidents])</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p>A percentage of incidents that resulted in <span class="No-Break">costs incurred</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.22 – Calculated measures and the corresponding DAX expressions</p>
			<p>As you <a id="_idIndexMarker205"/>progress in your exploration of the data, you will<a id="_idIndexMarker206"/> probably add more measures to your list. The measures listed in the preceding table are a good start before moving to your next phase <span class="No-Break">of analysis.</span></p>
			<h1 id="_idParaDest-58"><a id="_idTextAnchor061"/>Summary</h1>
			<p>In this chapter, you designed key values for tables in a Power BI dataset, created a Power BI dataset, and added measures to the Power BI dataset. You have progressed from exploring and understanding raw data to working with a multidimensional dataset in Power BI that contains runtime measures. You now have the basic foundation for analytics and building an <span class="No-Break">analytics report.</span></p>
			<p>In the next chapter, you will build an analytical report that dives into the data and uncovers features that you will earmark for machine learning in Power BI. As you enrich the analytical report and discover new features, you will also begin to build out the datasets in Power Query that will be used to train and test using Power <span class="No-Break">BI ML.</span></p>
		</div>
	</body></html>