<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;1.&#xA0;Practical Machine Learning with R"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01" class="calibre1"/>Chapter 1. Practical Machine Learning with R</h1></div></div></div><p class="calibre7">In this chapter, we will cover the following topics:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Downloading and installing R</li><li class="listitem">Downloading and installing RStudio</li><li class="listitem">Installing and loading packages</li><li class="listitem">Reading and writing data</li><li class="listitem">Using R to manipulate data</li><li class="listitem">Applying basic statistics</li><li class="listitem">Visualizing data</li><li class="listitem">Getting a dataset for machine learning</li></ul></div></div>

<div class="book" title="Chapter&#xA0;1.&#xA0;Practical Machine Learning with R">
<div class="book" title="Introduction"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch01lvl1sec09" class="calibre1"/>Introduction</h1></div></div></div><p class="calibre7">The aim of <a id="id0" class="calibre1"/>machine learning is to uncover hidden patterns, unknown correlations, and find useful information from data. In addition to this, through incorporation with data analysis, machine learning can be used to perform predictive <a id="id1" class="calibre1"/>analysis. With machine learning, the analysis of business operations and processes is not limited to human scale thinking; machine scale analysis enables businesses to capture hidden values in big data.</p><p class="calibre7">Machine learning has similarities to the human reasoning process. Unlike traditional analysis, the generated model cannot evolve as data is accumulated. Machine learning can learn from the data that is processed and analyzed. In other words, the more data that is processed, the more it can learn.</p><p class="calibre7">R, as a<a id="id2" class="calibre1"/> dialect of GNU-S, is a powerful statistical language that can be used to manipulate and analyze data. Additionally, R provides many machine learning packages and visualization functions, which enable users to analyze data on the fly. Most importantly, R is open source and free.</p><p class="calibre7">Using R greatly simplifies machine learning. All you need to know is how each algorithm can solve <a id="id3" class="calibre1"/>your problem, and then you can simply use a written<a id="id4" class="calibre1"/> package to quickly generate prediction models on data with a few command lines. For example, you can either perform Naïve Bayes for spam mail filtering, conduct k-means clustering for customer segmentation, use linear regression to forecast house prices, or implement a hidden Markov model to predict the stock market, as shown in the following screenshot:</p><div class="mediaobject"><img src="../images/00002.jpeg" alt="Introduction" class="calibre9"/><div class="caption"><p class="calibre12">Stock market prediction using R</p></div></div><p class="calibre10"> </p><p class="calibre7">Moreover, you can perform nonlinear dimension reduction to calculate the dissimilarity of image data, and visualize the clustered graph, as shown in the following screenshot. All you need to do is follow the recipes provided in this book.</p><div class="mediaobject"><img src="../images/00003.jpeg" alt="Introduction" class="calibre9"/><div class="caption"><p class="calibre12">A clustered graph of face image data</p></div></div><p class="calibre10"> </p><p class="calibre7">This chapter serves as an overall introduction to machine learning and R; the first few recipes <a id="id5" class="calibre1"/>introduce how to set up the R environment and integrated development environment, RStudio. After setting up the environment, the following <a id="id6" class="calibre1"/>recipe introduces package installation and loading. In order to understand how data analysis is practiced using R, the next four recipes cover data read/write, data manipulation, basic statistics, and data visualization using R. The last recipe in the chapter lists useful data sources and resources.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Downloading and installing R"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec10" class="calibre1"/>Downloading and installing R</h1></div></div></div><p class="calibre7">To use R, you<a id="id7" class="calibre1"/> must first install it on your computer. This recipe gives detailed<a id="id8" class="calibre1"/> instructions on how to download and install R.</p></div>

<div class="book" title="Downloading and installing R">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec12" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">If you are<a id="id9" class="calibre1"/> new to the R language, you can find a detailed introduction, language history, and functionality on the official website (<a class="calibre1" href="http://www.r-project.org">http://www.r-project.org</a>/). When<a id="id10" class="calibre1"/> you are ready to download and install R, please access the following link: <a class="calibre1" href="http://cran.r-project.org/">http://cran.r-project.org/</a>.</p></div></div>

<div class="book" title="Downloading and installing R">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec13" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre7">Please perform the following steps to download and install R for Windows and Mac users:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Go to the R CRAN website, <a class="calibre1" href="http://www.r-project.org/">http://www.r-project.org/</a>, and click on the <span class="strong"><strong class="calibre2">download R</strong></span> link, that<a id="id11" class="calibre1"/> is, <a class="calibre1" href="http://cran.r-project.org/mirrors.html">http://cran.r-project.org/mirrors.html</a>):<div class="mediaobject"><img src="../images/00004.jpeg" alt="How to do it..." class="calibre9"/></div><p class="calibre13"> </p></li><li class="listitem" value="2">You<a id="id12" class="calibre1"/> may <a id="id13" class="calibre1"/>select the mirror location <a id="id14" class="calibre1"/>closest to you:<div class="mediaobject"><img src="../images/00005.jpeg" alt="How to do it..." class="calibre9"/><div class="caption"><p class="calibre12">CRAN mirrors</p></div></div><p class="calibre13"> </p></li><li class="listitem" value="3">Select the correct download link based on your operating system:<div class="mediaobject"><img src="../images/00006.jpeg" alt="How to do it..." class="calibre9"/><div class="caption"><p class="calibre12">Click on the download link based on your OS</p></div></div><p class="calibre13"> </p></li></ol><div class="calibre14"/></div><p class="calibre7">As the<a id="id15" class="calibre1"/> installation <a id="id16" class="calibre1"/>of R differs for Windows and Mac, the steps required to install R for each OS are provided here.</p><p class="calibre7">For <a id="id17" class="calibre1"/>Windows users:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Click <a id="id18" class="calibre1"/>on <span class="strong"><strong class="calibre2">Download R for Windows</strong></span>, as shown in the following screenshot, and then click on <span class="strong"><strong class="calibre2">base</strong></span>:<div class="mediaobject"><img src="../images/00007.jpeg" alt="How to do it..." class="calibre9"/><div class="caption"><p class="calibre12">Go to "Download R for Windows" and click "base"</p></div></div><p class="calibre13"> </p></li><li class="listitem" value="2">Click on <span class="strong"><strong class="calibre2">Download R 3.x.x for Windows</strong></span>:<div class="mediaobject"><img src="../images/00008.jpeg" alt="How to do it..." class="calibre9"/><div class="caption"><p class="calibre12">Click "Download R 3.x.x for Windows" </p></div></div><p class="calibre13"> </p></li><li class="listitem" value="3">The<a id="id19" class="calibre1"/> installation file should be downloaded. Once the download<a id="id20" class="calibre1"/> is finished, you can double-click on the<a id="id21" class="calibre1"/> installation file and begin installing R:<div class="mediaobject"><img src="../images/00009.jpeg" alt="How to do it..." class="calibre9"/></div><p class="calibre13"> </p></li><li class="listitem" value="4">The Windows installation of R is quite straightforward; the installation GUI may instruct you on how to install the program step by step (public license, destination location, select components, startup options, startup menu folder, and select additional tasks). Leave all the installation options as the default settings if you do not want to make any changes.</li><li class="listitem" value="5">After successfully completing the installation, a shortcut to the R application will appear in your Start menu, which will open the R Console:<div class="mediaobject"><img src="../images/00010.jpeg" alt="How to do it..." class="calibre9"/><div class="caption"><p class="calibre12">The Windows R Console</p></div></div><p class="calibre13"> </p></li></ol><div class="calibre14"/></div><p class="calibre7">For<a id="id22" class="calibre1"/> Mac OS X users:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Go<a id="id23" class="calibre1"/> to <span class="strong"><strong class="calibre2">Download R for (Mac) OS X,</strong></span> as shown in <a id="id24" class="calibre1"/>this screenshot.</li><li class="listitem" value="2">Click on the latest version (<code class="email">.pkg</code> file extension) according to your Mac OS version:<div class="mediaobject"><img src="../images/00011.jpeg" alt="How to do it..." class="calibre9"/></div><p class="calibre13"> </p></li><li class="listitem" value="3">Double-click on the downloaded installation file (<code class="email">.pkg</code> extension) and begin to install R. Leave all the installation options as the default settings if you do not want to make any changes:<div class="mediaobject"><img src="../images/00012.jpeg" alt="How to do it..." class="calibre9"/></div><p class="calibre13"> </p></li><li class="listitem" value="4">Follow the onscreen instructions, <span class="strong"><strong class="calibre2">Introduction</strong></span>, <span class="strong"><strong class="calibre2">Read Me</strong></span>, <span class="strong"><strong class="calibre2">License</strong></span>, <span class="strong"><strong class="calibre2">Destination Select</strong></span>, <span class="strong"><strong class="calibre2">Installation Type</strong></span>, <span class="strong"><strong class="calibre2">Installation</strong></span>, <span class="strong"><strong class="calibre2">Summary</strong></span>, and click on <span class="strong"><strong class="calibre2">continue</strong></span> to<a id="id25" class="calibre1"/> complete the installation.</li><li class="listitem" value="5">After<a id="id26" class="calibre1"/> the file is installed, you can use <span class="strong"><strong class="calibre2">Spotlight Search</strong></span> or <a id="id27" class="calibre1"/>go to the application folder to find R:<div class="mediaobject"><img src="../images/00013.jpeg" alt="How to do it..." class="calibre9"/><div class="caption"><p class="calibre12">Use "Spotlight Search" to find R</p></div></div><p class="calibre13"> </p></li><li class="listitem" value="6">Click on R to open <span class="strong"><strong class="calibre2">R Console</strong></span>:<div class="mediaobject"><img src="../images/00014.jpeg" alt="How to do it..." class="calibre9"/></div><p class="calibre13"> </p></li></ol><div class="calibre14"/></div><p class="calibre7">As an<a id="id28" class="calibre1"/> alternative<a id="id29" class="calibre1"/> to downloading a <a id="id30" class="calibre1"/>Mac <code class="email">.pkg</code> file to install R, Mac users can also install R using Homebrew:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Download <code class="email">XQuartz-2.X.X.dmg</code> from <a class="calibre1" href="https://xquartz.macosforge.org/landing/">https://xquartz.macosforge.org/landing/</a>.</li><li class="listitem" value="2">Double-click<a id="id31" class="calibre1"/> on the <code class="email">.dmg</code> file to mount it.</li><li class="listitem" value="3">Update brew with the following command line:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ brew update</strong></span>
</pre></div></li><li class="listitem" value="4">Clone the repository and symlink all its formulae to <code class="email">homebrew/science</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ brew tap homebrew/science</strong></span>
</pre></div></li><li class="listitem" value="5">Install gfortran:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ brew install gfortran</strong></span>
</pre></div></li><li class="listitem" value="6">Install R:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ brew install R</strong></span>
</pre></div></li></ol><div class="calibre14"/></div><p class="calibre7">For Linux users, there are precompiled binaries for Debian, Red Hat, SUSE, and Ubuntu. Alternatively, you can install R from a source code. Besides downloading precompiled binaries, you can install R for Linux through a package manager. Here are the installation steps for CentOS and Ubuntu.</p><p class="calibre7">Downloading <a id="id32" class="calibre1"/>and installing R on Ubuntu:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Add the <a id="id33" class="calibre1"/>entry to the <code class="email">/etc/apt/sources.list</code> file:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ sudo sh -c "echo 'deb http:// cran.stat.ucla.edu/bin/linux/ubuntu precise/' &gt;&gt; /etc/apt/sources.list"</strong></span>
</pre></div></li><li class="listitem" value="2">Then, update the repository:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ sudo apt-get update</strong></span>
</pre></div></li><li class="listitem" value="3">Install R with the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ sudo apt-get install r-base</strong></span>
</pre></div></li><li class="listitem" value="4">Start R in the command line:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ R</strong></span>
</pre></div></li></ol><div class="calibre14"/></div><p class="calibre7">Downloading<a id="id34" class="calibre1"/> and <a id="id35" class="calibre1"/>installing R on <a id="id36" class="calibre1"/>CentOS 5:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Get rpm CentOS5 RHEL EPEL repository of CentOS5:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ wget http://dl.fedoraproject.org/pub/epel/5/x86_64/epel-release-5-4.noarch.rpm</strong></span>
</pre></div></li><li class="listitem" value="2">Install CentOS5 RHEL EPEL repository:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ sudo rpm -Uvh epel-release-5-4.noarch.rpm</strong></span>
</pre></div></li><li class="listitem" value="3">Update the installed packages:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ sudo yum update</strong></span>
</pre></div></li><li class="listitem" value="4">Install R through the repository:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ sudo yum install R</strong></span>
</pre></div></li><li class="listitem" value="5">Start R in the command line:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ R</strong></span>
</pre></div></li></ol><div class="calibre14"/></div><p class="calibre7">Downloading<a id="id37" class="calibre1"/> and <a id="id38" class="calibre1"/>installing R on CentOS 6:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Get rpm CentOS5 RHEL EPEL repository of CentOS6:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ wget http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm</strong></span>
</pre></div></li><li class="listitem" value="2">Install the CentOS5 RHEL EPEL repository:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ sudo rpm -Uvh epel-release-6-8.noarch.rpm</strong></span>
</pre></div></li><li class="listitem" value="3">Update the installed packages:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ sudo yum update</strong></span>
</pre></div></li><li class="listitem" value="4">Install R through the repository:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ sudo yum install R</strong></span>
</pre></div></li><li class="listitem" value="5">Start R in the command line:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ R</strong></span>
</pre></div></li></ol><div class="calibre14"/></div></div></div>

<div class="book" title="Downloading and installing R">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec14" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre7">CRAN provides<a id="id39" class="calibre1"/> precompiled binaries for Linux, Mac OS X, and Windows. For<a id="id40" class="calibre1"/> Mac and Windows users, the installation procedures are straightforward. You can generally follow onscreen instructions to complete the installation. For<a id="id41" class="calibre1"/> Linux users, you can use the package manager provided for each platform to install R or build R from the source code.</p></div></div>

<div class="book" title="Downloading and installing R">
<div class="book" title="See also"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec15" class="calibre1"/>See also</h2></div></div></div><div class="book"><ul class="itemizedlist"><li class="listitem">For those planning to build R from the source code, refer to <span class="strong"><strong class="calibre2">R Installation and Administration</strong></span> (<a class="calibre1" href="http://cran.r-project.org/doc/manuals/R-admin.html">http://cran.r-project.org/doc/manuals/R-admin.html</a>), which illustrates how to install R on a variety of platforms.</li></ul></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Downloading and installing RStudio"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec11" class="calibre1"/>Downloading and installing RStudio</h1></div></div></div><p class="calibre7">To write an R script, one can use R Console, R commander, or any text editor (EMACS, VIM, or sublime). However, the assistance of RStudio, an <span class="strong"><strong class="calibre2">integrated development environment</strong></span> (<span class="strong"><strong class="calibre2">IDE</strong></span>) for<a id="id42" class="calibre1"/> R, can make development a lot easier.</p><p class="calibre7">RStudio <a id="id43" class="calibre1"/>provides comprehensive facilities for software development. Built-in<a id="id44" class="calibre1"/> features such as syntax highlighting, code completion, and <a id="id45" class="calibre1"/>smart indentation help maximize productivity. To make R programming more manageable, RStudio also integrates the main interface into a four-panel layout. It includes an interactive R Console, a tabbed source code editor, a panel for the currently active objects/history, and a tabbed panel for the file browser/plot window/package install window/R help window. Moreover, RStudio is open source and is available for many platforms, such as Windows, Mac OS X, and Linux. This recipe shows how to download and install RStudio.</p></div>

<div class="book" title="Downloading and installing RStudio">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec16" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">RStudio requires a working R installation; when RStudio loads, it must be able to locate a version of R. You must therefore have completed the previous recipe with R installed on your OS before proceeding to install RStudio.</p></div></div>

<div class="book" title="Downloading and installing RStudio">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec17" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre7">Perform the<a id="id46" class="calibre1"/> following steps to download and install RStudio for <a id="id47" class="calibre1"/>Windows and Mac users:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Access<a id="id48" class="calibre1"/> RStudio's official site by using the <a id="id49" class="calibre1"/>following URL: <a class="calibre1" href="http://www.rstudio.com/products/RStudio/">http://www.rstudio.com/products/RStudio/</a>.<div class="mediaobject"><img src="../images/00015.jpeg" alt="How to do it..." class="calibre9"/></div><p class="calibre13"> </p></li><li class="listitem" value="2">For a desktop version installation, click on <span class="strong"><strong class="calibre2">Download RStudio Desktop</strong></span> (<a class="calibre1" href="http://www.rstudio.com/products/rstudio/download/">http://www.rstudio.com/products/rstudio/download/</a>) and choose the RStudio recommended for your system. Download the relevant packages:<div class="mediaobject"><img src="../images/00016.jpeg" alt="How to do it..." class="calibre9"/></div><p class="calibre13"> </p></li><li class="listitem" value="3">Install RStudio <a id="id50" class="calibre1"/>by double-clicking on the downloaded <a id="id51" class="calibre1"/>packages. For Windows users, follow the <a id="id52" class="calibre1"/>onscreen instruction to install the application:<div class="mediaobject"><img src="../images/00017.jpeg" alt="How to do it..." class="calibre9"/></div><p class="calibre13"> </p></li><li class="listitem" value="4">For <a id="id53" class="calibre1"/>Mac <a id="id54" class="calibre1"/>users, simply drag the RStudio icon to <a id="id55" class="calibre1"/>the <code class="email">Applications</code> folder:<div class="mediaobject"><img src="../images/00018.jpeg" alt="How to do it..." class="calibre9"/></div><p class="calibre13"> </p></li><li class="listitem" value="5">Start RStudio:<div class="mediaobject"><img src="../images/00019.jpeg" alt="How to do it..." class="calibre9"/><div class="caption"><p class="calibre12">The RStudio console</p></div></div><p class="calibre13"> </p></li></ol><div class="calibre14"/></div><p class="calibre7">Perform<a id="id56" class="calibre1"/> the following steps for downloading and installing<a id="id57" class="calibre1"/> RStudio <a id="id58" class="calibre1"/>for Ubuntu/Debian and RedHat/Centos users:</p><p class="calibre7">For Debian(6+)/Ubuntu(10.04+) 32-bit:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ wget http://download1.rstudio.org/rstudio-0.98.1091-i386.deb</strong></span>
<span class="strong"><strong class="calibre2">$ sudo gdebi rstudio-0.98. 1091-i386.deb</strong></span>
</pre></div><p class="calibre7">For Debian(6+)/Ubuntu(10.04+) 64-bit:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ wget http://download1.rstudio.org/rstudio-0.98. 1091-amd64.deb</strong></span>
<span class="strong"><strong class="calibre2">$ sudo gdebi rstudio-0.98. 1091-amd64.deb</strong></span>
</pre></div><p class="calibre7">For RedHat/CentOS(5,4+) 32 bit:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ wget http://download1.rstudio.org/rstudio-0.98. 1091-i686.rpm</strong></span>
<span class="strong"><strong class="calibre2">$ sudo yum install --nogpgcheck rstudio-0.98. 1091-i686.rpm</strong></span>
</pre></div><p class="calibre7">For RedHat/CentOS(5,4+) 64 bit:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ wget http://download1.rstudio.org/rstudio-0.98. 1091-x86_64.rpm</strong></span>
<span class="strong"><strong class="calibre2">$ sudo yum install --nogpgcheck rstudio-0.98. 1091-x86_64.rpm</strong></span>
</pre></div></div></div>

<div class="book" title="Downloading and installing RStudio">
<div class="book" title="How it works"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec18" class="calibre1"/>How it works</h2></div></div></div><p class="calibre7">The RStudio program can be run on the desktop or through a web browser. The desktop version is available for Windows, Mac OS X, and Linux platforms with similar operations across all platforms. For Windows and Mac users, after downloading the precompiled package of RStudio, follow the onscreen instructions, shown in the preceding steps, to <a id="id59" class="calibre1"/>complete the installation. Linux users may use the<a id="id60" class="calibre1"/> package<a id="id61" class="calibre1"/> management system provided for installation.</p></div></div>

<div class="book" title="Downloading and installing RStudio">
<div class="book" title="See also"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec19" class="calibre1"/>See also</h2></div></div></div><div class="book"><ul class="itemizedlist"><li class="listitem">In addition to the desktop version, users may install a server version to provide access to multiple users. The server version provides a URL that users can access to use the RStudio resources. To install RStudio, please refer to the<a id="id62" class="calibre1"/> following link: <a class="calibre1" href="http://www.rstudio.com/ide/download/server.html">http://www.rstudio.com/ide/download/server.html</a>. This page provides installation instructions for the following Linux distributions: Debian (6+), Ubuntu (10.04+), RedHat, and CentOS (5.4+).</li><li class="listitem">For other Linux distributions, you can build RStudio from the source code.</li></ul></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Installing and loading packages"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec12" class="calibre1"/>Installing and loading packages</h1></div></div></div><p class="calibre7">After successfully<a id="id63" class="calibre1"/> installing R, users can download, install, and update <a id="id64" class="calibre1"/>packages from the repositories. As R allows users to create their <a id="id65" class="calibre1"/>own packages, official and non-official repositories are <a id="id66" class="calibre1"/>provided to manage these user-created packages. <span class="strong"><strong class="calibre2">CRAN</strong></span> is the official R package repository. Currently, the CRAN package repository features 6,379 available packages (as of 02/27/2015). Through the use of the packages provided on CRAN, users may extend the functionality of R to machine learning, statistics, and related purposes. CRAN is a network of FTP and web servers around the world that store identical, up-to-date versions of code and documentation for R. You may select the closest CRAN mirror to your location to download packages.</p></div>

<div class="book" title="Installing and loading packages">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec20" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">Start an R session on your host computer.</p></div></div>

<div class="book" title="Installing and loading packages">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec21" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre7">Perform the following steps to install and load R packages:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">To load a list of installed packages:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; library()</strong></span>
</pre></div></li><li class="listitem" value="2">Setting the default CRAN mirror:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; chooseCRANmirror()</strong></span>
</pre></div></li></ol><div class="calibre14"/></div><p class="calibre7">R will return a list of CRAN mirrors, and then ask the user to either type a mirror ID to select it, or enter zero to exit:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Install a package from CRAN; take package e1071 as an example:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; install.packages("e1071")</strong></span>
</pre></div></li><li class="listitem" value="2">Update a package from CRAN; take package e1071 as an example:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; update.packages("e1071")</strong></span>
</pre></div></li><li class="listitem" value="3">Load the package the package:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; library(e1071)</strong></span>
</pre></div></li><li class="listitem" value="4">If you would like to view the documentation of the package, you can use the <code class="email">help</code> function:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; help(package ="e1071")</strong></span>
</pre></div></li><li class="listitem" value="5">If you <a id="id67" class="calibre1"/>would like to view the documentation of the function, you <a id="id68" class="calibre1"/>can use the <code class="email">help</code> function:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; help(svm, e1071)</strong></span>
</pre></div></li><li class="listitem" value="6">Alternatively, you <a id="id69" class="calibre1"/>can use the help shortcut, <code class="email">?</code>, to view the help document for this function:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; ?e1071::svm</strong></span>
</pre></div></li><li class="listitem" value="7">If the function does not provide any documentation, you may want to search the supplied documentation for a given keyword. For example, if you wish to search for documentation related to <code class="email">svm</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; help.search("svm")</strong></span>
</pre></div></li><li class="listitem" value="8">Alternatively, you can use <code class="email">??</code> as the shortcut for <code class="email">help.search</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; ??svm</strong></span>
</pre></div></li><li class="listitem" value="9">To view the argument taken for the function, simply use the <code class="email">args</code> function. For example, if you would like to know the argument taken for the <code class="email">lm</code> function:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; args(lm)</strong></span>
</pre></div></li><li class="listitem" value="10">Some packages will provide examples and demos; you can use <code class="email">example</code> or <code class="email">demo</code> to view an example or demo. For example, one can view an example of the <code class="email">lm</code> package and a demo of the <code class="email">graphics</code> package by typing the following commands:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; example(lm)</strong></span>
<span class="strong"><strong class="calibre2">&gt; demo(graphics)</strong></span>
</pre></div></li><li class="listitem" value="11">To view all the available demos, you may use the demo function to list all of them:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; demo()</strong></span>
</pre></div></li></ol><div class="calibre14"/></div></div></div>

<div class="book" title="Installing and loading packages">
<div class="book" title="How it works"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec22" class="calibre1"/>How it works</h2></div></div></div><p class="calibre7">This recipe first introduces how to view loaded packages, install packages from CRAN, and load new packages. Before installing packages, those of you who are interested in the listing <a id="id70" class="calibre1"/>of the CRAN package can refer to <a class="calibre1" href="http://cran.r-project.org/web/packages/available_packages_by_name.html">http://cran.r-project.org/web/packages/available_packages_by_name.html</a>.</p><p class="calibre7">When a <a id="id71" class="calibre1"/>package is installed, documentation related to the package is <a id="id72" class="calibre1"/>also provided. You are, therefore, able to view the documentation <a id="id73" class="calibre1"/>or the related help pages of installed packages and functions. Additionally, demos and examples are provided by packages that can help users understand the capability of the installed package.</p></div></div>

<div class="book" title="Installing and loading packages">
<div class="book" title="See also"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec23" class="calibre1"/>See also</h2></div></div></div><div class="book"><ul class="itemizedlist"><li class="listitem">Besides installing packages from CRAN, there are other R package repositories, including <a id="id74" class="calibre1"/>Crantastic, a community site for rating and reviewing CRAN packages, and R-Forge, a central platform for the<a id="id75" class="calibre1"/> collaborative development of R packages. In addition to this, Bioconductor provides R packages for the analysis of genomic data.</li><li class="listitem">If you would like to find relevant functions and packages, please visit the list of task views at <a class="calibre1" href="http://cran.r-project.org/web/views/">http://cran.r-project.org/web/views/</a>, or search for keywords at <a class="calibre1" href="http://rseek.org">http://rseek.org</a>.</li></ul></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Reading and writing data"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec13" class="calibre1"/>Reading and writing data</h1></div></div></div><p class="calibre7">Before starting to explore data, you must load the data into the R session. This recipe will introduce <a id="id76" class="calibre1"/>methods to load data either from a file into the memory or use the <a id="id77" class="calibre1"/>predefined data within R.</p></div>

<div class="book" title="Reading and writing data">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec24" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">First, start an R session on your machine. As this recipe involves steps toward the file IO, if the user does not specify the full path, read and write activity will take place in the current working directory.</p><p class="calibre7">You can simply type <code class="email">getwd()</code> in the R session to obtain the current working directory location. However, if you would like to change the current working directory, you can use <code class="email">setwd("&lt;path&gt;")</code>, where <code class="email">&lt;path&gt;</code> can be replaced as your desired path, to specify the working directory.</p></div></div>

<div class="book" title="Reading and writing data">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec25" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre7">Perform the following steps to read and write data with R:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">To <a id="id78" class="calibre1"/>view the built-in datasets of R, type the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; data()</strong></span>
</pre></div></li><li class="listitem" value="2">R will <a id="id79" class="calibre1"/>return a list of datasets in a <code class="email">dataset</code> package, and the list comprises the name and description of each dataset.</li><li class="listitem" value="3">To load the dataset <code class="email">iris</code> into an R session, type the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; data(iris)</strong></span>
</pre></div></li><li class="listitem" value="4">The dataset iris is now loaded into the data frame format, which is a common data structure in R to store a data table.</li><li class="listitem" value="5">To view the data type of iris, simply use the <code class="email">class</code> function:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; class(iris)</strong></span>
<span class="strong"><strong class="calibre2">[1] "data.frame"</strong></span>
</pre></div></li><li class="listitem" value="6">The <code class="email">data.frame</code> console print shows that the <code class="email">iris</code> dataset is in the structure of data frame.</li><li class="listitem" value="7">Use the save function to store an object in a file. For example, to save the loaded iris data into <code class="email">myData.RData</code>, use the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; save(iris, file="myData.RData")</strong></span>
</pre></div></li><li class="listitem" value="8">Use the load function to read a saved object into an R session. For example, to load iris data from <code class="email">myData.RData</code>, use the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; load("myData.RData")</strong></span>
</pre></div></li><li class="listitem" value="9">In addition to using built-in datasets, R also provides a function to import data from text into a data frame. For example, the <code class="email">read.table</code> function can format a given text into a data frame:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; test.data = read.table(header = TRUE, text = "</strong></span>
<span class="strong"><strong class="calibre2">+ a b</strong></span>
<span class="strong"><strong class="calibre2">+ 1 2</strong></span>
<span class="strong"><strong class="calibre2">+ 3 4</strong></span>
<span class="strong"><strong class="calibre2">+ ")</strong></span>
</pre></div></li><li class="listitem" value="10">You can also use <code class="email">row.names</code> and <code class="email">col.names</code> to specify the names of columns and rows:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; test.data = read.table(text = "</strong></span>
<span class="strong"><strong class="calibre2">+ 1 2</strong></span>
<span class="strong"><strong class="calibre2">+ 3 4", </strong></span>
<span class="strong"><strong class="calibre2">+ col.names=c("a","b"),</strong></span>
<span class="strong"><strong class="calibre2">+ row.names = c("first","second"))</strong></span>
</pre></div></li><li class="listitem" value="11">View the class of the <code class="email">test.data</code> variable:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; class(test.data)</strong></span>
<span class="strong"><strong class="calibre2">[1] "data.frame"</strong></span>
</pre></div></li><li class="listitem" value="12">The <code class="email">class</code> function shows that the <code class="email">test.data</code> variable contains a data frame.</li><li class="listitem" value="13">In <a id="id80" class="calibre1"/>addition to importing data by using the <code class="email">read.table</code> function, you<a id="id81" class="calibre1"/> can use the <code class="email">write.table</code> function to export data to a text file:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; write.table(test.data, file = "test.txt" , sep = " ")</strong></span>
</pre></div></li><li class="listitem" value="14">The <code class="email">write.table</code> function will write the content of <code class="email">test.data</code> into <code class="email">test.txt</code> (the written path can be found by typing <code class="email">getwd()</code>), with a separation delimiter as white space.</li><li class="listitem" value="15">Similar to <code class="email">write.table</code>, <code class="email">write.csv</code> can also export data to a file. However, <code class="email">write.csv</code> uses a comma as the default delimiter:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; write.csv(test.data, file = "test.csv")</strong></span>
</pre></div></li><li class="listitem" value="16">With the <code class="email">read.csv</code> function, the <code class="email">csv</code> file can be imported as a data frame. However, the last example writes column and row names of the data frame to the <code class="email">test.csv</code> file. Therefore, specifying header to <code class="email">TRUE</code> and row names as the first column within the function can ensure the read data frame will not treat the header and the first column as values:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; csv.data = read.csv("test.csv", header = TRUE, row.names=1)</strong></span>
<span class="strong"><strong class="calibre2">&gt; head(csv.data)</strong></span>
<span class="strong"><strong class="calibre2">  a b</strong></span>
<span class="strong"><strong class="calibre2">1 1 2</strong></span>
<span class="strong"><strong class="calibre2">2 3 4</strong></span>
</pre></div></li></ol><div class="calibre14"/></div></div></div>

<div class="book" title="Reading and writing data">
<div class="book" title="How it works"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec26" class="calibre1"/>How it works</h2></div></div></div><p class="calibre7">Generally, data for collection may be in multiple files and different formats. To exchange data between files and RData, R provides many built-in functions, such as <code class="email">save</code>, <code class="email">load</code>, <code class="email">read.csv</code>, <code class="email">read.table</code>, <code class="email">write.csv</code>, and <code class="email">write.table</code>.</p><p class="calibre7">This example first demonstrates how to load the built-in dataset iris into an R session. The iris dataset is the most famous and commonly used dataset in the field of machine learning. Here, we use the iris dataset as an example. The recipe shows how to save RData and load it with the <code class="email">save</code> and <code class="email">load</code> functions. Furthermore, the example explains how to use <code class="email">read.table</code>, <code class="email">write.table</code>, <code class="email">read.csv</code>, and <code class="email">write.csv</code> to exchange data from files to a data frame. The use of the R IO function to read and write data is very important as most of the data sources are external. Therefore, you have to use these functions to load data into an R session.</p></div></div>

<div class="book" title="Reading and writing data">
<div class="book" title="See also"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec27" class="calibre1"/>See also</h2></div></div></div><p class="calibre7">For the <code class="email">load</code>, <code class="email">read.table</code>, and <code class="email">read.csv</code> functions, the file to be read can also be a complete <a id="id82" class="calibre1"/>URL (for supported URLs, use <code class="email">?url</code> for more information).</p><p class="calibre7">On some<a id="id83" class="calibre1"/> occasions, data may be in an Excel file instead of a flat text file. The <code class="email">WriteXLS</code> package allows writing an object into an Excel file with a given variable in the first argument and the file to be written in the second argument:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Install the <code class="email">WriteXLS</code> package:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; install.packages("WriteXLS")</strong></span>
</pre></div></li><li class="listitem" value="2">Load the <code class="email">WriteXLS</code> package:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; library("WriteXLS")</strong></span>
</pre></div></li><li class="listitem" value="3">Use the <code class="email">WriteXLS</code> function to write the data frame iris into a file named <code class="email">iris.xls</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; WriteXLS("iris", ExcelFileName="iris.xls")</strong></span>
</pre></div></li></ol><div class="calibre14"/></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Using R to manipulate data"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec14" class="calibre1"/>Using R to manipulate data</h1></div></div></div><p class="calibre7">This recipe will discuss how to use the built-in R functions to manipulate data. As data manipulation is the most time consuming part of most analysis procedures, you should gain<a id="id84" class="calibre1"/> knowledge of how to apply these functions on data.</p></div>

<div class="book" title="Using R to manipulate data">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec28" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">Ensure <a id="id85" class="calibre1"/>you have completed the previous recipes by installing R on your operating system.</p></div></div>

<div class="book" title="Using R to manipulate data">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec29" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre7">Perform the following steps to manipulate the data with R.</p><p class="calibre7">Subset the data using the bracelet notation:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Load the dataset iris into the R session:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; data(iris)</strong></span>
</pre></div></li><li class="listitem" value="2">To select values, you may use a bracket notation that designates the indices of the dataset. The first index is for the rows and the second for the columns:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; iris[1,"Sepal.Length"]</strong></span>
<span class="strong"><strong class="calibre2">[1] 5.1</strong></span>
</pre></div></li><li class="listitem" value="3">You can also select multiple columns using c():<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; Sepal.iris = iris[, c("Sepal.Length", "Sepal.Width")]</strong></span>
</pre></div></li><li class="listitem" value="4">You can then use <code class="email">str()</code> to summarize and display the internal structure of <code class="email">Sepal.iris</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; str(Sepal.iris)</strong></span>
<span class="strong"><strong class="calibre2">'data.frame':  150 obs. of  2 variables:</strong></span>
<span class="strong"><strong class="calibre2"> $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ..</strong></span>
</pre></div></li><li class="listitem" value="5">To <a id="id86" class="calibre1"/>subset data with the rows of given indices, you can <a id="id87" class="calibre1"/>specify the indices at the first index with the bracket notation. In this example, we show you how to subset data with the top five records with the <code class="email">Sepal.Length</code> column and the <code class="email">Sepal.Width</code> selected:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; Five.Sepal.iris = iris[1:5, c("Sepal.Length", "Sepal.Width")]</strong></span>
<span class="strong"><strong class="calibre2">&gt; str(Five.Sepal.iris)</strong></span>
<span class="strong"><strong class="calibre2">'data.frame':	5 obs. of  2 variables:</strong></span>
<span class="strong"><strong class="calibre2"> $ Sepal.Length: num  5.1 4.9 4.7 4.6 5</strong></span>
<span class="strong"><strong class="calibre2"> $ Sepal.Width : num  3.5 3 3.2 3.1 3.6</strong></span>
</pre></div></li><li class="listitem" value="6">It is also possible to set conditions to filter the data. For example, to filter returned records containing the setosa data with all five variables. In the following example, the first index specifies the returning criteria, and the second index specifies the range of indices of the variable returned:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; setosa.data = iris[iris$Species=="setosa",1:5]</strong></span>
<span class="strong"><strong class="calibre2">&gt; str(setosa.data)</strong></span>
<span class="strong"><strong class="calibre2">'data.frame':	50 obs. of  5 variables:</strong></span>
<span class="strong"><strong class="calibre2"> $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Species     : Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...</strong></span>
</pre></div></li><li class="listitem" value="7">Alternatively, the <code class="email">which</code> function returns the indexes of satisfied data. The following example returns indices of the iris data containing species equal to <code class="email">setosa</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; which(iris$Species=="setosa")</strong></span>
<span class="strong"><strong class="calibre2"> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18</strong></span>
<span class="strong"><strong class="calibre2">[19] 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36</strong></span>
<span class="strong"><strong class="calibre2">[37] 37 38 39 40 41 42 43 44 45 46 47 48 49 50</strong></span>
</pre></div></li><li class="listitem" value="8">The<a id="id88" class="calibre1"/> indices returned by the operation can then be applied <a id="id89" class="calibre1"/>as the index to select the iris containing the setosa species. The following example returns the setosa with all five variables:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; setosa.data = iris[which(iris$Species=="setosa"),1:5]</strong></span>
<span class="strong"><strong class="calibre2">&gt; str(setosa.data)</strong></span>
<span class="strong"><strong class="calibre2">'data.frame':	50 obs. of  5 variables:</strong></span>
<span class="strong"><strong class="calibre2"> $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Species     : Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...</strong></span>
</pre></div></li></ol><div class="calibre14"/></div><p class="calibre7">Subset data <a id="id90" class="calibre1"/>using the <code class="email">subset</code> function:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Besides<a id="id91" class="calibre1"/> using the bracket notation, R provides a <code class="email">subset</code> function that enables users to subset the data frame by observations with a logical statement.</li><li class="listitem" value="2">First, subset species, sepal length, and sepal width out of the iris data. To select the sepal length and width out of the iris data, one should specify the column to be subset in the <code class="email">select</code> argument:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; Sepal.data = subset(iris, select=c("Sepal.Length", "Sepal.Width"))</strong></span>
<span class="strong"><strong class="calibre2">&gt; str(Sepal.data)</strong></span>
<span class="strong"><strong class="calibre2">'data.frame': 150 obs. of  2 variables:</strong></span>
<span class="strong"><strong class="calibre2"> $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...</strong></span>
</pre></div></li></ol><div class="calibre14"/></div><p class="calibre7">This reveals that <code class="email">Sepal.data</code> contains 150 objects with the <code class="email">Sepal.Length</code> variable and <code class="email">Sepal.Width</code>.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">On the<a id="id92" class="calibre1"/> other hand, you can use a subset argument to get subset data containing setosa only. In the second argument of the subset function, you can specify the subset criteria:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; setosa.data = subset(iris, Species =="setosa")</strong></span>
<span class="strong"><strong class="calibre2">&gt; str(setosa.data)</strong></span>
<span class="strong"><strong class="calibre2">'data.frame': 50 obs. of  5 variables:</strong></span>
<span class="strong"><strong class="calibre2"> $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...</strong></span>
<span class="strong"><strong class="calibre2"> $ Species     : Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...</strong></span>
</pre></div></li><li class="listitem" value="2">Most <a id="id93" class="calibre1"/>of the time, you may want to apply a union or intersect a condition while subsetting data. The OR and AND operations can be further employed for this purpose. For example, if you would like to retrieve data with <code class="email">Petal.Width &gt;=0.2 and Petal.Length &lt; = 1.4</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; example.data= subset(iris, Petal.Length &lt;=1.4 &amp; Petal.Width &gt;= 0.2, select=Species )</strong></span>
<span class="strong"><strong class="calibre2">&gt; str(example.data)</strong></span>
<span class="strong"><strong class="calibre2">'data.frame': 21 obs. of  1 variable:</strong></span>
<span class="strong"><strong class="calibre2"> $ Species: Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...</strong></span>
</pre></div></li></ol><div class="calibre14"/></div><p class="calibre7">
<span class="strong"><strong class="calibre2">Merging data</strong></span>: merging<a id="id94" class="calibre1"/> data involves joining two data frames into a merged data frame by a common column or row name. The following example shows how to merge the <code class="email">flower.type</code> data frame and the first three rows of the iris with a common row name within the <code class="email">Species</code> column:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; flower.type = data.frame(Species = "setosa", Flower = "iris")</strong></span>
<span class="strong"><strong class="calibre2">&gt; merge(flower.type, iris[1:3,], by ="Species")</strong></span>
<span class="strong"><strong class="calibre2">  Species Flower Sepal.Length Sepal.Width Petal.Length Petal.Width</strong></span>
<span class="strong"><strong class="calibre2">1  setosa   iris          5.1         3.5          1.4         0.2</strong></span>
<span class="strong"><strong class="calibre2">2  setosa   iris          4.9         3.0          1.4         0.2</strong></span>
<span class="strong"><strong class="calibre2">3  setosa   iris          4.7         3.2          1.3         0.2</strong></span>
</pre></div><p class="calibre7">
<span class="strong"><strong class="calibre2">Ordering data</strong></span>: the <code class="email">order</code> function will return the index of a sorted data frame with a specified <a id="id95" class="calibre1"/>column. The following example shows the<a id="id96" class="calibre1"/> results from the first six records with the sepal length ordered (from big to small) iris data</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; head(iris[order(iris$Sepal.Length, decreasing = TRUE),])</strong></span>
<span class="strong"><strong class="calibre2">    Sepal.Length Sepal.Width Petal.Length Petal.Width   Species</strong></span>
<span class="strong"><strong class="calibre2">132          7.9         3.8          6.4         2.0 virginica</strong></span>
<span class="strong"><strong class="calibre2">118          7.7         3.8          6.7         2.2 virginica</strong></span>
<span class="strong"><strong class="calibre2">119          7.7         2.6          6.9         2.3 virginica</strong></span>
<span class="strong"><strong class="calibre2">123          7.7         2.8          6.7         2.0 virginica</strong></span>
<span class="strong"><strong class="calibre2">136          7.7         3.0          6.1         2.3 virginica</strong></span>
<span class="strong"><strong class="calibre2">106          7.6         3.0          6.6         2.1 virginica</strong></span>
</pre></div></div></div>

<div class="book" title="Using R to manipulate data">
<div class="book" title="How it works"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec30" class="calibre1"/>How it works</h2></div></div></div><p class="calibre7">Before conducting data analysis, it is important to organize collected data into a structured format. Therefore, we can simply use the R data frame to subset, merge, and order a dataset. This <a id="id97" class="calibre1"/>recipe first introduces two methods to subset data: one uses the bracket notation, while the other uses the <code class="email">subset</code> function. You can use both methods to generate the subset data by selecting columns and filtering data with the given criteria. The recipe then introduces the <code class="email">merge</code> function to merge data frames. Last, the recipe introduces how to use <code class="email">order</code> to sort the data.</p></div></div>

<div class="book" title="Using R to manipulate data">
<div class="book" title="There's more..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec31" class="calibre1"/>There's more...</h2></div></div></div><p class="calibre7">The <code class="email">sub</code> and <code class="email">gsub</code> functions allow <a id="id98" class="calibre1"/>using regular expression to substitute a <a id="id99" class="calibre1"/>string. The <code class="email">sub</code> and <code class="email">gsub</code> functions perform the replacement of the first and all the other matches, respectively:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; sub("e", "q", names(iris))</strong></span>
<span class="strong"><strong class="calibre2">[1] "Sqpal.Length" "Sqpal.Width"  "Pqtal.Length" "Pqtal.Width"  "Spqcies"     </strong></span>
<span class="strong"><strong class="calibre2">&gt; gsub("e", "q", names(iris))</strong></span>
<span class="strong"><strong class="calibre2">[1] "Sqpal.Lqngth" "Sqpal.Width"  "Pqtal.Lqngth" "Pqtal.Width"  "Spqciqs"</strong></span>
</pre></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Applying basic statistics"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec15" class="calibre1"/>Applying basic statistics</h1></div></div></div><p class="calibre7">R provides a <a id="id100" class="calibre1"/>wide range of statistical functions, allowing users to obtain the summary statistics of data, generate frequency and contingency tables, produce correlations, and conduct statistical inferences. This recipe covers basic statistics that can be applied to a dataset.</p></div>

<div class="book" title="Applying basic statistics">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec32" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">Ensure you have completed the previous recipes by installing R on your operating system.</p></div></div>

<div class="book" title="Applying basic statistics">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec33" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre7">Perform the<a id="id101" class="calibre1"/> following steps to apply statistics on a dataset:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Load the iris data into an R session:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; data(iris)</strong></span>
</pre></div></li><li class="listitem" value="2">Observe the format of the data:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; class(iris)</strong></span>
<span class="strong"><strong class="calibre2">  [1] "data.frame"</strong></span>
</pre></div></li><li class="listitem" value="3">The iris dataset is a data frame containing four numeric attributes: <code class="email">petal length</code>, <code class="email">petal width</code>, <code class="email">sepal width</code>, and <code class="email">sepal length</code>. For numeric values, you can perform descriptive statistics, such as <code class="email">mean</code>, <code class="email">sd</code>, <code class="email">var</code>, <code class="email">min</code>, <code class="email">max</code>, <code class="email">median</code>, <code class="email">range</code>, and <code class="email">quantile</code>. These can be applied to any of the four attributes in the dataset:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; mean(iris$Sepal.Length)</strong></span>
<span class="strong"><strong class="calibre2">[1] 5.843333</strong></span>
<span class="strong"><strong class="calibre2">&gt; sd(iris$Sepal.Length)</strong></span>
<span class="strong"><strong class="calibre2">[1] 0.8280661</strong></span>
<span class="strong"><strong class="calibre2">&gt; var(iris$Sepal.Length)</strong></span>
<span class="strong"><strong class="calibre2">[1] 0.6856935</strong></span>
<span class="strong"><strong class="calibre2">&gt; min(iris$Sepal.Length)</strong></span>
<span class="strong"><strong class="calibre2">[1] 4.3</strong></span>
<span class="strong"><strong class="calibre2">&gt; max(iris$Sepal.Length)</strong></span>
<span class="strong"><strong class="calibre2">[1] 7.9</strong></span>
<span class="strong"><strong class="calibre2">&gt; median(iris$Sepal.Length)</strong></span>
<span class="strong"><strong class="calibre2">[1] 5.8</strong></span>
<span class="strong"><strong class="calibre2">&gt; range(iris$Sepal.Length)</strong></span>
<span class="strong"><strong class="calibre2">[1] 4.3 7.9</strong></span>
<span class="strong"><strong class="calibre2">&gt; quantile(iris$Sepal.Length)</strong></span>
<span class="strong"><strong class="calibre2">  0%  25%  50%  75% 100% </strong></span>
<span class="strong"><strong class="calibre2"> 4.3  5.1  5.8  6.4  7.9</strong></span>
</pre></div></li><li class="listitem" value="4">The preceding example demonstrates how to apply descriptive statistics on a single variable. In order to obtain summary statistics on every numeric attribute of the data frame, one may use <code class="email">sapply</code>. For example, to apply the mean on the first four attributes in the iris data frame, ignore the <code class="email">na</code> value by setting <code class="email">na.rm</code> as <code class="email">TRUE</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; sapply(iris[1:4], mean, na.rm=TRUE)</strong></span>
<span class="strong"><strong class="calibre2">Sepal.Length  Sepal.Width Petal.Length  Petal.Width </strong></span>
<span class="strong"><strong class="calibre2">    5.843333     3.057333     3.758000     1.199333 </strong></span>
</pre></div></li><li class="listitem" value="5">As an <a id="id102" class="calibre1"/>alternative to using <code class="email">sapply</code> to apply descriptive statistics on given attributes, R offers the summary function that provides a full range of descriptive statistics. In the following example, the summary function provides the mean, median, 25th and 75th quartiles, min, and max of every iris dataset numeric attribute:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; summary(iris)</strong></span>
<span class="strong"><strong class="calibre2">Sepal.Length    Sepal.Width     Petal.Length    Petal.Width    Species  </strong></span>
<span class="strong"><strong class="calibre2"> Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100   setosa    :50  </strong></span>
<span class="strong"><strong class="calibre2"> 1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300   versicolor:50  </strong></span>
<span class="strong"><strong class="calibre2"> Median :5.800   Median :3.000   Median :4.350   Median :1.300   virginica :50  </strong></span>
<span class="strong"><strong class="calibre2"> Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199                  </strong></span>
<span class="strong"><strong class="calibre2"> 3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800                  </strong></span>
<span class="strong"><strong class="calibre2"> Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500</strong></span>
</pre></div></li><li class="listitem" value="6">The preceding example shows how to output the descriptive statistics of a single variable. R also provides the correlation for users to investigate the relationship between variables. The following example generates a 4x4 matrix by computing the correlation of each attribute pair within the iris:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; cor(iris[,1:4])</strong></span>
<span class="strong"><strong class="calibre2">             Sepal.Length Sepal.Width Petal.Length Petal.Width</strong></span>
<span class="strong"><strong class="calibre2">Sepal.Length    1.0000000  -0.1175698    0.8717538   0.8179411</strong></span>
<span class="strong"><strong class="calibre2">Sepal.Width    -0.1175698   1.0000000   -0.4284401  -0.3661259</strong></span>
<span class="strong"><strong class="calibre2">Petal.Length    0.8717538  -0.4284401    1.0000000   0.9628654</strong></span>
<span class="strong"><strong class="calibre2">Petal.Width     0.8179411  -0.3661259    0.9628654   1.0000000</strong></span>
</pre></div></li><li class="listitem" value="7">R also provides a function to compute the covariance of each attribute pair within the iris:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; cov(iris[,1:4])</strong></span>
<span class="strong"><strong class="calibre2">             Sepal.Length Sepal.Width Petal.Length Petal.Width</strong></span>
<span class="strong"><strong class="calibre2">Sepal.Length    0.6856935  -0.0424340    1.2743154   0.5162707</strong></span>
<span class="strong"><strong class="calibre2">Sepal.Width    -0.0424340   0.1899794   -0.3296564  -0.1216394</strong></span>
<span class="strong"><strong class="calibre2">Petal.Length    1.2743154  -0.3296564    3.1162779   1.2956094</strong></span>
<span class="strong"><strong class="calibre2">Petal.Width     0.5162707  -0.1216394    1.2956094   0.5810063</strong></span>
</pre></div></li><li class="listitem" value="8">Statistical tests are performed to access the significance of the results; here we <a id="id103" class="calibre1"/>demonstrate how to use a t-test to determine the statistical differences between two samples. In this example, we perform a t.test on the petal width an of an iris in either the setosa or versicolor species. If we obtain a p-value less than 0.5, we can be certain that the petal width between the setosa and versicolor will vary significantly:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; t.test(iris$Petal.Width[iris$Species=="setosa"], </strong></span>
<span class="strong"><strong class="calibre2">+        iris$Petal.Width[iris$Species=="versicolor"])</strong></span>

<span class="strong"><strong class="calibre2">  Welch Two Sample t-test</strong></span>

<span class="strong"><strong class="calibre2">data:  iris$Petal.Width[iris$Species == "setosa"] and iris$Petal.Width[iris$Species == "versicolor"]</strong></span>
<span class="strong"><strong class="calibre2">t = -34.0803, df = 74.755, p-value &lt; 2.2e-16</strong></span>
<span class="strong"><strong class="calibre2">alternative hypothesis: true difference in means is not equal to 0</strong></span>
<span class="strong"><strong class="calibre2">95 percent confidence interval:</strong></span>
<span class="strong"><strong class="calibre2"> -1.143133 -1.016867</strong></span>
<span class="strong"><strong class="calibre2">sample estimates:</strong></span>
<span class="strong"><strong class="calibre2">mean of x mean of y </strong></span>
<span class="strong"><strong class="calibre2">    0.246     1.326</strong></span>
</pre></div></li><li class="listitem" value="9">Alternatively, you can perform a correlation test on the sepal length to the sepal width of an iris, and then retrieve a correlation score between the two variables. The stronger the positive correlation, the closer the value is to 1. The stronger the negative correlation, the closer the value is to -1:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; cor.test(iris$Sepal.Length, iris$Sepal.Width)</strong></span>

<span class="strong"><strong class="calibre2">  Pearson's product-moment correlation</strong></span>

<span class="strong"><strong class="calibre2">data:  iris$Sepal.Length and iris$Sepal.Width</strong></span>
<span class="strong"><strong class="calibre2">t = -1.4403, df = 148, p-value = 0.1519</strong></span>
<span class="strong"><strong class="calibre2">alternative hypothesis: true correlation is not equal to 0</strong></span>
<span class="strong"><strong class="calibre2">95 percent confidence interval:</strong></span>
<span class="strong"><strong class="calibre2"> -0.27269325  0.04351158</strong></span>
<span class="strong"><strong class="calibre2">sample estimates:</strong></span>
<span class="strong"><strong class="calibre2">       cor </strong></span>
<span class="strong"><strong class="calibre2">-0.1175698 </strong></span>
</pre></div></li></ol><div class="calibre14"/></div></div></div>

<div class="book" title="Applying basic statistics">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec34" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre7">R has a<a id="id104" class="calibre1"/> built-in statistics function, which enables the user to perform descriptive statistics on a single variable. The recipe first introduces how to apply <code class="email">mean</code>, <code class="email">sd</code>, <code class="email">var</code>, <code class="email">min</code>, <code class="email">max</code>, <code class="email">median</code>, <code class="email">range</code>, and <code class="email">quantile</code> on a single variable. Moreover, in order to apply the statistics on all four numeric variables, one can use the <code class="email">sapply</code> function. In order to determine the relationships between multiple variables, one can conduct correlation and covariance. Finally, the recipe shows how to determine the statistical differences of two given samples by performing a statistical test.</p></div></div>

<div class="book" title="Applying basic statistics">
<div class="book" title="There's more..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec35" class="calibre1"/>There's more...</h2></div></div></div><p class="calibre7">If you need to <a id="id105" class="calibre1"/>compute an aggregated summary statistics against data in different groups, you can use the aggregate and reshape functions to compute the <a id="id106" class="calibre1"/>summary statistics of data subsets:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Use <code class="email">aggregate</code> to calculate the mean of each iris attribute group by the species:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; aggregate(x=iris[,1:4],by=list(iris$Species),FUN=mean)</strong></span>
</pre></div></li><li class="listitem" value="2">Use <code class="email">reshape</code> to calculate the mean of each iris attribute group by the species:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt;  library(reshape)</strong></span>
<span class="strong"><strong class="calibre2">&gt;  iris.melt &lt;- melt(iris,id='Species')</strong></span>
<span class="strong"><strong class="calibre2">&gt;  cast(Species~variable,data=iris.melt,mean,</strong></span>
<span class="strong"><strong class="calibre2">     subset=Species %in% c('setosa','versicolor'),</strong></span>
<span class="strong"><strong class="calibre2">     margins='grand_row')   </strong></span>
</pre></div></li></ol><div class="calibre14"/></div><p class="calibre7">For information on reshape and aggregate, refer to the help documents by using <code class="email">?reshape</code> or <code class="email">?aggregate</code>.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Visualizing data"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec16" class="calibre1"/>Visualizing data</h1></div></div></div><p class="calibre7">Visualization is a <a id="id107" class="calibre1"/>powerful way to communicate information through <a id="id108" class="calibre1"/>graphical means. Visual presentations make data easier to comprehend. This recipe presents some basic functions to plot charts, and demonstrates how visualizations are helpful in data exploration.</p></div>

<div class="book" title="Visualizing data">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec36" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">Ensure that <a id="id109" class="calibre1"/>you have completed the previous recipes by installing R on <a id="id110" class="calibre1"/>your operating system.</p></div></div>

<div class="book" title="Visualizing data">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec37" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre7">Perform the following steps to visualize a dataset:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Load the iris data into the R session:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; data(iris)</strong></span>
</pre></div></li><li class="listitem" value="2">Calculate the frequency of species within the iris using the <code class="email">table</code> command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; table.iris = table(iris$Species)</strong></span>
<span class="strong"><strong class="calibre2">&gt; table.iris</strong></span>

<span class="strong"><strong class="calibre2">    setosa versicolor  virginica </strong></span>
<span class="strong"><strong class="calibre2">        50         50         50 </strong></span>
</pre></div></li><li class="listitem" value="3">As the frequency in the table shows, each species represents 1/3 of the iris data. We can draw a simple pie chart to represent the distribution of species within the iris:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; pie(table.iris)</strong></span>
</pre></div><div class="mediaobject"><img src="../images/00020.jpeg" alt="How to do it..." class="calibre9"/><div class="caption"><p class="calibre12">The pie chart of species distribution </p></div></div><p class="calibre13"> </p></li><li class="listitem" value="4">The histogram creates a frequency plot of sorts along the <span class="strong"><em class="calibre8">x</em></span>-axis. The following example produces a histogram of the sepal length:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; hist(iris$Sepal.Length)</strong></span>
</pre></div><div class="mediaobject"><img src="../images/00021.jpeg" alt="How to do it..." class="calibre9"/><div class="caption"><p class="calibre12">The histogram of the sepal length</p></div></div><p class="calibre13"> </p></li><li class="listitem" value="5">In the <a id="id111" class="calibre1"/>histogram, the <span class="strong"><em class="calibre8">x</em></span>-axis presents the sepal length and the <span class="strong"><em class="calibre8">y</em></span>-axis<a id="id112" class="calibre1"/> presents the count for different sepal lengths. The histogram shows that for most irises, sepal lengths range from 4 cm to 8 cm.</li><li class="listitem" value="6">Boxplots, also named box and whisker graphs, allow you to convey a lot of information in one simple plot. In such a graph, the line represents the median of the sample. The box itself shows the upper and lower quartiles. The whiskers show the range:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; boxplot(Petal.Width ~ Species, data = iris)</strong></span>
</pre></div><div class="mediaobject"><img src="../images/00022.jpeg" alt="How to do it..." class="calibre9"/><div class="caption"><p class="calibre12">The boxplot of the petal width</p></div></div><p class="calibre13"> </p></li><li class="listitem" value="7">The <a id="id113" class="calibre1"/>preceding screenshot clearly shows the median and upper<a id="id114" class="calibre1"/> range of the petal width of the setosa is much shorter than versicolor and virginica. Therefore, the petal width can be used as a substantial attribute to distinguish iris species.</li><li class="listitem" value="8">A scatter plot is used when there are two variables to plot against one another. This example plots the petal length against the petal width and color dots in accordance to the species it belongs to:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; plot(x=iris$Petal.Length, y=iris$Petal.Width, col=iris$Species)</strong></span>
</pre></div><div class="mediaobject"><img src="../images/00023.jpeg" alt="How to do it..." class="calibre9"/><div class="caption"><p class="calibre12">The scatter plot of the sepal length </p></div></div><p class="calibre13"> </p></li><li class="listitem" value="9">The <a id="id115" class="calibre1"/>preceding screenshot is a scatter plot of the petal length <a id="id116" class="calibre1"/>against the petal width. As there are four attributes within the iris dataset, it takes six operations to plot all combinations. However, R provides a function named <code class="email">pairs</code>, which can generate each subplot in one figure:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; pairs(iris[1:4], main = "Edgar Anderson's Iris Data", pch = 21, bg = c("red", "green3", "blue")[unclass(iris$Species)])</strong></span>
</pre></div><div class="mediaobject"><img src="../images/00024.jpeg" alt="How to do it..." class="calibre9"/><div class="caption"><p class="calibre12">Pairs scatterplot of iris data</p></div></div><p class="calibre13"> </p></li></ol><div class="calibre14"/></div></div></div>

<div class="book" title="Visualizing data">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec38" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre7">R provides <a id="id117" class="calibre1"/>many built-in plot functions, which enable users to visualize data <a id="id118" class="calibre1"/>with different kinds of plots. This recipe demonstrates the use of pie charts that can present category distribution. A pie chart of an equal size shows that the number of each species is equal. A histogram plots the frequency of different sepal lengths. A box plot can convey a great deal of descriptive statistics, and shows that the petal width can be used to distinguish an iris species. Lastly, we introduced scatter plots, which plot variables on a single plot. In order to quickly generate a scatter plot containing all the pairs of iris data, one may use the <code class="email">pairs</code> command.</p></div></div>

<div class="book" title="Visualizing data">
<div class="book" title="See also"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec39" class="calibre1"/>See also</h2></div></div></div><div class="book"><ul class="itemizedlist"><li class="listitem">ggplot2<a id="id119" class="calibre1"/> is another plotting system for R, based on the implementation of Leland Wilkinson's grammar of graphics. It allows users to add, remove, or alter components in a plot with a higher abstraction. However, the level of abstraction results is slow compared to lattice graphics. For those of <a id="id120" class="calibre1"/>you interested in the topic of ggplot, you can refer to this site: <a class="calibre1" href="http://ggplot2.org/">http://ggplot2.org/</a>.</li></ul></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Getting a dataset for machine learning"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec17" class="calibre1"/>Getting a dataset for machine learning</h1></div></div></div><p class="calibre7">While R has a built-in dataset, the sample size and field of application is limited. Apart from generating data within a simulation, another approach is to obtain data from external data repositories. A famous data repository is the UCI machine learning repository, which contains <a id="id121" class="calibre1"/>both artificial and real datasets. This recipe<a id="id122" class="calibre1"/> introduces how to get a sample dataset from the UCI machine learning repository.</p></div>

<div class="book" title="Getting a dataset for machine learning">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec40" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">Ensure that you have completed the previous recipes by installing R on your operating system.</p></div></div>

<div class="book" title="Getting a dataset for machine learning">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec41" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre7">Perform the following steps to retrieve data for machine learning:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Access the <a id="id123" class="calibre1"/>UCI machine learning repository: <a class="calibre1" href="http://archive.ics.uci.edu/ml/">http://archive.ics.uci.edu/ml/</a>.<div class="mediaobject"><img src="../images/00025.jpeg" alt="How to do it..." class="calibre9"/><div class="caption"><p class="calibre12">UCI data repository</p></div></div><p class="calibre13"> </p></li><li class="listitem" value="2">Click on <span class="strong"><strong class="calibre2">View ALL Data Sets</strong></span>. Here you will find a list of datasets containing field names, such as <span class="strong"><strong class="calibre2">Name</strong></span>, <span class="strong"><strong class="calibre2">Data Types</strong></span>, <span class="strong"><strong class="calibre2">Default Task</strong></span>, <span class="strong"><strong class="calibre2">Attribute Types</strong></span>, <span class="strong"><strong class="calibre2"># Instances</strong></span>, <span class="strong"><strong class="calibre2"># Attributes</strong></span>, and <span class="strong"><strong class="calibre2">Year</strong></span>:<div class="mediaobject"><img src="../images/00026.jpeg" alt="How to do it..." class="calibre9"/></div><p class="calibre13"> </p></li><li class="listitem" value="3">Use <a id="id124" class="calibre1"/><span class="strong"><em class="calibre8">Ctrl</em></span> + <span class="strong"><em class="calibre8">F</em></span> to search for <span class="strong"><strong class="calibre2">Iris</strong></span>:<div class="mediaobject"><img src="../images/00027.jpeg" alt="How to do it..." class="calibre9"/></div><p class="calibre13"> </p></li><li class="listitem" value="4">Click <a id="id125" class="calibre1"/>on <span class="strong"><strong class="calibre2">Iris</strong></span>. This will display the data folder and the dataset description:<div class="mediaobject"><img src="../images/00028.jpeg" alt="How to do it..." class="calibre9"/></div><p class="calibre13"> </p></li><li class="listitem" value="5">Click <a id="id126" class="calibre1"/>on <span class="strong"><strong class="calibre2">Data Folder</strong></span>, which<a id="id127" class="calibre1"/> will display a directory containing the iris dataset:<div class="mediaobject"><img src="../images/00029.jpeg" alt="How to do it..." class="calibre9"/></div><p class="calibre13"> </p></li><li class="listitem" value="6">You can then either download <code class="email">iris.data</code> or use the <code class="email">read.csv</code> function to read the dataset:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; iris.data = read.csv(url("http://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data"), header = FALSE,  col.names = c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width", "Species"))</strong></span>
<span class="strong"><strong class="calibre2">&gt; head(iris.data)</strong></span>
<span class="strong"><strong class="calibre2">  Sepal.Length Sepal.Width Petal.Length Petal.Width   Species</strong></span>
<span class="strong"><strong class="calibre2">1         5.1         3.5          1.4         0.2 Iris-setosa</strong></span>
<span class="strong"><strong class="calibre2">2         4.9         3.0          1.4         0.2 Iris-setosa</strong></span>
<span class="strong"><strong class="calibre2">3         4.7         3.2          1.3         0.2 Iris-setosa</strong></span>
<span class="strong"><strong class="calibre2">4         4.6         3.1          1.5         0.2 Iris-setosa</strong></span>
<span class="strong"><strong class="calibre2">5         5.0         3.6          1.4         0.2 Iris-setosa</strong></span>
<span class="strong"><strong class="calibre2">6         5.4         3.9          1.7         0.4 Iris-setosa</strong></span>
</pre></div></li></ol><div class="calibre14"/></div></div></div>

<div class="book" title="Getting a dataset for machine learning">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec42" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre7">Before <a id="id128" class="calibre1"/>conducting data analysis, it is important to<a id="id129" class="calibre1"/> collect your dataset. However, to collect an appropriate dataset for further exploration and analysis is not easy. We can, therefore, use the prepared dataset with the UCI repository as our data source. Here, we first access the UCI dataset repository and then use the iris dataset as an example. We can find the iris dataset by using the browser's find function (<span class="strong"><em class="calibre8">Ctrl</em></span> + <span class="strong"><em class="calibre8">F</em></span>), and then enter the file directory. Last, we can download the dataset and use the R IO function, <code class="email">read.csv</code>, to load the iris dataset into an R session.</p></div></div>

<div class="book" title="Getting a dataset for machine learning">
<div class="book" title="See also"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec43" class="calibre1"/>See also</h2></div></div></div><div class="book"><ul class="itemizedlist"><li class="listitem">KDnuggets (<a class="calibre1" href="http://www.kdnuggets.com/datasets/index.html">http://www.kdnuggets.com/datasets/index.html</a>) offers a resourceful<a id="id130" class="calibre1"/> list of datasets for data mining and data science. You<a id="id131" class="calibre1"/> can explore the list to find the data that satisfies your requirements.</li></ul></div></div></div></body></html>