<html><head></head><body><div class="chapter" title="Chapter&#xA0;4.&#xA0;Getting Data in and out of ML Studio"><div class="titlepage"><div><div><h1 class="title"><a id="ch04"/>Chapter 4. Getting Data in and out of ML Studio</h1></div></div></div><p>For any data analysis, you need data as input. Data analysis generates results as a dataset, which needs to be stored for <a id="id96" class="indexterm"/>future use. <span class="strong"><strong>ML Studio</strong></span> allows you to import and export data in a variety of different formats. You can use the <code class="literal">Reader</code> module to import a dataset in ML Studio from external sources and you can use the <code class="literal">Writer</code> module to export a dataset. You can also download and upload datasets to and from your PC respectively for different data formats.</p><p>ML Studio supports a number of data formats. The internal data format, data table (DotNetTable), is primarily used to move data between modules inside an experiment. When you import data from external sources to ML Studio, the formats supported as of now are ARFF, CSV, Hive Table, SVMLight, Text, and TSV. Let's take a look at the following term list:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>ARFF</strong></span>: This is the machine learning data format defined by <span class="strong"><strong>Weka</strong></span>. An <span class="strong"><strong>Attribute-Relation File Format</strong></span> (<span class="strong"><strong>ARFF</strong></span>) file is an ASCII text file that describes a list <a id="id97" class="indexterm"/>of instances that share a set of attributes.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>CSV</strong></span>: This is a text <a id="id98" class="indexterm"/>file where data is contained in a tabular format with different record separated by a line and values (columns) separated by a comma.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>TSV</strong></span>: This is a text <a id="id99" class="indexterm"/>file similar to CSV where data is contained in a tabular format with different records separated by a line and values (columns) separated by a tab stop character.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Hive Table</strong></span>: This is the <a id="id100" class="indexterm"/>data table from <span class="strong"><strong>Hadoop</strong></span> that is accessible via <span class="strong"><strong>Hive*</strong></span>.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>SVMLight</strong></span>: This contains <a id="id101" class="indexterm"/>the file format training examples of the <span class="strong"><strong>SVMLight*</strong></span> software.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Text</strong></span>: This is a plain <a id="id102" class="indexterm"/>text file.</li></ul></div><div class="section" title="Getting data in ML Studio"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec22"/>Getting data in ML Studio</h1></div></div></div><p>ML Studio lets you <a id="id103" class="indexterm"/>import data from different sources. You can either upload a file from your PC or import data from external sources through the <code class="literal">Data Reader</code> module.</p><div class="section" title="Uploading data from a PC"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec26"/>Uploading data from a PC</h2></div></div></div><p>You can follow the <a id="id104" class="indexterm"/>given steps to upload a dataset from your <a id="id105" class="indexterm"/>PC to ML Studio:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to ML Studio and create an experiment or go to an existing experiment.</li><li class="listitem">Click on the <span class="strong"><strong>+NEW</strong></span> icon at the bottom-left corner of the page, then on <span class="strong"><strong>DATASET</strong></span>, and then on <span class="strong"><strong>FROM LOCAL FILE</strong></span>.</li><li class="listitem">The <span class="strong"><strong>Upload a new dataset</strong></span> dialog box is displayed after you click on the icon.</li><li class="listitem">Click on <span class="strong"><strong>Browse</strong></span> to select the file that you want to upload.</li><li class="listitem">Don't select the tick box for <span class="strong"><strong>This is the new version of an existing dataset</strong></span> unless you are uploading a new version of an existing dataset.</li><li class="listitem">Specify a name for the dataset. This will help you identify your dataset when you build your experiment. The dataset name must be unique—you should not have two datasets that have the same name in the saved <span class="strong"><strong>Dataset</strong></span> option. If you are uploading a new version of an existing dataset, then you need to choose the name of the dataset for which you are uploading a new version.</li><li class="listitem">Specify the type of data that you are trying to upload.</li><li class="listitem">You can optionally provide a description for your data.</li><li class="listitem">Then, click on the <span class="strong"><strong>OK</strong></span> button (checkmark) at the bottom-right corner of the popup to start uploading.</li></ol></div><p>During upload, you will see a message that your file is being uploaded. The upload time will depend on the size of your data and the speed of your connection to the service.</p><p>After a successful upload, the dataset will appear as a module, like any sample dataset, under <span class="strong"><strong>Saved Datasets</strong></span> | <span class="strong"><strong>My Datasets</strong></span> in the left-hand side of the module's palette. You can use it inside your experiment and view it by dragging it to the experiment canvas.</p><div class="mediaobject"><img src="graphics/0792EN_04_08.jpg" alt="Uploading data from a PC"/></div><p>You can also click on the <span class="strong"><strong>DATASETS</strong></span> link on the left-hand side below the <span class="strong"><strong>WEB SERVICES</strong></span> option <a id="id106" class="indexterm"/>to find all the uploaded datasets. If you wish to <a id="id107" class="indexterm"/>delete any dataset, then select it by clicking on it and click on <span class="strong"><strong>DELETE</strong></span> in the bottom panel of the web page.</p><div class="mediaobject"><img src="graphics/0792EN_04_09.jpg" alt="Uploading data from a PC"/></div></div><div class="section" title="The Enter Data module"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec27"/>The Enter Data module</h2></div></div></div><p>ML Studio comes <a id="id108" class="indexterm"/>with the <span class="strong"><strong>Enter Data</strong></span> module, which lets you enter a <a id="id109" class="indexterm"/>small set of data manually by typing into it, and lets you construct a dataset quickly and easily. It can be useful to test something quickly.</p><div class="mediaobject"><img src="graphics/0792EN_04_07.jpg" alt="The Enter Data module"/></div><p>In the preceding example, data is entered using the CSV format and the dataset is marked by ticking the <span class="strong"><strong>HasHeader</strong></span> option, so that it has a header. After running the experiment successfully, you can <a id="id110" class="indexterm"/>view the entered dataset by right-clicking on the <a id="id111" class="indexterm"/>output port of the module and choosing <span class="strong"><strong>Visualize</strong></span>.</p></div><div class="section" title="The Data Reader module"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec28"/>The Data Reader module</h2></div></div></div><p>Often, you need to <a id="id112" class="indexterm"/>import data from external sources. You can do so using the <span class="strong"><strong>Reader</strong></span> module available under the <span class="strong"><strong>Data Input and Output</strong></span> option. The <a id="id113" class="indexterm"/>
<code class="literal">Reader</code> module loads CSV, TSV, and ARFF data files from sources, such as the Web, Azure SQL database, Azure table, Hive Table, or Windows Azure Blob storage. The output port of the module returns the result dataset downloaded from the given data source, which the other connected module can consume.</p><div class="section" title="Getting data from the Web"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec16"/>Getting data from the Web</h3></div></div></div><p>You can import a <a id="id114" class="indexterm"/>dataset from a web URL in ML <a id="id115" class="indexterm"/>Studio through HTTP/HTTPS/FTP/FTPS, although you need to choose the data source for the <code class="literal">Reader</code> module as HTTP. The following section walks you through the process of how to import a public dataset to ML Studio.</p><div class="section" title="Fetching a public dataset – do it yourself"><div class="titlepage"><div><div><h4 class="title"><a id="ch04lvl4sec01"/>Fetching a public dataset – do it yourself</h4></div></div></div><p>The UCI machine <a id="id116" class="indexterm"/>learning repository contains different <a id="id117" class="indexterm"/>datasets and makes them available for free for anyone who is interested. This URL contains a CSV file that includes the forest fire dataset: <a class="ulink" href="http://archive.ics.uci.edu/ml/machine-learning-databases/forest-fires/forestfires.csv">http://archive.ics.uci.edu/ml/machine-learning-databases/forest-fires/forestfires.csv</a>.</p><p>To import the file to ML Studio, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go to ML Studio. Click on the <span class="strong"><strong>+NEW</strong></span> button and choose <span class="strong"><strong>EXPERIMENT</strong></span>.</li><li class="listitem">From the modules palette, find the <span class="strong"><strong>Reader</strong></span> module and drag it to the experiment canvas.</li><li class="listitem">The module properties pane is displayed on the screen. Choose the data source as <span class="strong"><strong>HTTP</strong></span>.</li><li class="listitem">Specify a complete URL: <a class="ulink" href="http://archive.ics.uci.edu/ml/machine-learning-databases/forest-fires/forestfires.csv">http://archive.ics.uci.edu/ml/machine-learning-databases/forest-fires/forestfires.csv</a>.</li><li class="listitem">Specify the data format as <span class="strong"><strong>CSV</strong></span>.</li><li class="listitem">Indicate that the file contains the column headings by ticking the checkbox <span class="strong"><strong>CSV or TSV has header row</strong></span>. This means that the first row of the file will be considered as a heading row.</li><li class="listitem">Run the experiment. After <a id="id118" class="indexterm"/>it has been successfully executed, you can find a green tick mark on the module.</li><li class="listitem">To view the output <a id="id119" class="indexterm"/>data, right-click on the <span class="strong"><strong>Reader</strong></span> module's output port and choose <span class="strong"><strong>Visualize</strong></span>. This opens the results in a new browser window:</li></ol></div><div class="mediaobject"><img src="graphics/0792EN_04_01.jpg" alt="Fetching a public dataset – do it yourself"/></div></div></div><div class="section" title="Getting data from Azure"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec17"/>Getting data from Azure</h3></div></div></div><p>ML Studio lets you <a id="id120" class="indexterm"/>transfer data from the following Azure services:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Windows Azure BLOB Storage</strong></span>: This enables you to read the BLOBs (files) from <a id="id121" class="indexterm"/>Windows Azure BLOB storage. If you use the ARFF format for storage, columns are mapped using the header metadata. If you use TSV or CSV formats, mappings are inferred by sampling column data.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Windows Azure Table Storage</strong></span>: This enables you to read data from the flexible NoSQL <a id="id122" class="indexterm"/>storage. Built-in and <a id="id123" class="indexterm"/>declared data attribute types are mapped directly to metadata (timestamp, integer, and so on).</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>SQL Azure Tables</strong></span>: This enables you to read selected table data from an SQL Azure database. As <a id="id124" class="indexterm"/>this is structured <a id="id125" class="indexterm"/>data, metadata mapping is automatic.</li></ul></div></div></div></div></div>
<div class="section" title="Data format conversion"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec23"/>Data format conversion</h1></div></div></div><p>Sometimes, you <a id="id126" class="indexterm"/>may need to convert a dataset to a format that ML <a id="id127" class="indexterm"/>Studio supports. There are five data format conversion modules available. All these modules accept a dataset as input, through their input ports and convert the dataset to their respective format. The following are all the modules, and their names are self-explanatory:</p><div class="mediaobject"><img src="graphics/0792EN_04_04.jpg" alt="Data format conversion"/></div></div>
<div class="section" title="Getting data from ML Studio"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec24"/>Getting data from ML Studio</h1></div></div></div><p>You can also <a id="id128" class="indexterm"/>export data from ML Studio to another data destination, you <a id="id129" class="indexterm"/>can export it to your PC, or save it to ML Studio itself as a saved dataset item.</p><div class="section" title="Saving a dataset on a PC"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec29"/>Saving a dataset on a PC</h2></div></div></div><p>If you want to <a id="id130" class="indexterm"/>download a dataset from a module output in ML Studio to your PC, follow the given steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Right-click on the output port of the module that you want to save as a dataset. Note that you can't download a dataset that is an output in the data table format. In such a case, you have to convert it to the CSV or TSV format to download it. Refer to the following screenshot to see this:<div class="mediaobject"><img src="graphics/0792EN_04_02.jpg" alt="Saving a dataset on a PC"/></div></li><li class="listitem">Click on <span class="strong"><strong>Download</strong></span> and the file will be downloaded to your PC.</li></ol></div><div class="section" title="Saving results in ML Studio"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec18"/>Saving results in ML Studio</h3></div></div></div><p>There will be times <a id="id131" class="indexterm"/>when you would want to take a result from an experiment and would want to save it in ML Studio for later use. To do this:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Right-click on the output port of the module that you want to save as a dataset.</li><li class="listitem">Click on the <span class="strong"><strong>Save as Dataset</strong></span> option:<div class="mediaobject"><img src="graphics/0792EN_04_05.jpg" alt="Saving results in ML Studio"/></div></li><li class="listitem">When prompted, enter a name that would allow you to identify the dataset easily.</li><li class="listitem">Click on the checkbox (this is the new version of an existing dataset) if you want to override an existing one and want to select the name of the existing dataset, otherwise leave it unchecked.</li></ol></div><p>When you have saved, the dataset will be available for use within an experiment and will appear in the dataset list.</p></div><div class="section" title="The Writer module"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec19"/>The Writer module</h3></div></div></div><p>You can use the <code class="literal">Writer</code> <a id="id132" class="indexterm"/>module to write a dataset to Windows Azure BLOB storage, Azure table, Azure SQL Database, or HDFS (which is a Hadoop cluster deployed <a id="id133" class="indexterm"/>anywhere, but is accessible) as Hive Query. This module accepts data destination as the first parameter and then other required parameters based on the chosen destination. A <code class="literal">Writer</code> module that writes a dataset to Azure Blog Storage may look like the following:</p><div class="mediaobject"><img src="graphics/0792EN_04_10.jpg" alt="The Writer module"/></div></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec25"/>Summary</h1></div></div></div><p>We started with exploring the different data formats supported by ML Studio. Then we explored how to import data from external sources and how to export a dataset to external sources. We used the <span class="strong"><strong>Reader</strong></span> module to import and the <span class="strong"><strong>Writer</strong></span> module to export data. You also learned about the <span class="strong"><strong>Enter Data</strong></span> module, which lets you build a small dataset by entering data manually.</p><p>After you import data from a source to ML Studio, it often needs some kind of preparation before you apply machine learning algorithms to it. Also, certain machine learning algorithms require certain preprocessing of the data. In the next chapter, we will explore the different data preparation options available with ML Studio.</p></div></body></html>