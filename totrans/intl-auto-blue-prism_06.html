<html><head></head><body>
<div id="book-content">
<div id="sbo-rt-content"><div id="_idContainer194">
			<h1 id="_idParaDest-92" class="chapter-number"><a id="_idTextAnchor093"/>6</h1>
			<h1 id="_idParaDest-93"><a id="_idTextAnchor094"/>Reusable IA Components</h1>
			<p>In<a id="_idIndexMarker471"/> this chapter, we’ll discuss four <strong class="bold">reusable IA components</strong>. These reusable logic pieces are short, making them easy to add to existing IA Processes. They’re built by combining core BP functionality, such as Environment Variables, Session Variables, and Credentials, making them simple to implement. Their purpose is to provide functionality that’s useful to every IA solution, without requiring <span class="No-Break">major rework.</span></p>
			<p>More specifically, we’ll look at the implementation of <span class="No-Break">four components:</span></p>
			<ul>
				<li>IA <span class="No-Break">session control</span></li>
				<li>ML prediction <span class="No-Break">kill switch</span></li>
				<li>ML <span class="No-Break">model versioning</span></li>
				<li>New ML <span class="No-Break">model evaluation</span></li>
			</ul>
			<h1 id="_idParaDest-94"><a id="_idTextAnchor095"/>Technical requirements</h1>
			<p>Download and import the two <strong class="source-inline">.bprelease</strong> files from the <strong class="source-inline">ch6</strong> folder on <span class="No-Break">GitHub: </span><a href="https://github.com/PacktPublishing/Intelligent-Automation-with-Blue-Prism/tree/main/ch6"><span class="No-Break">https://github.com/PacktPublishing/Intelligent-Automation-with-Blue-Prism/tree/main/ch6</span></a><span class="No-Break">.</span></p>
			<h1 id="_idParaDest-95"><a id="_idTextAnchor096"/>IA session control</h1>
			<p><strong class="bold">Session Variables</strong> are used <a id="_idIndexMarker472"/>when the Controller needs to change how execution <a id="_idIndexMarker473"/>behaves during an active session. In the context of IA, the most common reasons for wanting to change execution behavior are to do <span class="No-Break">the following:</span></p>
			<ul>
				<li>Force items to undergo <span class="No-Break">HITL review</span></li>
				<li>Disable HITL <span class="No-Break">review temporarily</span></li>
				<li>Force shared data used for reviews to <span class="No-Break">be recreated</span></li>
			</ul>
			<h2 id="_idParaDest-96"><a id="_idTextAnchor097"/>Forcing HITL review</h2>
			<p>There <a id="_idIndexMarker474"/>may be a need to force all items in a running Session to undergo HITL review, disable HITL completely, and revert to the default behavior. Forcing all items in a Session to be reviewed can be useful for debugging and model validation purposes. Disabling HITL temporarily could be used when there’s a shortage of reviewers or when the need to meet SLAs takes priority over the need <span class="No-Break">for review.</span></p>
			<p>In the design examples that we’ve seen in previous chapters, the data used to specify the thresholds or random sampling rates were stored in Environment Variables. Changing Environment Variables <em class="italic">won’t</em> affect Sessions that are already running. However, they’ll affect <em class="italic">all</em> Sessions moving forward, which might not <span class="No-Break">be desired.</span></p>
			<p>Implementing a way to force HITL reviews to happen in a currently running Session is simple. Create a Data Item with <strong class="bold">Exposure</strong> set to <strong class="bold">Session</strong>. Set <strong class="bold">Data Type</strong> to <strong class="bold">Flag</strong>, with <strong class="bold">Initial Value</strong> set to <strong class="bold">False</strong>. If the value is <strong class="bold">False</strong>, we continue with the random sampling or thresholding logic. If the value is <strong class="bold">True</strong>, we mark the Item as requiring HITL review. The best place to locate a check for this Flag is just before we tag or update the status of the Item to indicate that it requires <span class="No-Break">manual review:</span></p>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer161" class="IMG---Figure">
					<img src="image/B18416_06_1.jpg" alt="Figure 6.1 – A Session variable to force HITL review" width="781" height="276"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.1 – A Session variable to force HITL review</p>
			<h2 id="_idParaDest-97"><a id="_idTextAnchor098"/>Disabling HITL review</h2>
			<p>Similarly, we<a id="_idIndexMarker475"/> can create a new Session variable to disable HITL. Create a Data Item, set <strong class="bold">Data Type</strong> to <strong class="bold">Flag</strong>, <strong class="bold">Exposure</strong> to <strong class="bold">Session</strong>, and <strong class="bold">Initial Value</strong> to <strong class="bold">False</strong>. When the value is <strong class="bold">False</strong>, the original review logic is respected. When the value is <strong class="bold">True</strong>, HITL review is skipped, and automated processing continues with the original predicted value. This Flag should be checked just before we update the Item’s Tags or Status to indicate that HITL review <span class="No-Break">is complete:</span></p>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer162" class="IMG---Figure">
					<img src="image/B18416_06_2.jpg" alt="Figure 6.2 – A Session variable to disable HITL review" width="774" height="277"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.2 – A Session variable to disable HITL review</p>
			<p>What<a id="_idIndexMarker476"/> happens if both the <strong class="bold">Force HITL Review</strong> and <strong class="bold">Disable HITL Review</strong> Session Variables’ Values are set to <strong class="bold">True</strong>? <strong class="bold">Disable HITL Review</strong> “overrides” <strong class="bold">Force HITL Review</strong>, since it’s checked later. The following table summarizes what happens for different combinations of the <span class="No-Break">two Flags:</span></p>
			<table id="table001-4" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="bold">Force </strong><span class="No-Break"><strong class="bold">HITL Review</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Disable </strong><span class="No-Break"><strong class="bold">HITL Review</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Behavior</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">False</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">False</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Use the Process’s original logic (this is the <span class="No-Break">default behavior)</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">False</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">True</span></p>
						</td>
						<td class="No-Table-Style">
							<p>All items in the Session will continue automated processing <em class="italic">without</em> <span class="No-Break">HITL review</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">True</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">False</span></p>
						</td>
						<td class="No-Table-Style">
							<p>All Items in the Session <em class="italic">will</em> <span class="No-Break">require review</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">True</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">True</span></p>
						</td>
						<td class="No-Table-Style">
							<p>All Items in the Session will continue automated processing <em class="italic">without</em> <span class="No-Break">HITL review</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Table 6.1 – Force HITL Review and Disable HITL Review Session variable behavior</p>
			<h2 id="_idParaDest-98"><a id="_idTextAnchor099"/>Forcing review data recreation</h2>
			<p>A potentially <a id="_idIndexMarker477"/>brittle part of an IA solution lies in the data-sharing interface between BP and the reviewers. There are numerous possible scenarios where a record could go missing, leading to a prediction that cannot be reviewed. This Item ends up stuck unless the Controller manually edits its Status from the <strong class="bold">Queue Management</strong> screen to allow it to proceed. However, allowing an Item to continue by editing the Status somewhat defeats the purpose of having HITL reviews in the first place. A better solution would be to allow the Controller to rerun the logic that creates the shared data if needed. This can be achieved through a <strong class="source-inline">Flag</strong> Session variable as well, similar to <strong class="bold">Force HITL Review</strong> and <strong class="bold">Disable </strong><span class="No-Break"><strong class="bold">HITL Review</strong></span><span class="No-Break">.</span></p>
			<p>We’ve discussed three Session Variables that are unique to IA and how they can be set up. Next, let’s go through an example where the three Session Variables, including modifications to the Process logic, <span class="No-Break">are implemented.</span></p>
			<h2 id="_idParaDest-99"><a id="_idTextAnchor100"/>Example 1 – three IA Session Variables</h2>
			<p>In this example, we’ll look <a id="_idIndexMarker478"/>at a modified version of the <em class="italic">three</em> Processes, <em class="italic">three</em> Work Queue design from <a href="B18416_05.xhtml#_idTextAnchor075"><span class="No-Break"><em class="italic">Chapter 5</em></span></a>, and see exactly where in the Process diagram the three Session Variables have been added. Then we’ll test the Session Variables to ensure that they function as expected. Our goal is to understand how and where we should check for the Session Variables in the Process. This example has seven <span class="No-Break">high-level steps:</span></p>
			<ol>
				<li>Verify the <span class="No-Break">Release contents.</span></li>
				<li>Examine the logic for the <strong class="source-inline">Force HITL Review</strong> <span class="No-Break">Session variable.</span></li>
				<li>Test <strong class="source-inline">Force HITL Review</strong> from the <span class="No-Break">Control Room.</span></li>
				<li>Examine the logic for the <strong class="source-inline">Force Create Review Data</strong> <span class="No-Break">Session variable.</span></li>
				<li>Test <strong class="source-inline">Force Create Review Data</strong> from the <span class="No-Break">Control Room.</span></li>
				<li>Examine the logic for the <strong class="source-inline">Disable HITL Review</strong> <span class="No-Break">Session variable.</span></li>
				<li>Test <strong class="source-inline">Disable HITL Review</strong> from the <span class="No-Break">Control Room.</span></li>
			</ol>
			<h3>Verify the release contents</h3>
			<p>First, let’s get familiar<a id="_idIndexMarker479"/> with the contents of the Release file for this example. Verify that <em class="italic">three</em> Processes, <em class="italic">three</em> Work Queues, and <em class="italic">three</em> Environment Variables have <span class="No-Break">been imported:</span></p>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer163" class="IMG---Figure">
					<img src="image/B18416_06_3.jpg" alt="Figure 6.3 – Example 1’s Release contents" width="490" height="332"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.3 – Example 1’s Release contents</p>
			<p>The first Process, named <strong class="bold">Example 1A – Three IA Session Variables</strong>, only performs the standard business logic and isn’t affected by the three Session Variables described in this section. Process 2, <strong class="bold">Example 1B – Force HITL Review</strong>, has one of the Session Variables. Let’s look at <span class="No-Break">it next.</span></p>
			<h3>Examine the Force HITL Review Session variable logic</h3>
			<p>The <strong class="bold">Force HITL Review</strong> Session <a id="_idIndexMarker480"/> variable controls whether we want all ML predictions to undergo human review. This belongs in Process 2, which is where ML prediction is made and the thresholding or random sampling logic is checked. Let’s find the Decision Stage logic in Process 2 that checks for our <span class="No-Break">Session variable:</span></p>
			<ol>
				<li>Open <strong class="bold">Example 1B – Three IA Session Variables </strong>Process in the <em class="italic">Ch6</em> Group in the <span class="No-Break">Process Studio.</span></li>
				<li>See that a global Session variable has been added to the <span class="No-Break"><strong class="source-inline">Main Page</strong></span><span class="No-Break">:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer164" class="IMG---Figure">
					<img src="image/B18416_06_4.jpg" alt="Figure 6.4 – The Session Variable is saved on the Main Page of Process 2" width="462" height="158"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.4 – The Session Variable is saved on the Main Page of Process 2</p>
			<ol>
				<li value="3">Open the <strong class="source-inline">02 Check for Manual </strong><span class="No-Break"><strong class="source-inline">Review</strong></span><span class="No-Break"> Page.</span></li>
				<li>Open<a id="_idIndexMarker481"/> the <em class="italic">Require Manual Review?</em> Decision Stage. See that we’ve added a check for the Session Variable as an <strong class="source-inline">OR</strong> condition in <span class="No-Break">the Expression:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer165" class="IMG---Figure">
					<img src="image/B18416_06_5.jpg" alt="Figure 6.5 – The Session Variable has been added to the Decision Stage" width="811" height="245"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.5 – The Session Variable has been added to the Decision Stage</p>
			<h3>Test the Force HITL Review Session Variable</h3>
			<p>Now that we know <a id="_idIndexMarker482"/>how the Session Variable is checked, let’s test it in the Control Room. This Process adds 10 items to <a href="B18416_06.xhtml#_idTextAnchor093"><span class="No-Break"><em class="italic">Chapter 6</em></span></a><em class="italic"> Example 1 </em><span class="No-Break"><em class="italic">Queue 1</em></span><span class="No-Break">:</span></p>
			<ol>
				<li>Run <strong class="bold">Example 1A – Three IA Session Variables </strong>in the Control Room. Wait for the Session <span class="No-Break">to complete.</span></li>
				<li>Open <strong class="bold">Control</strong> | <strong class="bold">Session Management</strong>. Click on <strong class="bold">Show Session Variables</strong> to ensure that the <strong class="bold">Session Variables</strong> panel <span class="No-Break">is open:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer166" class="IMG---Figure">
					<img src="image/B18416_06_6.jpg" alt="Figure 6.6 – Ensure that the Session Variables panel is opened" width="684" height="340"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.6 – Ensure that the Session Variables panel is opened</p>
			<p class="list-inset">Keeping the<a id="_idIndexMarker483"/> panel open will allow us to quickly change the value of the <strong class="source-inline">Force HITL Review</strong> Session Variable in <span class="No-Break"><em class="italic">step 4</em></span><span class="No-Break">.</span></p>
			<ol>
				<li value="3">Run <strong class="bold">Example 1B – Force HITL Review </strong>in the Control Room. Do <em class="italic">not </em>wait for the Session <span class="No-Break">to complete.</span></li>
				<li>Set the <strong class="bold">Force HITL Review</strong> Session Variable to <strong class="bold">True</strong> in the <strong class="bold">Session Variables</strong> panel. Every ML prediction that’s made from this point forward will be marked as needing <span class="No-Break">HITL review:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer167" class="IMG---Figure">
					<img src="image/B18416_06_7.jpg" alt="Figure 6.7 – Set the Force HITL Review Session Variable to True" width="440" height="201"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.7 – Set the Force HITL Review Session Variable to True</p>
			<ol>
				<li value="5">Once the Session is complete, view the contents of <a href="B18416_06.xhtml#_idTextAnchor093"><span class="No-Break"><em class="italic">Chapter 6</em></span></a><em class="italic"> Example 1 Queue 1</em>. Depending on how quickly you changed the Session Variable, you should see all, or almost all, of the Queue Items as needing <span class="No-Break">manual review:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer168" class="IMG---Figure">
					<img src="image/B18416_06_8.jpg" alt="Figure 6.8 – Almost every Item in Work Queue 1 should require a manual review" width="537" height="304"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.8 – Almost every Item in Work Queue 1 should require a manual review</p>
			<p>We’ve confirmed that <a id="_idIndexMarker484"/>the <strong class="source-inline">Force HITL Review </strong>Session variable is working. Now, let’s look at the Session variable that forces the re-creation of <span class="No-Break">review data.</span></p>
			<h3>Examine the Force Create Review Data Session Variable logic</h3>
			<p>Recall that the <a id="_idIndexMarker485"/>third Process contains the logic to write review data to disk and checks to see whether the review has been completed. Here, we’ll examine Process 3 to see how the file recreation Session Variable logic has <span class="No-Break">been implemented:</span></p>
			<ol>
				<li>Open <strong class="bold">Example 1C - Disable HITL Review and Force Create Review Data</strong> Process in the <em class="italic">Ch6</em> Group in the <span class="No-Break">Process Studio.</span></li>
				<li>See that two global Session Variables are on the <strong class="source-inline">Main Page</strong>. The <strong class="source-inline">Force Create Review Data</strong> Session Variable is what we’re interested <span class="No-Break">in here:</span></li>
			</ol>
			<div>
				<div id="_idContainer169" class="IMG---Figure">
					<img src="image/B18416_06_9.jpg" alt="Figure 6.9 – Two Session Variables are saved on the Main Page of Process 3" width="457" height="235"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.9 – Two Session Variables are saved on the Main Page of Process 3</p>
			<ol>
				<li value="3">Open the <strong class="source-inline">01 Write Shared Review </strong><span class="No-Break"><strong class="source-inline">Data</strong></span><span class="No-Break"> Page.</span></li>
				<li>Find the <a id="_idIndexMarker486"/>Block named <strong class="bold">Session Variable Logic</strong>. This Block is newly added to this Page compared to the original example in the <span class="No-Break">previous chapter.</span></li>
				<li>Open the <em class="italic">Force Create Review Data?</em> Decision Stage. We’ll check to see whether <strong class="bold">Force Create Review Data</strong> is <strong class="bold">True</strong>. If it is, we’ll try to delete the existing file and remove references to it from our Item Data. Then we’ll proceed to<a id="_idIndexMarker487"/> create a new review file as if it <span class="No-Break">never existed.</span></li>
			</ol>
			<div>
				<div id="_idContainer170" class="IMG---Figure">
					<img src="image/B18416_06_10.jpg" alt="Figure 6.10 – The logic that allows for review files to be forcibly created" width="1065" height="533"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.10 – The logic that allows for review files to be forcibly created</p>
			<h3>Test the Force Create Review Data Session Variable</h3>
			<p>Now, let’s <a id="_idIndexMarker488"/>test to see whether the Session Variable works. We will be running Process 3 a total of three times. The first run creates all of the review files once. The second run confirms that the review files don’t get recreated by default. For the third run, we’ll change the Session Variable and see that the previous review files are being deleted, with newer ones being created in <span class="No-Break">their place.</span></p>
			<ol>
				<li>Run <strong class="bold">Example 1C - Disable HITL Review and Force Create Review Data</strong> in the Control Room. This Process also has a sleep Stage between items to make it easier to edit Session Variables. Wait for the Session <span class="No-Break">to complete.</span></li>
				<li>Visit the <a id="_idIndexMarker489"/>folder defined by the <strong class="source-inline">Ch6 Example 1 To Review Folder Path</strong> Environment Variable in Windows Explorer. Verify that the number of files present in the folder is equal to the number of items that are waiting for manual review. Keep note of the timestamps of when these files <span class="No-Break">were created.</span></li>
				<li>Wait for the deferral times of the Items in <a href="B18416_06.xhtml#_idTextAnchor093"><span class="No-Break"><em class="italic">Chapter 6</em></span></a><em class="italic"> Example 1 Queue 3</em> <span class="No-Break">to pass.</span></li>
				<li>Run <strong class="bold">Example 1C - Disable HITL Review and Force Create Review Data </strong>in the Control Room for a second time. Wait for the Session <span class="No-Break">to complete.</span></li>
				<li>Return to the folder defined by the <strong class="source-inline">Ch6 Example 1 To Review Folder Path</strong> Environment Variable. Verify that the timestamps of the files have not changed. This indicates that the review files haven’t <span class="No-Break">been recreated.</span></li>
				<li>Wait for the deferral times of the items in <a href="B18416_06.xhtml#_idTextAnchor093"><span class="No-Break"><em class="italic">Chapter 6</em></span></a><em class="italic"> Example 1 Queue 3</em> <span class="No-Break">to pass.</span></li>
				<li>Run <strong class="bold">Example 1C - Disable HITL Review and Force Create Review Data </strong>in the Control Room for a third time. Do <em class="italic">not </em>wait for the Session <span class="No-Break">to complete.</span></li>
				<li>Set the <strong class="bold">Force Create Review Data</strong> Session Variable to <strong class="bold">True</strong> in the <strong class="bold">Session Variables </strong>panel. Every Item from this point forward will have its review data recreated. Wait for the Session <span class="No-Break">to complete:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer171" class="IMG---Figure">
					<img src="image/B18416_06_11.jpg" alt="Figure 6.11 – Set the Force Create Review Data Session Variable to True" width="459" height="200"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.11 – Set the Force Create Review Data Session Variable to True</p>
			<ol>
				<li value="9">Return to <a id="_idIndexMarker490"/>the folder defined by the <strong class="bold">Ch6 Example 1 To Review Folder Path</strong> Environment Variable. Verify that the date-modified timestamps of the files have changed, indicating that they’ve <span class="No-Break">been recreated.</span></li>
			</ol>
			<p>At this point, we’ve tested two of our Session Variables. Let’s proceed and look at the third, which is used to disable HITL <span class="No-Break">review </span><span class="No-Break"><a id="_idIndexMarker491"/></span><span class="No-Break">checking.</span></p>
			<h3>Examine the Disable HITL Review Session variable logic</h3>
			<p>Our final <a id="_idIndexMarker492"/>Session Variable is also in the third Process. Let’s see how <span class="No-Break">it’s implemented:</span></p>
			<ol>
				<li>Open <strong class="bold">Example 1C – Disable HITL Review and Force Create Review Data </strong>Process in the <em class="italic">Ch6</em> Group in the Process Studio. Recall that the <strong class="bold">Disable HITL Review</strong> Session Variable is on the <strong class="source-inline">Main Page</strong> of <span class="No-Break">this Process.</span></li>
				<li>Open the <strong class="source-inline">02 Check for Reviewed </strong><span class="No-Break"><strong class="source-inline">Predictions</strong></span><span class="No-Break"> Page.</span></li>
				<li>See that a Decision Stage named <strong class="bold">Disable HITL Review</strong> has been added, which skips to the Stages that should run after an Item has <span class="No-Break">been reviewed:</span></li>
			</ol>
			<div>
				<div id="_idContainer172" class="IMG---Figure">
					<img src="image/B18416_06_12.jpg" alt="Figure 6.12 – A Decision Stage has been added to Disable HITL Review" width="375" height="927"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.12 – A Decision Stage has been added to Disable HITL Review</p>
			<h3>Test the Disable HITL Review Session Variable</h3>
			<p>In the last<a id="_idIndexMarker493"/> section of this example, we will run the third Process again, set the <strong class="bold">Disable HITL Review</strong> Session Variable to <strong class="bold">True</strong>, and verify that the Items have had their Status and Tags removed in <a href="B18416_06.xhtml#_idTextAnchor093"><span class="No-Break"><em class="italic">Chapter 6</em></span></a><em class="italic"> Example 1 </em><span class="No-Break"><em class="italic">Queue 1</em></span><span class="No-Break">:</span></p>
			<ol>
				<li>Run <strong class="bold">Example 1C – Disable HITL Review and Force Create Review Data </strong>in the Control Room. Do <em class="italic">not </em>wait for the Session <span class="No-Break">to complete.</span></li>
				<li>Set the <strong class="bold">Disable HITL Review</strong> Session Variable to <strong class="bold">True</strong> in the <strong class="bold">Session Variables </strong>panel. Every Item from this point forward will no longer require HITL review. Wait for the Session <span class="No-Break">to complete.</span></li>
				<li>View the contents of the <a href="B18416_06.xhtml#_idTextAnchor093"><span class="No-Break"><em class="italic">Chapter 6</em></span></a><em class="italic"> Example 1 Queue 1</em> Work Queue. The Status of the Items that were previously <strong class="bold">Manual Review Required</strong> should now be <strong class="bold">Manual Review Complete</strong> with their Tags removed. The Items in Queue 1 are <a id="_idIndexMarker494"/>ready to continue their <span class="No-Break">automated Processing:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer173" class="IMG---Figure">
					<img src="image/B18416_06_13.jpg" alt="Figure 6.13 – The Items in Queue 1 have skipped the HITL review" width="418" height="302"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.13 – The Items in Queue 1 have skipped the HITL review</p>
			<p>We’ve completed the example in which we implemented a reusable design snippet containing three Session Variables. These Session Variables enable us to control IA-specific behaviors while the Session is still running. Now, let’s move on from looking at Session-specific design controls to a design component that can work across <span class="No-Break">multiple Sessions.</span></p>
			<h1 id="_idParaDest-100"><a id="_idTextAnchor101"/>ML prediction kill switch</h1>
			<p>Imagine that a significant flaw<a id="_idIndexMarker495"/> is discovered in an ML algorithm after it’s already running in production. We’d like to stop <em class="italic">all Sessions</em> that are already in flight from making predictions with the model. One option is to disable the ML model from its source – for instance, by turning off the cloud service or internal web server. However, it’s fairly unlikely that this could be done by a member of the IA team and achieved in a short period <span class="No-Break">of time.</span></p>
			<p>The most obvious option available to the IA controller team is to use <em class="italic">Request Stop</em>, but based on the standard BP Process template, the check for <em class="italic">Stop</em> only happens after an Item has finished executing. Adding a <em class="italic">Session Variable</em> to stop ML predictions is also an option if the number of concurrent running Sessions is low enough. But what if we have dozens, or even hundreds of <span class="No-Break">Sessions underway?</span></p>
			<p>The design <a id="_idIndexMarker496"/>component that can be used to prevent an ML prediction from running across <em class="italic">all Sessions</em> here is a <strong class="bold">kill switch</strong>. The purpose of the kill switch is to allow an IA controller to stop all currently<a id="_idIndexMarker497"/> running Sessions from starting an ML prediction, in a controlled manner. Implementing a kill switch is simple; however, it uses a BP feature – the <em class="italic">Credential</em>, in an <span class="No-Break">unintended fashion.</span></p>
			<h2 id="_idParaDest-101"><a id="_idTextAnchor102"/>Example 2 – kill switch</h2>
			<p>Since implementing a kill<a id="_idIndexMarker498"/> switch is simple, let’s build one from scratch and see how it works. The kill switch uses a Credential and its <em class="italic">Marked as invalid</em> property. At a high level, we will be going through <span class="No-Break">seven steps:</span></p>
			<ol>
				<li>Create the Credential and grant <span class="No-Break">it Permissions.</span></li>
				<li>Create a Process that uses <span class="No-Break">the Credential.</span></li>
				<li>Add Exception handling to <span class="No-Break">the Process.</span></li>
				<li>Finalize the kill <span class="No-Break">switch logic.</span></li>
				<li>Test the Process with an <em class="italic">inactive</em> <span class="No-Break">kill switch.</span></li>
				<li>Activate the <span class="No-Break">kill switch.</span></li>
				<li>Test the Process with an <em class="italic">active</em> <span class="No-Break">kill switch.</span></li>
			</ol>
			<h3>Create a Credential and grant Permissions</h3>
			<p>The first step of<a id="_idIndexMarker499"/> implementing the kill switch is to create a <span class="No-Break">new credential:</span></p>
			<ol>
				<li>Create <a id="_idIndexMarker500"/>a new Credential from the <strong class="bold">System</strong> | <strong class="bold">Security</strong> | <strong class="bold">Credentials</strong> area <span class="No-Break">of BP.</span></li>
				<li>Name the credential <span class="No-Break"><strong class="bold">Kill Switch</strong></span><span class="No-Break">:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer174" class="IMG---Figure">
					<img src="image/B18416_06_14.jpg" alt="Figure 6.14 – Name the Credential “Kill Switch”" width="573" height="151"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.14 – Name the Credential “Kill Switch”</p>
			<ol>
				<li value="3">Click on the <strong class="bold">Access </strong><span class="No-Break"><strong class="bold">Rights</strong></span><span class="No-Break"> tab.</span></li>
				<li>Click on the <strong class="bold">Security Roles</strong> sub-tab and select the <strong class="bold">All Roles</strong> checkbox. Note that this isn’t best practice, but we’re doing it to simplify <span class="No-Break">the example.</span></li>
				<li>Click on the <strong class="bold">Processes (legacy)</strong> sub-tab and check the <strong class="bold">All </strong><span class="No-Break"><strong class="bold">Processes</strong></span><span class="No-Break"> checkbox.</span></li>
				<li>Click on the <strong class="bold">Resources (legacy)</strong> sub-tab and check the <strong class="bold">All </strong><span class="No-Break"><strong class="bold">Resources</strong></span><span class="No-Break"> checkbox.</span></li>
				<li>Save <a id="_idIndexMarker501"/><span class="No-Break">the Credential.</span></li>
			</ol>
			<h3>Create the Process and kill switch</h3>
			<p>Next, let’s create a BP Process<a id="_idIndexMarker502"/> that uses <span class="No-Break">this Credential:</span></p>
			<ol>
				<li>Create a Process named <strong class="bold">Example 2 – Test Kill Switch</strong> in the <span class="No-Break"><em class="italic">Ch6</em></span><span class="No-Break"> Group.</span></li>
				<li>Open <strong class="bold">Example 2 – Test Kill Switch</strong> Process in the <span class="No-Break">Process Studio.</span></li>
				<li>Add an Action Stage to <span class="No-Break">the diagram.</span></li>
				<li>Open the Action Stage, then set the <strong class="bold">Business Object</strong> to <strong class="bold">Credentials</strong> and the <strong class="bold">Action<a id="_idTextAnchor103"/></strong> to <strong class="bold">Get</strong>. Put <strong class="source-inline">"Kill Switch" </strong>as <span class="No-Break"><strong class="bold">Credentials Name</strong></span><span class="No-Break">:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer175" class="IMG---Figure">
					<img src="image/B18416_06_15.jpg" alt="Figure 6.15 – Add a Credentials::Get Action to the diagram" width="383" height="273"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.15 – Add a Credentials::Get Action to the diagram</p>
			<ol>
				<li value="5">Click on <a id="_idIndexMarker503"/>the <strong class="bold">Outputs</strong> tab. Create a Data Item named <strong class="bold">Status</strong> to store the <span class="No-Break">Status Output:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer176" class="IMG---Figure">
					<img src="image/B18416_06_16.jpg" alt="Figure 6.16 – Store the Status Output of the Credentials::Get action" width="802" height="559"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.16 – Store the Status Output of the Credentials::Get action</p>
			<ol>
				<li value="6">Save <span class="No-Break">the Action.</span></li>
				<li><strong class="bold">Link</strong> <em class="italic">Start</em> to<a id="_idIndexMarker504"/> <span class="No-Break">the Action.</span></li>
			</ol>
			<h3>Add Exception handling</h3>
			<p>The next part of the<a id="_idIndexMarker505"/> kill switch is to add some simple Exception handling. This IA component needs to handle Exceptions if the Credential has been <span class="No-Break">accidentally deleted:</span></p>
			<ol>
				<li>Add a Block around the <strong class="bold">Credentials::Get</strong> Action and name it <span class="No-Break"><strong class="source-inline">Kill Switch</strong></span><span class="No-Break">.</span></li>
				<li>Add a Recover Stage inside <span class="No-Break">the Block.</span></li>
				<li><strong class="bold">Link</strong> the Recover Stage to a Resume Stage. The Resume Stage should be outside of <span class="No-Break">the Block.</span></li>
				<li>Add an Exception Stage. Fill in the details <span class="No-Break">as follows:</span></li>
			</ol>
			<div>
				<div id="_idContainer177" class="IMG---Figure">
					<img src="image/B18416_06_17.jpg" alt="Figure 6.17 – Create an Exception" width="441" height="207"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.17 – Create an Exception</p>
			<ol>
				<li value="5"><strong class="bold">Link</strong> the Resume Stage to the Exception Stage. The diagram so far should look like <span class="No-Break">the following:</span></li>
			</ol>
			<div>
				<div id="_idContainer178" class="IMG---Figure">
					<img src="image/B18416_06_18.jpg" alt="Figure 6.18 – The kill switch Process diagram so far" width="1642" height="664"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.18 – The kill switch Process diagram so far</p>
			<p>The kill <a id="_idIndexMarker506"/>switch structure is almost complete. Next, we need to add logic to check the status of <span class="No-Break">the Credential.</span></p>
			<h3>Finalize the kill switch</h3>
			<p>The kill switch <a id="_idIndexMarker507"/>makes use of the Credential’s <em class="italic">Marked as invalid</em> property. Let’s add a Decision Stage to check <span class="No-Break">for it:</span></p>
			<ol>
				<li>Add a Decision Stage to the diagram inside the <em class="italic">Kill </em><span class="No-Break"><em class="italic">Switch</em></span><span class="No-Break"> Block.</span></li>
				<li>Set the Decision Stage’s name to <strong class="source-inline">Status = Invalid? </strong>and the Expression to <span class="No-Break">the following:</span><pre class="source-code">
[Status] = "Invalid"</pre></li>			</ol>
			<div>
				<div id="_idContainer179" class="IMG---Figure">
					<img src="image/B18416_06_19.jpg" alt="Figure 6.19 – The Decision Stage setup" width="294" height="183"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.19 – The Decision Stage setup</p>
			<ol>
				<li value="3">Copy and paste the Exception Stage named <em class="italic">SE – Kill Switch Triggered</em> into the diagram again so that it appears twice. Ensure that this new Exception is located inside the <em class="italic">Kill </em><span class="No-Break"><em class="italic">Switch</em></span><span class="No-Break"> Block.</span></li>
				<li><strong class="bold">Link</strong> the <strong class="bold">Credentials::Get</strong> Action to the <em class="italic">Status = Invalid?</em> <span class="No-Break">Decision Stage.</span></li>
				<li><strong class="bold">Link</strong> the Decision Stage’s <em class="italic">Yes</em> path to the newly-pasted Exception and the <em class="italic">No</em> path <span class="No-Break">to </span><span class="No-Break"><em class="italic">End</em></span><span class="No-Break">.</span></li>
				<li>Save <span class="No-Break">the Process.</span></li>
				<li>Verify that the diagram looks similar to <span class="No-Break">the following:</span></li>
			</ol>
			<div>
				<div id="_idContainer180" class="IMG---Figure">
					<img src="image/B18416_06_20.jpg" alt="Figure 6.20 – The final kill switch test Process" width="1650" height="861"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.20 – The final kill switch test Process</p>
			<p>We’ve now <a id="_idIndexMarker508"/>completed the kill switch. It checks to see whether a Credential is <em class="italic">Marked as invalid</em>. If it is, an Exception is thrown. If not, we can continue to the Stages that follow. When using this kill switch in a real IA Process, the Decision Stage should link directly to the ML prediction calling Stages instead of <span class="No-Break">to </span><span class="No-Break"><em class="italic">End</em></span><span class="No-Break">.</span></p>
			<h3>Run the Process from the Process Studio with the kill switch inactive</h3>
			<p>Let’s run<a id="_idIndexMarker509"/> the Process as-is, with a dormant kill switch. This is the default behavior, or what will happen when we want our IA Process to make <span class="No-Break">ML predictions:</span></p>
			<ol>
				<li>Run <strong class="bold">Example 2 – Test Kill Switch</strong> from the <span class="No-Break">Process Studio.</span></li>
				<li>See that it simply goes from <strong class="bold">Start </strong><span class="No-Break">to </span><span class="No-Break"><strong class="bold">End</strong></span><span class="No-Break">.</span></li>
			</ol>
			<p>We’ve seen the uneventful case where the kill switch is inactive. Next, we’ll activate the ML <span class="No-Break">kill switch.</span></p>
			<h3>Activate the kill switch by marking the Credential as invalid</h3>
			<p>To activate <a id="_idIndexMarker510"/>the kill switch, we mark the Credential as invalid. When the kill switch is active, execution will be prevented from continuing past the <em class="italic">Kill Switch</em> Block. Under normal circumstances, we would activate the kill switch while a Session is still running. However, we’re triggering it outside of a Session run for the benefit of readers who are using the Trial and Learning editions <span class="No-Break">of BP.</span></p>
			<ol>
				<li>Navigate to <strong class="bold">System</strong> | <strong class="bold">Security</strong> | <strong class="bold">Credentials</strong> and open the Credential named <span class="No-Break"><strong class="bold">Kill Switch</strong></span><span class="No-Break">.</span></li>
				<li>Check the <strong class="bold">Marked as invalid</strong> checkbox and save <span class="No-Break">the Credential:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer181" class="IMG---Figure">
					<img src="image/B18416_06_21.jpg" alt="Figure 6.21 – Check the Credential’s Marked as invalid box" width="615" height="292"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.21 – Check the Credential’s Marked as invalid box</p>
			<p>With the<a id="_idIndexMarker511"/> Credential marked as invalid, our kill switch is <em class="italic">active</em>, and all current and future Session runs of the <em class="italic">Test Kill Switch</em> Process will throw the Exception when execution reaches the <em class="italic">Status = Invalid?</em> <span class="No-Break">Decision Stage.</span></p>
			<h3>Run the Process from the Process Studio with the kill switch active</h3>
			<p>With the kill <a id="_idIndexMarker512"/>switch active, let’s run our Process again. This should throw an exception, preventing us from reaching the area of the Process past the <em class="italic">Kill </em><span class="No-Break"><em class="italic">Switch</em></span><span class="No-Break"> block:</span></p>
			<ol>
				<li>Run <strong class="bold">Example 2 – Test Kill Switch</strong> from the <span class="No-Break">Process Studio.</span></li>
				<li>See<a id="_idIndexMarker513"/> that the Exception <span class="No-Break">is thrown.</span></li>
			</ol>
			<p>An Exception is thrown when the Process tries to obtain an invalidated Credential. Work stops on the current item, and subsequent items, across <em class="italic">all Sessions</em> using this particular Credential. This lasts until the Credential is marked as valid again. This kill switch is best paired with Item Statuses and a Choice Stage that allows execution to be skipped right before the kill switch logic <span class="No-Break">is called.</span></p>
			<p class="callout-heading">Important note</p>
			<p class="callout">Users who want to mark a Credential as invalid might need additional Permissions in BP. Using a kill switch in production may require a review of the Logical Access Model, which defines which Users should have which User Roles, and which User Roles should have which Permissions <span class="No-Break">in BP.</span></p>
			<p>Deleting the Credential (not recommended) can also be done to trigger the kill switch, but you must remember to recreate the Credential with the exact same name. Creating and deleting Encryption Schemes and Environment Variables could also be used to implement kill switches, but using Credentials is a cleaner implementation. Checking the <strong class="bold">Marked as invalid</strong> checkbox is simpler to do <span class="No-Break">and undo.</span></p>
			<p>You’d generally <a id="_idIndexMarker514"/>have one kill switch for each ML model in production. The same kill switch Credential can be used across different Processes if multiple Processes use the same <span class="No-Break">ML model.</span></p>
			<p>We’ve finished discussing the kill switch. Let’s move on to the third IA component of this chapter, which discusses the need to version ML models for <span class="No-Break">auditing purposes.</span></p>
			<h1 id="_idParaDest-102"><a id="_idTextAnchor104"/>ML model versioning</h1>
			<p>ML programs, like all software, should<a id="_idIndexMarker515"/> receive regular updates. Updates are needed for many reasons – there could be new data, changes in the ML framework, improvements to the model tuning, security fixes, and so on. Regardless of why an update has occurred, the IA team should be notified when they happen as they can affect how predictions <span class="No-Break">are made.</span></p>
			<p>Ideally, production-facing ML models will be <strong class="bold">versioned</strong> by the vendor. Updates to the model should result in new documentation and a <em class="italic">new URL endpoint</em>. Having a new endpoint allows the IA team to consciously choose when to use an updated model and revert to an older model if necessary. In reality, the ML vendor might simply reuse the same endpoint with an updated model and not actively notify customers <span class="No-Break">of changes.</span></p>
			<p>If the IA team isn’t actively notified of changes to the ML model, it should <em class="italic">manually </em>keep track of when updates occur <em class="italic">for debugging and auditing purposes</em>. Otherwise, when we look at our Session Logs, we won’t know which version of the model was actually being used! Our goal is to know <em class="italic">which version of an ML model was used by looking only at the Session Logs</em>. But since there are multiple ways to trigger an ML prediction, it isn’t immediately <a id="_idIndexMarker516"/>obvious how this can <span class="No-Break">be achieved.</span></p>
			<p class="callout-heading">Important note</p>
			<p class="callout">The purpose of versioning is not to ensure determinism. A deterministic model is one where the same set of inputs always results in the same prediction. Many models introduce randomness; for example, generative AI gives you different outputs even if you provide the same prompt multiple times. For versioning, we’re not looking for determinism, but we want to be confident that the model was created using the same data, underlying algorithms, libraries, hyperparameters, and <span class="No-Break">so on.</span></p>
			<h2 id="_idParaDest-103"><a id="_idTextAnchor105"/>Two different ways of calling web APIs</h2>
			<p>Web APIs are<a id="_idIndexMarker517"/> by far the most common way to deploy an ML model. In BP, we connect to web APIs either through <em class="italic">Objects</em> or <em class="italic">Web API Services</em> (potentially downloaded from the DX). The URL of the API will either be embedded as a Data Item, in the case of an Object, or directly saved in the Web API Services configuration. This leads to <em class="italic">four</em> different scenarios that we need to consider when thinking about how ML models can be versioned in BP. The Object case is also applicable to Code Stages and <span class="No-Break">CLI scripts.</span></p>
			<table id="table002-3" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="bold">BP </strong><span class="No-Break"><strong class="bold">calling method</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Do new models have </strong><span class="No-Break"><strong class="bold">separate endpoints?</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">What </strong><span class="No-Break"><strong class="bold">to do</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Object</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Yes</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Enable logging in the Object Stage to show which URL is <span class="No-Break">being used</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Object</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">No</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Keep track of <span class="No-Break">versions manually</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Web <span class="No-Break">API Services</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Yes</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Keep track of <span class="No-Break">versions manually</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Web <span class="No-Break">API Services</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">No</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Keep track of <span class="No-Break">versions manually</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Table 6.2 – Four ways to version ML models for debugging and auditing</p>
			<p>In the next sections, we’ll go through each of the four web API calling scenarios outlined in <span class="No-Break"><em class="italic">Table 6.2</em></span><span class="No-Break">.</span></p>
			<h2 id="_idParaDest-104"><a id="_idTextAnchor106"/>Calling a web API using an Object when a new endpoint is provided</h2>
			<p>Let’s say that the<a id="_idIndexMarker518"/> ML vendor has updated its model and has also provided us with a new URL endpoint. If we’re calling this URL using an Object, we can tie a Session run to which model is being used by simply logging the URL. In the Object, the URL will either be stored as a Data Item or an Environment Variable, or directly typed in as an Input to an Action. Regardless of how the URL is input into the Object, all we need to do is enable logging in the appropriate Stage. Note that <strong class="bold">Stage logging</strong> in Objects is disabled by default, so we must explicitly turn <span class="No-Break">logging on:</span></p>
			<div>
				<div id="_idContainer182" class="IMG---Figure">
					<img src="image/B18416_06_22.jpg" alt="Figure 6.22 – Enable Stage logging in the Object to log the URL endpoint" width="750" height="400"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.22 – Enable Stage logging in the Object to log the URL endpoint</p>
			<h2 id="_idParaDest-105"><a id="_idTextAnchor107"/>Calling a web API using an Object when the vendor reuses an existing endpoint</h2>
			<p>If the vendor <a id="_idIndexMarker519"/>doesn’t provide a new endpoint when the model is updated, we need to create our own versioning scheme and explicitly log that in the Session Logs just prior to the API call. I recommend using <strong class="source-inline">Date Time</strong>, which stores the date of when we know for certain that a model was updated as the versioning scheme. Let’s implement this IA component together in <span class="No-Break">an example.</span></p>
			<h2 id="_idParaDest-106"><a id="_idTextAnchor108"/>Example 3 – versioning ML endpoints manually</h2>
			<p><em class="italic">Environment Variables</em> are the <a id="_idIndexMarker520"/>most suitable place to store our API version, since we’d like to update its value outside of the Process and Object diagrams. However, changes<a id="_idIndexMarker521"/> to Environment Variables show <a id="_idIndexMarker522"/>up in <em class="italic">Audit Logs</em>, not <em class="italic">Session Logs</em>. Therefore, we can’t tell which ML model version is used by a particular Session run just by<a id="_idIndexMarker523"/> looking at Session Logs. You’d need to cross-reference the <em class="italic">dates of the Session Logs</em> with the <em class="italic">Audit Logs</em> to find out when that Environment Variable was modified and what the value has been changed to. Needing to look at two different types of logs is <span class="No-Break">not ideal.</span></p>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer183" class="IMG---Figure">
					<img src="image/B18416_06_23.jpg" alt="Figure 6.23 – Changes to Environment Variables appear in the audit log" width="1022" height="226"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.23 – Changes to Environment Variables appear in the audit log</p>
			<p>A better solution is to always log the value of the Environment Variable in the Session Logs right before our API call. This makes it easy to find out which API version is being used to make a prediction. To achieve this, we add a “dummy” Calculation Stage right before our API call, with <span class="No-Break">logging enabled.</span></p>
			<p>In this example, we’ll demonstrate how to implement ML versioning that results in the ML version appearing in the Session Logs. We’ll go through five <span class="No-Break">high-level steps:</span></p>
			<ol>
				<li>Create an <span class="No-Break">Environment Variable.</span></li>
				<li>Create a <span class="No-Break">test Process.</span></li>
				<li>Run the Process in the Control Room and view the <span class="No-Break">Session Logs.</span></li>
				<li>Update the Environment Variable with a new API <span class="No-Break">model version.</span></li>
				<li>Run the Process again in the Control Room and view the <span class="No-Break">Session Logs.</span></li>
			</ol>
			<h4>Create an Environment Variable</h4>
			<p>First, we <a id="_idIndexMarker524"/>need to create an Environment Variable and populate it with a <strong class="source-inline">DateTime</strong> value – this will be the “version” of the API that is currently <span class="No-Break">in use:</span></p>
			<ol>
				<li>Navigate to <strong class="bold">System</strong> | <strong class="bold">Processes</strong> | <span class="No-Break"><strong class="bold">Environment Variables</strong></span><span class="No-Break">.</span></li>
				<li>Add a new Environment Variable named <strong class="bold">Ch6 Example 3 ML API Version</strong>, set the Type to <strong class="source-inline">DateTime</strong>, and the Value to your <span class="No-Break">current DateTime.</span></li>
				<li><span class="No-Break">Click </span><span class="No-Break"><strong class="bold">Apply</strong></span><span class="No-Break">.</span></li>
			</ol>
			<h4>Create a test Process</h4>
			<p>Next, let’s<a id="_idIndexMarker525"/> create a test Process that calls a dummy API Object. The dummy Object takes the place of a real ML <span class="No-Break">API call:</span></p>
			<ol>
				<li>Create a Process named <strong class="bold">Example 3 – ML Versioning </strong>in the <span class="No-Break"><em class="italic">Ch6</em></span><span class="No-Break"> Group.</span></li>
				<li>Open <strong class="bold">Example 3 – ML Versioning </strong>in the <span class="No-Break">Process Studio.</span></li>
				<li>Add the <strong class="source-inline">Ch6 Example 3 ML API Version</strong> Environment Variable to the diagram as a <span class="No-Break">Data Item.</span></li>
				<li>Add a Calculation Stage under <strong class="bold">Start</strong>. Set <strong class="bold">Name</strong> to <strong class="bold">Log API Version</strong>. Set <strong class="bold">Expression</strong> to <strong class="bold">[Ch6 Example 3 ML API Version]</strong> and <strong class="bold">Store Result In</strong> to <strong class="bold">Temp</strong>. Make sure to create the <strong class="source-inline">Temp</strong> Data Item and set <strong class="bold">Stage logging</strong> <span class="No-Break">to </span><span class="No-Break"><strong class="bold">Enabled</strong></span><span class="No-Break">:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer184" class="IMG---Figure">
					<img src="image/B18416_06_24.jpg" alt="Figure 6.24 – Create a Calculation Stage to log the Environment Variable value" width="391" height="361"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.24 – Create a Calculation Stage to log the Environment Variable value</p>
			<p class="list-inset">What we’re <a id="_idIndexMarker526"/>doing is logging the Environment Variable’s value to the Session logs by saving it to a throwaway Data Item <span class="No-Break">named </span><span class="No-Break"><strong class="source-inline">Temp</strong></span><span class="No-Break">.</span></p>
			<ol>
				<li value="5">Add an <strong class="bold">Action</strong> Stage to the diagram. Set <strong class="bold">Business Object</strong> to <strong class="bold">Utility – Environment</strong> and <strong class="bold">Action</strong> to <strong class="bold">Set Clipboard</strong>. Set the Clipboard <strong class="bold">Value</strong> to <strong class="source-inline">"www.testapi.com"</strong>. Set <strong class="bold">Stage logging</strong> to <strong class="bold">Enabled</strong>. We will use this <strong class="bold">Set Clipboard</strong> Action as a stand-in for actually calling <span class="No-Break">an API.</span></li>
				<li><strong class="bold">Link</strong> <strong class="bold">Start </strong>to the Calculation Stage, the Calculation Stage to the Action, and the Action to <strong class="bold">End</strong>. The completed diagram should look like the <span class="No-Break">following figure:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer185" class="IMG---Figure">
					<img src="image/B18416_06_25.jpg" alt="Figure 6.25 – A simple test Process" width="709" height="379"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.25 – A simple test Process</p>
			<ol>
				<li value="7">Publish<a id="_idIndexMarker527"/> and save <span class="No-Break">the Process.</span></li>
			</ol>
			<h4>Run the test Process and view the Session logs</h4>
			<p>Let’s run the<a id="_idIndexMarker528"/> Process once<a id="_idIndexMarker529"/> in the Control Room and see what the Session <span class="No-Break">Logs show:</span></p>
			<ol>
				<li>Run <strong class="bold">Example 3 – ML Versioning</strong> in the Control Room and wait for the Session <span class="No-Break">to complete.</span></li>
				<li>Open the Session Log for that Session run. Make a note of the Value of the <strong class="bold">Log API Version</strong> Calculation Stage and the URL of our “fake API call,” <span class="No-Break"><strong class="bold">Set Clipboard</strong></span><span class="No-Break">:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer186" class="IMG---Figure">
					<img src="image/B18416_06_26.jpg" alt="Figure 6.26 – View the Session Logs and take note of the ML API version and URL" width="582" height="249"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.26 – View the Session Logs and take note of the ML API version and URL</p>
			<p>Now, suppose<a id="_idIndexMarker530"/> that the ML<a id="_idIndexMarker531"/> vendor has updated the ML model while <em class="italic">keeping the URL endpoint the same</em>. Logging the values of the “URL” in <strong class="bold">Set Clipboard</strong> won’t let us know that the model has changed based on the Session Logs. We will need to update our Environment Variable to a new model <span class="No-Break">version value.</span></p>
			<h4>Update the Environment Variable</h4>
			<p>Since we don’t <a id="_idIndexMarker532"/>need to update the URL, let’s update the Environment Variable to a new <strong class="source-inline">DateTime</strong> value. This along with our Calculation Stage will record the fact that the underlying ML model has been updated, despite the URL staying <span class="No-Break">the same:</span></p>
			<ol>
				<li>Navigate to <strong class="bold">System</strong> | <strong class="bold">Processes</strong> | <span class="No-Break"><strong class="bold">Environment Variables</strong></span><span class="No-Break">.</span></li>
				<li>Update <strong class="source-inline">Ch6 Example 3 ML API Version</strong> to your <span class="No-Break">current DateTime.</span></li>
				<li><span class="No-Break">Click </span><span class="No-Break"><strong class="bold">Apply</strong></span><span class="No-Break">.</span></li>
			</ol>
			<h4>Run the test Process and view the Session Logs again</h4>
			<p>Let’s run the <a id="_idIndexMarker533"/>Process again and <a id="_idIndexMarker534"/>verify that changing the Environment Variable is reflected in the <span class="No-Break">Session Logs:</span></p>
			<ol>
				<li>Run <strong class="bold">Example 3 – ML Versioning </strong>in the <span class="No-Break">Control Room.</span></li>
				<li>Open the Session Log for the latest Session run. See that the updated Environment Value has been reflected in <span class="No-Break">our logs:</span></li>
			</ol>
			<div>
				<div id="_idContainer187" class="IMG---Figure">
					<img src="image/B18416_06_27.jpg" alt="Figure 6.27 – The updated Environment Variable is reflected in the Session Logs" width="777" height="157"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.27 – The updated Environment Variable is reflected in the Session Logs</p>
			<p>In this third example, we discussed a component that includes an Environment Variable and a Calculation Stage. The purpose of this component is to enable the manual versioning of ML models for debugging and <span class="No-Break">auditing purposes.</span></p>
			<p>It’s not completely necessary to use the Calculation Stage, as changes to the Environment Variable are reflected in the Audit Logs. This could be cross-referenced with the Session Logs to determine which version of an ML model was used during a Session run. However, it’s simpler to have the ML model version saved directly in the Session Logs and avoid potential issues in obtaining the Audit Logs, such as user <span class="No-Break">access restrictions.</span></p>
			<h2 id="_idParaDest-107"><a id="_idTextAnchor109"/>Calling Web API Services</h2>
			<p>If a web API is <a id="_idIndexMarker535"/>used instead of an Object, the base endpoint will be saved directly somewhere in the configuration. In the following figure, it’s saved in each <span class="No-Break">individual Action:</span></p>
			<div>
				<div id="_idContainer188" class="IMG---Figure">
					<img src="image/B18416_06_28.jpg" alt="Figure 6.28 – The URL is saved in the Web API Services configuration" width="915" height="226"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.28 – The URL is saved in the Web API Services configuration</p>
			<p>Let’s say that the API <a id="_idIndexMarker536"/>version changes from <em class="italic">v1</em> in the preceding figure to <em class="italic">v2</em>. The <em class="italic">Audit Logs</em> will show that the Web API Service has been modified, but the new and previous URLs <em class="italic">can’t be seen</em>. This doesn’t allow us to know exactly which URL (and thus model) was used during a <span class="No-Break">Session run:</span></p>
			<div>
				<div id="_idContainer189" class="IMG---Figure">
					<img src="image/B18416_06_29.jpg" alt="Figure 6.29 – The previous and new URLs can’t be found in the Audit Logs" width="1115" height="86"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.29 – The previous and new URLs can’t be found in the Audit Logs</p>
			<p>Therefore, if we’re using Web API Services to make our ML prediction, it doesn’t matter whether a new endpoint is provided or not – <em class="italic">historic changes to the URLs can’t be found in any of the BP logs. </em>We have to use the same scheme devised in <em class="italic">Example 3</em>, involving a Calculation Stage and an Environment Variable, if we want to know which endpoint is being used for Web <span class="No-Break">API Services.</span></p>
			<p>We’ve finished discussing how to log ML model versions in the Session Logs. Next, let’s look at the final reusable IA component, which is used to evaluate new ML models in sequence with the current one running <span class="No-Break">in production.</span></p>
			<h1 id="_idParaDest-108"><a id="_idTextAnchor110"/>New ML model evaluation</h1>
			<p>Prediction models are<a id="_idIndexMarker537"/> expected to change for many reasons, including updates to the training data, hyperparameter tuning, or switching to a completely new algorithm. When an ML model is changed, it needs to be evaluated against a <em class="italic">validation</em> dataset – but that may not be enough. The purpose of this component is to allow us to evaluate a proposed model against <em class="italic">production</em> data. The goal is to gather data on how the proposed model behaves against production data so that the data science or IA team can determine whether <span class="No-Break">it’s acceptable.</span></p>
			<p>The IA component described in this section is implemented through a Process template. When used in an IA Process, this template allows us to predict against a second ML model using live data. The principles underlying the design of this component include <span class="No-Break">the following:</span></p>
			<ul>
				<li>Being simple enough to integrate into an existing <span class="No-Break">IA Process</span></li>
				<li>Limiting logging to a single Stage to facilitate extracting Session Log information for data <span class="No-Break">scientists’ consumption</span></li>
				<li>Resuming any Exceptions that occur in the template so that they don’t affect the primary <span class="No-Break">production Process</span></li>
				<li>Having <a id="_idIndexMarker538"/>short and simple logic to avoid increasing the Item’s Total Work Time by <span class="No-Break">too much</span></li>
			</ul>
			<p>Let’s see how we can implement this through <span class="No-Break">an example.</span></p>
			<h2 id="_idParaDest-109"><a id="_idTextAnchor111"/>Example 4 – new ML model evaluation Process template</h2>
			<p>In this <a id="_idIndexMarker539"/>example, we’ll go through an already-developed Process template and explain how it works. We’ll also discuss the steps needed to incorporate the template into an existing IA Process. Our example contains three <span class="No-Break">high-level steps:</span></p>
			<ol>
				<li>Verify the <span class="No-Break">Release contents.</span></li>
				<li>Understand the <span class="No-Break">template logic.</span></li>
				<li>Understand how to integrate it into an existing <span class="No-Break">IA Process.</span></li>
			</ol>
			<h3>Verify the Release contents</h3>
			<p>The Release<a id="_idIndexMarker540"/> should have been imported in the <em class="italic">Technical requirements</em> section. Verify that <em class="italic">one</em> Process, <em class="italic">one</em> Work Queue, and <em class="italic">two</em> Environment Variables have <span class="No-Break">been imported:</span></p>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer190" class="IMG---Figure">
					<img src="image/B18416_06_30.jpg" alt="Figure 6.30 – The Release file contents" width="414" height="202"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.30 – The Release file contents</p>
			<p>The <strong class="source-inline">Ch6 Example 4 Enable Model Evaluation</strong> Environment Variable determines whether this template is active or not. The <strong class="source-inline">Ch6 Example 4 Evaluation Model ID</strong> Environment Variable is a self-defined ID for the ML model that we want to <a id="_idIndexMarker541"/>test. This is to help us keep track of which model we’re testing in production. Next, let’s open the Process and understand the <span class="No-Break">template contents.</span></p>
			<h3>Understand the template logic</h3>
			<p>The Process<a id="_idIndexMarker542"/> template logic is simple, with only two Pages. There’s a placeholder Page where you’re expected to provide the logic that makes the ML prediction. Complete the <span class="No-Break">following steps:</span></p>
			<ol>
				<li>Open <strong class="bold">Example 4 – New Model Evaluation Process Template </strong>in the <em class="italic">Ch6</em> Group in the <span class="No-Break">Process Studio.</span></li>
				<li>Double-click on the <strong class="bold">Start</strong> Stage on the <strong class="source-inline">Main Page</strong>. See that we’re supposed to pass in two Collections. The <strong class="source-inline">Input Data</strong> Collection stores the prediction Input Data required by the ML model that we want to evaluate. The <strong class="source-inline">Original Prediction Result</strong> Collection (optional) can be passed in if we want to log the result of the actual production prediction alongside the prediction of the model that’s being evaluated. This makes it easier to compare the <span class="No-Break">two results:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer191" class="IMG---Figure">
					<img src="image/B18416_06_31.jpg" alt="Figure 6.31 – The Input parameters of the Start Stage" width="618" height="240"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.31 – The Input parameters of the Start Stage</p>
			<ol>
				<li value="3">Look at the <em class="italic">Enable Model Evaluation?</em> Decision Stage that’s connected to <strong class="bold">Start</strong>. Here, we<a id="_idIndexMarker543"/> check the <strong class="source-inline">Ch6 Example 4 Enable Model Evaluation</strong> Environment Variable to see whether to use this template <span class="No-Break">or not.</span></li>
				<li>Look at the <strong class="bold">Work Queues::Add To Queue</strong> Action directly after the Decision Stage. We directly add <strong class="source-inline">Input Data</strong> into a new Queue (specified by <strong class="source-inline">Queue Name</strong>), and immediately lock that Item for Processing using <strong class="bold">Work Queues::Get Item By ID</strong>. <strong class="source-inline">Queue Name</strong> should be different from the calling Process’s <span class="No-Break">Work Queue:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer192" class="IMG---Figure">
					<img src="image/B18416_06_32.jpg" alt="Figure 6.32 – Add an item into a new queue" width="1325" height="922"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.32 – Add an item into a new queue</p>
			<p class="list-inset">The reason for <a id="_idIndexMarker544"/>creating an Item in a new queue is to make it easy to find the evaluation prediction for individual Items from the <span class="No-Break">Control Room.</span></p>
			<ol>
				<li value="5">Look at the <strong class="source-inline">Ch6 Example 4 Evaluation Model ID</strong> Environment Variable. This provides a way for you to version or identify what model is being evaluated. This will be logged in the Session Logs <span class="No-Break">for reference.</span></li>
				<li>Look at the <strong class="bold">Recover1</strong> Stage. Exception handling is added to ensure that exceptions aren’t bubbled up to the <span class="No-Break">calling Process.</span></li>
				<li>Open the <strong class="source-inline">Call Prediction</strong> Page. This Page is mostly a placeholder for you to insert the actual Stages needed to make predictions using the evaluation ML model. The prediction output must be added into the <strong class="bold">Output Data</strong> Collection for writing into the Session Logs. When adding your logic, make sure to only turn on Stage Logging for the Stages that you want to record the start and end <span class="No-Break">times of:</span></li>
			</ol>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer193" class="IMG---Figure">
					<img src="image/B18416_06_33.jpg" alt="Figure 6.33 – The Call Prediction Page" width="777" height="719"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.33 – The Call Prediction Page</p>
			<ol>
				<li value="8">Look at the <strong class="source-inline">Log New Model Evaluation Results</strong> Multi Calc Stage. This logs all of the information that’s relevant to data scientists so that it’s easy to retrieve in a <a id="_idIndexMarker545"/>single Session Log entry: <strong class="source-inline">Ch6 Example 4 Evaluation Model ID</strong>, <strong class="source-inline">Input Data</strong>, <strong class="source-inline">Original Prediction Result</strong>, and <span class="No-Break"><strong class="source-inline">Output Data</strong></span><span class="No-Break">.</span></li>
			</ol>
			<h3>Integration with an existing Process</h3>
			<p>Now that we’ve<a id="_idIndexMarker546"/> seen the template’s logic, we’ll discuss what steps are needed to implement it into an existing <span class="No-Break">IA Process:</span></p>
			<ol>
				<li>Open the template in the Process Studio and use <strong class="bold">Save As</strong> to create a <span class="No-Break">new Process.</span></li>
				<li>Create a new Work Queue under <strong class="bold">System</strong> | <strong class="bold">Workflow</strong> | <strong class="bold">Work Queues</strong> and change the value of <strong class="bold">Queue Name</strong> on the <strong class="source-inline">Main Page</strong> to match it. The <strong class="bold">Key Name</strong> field of the Work Queue should be set based on the input data of the ML call, or it can be <span class="No-Break">left blank.</span></li>
				<li>Create two new Environment Variables to replace <strong class="source-inline">Ch6 Example 4 Evaluation Model ID</strong> and <strong class="source-inline">Ch6 Example 4 Enable Model Evaluation</strong>. Set their values and replace the two Environment Variables on the <strong class="source-inline">Main Page</strong> with the newly created ones. This also results in needing to change the <em class="italic">Enable Model Evaluation?</em> Decision Stage on the <strong class="source-inline">Main Page</strong>, and the <em class="italic">Log New Model Evaluation Results</em> Calculation Stage on the <strong class="source-inline">Call </strong><span class="No-Break"><strong class="source-inline">Prediction</strong></span><span class="No-Break"> Page.</span></li>
				<li>Open the <strong class="source-inline">Call Prediction</strong> Page. Insert the logic to make the evaluation ML model prediction using data from the <strong class="source-inline">Input Data</strong> Collection. The prediction output should be formatted into the <strong class="source-inline">Output </strong><span class="No-Break"><strong class="source-inline">Data</strong></span><span class="No-Break"> Collection.</span></li>
				<li>Enable <a id="_idIndexMarker547"/>Stage Logging on the specific action or web API that makes the ML prediction. Otherwise, set the logging of the Stages that have been added to <span class="No-Break"><em class="italic">Errors only</em></span><span class="No-Break">.</span></li>
				<li>Save <span class="No-Break">the template.</span></li>
				<li>In the existing IA Process, add a <em class="italic">Process</em> Stage after the live prediction results have been obtained. Configure this to use the Process template that was just saved. On the <strong class="bold">Inputs</strong> tab, pass in <strong class="source-inline">Input Data</strong> needed by the evaluation model to make its prediction, and optionally, <strong class="source-inline">Original Prediction Result</strong> if you’d like to log it alongside the <span class="No-Break">evaluation model.</span></li>
			</ol>
			<p>With this component, we can make live predictions against an evaluation ML model with very few changes to an existing IA Process. The only modification to the original Process that’s needed is to call <span class="No-Break">the sub-Process.</span></p>
			<p>Accessing the results of these evaluation predictions is simplified since all of the Session Logging occurs in a single Stage. Session Logs can be exported and filtered by the name of the <em class="italic">Multi Calc</em> Stage. This gives data scientists all the information that they need to further evaluate their model, including the model ID, the input data, the production prediction result, and the evaluation <span class="No-Break">prediction result.</span></p>
			<h1 id="_idParaDest-110"><a id="_idTextAnchor112"/>Reusable IA components review</h1>
			<p>We’ve covered four different<a id="_idIndexMarker548"/> reusable components that can be used across many different IA Processes. A summary of the purpose of each component and what BP features were used to create them is shown in the <span class="No-Break">following table:</span></p>
			<table id="table003-3" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Name</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Major BP </strong><span class="No-Break"><strong class="bold">features used</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Purpose</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>IA <span class="No-Break">Session control</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Session Variables and <span class="No-Break">Decision Stages</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Session-based control <span class="No-Break">of whether:</span></p>
							<p>Items must forcibly undergo <span class="No-Break">HITL review.</span></p>
							<p>Review checking <span class="No-Break">is disabled.</span></p>
							<p>Shared data used for reviews should <span class="No-Break">be recreated.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>ML prediction <span class="No-Break">kill switch</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Credential (marked as invalid), Decision Stage, and <span class="No-Break">Exception handling</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Allow for ML predictions to be prevented across all current and future Sessions that use a <span class="No-Break">particular model</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>ML <span class="No-Break">model versioning</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Calculation Stage (with logging enabled) and <span class="No-Break">Environment Variable</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Create Session Logs that specify which ML model version was used to make a prediction, even if the API endpoint stays <span class="No-Break">the same</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>New ML <span class="No-Break">model evaluation</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Work Queue, Environment Variables, Exception handling, and Multi Calc Stage (<span class="No-Break">for logging)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Run an evaluation ML model alongside the primary ML model in a way that makes the extraction of prediction <span class="No-Break">results simple</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Table 6.3 – A summary of the four reusable IA components</p>
			<h1 id="_idParaDest-111"><a id="_idTextAnchor113"/>Summary</h1>
			<p>In this chapter, we developed four reusable IA components that provide additional functionality that’s specifically relevant to ML operations. These components can be easily integrated into existing <span class="No-Break">IA Processes.</span></p>
			<p>Our first component was a set of three Session Variables. These Session Variables allow Control Room operators to exercise more control over HITL prediction validation according to <span class="No-Break">real-time needs.</span></p>
			<p>Next, we discussed a kill switch, which can be used easily to disable and re-enable ML prediction across all present and future Sessions. This can be used if there is an urgent need to stop all ML predictions used in IA by a <span class="No-Break">certain model.</span></p>
			<p>The third component, ML model versioning, addresses a problem caused by imperfect audit logging (as of version 7.1.2) in BP. Updating a URL in Web API Services doesn’t show the specific URLs that have been changed in Audit Logs. This means that we don’t know exactly which API URL or version has been used to make a prediction, even if we look at both the Session Logs and Audit Logs. This third component rectifies this issue through the manual versioning of ML models. This allows us to know which version of a model was used by viewing only the <span class="No-Break">Session Logs.</span></p>
			<p>Finally, our fourth component was a Process template that can be used to extend existing IA Processes. This component allows us to run an additional ML prediction alongside the production one for evaluation purposes against <span class="No-Break">live data.</span></p>
			<p>The concept of creating reusable templates is extremely important to both RPA and IA development. It allows for standardization, simpler maintenance, and faster development time. In the next chapter, we’ll combine all that has been covered, starting from <a href="B18416_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic">Chapter 1</em></span></a> until now, into standardized, reusable IA Process and Object templates. These can be used to kickstart an IA solution design and serve as a base for creating IA templates in <span class="No-Break">your organization.</span></p>
		</div>
	</div>
</div>
</body></html>