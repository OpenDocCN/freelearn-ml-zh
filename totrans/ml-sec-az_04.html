<html><head></head><body>
<div id="_idContainer102">
<h1 class="chapter-number" id="_idParaDest-96"><a id="_idTextAnchor096"/><span class="koboSpan" id="kobo.1.1">4</span></h1>
<h1 id="_idParaDest-97"><a id="_idTextAnchor097"/><span class="koboSpan" id="kobo.2.1">Data Protection and Governance</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Data is a fundamental part of machine learning, so in this chapter, we will focus on all aspects of governing, storing, and securing data. </span><span class="koboSpan" id="kobo.3.2">We will start by explaining what data governance is and how vital it is to know what data we have. </span><span class="koboSpan" id="kobo.3.3">We need to know how to develop a management framework so that we can improve everything, from organizational workflows to business decisions. </span><span class="koboSpan" id="kobo.3.4">Data governance will also help us identify sensitive data and how we can better secure it, as part of our data governance program or our machine </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">learning solutions.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">We will begin by learning the best practices to store and retrieve data in Azure machine learning. </span><span class="koboSpan" id="kobo.5.2">We will see many data services that we can use to save our datasets – for example, the Azure Blob Storage and the Azure SQL database and their basic encryption and security features. </span><span class="koboSpan" id="kobo.5.3">Azure Machine Learning already provides us with a lot of features, such as versioning and logging, but since data is usually connected to the workspace and not saved in the workspace, it is important to familiarize ourselves with different security features from different services. </span><span class="koboSpan" id="kobo.5.4">Finally, we will explore backup options and recovery options because even though we will do our best to protect our assets, that does not mean we should not be prepared for the worst-case scenario, which is the need to recover our data from any data loss following human error or </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">security incidents.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">In this chapter, we’re going to cover the following </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">main topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.9.1">Working with data governance </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">in Azure</span></span></li>
<li><span class="koboSpan" id="kobo.11.1">Storing and retrieving data in Azure </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">Machine Learning</span></span></li>
<li><span class="koboSpan" id="kobo.13.1">Encrypting and </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">securing data</span></span></li>
<li><span class="koboSpan" id="kobo.15.1">Exploring backup </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">and recovery</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.17.1">By the end of this chapter, you will have a better idea of how to set up a data protection and governance framework for your organization, using the proper tools and best practices to secure your data in Azure </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">Machine Learning.</span></span></p>
<h1 id="_idParaDest-98"><a id="_idTextAnchor098"/><span class="koboSpan" id="kobo.19.1">Working with data governance in Azure</span></h1>
<p><span class="koboSpan" id="kobo.20.1">Data governance refers to the</span><a id="_idIndexMarker325"/><span class="koboSpan" id="kobo.21.1"> overall management and control of an organization’s data assets. </span><span class="koboSpan" id="kobo.21.2">It involves establishing processes, policies, and guidelines to ensure availability, integrity, security, privacy, and the effective and efficient use of information. </span><span class="koboSpan" id="kobo.21.3">This is always important, but it is especially crucial when we’re talking about ML, as ML models are based on data. </span><span class="koboSpan" id="kobo.21.4">Whether we’re talking about data used to train our models or data generated by our models, it does not change the fact that we need to be aware of every piece of information we process and what its life </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">cycle is.</span></span></p>
<p><span class="koboSpan" id="kobo.23.1">To implement data governance effectively, organizations typically need to establish a data governance framework or strategy, which outlines the structure, processes, and responsibilities for data management. </span><span class="koboSpan" id="kobo.23.2">This framework should include the formation of a data governance committee or council, data governance policies and procedures, data stewardship roles, and the use of technology solutions to support data </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">governance activities.</span></span></p>
<p><span class="koboSpan" id="kobo.25.1">Data governance involves not only technical aspects but also business aspects. </span><span class="koboSpan" id="kobo.25.2">There are</span><a id="_idTextAnchor099"/><span class="koboSpan" id="kobo.26.1"> different types of information exchanged throughout different departments of an organization that all need to be a part of the company’s data governance policy, which can be daunting at first. </span><span class="koboSpan" id="kobo.26.2">Remember that data governance is a collaborative effort involving people, processes, and technology. </span><span class="koboSpan" id="kobo.26.3">It requires ongoing commitment, communication, and engagement from all stakeholders to drive successful implementation, ensuring the long-term effectiveness of the data governance strategy. </span><span class="koboSpan" id="kobo.26.4">However, with multiple global and regional data regulations about security and privacy, not having a data governance strategy in your organization might result in financial loss and damage </span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">your reputation.</span></span></p>
<p><span class="koboSpan" id="kobo.28.1">The complexity of creating those policies and processes presents us with many challenges; however, developing an efficient strategy also yields many benefits. </span><span class="koboSpan" id="kobo.28.2">Let us start with </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">the challenges.</span></span></p>
<h2 id="_idParaDest-99"><a id="_idTextAnchor100"/><span class="koboSpan" id="kobo.30.1">Identifying challenges</span></h2>
<p><span class="koboSpan" id="kobo.31.1">Challenges can be identified in </span><a id="_idIndexMarker326"/><span class="koboSpan" id="kobo.32.1">each step as either technical, operational, or even human-oriented. </span><span class="koboSpan" id="kobo.32.2">Not all of them would apply to all organizations, but having an idea of the possible issues will help us prepare better for them. </span><span class="koboSpan" id="kobo.32.3">We will explore them </span><span class="No-Break"><span class="koboSpan" id="kobo.33.1">together here:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.34.1">As we develop a new strategy, regardless of what it is, the most difficult part is often </span><strong class="bold"><span class="koboSpan" id="kobo.35.1">company-wide acceptance</span></strong><span class="koboSpan" id="kobo.36.1">. </span><span class="koboSpan" id="kobo.36.2">The</span><a id="_idIndexMarker327"/><span class="koboSpan" id="kobo.37.1"> implementation of data governance usually requires a shift within an organization. </span><span class="koboSpan" id="kobo.37.2">Employees will need to change their behaviors, adopt new processes, and embrace a different mindset – a data-driven one, and that will disrupt their everyday routine. </span><span class="koboSpan" id="kobo.37.3">From the outset, if there is a lack of awareness and understanding, accepting a new strategy will be a struggle. </span><span class="koboSpan" id="kobo.37.4">Unfortunately, as data governance requires collaboration and coordination across different departments and business units, any lack of participation, misalignment of goals, and inconsistencies might hinder development and</span><a id="_idIndexMarker328"/><span class="koboSpan" id="kobo.38.1"> lead to fragmented data management practices that open up the organization to a lot </span><span class="No-Break"><span class="koboSpan" id="kobo.39.1">of risks.</span></span></li>
<li><span class="koboSpan" id="kobo.40.1">Another challenge is </span><strong class="bold"><span class="koboSpan" id="kobo.41.1">engaging and aligning the right stakeholders</span></strong><span class="koboSpan" id="kobo.42.1">. </span><span class="koboSpan" id="kobo.42.2">We need to involve relevant stakeholders from different departments and levels of the organization to ensure consistency and collaboration. </span><span class="koboSpan" id="kobo.42.3">This includes executives, IT professionals, data owners, data users, and legal and compliance teams. </span><span class="koboSpan" id="kobo.42.4">Understanding their perspectives, needs, and challenges is directly related to data management and governance and will lead to an effective data </span><span class="No-Break"><span class="koboSpan" id="kobo.43.1">governance framework.</span></span></li>
<li><span class="koboSpan" id="kobo.44.1">Then, there is consistency or </span><strong class="bold"><span class="koboSpan" id="kobo.45.1">standardization</span></strong><span class="koboSpan" id="kobo.46.1">. </span><span class="koboSpan" id="kobo.46.2">We really need to find the right balance between governance </span><a id="_idIndexMarker329"/><span class="koboSpan" id="kobo.47.1">standards and flexibility. </span><span class="koboSpan" id="kobo.47.2">Creating overly complicated processes that increase data security and privacy, but hinder everyday business, is also not a welcome result. </span><span class="koboSpan" id="kobo.47.3">Data governance as a strategy aims to protect an organization from potential data breaches and non-compliance. </span><span class="koboSpan" id="kobo.47.4">Some allowances or exceptions might need to be made in some cases to allow for smooth </span><span class="No-Break"><span class="koboSpan" id="kobo.48.1">business operations.</span></span></li>
<li><span class="koboSpan" id="kobo.49.1">If we have managed to more or less overcome the aforementioned challenges, there is then the question of the actual data. </span><strong class="bold"><span class="koboSpan" id="kobo.50.1">Alignment of responsibilities</span></strong><span class="koboSpan" id="kobo.51.1"> is something we really need to focus on even more if we are involved in ML development. </span><span class="koboSpan" id="kobo.51.2">Deciding who should and who should not have access to particular segments of data is crucial, but also only the first step. </span><span class="koboSpan" id="kobo.51.3">This can also be further segmented into what data should and should not be used to train an </span><span class="No-Break"><span class="koboSpan" id="kobo.52.1">ML model.</span></span></li>
<li><span class="koboSpan" id="kobo.53.1">Finally, enabling the right </span><strong class="bold"><span class="koboSpan" id="kobo.54.1">data governance tools and technologies</span></strong><span class="koboSpan" id="kobo.55.1"> is also vital. </span><span class="koboSpan" id="kobo.55.2">We need to identify and implement appropriate tools and technologies to support data governance activities. </span><span class="koboSpan" id="kobo.55.3">This may include data cataloging tools, metadata management systems, data quality tools, and data security solutions. </span><span class="koboSpan" id="kobo.55.4">These tools help automate and streamline data governance processes, provide visibility into data </span><a id="_idIndexMarker330"/><span class="koboSpan" id="kobo.56.1">assets, and facilitate data discovery and collaboration. </span><span class="koboSpan" id="kobo.56.2">In this and the next chapter, we will see several practices, tools, and product features that will help us do exactly that, specifically </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">for ML.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.58.1">If any of the preceding challenges are not addressed, it will lead to poor data management. </span><span class="koboSpan" id="kobo.58.2">That means unsecured and siloed information and incomplete and inconsistent processes. </span><span class="koboSpan" id="kobo.58.3">The result makes an organization vulnerable to data breaches and can even have adverse consequences in business operations, as decision-making could be impacted by a lack </span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">of information.</span></span></p>
<p><span class="koboSpan" id="kobo.60.1">If we succeed in overcoming those challenges, we can reap multiple benefits. </span><span class="koboSpan" id="kobo.60.2">Let us review what they are in the </span><span class="No-Break"><span class="koboSpan" id="kobo.61.1">next section.</span></span></p>
<h2 id="_idParaDest-100"><a id="_idTextAnchor101"/><span class="koboSpan" id="kobo.62.1">Exploring benefits</span></h2>
<p><span class="koboSpan" id="kobo.63.1">Data governance can not only </span><a id="_idIndexMarker331"/><span class="koboSpan" id="kobo.64.1">protect an organization but also improve business operations. </span><span class="koboSpan" id="kobo.64.2">According to Microsoft, a robust data governance strategy helps ensure that your information is audited, assessed, verified, managed, properly secured, </span><span class="No-Break"><span class="koboSpan" id="kobo.65.1">and reliable.</span></span></p>
<p><span class="koboSpan" id="kobo.66.1">The first and most obvious benefit is </span><strong class="bold"><span class="koboSpan" id="kobo.67.1">improved data quality</span></strong><span class="koboSpan" id="kobo.68.1">. </span><span class="koboSpan" id="kobo.68.2">Data governance ensures that data is accurate, consistent, and reliable. </span><span class="koboSpan" id="kobo.68.3">By establishing data standards, implementing data quality controls, and assigning responsibilities, you can enhance the overall quality of your data. </span><span class="koboSpan" id="kobo.68.4">High-quality data enables more benefits, such as better decision-making, enhances operational efficiency, and improves </span><span class="No-Break"><span class="koboSpan" id="kobo.69.1">business processes.</span></span></p>
<p><span class="koboSpan" id="kobo.70.1">Data governance improves </span><strong class="bold"><span class="koboSpan" id="kobo.71.1">decision-making</span></strong><span class="koboSpan" id="kobo.72.1">. </span><span class="koboSpan" id="kobo.72.2">It provides a solid foundation, and with reliable and trustworthy data available, decision-makers can make informed choices based on accurate insights, based in turn on current data. </span><span class="koboSpan" id="kobo.72.3">Data governance helps ensure that decision-makers have access to the right data, at the right time, in the right format, and with the appropriate context. </span><span class="koboSpan" id="kobo.72.4">This can also lead to reduced costs and </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.73.1">improved profitability</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.74.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.75.1">Additionally, as data governance focuses on protecting sensitive data and ensuring compliance with data privacy regulations, we also need </span><strong class="bold"><span class="koboSpan" id="kobo.76.1">increased data compliance, security, and privacy</span></strong><span class="koboSpan" id="kobo.77.1">. </span><span class="koboSpan" id="kobo.77.2">By implementing data security measures, establishing access controls, and defining data handling procedures, we can greatly mitigate the risk of data breaches and unauthorized access. </span><span class="koboSpan" id="kobo.77.3">In Azure Machine Learning with the proper controls, you can also create compliance reports with data laws </span><span class="No-Break"><span class="koboSpan" id="kobo.78.1">and regulations.</span></span></p>
<p><span class="koboSpan" id="kobo.79.1">By creating processes and best data practices, you end up with</span><strong class="bold"><span class="koboSpan" id="kobo.80.1"> improved data management</span></strong><span class="koboSpan" id="kobo.81.1">. </span><span class="koboSpan" id="kobo.81.2">Any need, issues, or problems that arise can be found and mitigated more effectively. </span><span class="koboSpan" id="kobo.81.3">Data sharing and collaboration are done more efficiently and securely across different teams and departments. </span><span class="koboSpan" id="kobo.81.4">Data management can promote data integration and ensure data interoperability across systems and applications. </span><span class="koboSpan" id="kobo.81.5">By defining data standards, data formats, and data integration guidelines, organizations can achieve better data</span><a id="_idIndexMarker332"/><span class="koboSpan" id="kobo.82.1"> consistency and enhance </span><span class="No-Break"><span class="koboSpan" id="kobo.83.1">data interoperability.</span></span></p>
<p><span class="koboSpan" id="kobo.84.1">Finally, data management builds trust. </span><span class="koboSpan" id="kobo.84.2">Trust by your stakeholders and trust by your customers leads to a </span><strong class="bold"><span class="koboSpan" id="kobo.85.1">stellar organizational reputation</span></strong><span class="koboSpan" id="kobo.86.1">. </span><span class="koboSpan" id="kobo.86.2">When it comes to trusting someone with data, an organization’s reputation can be the deciding factor in their choice, as machine learning is trained and learns from old and </span><span class="No-Break"><span class="koboSpan" id="kobo.87.1">new data.</span></span></p>
<p><span class="koboSpan" id="kobo.88.1">Now that we understand how important data governance is, let us get started with learning best practices and exploring some tools and resources that can be applied with Azure Machine Learning and its </span><span class="No-Break"><span class="koboSpan" id="kobo.89.1">related services.</span></span></p>
<h2 id="_idParaDest-101"><a id="_idTextAnchor102"/><span class="koboSpan" id="kobo.90.1">Getting started using cloud data best practices</span></h2>
<p><span class="koboSpan" id="kobo.91.1">Azure Machine Learning is a cloud </span><a id="_idIndexMarker333"/><span class="koboSpan" id="kobo.92.1">data service, and as you will see in the following chapters, most of the services that work with Azure Machine Learning are also cloud services or are hosted in Azure. </span><span class="koboSpan" id="kobo.92.2">As a result, we will focus on best practices that relate to cloud data management, and what better way to get started</span><a id="_idIndexMarker334"/><span class="koboSpan" id="kobo.93.1"> than to follow the </span><strong class="bold"><span class="koboSpan" id="kobo.94.1">Cloud Data Management Capabilities</span></strong><span class="koboSpan" id="kobo.95.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.96.1">CDMC</span></strong><span class="koboSpan" id="kobo.97.1">) framework developed by a global industry council – the </span><span class="No-Break"><span class="koboSpan" id="kobo.98.1">EDM Council.</span></span></p>
<p><span class="koboSpan" id="kobo.99.1">The CDMC framework outlines the following 14 key controls to manage </span><span class="No-Break"><span class="koboSpan" id="kobo.100.1">data risk:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.101.1">Data control compliance</span></strong><span class="koboSpan" id="kobo.102.1"> means that everything that contains sensitive data must be monitored, and notifications should be implemented should any </span><span class="No-Break"><span class="koboSpan" id="kobo.103.1">issues arise.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.104.1">Data ownership</span></strong><span class="koboSpan" id="kobo.105.1"> must be clear</span><a id="_idIndexMarker335"/><span class="koboSpan" id="kobo.106.1"> on any piece of saved information, with the ability to </span><span class="No-Break"><span class="koboSpan" id="kobo.107.1">be reported.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.108.1">Authoritative data sources and provisioning points</span></strong><span class="koboSpan" id="kobo.109.1"> should be available for all </span><span class="No-Break"><span class="koboSpan" id="kobo.110.1">sensitive data.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.111.1">Data sovereignty and cross-border movement</span></strong><span class="koboSpan" id="kobo.112.1"> outline that sensitive data must be controlled and audited based </span><span class="No-Break"><span class="koboSpan" id="kobo.113.1">on policies.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.114.1">Data cataloging</span></strong><span class="koboSpan" id="kobo.115.1"> should be automated consistently across departments or environments and, ideally, when data is created </span><span class="No-Break"><span class="koboSpan" id="kobo.116.1">or ingested.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.117.1">Data classification</span></strong><span class="koboSpan" id="kobo.118.1"> should be</span><a id="_idIndexMarker336"/><span class="koboSpan" id="kobo.119.1"> completed and automated if possible for all </span><span class="No-Break"><span class="koboSpan" id="kobo.120.1">sensitive data.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.121.1">Data entitlements and access for sensitive data</span></strong><span class="koboSpan" id="kobo.122.1"> should be managed by the owner </span><span class="No-Break"><span class="koboSpan" id="kobo.123.1">and tracked.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.124.1">Data consumption purposes</span></strong><span class="koboSpan" id="kobo.125.1"> should be provided for all data, including </span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">any agreements.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.127.1">Security controls</span></strong><span class="koboSpan" id="kobo.128.1"> must be implemented to enforce </span><span class="No-Break"><span class="koboSpan" id="kobo.129.1">data compliance.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.130.1">Data protection impact assessments</span></strong><span class="koboSpan" id="kobo.131.1"> should be in place and automated when an </span><span class="No-Break"><span class="koboSpan" id="kobo.132.1">issue arises.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.133.1">Data retention</span></strong><span class="koboSpan" id="kobo.134.1"> is the data that is to be retained considering the data life cycle and eventually this data is deleted. </span><span class="koboSpan" id="kobo.134.2">This should be clearly defined and </span><span class="No-Break"><span class="koboSpan" id="kobo.135.1">possibly automated.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.136.1">Data quality</span></strong><span class="koboSpan" id="kobo.137.1"> ensures that data is fit and classified properly, depending on </span><span class="No-Break"><span class="koboSpan" id="kobo.138.1">its purpose.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.139.1">Cost metrics</span></strong><span class="koboSpan" id="kobo.140.1"> on how data is stored and moved must be available </span><span class="No-Break"><span class="koboSpan" id="kobo.141.1">for reporting.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.142.1">Data lineage</span></strong><span class="koboSpan" id="kobo.143.1"> ensures that </span><a id="_idIndexMarker337"/><span class="koboSpan" id="kobo.144.1">data origins and any usage can </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">be identified.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.146.1">The CDMC framework is available as a free license to all industries for internal use, including both EDM Council members and non-members. </span><span class="koboSpan" id="kobo.146.2">It can also be used to implement data governance, as well as an assessment tool. </span><span class="koboSpan" id="kobo.146.3">All you need to do is to accept their terms </span><span class="No-Break"><span class="koboSpan" id="kobo.147.1">and </span></span><span class="No-Break"><a id="_idIndexMarker338"/></span><span class="No-Break"><span class="koboSpan" id="kobo.148.1">conditions.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.149.1">Data Management Capabilities (CDMC)</span></p>
<p class="callout"><span class="koboSpan" id="kobo.150.1">If you want to explore more </span><a id="_idIndexMarker339"/><span class="koboSpan" id="kobo.151.1">about the CDMC framework and the EDM council, visit the </span><a href="https://edmcouncil.org/frameworks/cdmc/"><span class="koboSpan" id="kobo.152.1">official </span><span class="No-Break"><span class="koboSpan" id="kobo.153.1">page: </span></span><span class="No-Break"><span class="koboSpan" id="kobo.154.1">https://edmcouncil.org/f</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.155.1">rameworks/cdmc/</span></span><span class="No-Break"><span class="koboSpan" id="kobo.156.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.157.1">However, no matter which framework or process you choose, completing everything at once might not be possible. </span><span class="koboSpan" id="kobo.157.2">Instead, you need to start small to guarantee a successful implementation. </span><span class="koboSpan" id="kobo.157.3">It might be good to appoint someone or a team to execute and monitor all the implementation across your organization. </span><span class="koboSpan" id="kobo.157.4">Then, make sure you have clear goals and a clear business case. </span><span class="koboSpan" id="kobo.157.5">Developing a proper metric to measure progress and keeping communication open throughout this entire process is also a vital part. </span><span class="koboSpan" id="kobo.157.6">The key is to realize that data governance goes beyond implementing a few </span><span class="No-Break"><span class="koboSpan" id="kobo.158.1">IT solutions.</span></span></p>
<p><span class="koboSpan" id="kobo.159.1">Also, while there is not a one-fits-all strategy that will work for every organization or industry, Azure provides multiple tools to implement controls and apply governance in your data. </span><span class="koboSpan" id="kobo.159.2">Let us explore some of them in the </span><span class="No-Break"><span class="koboSpan" id="kobo.160.1">next section.</span></span></p>
<h2 id="_idParaDest-102"><a id="_idTextAnchor103"/><span class="koboSpan" id="kobo.161.1">Exploring Azure tools and resources</span></h2>
<p><span class="koboSpan" id="kobo.162.1">We have already seen some tools</span><a id="_idIndexMarker340"/><span class="koboSpan" id="kobo.163.1"> to help us enforce compliance in our resources, such as Azure Policy and Azure Blueprints in </span><a href="B21076_03.xhtml#_idTextAnchor077"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.164.1">Chapter 3</span></em></span></a><span class="koboSpan" id="kobo.165.1">. </span><span class="koboSpan" id="kobo.165.2">Let us review a couple more that apply to </span><span class="No-Break"><span class="koboSpan" id="kobo.166.1">data governance.</span></span></p>
<h3><span class="koboSpan" id="kobo.167.1">Microsoft Cost Management</span></h3>
<p><span class="koboSpan" id="kobo.168.1">When working with data</span><a id="_idIndexMarker341"/><span class="koboSpan" id="kobo.169.1"> governance, one of the goals could be to optimize your cloud usage and spend. </span><span class="koboSpan" id="kobo.169.2">To monitor and get recommendations, you can use Microsoft Cost Management. </span><span class="koboSpan" id="kobo.169.3">This is free for Azure subscriptions, but it can be used to monitor other clouds. </span><span class="koboSpan" id="kobo.169.4">In the latter case, you might need to check what the management </span><span class="No-Break"><span class="koboSpan" id="kobo.170.1">costs are.</span></span></p>
<p><span class="koboSpan" id="kobo.171.1">Azure cost management includes reporting on cost and usage, multiple categorization options, creating usage budgets, and the ability to set alerts on </span><span class="No-Break"><span class="koboSpan" id="kobo.172.1">forecasted costs.</span></span></p>
<p><span class="koboSpan" id="kobo.173.1">Let us see some examples </span><a id="_idIndexMarker342"/><span class="koboSpan" id="kobo.174.1">of how to use </span><span class="No-Break"><span class="koboSpan" id="kobo.175.1">the service:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.176.1">In the next figure, you can see the </span><strong class="bold"><span class="koboSpan" id="kobo.177.1">Cost analysis</span></strong><span class="koboSpan" id="kobo.178.1"> blade of </span><strong class="bold"><span class="koboSpan" id="kobo.179.1">Cost Management</span></strong><span class="koboSpan" id="kobo.180.1">. </span><span class="koboSpan" id="kobo.180.2">Some features are still in preview at the time of writing, but it gives us a good idea of what the subscriptions and each </span><span class="No-Break"><span class="koboSpan" id="kobo.181.1">resource cost.</span></span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer072">
<span class="koboSpan" id="kobo.182.1"><img alt="Figure 4.1 – A Cost Management overview" src="image/B21076_04_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.183.1">Figure 4.1 – A Cost Management overview</span></p>
<ul>
<li><span class="koboSpan" id="kobo.184.1">Here, we can create reports by resource, service, or even time period. </span><span class="koboSpan" id="kobo.184.2">These reports are customizable and provide a graphic representation of the actual and forecasted cost of each billing period, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.185.1">following figure:</span></span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer073">
<span class="koboSpan" id="kobo.186.1"><img alt="Figure 4.2 – Cost analysis" src="image/B21076_04_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.187.1">Figure 4.2 – Cost analysis</span></p>
<ul>
<li><span class="koboSpan" id="kobo.188.1">You can create alerts to </span><a id="_idIndexMarker343"/><span class="koboSpan" id="kobo.189.1">detect anomalies or based on recommendations very easily in the </span><strong class="bold"><span class="koboSpan" id="kobo.190.1">Cost alerts</span></strong><span class="koboSpan" id="kobo.191.1"> menu. </span><span class="koboSpan" id="kobo.191.2">Once you click </span><strong class="bold"><span class="koboSpan" id="kobo.192.1">Add</span></strong><span class="koboSpan" id="kobo.193.1"> and fill in the fields, you have your alert ready. </span><span class="koboSpan" id="kobo.193.2">You will receive email alerts every time </span><span class="No-Break"><span class="koboSpan" id="kobo.194.1">something happens.</span></span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer074">
<span class="koboSpan" id="kobo.195.1"><img alt="Figure 4.3 – Create alert rule" src="image/B21076_04_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.196.1">Figure 4.3 – Create alert rule</span></p>
<ul>
<li><span class="koboSpan" id="kobo.197.1">If you want an alert based on a budget, you will need to create it through the </span><strong class="bold"><span class="koboSpan" id="kobo.198.1">Budgets</span></strong><span class="koboSpan" id="kobo.199.1"> menu. </span><span class="koboSpan" id="kobo.199.2">Once you set a budget, you can create alerts based on usage or forecasted usage so that you are always up to date, ensuring that you will never go above your budget. </span><span class="koboSpan" id="kobo.199.3">The</span><a id="_idIndexMarker344"/><span class="koboSpan" id="kobo.200.1"> process has </span><span class="No-Break"><span class="koboSpan" id="kobo.201.1">two steps:</span></span><ol><li class="upper-roman"><span class="koboSpan" id="kobo.202.1">First, you create a </span><strong class="bold"><span class="koboSpan" id="kobo.203.1">budget amount</span></strong><span class="koboSpan" id="kobo.204.1">. </span><span class="koboSpan" id="kobo.204.2">You get a graph with information about your past usage to help you decide what the approximate budget should be if you do not already have a </span><span class="No-Break"><span class="koboSpan" id="kobo.205.1">predefined amount.</span></span></li></ol></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer075">
<span class="koboSpan" id="kobo.206.1"><img alt="Figure 4.4 – Create budget" src="image/B21076_04_04.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.207.1">Figure 4.4 – Create budget</span></p>
<ol>
<li class="upper-roman" value="2"><span class="koboSpan" id="kobo.208.1">The second step is to set </span><strong class="bold"><span class="koboSpan" id="kobo.209.1">Alert conditions</span></strong><span class="koboSpan" id="kobo.210.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.211.1">Alert recipients</span></strong><span class="koboSpan" id="kobo.212.1">. </span><span class="koboSpan" id="kobo.212.2">The alerts are either on the actual amount or the forecasted amount, which helps you get notified before you go over a certain threshold and plan accordingly. </span><span class="koboSpan" id="kobo.212.3">This is </span><span class="No-Break"><span class="koboSpan" id="kobo.213.1">shown here:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer076">
<span class="koboSpan" id="kobo.214.1"><img alt="Figure 4.5 – Create budget alerts" src="image/B21076_04_05.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.215.1">Figure 4.5 – Create budget alerts</span></p>
<p><span class="koboSpan" id="kobo.216.1">You can also work with the Azure Advisor recommendations to find usage and cost best practices for the services you use for your subscription. </span><span class="koboSpan" id="kobo.216.2">Generally, any information that can optimize cloud usage </span><a id="_idIndexMarker345"/><span class="koboSpan" id="kobo.217.1">should be part of your </span><span class="No-Break"><span class="koboSpan" id="kobo.218.1">organization’s governance.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.219.1">Azure Advisor cos</span><a href="https://learn.microsoft.com/en-us/azure/advisor/advisor-reference-cost-recommendations"><span class="koboSpan" id="kobo.220.1">t recommendations</span></a></p>
<p class="callout"><a href="https://learn.microsoft.com/en-us/azure/advisor/advisor-reference-cost-recommendations"><span class="koboSpan" id="kobo.221.1">At https://learn.microsoft.com/en-us/azure/advisor/advisor-reference</span></a><span class="koboSpan" id="kobo.222.1">-cost-recommendations, you can find some cost recommendations for different services. </span><span class="koboSpan" id="kobo.222.2">However, they will not be shown in the </span><strong class="bold"><span class="koboSpan" id="kobo.223.1">Advisor recommendation</span></strong><span class="koboSpan" id="kobo.224.1"> blade if you have not deployed </span><span class="No-Break"><span class="koboSpan" id="kobo.225.1">these services.</span></span></p>
<h3><span class="koboSpan" id="kobo.226.1">Microsoft Purview</span></h3>
<p><strong class="bold"><span class="koboSpan" id="kobo.227.1">Microsoft Purview</span></strong><span class="koboSpan" id="kobo.228.1"> is a data governance, risk, and compliance solution designed to help organizations manage and govern their data assets across various sources and platforms. </span><span class="koboSpan" id="kobo.228.2">Its features apply</span><a id="_idIndexMarker346"/><span class="koboSpan" id="kobo.229.1"> both to Azure and </span><strong class="bold"><span class="koboSpan" id="kobo.230.1">Microsoft 365</span></strong><span class="koboSpan" id="kobo.231.1">, and you can use it to protect sensitive data between different clouds, apps, and devices and</span><a id="_idIndexMarker347"/><span class="koboSpan" id="kobo.232.1"> identify and manage </span><span class="No-Break"><span class="koboSpan" id="kobo.233.1">regulatory compliance.</span></span></p>
<p><span class="koboSpan" id="kobo.234.1">Microsoft Purview offers several key features to </span><a id="_idIndexMarker348"/><span class="koboSpan" id="kobo.235.1">support data governance. </span><span class="koboSpan" id="kobo.235.2">The basis of this support is the </span><strong class="bold"><span class="koboSpan" id="kobo.236.1">Data Map</span></strong><span class="koboSpan" id="kobo.237.1">. </span><span class="koboSpan" id="kobo.237.2">Purview provides a data map feature that helps organizations visualize and understand the relationships and characteristics of their data assets. </span><span class="koboSpan" id="kobo.237.3">The data map in Purview represents a graphical representation of the data landscape within an organization, including data sources, connections, </span><span class="No-Break"><span class="koboSpan" id="kobo.238.1">and metadata.</span></span></p>
<p><span class="koboSpan" id="kobo.239.1">On top of the Data Map, you will find many apps for </span><span class="No-Break"><span class="koboSpan" id="kobo.240.1">different purposes:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.241.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.242.1">Data Catalog</span></strong><span class="koboSpan" id="kobo.243.1"> app finds data </span><a id="_idIndexMarker349"/><span class="koboSpan" id="kobo.244.1">sources by searching your data and helping </span><span class="No-Break"><span class="koboSpan" id="kobo.245.1">classify them</span></span></li>
<li><span class="koboSpan" id="kobo.246.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.247.1">Data Estate Insights</span></strong><span class="koboSpan" id="kobo.248.1"> app</span><a id="_idIndexMarker350"/><span class="koboSpan" id="kobo.249.1"> helps you find out what kinds of data you have and where </span><span class="No-Break"><span class="koboSpan" id="kobo.250.1">it is</span></span></li>
<li><span class="koboSpan" id="kobo.251.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.252.1">Data Sharing</span></strong><span class="koboSpan" id="kobo.253.1"> app helps you</span><a id="_idIndexMarker351"/><span class="koboSpan" id="kobo.254.1"> secure your data between partners </span><span class="No-Break"><span class="koboSpan" id="kobo.255.1">and customers</span></span></li>
<li><span class="koboSpan" id="kobo.256.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.257.1">Data Policy</span></strong><span class="koboSpan" id="kobo.258.1"> assists with </span><span class="No-Break"><span class="koboSpan" id="kobo.259.1">access </span></span><span class="No-Break"><a id="_idIndexMarker352"/></span><span class="No-Break"><span class="koboSpan" id="kobo.260.1">provisioning</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.261.1">Microsoft Purview integrates with various Azure services, such as Azure Data Factory and Azure SQL Database, to provide end-to-end data governance capabilities. </span><span class="koboSpan" id="kobo.261.2">It leverages Azure’s security and</span><a id="_idIndexMarker353"/><span class="koboSpan" id="kobo.262.1"> compliance features to ensure data protection and regulatory compliance, and any sensitive data discovered is </span><a id="_idIndexMarker354"/><span class="koboSpan" id="kobo.263.1">shared with </span><strong class="bold"><span class="koboSpan" id="kobo.264.1">Microsoft Defender for Cloud</span></strong><span class="koboSpan" id="kobo.265.1">. </span><span class="koboSpan" id="kobo.265.2">By using Purview, you can establish</span><a id="_idIndexMarker355"/><span class="koboSpan" id="kobo.266.1"> a comprehensive data governance framework to improve data visibility, control, and compliance. </span><span class="koboSpan" id="kobo.266.2">It helps to address challenges related to data sprawl, data privacy, and regulatory requirements by providing a centralized platform to manage and govern data </span><span class="No-Break"><span class="koboSpan" id="kobo.267.1">assets effectively.</span></span></p>
<p><span class="koboSpan" id="kobo.268.1">Data governance is very important, so after we have identified where sensitive data is, we will see how to work with it securely with Azure </span><span class="No-Break"><span class="koboSpan" id="kobo.269.1">Machine Learning.</span></span></p>
<p><span class="koboSpan" id="kobo.270.1">Let us start with the storage and retrieval </span><span class="No-Break"><span class="koboSpan" id="kobo.271.1">of data.</span></span></p>
<h1 id="_idParaDest-103"><a id="_idTextAnchor104"/><span class="koboSpan" id="kobo.272.1">Storing and retrieving data in Azure Machine Learning</span></h1>
<p><span class="koboSpan" id="kobo.273.1">The first task is storing and </span><a id="_idIndexMarker356"/><span class="koboSpan" id="kobo.274.1">retrieving data in Azure Machine Learning. </span><span class="koboSpan" id="kobo.274.2">You </span><a id="_idIndexMarker357"/><span class="koboSpan" id="kobo.275.1">can bring data into Machine Learning in a multitude of ways. </span><span class="koboSpan" id="kobo.275.2">That includes anything from your local machine, a source on the internet, or even cloud-based storage. </span><span class="koboSpan" id="kobo.275.3">In this section, we will explore all </span><span class="No-Break"><span class="koboSpan" id="kobo.276.1">those concepts.</span></span></p>
<p><span class="koboSpan" id="kobo.277.1">Let us see how to work </span><span class="No-Break"><span class="koboSpan" id="kobo.278.1">with datastores.</span></span></p>
<h2 id="_idParaDest-104"><a id="_idTextAnchor105"/><span class="koboSpan" id="kobo.279.1">Connecting datastores</span></h2>
<p><span class="koboSpan" id="kobo.280.1">As we mentioned in the Azure Machine Learning introduction in </span><a href="B21076_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.281.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.282.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.283.1">datastores</span></strong><span class="koboSpan" id="kobo.284.1"> serve as a </span><em class="italic"><span class="koboSpan" id="kobo.285.1">reference</span></em><span class="koboSpan" id="kobo.286.1"> to an existing </span><a id="_idIndexMarker358"/><span class="koboSpan" id="kobo.287.1">storage service, whether that is a storage account or a database. </span><span class="koboSpan" id="kobo.287.2">If you already have a reference or a connection to your data, this is not mandatory, as you can connect external sources as well, but connecting datastores has many benefits. </span><span class="koboSpan" id="kobo.287.3">Firstly, you</span><a id="_idIndexMarker359"/><span class="koboSpan" id="kobo.288.1"> have a common way to connect different data sources to your workspace without the need to add credential information anywhere in your scripts or your code, which is a best practice in terms of security. </span><span class="koboSpan" id="kobo.288.2">It is easier when you are working with a team to have the same reference available for your data sources that everyone can reuse. </span><span class="koboSpan" id="kobo.288.3">And, of course, this offers a common straightforward way to use APIs that can work with different </span><span class="No-Break"><span class="koboSpan" id="kobo.289.1">storage types.</span></span></p>
<p><span class="koboSpan" id="kobo.290.1">When you create a datastore, you can use different authentication methods. </span><span class="koboSpan" id="kobo.290.2">It can be either credential-based or identity-based. </span><span class="koboSpan" id="kobo.290.3">Credential-based means using a service principal or a </span><strong class="bold"><span class="koboSpan" id="kobo.291.1">shared access signature</span></strong><span class="koboSpan" id="kobo.292.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.293.1">SAS</span></strong><span class="koboSpan" id="kobo.294.1">) token for </span><a id="_idIndexMarker360"/><span class="koboSpan" id="kobo.295.1">authentication, while with identity-based authentication, you will use your Microsoft Entra ID identity or a managed identity. </span><span class="koboSpan" id="kobo.295.2">In any case, the connection and authentication information is stored in the workspace. </span><span class="koboSpan" id="kobo.295.3">We are not going to focus much on this now, as we will analyze all the different types of authentication options that you can use together with machine learning in the </span><span class="No-Break"><span class="koboSpan" id="kobo.296.1">next chapters.</span></span></p>
<p><span class="koboSpan" id="kobo.297.1">Every workspace has four built-in datastores, which are used by Azure Machine Learning as the system storage. </span><span class="koboSpan" id="kobo.297.2">There are two Azure Blob Storage datastores and two Azure Files datastores under the </span><strong class="bold"><span class="koboSpan" id="kobo.298.1">Datastores</span></strong><span class="koboSpan" id="kobo.299.1"> tab in the </span><strong class="bold"><span class="koboSpan" id="kobo.300.1">Data</span></strong><span class="koboSpan" id="kobo.301.1"> menu. </span><span class="koboSpan" id="kobo.301.2">You can see what the default is or set another one as the default datastore </span><span class="No-Break"><span class="koboSpan" id="kobo.302.1">from here.</span></span></p>
<p><span class="koboSpan" id="kobo.303.1">The list will look something similar to the </span><span class="No-Break"><span class="koboSpan" id="kobo.304.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer077">
<span class="koboSpan" id="kobo.305.1"><img alt="Figure 4.6 – Built-in datastores" src="image/B21076_04_06.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.306.1">Figure 4.6 – Built-in datastores</span></p>
<p><span class="koboSpan" id="kobo.307.1">If you want to create a new datastore, the currently available options are the ones shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.308.1">following </span></span><span class="No-Break"><a id="_idIndexMarker361"/></span><span class="No-Break"><span class="koboSpan" id="kobo.309.1">screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer078">
<span class="koboSpan" id="kobo.310.1"><img alt="Figure 4.7 – The Create datastore options" src="image/B21076_04_07.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.311.1">Figure 4.7 – The Create datastore options</span></p>
<p><span class="koboSpan" id="kobo.312.1">You can create datastores from the Azure portal, the </span><strong class="bold"><span class="koboSpan" id="kobo.313.1">command-line interface</span></strong><span class="koboSpan" id="kobo.314.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.315.1">CLI</span></strong><span class="koboSpan" id="kobo.316.1">), or the </span><a id="_idIndexMarker362"/><span class="koboSpan" id="kobo.317.1">Python </span><strong class="bold"><span class="koboSpan" id="kobo.318.1">software development kit</span></strong><span class="koboSpan" id="kobo.319.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.320.1">SDK</span></strong><span class="koboSpan" id="kobo.321.1">). </span><span class="koboSpan" id="kobo.321.2">Currently, it looks like you can only add datastores from a subscription you have access to. </span><span class="koboSpan" id="kobo.321.3">You can add or remove datastores at any time. </span><span class="koboSpan" id="kobo.321.4">Remember that they are only a connection to the service that has the data. </span><span class="koboSpan" id="kobo.321.5">So, creating or removing a datastore from the workspace does not actually delete or create any services and is not mandatory. </span><span class="koboSpan" id="kobo.321.6">Also, we still need to make sure all of the connected services are secured using their own features and best practices. </span><span class="koboSpan" id="kobo.321.7">What we will use in our experiments are </span><span class="No-Break"><span class="koboSpan" id="kobo.322.1">data assets.</span></span></p>
<p><span class="koboSpan" id="kobo.323.1">Let us see how we can</span><a id="_idIndexMarker363"/><span class="koboSpan" id="kobo.324.1"> create data assets in the workspace, either from datastores we have added to our workspace or from </span><span class="No-Break"><span class="koboSpan" id="kobo.325.1">external services.</span></span></p>
<h2 id="_idParaDest-105"><a id="_idTextAnchor106"/><span class="koboSpan" id="kobo.326.1">Adding data assets</span></h2>
<p><span class="koboSpan" id="kobo.327.1">In Azure Machine Learning, data assets refer to the several types of data that can be used and managed within the machine learning workflows. </span><span class="koboSpan" id="kobo.327.2">If datastores are a connection to the data source, then</span><a id="_idIndexMarker364"/><span class="koboSpan" id="kobo.328.1"> data assets are a reference to the actual data. </span><span class="koboSpan" id="kobo.328.2">You can create a data asset from datastores, local files, public URLs, or Azure </span><span class="No-Break"><span class="koboSpan" id="kobo.329.1">Open Datasets.</span></span></p>
<p><span class="koboSpan" id="kobo.330.1">Using data assets together with datastores, if possible, provides us with several security and data governance benefits. </span><span class="koboSpan" id="kobo.330.2">You can collaborate using the same data asset with your team and access it through your training code seamlessly, without looking for different credentials or paths. </span><span class="koboSpan" id="kobo.330.3">Data assets support versioning, so any updates or</span><a id="_idTextAnchor107"/><span class="koboSpan" id="kobo.331.1"> data processing can be saved as a new version and reused. </span><span class="koboSpan" id="kobo.331.2">Pipelines or jobs that use the data are recorded in the workspace, so any changes or updates can </span><span class="No-Break"><span class="koboSpan" id="kobo.332.1">be audited.</span></span></p>
<p><span class="koboSpan" id="kobo.333.1">Once you create a data asset version, it is </span><strong class="bold"><span class="koboSpan" id="kobo.334.1">immutable</span></strong><span class="koboSpan" id="kobo.335.1">, which means it cannot be deleted or edited. </span><span class="koboSpan" id="kobo.335.2">So, if a new version of the data asset does not provide the expected results, you can always revert to a previous one to work with. </span><span class="koboSpan" id="kobo.335.3">You can use different asset types from older Azure Machine Learning APIs, but it is recommended to work with the latest version, which is the Azure ML </span><span class="No-Break"><span class="koboSpan" id="kobo.336.1">v2 APIs.</span></span></p>
<p><span class="koboSpan" id="kobo.337.1">In v2, there are the following three main types of data assets you </span><span class="No-Break"><span class="koboSpan" id="kobo.338.1">can use:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.339.1">URI file</span></strong><span class="koboSpan" id="kobo.340.1">: The URI file </span><a id="_idIndexMarker365"/><span class="koboSpan" id="kobo.341.1">points to a </span><span class="No-Break"><span class="koboSpan" id="kobo.342.1">specific file</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.343.1">URI folder</span></strong><span class="koboSpan" id="kobo.344.1">: The URI folder points to </span><a id="_idIndexMarker366"/><span class="No-Break"><span class="koboSpan" id="kobo.345.1">a folder</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.346.1">MLTable</span></strong><span class="koboSpan" id="kobo.347.1">: An MLTable points</span><a id="_idIndexMarker367"/><span class="koboSpan" id="kobo.348.1"> to a folder or file and includes a schema to read as </span><span class="No-Break"><span class="koboSpan" id="kobo.349.1">tabular data</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.350.1">The choice depends on the available data you have and the type of ML project and algorithm </span><span class="No-Break"><span class="koboSpan" id="kobo.351.1">you choose.</span></span></p>
<p><span class="koboSpan" id="kobo.352.1">Regardless of the data type, you have three available sources, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.353.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer079">
<span class="koboSpan" id="kobo.354.1"><img alt="Figure 4.8 – Creating a datastore options" src="image/B21076_04_08.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.355.1">Figure 4.8 – Creating a datastore options</span></p>
<p><span class="koboSpan" id="kobo.356.1">If you are choosing </span><strong class="bold"><span class="koboSpan" id="kobo.357.1">From a URI</span></strong><span class="koboSpan" id="kobo.358.1"> as your source, ensure the endpoint is public and not protected by any credentials. </span><span class="koboSpan" id="kobo.358.2">If you want to choose an existing datastore, you can choose the </span><strong class="bold"><span class="koboSpan" id="kobo.359.1">From Azure Storage</span></strong><span class="koboSpan" id="kobo.360.1"> option. </span><span class="koboSpan" id="kobo.360.2">Then, if the datastore you want is not pre-created, you can create it right through </span><a id="_idIndexMarker368"/><span class="koboSpan" id="kobo.361.1">the wizard and find the file path in the list. </span><span class="koboSpan" id="kobo.361.2">You can also upload your own files to the datastore of your choice by choosing the </span><strong class="bold"><span class="koboSpan" id="kobo.362.1">From local </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.363.1">files</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.364.1"> option.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.365.1">Best practice</span></p>
<p class="callout"><span class="koboSpan" id="kobo.366.1">Use datastores in combination with data assets where supported. </span><span class="koboSpan" id="kobo.366.2">Datastores provide security, as credentials are stored in the workspace and not in your code. </span><span class="koboSpan" id="kobo.366.3">With data assets, you gain capabilities such as versioning, reproducibility, auditability, and lineage, which are all part of data governance </span><span class="No-Break"><span class="koboSpan" id="kobo.367.1">best practices.</span></span></p>
<p><span class="koboSpan" id="kobo.368.1">Now that we know how to connect data to the workspace, let us ensure that it is as secure as possible, both when it is not used and </span><span class="No-Break"><span class="koboSpan" id="kobo.369.1">in transfer.</span></span></p>
<h1 id="_idParaDest-106"><a id="_idTextAnchor108"/><span class="koboSpan" id="kobo.370.1">Encrypting and securing data</span></h1>
<p><span class="koboSpan" id="kobo.371.1">As we saw in the previous</span><a id="_idIndexMarker369"/><span class="koboSpan" id="kobo.372.1"> section, Azure Machine Learning relies on external services to pull in data as data assets. </span><span class="koboSpan" id="kobo.372.2">Depending on the service that hosts the data, there are different security and data protection features we can use, such as encryption, data classification, and </span><span class="No-Break"><span class="koboSpan" id="kobo.373.1">data masking.</span></span></p>
<p><span class="koboSpan" id="kobo.374.1">In this section, we will explore encryption and classification features that relate to </span><span class="No-Break"><span class="koboSpan" id="kobo.375.1">our data.</span></span></p>
<h2 id="_idParaDest-107"><a id="_idTextAnchor109"/><span class="koboSpan" id="kobo.376.1">Encryption at rest</span></h2>
<p><span class="koboSpan" id="kobo.377.1">Encryption at rest refers to the </span><a id="_idIndexMarker370"/><span class="koboSpan" id="kobo.378.1">practice of encrypting data while it is stored or </span><em class="italic"><span class="koboSpan" id="kobo.379.1">at rest</span></em><span class="koboSpan" id="kobo.380.1"> in a storage medium, such as cloud storage. </span><span class="koboSpan" id="kobo.380.2">The purpose of encryption at rest</span><a id="_idIndexMarker371"/><span class="koboSpan" id="kobo.381.1"> is to protect data from unauthorized access if the storage medium is compromised, lost, </span><span class="No-Break"><span class="koboSpan" id="kobo.382.1">or stolen.</span></span></p>
<p><span class="koboSpan" id="kobo.383.1">When data is encrypted at rest, it is transformed into an unreadable form using an encryption algorithm and a cryptographic key. </span><span class="koboSpan" id="kobo.383.2">Only authorized users or processes with the proper decryption key can access and decrypt the data to its original readable form. </span><span class="koboSpan" id="kobo.383.3">Without the decryption key, the encrypted data remains unintelligible and useless to </span><span class="No-Break"><span class="koboSpan" id="kobo.384.1">unauthorized individuals.</span></span></p>
<p><span class="koboSpan" id="kobo.385.1">In the context of Azure services, Azure provides built-in encryption at rest for many of its storage services, such as Azure Blob Storage, Azure Data Lake Storage, and other services such as the relational databases used by Azure Machine Learning. </span><span class="koboSpan" id="kobo.385.2">These services automatically encrypt data at rest using industry-standard encryption algorithms. </span><span class="koboSpan" id="kobo.385.3">Azure manages the encryption keys and ensures the security of the </span><span class="No-Break"><span class="koboSpan" id="kobo.386.1">encrypted data.</span></span></p>
<p><span class="koboSpan" id="kobo.387.1">Implementing encryption at rest not only provides security but also forms a part of organizational compliance with data protection regulations, strengthens data security, and mitigates the risk of data breaches or unauthorized access to </span><span class="No-Break"><span class="koboSpan" id="kobo.388.1">sensitive information.</span></span></p>
<p><span class="koboSpan" id="kobo.389.1">Let us explore those features in data services that work with Azure </span><span class="No-Break"><span class="koboSpan" id="kobo.390.1">Machine Learning.</span></span></p>
<h3><span class="koboSpan" id="kobo.391.1">Azure Storage</span></h3>
<p><span class="koboSpan" id="kobo.392.1">When we create an Azure Machine Learning workspace, you also create an Azure storage account. </span><span class="koboSpan" id="kobo.392.2">The service stores snapshots, outputs, and logs in a default storage account that is tied to the Azure </span><a id="_idIndexMarker372"/><span class="koboSpan" id="kobo.393.1">Machine Learning workspace and your subscription, and it is used as the workspace filesystem. </span><span class="koboSpan" id="kobo.393.2">It also serves to host the training data that is used by training compute targets. </span><span class="koboSpan" id="kobo.393.3">It is mounted to those compute targets as a remote filesystem during the training process. </span><span class="koboSpan" id="kobo.393.4">Finally, if you choose to upload files, they are stored in your chosen datastore, which is usually an Azure Blob storage. </span><span class="koboSpan" id="kobo.393.5">So, knowing how to secure your Azure Blob storage account is necessary. </span><span class="koboSpan" id="kobo.393.6">The same applies to Azure Data Lake Storage, as it is essentially an upgraded Blob </span><span class="No-Break"><span class="koboSpan" id="kobo.394.1">Storage account.</span></span></p>
<p><span class="koboSpan" id="kobo.395.1">An Azure storage account is encrypted at rest using Microsoft-managed keys. </span><span class="koboSpan" id="kobo.395.2">In this case, Microsoft online services automatically generate and securely store the encryption keys used. </span><span class="koboSpan" id="kobo.395.3">If you want to control and use your own encryption key, open the </span><strong class="bold"><span class="koboSpan" id="kobo.396.1">Encryption</span></strong><span class="koboSpan" id="kobo.397.1"> menu in the </span><strong class="bold"><span class="koboSpan" id="kobo.398.1">Storage account</span></strong><span class="koboSpan" id="kobo.399.1"> blade</span><a id="_idIndexMarker373"/><span class="koboSpan" id="kobo.400.1"> and switch to the encryption options with </span><strong class="bold"><span class="koboSpan" id="kobo.401.1">Customer-managed keys</span></strong><span class="koboSpan" id="kobo.402.1">, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.403.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer080">
<span class="koboSpan" id="kobo.404.1"><img alt="Figure 4.9 – Creating datastore options" src="image/B21076_04_09.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.405.1">Figure 4.9 – Creating datastore options</span></p>
<p><span class="koboSpan" id="kobo.406.1">Enter the key URI where your key is hosted and </span><span class="No-Break"><span class="koboSpan" id="kobo.407.1">click </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.408.1">Save</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.409.1">.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.410.1">Best practice – customer-managed keys and Azure Key Vault</span></p>
<p class="callout"><span class="koboSpan" id="kobo.411.1">Use the Azure Key Vault service to generate and store encryption keys. </span><span class="koboSpan" id="kobo.411.2">For more information about the service, follow this </span><span class="No-Break"><span class="koboSpan" id="kobo.412.1">link: </span></span><a href="https://learn.microsoft.com/en-us/azure/key-vault/general/overview"><span class="No-Break"><span class="koboSpan" id="kobo.413.1">https://learn.microsoft.com/en-us/azure/key-vault/general/overview</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.414.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.415.1">The data store connected to the Azure Blob storage uses an account access key for access. </span><span class="koboSpan" id="kobo.415.2">Each storage account has two </span><a id="_idIndexMarker374"/><span class="koboSpan" id="kobo.416.1">access keys. </span><span class="koboSpan" id="kobo.416.2">Find yours on the </span><strong class="bold"><span class="koboSpan" id="kobo.417.1">Access keys</span></strong><span class="koboSpan" id="kobo.418.1"> menu of your </span><strong class="bold"><span class="koboSpan" id="kobo.419.1">Storage </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.420.1">account</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.421.1"> blade:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer081">
<span class="koboSpan" id="kobo.422.1"><img alt="Figure 4.10 – Storage account access keys" src="image/B21076_04_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.423.1">Figure 4.10 – Storage account access keys</span></p>
<p><span class="koboSpan" id="kobo.424.1">You can use either key for authentication in Azure Machine Learning. </span><span class="koboSpan" id="kobo.424.2">These keys must be rotated at frequent intervals for security. </span><span class="koboSpan" id="kobo.424.3">This is how the process might look like when rotating access keys. </span><span class="koboSpan" id="kobo.424.4">This</span><a id="_idIndexMarker375"/><span class="koboSpan" id="kobo.425.1"> process applies to any services that authenticate using </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.426.1">access keys</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.427.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer082">
<span class="koboSpan" id="kobo.428.1"><img alt="Figure 4.11 – The key rotation process" src="image/B21076_04_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.429.1">Figure 4.11 – The key rotation process</span></p>
<p><span class="koboSpan" id="kobo.430.1">You can also use an SAS token to authenticate to the storage account; however, be careful, as SAS tokens expire, and after the expiration date, you will not be able to have access to that storage account to work with Azure </span><span class="No-Break"><span class="koboSpan" id="kobo.431.1">Machine Learning.</span></span></p>
<p><span class="koboSpan" id="kobo.432.1">To create an account-level SAS</span><a id="_idIndexMarker376"/><span class="koboSpan" id="kobo.433.1"> token, go to the </span><strong class="bold"><span class="koboSpan" id="kobo.434.1">Shared access signature</span></strong><span class="koboSpan" id="kobo.435.1"> menu in the </span><strong class="bold"><span class="koboSpan" id="kobo.436.1">Storage account</span></strong><span class="koboSpan" id="kobo.437.1"> blade and generate a token, as </span><span class="No-Break"><span class="koboSpan" id="kobo.438.1">shown here:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer083">
<span class="koboSpan" id="kobo.439.1"><img alt="Figure 4.12 – Generating an account SAS" src="image/B21076_04_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.440.1">Figure 4.12 – Generating an account SAS</span></p>
<p><span class="koboSpan" id="kobo.441.1">Be mindful to include proper permissions and service visibility. </span><span class="koboSpan" id="kobo.441.2">Once you are happy with your choices, you can go back to the Azure Machine Learning Studio, open the datastore, and by clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.442.1">Update authentication</span></strong><span class="koboSpan" id="kobo.443.1"> button, you can update the datastore with the </span><span class="No-Break"><span class="koboSpan" id="kobo.444.1">new credentials.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer084">
<span class="koboSpan" id="kobo.445.1"><img alt="Figure 4.13 – Updating the authentication credentials in the workspace" src="image/B21076_04_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.446.1">Figure 4.13 – Updating the authentication credentials in the workspace</span></p>
<p><span class="koboSpan" id="kobo.447.1">However, the storage</span><a id="_idIndexMarker377"/><span class="koboSpan" id="kobo.448.1"> account is not our only datastore. </span><span class="koboSpan" id="kobo.448.2">Let us discuss more options and their features, starting with </span><span class="No-Break"><span class="koboSpan" id="kobo.449.1">Azure databases.</span></span></p>
<h3><span class="koboSpan" id="kobo.450.1">Azure databases</span></h3>
<p><span class="koboSpan" id="kobo.451.1">There are a lot of database options</span><a id="_idIndexMarker378"/><span class="koboSpan" id="kobo.452.1"> in Azure. </span><span class="koboSpan" id="kobo.452.2">Most of those services offer similar security options that can be leveraged to secure data adhering to encryption and other data </span><span class="No-Break"><span class="koboSpan" id="kobo.453.1">best practices.</span></span></p>
<p><span class="koboSpan" id="kobo.454.1">Most services for relational databases use encryption similarly to an Azure storage account – for example, Azure Database for PostgreSQL and Azure Cosmos DB, the no-SQL multi-modal database. </span><span class="koboSpan" id="kobo.454.2">These services have encryption enabled by default, using Microsoft-managed keys, and you can always choose to use your own key by enabling the </span><strong class="bold"><span class="koboSpan" id="kobo.455.1">Customer-managed keys</span></strong><span class="koboSpan" id="kobo.456.1"> option and adding the key to the Azure Blob Storage account. </span><span class="koboSpan" id="kobo.456.2">Azure Database for MySQL also offers encryption, using the FIPS 140-2 validated cryptographic module for storage encryption of data at rest. </span><span class="koboSpan" id="kobo.456.3">Depending on the service, you might find more security features, such as the ones we have in the Azure </span><span class="No-Break"><span class="koboSpan" id="kobo.457.1">SQL Database.</span></span></p>
<p><span class="koboSpan" id="kobo.458.1">Let us take a closer look at the Azure SQL database </span><span class="No-Break"><span class="koboSpan" id="kobo.459.1">security features.</span></span></p>
<h4><span class="koboSpan" id="kobo.460.1">Azure SQL Database</span></h4>
<p><span class="koboSpan" id="kobo.461.1">Azure SQL Database offers several </span><a id="_idIndexMarker379"/><span class="koboSpan" id="kobo.462.1">encryption features to protect data at rest and during transit. </span><span class="koboSpan" id="kobo.462.2">When it comes to encryption, Azure SQL Database offers </span><span class="No-Break"><span class="koboSpan" id="kobo.463.1">multiple </span></span><span class="No-Break"><a id="_idIndexMarker380"/></span><span class="No-Break"><span class="koboSpan" id="kobo.464.1">options.</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.465.1">Transparent data encryption</span></strong><span class="koboSpan" id="kobo.466.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.467.1">TDE</span></strong><span class="koboSpan" id="kobo.468.1">): Transparent data encryption is a built-in feature in Azure SQL Database that automatically</span><a id="_idIndexMarker381"/><span class="koboSpan" id="kobo.469.1"> encrypts data at rest. </span><span class="koboSpan" id="kobo.469.2">TDE encrypts database files (e.g., data, backups, and log files) using a</span><a id="_idIndexMarker382"/><span class="koboSpan" id="kobo.470.1"> symmetric </span><strong class="bold"><span class="koboSpan" id="kobo.471.1">database encryption key</span></strong><span class="koboSpan" id="kobo.472.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.473.1">DEK</span></strong><span class="koboSpan" id="kobo.474.1">). </span><span class="koboSpan" id="kobo.474.2">TDE helps protect data from </span><span class="No-Break"><span class="koboSpan" id="kobo.475.1">unauthorized access.</span></span></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.476.1">Best practice – TDE in Azure SQL Database</span></p>
<p class="callout"><span class="koboSpan" id="kobo.477.1">With the TDE and </span><strong class="bold"><span class="koboSpan" id="kobo.478.1">Bring Your Own Key</span></strong><span class="koboSpan" id="kobo.479.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.480.1">BYOK</span></strong><span class="koboSpan" id="kobo.481.1">) option, you can take control of the TDE by using the Azure Key Vault</span><a id="_idIndexMarker383"/><span class="koboSpan" id="kobo.482.1"> service and the </span><a id="_idIndexMarker384"/><span class="koboSpan" id="kobo.483.1">customer-managed keys </span><span class="No-Break"><span class="koboSpan" id="kobo.484.1">for encryption.</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.485.1">Always Encrypted</span></strong><span class="koboSpan" id="kobo.486.1">: Always Encrypted is a feature that allows you to encrypt sensitive data such as credit card information within Azure SQL Database, both at rest and during transit. </span><span class="koboSpan" id="kobo.486.2">With Always Encrypted, the data remains encrypted within the database, and only </span><a id="_idIndexMarker385"/><span class="koboSpan" id="kobo.487.1">authorized applications and users with the necessary encryption keys can access and decrypt the data. </span><span class="koboSpan" id="kobo.487.2">The encryption and decryption of data occur on the client side, ensuring that the sensitive data is never exposed in plain text to the database engine </span><span class="No-Break"><span class="koboSpan" id="kobo.488.1">or administrators.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.489.1">Azure SQL Database also provides data governance and protection features for data masking and classification to help protect sensitive data and manage data privacy. </span><span class="koboSpan" id="kobo.489.2">Let us review these features in Azure </span><span class="No-Break"><span class="koboSpan" id="kobo.490.1">SQL Database:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.491.1">Data Classification</span></strong><span class="koboSpan" id="kobo.492.1">: Data Classification</span><a id="_idIndexMarker386"/><span class="koboSpan" id="kobo.493.1"> is a feature in Azure SQL Database that helps you identify and label sensitive data within your database. </span><span class="koboSpan" id="kobo.493.2">It enables you to classify columns containing sensitive information, based on</span><a id="_idIndexMarker387"/><span class="koboSpan" id="kobo.494.1"> predefined or custom-defined classification labels. </span><span class="koboSpan" id="kobo.494.2">Azure SQL Database provides built-in classification labels for common types of sensitive data, such as credit card numbers, social security numbers, or email addresses. </span><span class="koboSpan" id="kobo.494.3">You can then use the Data Masking feature to protect this information from </span><span class="No-Break"><span class="koboSpan" id="kobo.495.1">unauthorized access.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.496.1">Data Masking</span></strong><span class="koboSpan" id="kobo.497.1">: Data Masking is a feature that allows you to obfuscate sensitive data within Azure</span><a id="_idIndexMarker388"/><span class="koboSpan" id="kobo.498.1"> SQL Database. </span><span class="koboSpan" id="kobo.498.2">It helps protect sensitive information from unauthorized access by replacing the original values with masked values in query results. </span><span class="koboSpan" id="kobo.498.3">The masking rules include partial masking (for example, showing only the last four digits of a credit card number) or full masking (for example, replacing the original value with a constant value or random characters or stars). </span><span class="koboSpan" id="kobo.498.4">Data Masking operates at the database level and can be configured for specific columns containing sensitive data. </span><span class="koboSpan" id="kobo.498.5">This allows you to control the level of obfuscation applied to different types of </span><span class="No-Break"><span class="koboSpan" id="kobo.499.1">sensitive data.</span></span></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.500.1">Best practice: Azure SQL Database data classification and Azure Purview</span></p>
<p class="callout"><span class="koboSpan" id="kobo.501.1">You can use the Data Classification feature in Azure SQL Database together with Azure Purview to discover, classify, and manage data across various data sources in </span><span class="No-Break"><span class="koboSpan" id="kobo.502.1">your organization.</span></span></p>
<h3><span class="koboSpan" id="kobo.503.1">Data integration Services</span></h3>
<p><span class="koboSpan" id="kobo.504.1">Azure Machine Learning works with many data integration services, such as Azure Data Factory, Azure Databricks, and Azure Synapse Analytics. </span><span class="koboSpan" id="kobo.504.2">Azure Data Factory allows you to create data-driven workflows for data integration and data transformation at scale. </span><span class="koboSpan" id="kobo.504.3">It is a serverless and code-free </span><a id="_idIndexMarker389"/><span class="koboSpan" id="kobo.505.1">platform for </span><strong class="bold"><span class="koboSpan" id="kobo.506.1">extract-transform-load</span></strong><span class="koboSpan" id="kobo.507.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.508.1">ETL</span></strong><span class="koboSpan" id="kobo.509.1">), </span><strong class="bold"><span class="koboSpan" id="kobo.510.1">extract-load-transform</span></strong><span class="koboSpan" id="kobo.511.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.512.1">ELT</span></strong><span class="koboSpan" id="kobo.513.1">), and data integration. </span><span class="koboSpan" id="kobo.513.2">Its pipelines can be used for data</span><a id="_idIndexMarker390"/><span class="koboSpan" id="kobo.514.1"> ingestion, so you can use them with Azure Machine Learning. </span><span class="koboSpan" id="kobo.514.2">Azure Databricks is a data analytics platform that runs </span><a id="_idIndexMarker391"/><span class="koboSpan" id="kobo.515.1">data science workloads based on Apache Spark. </span><span class="koboSpan" id="kobo.515.2">Models created in Databricks can then be deployed in Azure Machine Learning. </span><span class="koboSpan" id="kobo.515.3">Both of these services offer built-in encryption with Microsoft-managed or </span><span class="No-Break"><span class="koboSpan" id="kobo.516.1">customer-managed keys.</span></span></p>
<p><span class="koboSpan" id="kobo.517.1">Azure Synapse Analytics is a limitless analytics service that brings together big data and data warehousing. </span><span class="koboSpan" id="kobo.517.2">We can use it to ingest, prepare, manage, and serve data for business intelligence and support ways of implementing machine learning and integrating with Azure Machine Learning. </span><span class="koboSpan" id="kobo.517.3">Depending on the type of pool you use, there are different encryption options. </span><span class="koboSpan" id="kobo.517.4">For dedicated SQL pools, you can use TDE, whereas for the Azure Synapse SQL serverless pool or the</span><a id="_idIndexMarker392"/><span class="koboSpan" id="kobo.518.1"> Apache Spark pool, since they are based on </span><strong class="bold"><span class="koboSpan" id="kobo.519.1">Azure Data Lake Gen2</span></strong><span class="koboSpan" id="kobo.520.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.521.1">ALDS Gen2</span></strong><span class="koboSpan" id="kobo.522.1">) or Azure Blob Storage, you can leverage the storage account </span><span class="No-Break"><span class="koboSpan" id="kobo.523.1">security options.</span></span></p>
<p><span class="koboSpan" id="kobo.524.1">We saw how multiple services handle encryption at rest, but data is meant to be communicated between systems, so let us talk about encryption </span><span class="No-Break"><span class="koboSpan" id="kobo.525.1">in transit.</span></span></p>
<h2 id="_idParaDest-108"><a id="_idTextAnchor110"/><span class="koboSpan" id="kobo.526.1">Encryption in transit</span></h2>
<p><span class="koboSpan" id="kobo.527.1">Encryption in transit refers to </span><a id="_idIndexMarker393"/><span class="koboSpan" id="kobo.528.1">the practice of encrypting data as it is being transmitted over a network or communication channel from one location to another. </span><span class="koboSpan" id="kobo.528.2">It ensures that the data remains secure and protected from </span><span class="No-Break"><span class="koboSpan" id="kobo.529.1">unauthorized access.</span></span></p>
<p><span class="koboSpan" id="kobo.530.1">When it comes to Azure Machine Learning, encryption in transit is a vital aspect of securing data and communication between different components of </span><span class="No-Break"><span class="koboSpan" id="kobo.531.1">the platform.</span></span></p>
<p><span class="koboSpan" id="kobo.532.1">Azure Machine Learning enforces the use of secure</span><a id="_idIndexMarker394"/><span class="koboSpan" id="kobo.533.1"> communication protocols, such as </span><strong class="bold"><span class="koboSpan" id="kobo.534.1">HTTPS</span></strong><span class="koboSpan" id="kobo.535.1"> (short for </span><strong class="bold"><span class="koboSpan" id="kobo.536.1">Hypertext Transfer Protocol Secure</span></strong><span class="koboSpan" id="kobo.537.1">) or </span><strong class="bold"><span class="koboSpan" id="kobo.538.1">TLS</span></strong><span class="koboSpan" id="kobo.539.1"> (short for </span><strong class="bold"><span class="koboSpan" id="kobo.540.1">Transport Layer Security</span></strong><span class="koboSpan" id="kobo.541.1">), for data transmission. </span><span class="koboSpan" id="kobo.541.2">These protocols establish an</span><a id="_idIndexMarker395"/><span class="koboSpan" id="kobo.542.1"> encrypted connection between the client applications, Azure Machine Learning services, and other components, ensuring that data transmitted over a network is encrypted and cannot be easily intercepted </span><a id="_idIndexMarker396"/><span class="koboSpan" id="kobo.543.1">or </span><span class="No-Break"><span class="koboSpan" id="kobo.544.1">tampered with.</span></span></p>
<p><span class="koboSpan" id="kobo.545.1">By implementing encryption at rest and in transit, along with other security features in Azure Machine Learning and all its related services, we can protect sensitive data and ensure its privacy and integrity during transmission. </span><span class="koboSpan" id="kobo.545.2">Then, we can prevent unauthorized access or interference, enhancing the overall security posture of your machine learning projects. </span><span class="koboSpan" id="kobo.545.3">This is only step one, however. </span><span class="koboSpan" id="kobo.545.4">As with any security matter, we can hope for the best, but we should always be prepared for </span><span class="No-Break"><span class="koboSpan" id="kobo.546.1">the worst.</span></span></p>
<p><span class="koboSpan" id="kobo.547.1">Let us explore in the next section how we can deploy guardrails to ensure we can recover data after </span><span class="No-Break"><span class="koboSpan" id="kobo.548.1">an incident.</span></span></p>
<h1 id="_idParaDest-109"><a id="_idTextAnchor111"/><span class="koboSpan" id="kobo.549.1">Exploring backup and recovery</span></h1>
<p><span class="koboSpan" id="kobo.550.1">Backup and recovery are closely related concepts and are both needed so that we can safeguard our data. </span><span class="koboSpan" id="kobo.550.2">In this section, we will explain backup and recovery options for our workspace and the data connected to them. </span><span class="koboSpan" id="kobo.550.3">We will also talk about how to approach situations where backup options are not available. </span><span class="koboSpan" id="kobo.550.4">However, before we get started, let us remember what backup and </span><span class="No-Break"><span class="koboSpan" id="kobo.551.1">recovery are.</span></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.552.1">Backup</span></strong><span class="koboSpan" id="kobo.553.1"> refers to the process of</span><a id="_idIndexMarker397"/><span class="koboSpan" id="kobo.554.1"> creating copies or replicas of data and storing them in a separate location or medium. </span><span class="koboSpan" id="kobo.554.2">The purpose of backups is to provide a means of recovering data if there is data loss, accidental deletion, system failures, disasters, or other unforeseen events. </span><span class="koboSpan" id="kobo.554.3">Backups serve as a safety net, allowing you to restore data to its previous state or a specific point in time. </span><span class="koboSpan" id="kobo.554.4">Backups can be performed at different levels, such as full backups (copying all data), incremental backups (copying only the changes since the last backup), or differential backups (copying the changes since the last full backup). </span><span class="koboSpan" id="kobo.554.5">Different backup strategies and schedules can be implemented based on an organization’s requirements and data </span><span class="No-Break"><span class="koboSpan" id="kobo.555.1">protection needs.</span></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.556.1">Recovery</span></strong><span class="koboSpan" id="kobo.557.1">, on the other hand, refers to the process of restoring data from backups after a data loss event or any other incident </span><a id="_idIndexMarker398"/><span class="koboSpan" id="kobo.558.1">that results in the unavailability or corruption of data. </span><span class="koboSpan" id="kobo.558.2">The recovery process involves accessing the backup copies and returning the data to its original state, or a consistent state, before the data loss occurred. </span><span class="koboSpan" id="kobo.558.3">Recovery can take different forms, depending on the nature of the data loss and the backup strategy in place. </span><span class="koboSpan" id="kobo.558.4">It may involve restoring individual files or directories, recovering an entire system or database, or even restoring data to a different location </span><span class="No-Break"><span class="koboSpan" id="kobo.559.1">or environment.</span></span></p>
<p><span class="koboSpan" id="kobo.560.1">Let us explore our backup and recovery options in the </span><span class="No-Break"><span class="koboSpan" id="kobo.561.1">next sections.</span></span></p>
<h2 id="_idParaDest-110"><a id="_idTextAnchor112"/><span class="koboSpan" id="kobo.562.1">Reviewing backup options for your datastores</span></h2>
<p><span class="koboSpan" id="kobo.563.1">Since Azure Storage serves as a</span><a id="_idIndexMarker399"/><span class="koboSpan" id="kobo.564.1"> filesystem for a workspace, it is the most important thing that we need to secure and backup. </span><span class="koboSpan" id="kobo.564.2">We need to remember that the workspace does not extend any protection to its datastores, so we need to learn the basic features of </span><span class="No-Break"><span class="koboSpan" id="kobo.565.1">each one.</span></span></p>
<p><span class="koboSpan" id="kobo.566.1">Before we dive into the features of each service, we can take another step to protect our resources from accidental deletion by using </span><span class="No-Break"><span class="koboSpan" id="kobo.567.1">resource locks.</span></span></p>
<h3><span class="koboSpan" id="kobo.568.1">Azure resource locks</span></h3>
<p><strong class="bold"><span class="koboSpan" id="kobo.569.1">Azure resource locks</span></strong><span class="koboSpan" id="kobo.570.1"> allow users to </span><a id="_idIndexMarker400"/><span class="koboSpan" id="kobo.571.1">apply restrictions on Azure resources to prevent accidental deletion or modification, providing an additional layer of protection and governance for critical resources. </span><span class="koboSpan" id="kobo.571.2">There </span><a id="_idIndexMarker401"/><span class="koboSpan" id="kobo.572.1">are two types of locks to protect against delete and read-only instances. </span><span class="koboSpan" id="kobo.572.2">The process is extremely simple. </span><span class="koboSpan" id="kobo.572.3">You create a lock on the resource, the resource group, or the subscription, and nobody can make any changes unless they have the appropriate permissions to remove the lock temporarily in order to </span><span class="No-Break"><span class="koboSpan" id="kobo.573.1">make changes.</span></span></p>
<p><span class="koboSpan" id="kobo.574.1">To create a resource lock, find the </span><strong class="bold"><span class="koboSpan" id="kobo.575.1">Locks</span></strong><span class="koboSpan" id="kobo.576.1"> menu on your desired resource and click the </span><strong class="bold"><span class="koboSpan" id="kobo.577.1">Add</span></strong><span class="koboSpan" id="kobo.578.1"> button, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.579.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer085">
<span class="koboSpan" id="kobo.580.1"><img alt="Figure 4.14 – Adding a resource lock" src="image/B21076_04_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.581.1">Figure 4.14 – Adding a resource lock</span></p>
<p><span class="koboSpan" id="kobo.582.1">Add a lock name, lock </span><a id="_idIndexMarker402"/><span class="koboSpan" id="kobo.583.1">type, and some notes if you want. </span><span class="koboSpan" id="kobo.583.2">As soon as you hit </span><strong class="bold"><span class="koboSpan" id="kobo.584.1">OK</span></strong><span class="koboSpan" id="kobo.585.1">, the resources cannot be deleted or changed, depending on the Lock type. </span><span class="koboSpan" id="kobo.585.2">We have read-only and delete</span><a id="_idIndexMarker403"/> <span class="No-Break"><span class="koboSpan" id="kobo.586.1">locks available.</span></span></p>
<p><span class="koboSpan" id="kobo.587.1">Azure Resource locks are not exactly a backup solution, and they only protect the resources, not the data, so let us review </span><span class="No-Break"><span class="koboSpan" id="kobo.588.1">our options.</span></span></p>
<h3><span class="koboSpan" id="kobo.589.1">Azure Storage</span></h3>
<p><span class="koboSpan" id="kobo.590.1">There are multiple levels to protect </span><a id="_idIndexMarker404"/><span class="koboSpan" id="kobo.591.1">data in the storage account that we use for ML. </span><span class="koboSpan" id="kobo.591.2">There are the blob containers, the blobs themselves, and the </span><span class="No-Break"><span class="koboSpan" id="kobo.592.1">file shares.</span></span></p>
<p><span class="koboSpan" id="kobo.593.1">Some of the following features apply to one or more levels of the storage account. </span><span class="koboSpan" id="kobo.593.2">Let us explore </span><span class="No-Break"><span class="koboSpan" id="kobo.594.1">each feature:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.595.1">Immutability policies</span></strong><span class="koboSpan" id="kobo.596.1">: At the container level and the blob level, you can enable immutability policies that help you enforce a time period where your data is protected from modifications or deletions. </span><span class="koboSpan" id="kobo.596.2">Immutability policies are not only for data protection but also provide auditing and monitoring. </span><span class="koboSpan" id="kobo.596.3">They should be part of your governance process, as they can ensure compliance with legal and compliance</span><a id="_idIndexMarker405"/><span class="koboSpan" id="kobo.597.1"> requirements and </span><span class="No-Break"><span class="koboSpan" id="kobo.598.1">data preservation.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.599.1">To enable immutability policies at the container level, open the chosen container blade in the storage account, and click on </span><strong class="bold"><span class="koboSpan" id="kobo.600.1">Access Policy</span></strong><span class="koboSpan" id="kobo.601.1">. </span><span class="koboSpan" id="kobo.601.2">In the </span><strong class="bold"><span class="koboSpan" id="kobo.602.1">Immutable Blob Storage</span></strong><span class="koboSpan" id="kobo.603.1"> section, click </span><strong class="bold"><span class="koboSpan" id="kobo.604.1">+ Add policy</span></strong><span class="koboSpan" id="kobo.605.1">. </span><span class="koboSpan" id="kobo.605.2">Choose </span><strong class="bold"><span class="koboSpan" id="kobo.606.1">Time-based retention</span></strong><span class="koboSpan" id="kobo.607.1"> in the </span><strong class="bold"><span class="koboSpan" id="kobo.608.1">Policy type</span></strong><span class="koboSpan" id="kobo.609.1"> dropdown, add the </span><em class="italic"><span class="koboSpan" id="kobo.610.1">days</span></em><span class="koboSpan" id="kobo.611.1"> where blobs cannot be modified, and </span><span class="No-Break"><span class="koboSpan" id="kobo.612.1">click </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.613.1">Save</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.614.1">.</span></span></p></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer086">
<span class="koboSpan" id="kobo.615.1"><img alt="Figure 4.15 – A new immutable storage policy" src="image/B21076_04_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.616.1">Figure 4.15 – A new immutable storage policy</span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.617.1">Soft delete</span></strong><span class="koboSpan" id="kobo.618.1">: At both the container and the blob level you can also enable a soft delete. </span><span class="koboSpan" id="kobo.618.2">Soft delete provides an additional layer of data protection by allowing you to recover deleted blobs or containers within a specified time frame, reducing the risk of accidental data loss. </span><span class="koboSpan" id="kobo.618.3">It is particularly useful in scenarios where data needs to be retained and recoverable, such as compliance requirements, accidental deletions, or data </span><span class="No-Break"><span class="koboSpan" id="kobo.619.1">recovery needs.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.620.1">To enable soft delete, go to the </span><strong class="bold"><span class="koboSpan" id="kobo.621.1">Data Protection</span></strong><span class="koboSpan" id="kobo.622.1"> section in the </span><strong class="bold"><span class="koboSpan" id="kobo.623.1">Storage account</span></strong><span class="koboSpan" id="kobo.624.1"> blade, and enable soft delete for blobs and containers by checking the corresponding box, as demonstrated in the following screenshot. </span><span class="koboSpan" id="kobo.624.2">Fill in the retention in days for each option, and </span><span class="No-Break"><span class="koboSpan" id="kobo.625.1">click </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.626.1">Save</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.627.1">.</span></span></p></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer087">
<span class="koboSpan" id="kobo.628.1"><img alt="Figure 4.16 – Enabling soft delete" src="image/B21076_04_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.629.1">Figure 4.16 – Enabling soft delete</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.630.1">To restore a blob, go to the container and enable the </span><strong class="bold"><span class="koboSpan" id="kobo.631.1">Show deleted</span></strong><span class="koboSpan" id="kobo.632.1"> blobs button. </span><span class="koboSpan" id="kobo.632.2">Then, choose</span><a id="_idIndexMarker406"/><span class="koboSpan" id="kobo.633.1"> the deleted blob, and select </span><strong class="bold"><span class="koboSpan" id="kobo.634.1">Undelete</span></strong><span class="koboSpan" id="kobo.635.1"> from the three-dot menu on </span><span class="No-Break"><span class="koboSpan" id="kobo.636.1">the right.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer088">
<span class="koboSpan" id="kobo.637.1"><img alt="Figure 4.17 – Restoring a blob" src="image/B21076_04_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.638.1">Figure 4.17 – Restoring a blob</span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.639.1">Point-in-time restore</span></strong><span class="koboSpan" id="kobo.640.1">: Containers and blobs also support point-in-time restore, meaning you can restore a blob or container to a previous state before it was deleted. </span><span class="koboSpan" id="kobo.640.2">It is useful in scenarios where an application or a system makes multiple deletes or </span><a id="_idIndexMarker407"/><span class="koboSpan" id="kobo.641.1">unintended changes, and it is difficult to find each individual file or container to restore. </span><span class="koboSpan" id="kobo.641.2">Backup is continuous in </span><span class="No-Break"><span class="koboSpan" id="kobo.642.1">this case.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.643.1">To enable point-in-time restore, go to the </span><strong class="bold"><span class="koboSpan" id="kobo.644.1">Data protection</span></strong><span class="koboSpan" id="kobo.645.1"> section in the </span><strong class="bold"><span class="koboSpan" id="kobo.646.1">Storage account</span></strong><span class="koboSpan" id="kobo.647.1"> blade, and enable point-in-time restore for containers by checking the corresponding box, as demonstrated in the next screenshot. </span><span class="koboSpan" id="kobo.647.2">Fill in the maximum restore point in days, and </span><span class="No-Break"><span class="koboSpan" id="kobo.648.1">click </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.649.1">Save</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.650.1">.</span></span></p></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer089">
<span class="koboSpan" id="kobo.651.1"><img alt="Figure 4.18 – Enabling a point-in-time restore" src="image/B21076_04_18.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.652.1">Figure 4.18 – Enabling a point-in-time restore</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.653.1">To restore a container to a previous point in</span><a id="_idIndexMarker408"/><span class="koboSpan" id="kobo.654.1"> time, select the container and click on the </span><strong class="bold"><span class="koboSpan" id="kobo.655.1">Restore containers</span></strong><span class="koboSpan" id="kobo.656.1"> button. </span><span class="koboSpan" id="kobo.656.2">Then, choose a previous point in time. </span><span class="koboSpan" id="kobo.656.3">This action cannot be undone, so ensure you </span><span class="No-Break"><span class="koboSpan" id="kobo.657.1">choose wisely.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer090">
<span class="koboSpan" id="kobo.658.1"><img alt="Figure 4.19 – Restoring to a previous point in time" src="image/B21076_04_19.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.659.1">Figure 4.19 – Restoring to a previous point in time</span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.660.1">Vaulted backup (operational and vaulted)</span></strong><span class="koboSpan" id="kobo.661.1">: Vaulted backup uses object replication to replicate blobs to an external backup vault. </span><span class="koboSpan" id="kobo.661.2">This process happens asynchronously and requires an external Azure Backup vault resource. </span><span class="koboSpan" id="kobo.661.3">To restore the objects, we can start a restore operation. </span><span class="koboSpan" id="kobo.661.4">Backups are either operational (continuous) or periodic by creating a </span><span class="No-Break"><span class="koboSpan" id="kobo.662.1">custom policy.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.663.1">To enable vaulted backups, go to the </span><strong class="bold"><span class="koboSpan" id="kobo.664.1">Data protection</span></strong><span class="koboSpan" id="kobo.665.1"> section in the </span><strong class="bold"><span class="koboSpan" id="kobo.666.1">Storage account</span></strong><span class="koboSpan" id="kobo.667.1"> blade, and click the </span><strong class="bold"><span class="koboSpan" id="kobo.668.1">Enable Azure Backup for blobs</span></strong><span class="koboSpan" id="kobo.669.1"> checkbox. </span><span class="koboSpan" id="kobo.669.2">If you already have a backup vault, you can choose it in the dropdown; otherwise, choose to create </span><a id="_idIndexMarker409"/><span class="koboSpan" id="kobo.670.1">and fill in the </span><strong class="bold"><span class="koboSpan" id="kobo.671.1">Vault name</span></strong><span class="koboSpan" id="kobo.672.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.673.1">Resource group</span></strong><span class="koboSpan" id="kobo.674.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.675.1">Backup storage redundancy</span></strong><span class="koboSpan" id="kobo.676.1"> options, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.677.1">following screenshot.</span></span></p></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer091">
<span class="koboSpan" id="kobo.678.1"><img alt="Figure 4.20 – Enabling Azure Backup" src="image/B21076_04_20.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.679.1">Figure 4.20 – Enabling Azure Backup</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.680.1">Then, choose the backup policy. </span><span class="koboSpan" id="kobo.680.2">If you have one, you can select it; otherwise, click </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.681.1">Create new</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.682.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer092">
<span class="koboSpan" id="kobo.683.1"><img alt="Figure 4.21 – Creating or choosing a backup vault" src="image/B21076_04_21.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.684.1">Figure 4.21 – Creating or choosing a backup vault</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.685.1">Provide the policy with </span><a id="_idIndexMarker410"/><span class="koboSpan" id="kobo.686.1">a name, and ensure that the </span><strong class="bold"><span class="koboSpan" id="kobo.687.1">Datasource type</span></strong><span class="koboSpan" id="kobo.688.1"> option is </span><strong class="bold"><span class="koboSpan" id="kobo.689.1">Azure Blobs</span></strong><span class="koboSpan" id="kobo.690.1">. </span><span class="koboSpan" id="kobo.690.2">Then, </span><span class="No-Break"><span class="koboSpan" id="kobo.691.1">click </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.692.1">Next</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.693.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer093">
<span class="koboSpan" id="kobo.694.1"><img alt="Figure 4.22 – Creating a policy" src="image/B21076_04_22.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.695.1">Figure 4.22 – Creating a policy</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.696.1">Set up the schedule and retention for both the operational and </span><span class="No-Break"><span class="koboSpan" id="kobo.697.1">vaulted backups.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer094">
<span class="koboSpan" id="kobo.698.1"><img alt="Figure 4.23 – Configuring an operational backup" src="image/B21076_04_23.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.699.1">Figure 4.23 – Configuring an operational backup</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.700.1">For this example, we</span><a id="_idIndexMarker411"/><span class="koboSpan" id="kobo.701.1"> are using a weekly backup schedule, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.702.1">following screenshot.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer095">
<span class="koboSpan" id="kobo.703.1"><img alt="Figure 4.24 – Configuring a vaulted backup" src="image/B21076_04_24.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.704.1">Figure 4.24 – Configuring a vaulted backup</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.705.1">Finally, we can filter the</span><a id="_idIndexMarker412"/><span class="koboSpan" id="kobo.706.1"> containers included in this backup if necessary, by clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.707.1">Select containers</span></strong><span class="koboSpan" id="kobo.708.1"> link and then </span><span class="No-Break"><span class="koboSpan" id="kobo.709.1">clicking </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.710.1">Save</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.711.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer096">
<span class="koboSpan" id="kobo.712.1"><img alt="Figure 4.25 – Choosing a policy and filter containers" src="image/B21076_04_25.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.713.1">Figure 4.25 – Choosing a policy and filter containers</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.714.1">To restore, start a </span><strong class="bold"><span class="koboSpan" id="kobo.715.1">Restore</span></strong><span class="koboSpan" id="kobo.716.1"> operation </span><a id="_idIndexMarker413"/><span class="koboSpan" id="kobo.717.1">from the </span><strong class="bold"><span class="koboSpan" id="kobo.718.1">Overview</span></strong><span class="koboSpan" id="kobo.719.1"> blade of the </span><span class="No-Break"><span class="koboSpan" id="kobo.720.1">backup vault.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer097">
<span class="koboSpan" id="kobo.721.1"><img alt="Figure 4.26 – Starting a restore operation" src="image/B21076_04_26.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.722.1">Figure 4.26 – Starting a restore operation</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.723.1">Soft delete and cost management</span></p>
<p class="callout"><span class="koboSpan" id="kobo.724.1">Soft deleted data continues to occupy storage space and is billed accordingly during the retention period. </span><span class="koboSpan" id="kobo.724.2">However, storage costs are usually lower compared to active data storage. </span><span class="koboSpan" id="kobo.724.3">After the retention period is over, the soft deleted data is automatically purged, and you will no longer have any storage costs </span><span class="No-Break"><span class="koboSpan" id="kobo.725.1">for it.</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.726.1">Object replication</span></strong><span class="koboSpan" id="kobo.727.1">: Object replication essentially copies data from a container or the whole storage account to </span><a id="_idIndexMarker414"/><span class="koboSpan" id="kobo.728.1">another storage account in the same or a different region. </span><span class="koboSpan" id="kobo.728.2">That way, you can keep two copies of your data if something happens. </span><span class="koboSpan" id="kobo.728.3">It is a great way to back up your data without downloading it into another medium and </span><span class="No-Break"><span class="koboSpan" id="kobo.729.1">reuploading it.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.730.1">To set it up, click on the </span><strong class="bold"><span class="koboSpan" id="kobo.731.1">Object replication</span></strong><span class="koboSpan" id="kobo.732.1"> section of the </span><strong class="bold"><span class="koboSpan" id="kobo.733.1">Storage account</span></strong><span class="koboSpan" id="kobo.734.1"> blade, and then click on the </span><strong class="bold"><span class="koboSpan" id="kobo.735.1">Create replication rules</span></strong><span class="koboSpan" id="kobo.736.1"> button. </span><span class="koboSpan" id="kobo.736.2">Before you proceed, you need to have already created a second storage account to replicate the data and the necessary </span><span class="No-Break"><span class="koboSpan" id="kobo.737.1">destination containers.</span></span></p></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer098">
<span class="koboSpan" id="kobo.738.1"><img alt="Figure 4.27 – Adding object replication" src="image/B21076_04_27.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.739.1">Figure 4.27 – Adding object replication</span></p>
<p class="list-inset"><span class="koboSpan" id="kobo.740.1">On the </span><strong class="bold"><span class="koboSpan" id="kobo.741.1">Create replication</span></strong><span class="koboSpan" id="kobo.742.1"> rules screen, select the destination of the storage account, create a source-to-destination container mapping so that objects are replicated to their corresponding containers, and then click </span><strong class="bold"><span class="koboSpan" id="kobo.743.1">Save</span></strong><span class="koboSpan" id="kobo.744.1">, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.745.1">following screenshot.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer099">
<span class="koboSpan" id="kobo.746.1"><img alt="Figure 4.28 – Choose a target storage account and container mapping" src="image/B21076_04_28.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.747.1">Figure 4.28 – Choose a target storage account and container mapping</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.748.1">Best practices</span></p>
<p class="callout"><span class="koboSpan" id="kobo.749.1">Out of the aforementioned options, the best combination for Azure Machine Learning would be object replication in a storage account, located in a different region or vaulted backups. </span><span class="koboSpan" id="kobo.749.2">These options protect us from regional disasters. </span><span class="koboSpan" id="kobo.749.3">Additionally, use soft delete enabled with delete resource locks to prevent resource and unintended data deletions. </span><span class="koboSpan" id="kobo.749.4">Immutability rules might interfere with the Azure Machine Learning workspace functions, so I would not recommend it, with the exception of </span><span class="No-Break"><span class="koboSpan" id="kobo.750.1">legal holds.</span></span></p>
<p><span class="koboSpan" id="kobo.751.1">The preceding options</span><a id="_idIndexMarker415"/><span class="koboSpan" id="kobo.752.1"> are fine; however, you can also use </span><strong class="source-inline"><span class="koboSpan" id="kobo.753.1">AzCopy</span></strong><span class="koboSpan" id="kobo.754.1">, a cross-platform command-line tool, or data integration services such as the Azure Data Factory to accomplish the same goal. </span><span class="koboSpan" id="kobo.754.2">Keep in mind that, in this case, you are essentially duplicating your data in another storage account, which is accompanied by </span><span class="No-Break"><span class="koboSpan" id="kobo.755.1">extra costs.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.756.1">AzCopy</span></p>
<p class="callout"><strong class="source-inline"><span class="koboSpan" id="kobo.757.1">AzCopy</span></strong><span class="koboSpan" id="kobo.758.1"> is a command-line tool provided by Microsoft that allows you to transfer data to and from Azure storage services. </span><span class="koboSpan" id="kobo.758.2">It is commonly used for large-scale data migration scenarios, as well as to transfer data between different Azure storage accounts or Azure regions. </span><span class="koboSpan" id="kobo.758.3">The tool is available for Windows, Linux, and macOS, and it can be executed from the command line or i</span><a href="https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-v10"><span class="koboSpan" id="kobo.759.1">ntegrated into scripts or automation workflows. </span><span class="koboSpan" id="kobo.759.2">To start using this tool, vis</span></a><span class="koboSpan" id="kobo.760.1">it this </span><span class="No-Break"><span class="koboSpan" id="kobo.761.1">link: </span></span><span class="No-Break"><span class="koboSpan" id="kobo.762.1">https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-v10</span></span><span class="No-Break"><span class="koboSpan" id="kobo.763.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.764.1">If you are using relational databases or any other data services, they too have their individual backup and recovery options, so make sure you review everything. </span><span class="koboSpan" id="kobo.764.2">Most services do have defaults </span><a id="_idIndexMarker416"/><span class="koboSpan" id="kobo.765.1">enabled, so you won’t be completely unprotected, but others require more configuration than others to </span><span class="No-Break"><span class="koboSpan" id="kobo.766.1">be secured.</span></span></p>
<p><span class="koboSpan" id="kobo.767.1">Let us see how to recover the most important part of your ML project, the Azure Machine Learning </span><span class="No-Break"><span class="koboSpan" id="kobo.768.1">workspace itself.</span></span></p>
<h2 id="_idParaDest-111"><a id="_idTextAnchor113"/><span class="koboSpan" id="kobo.769.1">Recovering your workspace</span></h2>
<p><span class="koboSpan" id="kobo.770.1">External services might not be the only thing that you need to be able to recover. </span><span class="koboSpan" id="kobo.770.2">Perhaps the most important thing is the Azure Machine Learning studio workspace. </span><span class="koboSpan" id="kobo.770.3">The workspace serves as a</span><a id="_idIndexMarker417"/><span class="koboSpan" id="kobo.771.1"> central point where you manage everything, from your data assets to your running jobs and publishing the models to be consumed </span><span class="No-Break"><span class="koboSpan" id="kobo.772.1">by applications.</span></span></p>
<p><span class="koboSpan" id="kobo.773.1">The Azure Machine Learning workspace supports soft delete by default. </span><span class="koboSpan" id="kobo.773.2">This feature gives you the ability to recover your workspace data after accidental deletions. </span><span class="koboSpan" id="kobo.773.3">However, in this case, it does not work similarly to an Azure storage account. </span><span class="koboSpan" id="kobo.773.4">When you create and work in your workspace, there are a lot of components that connect to the workspace. </span><span class="koboSpan" id="kobo.773.5">Not everything can be soft-deleted; some of those items are permanently deleted, and there’s nothing you can do to recover them. </span><span class="koboSpan" id="kobo.773.6">Among the recoverable items are the run history, models, data, environments, components, notebooks, pipelines, data labeling, and datastores. </span><span class="koboSpan" id="kobo.773.7">Any queued or running jobs, role assignments, compute, inference endpoints, and any linked Databricks workspaces are hard-deleted. </span><span class="koboSpan" id="kobo.773.8">This means that these items cannot be recovered even if you try to recover the </span><span class="No-Break"><span class="koboSpan" id="kobo.774.1">soft-deleted workspace.</span></span></p>
<p><span class="koboSpan" id="kobo.775.1">Soft delete has a default retention period of 14 days. </span><span class="koboSpan" id="kobo.775.2">After those 14 days, any remaining data is purged from the system, and the workspace can no longer be recovered. </span><span class="koboSpan" id="kobo.775.3">However, even between those 14 days, a full recovery isn’t guaranteed. </span><span class="koboSpan" id="kobo.775.4">You might be able to get a lot of your data and notebooks back, but you still might need to recreate any jobs or anything else that you </span><span class="No-Break"><span class="koboSpan" id="kobo.776.1">had running.</span></span></p>
<p><span class="koboSpan" id="kobo.777.1">The process of recovering the workspace is simple. </span><span class="koboSpan" id="kobo.777.2">All you need to do is go to the Azure Machine Learning category, and from the top of the page, you will find the </span><strong class="bold"><span class="koboSpan" id="kobo.778.1">Recently deleted</span></strong><span class="koboSpan" id="kobo.779.1"> button to view workspaces that were soft-deleted and are within the retention period. </span><span class="koboSpan" id="kobo.779.2">From there, you can</span><a id="_idIndexMarker418"/><span class="koboSpan" id="kobo.780.1"> choose to either recover or permanently delete a workspace, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.781.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer100">
<span class="koboSpan" id="kobo.782.1"><img alt="Figure 4.29 – Recovering or deleting a workspace" src="image/B21076_04_29.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.783.1">Figure 4.29 – Recovering or deleting a workspace</span></p>
<p><span class="koboSpan" id="kobo.784.1">You can always override the default behavior of soft-deleting the workspace and choose to permanently delete it when you first attempt to delete the service, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.785.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer101">
<span class="koboSpan" id="kobo.786.1"><img alt="Figure 4.30 – Adding a resource lock" src="image/B21076_04_30.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.787.1">Figure 4.30 – Adding a resource lock</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.788.1">Best practice – Azure Machine Learning workspace recovery</span></p>
<p class="callout"><span class="koboSpan" id="kobo.789.1">Use resource locks to protect your resources from accidental deletions or modifications, instead of relying on soft delete for recovery. </span><span class="koboSpan" id="kobo.789.2">Even if the recovery is a success, you will still have lost a lot of data </span><span class="No-Break"><span class="koboSpan" id="kobo.790.1">and configurations.</span></span></p>
<p><span class="koboSpan" id="kobo.791.1">Although data backup is </span><a id="_idIndexMarker419"/><span class="koboSpan" id="kobo.792.1">very important, it is only one of the preventative steps we need to take to protect our assets. </span><span class="koboSpan" id="kobo.792.2">We also need to know how to recover data and its associated resources as part of our security baseline, a process that must be tested at specific intervals so that we are prepared if the need arises. </span><span class="koboSpan" id="kobo.792.3">Testing the recovery process will also help us measure how long it takes for a full recovery and what the impact would be on everyday operations. </span><span class="koboSpan" id="kobo.792.4">If any downtime, for example, is not acceptable, we might need to utilize </span><span class="No-Break"><span class="koboSpan" id="kobo.793.1">other measures.</span></span></p>
<h1 id="_idParaDest-112"><a id="_idTextAnchor114"/><span class="koboSpan" id="kobo.794.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.795.1">Everything is based on data, so having a clear map of what data you have, where it is stored, how sensitive it is, and how to protect it should be your number one priority if you work with ML. </span><span class="koboSpan" id="kobo.795.2">So, while working with models and algorithms might be the most exciting part of ML, having a data governance and protection plan will save you from data-related issues. </span><span class="koboSpan" id="kobo.795.3">The CDMC framework is a very comprehensive strategy that you can use especially with cloud data, but as always, it is not the only option. </span><span class="koboSpan" id="kobo.795.4">Building your own data strategy policy is ultimately your decision, and the result will always be beneficial, depending on the industry and location you </span><span class="No-Break"><span class="koboSpan" id="kobo.796.1">belong to.</span></span></p>
<p><span class="koboSpan" id="kobo.797.1">As soon as you decide on a strategy, there are a lot of tools in Azure available for governance, such as Azure Policy, Azure Blueprints, Cost Management, and Microsoft Purview, each with its own benefits and limitations. </span><span class="koboSpan" id="kobo.797.2">As tools can come and go and data governance is not a one-off process, do not be afraid to start small and then add or improve over time as different </span><span class="No-Break"><span class="koboSpan" id="kobo.798.1">needs arise.</span></span></p>
<p><span class="koboSpan" id="kobo.799.1">Also, as exciting planning and strategizing sounds, starting a new project is the time to take action. </span><span class="koboSpan" id="kobo.799.2">Encrypting and securing data in Azure Machine Learning is a process affecting multiple services, and we need to leverage the benefits and features of each service to have a completely safe and </span><span class="No-Break"><span class="koboSpan" id="kobo.800.1">performant system.</span></span></p>
<p><span class="koboSpan" id="kobo.801.1">In this chapter, we only glimpsed at several connected data services and their security features. </span><span class="koboSpan" id="kobo.801.2">Backup and recovery options work in the same manner, and they need to be combined with the security and backup options of the Azure Machine Learning workspace. </span><span class="koboSpan" id="kobo.801.3">But it does not end here. </span><span class="koboSpan" id="kobo.801.4">We still have to cover security best practices in our network, infrastructure, DevOps, and so on. </span><span class="koboSpan" id="kobo.801.5">Before we can do that, let us go and see how we can extend our data protection to work with data privacy and responsible AI best practices in the </span><span class="No-Break"><span class="koboSpan" id="kobo.802.1">next chapter.</span></span></p>
</div>
</body></html>