- en: '8'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '8'
- en: Building Machine Learning Models with Power BI
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Power BI构建机器学习模型
- en: In [*Chapter 7*](B19500_07.xhtml#_idTextAnchor102) of this book, you built three
    queries in Power BI dataflows that will be used for ML in Power BI. FAA Wildlife
    Strike data was the source of that data, which you will use to build your Power
    BI ML models. Those queries are sets of features associated with reports of incidents
    in which an aircraft struck wildlife.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的[*第7章*](B19500_07.xhtml#_idTextAnchor102)中，你在Power BI数据流中构建了三个查询，这些查询将在Power
    BI中用于机器学习。FAA野生动物撞击数据是这些数据的来源，你将使用这些数据来构建你的Power BI机器学习模型。这些查询是与飞机撞击野生动物事件报告相关的特征集。
- en: In this chapter, you will build and train ML models using the queries created
    in [*Chapter 7*](B19500_07.xhtml#_idTextAnchor102). In [*Chapter 1*](B19500_01.xhtml#_idTextAnchor015),
    you determined that you would create a binary prediction model for predicting
    whether damage occurred, a general classification model to predict the size of
    the wildlife, and a regression model to predict the height from the ground associated
    with wildlife strikes that caused damage. At the end of this chapter, you will
    be ready to assess the results of the ML models you have built. We’ll do that
    in the following chapter.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将使用在[*第7章*](B19500_07.xhtml#_idTextAnchor102)中创建的查询构建和训练机器学习模型。在[*第1章*](B19500_01.xhtml#_idTextAnchor015)中，你确定将创建一个二进制预测模型来预测是否发生了损坏，一个用于预测野生动物大小的通用分类模型，以及一个回归模型来预测与造成损坏的野生动物撞击相关的高度。在本章结束时，你将准备好评估你构建的机器学习模型的结果。我们将在下一章中这样做。
- en: Technical requirements
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'You’ll need the following for this chapter:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要以下内容来完成本章：
- en: FAA Wildlife Strike data files from either the FAA website or the Packt GitHub
    site
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来自FAA网站或Packt GitHub网站的FAA野生动物撞击数据文件
- en: Power BI Pro license
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Power BI Pro许可证
- en: 'One of the following Power BI licensing options for access to Power BI dataflows:'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下任一Power BI许可证选项用于访问Power BI数据流：
- en: Power BI Premium
  id: totrans-9
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Power BI Premium
- en: Power BI Premium Per User
  id: totrans-10
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Power BI Premium按用户计费
- en: 'One of the following options for getting data into the Power BI cloud service:'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将数据导入Power BI云服务的以下任一选项：
- en: Microsoft OneDrive (with connectivity to the Power BI cloud service)
  id: totrans-12
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 微软OneDrive（与Power BI云服务连接）
- en: Microsoft Access and Power BI Gateway
  id: totrans-13
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 微软Access和Power BI网关
- en: Azure Data Lake (with connectivity to the Power BI cloud service)
  id: totrans-14
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Azure Data Lake（与Power BI云服务连接）
- en: Building and training a binary prediction ML model in Power BI
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Power BI中构建和训练二进制预测机器学习模型
- en: You’re finally ready to build and train your first ML model in Power BI! We
    will start with a binary prediction model to predict whether damage happened when
    wildlife struck an airplane. As discussed in [*Chapter 1*](B19500_01.xhtml#_idTextAnchor015),
    a binary prediction model will make a yes/no prediction for a given row of data
    containing columns that are the predictive features. The query that you built
    in [*Chapter 7*](B19500_07.xhtml#_idTextAnchor102) is in your **ML Queries** dataflow
    and is named **Predict Damage**.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 你终于准备好在Power BI中构建和训练你的第一个机器学习模型了！我们将从一个二进制预测模型开始，该模型将预测野生动物撞击飞机时是否发生了损坏。如[*第1章*](B19500_01.xhtml#_idTextAnchor015)中所述，二进制预测模型将对包含预测特征的列的给定数据行进行是/否的预测。你在[*第7章*](B19500_07.xhtml#_idTextAnchor102)中构建的查询位于你的**ML
    Queries**数据流中，并命名为**Predict Damage**。
- en: 'You''ll build your prediction model as follows:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 你将按照以下步骤构建你的预测模型：
- en: Create a new dataflow in your Power BI workspace by selecting **New** | **Dataflow**.
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过选择**新建** | **数据流**在你的Power BI工作区中创建一个新的数据流。
- en: Select **Link tables from** **other dataflows**.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**从其他数据流链接表**。
- en: Ensure you are signed in to your organizational account and select **Next**.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保你已登录到你的组织账户并选择**下一步**。
- en: Expand your Power BI workspace folder, expand the **ML Queries** dataflow, select
    **Predict Damage**, and click **Transform data**.
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开你的Power BI工作区文件夹，展开**ML Queries**数据流，选择**Predict Damage**，然后点击**转换数据**。
- en: Save and close the new dataflow.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存并关闭新的数据流。
- en: Name the new dataflow `Predict` `Damage ML`.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新的数据流命名为`Predict` `Damage ML`。
- en: Refresh the new dataflow.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 刷新新的数据流。
- en: Now you can begin building your binary prediction ML model in Power BI.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你可以在Power BI工作区中开始构建你的二进制预测机器学习模型。
- en: Click on the new dataflow, **Predict Damage ML**, from your workspace.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击你的工作区中的新数据流**Predict Damage ML**。
- en: Click on the ribbon header for **Machine** **learning models**.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击工具栏上的**机器学习模型**。
- en: 'Select **Get started**, as shown in the following screenshot:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择如图所示的**开始**：
- en: '![Figure 8.1 – Start an ML model from within a Power BI dataflow](img/B19500_08_001.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![图8.1 – 在Power BI数据流中启动ML模型](img/B19500_08_001.jpg)'
- en: Figure 8.1 – Start an ML model from within a Power BI dataflow
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.1 – 在Power BI数据流中启动ML模型
- en: Now, select the column of data that the ML model will predict. For your binary
    prediction model, you must select a column with two possible outcomes. The column
    named `Indicated Damage` within the `Predict Damage` table contains a `1` value
    when damage was reported for a wildlife strike and a `0` value when damage was
    not reported. Each row represents a unique wildlife strike event.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，选择ML模型将要预测的数据列。对于您的二进制预测模型，您必须选择一个有两个可能结果的数据列。在`预测损伤`表中的`指示损伤`列，当报告野生动物撞击时包含`1`值，当未报告损伤时包含`0`值。每一行代表一个独特的野生动物撞击事件。
- en: Select the `Predict` `Damage` table.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择`预测损伤`表。
- en: Select the `Indicated Damage`.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择`指示损伤`。
- en: 'Click **Next**. Your screen should look as follows:'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**下一步**。您的屏幕应该如下所示：
- en: '![Figure 8.2 – The table and outcome column for a binary prediction model are
    selected](img/B19500_08_002.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![图8.2 – 选择二进制预测模型的表格和结果列](img/B19500_08_002.jpg)'
- en: Figure 8.2 – The table and outcome column for a binary prediction model are
    selected
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.2 – 选择二进制预测模型的表格和结果列
- en: Power BI automatically recognizes that a `Indicated Damage` column. The `1`
    value indicates that damage was reported, and that is the prediction that is most
    interesting for the ML model. Damage is the less frequent outcome and will also
    be associated with possible safety issues and costs.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: Power BI自动识别`指示损伤`列。`1`值表示报告了损伤，这是ML模型最感兴趣的预测。损伤是较少见的结果，也将与可能的安全问题和成本相关联。
- en: Select **1** from the **Choose a target** **outcome** field.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**选择目标结果**字段中选择**1**。
- en: For `1` to indicate that the prediction accurately matches the outcome.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于`1`表示预测准确匹配结果。
- en: For `Not 1` to indicate that the prediction missed the mark.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于`非1`表示预测未达到目标。
- en: 'Your screen should look like the following screenshot before you click **Next**:'
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您点击**下一步**之前，您的屏幕应该看起来像以下截图：
- en: '![Figure 8.3 – Power BI detected a fit for a Binary Prediction model](img/B19500_08_003.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![图8.3 – Power BI检测到二进制预测模型的拟合](img/B19500_08_003.jpg)'
- en: Figure 8.3 – Power BI detected a fit for a Binary Prediction model
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.3 – Power BI检测到二进制预测模型的拟合
- en: 'Selecting features that will be used to train the binary prediction ML model
    is the next step. As you can see in *Figure 8**.4*, Power BI has detected columns
    that are correlated to the outcome. At the time this screenshot was taken, the
    recommended columns were **Speed**, **Struck Windshield**, **Struck Nose**, **Ingested
    Engine 2**, **Struck Propeller**, **Struck Wing or Rotor**, **Struck Fuselage**,
    **Struck Landing Gear**, **Struck Tail**, and **Size**. You check the boxes for
    all of the columns in the data that do not directly indicate some form of damage
    beyond those that are recommended. The recommendations are based on a sampling
    of data, so there may be some hidden gems within features that were not flagged.
    Unless there are too many unique values, there’s no harm in adding all the features
    to your first pass at the Power BI AutoML tool. You will whittle down the features
    as you iterate the ML model and attempt to improve future results. Here’s a screenshot
    of the selection page before you check all of the features:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 选择用于训练二进制预测ML模型的特征是下一步。如您在*图8.4*中看到的那样，Power BI已检测到与结果相关的列。在拍摄此截图时，推荐的列包括**速度**、**撞击挡风玻璃**、**撞击机头**、**吸入发动机2**、**撞击螺旋桨**、**撞击机翼或旋翼**、**撞击机身**、**撞击起落架**、**撞击尾部**和**尺寸**。您检查所有不直接指示某种形式损伤的列的复选框，这些列不在推荐之列。建议基于数据样本，因此特征中可能存在一些未被标记的隐藏宝藏。除非有太多唯一值，否则将所有特征添加到Power
    BI AutoML工具的第一步尝试中并无害处。您将在迭代ML模型并尝试改进未来结果时削减特征。以下是您检查所有特征之前的选择页面截图：
- en: '![Figure 8.4 – Default column selection for the ML model contains recommended
    columns by Power BI](img/B19500_08_004.jpg)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![图8.4 – ML模型的默认列选择包含Power BI推荐列](img/B19500_08_004.jpg)'
- en: Figure 8.4 – Default column selection for the ML model contains recommended
    columns by Power BI
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.4 – ML模型的默认列选择包含Power BI推荐列
- en: Now you can select settings for the ML model that will be trained.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您可以选择将要训练的ML模型的设置。
- en: Give the ML model a name such as `Predict Damage` `ML Model`.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 给ML模型起一个像`预测损伤ML模型`这样的名字。
- en: Add a description in the **Description** field.
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**描述**字段中添加描述。
- en: Select the `29` minutes. Note that you can also re-run the training process
    at different durations to compare results.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择`29`分钟。请注意，你也可以在不同的持续时间下重新运行训练过程以比较结果。
- en: 'Note that at the bottom of the screen, Power BI says it will automatically
    use **20%** of the data for testing and **80%** for training. Here’s a screenshot
    before you select **Save &** **train**:'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 注意，在屏幕底部，Power BI表示它将自动使用**20%**的数据进行测试，**80%**的数据进行训练。以下是在你选择**保存并训练**之前的截图：
- en: '![Figure 8.5 – Settings for naming and training the ML model](img/B19500_08_005.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![图8.5 – 命名和训练机器学习模型的设置](img/B19500_08_005.jpg)'
- en: Figure 8.5 – Settings for naming and training the ML model
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.5 – 命名和训练机器学习模型的设置
- en: Once you select **Save & train**, Power BI will begin training and testing different
    ML algorithms to find the best fit for your data. Now you can kick back, let Power
    BI do the work, and move on to your next ML model! After the ML model has been
    trained, you will take a deep dive into the testing results in the next chapter.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你选择**保存并训练**，Power BI将开始训练和测试不同的机器学习算法，以找到最适合你数据的最优拟合。现在你可以放松，让Power BI做工作，然后继续你的下一个机器学习模型！机器学习模型训练完成后，你将在下一章深入探讨测试结果。
- en: Building and training a general classification ML model in Power BI
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Power BI中构建和训练通用分类机器学习模型
- en: 'Moving on to your second ML model, you will predict the size of wildlife that
    struck an aircraft based on data collected about the strike. This ML model could
    be useful in predicting possible species that struck an aircraft. Use the query
    from the **ML Queries** dataflow named **Predict Size**:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，进行你的第二个机器学习模型，你将根据关于撞击的数据预测撞击飞机的野生动物的大小。这个机器学习模型可以用于预测可能撞击飞机的物种。使用名为**Predict
    Size**的**ML Queries**数据流中的查询：
- en: Create a new dataflow in your Power BI workspace by selecting **New** | **Dataflow**.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过选择**新建** | **数据流**在你的Power BI工作区中创建一个新的数据流。
- en: Select **Link tables from** **other dataflows**.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**从其他数据流链接表**。
- en: Ensure you are signed in to your organizational account and select **Next**.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保你已登录到你的组织账户并选择**下一步**。
- en: Expand your Power BI workspace folder, expand the **ML Queries** dataflow, select
    **Predict Size**, and click **Transform data**.
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开Power BI工作区文件夹，展开**ML Queries**数据流，选择**预测大小**，然后点击**转换数据**。
- en: Save and close the new dataflow.
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存并关闭新的数据流。
- en: Name the new dataflow `Predict` `Size ML`.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新的数据流命名为`Predict Size ML`。
- en: Refresh the new dataflow.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 刷新新的数据流。
- en: Now you can begin building your general classification ML model in Power BI.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你可以在Power BI中开始构建你的通用分类机器学习模型。
- en: Click on the new **Predict Size ML** dataflow from your workspace.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击你工作区中的新**Predict Size ML**数据流。
- en: Click on the ribbon header for **Machine** **learning models**.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**机器学习模型**的标签页。
- en: Select **Get Started**.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**开始**。
- en: 'For a general classification ML model, you now select a column with more than
    two possible values to be predicted. The column named **Size** within the **Predict
    Size** table contains three values: **Large**, **Medium**, and **Small**. Each
    row still represents a unique wildlife strike event, just as in the previous binary
    classification ML model.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 对于一个通用分类机器学习模型，你现在选择一个具有两个以上可能值的列进行预测。在**Predict Size**表中的**大小**列包含三个值：**大**、**中**和**小**。每一行仍然代表一个独特的野生动物撞击事件，就像在先前的二分类机器学习模型中一样。
- en: Select the **Predict** **Size** table.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**预测大小**表。
- en: Select the Outcome column named **Size**.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择名为**大小**的结果列。
- en: Click **Next**.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**下一步**。
- en: 'Power BI automatically recognizes that a **General Classification** model was
    the best choice. Your screen should look like the following screenshot before
    you click **Next**:'
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Power BI自动识别**通用分类**模型是最佳选择。在你点击**下一步**之前，你的屏幕应该看起来像以下截图：
- en: '![Figure 8.6 – Power BI detected a fit for a General Classification model](img/B19500_08_006.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![图8.6 – Power BI检测到通用分类模型的拟合](img/B19500_08_006.jpg)'
- en: Figure 8.6 – Power BI detected a fit for a General Classification model
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.6 – Power BI检测到通用分类模型的拟合
- en: As with the previous binary prediction ML model, Power BI will recommend features
    for your first attempt to build the model. The recommended columns for your general
    classification ML model at the time this book was written were **Airport ID**,
    **Aircraft Mass Code**, **Number of Engines**, **Phase of Flight**, **Height**,
    **Speed**, **Sky**, **Precipitation**, **ingested Other**, **Indicated Damage**,
    **Struck Random**, **Damaged Random**, **Struck Windshield,** **Damaged Windshield**,
    **Struck Nose**, **Damaged Nose**, **Struck Engine 1**, **Damaged Engine 2**,
    **Struck Engine 3**, **Struck Propeller**, **Struck Wing or Rotor**, **Damaged
    Wing or Rotor**, **Struck Fuselage**, **Damaged Fuselage**, **Struck Landing Gear**,
    **Struck Tail**, **Damaged Tail**, **Struck Lights**, **Damaged Lights**, **Struck
    Other**, **Effect on Flight**, **Number of Engines Ingested**, **Percentage of
    Engines Ingested**, **Number of Engines Damaged**, and **Month Number**. Take
    note of these features, and then also check the box for the other features for
    your first pass at the Power BI ML tool.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 与之前的二进制预测 ML 模型一样，Power BI 将为您构建模型的第一尝试推荐特征。在本书编写时，用于您的通用分类 ML 模型的推荐列包括**机场
    ID**、**飞机质量代码**、**发动机数量**、**飞行阶段**、**高度**、**速度**、**天空**、**降水**、**吸入其他**、**指示性损害**、**随机撞击**、**随机损坏**、**挡风玻璃撞击**、**挡风玻璃损坏**、**机头撞击**、**机头损坏**、**发动机
    1 撞击**、**发动机 2 损坏**、**发动机 3 撞击**、**螺旋桨撞击**、**机翼或旋翼撞击**、**机翼或旋翼损坏**、**机身撞击**、**机身损坏**、**起落架撞击**、**尾巴撞击**、**尾巴损坏**、**灯光撞击**、**灯光损坏**、**其他撞击**、**对飞行的影响**、**吸入的发动机数量**、**吸入的发动机百分比**、**损坏的发动机数量**和**月份编号**。注意这些特征，然后也在
    Power BI ML 工具的第一遍中检查其他特征的复选框。
- en: Now you can select settings for the ML model that will be trained.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您可以为将要训练的 ML 模型选择设置。
- en: Give the ML model a name, such as `Predict Size` `ML Model`.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 ML 模型命名，例如`Predict Size` `ML Model`。
- en: Add a description in the **Description** field.
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**描述**字段中添加描述。
- en: Select a value in **Training time**.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**训练时间**中选择一个值。
- en: Once you select **Save & train**, Power BI will begin training and testing different
    ML algorithms to find the best fit for your data.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦您选择**保存并训练**，Power BI 将开始训练和测试不同的 ML 算法，以找到最适合您数据的最优匹配。
- en: Once you have given your ML model some time for building, you can circle back
    to it in the next chapter to review the testing data.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您为您的 ML 模型构建留出一些时间，您可以在下一章中回顾测试数据。
- en: Building and training a regression ML model in Power BI
  id: totrans-82
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在 Power BI 中构建和训练回归 ML 模型
- en: 'Finally, you will build an ML model to predict the height of impact associated
    with wildlife strikes. A regression ML model can predict numeric values based
    on features used to train the model. This ML model could be useful in predicting
    expected costs when a wildlife strike causes damage. Use the query from the **ML
    Queries** dataflow named **Predict Height**:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，您将构建一个 ML 模型来预测与野生动物撞击相关的冲击高度。回归 ML 模型可以根据用于训练模型的特征预测数值。此 ML 模型在野生动物撞击造成损害时预测预期成本可能很有用。使用名为**预测高度**的**ML
    查询**数据流中的查询：
- en: Create a new dataflow in your Power BI workspace by selecting **New** | **Dataflow**.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过选择**新建** | **数据流**在您的 Power BI 工作区中创建一个新的数据流。
- en: Select **Link tables from** **other dataflows**.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**从其他数据流链接表**。
- en: Ensure you are signed in to your organizational account and select **Next**.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您已登录到您的组织账户并选择**下一步**。
- en: Expand your Power BI workspace folder, expand the dataflow **ML Queries**, select
    **Predict Height**, and click **Transform data**.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开您的 Power BI 工作区文件夹，展开数据流**ML 查询**，选择**预测高度**，然后点击**转换数据**。
- en: Save and close the new dataflow.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存并关闭新的数据流。
- en: Name the new dataflow `Predict` `Height ML`.
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新的数据流命名为`Predict` `Height ML`。
- en: Refresh the new dataflow.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 刷新新的数据流。
- en: Now you can begin building your regression ML model in Power BI.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您可以在 Power BI 中开始构建您的回归 ML 模型。
- en: Click on the new **Predict Height ML** dataflow from your workspace.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的工作区中点击新的**预测高度 ML**数据流。
- en: Click on the ribbon header for **Machine** **learning models**.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**机器** **学习模型**的选项卡头。
- en: Select **Get Started**.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**开始使用**。
- en: A regression ML model will predict a numeric value based on features. In this
    use case, you will be building an ML model that predicts the height related to
    a wildlife strike. The column named **Height** within the **Predict Height** table
    contains integer values representing feet above the ground. Each row still represents
    a unique wildlife strike event.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 一个回归机器学习模型将根据特征预测一个数值。在这个用例中，你将构建一个预测与野生动物撞击相关的高度的机器学习模型。在**预测身高**表中的名为**身高**的列包含表示地面以上的英尺数的整数值。每一行仍然代表一个独特的野生动物撞击事件。
- en: Select the **Predict** **Height** table.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**预测身高**表。
- en: Select the **Outcome column** named **Height**.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择名为**身高**的**结果列**。
- en: Click **Next**.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**下一步**。
- en: 'If a regression use case is not auto-detected, Power BI gives you all three
    choices of ML model types to choose from. As shown in *Figure 8**.7*, click on
    **Regression** before clicking **Next**:'
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果没有自动检测到回归用例，Power BI 会为你提供所有三种机器学习模型类型的选择。如图*图8**.7*所示，在点击**下一步**之前，点击**回归**：
- en: '![Figure 8.7 – The regression model will predict numeric values](img/B19500_08_007.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![图8.7 – 回归模型将预测数值](img/B19500_08_007.jpg)'
- en: Figure 8.7 – The regression model will predict numeric values
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 图8.7 – 回归模型将预测数值
- en: Power BI again recommends features, and you can select all of them for the first
    run of the ML model.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: Power BI 再次推荐特征，你可以在第一次运行机器学习模型时选择所有这些特征。
- en: Now you can select settings for the ML model that will be trained.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以选择将要训练的机器学习模型的设置。
- en: Give the ML model a name, such as `Predict Height` `ML Model`.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 给你的机器学习模型起一个名字，例如 `预测身高` `机器学习模型`。
- en: Add a description in the **Description** field.
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**描述**字段中添加一个描述。
- en: Select a value in **Training time**.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**训练时间**中选择一个值。
- en: Once you select **Save & train**, Power BI will begin training and testing different
    ML algorithms to find the best model for your data.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦你选择了**保存并训练**，Power BI 将开始训练和测试不同的机器学习算法，以找到最适合你数据的最佳模型。
- en: You’ve now reached a point in the project where the first attempts at all three
    ML models have been built. While it may have seemed easy, there is still much
    work to do in the coming chapters!
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在已经到达了一个项目阶段，其中所有三个机器学习模型的第一次尝试都已经构建完成。虽然这可能看起来很简单，但在接下来的章节中仍然有许多工作要做！
- en: Summary
  id: totrans-109
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you used Power BI to build dataflows and train a binary prediction
    ML model, a general classification model, and a regression model. All three relied
    on the work you had done through [*Chapter 7*](B19500_07.xhtml#_idTextAnchor102)
    to identify features in the FAA Wildlife Strike data, prep queries for ML, and
    then publish everything to the Power BI cloud service.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你使用 Power BI 构建数据流并训练了一个二元预测机器学习模型、一个通用分类模型和一个回归模型。这三个模型都依赖于你在[*第7章*](B19500_07.xhtml#_idTextAnchor102)中完成的工作，以识别
    FAA 野生动物撞击数据中的特征，为机器学习准备查询，然后将所有内容发布到 Power BI 云服务。
- en: In [*Chapter 9*](B19500_09.xhtml#_idTextAnchor125), you will review the testing
    results of the ML models and evaluate the accuracy of the tested predictions.
    ML models needing improvement can be modified and re-trained as needed until acceptable
    results are attained.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 在[*第9章*](B19500_09.xhtml#_idTextAnchor125)中，你将回顾机器学习模型的测试结果，并评估测试预测的准确性。需要改进的机器学习模型可以根据需要修改和重新训练，直到获得可接受的结果。
