- en: Understanding Models
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解模型
- en: In this chapter, we're going to look into general model interpretation. We will
    have a look at the different types of predictive models. Then we will interpret
    some machine learning models using various techniques.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将探讨一般模型解释。我们将查看不同类型的预测模型。然后我们将使用各种技术来解释一些机器学习模型。
- en: 'We will be covering the following topics in this chapter:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章我们将涵盖以下主题：
- en: Types of models
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模型的类型
- en: Using graphs to interpret machine learning models
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用图表来解释机器学习模型
- en: Using statistics to interpret machine learning models
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用统计方法来解释机器学习模型
- en: Using decision trees to interpret machine learning models
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用决策树来解释机器学习模型
- en: Models
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 模型
- en: 'There are three different types of predictive models:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 有三种不同的预测模型：
- en: Statistical models
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 统计模型
- en: Decision tree models
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 决策树模型
- en: Machine learning models
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 机器学习模型
- en: Statistical models
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 统计模型
- en: 'The first thing that the statistical models identify is which predictors are
    most important in a model. The statistical models also create an equation that
    allows you to make predictions. For example, as we can see in the following screenshot,
    the coefficients that are part of the prediction equation have been highlighted:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 统计模型首先确定模型中最重要的预测因子。统计模型还创建了一个方程，允许您进行预测。例如，正如我们可以在下面的截图中所见，预测方程中的系数已被突出显示：
- en: '![](img/3f1b8253-9aa7-4c21-b0b8-c59ab41f712f.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3f1b8253-9aa7-4c21-b0b8-c59ab41f712f.png)'
- en: 'The following screenshot highlights the equation to predict current salaries:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的截图突出了预测当前工资的公式：
- en: '![](img/9fd36505-1a1d-47da-9ab1-e394f5b5dc3e.png)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9fd36505-1a1d-47da-9ab1-e394f5b5dc3e.png)'
- en: 'In the following screenshot, we can see that we take the coefficient for the
    variable beginning salary and we multiply it by the actual beginning salary:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的截图中，我们可以看到我们取了变量起始工资的系数，并将其乘以实际起始工资：
- en: '![](img/2e1d4de4-f734-487f-9a5a-8521fd88436c.png)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2e1d4de4-f734-487f-9a5a-8521fd88436c.png)'
- en: 'Now, we take the coefficient for education level and we multiply it by a person''s
    number of years of education:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们取教育水平的系数，并将其乘以一个人的教育年限：
- en: '![](img/24d21da0-98c0-4436-845a-f59576ecb026.png)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![](img/24d21da0-98c0-4436-845a-f59576ecb026.png)'
- en: 'We also need the person''s **age**, which is highlighted in the following screenshot:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还需要这个人的**年龄**，这在下面的截图中被突出显示：
- en: '![](img/2601c49e-8ee0-4cf3-aaa0-b331729c1382.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](img/2601c49e-8ee0-4cf3-aaa0-b331729c1382.png)'
- en: We multiply all the values with their respective coefficients, and finally,
    we add all the constants, which predicts what the person's salary is going to
    be. Now that's great. But in addition, the statistical models allow us to determine
    the effect of a one-unit increase in each predictor, and you can see the effect
    of this predictor on the different outcome variables.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将所有值与其相应的系数相乘，最后将所有常数相加，从而预测这个人的工资将会是多少。现在这很好。但除此之外，统计模型还允许我们确定每个预测因子单位增加的影响，并且您可以看到这个预测因子对不同的结果变量的影响。
- en: 'So, for example, with education level, we see that it has a coefficient of
    **298**. That tells us that a person''s current salary is increasing by $298 for
    each additional year of education that the person has:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，就教育水平而言，我们看到它有一个系数为**298**。这告诉我们，一个人的当前工资会随着这个人额外教育年限的增加而增加298美元：
- en: '![](img/a401970e-a6c2-4749-87b5-227b2e65253a.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a401970e-a6c2-4749-87b5-227b2e65253a.png)'
- en: So you can really see the impact of each individual independent variable and
    how it ends up impacting the overall prediction.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，您可以真正看到每个个体独立变量的影响以及它最终如何影响整体预测。
- en: Decision tree models
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 决策树模型
- en: Just like statistical models, decision tree models help you identify which predictors
    are most important in the model. There are no equations, and we can't determine
    a one-unit impact and along with the effect that it has on an outcome variable.
    Instead we are going to create rules that make predictions by segmenting data
    in two mutually-exclusive categories.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 正如统计模型一样，决策树模型帮助您确定模型中最重要的预测因子。没有方程，我们无法确定单位增加的影响及其对结果变量的影响。相反，我们将创建规则，通过将数据分割成两个相互排斥的类别来进行预测。
- en: 'So, for example, as you can see in the following screenshot, we have anybody
    with a variable **Premier** value of **No**:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，正如您可以在下面的截图中所见，我们有一个变量**Premier**值为**否**的任何人：
- en: '![](img/c56a361c-0ea4-41bb-a9ce-371bf0ad65ea.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c56a361c-0ea4-41bb-a9ce-371bf0ad65ea.png)'
- en: 'We have anybody that was a customer for three years or fewer, as shown in the
    following screenshot:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 如下截图所示，我们有任何三年或三年以下的客户：
- en: '![](img/d14f3bdc-d889-443c-b9fc-c569babe31d5.png)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/d14f3bdc-d889-443c-b9fc-c569babe31d5.png)'
- en: 'And we have people whose estimated revenue was less than or equal to about
    4,000,000, as shown in the following screenshot:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还有估计收入低于或等于约400万的人，如下截图所示：
- en: '![](img/54d74176-6eff-42d4-a2f4-76ced11d50f3.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/54d74176-6eff-42d4-a2f4-76ced11d50f3.png)'
- en: 'They happen to be located in another country, and we''re predicting that they''re
    going to churn, as shown in the following screenshot:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 他们碰巧位于另一个国家，我们预测他们将流失，如下截图所示：
- en: '![](img/73406733-ef73-4e08-8115-07e128328366.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/73406733-ef73-4e08-8115-07e128328366.png)'
- en: This rule was applied to 25 people, and the accuracy of that rule was 100%, as
    shown in the following screenshot. So, for all the customers who fit those criteria,
    we ended up losing them as customers 100% of the time.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 该规则应用于25人，该规则的准确率为100%，如下截图所示。因此，对于所有符合这些标准的客户，我们最终100%地失去了他们作为客户。
- en: 'Next, there''s a second rule, and it''s exactly the same as the first. The
    only difference is that the location is a **National** customer, and you will
    notice that we''re still predicting the people who will be churned. That rule
    applies to **47** individuals, but the accuracy of that rule is only 66%:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，还有第二个规则，它与第一个规则完全相同。唯一的区别是位置是一个**国家级**客户，你会注意到我们仍在预测将要流失的客户。该规则适用于**47**个人，但该规则的准确率仅为66%：
- en: '![](img/612b3aa8-6733-4b25-a8ee-3fd829127773.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/612b3aa8-6733-4b25-a8ee-3fd829127773.png)'
- en: Now, at first glance it might seem that these are fairly similar rules, but
    this is where you have to go back and try to identify what's really going on.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，乍一看，这些规则可能相当相似，但这就是你必须回去并尝试识别真正发生的事情的地方。
- en: Notice that when all the criteria were met and we happen to have an international
    customer, we always lost them, but when we have a **National** customer, we still
    are most likely to lose them, but we didn't lose all of them. You might want to
    ask yourself why? Well, maybe you could go back over to the sales reps. They might
    inform you that they call the **National** customers once a quarter just to see
    how they're doing and that one call manages to keep some of those customers, so
    that you don't end up losing them. So, Decision trees allow you to create these
    different rules that allow you to make predictions, and then you can see the inner
    workings of the model very well.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，当所有标准都满足，并且我们碰巧有一个国际客户时，我们总是失去他们，但当我们有**国家级**客户时，我们仍然最有可能失去他们，但我们并没有全部失去。你可能想问自己为什么？嗯，也许你可以回到销售代表那里。他们可能会告诉你，他们每季度都会给**国家级**客户打电话，看看他们的情况，而一个电话就成功地保留了一些客户，这样你就不会失去他们。所以，决策树允许你创建不同的规则，这些规则允许你做出预测，然后你可以很好地看到模型的内部运作。
- en: Machine learning models
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 机器学习模型
- en: Like both statistical and decision tree models, machine learning models identify
    which predictors are the most important in the model.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 就像统计模型和决策树模型一样，机器学习模型确定模型中最重要的预测因子。
- en: 'In the following example of a neural net model, we see that the **Speakers**
    variable was the most important, followed by **Premier**, followed by **TVs**:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下神经网络模型的示例中，我们看到**扬声器**变量是最重要的，其次是**高级**，然后是**电视**：
- en: '![](img/e19a0a48-b294-4f0f-8e9f-1f3c94ef6684.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e19a0a48-b294-4f0f-8e9f-1f3c94ef6684.png)'
- en: So, those are the most important predictors and that's all we get. We don't
    get any equations or a rule. We don't even know the direction of the relationship,
    for example, are we more likely to keep or lose customers that buy more speakers? We
    really don't know; we don't get that kind of information from any machine learning
    model because they're all black boxes.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，这些是最重要的预测因子，这就是我们所能得到的一切。我们得不到任何方程或规则。我们甚至不知道关系的方向，例如，我们更有可能保留还是失去购买更多扬声器的客户？我们真的不知道；我们不会从任何机器学习模型中得到这种信息，因为它们都是黑盒子。
- en: Hence, in the next section, we're going to see how you would figure out exactly
    how to interpret the results of a machine learning model. Also, we'll see how
    to use graphs to interpret machine learning models.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在下一节中，我们将看到如何确切地解释机器学习模型的结果。此外，我们还将看到如何使用图表来解释机器学习模型。
- en: Using graphs to interpret machine learning models
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用图表来解释机器学习模型
- en: In this section, we're going to see how to use graphs to interpret the results
    of a machine learning model. Specifically, it's important to know what kind of
    data you have, because the type of data will determine the type of graph that
    you can create. This graph will then help you understand what goes into the predictions
    of a machine learning model. We will also understand how a machine learning model
    uses these different variables for the predictions and eventually use these predictions
    for our final interpretation.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将了解如何使用图表来解释机器学习模型的结果。具体来说，了解你有什么样的数据非常重要，因为数据类型将决定你可以创建的图表类型。这个图表将帮助你理解机器学习模型的预测中包含了哪些因素。我们还将了解机器学习模型是如何使用这些不同变量进行预测的，并最终将这些预测用于我们的最终解释。
- en: 'For example, when we have an outcome variable that is a categorical variable
    and our predictor is also a categorical variable, we can use a bar chart or a
    web plot. We can use either type of graph to help us understand how the machine
    learning model is making its predictions. The following table represents data
    and graph combinations:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，当我们有一个分类变量的结果变量，并且我们的预测变量也是一个分类变量时，我们可以使用条形图或网络图。我们可以使用这两种类型的图表来帮助我们理解机器学习模型是如何进行预测的。以下表格表示数据和图表的组合：
- en: '|  | Categorical | Continuous |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '|  | 分类 | 连续 |'
- en: '| Categorical | Bar chart/web plot | Histogram |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| 分类 | 条形图/网络图 | 直方图 |'
- en: '| Continuous | Histogram | Scatter plot |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '| 连续 | 直方图 | 散点图 |'
- en: As we can see from the preceding table, when we have a categorical outcome variable
    but we have a continuous predictor, we might have to use a histogram. A histogram
    can help us to visually understand what's going on behind those predictions.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 如前表所示，当我们有一个分类结果变量，但有一个连续的预测变量时，我们可能不得不使用直方图。直方图可以帮助我们直观地理解那些预测背后的情况。
- en: Now let's look into some other possibilities. Let's say that our outcome variable
    is actually a continuous variable but we had a categorical predictor, so here
    we could use a histogram. And finally, when we have an outcome variable that's
    a continuous variable and a predictor variable that's also a continuous variable,
    we can end up using a scatter plot. We will see examples related to this in the
    upcoming sections.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们来看看其他一些可能性。比如说，我们的结果变量实际上是一个连续变量，但我们有一个分类预测变量，所以这里我们可以使用直方图。最后，当我们有一个连续变量的结果变量和一个连续变量的预测变量时，我们可以使用散点图。我们将在接下来的章节中看到相关的例子。
- en: 'In the previous section, we built a neural net model. Let''s take a look at
    the model that we built:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一节中，我们构建了一个神经网络模型。让我们看看我们构建的模型：
- en: 'Let''s use the model that we created in the previous chapter:'
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们使用上一章中创建的模型：
- en: '![](img/ace85d6f-43c5-4430-ba79-7edfb2be01dd.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ace85d6f-43c5-4430-ba79-7edfb2be01dd.png)'
- en: Set the **Random seed** as `5000` and then run the model
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**随机种子**设置为`5000`，然后运行模型
- en: '![](img/d75bd06e-c904-4d49-9d6e-89e232148112.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d75bd06e-c904-4d49-9d6e-89e232148112.png)'
- en: 'Click on the newly generated model and in the observations, we can see that
    the **Premier** variable is the most important predictor, followed by **Years_as_customer**,
    and then **Stereos**, **TVs**, and so forth:'
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击新生成的模型，在观察中我们可以看到**Premier**变量是最重要的预测变量，其次是**Years_as_customer**，然后是**Stereos**、**TVs**等等：
- en: '![](img/7deb3710-1ec3-4d43-bde2-f7af05214c83.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7deb3710-1ec3-4d43-bde2-f7af05214c83.png)'
- en: Now we know the most important predictors in this model, but we don't know how
    these predictors are being used by the model. Therefore, we will investigate their
    relationships.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们知道了这个模型中最重要的预测变量，但我们不知道这些预测变量是如何被模型使用的。因此，我们将调查它们之间的关系。
- en: 'There are several ways in which we can know about the relationships between
    components of the model. We can use graphs or tables. Let''s go through a few
    examples:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 有几种方式可以了解模型组件之间的关系。我们可以使用图表或表格。让我们通过几个例子来了解一下：
- en: Select the **Record Ops** palette.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**记录操作**调色板。
- en: Connect the generated model over to a **Select** node.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将生成的模型连接到**选择**节点。
- en: Let's look at the data for the training dataset. We will keep the testing dataset
    separate because we will use that data later to confirm the findings.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们看看训练数据集的数据。我们将保持测试数据集独立，因为我们将在以后使用这些数据来验证结果。
- en: Click on the **Select** node to edit it.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**选择**节点进行编辑。
- en: 'Click on the **Expression Builder**:'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**表达式构建器**：
- en: '![](img/5379eaa3-6a30-4fb9-acca-d1a5366c52e7.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5379eaa3-6a30-4fb9-acca-d1a5366c52e7.png)'
- en: 'Select any variable. For example, the **Partition** variable, select `=`, and
    the training dataset:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/19d44971-564c-4ede-87d2-3badd083fd91.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
- en: 'This is how a expression will look also, click on **OK**:'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/74a8d25b-c3b2-476b-b2d8-ecc34b682b4f.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
- en: 'We have selected only the people in the training dataset. Now, let''s take
    a look at the relationships between the actual predictions and the important variables
    in this model to figure out exactly how these variables are used by the model:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
- en: 'Go to the **Graphs** palette and connect the **Select** node to a **Distribution**
    node. The **Distribution** node is basically a bar chart, as shown in the following
    screenshot:'
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/03810d88-a27c-409d-969b-392b685fbc94.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
- en: 'Edit the **Distribution** node. Select the **Premier** field:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/b3f6f409-af05-4844-b683-0e770a96d140.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
- en: 'Notice that only categorical fields are available here:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/2fe1d30b-d52b-40d1-84fb-7cb5913fc814.png)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
- en: 'We are selecting the **Premier** variable because that was the most important
    predictor in the model and we will see how that variable is used in its predictions:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
- en: 'Click on the overlay button:'
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/f84d9025-c7df-408a-8e71-212f7601c785.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
- en: 'Select the variable **$N-Status**, which is our actual prediction:'
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/db07a940-746f-4b4d-9e47-ab7aaf53bc64.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
- en: 'To make comparisons a little easier,  click on normalize by **Color**:'
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/05546d69-e6a5-4ccf-9c1a-c697b7895297.png)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
- en: 'Click on **Run** and you can see what was done here:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/f9fe6071-51fb-491b-bf7b-f6d6b78b9c17.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
- en: Notice that the blue color is associated with those who were predicted as going
    to churn, and the red color is associated with people who were predicted as current
    customers. You can also see that the people that are **Premier** customers we
    are associating them with being a current customer. The people that are not **Premier**
    customers we are associating them with the blue color which means that we're predicting
    that they're going to churn.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: 'So that''s how you investigate the relationship between a categorical predictor
    and a categorical outcome variable. We could use something similar to a bar chart,
    in this case, it''s called the **Distribution** node in Modeler; it would be called
    as a **bar chart** in other software packages, but you''re looking at the relationship
    between these two categorical variables and now you can see what''s going on with
    these relationships. Let''s use a **Web** node to look at the relationship between
    the two categorical variables:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
- en: 'Go down to the **Graphs** palette and connect the **Select** node to the **Web**
    node:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/7650b517-b61e-4705-bdb8-d9d6274dc870.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
- en: Edit the **Web** node, you can either build this as a **Web**, which basically
    allows us to take a lot of categorical variables and put them all together, or we can
    create a **Directed web** so that all the categorical variables in those categories
    are all directed towards one specific variable, which is what we are going to
    do here. Choose the **Directed web**.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the field box
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Add your prediction, which is the **$N-Status** variable, add all other categorical
    variables:'
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/05421b68-1d48-4fa0-9860-2fd00d078154.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
- en: 'The following screenshot shows all the selected flag fields:'
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/4e0ada63-0cca-47b9-a93b-129a61dc6d8e.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
- en: 'Add other categorical fields. Select **Payment_Method**:'
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/7ccd57b6-492d-4893-b9a9-418f6f6e522c.png)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
- en: 'Hold the *Ctrl* key and scroll down a**n**d select **TV_Categories ** andclick
    on **OK**:'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/7b65d60b-36dd-475c-96fd-32e743ebe4bc.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
- en: 'Set the **Line values**to **Absolute**, as shown in the following screenshot:'
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/37d7d523-7bdf-4d8d-8b7f-0bb3be31b813.png)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
- en: 'Set **Line values are** to **Percentages of "From" the field/value**. From
    these **Predictor** fields, we will see how these values are related to the **Outcome**
    field and click on Run:'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/e5cdafc9-a707-49d9-9588-19686e6c6aef.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
- en: 'Notice that there are two lines that are a little thicker than the others:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/c2497460-486d-47cb-98db-ac512e537950.png)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
- en: You can see that one of the line values says **Yes. **The other line value says
    **No** and they're both related to the field current and churned as we can see
    in the following output
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s take a look at the thickest **Yes** line:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/12acc62c-ef3f-4c29-b018-27907bed616d.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
- en: We can see that this line is showing us that these are people that on the **Premier**
    variable had a value of **Yes** and the prediction is associated with being a
    current customer and then we can see that **87%** of the people that are predicted
    to be current customers they had a value of **Yes** on the variable **Premier**.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
- en: 'Similarly, the next thickest line would be the one where we''re on the **Premier**
    variable. We  have a value of no and that''s associated with churning and that
    value ended up being **80%**:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
- en: 'Here is another way we can look at the relationship between a categorical **Predictor**
    and a categorical **Outcome** variable. The strongest relationship is between
    the **Premier** variable and the **Outcome** variable:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/eecf6620-93cc-4056-8b46-fbe0f5dbb005.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
- en: 'Let''s look at the relationship between a continuous **Predictor** and a categorical
    **Outcome** variable. To do that, we are going to go down to the **Graphs** palette
    and connect the **Select** node to a histogram:'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/944c65a6-d974-4a69-92d5-2e3a86d3b73c.png)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
- en: 'Edit the **Histogram, **In the field box, select the **TVs** field . Choose
    the **TVs** field because this is one of the most important predictors in the
    mode:'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/3104d599-9931-4d18-b36b-95a74b5761d6.png)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
- en: 'In the overlay color box, enter the prediction, which is the variable **$N-Status**:'
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/bca016b3-6698-477f-80e1-6d24889ef98f.png)'
  id: totrans-123
  prefs: []
  type: TYPE_IMG
- en: 'Go to the **Options** tab and click on **Normalize by color** to make your
    comparisons a little easier  and click on **Run**:'
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/ce3989bc-8a7f-4e6b-ac13-93860f5646e5.png)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
- en: 'We will see the following results:'
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/ebffd7c0-7652-4ca6-bd37-5ff44fb0a4cf.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
- en: We can see that the blue color is associated with those customers that we predicted
    we were going to lose. The red color is associated with those customers that we
    predicted we were going to keep. Notice that the people who bought fewer **TVs**
    we are predicting about 50%; basically that we're going to end up keeping these
    customers. As customers are buying more **TVs**, we're predicting that we're going
    to lose these customers. So that's how this variable is being used by the model,
    the model is depicting that if you're not buying many **TVs** there's about an
    equal chance that we're going to keep or lose you as a customer, but if you're
    buying a lot of **TVs** then we think that we're more likely to lose you as a
    customer.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，蓝色与那些我们预测将要失去的客户相关联。红色与那些我们预测将要保留的客户相关联。注意，购买较少**电视**的客户，我们预测大约有50%的可能性会保留或失去这些客户。基本上，如果我们购买很多**电视**，我们认为我们更有可能失去这些客户。这就是这个变量在模型中被使用的方式，模型描绘的是，如果你不购买很多**电视**，我们保持或失去你作为客户的可能性几乎是相等的，但如果你购买了很多**电视**，我们认为你作为客户的可能性更大。
- en: 'In this example, we''re going to look at the relationship between two continuous
    variables:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们将查看两个连续变量之间的关系：
- en: 'Let''s work with a different dataset. Bring in the **Var. File** node:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们使用不同的数据集。引入**变量文件**节点：
- en: 'Edit this node and link it up to a dataset. Navigate to where our dataset,
    `Bank_Data`  is located Select the  file:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编辑此节点并将其链接到数据集。导航到我们的数据集`Bank_Data`的位置，选择文件：
- en: 'Open the dataset. It''s a comma-delimited file, as shown in the following screenshot:'
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开数据集。它是一个逗号分隔的文件，如下面的截图所示：
- en: '![](img/320860bf-32ef-4958-980f-3bd08d314875.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/320860bf-32ef-4958-980f-3bd08d314875.png)'
- en: 'Go to the **Types** tab and click on **Read Values** and then select **OK.
    You will see your variables**:'
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**类型**选项卡，点击**读取值**然后选择**确定**。你将看到你的变量：
- en: '![](img/0cf6fa21-d744-42be-8e50-73c3db52e89b.png)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/0cf6fa21-d744-42be-8e50-73c3db52e89b.png)'
- en: '`salnow` is our dependent variable. Hence make sure that it is a target variable.
    IF it isn''t, then change its role to target. Set the role of **id** to **None**. All
    the other variables are going to be predictors for the current salary variable.
    Click on **OK**'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '`salnow`是我们的因变量。因此，确保它是一个目标变量。如果不是，则将其角色更改为目标。将**id**的角色设置为**无**。所有其他变量都将作为当前工资变量的预测变量。点击**确定**'
- en: 'Let''s look at the relationship between our outcome variable, which happens
    to be a continuous variable, and another continuous variable, which is a predictor.
    Go to the **Graphs** palette and connect the  source node to the **Plot** node:'
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们看看我们的结果变量（恰好是一个连续变量）与另一个连续变量（即预测变量）之间的关系。转到**图形**调色板，将源节点连接到**绘图**节点：
- en: '![](img/a66cff6a-90f6-420c-b290-7c9afbed4969.png)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/a66cff6a-90f6-420c-b290-7c9afbed4969.png)'
- en: The **Plot** node will allow us create a scatter plot. So, let's edit the **Plot**
    node.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '**绘图**节点将允许我们创建散点图。所以，让我们编辑**绘图**节点。'
- en: 'In the **X field** box, we will input our predictor and here we will add the
    education level, which is the number of years of education that a person has and
    in the **Y field** box, we will add our outcome variable which is **salnow**,
    that is, the current salary:'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**X字段**框中，我们将输入我们的预测变量，这里我们将添加教育水平，即一个人拥有的教育年限，在**Y字段**框中，我们将添加我们的结果变量，即**salnow**，即当前工资：
- en: '![](img/e26d20d2-6c11-4414-88b7-c6442a65c1ec.png)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e26d20d2-6c11-4414-88b7-c6442a65c1ec.png)'
- en: 'Click on **Run** and we get the following graph as the result:'
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**运行**，我们得到以下图表作为结果：
- en: '![](img/a43673c6-9549-4047-ba95-ccc08b0f1d8e.png)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/a43673c6-9549-4047-ba95-ccc08b0f1d8e.png)'
- en: You can see that as the number of years of education increases, the current
    salary increases too. We have a positive linear relationship, which means that
    as one variable increases the other variable increases as well, so more education
    ends up leading to higher current salary, and less education is associated with
    a lower current salary.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到，随着教育年限的增加，当前工资也会增加。我们有一个正的线性关系，这意味着当一个变量增加时，另一个变量也会增加，所以更多的教育最终会导致更高的当前工资，而较少的教育则与较低的当前工资相关。
- en: So, this is a way in which we can represent the relationship between two continuous
    variables. In the next section, we will see how to use statistical tests to interpret
    the results of a machine learning model.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，这是我们表示两个连续变量之间关系的一种方式。在下一节中，我们将看到如何使用统计测试来解释机器学习模型的结果。
- en: Using statistics to interpret machine learning models
  id: totrans-146
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用统计来解释机器学习模型
- en: 'In this section, we will be using statistics to interpret the results of a
    machine learning model. We talked about graphs and how they allow us to see and
    interpret the predictions of a machine learning model, but we can also use those
    graph for statistical tests. Have a look at the following table:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将使用统计方法来解释机器学习模型的结果。我们讨论了图表以及它们如何使我们能够看到和解释机器学习模型的预测，但我们也可以使用这些图表进行统计检验。看看以下表格：
- en: '|  | Categorical | Continuous |'
  id: totrans-148
  prefs: []
  type: TYPE_TB
  zh: '|  | 分类 | 连续 |'
- en: '| Categorical  | Chi-square | ANOVA |'
  id: totrans-149
  prefs: []
  type: TYPE_TB
  zh: '| 分类 | 卡方 | 方差分析 |'
- en: '| Continuous | ANOVA | Correlation |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| 连续 | 方差分析 | 相关系数 |'
- en: Let's say we had a categorical outcome variable and we had a categorical predictor,
    we could use the chi-square test. The chi-square test of Independence will allow
    us to look at the relationship between two categorical variables.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们有一个分类结果变量和一个分类预测变量，我们可以使用卡方检验。独立性卡方检验将使我们能够查看两个分类变量之间的关系。
- en: Also, if we have a categorical outcome variable and a continuous predictor,
    we can use ANOVA to analyze the variance. If we have two categories that we're
    comparing, we can have a t-test instead, which will allow us to interpret what's
    going on. On the other hand, if our outcome variable is a continuous variable
    and we have a categorical predictor, we can use ANOVA. We could also use logistic
    regression or discriminant analysis if we wanted. And finally, when both of our
    variables are continuous variables, we can use correlation or linear regression.
    Let's take a look at a few examples. We will outline some of these techniques
    so that we can understand what's going on, in terms of the inner workings of a
    machine learning model.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，如果我们有一个分类结果变量和一个连续预测变量，我们可以使用方差分析来分析方差。如果我们有两个类别进行比较，我们可以使用t检验，这将使我们能够解释正在发生的事情。另一方面，如果我们的结果变量是一个连续变量，而我们有一个分类预测变量，我们可以使用方差分析。如果我们想的话，我们也可以使用逻辑回归或判别分析。最后，当我们的两个变量都是连续变量时，我们可以使用相关分析或线性回归。让我们看看一些例子。我们将概述一些这些技术，以便我们可以理解机器学习模型内部的工作原理。
- en: Let's take a look at how some tables can help clarify relationships between
    our variables and to see how these different predictors are used by a model.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看一些表格如何帮助我们澄清变量之间的关系，以及这些不同的预测变量是如何被模型使用的。
- en: 'Go to the **Output** palette and connect the Select node to a matrix node:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 前往**输出**调色板，将选择节点连接到矩阵节点：
- en: '![](img/1462550a-ad25-4cde-a56c-0f1f53e8af9f.png)'
  id: totrans-155
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1462550a-ad25-4cde-a56c-0f1f53e8af9f.png)'
- en: 'The **Matrix** node will allow us to do the chi-square test, which will help
    us to look at the relationship between two categorical variables. In this case,
    we''re going to look at the relationship between a categorical predictor and a
    categorical outcome variable. Let''s edit the **Matrix** node. In the **Rows**
    field, we will input our prediction, which is the **$N-Status** variable and in
    the **Columns** field, we will select the important predictor in the model, which
    will be the **Premier** variable:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '**矩阵**节点将允许我们进行卡方检验，这将帮助我们查看两个分类变量之间的关系。在这种情况下，我们将查看分类预测变量和分类结果变量之间的关系。让我们编辑**矩阵**节点。在**行**字段中，我们将输入我们的预测，即**$N-Status**变量，在**列**字段中，我们将选择模型中的重要预测变量，即**高级**变量：'
- en: '![](img/d809c33d-232d-4524-bd83-023b0fc4f67f.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d809c33d-232d-4524-bd83-023b0fc4f67f.png)'
- en: 'Go to the **Appearance** tab and select Percentage of columns, which means
    we will get the column percentages and click on Run:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 前往**外观**选项卡，选择列百分比，这意味着我们将得到列百分比，然后点击运行：
- en: '![](img/9060d4d0-c216-4a35-9886-4a7ab4f2c1ff.png)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9060d4d0-c216-4a35-9886-4a7ab4f2c1ff.png)'
- en: 'We will get the following result:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将得到以下结果：
- en: '![](img/6fc16b3d-b158-4a04-a9a0-2adbed0c49ed.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6fc16b3d-b158-4a04-a9a0-2adbed0c49ed.png)'
- en: We actually have a **Chi-square** test that is statistically significant, so
    Premier is an important predictor in the model.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 我们实际上有一个具有统计学意义的**卡方**检验，因此**高级**是模型中的一个重要预测变量。
- en: We also get some numerical information that is backing up what we have seen
    in our graphs previously . We can see that about **80%** of those people, the
    non-premier customers that  are associated with being with **Churned** and  about
    **87%** of the **Premier** customers that are associated with being a **Current**
    customer.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还得到了一些数值信息，这些信息支持我们在之前的图表中看到的内容。我们可以看到，大约**80%**的人，即与**流失**相关的非高级客户，以及大约**87%**的**高级**客户与**当前**客户相关。
- en: This is what the model has been doing. Now, we understand how at least one variable
    is used in the model.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是模型所做的工作。现在，我们理解了模型中至少有一个变量是如何被使用的。
- en: Understanding the relationship between a continuous predictor and a categorical
    outcome variable
  id: totrans-165
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解连续预测变量与分类结果变量之间的关系
- en: 'In this section, we are going to look at the relationship between a continuous
    predictor and a categorical outcome variable. In order to do that, we can either
    run a t-test or ANOVA and which is also called the **Means** node in Modeler:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将查看连续预测变量与分类结果变量之间的关系。为了做到这一点，我们可以运行t检验或方差分析，在Modeler中也称为**均值**节点：
- en: 'Connect the **Select** node to the **Means** node from the output palette:'
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**选择**节点从输出调色板连接到**均值**节点：
- en: '![](img/c6b40643-c1df-48fa-8bc2-c2a67280f8d7.png)'
  id: totrans-168
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/c6b40643-c1df-48fa-8bc2-c2a67280f8d7.png)'
- en: 'Edit the **Me****ans** node. In the **Grouping field** box, input the prediction,
    which is the **$N-Status** variable:'
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编辑**均值**节点。在**分组字段**框中，输入预测值，即**$N-Status**变量：
- en: '![](img/b9e21c33-b012-456f-a287-3e7b0d272a1c.png)'
  id: totrans-170
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b9e21c33-b012-456f-a287-3e7b0d272a1c.png)'
- en: 'In the **Test field(s)** box, select all of the continuous variables. Also,
    deselect the actual confidence:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 在**测试字段**框中，选择所有连续变量。同时，取消选择实际的置信度：
- en: '![](img/b2b12a23-f152-4a5f-9430-2c9229559bdf.png)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b2b12a23-f152-4a5f-9430-2c9229559bdf.png)'
- en: 'Click on **OK** and then click on **Run**. You will get the following output:'
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**确定**然后点击**运行**。您将得到以下输出：
- en: '![](img/1e2ca582-9b5e-4e9b-b997-c04fab0ea67b.png)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/1e2ca582-9b5e-4e9b-b997-c04fab0ea67b.png)'
- en: We can see that most of the variables ended up differentiating between the prediction
    for churn and the prediction for being a current customer. There are some predictors
    that weren't important. For example, estimated revenue was not statistically significant
    and neither was the number of employees, but the rest of the predictors were very
    important.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，大多数变量最终区分了流失预测和当前客户预测。有一些预测变量并不重要。例如，估计收入在统计上并不显著，员工数量也是如此，但其余的预测变量都非常重要。
- en: 'Now, here we are seeing the **Mean**. But, let''s try to find some more information.
    We''ll change the **View** from **Simple** to Advanced and we will get the following
    results:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们看到了**均值**。但是，让我们尝试获取更多信息。我们将**视图**从**简单**改为**高级**，我们将得到以下结果：
- en: '![](img/4d6b0afc-35b4-49e6-a4ce-539d038a564d.png)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/4d6b0afc-35b4-49e6-a4ce-539d038a564d.png)'
- en: As you can see, we have the same number of cases for each of these variables.
    The most important predictor ended up being the **TVs** variable, as we can see
    in the following screenshot, and that's the one that's able to differentiate these
    groups the most.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，每个这些变量都有相同数量的案例。最重要的预测变量最终变成了**电视**变量，正如我们在以下屏幕截图中所见，这是能够最大程度地区分这些组的一个变量。
- en: For example look at the TVs field, we can see that the current customers are
    the people who we predicted to churn and we thought we're going to lose these customer,
    on average they bought 2.4 **TVs**. This prediction is significantly more than
    the people who were predicted to be going to stay as current customers which bought
    about one TV on average As we can see, we had a statistically significant result. The
    opposite is true when it comes to **Stereos**. You can see that we have a statistically
    significant result, however you can see that the people that we'd predicted to
    lose as customers on average, bought **13.2** stereos, whereas the people that
    we'd predicted were going to stay as customers on average bought **16.2** stereos
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，看看**电视**字段，我们可以看到，当前客户是我们预测会流失的客户，我们认为我们会失去这些客户，平均购买了2.4**电视**。这个预测显著高于那些预测会继续作为当前客户的人，他们平均只购买了一台电视。正如我们所见，我们得到了一个具有统计显著性的结果。当涉及到**立体声音响**时，情况相反。您可以看到，我们得到了一个具有统计显著性的结果，然而您可以看到，我们预测会失去的客户平均购买了**13.2**台立体声音响，而那些我们预测会继续作为客户的人平均购买了**16.2**台立体声音响。
- en: 'The last thing we''re going to do is look at the relationship between two continuous
    variables. Earlier, we used the scatter plot to show the relationship between
    two continuous variables. Here, we''re going to quantify that by calculating a
    correlation:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将要做的最后一件事是查看两个连续变量之间的关系。之前，我们使用散点图来展示两个连续变量之间的关系。在这里，我们将通过计算相关系数来量化这一点：
- en: 'Using the bank dataset, go to the **Output** palette in Modeler and connect
    the **Statistics** node to source node:'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用银行数据集，在Modeler的**输出**调色板中，将**统计**节点连接到源节点：
- en: '![](img/0e29a00d-c352-4886-b28f-e41d82f03f72.png)'
  id: totrans-182
  prefs: []
  type: TYPE_IMG
- en: 'Edit the **Statistics** node, which allows us to get summary statistics in
    the examine box. Click on the fields option and select current salary:'
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/5ea694a3-58bf-4799-bd66-2f40573711ee.png)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
- en: 'Click on **OK** and correlate current salary with the other continuous variables.
    Click on the arrow next to the correlate box and select the ruler icon, which
    will select all our continuous variables:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/21cccea1-c7d4-4931-b42a-35e7999b72f2.png)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
- en: 'Hold down the *Ctrl* key and deselect **id**:'
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/cb0907dd-66b3-4a27-a933-9990dd0daf5e.png)'
  id: totrans-188
  prefs: []
  type: TYPE_IMG
- en: 'Click on **OK** and then click on **Run.** You will see the following result:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/24736c99-0c7a-47e2-a4d4-551023155d51.png)'
  id: totrans-190
  prefs: []
  type: TYPE_IMG
- en: 'As we can see that the current salary correlates very highly with the starting
    salary:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/73d70395-047f-4591-84fe-068e7573196e.png)'
  id: totrans-192
  prefs: []
  type: TYPE_IMG
- en: Remember that correlation values can range anywhere from -1 to +1\. The farther
    away the value is from zero, the stronger the relationship. If the correlation
    coefficients are positive, this means that as the value of one variable increases,
    the value of the other variable increases. If the correlation coefficients are
    negative, this means that as the value of one variable increases, the value of
    the other variable decreases.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
- en: Notice that the correlation between beginning salary and current salary is very
    high, almost 0.9\. You can also see that the correlation between education law
    and current salary is also very high, at 0.66.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
- en: On the other hand, you can see that the correlation between the amount of time
    that someone has worked at this particular job and also the correlation of the
    number of months that someone has been employed before they have this current
    job, those variables don't really correlate with current salary. Notice that the
    correlation values are actually pretty close to zero.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
- en: This gives us an indication of the types of relationships that you have and
    it allows us to quantify those relationships. In the next section, we are going
    to see how to use decision trees to interpret the results of a machine learning
    model.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
- en: Using decision trees to interpret machine learning models
  id: totrans-197
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we're going to take the predictions from a machine learning
    model, and use those predictions as our outcome variables. Then we will use the
    original predictors to understand what's going on, that is, the logic behind the
    machine learning model.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
- en: Previously, we saw that we could use different graphs and tables to figure out
    how to look at relationships between just one variable, one predictor and how
    it relates to an outcome variable, which is useful and important information to
    have. But generally, a model uses many variables at the same time. Hence looking
    at one predictor is useful, but it doesn't exactly give us a complete picture.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
- en: Another technique would be to use a decision tree model to help us understand
    the logic behind a neural net model, or any kind of machine learning model.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
- en: 'Here, we will be taking our predictions from the model and use that prediction
    as our outcome variable. Then, we will start with our predictions based on the
    predictors that the model used:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
- en: 'Go to the **Field Ops** palette and connect the generated model to the **Type**
    node:'
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/6eef4cd8-883f-4b6b-a263-1b193146b35b.png)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
- en: 'Edit the **Type** node and change the role of the original outcome of the **Status**
    variable. It won''t be **Target** anymore since we are going to change its role
    to **None**. Hence, it won''t be included in the model that we are going to build:'
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/6b0a7c18-a4c9-4329-a455-f807d3e4522c.png)'
  id: totrans-205
  prefs: []
  type: TYPE_IMG
- en: 'Scroll down a little bit. Here, the **$N-Status** prediction is no longer just
    a prediction or the input; in fact, it will be the **Target** itself. And that''s
    what we are going to predict:'
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/930c3796-c0fa-4e9f-b38b-9df8388d6046.png)'
  id: totrans-207
  prefs: []
  type: TYPE_IMG
- en: Here, we are trying to get inside the head of a neural net model (or any kind
    of machine learning model). Take a look at the model's predictions, and use the
    variables that it used to try to figure out the logic.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
- en: 'Remove the confidence value from that prediction since it''s not needed. Change
    its role to **None** and click on **OK**:'
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/d47ff2d2-b619-47d8-8497-ce0e90cb204d.png)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
- en: At this point, we have to use another model to understand what happened during
    the predictions of a machine learning model. We could use a statistical model.
    But the statistical models have a lot of requirements and assumptions of the data.
    Also, they can't handle complex interactions and nonlinear relationships very
    well.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
- en: 'A decision tree model is probably going to do the best job in terms of trying
    to replicate what the neural net model did:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
- en: 'Go to the **Modeling** palette and choose a decision tree model to understand
    what''s going on behind the **Neural Net** model. Connect the **Type** node to
    **C&R** Tree model:'
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/61ecb72e-8e4e-4fdc-8651-e206b64b0e9b.png)'
  id: totrans-214
  prefs: []
  type: TYPE_IMG
- en: We will be predicting the prediction from the **Neural Net** model.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
- en: 'When you edit that model, you will be using all of the predictors that the
    **Neural Net** model used initially to understand what''s going on behind those
    predictions:'
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/32156349-b83f-46a0-b99e-6e7245ea3686.png)'
  id: totrans-217
  prefs: []
  type: TYPE_IMG
- en: 'Click on **Run**, and have a look at the generated model:'
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/fb41c0d9-8175-4917-9f2c-7b24d0b190ca.png)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
- en: 'We will get the following results:'
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/995ffe41-ac9d-4a6d-8c2d-93c0ec5a1f49.png)'
  id: totrans-221
  prefs: []
  type: TYPE_IMG
- en: Notice that the **C&R** model also thinks that the **Premier** variable is the
    most important predictor in the model. The **C&R** model has a lot of same predictors
    that the neural net model had as the most important predictors. That is important
    because we want to make sure that we understand the logic of the neural net model
    (or any machine learning model).
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
- en: Click on the **All** button.
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click on the **%** button and we can see some numbers behind these predictions:'
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/1bb8e074-b27d-41d7-94a7-42d56fd26147.png)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
- en: We aren't interested in predicting our outcome variable, **Status** here. Instead,
    we're trying to understand the reasoning behind the predictions of the neural
    net model.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
- en: Here, you can see that we're using multiple variables. Have a look at the preceding
    screenshot. The first rule says that if the variable is **Premier**, you had a
    value of **NO** and you have been a customer of ours for less than or equal to
    four and a half years, and you bought less than or equal to one and a half TVs,
    and you bought less than or equal to ten point five speakers, we're predicting
    that we're going to lose you as a customer. That rule applied to 41 people and
    the confidence in that rule is about 81%. On the other hand, if all of that same
    criteria is applied, so that you're still a non-premier customer, you haven't
    been with us that long as a customer, you've bought very few TVs but you bought
    more than 10.5 speakers, we're predicting that you're going to be a current customer.
    That rule applied to 127 people, and the confidence in that rule is 88%.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
- en: Now we try to understand the logic as to what potentially the neural net model
    was doing. It's not exactly the same as what the neural net model did, because
    the algorithms for a neural net model and a decision tree model are very different.
    We were just trying to understand the logic behind a neural net model. In this
    case, we had a whole set of criteria, and it ended up allowing us to use or view
    the relationship between multiple variables simultaneously and how they end up
    impacting the prediction. This is just another tool you can use to try to understand
    what's going on behind the predictions of a machine learning model.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  id: totrans-229
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we started off by looking at different types of prediction
    models. Then we used these models to interpret the machine learning models.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we will explore different ways that we can improve individual
    models.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
