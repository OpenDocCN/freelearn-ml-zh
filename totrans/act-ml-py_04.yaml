- en: '3'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '3'
- en: Managing the Human in the Loop
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 管理人机交互
- en: Active ML promises more efficient ML by intelligently selecting the most informative
    samples for labeling by human oracles. However, the success of these human-in-the-loop
    systems depends on effective interface design and workflow management. In this
    chapter, we will cover best practices for optimizing the human role in active
    ML. First, we will explore interactive system design, discussing how to create
    labeling interfaces that enable efficient and accurate annotations. Next, we will
    provide an extensive overview of the leading human-in-the-loop frameworks for
    managing the labeling pipeline. We will then turn to handling model-label disagreements
    through adjudication and quality control. After that, we will discuss strategies
    for recruiting qualified labelers and managing them effectively. Finally, we will
    examine techniques for evaluating and ensuring high-quality annotations and properly
    balanced datasets. By the end of this chapter, you will have the skills to build
    optimized human-in-the-loop systems that fully leverage the symbiosis between
    humans and AI.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 活跃式机器学习通过智能选择由人类神谕进行标记的最具信息量的样本，承诺实现更高效的机器学习。然而，这些人机交互系统的成功取决于有效的界面设计和工作流程管理。在本章中，我们将介绍优化活跃式机器学习中人类角色的最佳实践。首先，我们将探讨交互式系统设计，讨论如何创建能够实现高效和准确标注的标记界面。接下来，我们将提供对管理标注管道的领先人机交互框架的广泛概述。然后，我们将转向通过裁决和质量控制处理模型与标签之间的不一致。之后，我们将讨论招募合格标注员和管理他们的策略。最后，我们将检查评估和确保高质量标注以及适当平衡数据集的技术。到本章结束时，你将具备构建充分利用人类与AI共生关系的优化人机交互系统的技能。
- en: 'In this chapter, we will discuss the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将讨论以下主题：
- en: Designing interactive learning systems and workflows
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设计交互式学习系统和工作流程
- en: Handling model-label disagreements
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 处理模型与标签不一致
- en: Effectively managing human-in-the-loop systems
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有效管理人机交互系统
- en: Ensuring annotation quality and dataset balance
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保标注质量和数据集平衡
- en: Technical requirements
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'In this chapter, we will be using the `huggingface` package, so you’ll need
    to install it, as follows:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将使用`huggingface`包，因此你需要按照以下步骤进行安装：
- en: '[PRE0]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Plus, you will need the following imports:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，你还需要以下导入：
- en: '[PRE1]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Designing interactive learning systems and workflows
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设计交互式学习系统和工作流程
- en: The effectiveness of a human-in-the-loop system depends heavily on how well
    the labeling interface and workflow are designed. Even with advanced active ML
    algorithms selecting the most useful data points, poor interface design can cripple
    the labeling process. Without intuitive controls, informative queries, and efficient
    workflows adapted to humans, annotation quality and speed will suffer.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 人机交互系统的有效性在很大程度上取决于标注界面和工作流程的设计是否得当。即使有先进的活跃式机器学习算法选择最有用的数据点，糟糕的界面设计也可能破坏标注过程。如果没有直观的控制、信息丰富的查询和适应人类的效率高工作流程，标注质量和速度将受到影响。
- en: In this section, we will cover best practices for optimizing the human experience
    when interacting with active ML systems. Following these guidelines will enable
    you to create intuitive labeling pipelines, minimize ambiguity, and streamline
    the labeling process as much as possible. We will also discuss strategies for
    integrating active ML queries, collecting labeler feedback, and combining expert
    and crowd labelers. By focusing on human-centered design, you can develop interactive
    systems that maximize the utility of human input for your models.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将介绍优化与活跃式机器学习系统交互的人类体验的最佳实践。遵循这些指南将使你能够创建直观的标注管道，最大限度地减少歧义，尽可能简化标注过程。我们还将讨论集成活跃式机器学习查询、收集标注员反馈以及结合专家和众包标注员的策略。通过关注以人为中心的设计，你可以开发出最大化人类输入模型效用性的交互式系统。
- en: To begin, we’ll provide definitions for the terms mentioned previously as they
    will be the main focus of this section.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将提供之前提到的术语的定义，因为它们将是本节的主要内容。
- en: 'A **labeling interface** is a user interface through which human annotators
    provide labels for data samples, such as *Roboflow*, *Encord*, and *LabelBox*,
    to name a few. It includes the visual presentation of each sample, as well as
    the controls and mechanisms for entering or selecting the desired labels. For
    example, an object detection labeling interface may display an image and provide
    tools to draw bounding boxes around objects and select class labels for each box.
    The annotator can then label cars, pedestrians, animals, and other objects appearing
    in the image using the interface controls. This can be seen in *Figure 3**.1*,
    where the bounding boxes have been drawn around the dogs using the *dog* class:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '**标注界面**是通过它，人类标注员为数据样本提供标签的用户界面，例如*Roboflow*、*Encord*和*LabelBox*等。它包括每个样本的视觉展示，以及输入或选择所需标签的控制和机制。例如，一个目标检测标注界面可能显示一张图像并提供绘制对象边界框和为每个框选择类别标签的工具。标注员可以使用界面控制来标注图像中出现的汽车、行人、动物和其他对象。这可以在*图3.1*中看到，其中狗周围已经用*狗*类别绘制了边界框：'
- en: '![Figure 3.1 – Example of a labeling interface where the annotator is drawing
    bounding boxes around the dogs](img/B21789_03_01.jpg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![图3.1 – 标注员在狗周围绘制边界框的标注界面示例](img/B21789_03_01.jpg)'
- en: Figure 3.1 – Example of a labeling interface where the annotator is drawing
    bounding boxes around the dogs
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.1 – 标注员在狗周围绘制边界框的标注界面示例
- en: Now, let’s talk about workflows.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们来谈谈工作流程。
- en: 'A **workflow** is the end-to-end sequence of steps that’s followed by the annotator
    to complete the labeling task. It encompasses the full life cycle of a labeling
    job, from receiving the samples to be labeled, interacting with the interface
    to apply labels, submitting the completed annotations, and potentially handling
    exceptions or errors, as depicted in *Figure 3**.2*. Optimizing the workflow involves
    streamlining these steps so that annotators can complete labeling efficiently.
    For an image classification task, the workflow may proceed as follows:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '**工作流程**是标注员完成标注任务所遵循的端到端步骤序列。它包括标注工作的完整生命周期，从接收待标注的样本，与界面交互应用标签，提交完成的标注，以及可能处理异常或错误，如图*图3.2*所示。优化工作流程涉及简化这些步骤，以便标注员可以高效地完成标注。对于图像分类任务，工作流程可能如下进行：'
- en: The annotator logs in to the labeling system and receives a batch of images
    to label.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 标注员登录到标注系统并接收一批需要标注的图像。
- en: The annotator is shown the first image and uses the interface to apply labels.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 标注员首先看到第一张图像，并使用界面应用标签。
- en: The annotator submits the labeled image and moves on to the next image.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 标注员提交标注后的图像并继续到下一张图像。
- en: After labeling the batch, the annotator submits the job, which triggers a reviewing
    stage for a quality check to be performed.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在标注完一批图像后，标注员提交工作，这会触发一个质量检查阶段。
- en: A reviewer checks the labeled images for accuracy and consistency.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 审查员检查标注图像的准确性和一致性。
- en: If any errors are found, the images with incorrect annotations are returned
    to the annotator, at which point they need to re-label those images.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果发现任何错误，带有错误标注的图像将被退回给标注员，此时他们需要重新标注这些图像。
- en: 'Once all the images pass the quality checks, the job is marked as complete:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦所有图像通过质量检查，工作将被标记为完成：
- en: '![Figure 3.2 – Illustration of the labeling workflow](img/B21789_03_02.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![图3.2 – 标注工作流程的说明](img/B21789_03_02.jpg)'
- en: Figure 3.2 – Illustration of the labeling workflow
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.2 – 标注工作流程的说明
- en: In short, the labeling interface focuses on the specific moment of interacting
    with an individual sample and applying labels. The workflow looks more holistically
    at the overall process and how to smoothly guide annotators through their labeling
    work. An effective human-in-the-loop system needs to design both aspects carefully
    around the human user.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，标注界面专注于与单个样本交互并应用标签的具体时刻。工作流程则更全面地看待整个过程以及如何顺畅地引导标注员完成标注工作。一个有效的人机交互系统需要在围绕人类用户设计这两个方面时都仔细考虑。
- en: 'Now that we know what a labeling interface and a workflow are, we understand
    that they can greatly impact the efficiency, accuracy, and overall quality of
    annotations in an active ML system. When designing interactive systems, there
    are several key considerations:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经了解了标注界面和工作流程是什么，我们明白它们可以极大地影响一个活跃的机器学习系统中标注的效率、准确性和整体质量。在设计交互式系统时，有几个关键考虑因素：
- en: '**Intuitive and efficient interfaces**: The labeling interface should be intuitive
    and easy to use. When choosing the labeling interface that you want to use for
    a project, keep in mind that the UI the labelers will use has to be simple and
    efficient. For example, is it easy to draw a bounding box or a polygon around
    the objects of interest in a computer vision annotation project? Are there features
    to speed up the labeling process, such as using a pre-trained model such as Meta’s
    **Segment Anything Model** (**SAM**) ([https://segment-anything.com/](https://segment-anything.com/)),
    which can segment any object in images and pre-label the objects on the image?
    A good example of this is the Smart Polygon feature provided by the labeling platform
    Roboflow, which allows users to automatically label objects with polygons or bounding
    boxes, as shown in *Figure 3**.3*. We will discuss Roboflow later in this chapter:'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**直观且高效的界面**：标记界面应该是直观且易于使用的。在选择您想要用于项目的标记界面时，请记住，标记者将使用的UI必须简单且高效。例如，在计算机视觉标注项目中，围绕感兴趣的对象绘制边界框或多边形是否容易？是否有加快标记过程的功能，例如使用预训练模型，如Meta的**Segment
    Anything Model**（**SAM**）([https://segment-anything.com/](https://segment-anything.com/))，该模型可以分割图像中的任何对象并在图像上预先标记对象？Roboflow提供的智能多边形功能是一个很好的例子，它允许用户使用多边形或边界框自动标记对象，如图*图3.3*所示。我们将在本章后面讨论Roboflow。'
- en: '![Figure 3.3 - Roboflow’s Smart Polygon feature using SAM to automatically
    label objects on images, as demonstrated at https://blog.roboflow.com/automated-polygon-labeling-computer-vision/](img/B21789_03_03.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![图3.3 - Roboflow的智能多边形功能，使用SAM自动在图像上标记对象，如https://blog.roboflow.com/automated-polygon-labeling-computer-vision/所示](img/B21789_03_03.jpg)'
- en: Figure 3.3 - Roboflow’s Smart Polygon feature using SAM to automatically label
    objects on images, as demonstrated at [https://blog.roboflow.com/automated-polygon-labeling-computer-vision/](https://blog.roboflow.com/automated-polygon-labeling-computer-vision/)
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.3 - Roboflow的智能多边形功能，使用SAM自动在图像上标记对象，如[https://blog.roboflow.com/automated-polygon-labeling-computer-vision/](https://blog.roboflow.com/automated-polygon-labeling-computer-vision/)所示
- en: '**Onboarding resources**: Minimal training should be required for labelers
    to use the labeling platform. To minimize the amount of training needed, an effective
    approach is to provide an onboarding document initially written by someone knowledgeable
    about using the labeling interface. This document can then be edited and updated
    by the labelers themselves as they learn how to overcome obstacles. This way,
    the training for labelers becomes less exhaustive as they can utilize the knowledge
    gained by each labeler and pass on what they''ve learned to new members joining
    the team.'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**入门资源**：标记者使用标记平台所需的培训应尽可能少。为了最小化所需的培训量，一个有效的方法是提供一份由熟悉使用标记界面的知识人士最初编写的入门文档。然后，标记者可以在学习如何克服障碍的过程中自行编辑和更新该文档。这样，标记者的培训变得更加高效，因为他们可以利用每个标记者获得的知识，并将所学内容传授给新加入团队的新成员。'
- en: '**Ontologies – naming convention**: An important consideration when designing
    a workflow for an annotation project is to carefully choose the names of the classes
    used for annotation. Having multiple spellings or words for the same class is
    a common issue. For example, in a project that aims to classify different types
    of pets, if a labeler decides to use the breed of the dog (for example, Australian
    Shepherd) instead of the class *dog*, it can cause issues later on. Fixing these
    issues is not always easy and can be time-consuming and expensive. Therefore,
    it is essential to select a labeling platform that allows the use of a labeling
    ontology. A **labeling ontology** is a structured vocabulary that provides a common
    understanding of how to label data, defines the classes, and outlines the relationships
    between different classes, especially in cases where nested structures exist.
    The ontology should also support the correction of typos or incorrect naming.
    In such cases, the names of the classes should be modifiable and update all objects
    labeled using that class. Additionally, the ontologies should be shareable across
    annotation projects to ensure consistency throughout. The ontology should support
    annotations of different styles, such as bounding boxes, polygons, classifications,
    and more. For example, the labeling platform Encord has a flexible labeling ontology
    feature, as depicted in *Figure 3**.4*. We will discuss Encord later in this chapter:'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**本体 – 命名约定**：在设计标注项目的工作流程时，一个重要的考虑因素是仔细选择用于标注的类的名称。对于同一类使用多个拼写或词汇是常见问题。例如，在一个旨在对各种宠物进行分类的项目中，如果标注者决定使用狗的品种（例如，澳大利亚牧羊犬）而不是类*狗*，这可能会在以后造成问题。修复这些问题并不总是容易，可能耗时且昂贵。因此，选择一个允许使用标注本体的标注平台至关重要。**标注本体**是一个结构化词汇表，它提供了对如何标注数据的共同理解，定义了类，并概述了不同类之间的关系，特别是在存在嵌套结构的情况下。本体还应支持纠正拼写错误或错误的命名。在这种情况下，类的名称应该是可修改的，并更新使用该类标注的所有对象。此外，本体应在不同的标注项目中可共享，以确保一致性。本体应支持不同风格的标注，如边界框、多边形、分类等。例如，标注平台Encord具有灵活的标注本体功能，如图*图3.4*所示。我们将在本章后面讨论Encord：'
- en: '![Figure 3.4 – Encord’s labeling ontology](img/B21789_03_04.jpg)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![图3.4 – Encord的标注本体](img/B21789_03_04.jpg)'
- en: Figure 3.4 – Encord’s labeling ontology
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.4 – Encord的标注本体
- en: '**Informative queries**: The samples that are presented to labelers should
    provide sufficient context and information to ensure clarity in the labeling task.
    This may involve providing complete documents or images instead of just extracts.
    Queries should be designed to minimize any potential ambiguity. For example, when
    using active ML to select the most informative frames for labeling from unlabeled
    videos, it is crucial to carefully organize the workflow to ensure that labelers
    are aware of the specific video they are labeling. In this case, the solution
    would be to ensure that the selected frames are separated by video and sorted
    before being sent to the labeling platform. The frames should then be presented
    to the labelers as a video with *jumps* due to the absence of non-selected frames.
    However, it is important to note that these missing frames do not remove the overall
    context entirely. The labeling platform Encord offers a solution for cases like
    this one with their feature called *image sequences*. Their image sequences format
    presents groups of images as a video to the labelers.'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**信息查询**：提供给标注者的样本应提供足够的信息和上下文，以确保标注任务的清晰性。这可能涉及提供完整的文档或图像，而不仅仅是摘录。查询应设计得尽可能减少任何潜在的歧义。例如，当使用主动机器学习从未标记的视频中选择用于标注的最具信息量的帧时，仔细组织工作流程以确保标注者了解他们正在标注的具体视频至关重要。在这种情况下，解决方案是确保选定的帧按视频分开并排序后再发送到标注平台。然后，应将这些帧以包含因缺少未选帧而产生的跳跃的视频形式呈现给标注者。然而，需要注意的是，这些缺失的帧并没有完全消除整体上下文。Encord的标注平台为这类情况提供了一个解决方案，其名为*图像序列*的功能。他们的图像序列格式将图像组以视频的形式呈现给标注者。'
- en: '**Automated workflows**: Labeling tasks should be automated as much as possible.
    The process of creating a task should involve minimal human intervention. One
    effective method for achieving this automation is by implementing a script that
    can run model inference on the unlabeled data pool, then use these predictions
    in the active ML sampling, particularly when utilizing uncertainty sampling, and,
    finally, send the selected data samples to the labeling platform and assign them
    to labelers and reviewers based on their availability.'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自动化工作流程**：标注任务应尽可能自动化。创建任务的过程应涉及最小程度的人类干预。实现这种自动化的一个有效方法是通过实施一个脚本，该脚本可以在未标记的数据池上运行模型推理，然后使用这些预测在主动机器学习采样中，尤其是在利用不确定性采样时，最后将选定的数据样本发送到标注平台，并根据他们的可用性分配给标注者和审稿人。'
- en: '**Labeler feedback**: Allowing labelers to provide feedback or ask questions
    on difficult or ambiguous samples enables the annotation quality to improve over
    time. Therefore, the labeling platform should include a commenting and chatting
    system, which would allow labelers to help each other or seek guidance from field
    experts and reviewers.'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标注者反馈**：允许标注者对困难或模糊的样本提供反馈或提问，可以使注释质量随着时间的推移而提高。因此，标注平台应包括评论和聊天系统，这将允许标注者互相帮助或寻求领域专家和审稿人的指导。'
- en: By focusing on these aspects, you can create labeling systems that are adapted
    to human strengths and limitations. Well-designed interfaces and workflows result
    in more accurate, consistent, and efficient annotations, which are essential for
    the success of an ML project. Now, let’s explore the current labeling platforms
    that you can consider.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 通过关注这些方面，您可以创建适应人类优势和局限性的标注系统。精心设计的界面和工作流程导致更准确、一致和高效的注释，这对于机器学习项目的成功至关重要。现在，让我们探索您可以考虑的当前标注平台。
- en: Exploring human-in-the-loop labeling tools
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索人类在循环的标注工具
- en: '**Human-in-the-loop labeling frameworks** are critical for enabling effective
    collaboration between humans and ML systems. In this section, we will explore
    some of the leading human-in-the-loop labeling tools for active ML.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**人类在循环的标注框架**对于实现人类与机器学习系统之间有效协作至关重要。在本节中，我们将探讨一些领先的用于主动机器学习的人类在循环标注工具。'
- en: We will look at how these frameworks allow humans to provide annotations, verify
    predictions, adjust model confidence thresholds, and guide model training through
    interfaces and workflows optimized for human-AI collaboration. Key capabilities
    provided by human-in-the-loop frameworks include annotation-assisted active ML,
    human verification of predictions, confidence calibration, and model interpretability.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将探讨这些框架如何允许人类通过优化人类-人工智能协作的界面和工作流程来提供注释、验证预测、调整模型置信度阈值以及指导模型训练。人类在循环框架提供的关键能力包括注释辅助的主动机器学习、人类验证预测、置信度校准和模型可解释性。
- en: The labeling tools we will examine include Snorkel AI, Prodigy, Encord, Roboflow,
    and others. We will walk through examples of how these tools can be leveraged
    to build applied active learning systems with effective human guidance. The strengths
    and weaknesses of different approaches will be discussed. By the end of this section,
    you will have a solid understanding of how to determine the right human-in-the-loop
    framework for your ML project based on your use case needs and constraints.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将要检查的标注工具包括Snorkel AI、Prodigy、Encord、Roboflow等。我们将通过示例说明如何利用这些工具在有效的人类指导下构建应用主动学习系统。我们将讨论不同方法的优缺点。在本节结束时，您将深入了解如何根据您的用例需求和限制确定适合您的机器学习项目的正确人类在循环框架。
- en: Common labeling platforms
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 常见的标注平台
- en: 'Many labeling platforms offer a range of features for data labeling, including
    AI-assisted labeling, active ML, collaboration tools, and quality control tools.
    However, they vary in terms of pricing, model training, deployment capabilities,
    data management and curation tools, and model explainability features. For instance,
    when we examine six of the most frequently used labeling platforms, as depicted
    in *Figure 3**.5*, we can observe these distinctions:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 许多标注平台提供了一系列数据标注功能，包括人工智能辅助标注、主动机器学习、协作工具和质量控制工具。然而，它们在定价、模型训练、部署能力、数据管理和整理工具以及模型可解释性功能方面存在差异。例如，当我们检查如图3.5所示的六种最常用的标注平台时，我们可以观察到这些区别：
- en: '![Figure 3.5 – Comparison table of six of the most common labeling platforms](img/B21789_03_05.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![图3.5 – 六种最常见的标注平台比较表](img/B21789_03_05.jpg)'
- en: Figure 3.5 – Comparison table of six of the most common labeling platforms
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.5 – 六个最常见的标注平台比较表
- en: Overall, all of the labeling platforms mentioned previously offer a variety
    of advantages and disadvantages. It is important to choose a platform that is
    well suited to the specific needs and requirements of the ML projects.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 总体而言，之前提到的所有标注平台都提供了各种优点和缺点。选择一个适合特定ML项目需求和要求的平台非常重要。
- en: If you are seeking a platform with a wide array of features, including AI-assisted
    labeling, active learning, collaboration tools, and quality control, then Snorkel
    AI ([https://snorkel.ai/](https://snorkel.ai/)), Encord ([https://encord.com/](https://encord.com/)),
    LabelBox ([https://labelbox.com/](https://labelbox.com/)), and Dataloop ([https://dataloop.ai/](https://dataloop.ai/))
    may be suitable options for you. On the other hand, if you require a platform
    specifically designed for **natural language processing** (**NLP**) tasks, then
    Prodigy ([https://prodi.gy/](https://prodi.gy/)) might be a good choice.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在寻找一个具有广泛功能平台的用户，包括AI辅助标注、主动学习、协作工具和质量控制，那么Snorkel AI ([https://snorkel.ai/](https://snorkel.ai/))、Encord
    ([https://encord.com/](https://encord.com/))、LabelBox ([https://labelbox.com/](https://labelbox.com/))和Dataloop
    ([https://dataloop.ai/](https://dataloop.ai/))可能是适合你的选择。另一方面，如果你需要一个专门为**自然语言处理**（**NLP**）任务设计的平台，那么Prodigy
    ([https://prodi.gy/](https://prodi.gy/))可能是一个不错的选择。
- en: Next, we’ll examine how to handle situations where the model and the human disagree.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将检查如何处理模型与人工意见不一致的情况。
- en: Handling model-label disagreements
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 处理模型与标签之间的不一致
- en: Disagreements between model predictions and human labels are inevitable. In
    this section, we will study how to identify and resolve conflicts.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 模型预测与人工标签之间的不一致是不可避免的。在本节中，我们将研究如何识别和解决冲突。
- en: Programmatically identifying mismatches
  id: totrans-57
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 编程识别不匹配
- en: To identify discrepancies between the model’s predictions and the human-annotated
    labels, we can write some simple Python code that highlights the mismatches for
    review.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 为了识别模型预测与人工标注标签之间的差异，我们可以编写一些简单的Python代码来突出显示这些不匹配以便审查。
- en: 'Let’s consider the example of an NLP sentiment classifier. This type of classifier
    is designed to analyze and understand the sentiment or emotions expressed in text.
    By examining the words, phrases, and context used in a given piece of text, an
    NLP sentiment classifier can determine whether the sentiment is positive, negative,
    or neutral. First, we will use the `sentiment-analysis` model from Huggingface:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑一个NLP情感分类器的例子。这种分类器旨在分析和理解文本中表达的情感或情绪。通过检查给定文本中使用的单词、短语和上下文，NLP情感分类器可以确定情感是正面、负面还是中性。首先，我们将使用Huggingface的`sentiment-analysis`模型：
- en: '[PRE2]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The returns the following output:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 这返回以下输出：
- en: '[PRE3]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The model correctly classifies these two sentences. Now, we want to study what
    flags a mismatch between a labeled dataset and the model’s predictions for further
    review. So, we will download a labeled dataset from `huggingface` called *imdb*.
    This dataset is a large movie review dataset that’s used for binary sentiment
    classification. We can load this dataset with the following line of code:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 模型正确地分类了这两句话。现在，我们想要研究是什么标志了标注数据集与模型预测之间的不匹配，以便进行进一步审查。因此，我们将从`huggingface`下载一个名为*imdb*的标注数据集。这个数据集是一个大型的电影评论数据集，用于二元情感分类。我们可以使用以下代码行来加载数据集：
- en: '[PRE4]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'For testing purposes, we’ll only use a few samples:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试目的，我们只使用几个样本：
- en: '[PRE5]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'This returns the following output:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 这返回以下输出：
- en: '[PRE6]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'We can take a better look at this dataset by looking at the last item in the
    dataset:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过查看数据集的最后一条记录来更好地了解这个数据集：
- en: '[PRE7]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'This gives us the following output:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 这给出了以下输出：
- en: '[PRE8]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Here, we have a field called `text`, which provides a review of the movie, and
    a field called `label`, which classifies whether the sentiment is positive or
    negative. In this case, it is positive.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们有一个名为`text`的字段，它提供了电影的评论，还有一个名为`label`的字段，它将情感分类为正面或负面。在这种情况下，它是正面的。
- en: 'Let’s gather the model’s predictions on these five samples:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们收集模型对这五个样本的预测：
- en: '[PRE9]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'This returns the following output:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 这返回以下输出：
- en: '[PRE10]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Now, to find out if we have mismatches with the original annotations from the
    dataset, we must define `x_true` and `y_true`, as follows:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，为了找出我们是否有与数据集原始标注的不匹配，我们必须定义`x_true`和`y_true`，如下所示：
- en: '[PRE11]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Here, `x_true` is an array of the reviews and `y_true` is an array of labels.
    We can compare these to the model’s predictions:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，`x_true`是一个包含评论的数组，而`y_true`是一个包含标签的数组。我们可以将这些与模型的预测进行比较：
- en: '[PRE12]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'This returns the following output:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 这将返回以下输出：
- en: '[PRE13]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Here, data points where the model and human disagree have been returned. These
    would be selected for additional review in this case.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，模型和人类不一致的数据点已被返回。在这种情况下，这些数据点将被选中进行额外审查。
- en: Manual review of conflicts
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 手动审查冲突
- en: 'After sampling the mismatched cases, we can do a manual review. Here are some
    example scenarios:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在采样不匹配案例后，我们可以进行手动审查。以下是一些示例场景：
- en: The model predicts *dog* but the human labeled it as *cat*. On review, the photo
    quality was poor and it was a dog. This is a human error.
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模型预测的是**狗**，但人类标注的是**猫**。在审查过程中，照片质量很差，实际上是一只狗。这是一个人为错误。
- en: The model predicts *negative* sentiment but the text was confidently *positive*
    according to the reviewer. This indicates a weakness in the model and needs to
    be fixed.
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模型预测的是**负面**情绪，但根据审阅者的判断，文本是自信地**正面**的。这表明模型存在弱点，需要修复。
- en: A manual review of model predictions provides valuable insights into the errors
    made by both the model and human labelers. One key strength is its ability to
    identify **systematic biases** in the training data, as well as cases where the
    model fails in ways that humans would not. However, a manual review is time-consuming
    and limited by human subjectivity and oversight. Typically, only a small subset
    of cases is reviewed, which may not uncover all weaknesses in the model. While
    a manual review serves as a useful debugging tool during model development, conducting
    large-scale reviews is often impractical. In such cases, alternative techniques
    such as active learning cycles may be necessary to further improve the model’s
    robustness.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 对模型预测进行手动审查可以提供关于模型和人类标注者所犯错误的有价值见解。一个关键优势是它能够识别训练数据中的**系统性偏差**，以及模型以人类不会的方式失败的情况。然而，手动审查耗时且受限于人类的主观性和监督。通常，只有一小部分案例被审查，这可能无法揭示模型的所有弱点。虽然手动审查在模型开发期间作为有用的调试工具很有用，但进行大规模审查通常不切实际。在这种情况下，可能需要采用如主动学习周期等替代技术来进一步提高模型的鲁棒性。
- en: Another way to utilize mismatched sampling is by including the mismatched samples
    in the active ML pool for re-labeling. This allows for a better understanding
    of confusing cases and enables the model to be trained to handle such cases more
    effectively. This iterative process of continuously adding and re-labeling data
    helps fine-tune the model without the need for manual reviewing.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 利用不匹配采样的另一种方式是将不匹配的样本包含在主动机器学习池中重新标注。这有助于更好地理解复杂案例，并使模型能够更有效地处理此类案例。这种持续添加和重新标注数据的迭代过程有助于微调模型，而无需手动审查。
- en: By systematically identifying, understanding, and resolving model-label disagreements,
    the system improves over time. The key is to maintain human oversight in the process.
    In the next section, we will talk about how to manage human-in-the-loop systems.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 通过系统地识别、理解和解决模型与标注之间的不一致，系统会随着时间的推移而改进。关键是在这个过程中保持人类的监督。在下一节中，我们将讨论如何管理闭环人类系统。
- en: Effectively managing human-in-the-loop systems
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 有效管理闭环人类系统
- en: Getting high-quality annotations requires finding, vetting, supporting, and
    retaining effective labelers. It is crucial to build an appropriate labeling team
    that meets the requirements of the ML project.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 获取高质量的标注需要找到、审查、支持和保留有效的标注者。构建一个符合机器学习项目要求的适当标注团队至关重要。
- en: The first option is to establish an internal labeling team. This involves hiring
    full-time employees to label data, which enables close management and training.
    Cultivating domain expertise is easier when done internally. However, there are
    drawbacks to this, such as higher costs and turnover. This option is only suitable
    for large, ongoing labeling requirements.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个选择是建立内部标注团队。这涉及到雇佣全职员工进行数据标注，这有助于密切管理和培训。当内部进行时，培养领域专业知识更容易。然而，这种方法也有缺点，例如成本较高和人员流动。这种方法仅适用于大型、持续的数据标注需求。
- en: Another option is to crowdsource labeling tasks using platforms such as ScaleAI,
    which allow labeling tasks to be distributed to a large, on-demand workforce.
    This option provides flexibility and lower costs, but it can lack domain expertise.
    Quality control becomes challenging when working with anonymous crowd workers.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种选择是使用ScaleAI等平台进行众包标注任务，这些平台允许将标注任务分配给大量按需工作的人员。这种选择提供了灵活性和较低的成本，但可能缺乏领域专业知识。与匿名众包工作者合作时，质量控制变得具有挑战性。
- en: You could use third-party labeling services, such as Innovatiana, which specializes
    in providing trained annotators for ML projects. This option leverages existing
    labeling teams and workflows. However, it can be more costly than crowdsourcing
    and challenging to manage.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用第三方标注服务，例如Innovatiana，该服务专门为ML项目提供训练有素的标注员。此选项利用现有的标注团队和工作流程。然而，这可能比众包成本更高，且管理起来更具挑战性。
- en: Lastly, hybrid options are also doable. For example, you could use a mixed strategy
    that combines third-party labelers with internal reviewers. The optimal approach
    depends on budget, timelines, data sensitivity, field expertise, and project scope.
    A combination of sources provides flexibility. The key is instituting strong training,
    validation, and monitoring to get the quality needed from any labeling resource.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，混合选项也是可行的。例如，您可以使用结合第三方标注员和内部审查员的混合策略。最佳方法取决于预算、时间表、数据敏感性、领域专业知识以及项目范围。来源的组合提供了灵活性。关键是实施强大的培训、验证和监控，以从任何标注资源中获得所需的质量。
- en: '*The next question here is how to manage the labeling* *team efficiently.*'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '*接下来要问的问题是如何高效地管理标注* *团队*。'
- en: Managing a labeling team for maximum efficiency requires setting clear guidelines
    so that labelers understand expectations and the big-picture goals. As mentioned
    earlier in this chapter, workflows should be structured to optimize labelers’
    time, automating where possible and minimizing redundant tasks. Providing good
    tools is also key.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 为了最大限度地提高效率，管理标注团队需要制定明确的指南，使标注员了解期望和整体目标。如本章前面所述，工作流程应结构化以优化标注员的时间，尽可能自动化，并最小化重复性任务。提供良好的工具也是关键。
- en: 'When feasible, give labelers access to dashboards and metrics so that they
    can see the growing dataset. This keeps them engaged in the process. For example,
    in *Figure 3**.6*, we can see that in the Encord platform, the labelers can see
    how much they have labeled and how much they have left:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 当可行时，给予标注员访问仪表板和指标的权利，以便他们可以看到不断增长的数据库。这使他们保持对过程的参与。例如，在*图3*.6中，我们可以看到在Encord平台上，标注员可以看到他们已经标注了多少以及还剩下多少：
- en: '![Figure 3.6 – Encord’s Instance label tasks status for an annotation project](img/B21789_03_06.jpg)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![图3.6 – Encord的标注项目实例标签任务状态](img/B21789_03_06.jpg)'
- en: Figure 3.6 – Encord’s Instance label tasks status for an annotation project
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.6 – Encord的标注项目实例标签任务状态
- en: Open communication channels allow labelers to easily discuss ambiguities, ask
    questions, and provide feedback. Make yourself accessible as a resource. Review
    labeling speed, accuracy, and costs to identify opportunities to improve productivity
    through enhancements to tools, training, or workflows.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 开放沟通渠道使标注员能够轻松讨论模糊性、提问并提供反馈。让自己成为一个可利用的资源。审查标注速度、准确性和成本，以识别通过改进工具、培训或工作流程来提高生产力的机会。
- en: Effective management also requires holding regular meetings to discuss progress,
    issues, and feedback. Designate senior labelers to help train and support newer
    members. Break large projects into stages with milestones to maintain focus. Highlight
    top performers and celebrate wins to motivate the team. Address underperformance
    through coaching and training.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 有效的管理还要求定期举行会议来讨论进度、问题和反馈。指派资深标注员帮助培训和支援新成员。将大型项目分解为阶段，并设定里程碑以保持专注。突出表现优异者并庆祝胜利以激励团队。通过指导和培训解决表现不佳的问题。
- en: With strong training, optimized workflows, communication, and performance management,
    a labeling team can work efficiently.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 通过强大的培训、优化的工作流程、沟通和绩效管理，标注团队能够高效工作。
- en: Another issue to be aware of and to address is that annotators can introduce
    biases based on their personal experiences, cultural backgrounds, or misunderstandings
    of the task at hand. This can lead to biased datasets where certain perspectives
    or characteristics are overrepresented or underrepresented, thus affecting the
    fairness and accuracy of ML models trained on these datasets. Biased annotations
    can potentially lead to AI models that perpetuate or even amplify these biases.
    This is particularly concerning in sensitive applications such as facial recognition,
    sentiment analysis, and predictive policing, where biased data can lead to unfair
    or discriminatory outcomes. As ML evolves, there’s a growing emphasis on developing
    general-purpose foundational models that significantly reduce the reliance on
    extensive human labeling.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个需要注意并解决的问题是，标注者可能会根据他们的个人经验、文化背景或对当前任务的误解引入偏差。这可能导致某些观点或特征在数据集中过度或不足代表，从而影响基于这些数据集训练的机器学习模型的公平性和准确性。有偏差的标注可能导致AI模型持续或甚至放大这些偏差。这在面部识别、情感分析和预测警务等敏感应用中尤其令人担忧，因为有偏差的数据可能导致不公平或歧视性的结果。随着机器学习的发展，越来越重视开发通用基础模型，这些模型可以显著减少对大量人工标注的依赖。
- en: Note
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: A general-purpose foundational model is a versatile AI system that’s been trained
    on vast amounts of data that can be adapted or fine-tuned to perform a wide range
    of tasks across different domains without the need for task-specific training
    from scratch.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 通用基础模型是一种多才多艺的AI系统，它已经在大量数据上进行了训练，可以适应或微调以执行不同领域内广泛的任务，而无需从头开始进行特定任务的训练。
- en: An example of such innovation is SAM when it is used as a feature on labeling
    platforms to help accelerate labeling, which embodies the capability to understand
    and segment various objects in images or videos without the need for explicit,
    detailed human annotation for every new object type. This not only streamlines
    the development process by requiring less manual labeling but also aims to mitigate
    bias by relying on generalized learning capabilities that can adapt to diverse
    scenarios without inheriting the specific biases of a small group of human annotators.
    However, the design and training of these foundational models still necessitate
    careful consideration of the data they’re trained on and the potential biases
    inherent in those datasets, highlighting the ongoing importance of fairness and
    ethical considerations in the field of AI.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 这样的创新例子是当SAM作为标注平台上的一个功能使用时，它有助于加速标注，体现了理解和分割图像或视频中的各种对象的能力，而无需为每个新的对象类型进行明确、详细的人工标注。这不仅通过减少手动标注来简化开发过程，还旨在通过依赖可以适应各种场景的通用学习能力来减轻偏差，而不继承一小部分人类标注者的特定偏差。然而，这些基础模型的设计和训练仍然需要仔细考虑它们所训练的数据以及这些数据集中固有的潜在偏差，突出了在AI领域公平性和伦理考量持续的重要性。
- en: Even with an efficient labeling team, can we ensure consistent quality of annotations
    over time? In the following section, we will explore this issue and discuss methods
    for ensuring the ongoing quality of annotations.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 即使有一个高效的标注团队，我们能否确保标注质量在时间上的一致性？在下一节中，我们将探讨这个问题，并讨论确保标注持续质量的方法。
- en: Ensuring annotation quality and dataset balance
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 确保标注质量和数据集平衡
- en: Maintaining high annotation quality and target class balance requires diligent
    management. In this section, we’ll look at some techniques that can help assure
    labeling quality.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 维护高标注质量和目标类别平衡需要勤勉的管理。在本节中，我们将探讨一些可以帮助确保标注质量的技巧。
- en: Assess annotator skills
  id: totrans-113
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 评估标注者技能
- en: It is highly recommended that annotators undergo thorough training sessions
    and complete qualification tests before they can work independently. This ensures
    that they have a solid foundation of knowledge and understanding in their respective
    tasks. These performance metrics can be visualized in the labeling platform when
    the reviewers accept or reject annotations. If a labeler has many rejected annotations,
    it is necessary to ensure that they understand the task and assess what help can
    be provided to them.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 非常推荐标注者在独立工作之前接受彻底的培训课程并完成资格测试。这确保了他们在各自任务上拥有坚实的知识和理解基础。这些性能指标可以在标注平台上通过审查者接受或拒绝标注时进行可视化。如果一个标注者有许多被拒绝的标注，有必要确保他们理解任务并评估可以提供的帮助。
- en: It is advisable to periodically assess the labeler’s skills by providing control
    samples for evaluation purposes. This ongoing evaluation helps maintain the quality
    and consistency of their work over time.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 建议定期通过提供用于评估的控制样本来评估标签者的技能。这种持续的评估有助于保持他们工作质量的一致性。
- en: For example, designing datasets with known labels and asking the labelers to
    label these evaluation sets can be a good way to check if the task is well understood.
    Then, we can assess the accuracy of the annotations using a simple Python script.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，设计带有已知标签的数据集，并要求标签者对这些评估集进行标注，可以是一种检查任务是否理解良好的好方法。然后，我们可以使用简单的 Python 脚本来评估标注的准确性。
- en: 'First, we must define some dummy annotations that have been made by a labeler
    and some real annotations:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们必须定义一些标签者已做的虚拟标注和一些真实标注：
- en: '[PRE14]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Then, we must calculate the accuracy and kappa score using the `sklearn` function:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们必须使用 `sklearn` 函数计算准确率和 kappa 分数：
- en: '[PRE15]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'This returns the following output:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 这将返回以下输出：
- en: '[PRE16]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: This technique is a simple and easy way to implement a basic assessment of the
    annotator’s skills. Aim for an accuracy of above 90% and a kappa score of above
    0.80 and then we can investigate poor agreements.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 这种技术是实现标注者技能基本评估的简单易行方法。目标是准确性超过 90% 和 kappa 分数超过 0.80，然后我们可以调查不良的协议。
- en: Use multiple annotators
  id: totrans-124
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用多个标注者
- en: If your budget allows, you can assign each data point to multiple annotators
    to identify conflicts. These conflicts can then be resolved through consensus
    or by an expert reviewer.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的预算允许，您可以将每个数据点分配给多个标注者以识别冲突。然后，可以通过共识或由专家审阅员来解决这些冲突。
- en: 'For example, with sentiment analytics labeling, we have our dummy annotations
    for three labelers:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，在情感分析标注中，我们有三个标签者的虚拟标注：
- en: '[PRE17]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'We can create a pandas DataFrame with the labels from the three labelers:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用来自三个标签器的标签创建一个 pandas DataFrame：
- en: '[PRE18]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Then, we can take the majority vote as a real label:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们可以将多数投票作为真实标签：
- en: '[PRE19]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'This returns the following output:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 这将返回以下输出：
- en: '[PRE20]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: This method can be expensive because the labelers work on the same data, but
    it can ultimately result in more accurate annotations. Its feasibility depends
    on the priorities of the ML project, as well as the budget and organization of
    the labeling team. For instance, if the labeling team consists of junior labelers
    who are new to the field, this method may be a suitable choice.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 这种方法可能成本较高，因为标签器在相同的数据上工作，但它最终可能导致更准确的标注。其可行性取决于机器学习项目的优先级，以及标注团队的预算和组织。例如，如果标注团队由对领域新手的初级标签器组成，这种方法可能是一个合适的选择。
- en: Balanced sampling
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 平衡采样
- en: To prevent imbalanced datasets, we can actively sample minority classes at higher
    rates during data collection.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 为了防止数据集不平衡，我们可以在数据收集期间以更高的比率主动采样少数类。
- en: When collecting a dataset, it is important to monitor the distribution of labels
    across classes and adjust sampling rates accordingly. Without intervention, datasets
    often end up skewed toward majority classes due to their natural higher frequencies.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 在收集数据集时，重要的是要监控标签在各个类别之间的分布，并相应地调整采样率。如果没有干预，由于自然的高频率，数据集往往偏向于多数类。
- en: 'Let’s look at some ways to actively sample minority classes at higher rates:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看一些在更高比率上主动采样少数类的方法：
- en: Employing active ML approaches such as **uncertainty sampling** can bias selection
    toward rare cases. Indeed, uncertainty sampling actively selects the data points
    that the current model is least certain about for labeling. These tend to be edge
    cases and rare examples, rather than the common cases the model has already seen
    many examples of. Since, by definition, minority classes occur less frequently,
    the model is naturally more uncertain about these classes. So, uncertainty sampling
    will tend to pick more examples from the under-represented classes for labeling
    to improve the model’s understanding.
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 采用如**不确定性采样**等主动机器学习方法可能会使选择偏向于罕见案例。实际上，不确定性采样会主动选择当前模型最不确定的数据点进行标注。这些通常是边缘案例和罕见示例，而不是模型已经看到很多示例的常见案例。由于，根据定义，少数类出现的频率较低，模型对这些类自然更不确定。因此，不确定性采样倾向于从代表性不足的类别中选取更多示例进行标注，以改善模型的理解。
- en: 'Checking label distributions periodically during data collection is important.
    If minority classes are underrepresented, it is recommended to selectively sample
    more data points with those labels. This can be achieved by sampling the data
    from the unlabeled data pool using a pre-trained model that can identify the unrepresented
    classes. To ensure higher representation, the sampling strategy should be set
    to select specific classes with a higher ratio. For example, let’s reuse the *imdb*
    dataset from Hugging Face:'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在数据收集期间定期检查标签分布很重要。如果少数类代表性不足，建议有选择性地采样更多具有这些标签的数据点。这可以通过使用能够识别未代表类别的预训练模型从未标记数据池中采样数据来实现。为了确保更高的代表性，采样策略应设置为以更高的比例选择特定类别。例如，让我们重新使用Hugging
    Face的*imdb*数据集：
- en: '[PRE21]'
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'For testing purposes, we assume that the dataset is unlabeled and that the
    labels attached to it are from the model’s predictions. So, our goal is to sample
    the under-represented class. Let’s assume class `0` is under-represented and we
    want to over-sample it. First, we must take the training dataset as our dummy
    unlabeled data pool and convert it into a pandas `DataFrame`:'
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为了测试目的，我们假设数据集是无标签的，并且附加到其上的标签来自模型的预测。因此，我们的目标是采样代表性不足的类别。假设类别`0`是代表性不足的，我们希望对其进行过采样。首先，我们必须将训练数据集作为我们的虚拟无标签数据池，并将其转换为pandas
    `DataFrame`：
- en: '[PRE22]'
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Next, we must get the number of data points for each label:'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 接下来，我们必须获取每个标签的数据点数量：
- en: '[PRE23]'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Now, we must calculate the number of samples to sample for each label, assuming
    we want to sample 1,000 samples and we want 80% of these samples to belong to
    class `0` and 20% to class `1`:'
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在，我们必须计算每个标签要采样的样本数量，假设我们想要采样1,000个样本，并且我们希望其中80%的样本属于类别`0`，20%属于类别`1`：
- en: '[PRE24]'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: So, we sampled with the correct ratio and can, in theory, add these samples
    to our labeling queue next. By setting a higher sampling ratio for class `0` from
    the unlabeled data, we selectively oversample the minority class when getting
    new labeled data.
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 因此，我们按照正确的比例进行了采样，理论上可以将这些样本添加到我们的标记队列中。通过从未标记数据中为类别`0`设置更高的采样率，我们在获取新的标记数据时，有选择性地对少数类进行了过采样。
- en: The key is closely tracking the evolving label distribution and steering sampling
    toward under-represented classes. This prevents highly imbalanced datasets that
    fail to provide sufficient examples for minority classes. The result is higher-quality,
    more balanced training data.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 关键是密切跟踪标签分布的演变，并将采样引导到代表性不足的类别。这防止了高度不平衡的数据集，这些数据集未能为少数类提供足够的示例。结果是更高质量、更平衡的训练数据。
- en: Summary
  id: totrans-150
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: This chapter explored strategies for effectively incorporating human input into
    active ML systems. We discussed how to design workflows that enable efficient
    collaboration between humans and AI models. Leading open source frameworks for
    human-in-the-loop learning were reviewed, including their capabilities for annotation,
    verification, and active learning.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 本章探讨了将人工输入有效融入主动机器学习系统的策略。我们讨论了如何设计工作流程，以实现人类与AI模型之间的有效协作。回顾了包括其注释、验证和主动学习能力在内的领先开源框架。
- en: Handling model-label disagreements is a key challenge in human-AI systems. Techniques
    such as manually reviewing conflicts and active learning cycles help identify
    and resolve mismatches. Carefully managing the human annotation workforce is also
    critical as it covers recruiters, training, quality control, and tooling.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 处理模型与标签之间的不一致性是人与AI系统中的关键挑战。例如，手动审查冲突和主动学习周期等技术有助于识别和解决不匹配。仔细管理人工标注工作团队也是至关重要的，因为它涵盖了招聘、培训、质量控制和技术工具。
- en: A major focus was ensuring high-quality balanced datasets while using methods
    such as qualification exams, inter-annotator metrics such as the accuracy or the
    Kappa score, consensus evaluations, and targeted sampling. By implementing robust
    processes around collaboration, conflict resolution, annotator management, and
    data labeling quality, the usefulness of human input in the loop can be maximized.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 主要重点是确保使用如资格考试、注释者间度量（如准确率或Kappa分数）、共识评估和针对性采样等方法获得高质量的平衡数据集。通过在协作、冲突解决、标注者管理和数据标注质量周围实施稳健的过程，可以最大化循环中人工输入的有用性。
- en: In the next chapter, we will shift our focus to applying active ML approaches
    specifically for computer vision tasks such as image classification, semantic
    segmentation, and object detection.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将把我们的重点转向应用专门针对计算机视觉任务的主动机器学习（ML）方法，例如图像分类、语义分割和目标检测。
