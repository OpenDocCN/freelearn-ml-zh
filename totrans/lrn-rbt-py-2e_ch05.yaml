- en: Designing ChefBot Hardware and Circuits
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设计 ChefBot 硬件和电路
- en: In this chapter, we will discuss the design and workings of ChefBot hardware
    and look at a selection of its hardware components. In the previous chapter, we
    designed and simulated the basic robot framework in a hotel environment using
    Gazebo and ROS, and tested a few variables, such as the robot body mass, motor
    torque, wheel diameter, and more. We also tested the autonomous navigation capability
    of ChefBot in a hotel environment.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将讨论 ChefBot 硬件的设计和工作原理，并查看其硬件组件的选择。在前一章中，我们使用 Gazebo 和 ROS 在酒店环境中设计和模拟了基本的机器人框架，并测试了一些变量，如机器人本体质量、电机扭矩、轮径等。我们还测试了
    ChefBot 在酒店环境中的自主导航能力。
- en: 'To achieve this using hardware, we need to select all the hardware components
    and figure out how to connect all these components. We know that the main functionality
    of this robot is navigation: this robot will have the ability to navigate from
    a start position to an end position without any collision with its surroundings.
    We will discuss the different sensors and hardware components required to achieve
    this goal. We will look at a block diagram representation of these components
    and its explanation, and also discuss the main functions and physical operations
    of the robot. Finally, we need to select the components required to build the
    robot. We will also familiarize ourselves with the online stores where we can
    purchase these components.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用硬件实现这一点，我们需要选择所有硬件组件，并找出如何连接所有这些组件。我们知道这个机器人的主要功能是导航：这个机器人将能够从起始位置导航到终点位置，而不会与周围环境发生碰撞。我们将讨论实现这一目标所需的不同传感器和硬件组件。我们将查看这些组件的方块图表示及其解释，并讨论机器人的主要功能和物理操作。最后，我们需要选择构建机器人所需的组件。我们还将熟悉可以购买这些组件的在线商店。
- en: If you have a TurtleBot, you may skip this chapter because this chapter is only
    for those who need to create their robot's hardware. Let's look at the specifications
    that we have to meet in the design of the hardware. The robot hardware mainly
    includes the robot chassis, sensors, actuators, controller boards, and PC.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你有一个 TurtleBot，你可以跳过这一章，因为这一章仅针对需要创建自己机器人硬件的人。让我们看看在设计硬件时我们必须满足的规格。机器人硬件主要包括机器人底盘、传感器、执行器、控制板和
    PC。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Block diagram and description of the Chefbot robot
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chefbot 机器人的方块图和描述
- en: Robot component selection and description
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 机器人组件选择和描述
- en: The workings of Chefbot's hardware
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chefbot 硬件的工作原理
- en: Technical requirements
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: The components required to build the robot are described in this chapter. You
    have to purchase these components or similar components in order to build the
    ChefBot.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 本章描述了构建机器人所需的组件。你必须购买这些组件或类似组件才能构建 ChefBot。
- en: Specifications of the ChefBot's hardware
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ChefBot 硬件的规格
- en: 'In this section, we will be discussing some of the important specifications
    that we mentioned in Chapter 3, *Modeling the Differential-Drive Robot*. The final
    robot prototype will meet the following specifications:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将讨论第 3 章“建模差动驱动机器人”中提到的某些重要规格。最终的机器人原型将满足以下规格：
- en: '**Simple and cost-effective robot chassis design**: The robot chassis design
    should be simple and cost effective compared to existing robots.'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**简单且经济实惠的机器人底盘设计**：与现有机器人相比，机器人底盘设计应简单且经济实惠。'
- en: '**Autonomous navigation functionality**: The robot should autonomously navigate
    and it should contain the necessary sensors for doing this.'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自主导航功能**：机器人应能够自主导航，并且应包含执行此操作所需的传感器。'
- en: '**Long battery life**: The robot should have a long battery life in order to
    work continuously. The length of time that it can work should be greater than
    one hour.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**长电池寿命**：机器人应具有较长的电池寿命，以便能够连续工作。它的工作时间应超过一小时。'
- en: '**Obstacle avoidance**: The robot should be able to avoid static and dynamic
    objects in its surroundings.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**障碍物避让**：机器人应能够避开其周围的环境中的静态和动态物体。'
- en: The robot hardware design should meet these specifications. Let's look at one
    of the possible ways of interconnecting the components in this robot. In the next
    section, we will look at a block diagram of the robot and use it to examine its
    workings.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 机器人硬件设计应满足这些规格。让我们看看连接这个机器人组件的一种可能方式。在下一节中，我们将查看机器人的方块图，并使用它来检查其工作原理。
- en: Block diagram of the robot
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 机器人方块图
- en: 'The robot''s movement is controlled by two **direct current** (**DC**) gear
    motors using an encoder. The two motors are driven using a motor driver. The motor
    driver is interfaced with an embedded controller board, which will send commands
    to the motor driver to control the motor''s movements. The encoder of the motor
    is interfaced with the controller board in order to count the number of rotations
    of the motor shaft. This data is used to compute the odometry data of the robot.
    There are ultrasonic sensors that are interfaced with the controller board in
    order to sense the obstacles and measure the distance from the obstacles. There
    is an IMU sensor to improve odometry calculation. The embedded controller board
    is interfaced with a PC, which does all the high-end processing in the robot.
    Vision and sound sensors are interfaced with the PC and Wi-Fi is attached for
    remote operations. Each component of the robot is explained in the following diagram:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 机器人的运动由两个直流齿轮电机控制，使用编码器。这两个电机由电机驱动器驱动。电机驱动器与嵌入式控制器板相连，控制器板将发送命令给电机驱动器以控制电机的运动。电机的编码器与控制器板相连，以计算电机轴的旋转次数。这些数据用于计算机器人的里程数据。还有超声波传感器与控制器板相连，用于检测障碍物并测量与障碍物的距离。还有一个IMU传感器以改进里程计算。嵌入式控制器板与PC相连，进行机器人中的所有高端处理。视觉和声音传感器与PC相连，并连接Wi-Fi以进行远程操作。机器人的每个组件在下图中均有说明：
- en: '![](img/9b7cf915-657b-47fd-af63-ca3e13160f73.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9b7cf915-657b-47fd-af63-ca3e13160f73.png)'
- en: Robot hardware block diagram
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 机器人硬件框图
- en: Motor and encoder
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 电机和编码器
- en: The robot that we are going to design is a differential-drive robot with two
    wheels, so we will require two motors for its locomotion. Each motor consists
    of quadrature encoders ([http://www.creative-robotics.com/quadrature-intro](http://www.creative-robotics.com/quadrature-intro))
    so that we can get motor rotation feedback data.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将要设计的机器人是一个双轮差速驱动机器人，因此我们需要两个电机来驱动它。每个电机都包含四象限编码器（[http://www.creative-robotics.com/quadrature-intro](http://www.creative-robotics.com/quadrature-intro)），这样我们就可以获取电机的旋转反馈数据。
- en: The quadrature encoder will send data regarding of the rotation of the motor
    as square pulses; we can decode the pulses to get the number of the encoder's
    ticks, which can be used for feedback. If we know the wheel's diameter and the
    number of ticks of the motor, we can compute the displacement and the angle of
    the robot that moved. This computation is very useful for us in our attempts to
    navigate the robot.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 四象限编码器将发送有关电机旋转的方波脉冲数据；我们可以解码这些脉冲以获取编码器的脉冲数，这些脉冲数可以用于反馈。如果我们知道车轮的直径和电机的脉冲数，我们可以计算出移动机器人的位移和角度。这种计算对我们尝试导航机器人非常有用。
- en: Selecting motors, encoders, and wheels for the robot
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为机器人选择电机、编码器和车轮
- en: From the simulation, we got an idea of the robot's parameters. While experimenting
    with the simulation's parameters, we mentioned that the motor torque needed to
    drive the robot is 18 N, but the calculated torque is slightly more than this;
    we are selecting a standard torque motor that is very close to the actual torque
    in order to make the motor selection easier. One of the standard motors that we
    might consider is from Pololu. According to our design specifications, we could
    select a high-torque DC gear motor with an encoder working at 12 V DC and with
    a speed of 80 RPM.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 从模拟中，我们得到了关于机器人参数的初步想法。在实验模拟参数时，我们提到驱动机器人的电机扭矩需要为18 N，但计算出的扭矩略高于这个值；我们选择了一个标准扭矩电机，其扭矩非常接近实际扭矩，以便使电机选择更容易。我们可能考虑的标准电机之一来自Pololu。根据我们的设计规范，我们可以选择一个高扭矩直流齿轮电机，该电机在12
    V直流电压下工作，速度为80 RPM。
- en: 'The following image shows the selected motor for this robot. The motor comes
    with an integrated quadrature encoder with a resolution of 64 counts per revolution
    of the motor shaft, which corresponds to 8,400 counts per revolution of the gearbox''s
    output shaft:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图像显示了为该机器人选择的电机。该电机带有集成的四象限编码器，每转电机轴有64个计数，对应于变速箱输出轴每转8,400个计数。
- en: '![](img/9e3b0acd-1978-499f-90e8-3d35eb65a160.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9e3b0acd-1978-499f-90e8-3d35eb65a160.png)'
- en: DC gear motor with encoder and wheel (see https://www.pololu.com/product/2827)
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 带编码器和轮子的直流齿轮电机（见 https://www.pololu.com/product/2827）
- en: 'This motor has six differently colored pins . The descriptions of this motor''s
    pins are given in the following table:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 这款电机有六个不同颜色的引脚。该电机引脚的描述如下表所示：
- en: '| **Color** | **Function** |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '| **颜色** | **功能** |'
- en: '| Red | Motor power (connects to one motor terminal) |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| 红色 | 电机电源（连接到一个电机端子） |'
- en: '| Black | Motor power (connects to the other motor terminal) |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '| 黑色 | 电机电源（连接到另一个电机端子） |'
- en: '| Green | Encoder GND |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| 绿色 | 编码器GND |'
- en: '| Blue | Encoder Vcc (3.5 V-20 V) |'
  id: totrans-34
  prefs: []
  type: TYPE_TB
  zh: '| 蓝色 | 编码器Vcc（3.5 V-20 V） |'
- en: '| Yellow | Encoder A output |'
  id: totrans-35
  prefs: []
  type: TYPE_TB
  zh: '| 黄色 | 编码器A输出 |'
- en: '| White | Encoder B output |'
  id: totrans-36
  prefs: []
  type: TYPE_TB
  zh: '| 白色 | 编码器B输出 |'
- en: In accordance with our design specifications, we will choose a wheel diameter
    of 90 mm. Pololu provides a 90-mm wheel, which is available at [http://www.pololu.com/product/1439](http://www.pololu.com/product/1439).
    The preceding image showed the motor assembled with this wheel.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 根据我们的设计规范，我们将选择90毫米的轮子直径。Pololu提供90毫米的轮子，可在[http://www.pololu.com/product/1439](http://www.pololu.com/product/1439)找到。前面的图像显示了安装了该轮子的电机。
- en: 'The other connectors needed to connect the motors and wheels together are available
    as follows:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 连接电机和轮子所需的其它连接器如下所示：
- en: The mounting hub required to mount the wheel to the motor shaft is available
    at [http://www.pololu.com/product/1083](http://www.pololu.com/product/1083).
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将轮子安装到电机轴上所需的安装座可在[http://www.pololu.com/product/1083](http://www.pololu.com/product/1083)找到。
- en: The L-bracket for the motor to mount onto the robot chassis is available at
    [http://www.pololu.com/product/1084](http://www.pololu.com/product/1084).
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 电机安装到机器人底盘上的L型支架可在[http://www.pololu.com/product/1084](http://www.pololu.com/product/1084)找到。
- en: Motor driver
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 电机驱动器
- en: A **motor driver**, or **motor controller**, is a circuit that can control the
    speed of the motor. By controlling the motors, we mean that we can control the
    voltage across the motors and can also control the direction and speed of the
    motors. Motors can rotate clockwise or counter clockwise if we change the polarity
    of the motor terminal.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '**电机驱动器**或**电机控制器**是一种可以控制电机速度的电路。通过控制电机，我们指的是我们可以控制电机两端的电压，也可以控制电机的方向和速度。如果我们改变电机端子的极性，电机可以顺时针或逆时针旋转。'
- en: '**H-bridge** circuits are commonly used in motor controllers. An **H-bridge**
    is an electronic circuit that can apply voltage in either direction of the load.
    It has high current-handling properties and can change the direction of the current
    flow.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**H-bridge**电路在电机控制器中常用。**H-bridge**是一种电子电路，可以施加负载的任一方向的电压。它具有高电流处理能力，可以改变电流流动的方向。'
- en: 'The following diagram shows a basic H-bridge circuit using switches:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了一个使用开关的基本H-bridge电路：
- en: '![](img/440ebeef-7d5b-4dfb-af85-00ef5275369a.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![](img/440ebeef-7d5b-4dfb-af85-00ef5275369a.png)'
- en: H -bridge circuit
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: H-bridge电路
- en: 'The direction of the motor according to the state of the four switches is given
    as follows:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 根据四个开关的状态，电机方向如下所示：
- en: '| **S1** | **S2** | **S3** | **S4** | **Result** |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '| **S1** | **S2** | **S3** | **S4** | **结果** |'
- en: '| 1 | 0 | 0 | 1 | Motor moves right |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 0 | 0 | 1 | 电机向右移动 |'
- en: '| 0 | 1 | 1 | 0 | Motor moves left |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| 0 | 1 | 1 | 0 | 电机向左移动 |'
- en: '| 0 | 0 | 0 | 0 | Motor free runs |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| 0 | 0 | 0 | 0 | 电机自由运行 |'
- en: '| 0 | 1 | 0 | 1 | Motor brakes |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| 0 | 1 | 0 | 1 | 电机刹车 |'
- en: '| 1 | 0 | 1 | 0 | Motor brakes |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 0 | 1 | 0 | 电机刹车 |'
- en: '| 1 | 1 | 0 | 0 | Motor shoots through |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 1 | 0 | 0 | 电机向前冲 |'
- en: '| 0 | 0 | 1 | 1 | Motor shoots through |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '| 0 | 0 | 1 | 1 | 电机向前冲 |'
- en: '| 1 | 1 | 1 | 1 | Motor shoots through |'
  id: totrans-56
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 1 | 1 | 1 | 电机向前冲 |'
- en: We have seen the basics of an H-bridge circuit in the preceding motor driver
    circuit diagram. Now, we will select one of the motor drivers for our application
    and discuss how it works.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在前面的电机驱动器电路图中看到了H-bridge电路的基本原理。现在，我们将为我们的应用选择一个电机驱动器，并讨论其工作原理。
- en: Selecting a motor driver/controller
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 选择电机驱动器/控制器
- en: 'There are some motor drivers available in Pololu that are compatible with the
    selected motor. The following image shows one of the motor drivers that we will
    use in our robot:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: Pololu有一些与所选电机兼容的电机驱动器。以下图像显示了我们将用于我们的机器人的其中一个电机驱动器：
- en: '![](img/4de5ba83-20c4-45f2-b3a8-e07cf339f187.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4de5ba83-20c4-45f2-b3a8-e07cf339f187.png)'
- en: Dual VNH2SP30 motor driver carrier MD03A
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 双VNH2SP30电机驱动器载体MD03A
- en: This motor driver is available at [http://www.pololu.com/product/708](http://www.pololu.com/product/708).
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 此电机驱动器可在[http://www.pololu.com/product/708](http://www.pololu.com/product/708)找到。
- en: This driver can drive two motors with a maximum current rating of 30 A, and
    contains two integrated ICs for driving each of the motors. The pin description
    of this driver is given in the upcoming sections.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 此驱动器可以驱动两个电机，最大电流额定值为30 A，并为每个电机包含两个集成的IC进行驱动。此驱动器的引脚描述将在后续章节中给出。
- en: Input pins
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 输入引脚
- en: 'The following pins are the input pins of the motor driver, through which we
    can control mainly the motor speed and direction:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 以下引脚是电机驱动器的输入引脚，通过这些引脚我们可以主要控制电机的速度和方向：
- en: '| **Pin name** | **Function** |'
  id: totrans-66
  prefs: []
  type: TYPE_TB
  zh: '| **引脚名称** | **功能** |'
- en: '| 1DIAG/EN, 2DIAG/EN | These monitor the fault conditions of motor drivers
    1 and 2\. In a normal operation, they will remain disconnected. |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '| 1DIAG/EN, 2DIAG/EN | 这些监控电机驱动器1和2的故障条件。在正常操作中，它们将保持断开。|'
- en: '| 1INa, 1INb, 2INa, 2INb | These pins will control the direction of motors
    1 and 2 in the following manner:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '| 1INa, 1INb, 2INa, 2INb | 这些引脚将以下方式控制电机1和2的方向：'
- en: If INA = INB = 0, the motor will break
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果INA = INB = 0，电机将停止
- en: If INA = 1, INB = 0, the motor will rotate clockwise
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果INA = 1，INB = 0，电机将顺时针旋转
- en: If INA = 0, INB = 1, the motor will rotate counter clockwise
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果INA = 0，INB = 1，电机将逆时针旋转
- en: '* If INA = INB = 1, the motor will break'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '* 如果INA = INB = 1，电机将停止'
- en: '|'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 1PWM, 2PWM | This will control the speed of motors 1 and 2 by turning them
    on and off at very high speed. |'
  id: totrans-74
  prefs: []
  type: TYPE_TB
  zh: '| 1PWM, 2PWM | 这将通过以非常高的速度开启和关闭来控制电机1和2的速度。|'
- en: '| 1CS, 2CS | This is the current sensing pin for each motor. |'
  id: totrans-75
  prefs: []
  type: TYPE_TB
  zh: '| 1CS, 2CS | 这是每个电机的电流检测引脚。|'
- en: Output pins
  id: totrans-76
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 输出引脚
- en: 'The output pins of the motor driver will drive the two motors. The following
    are the output pins:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 电机驱动器的输出引脚将驱动两个电机。以下为输出引脚：
- en: '| **Pin name** | **Function** |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| **引脚名称** | **功能** |'
- en: '| OUT 1A, OUT 1B | These pins can connect to motor 1''s power terminals. |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '| OUT 1A, OUT 1B | 这些引脚可以连接到电机1的电源端子。|'
- en: '| OUT 2A, OUT 2B | These pins can connect to motor 2''s power terminals. |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| OUT 2A, OUT 2B | 这些引脚可以连接到电机2的电源端子。|'
- en: Power supply pins
  id: totrans-81
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 电源引脚
- en: 'The following are the power supply pins:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 以下为电源引脚：
- en: '| **Pin name** | **Function** |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| **引脚名称** | **功能** |'
- en: '| VIN (+), GND (-) | These are the supply pins of the two motors. The voltage
    ranges from 5.5 V to 16 V. |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '| VIN (+), GND (-) | 这些是两个电机的供电引脚。电压范围从5.5 V到16 V。|'
- en: '| +5 VIN, GND (-) | This is the power supply of the motor driver. The voltage
    should be 5 V. |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '| +5 VIN, GND (-) | 这是电机驱动器的电源。电压应为5 V。|'
- en: Embedded controller board
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 嵌入式控制器板
- en: '**Controller boards** are typically I/O boards that can send control signals
    in the form of digital pulses to the H-bridge/motor-driver board and can receive
    inputs from sensors, such as ultrasonic and IR sensors. We can also interface
    motor encoders with the control board in order to send data from the motor.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '**控制器板**通常是I/O板，可以以数字脉冲的形式发送控制信号到H-桥/电机驱动器板，并且可以接收来自传感器的输入，例如超声波和红外传感器。我们还可以将电机编码器与控制板连接，以便发送来自电机的数据。'
- en: 'The main uses of the controller board in this robot are as follows:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 本机器人控制器板的主要用途如下：
- en: Interfacing the motor driver and encoder
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 接口电机驱动器和编码器
- en: Interfacing the ultrasonic sound sensor
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 接口超声波声音传感器
- en: Sending and receiving sensor values to and from the PC
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向PC发送和接收传感器值
- en: 'We will deal with I/O boards and interfacing with different components in the
    upcoming chapters. Some of the more popular I/O boards are Arduino (arduino.cc)
    and Tiva-C LaunchPad ([http://www.ti.com/tool/EK-TM4C123GXL](http://www.ti.com/tool/EK-TM4C123GXL))
    by Texas Instruments. We are selecting Tiva-C LaunchPad over Arduino because of
    the following factors:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在接下来的章节中处理I/O板和与不同组件的接口。一些更受欢迎的I/O板是Arduino (arduino.cc) 和德州仪器的Tiva-C LaunchPad
    ([http://www.ti.com/tool/EK-TM4C123GXL](http://www.ti.com/tool/EK-TM4C123GXL))。我们选择Tiva-C
    LaunchPad而不是Arduino，原因如下：
- en: Tiva-C LaunchPad has a microcontroller based on a 32-bit ARM Cortex-M4 with
    256 KB flash memory, 32 KB SRAM, and 80 MHz data transmission frequency; most
    Arduino boards run below these specifications.
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tiva-C LaunchPad基于32位ARM Cortex-M4微控制器，具有256 KB闪存，32 KB SRAM和80 MHz数据传输频率；大多数Arduino板运行在这些规格以下。
- en: Outstanding processing performance combined with fast interrupt handling.
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 优异的处理性能与快速的中断处理相结合。
- en: 12 timers.
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 12个定时器。
- en: 16 PWM outputs.
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 16个PWM输出。
- en: 2 quadrature encoder inputs.
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 2个正交编码器输入。
- en: 8 **universal asynchronous receiver/transmitters** (**UART**).
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 8个**通用异步收发器**（**UART**）。
- en: 5 V-tolerant **general-purpose input/output** (**GPIO**).
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 5 V容错的**通用输入/输出**（**GPIO**）。
- en: Low cost and size compared to Arduino boards.
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与Arduino板相比，成本低且体积小。
- en: Easily programmable interface IDE called Energia (http://energia.nu/). The code
    written in Energia is Arduino-board compatible.
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 易于编程的接口IDE称为Energia (http://energia.nu/)。在Energia中编写的代码与Arduino板兼容。
- en: 'The following image shows Texas Instrument''s Tiva-C LaunchPad:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图片显示了德州仪器的Tiva-C LaunchPad：
- en: '![](img/02bd256a-b995-419e-88df-cab4ee6cf78c.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![](img/02bd256a-b995-419e-88df-cab4ee6cf78c.png)'
- en: Tiva-C LaunchPad 123 (http://www.ti.com/tool/EK-TM4C123GXL)
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: Tiva-C LaunchPad 123（http://www.ti.com/tool/EK-TM4C123GXL）
- en: The pinout of Texas Instrument's LaunchPad series is given at [http://energia.nu/pin-maps/guide_stellarislaunchpad/](http://energia.nu/pin-maps/guide_stellarislaunchpad/).
    This pinout map is compatible with all LaunchPad series releases. This can also
    be used while programming in the Energia IDE.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 德州仪器的LaunchPad系列引脚图可以在[http://energia.nu/pin-maps/guide_stellarislaunchpad/](http://energia.nu/pin-maps/guide_stellarislaunchpad/)找到。此引脚图与所有LaunchPad系列版本兼容。在Energia
    IDE编程时也可以使用此图。
- en: Ultrasonic sensors
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 超声波传感器
- en: '**Ultrasonic sensors**, also called ping sensors and are mainly used to measure
    the distance from an object. The main application of ping sensors is to avoid
    obstacles. The ultrasonic sensor emits high-frequency sound waves and evaluates
    the echoes that it receives from the object. The sensor will calculate the delay
    between the sending and receiving of the echo and determine its distance to the
    object.'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '**超声波传感器**，也称为ping传感器，主要用于测量物体距离。ping传感器的主要应用是避免障碍物。超声波传感器发出高频声波并评估从物体接收到的回声。传感器将计算发送和接收回声之间的延迟并确定其与物体的距离。'
- en: In our robot, collision-free navigation is an important part of the design specifications,
    otherwise there will be damage to the robot. You will see an image showing an
    ultrasonic sensor in the next section. This sensor can be installed on the sides
    of a robot to detect collisions at the sides and back of the robot. Kinect is
    also mainly used for obstacle detection and collision avoidance when used in robotics.
    Kinect can only be expected to be accurate at a range of 0.8 m, so the remaining
    distance from the 0.8 m-range limit can be detected using an ultrasonic sensor.
    In this case, the ultrasonic sensor is actually an add-on to our robot in order
    to increase its collision avoidance and detection abilities.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的机器人中，无碰撞导航是设计规范的重要组成部分，否则机器人可能会受损。您将在下一节中看到超声波传感器的图像。此传感器可以安装在机器人的侧面，以检测机器人的侧面和后部的碰撞。Kinect在机器人应用中主要用于障碍物检测和避障。Kinect只能在0.8
    m的范围内期望准确，因此可以使用超声波传感器检测0.8 m范围限制之外的剩余距离。在这种情况下，超声波传感器实际上是我们机器人的附加组件，以提高其避障和检测能力。
- en: Selecting an ultrasonic sensor
  id: totrans-109
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 选择超声波传感器
- en: 'One of the more popular and cheap ultrasonic sensors available is **HC-SR04**.
    We are selecting this sensor for our robot because of the following factors:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 可用的更受欢迎且价格低廉的超声波传感器之一是**HC-SR04**。我们选择此传感器用于我们的机器人，原因如下：
- en: Range of detection is from 2 cm to 4 m
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检测范围从2 cm到4 m
- en: Working voltage is 5 V
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 工作电压为5 V
- en: Working current is very low, typically 15 mA
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 工作电流非常低，通常为15 mA
- en: 'We can use this sensor to accurately detect obstacles. It also works at 5 V.
    Here is an image of HC-SR04 and its pinout:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用这个传感器来准确检测障碍物。它也工作在5 V。以下是HC-SR04及其引脚图的照片：
- en: '![](img/37902c89-4ce4-4281-ad65-ad1795571060.png)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![](img/37902c89-4ce4-4281-ad65-ad1795571060.png)'
- en: Ultrasonic sound sensor (https://www.makerfabs.com/index.php?route=product/product&product_id=72)
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 超声波声音传感器（https://www.makerfabs.com/index.php?route=product/product&product_id=72）
- en: 'The pins and their functions are given as follows:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 引脚及其功能如下所示：
- en: '| **Pins** | **Function** |'
  id: totrans-118
  prefs: []
  type: TYPE_TB
  zh: '| **引脚** | **功能** |'
- en: '| Vcc, GND | These are the supply pins of the ultrasonic sensor. Usually, we
    need to apply 5 V for it to operate normally. |'
  id: totrans-119
  prefs: []
  type: TYPE_TB
  zh: '| Vcc, GND | 这些是超声波传感器的供电引脚。通常，我们需要施加5 V才能使其正常工作。|'
- en: '| Trig | This is the input pin of the sensor. We need to apply a pulse with
    a particular duration to this pin to send the ultrasonic sound waves. |'
  id: totrans-120
  prefs: []
  type: TYPE_TB
  zh: '| Trig | 这是传感器的输入引脚。我们需要向此引脚施加特定持续时间的脉冲来发送超声波。|'
- en: '| Echo | This is the output pin of the sensor. It will generate a pulse on
    this pin with a time duration according to the delay in receiving the triggered
    pulse. |'
  id: totrans-121
  prefs: []
  type: TYPE_TB
  zh: '| Echo | 这是传感器的输出引脚。它将在根据接收触发脉冲的延迟生成脉冲的持续时间。|'
- en: Inertial measurement unit
  id: totrans-122
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 惯性测量单元
- en: 'We will use **the inertial measurement unit** (**IMU**) in this robot to get
    a good estimate of the odometry value and the robot''s pose. The odometry values
    computed from the encoder alone may not be sufficient for efficient navigation,
    as they can contain errors. To compensate for the error during the robot''s movement,
    especially rotation, we will use the IMU in this robot. We are selecting MPU 6050
    for the IMU because of the following reasons:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在机器人中使用**惯性测量单元**（IMU）来获取里程值和机器人姿态的良好估计。仅从编码器计算出的里程值可能不足以进行有效的导航，因为它们可能包含错误。为了补偿机器人运动过程中的误差，特别是旋转，我们将在此机器人中使用
    IMU。我们选择 MPU 6050 作为 IMU 的原因如下：
- en: In MPU 6050, the accelerometer and gyroscope are integrated on a single chip
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 MPU 6050 中，加速度计和陀螺仪集成在单个芯片上
- en: It provides high accuracy and sensitivity
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它提供高精度和高灵敏度
- en: We are able to interface with a magnetometer for better IMU performance
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们能够与磁力计接口，以获得更好的 IMU 性能
- en: The breakout board of MPU 6050 is very cheap
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MPU 6050 的扩展板非常便宜
- en: MPU 6050 can directly interface with LaunchPad
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MPU 6050 可以直接与 LaunchPad 接口
- en: Both MPU 6050 and LaunchPad are 3.3 V-compatible
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MPU 6050 和 LaunchPad 都与 3.3 V 兼容
- en: Software libraries are also available for easier interfacing between MPU 6050
    and LaunchPad
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 还提供了软件库，以便更容易地在 MPU 6050 和 LaunchPad 之间进行接口
- en: 'The following image shows the breakout board of MPU 6050:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图像显示了 MPU 6050 的扩展板：
- en: '![](img/4ee5c70b-776c-4a0e-9c0e-d532812fd12f.jpg)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4ee5c70b-776c-4a0e-9c0e-d532812fd12f.jpg)'
- en: The MPU 6050 device
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: MPU 6050 设备
- en: 'The pins and their functions are given as follows:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 引脚及其功能如下所示：
- en: '| **Pins** | **Functions** |'
  id: totrans-135
  prefs: []
  type: TYPE_TB
  zh: '| **引脚** | **功能** |'
- en: '| VDD, GND | Supply voltage 2.3 V-3.4 V |'
  id: totrans-136
  prefs: []
  type: TYPE_TB
  zh: '| VDD, GND | 供电电压 2.3 V-3.4 V'
- en: '| INT | This pin will generate an interrupt when data comes to the device buffer
    |'
  id: totrans-137
  prefs: []
  type: TYPE_TB
  zh: '| INT | 当数据到达设备缓冲区时，此引脚将生成中断'
- en: '| SCL, SDA | **Serial data line** (**SDA**) and **serial clock line** (SCL)
    are used for I2C communication |'
  id: totrans-138
  prefs: []
  type: TYPE_TB
  zh: '| SCL, SDA | **串行数据线**（SDA）和**串行时钟线**（SCL）用于 I2C 通信'
- en: '| ASCL, ASDA | Auxiliary I2C for communication with the magnetometer |'
  id: totrans-139
  prefs: []
  type: TYPE_TB
  zh: '| ASCL, ASDA | 用于与磁力计通信的辅助 I2C'
- en: We can purchase the breakout board from Amazon at [http://a.co/9EBIquO](http://a.co/9EBIquO).
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以从 Amazon 购买扩展板，链接为 [http://a.co/9EBIquO](http://a.co/9EBIquO)。
- en: Kinect/Orbbec Astra
  id: totrans-141
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Kinect/Orbbec Astra
- en: '**Kinect** is a 3D-vision sensor, mainly used in 3D-vision applications and
    motion-based gaming. We are using Kinect for 3D vision. Using Kinect, the robot
    will get a 3D image of the surrounding. The 3D images are converted to finer points
    that are gathered to form a point cloud. The point cloud data will have all the
    3D parameters that constitute the surrounding environment.'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '**Kinect** 是一个 3D 视觉传感器，主要用于 3D 视觉应用和基于运动的游戏。我们使用 Kinect 进行 3D 视觉。使用 Kinect，机器人将获得周围环境的
    3D 图像。3D 图像被转换为更细的点，这些点被收集形成点云。点云数据将包含构成周围环境的所有 3D 参数。'
- en: 'The main use of Kinect on the robot is to mock the functionality of a laser
    scanner. The laser scanner data is essential for the SLAM algorithm to build a
    map of the environment. The laser scanner is a very costly device, so instead
    of buying an expensive laser scanner, we can convert a Kinect into a virtual laser
    scanner. Kinect has officially stopped production, but it''s still available from
    some vendors. One of the alternatives to Kinect is Orbbec Astra ([https://orbbec3d.com/product-astra/](https://orbbec3d.com/product-astra/)).
    It will support the same software that is written for Kinect. The point-cloud-to-laser-data
    conversion is done with this software, so we only need to change the device driver
    if you are using Astra; the resetting of the software is the same. After generating
    the map of the environment, the robot can navigate the surroundings. The following
    image shows the Kinect sensor (A) and Orbbec Astra (B):'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 在机器人上，Kinect 的主要用途是模拟激光扫描仪的功能。激光扫描仪数据对于 SLAM 算法构建环境地图至关重要。激光扫描仪是一种非常昂贵的设备，因此，我们不必购买昂贵的激光扫描仪，可以将
    Kinect 转换为虚拟激光扫描仪。Kinect 已正式停产，但一些供应商仍然有售。Kinect 的一个替代品是 Orbbec Astra ([https://orbbec3d.com/product-astra/](https://orbbec3d.com/product-astra/))。它将支持为
    Kinect 编写的相同软件。点云到激光数据的转换是通过此软件完成的，因此如果您使用 Astra，我们只需要更改设备驱动程序；软件的重置方式相同。在生成环境地图后，机器人可以导航周围环境。以下图像显示了
    Kinect 传感器（A）和 Orbbec Astra（B）：
- en: '![](img/1c4edfe9-8daa-45c2-8dab-c74dd8d352fc.png)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1c4edfe9-8daa-45c2-8dab-c74dd8d352fc.png)'
- en: Kinect and Orbbec Astra
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: Kinect 和 Orbbec Astra
- en: Kinect mainly has an IR camera and projector, as well as an RGB camera. The
    IR camera and projector generates the 3D point cloud of the surrounding area.
    It also has a mic array and motorized tilt for moving the Kinect up and down.
    The Astra is very similar to Kinect.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: Kinect主要有一个红外摄像头和投影仪，以及一个RGB摄像头。红外摄像头和投影仪生成周围区域的3D点云。它还配备了麦克风阵列和可电动倾斜的机构，用于上下移动Kinect。Astra与Kinect非常相似。
- en: We can purchase Kinect from [http://www.amazon.co.uk/Xbox-360-Kinect-Sensor-Adventures/dp/B0036DDW2G](http://www.amazon.co.uk/Xbox-360-Kinect-Sensor-Adventures/dp/B0036DDW2G).
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以从[http://www.amazon.co.uk/Xbox-360-Kinect-Sensor-Adventures/dp/B0036DDW2G](http://www.amazon.co.uk/Xbox-360-Kinect-Sensor-Adventures/dp/B0036DDW2G)购买Kinect。
- en: We can purchase Astra from [https://orbbec3d.com/product-astra/](https://orbbec3d.com/product-astra/).
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以从[https://orbbec3d.com/product-astra/](https://orbbec3d.com/product-astra/)购买Astra。
- en: Central processing unit
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 中央处理器
- en: The robot is mainly controlled by the navigational algorithm that is running
    on its PC. We can choose a laptop, mini PC, or net book to use for the robot's
    processing functionalities. Recently, Intel launched a mini PC called Intel **Next
    Unit of Computing** (**NUC**). It has an ultra-small form factor (size), is lightweight,
    and has a good computing processor with either Intel Celeron, Core i3, or Core
    i5\. It can support up to 16 GB of RAM and has integrated Wi-Fi/Bluetooth. We
    are choosing Intel NUC because of its performance, ultra-small form factor, and
    its light weight. We are not going for a popular board, such as Raspberry Pi ([http://www.raspberrypi.org/](http://www.raspberrypi.org/))
    or Beagle Bone ([http://beagleboard.org/](http://beagleboard.org/)), because we
    require high-computing power, and this cannot be provided by these boards.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 机器人主要是由运行在其PC上的导航算法控制的。我们可以选择笔记本电脑、迷你PC或上网本来用于机器人的处理功能。最近，英特尔推出了一款名为英特尔**下一代计算单元**（**NUC**）的迷你PC。它具有超小尺寸（体积），轻便，并配备英特尔赛扬、Core
    i3或Core i5处理器。它可以支持高达16 GB的RAM，并集成Wi-Fi/蓝牙。我们选择英特尔NUC是因为其性能、超小尺寸和轻便。我们不打算选择流行的板卡，如树莓派([http://www.raspberrypi.org/](http://www.raspberrypi.org/))或贝格尔骨([http://beagleboard.org/](http://beagleboard.org/))，因为我们需要高性能，而这些板卡无法提供。
- en: 'The NUC we are using is **Intel DN2820FYKH**. Here is the specification of
    this computer:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用的NUC是**英特尔DN2820FYKH**。以下是该计算机的规格：
- en: Intel Celeron dual core processor with 2.39 GHz
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 英特尔赛扬双核处理器，主频2.39 GHz
- en: 4 GB RAM
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 4 GB RAM
- en: 500 GB hard disk
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 500 GB硬盘
- en: Intel-integrated graphics
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 英特尔集成显卡
- en: Headphone/microphone jack
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 耳机/麦克风插孔
- en: 12 V supply
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 12 V供电
- en: 'The following image shows the Intel NUC minicomputer:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图像显示了英特尔NUC迷你计算机：
- en: '![](img/fe1a2290-3758-44c9-86f0-63923de9a671.png)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/fe1a2290-3758-44c9-86f0-63923de9a671.png)'
- en: Intel NUC DN2820FYKH
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 英特尔NUC DN2820FYKH
- en: We can purchase NUC from Amazon at [http://a.co/2F2flYl](http://a.co/2F2flYl).
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以从Amazon购买NUC，链接为[http://a.co/2F2flYl](http://a.co/2F2flYl)。
- en: 'This model of NUC is an old model; if it is not available, you can check for
    a low-cost NUC using the following links shown:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 这种型号的NUC是旧型号；如果不可用，您可以使用以下链接检查低成本NUC：
- en: Intel NUC BOXNUC6CAYH ([https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc6cayh.html](https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc6cayh.html))
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 英特尔NUC BOXNUC6CAYH ([https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc6cayh.html](https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc6cayh.html))
- en: '**Intel NUC KIT NUC7CJYH (**[https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc7cjyh.html](https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc7cjyh.html))'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**英特尔NUC套件NUC7CJYH** ([https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc7cjyh.html](https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc7cjyh.html))'
- en: '**Intel NUC KIT NUC5CPYH (**[https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc5cpyh.html)](https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc5cpyh.html)'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**英特尔NUC套件NUC5CPYH** ([https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc5cpyh.html](https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc5cpyh.html))'
- en: '**Intel NUC KIT NUC7PJYH** ([https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc7pjyh.html](https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc7pjyh.html))'
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**英特尔NUC套件NUC7PJYH** ([https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc7pjyh.html](https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc7pjyh.html))'
- en: Speakers/mic
  id: totrans-167
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 扬声器/麦克风
- en: The main function of the robot is autonomous navigation. We will add an additional
    feature with which the robot can interact with users through speech. The robot
    can be given commands using voice input and can speak to the user using a **text-to-speech**
    (**TTS**) engine, which can convert text to speech format. A microphone and speakers
    are essential for this application. There is no particular selection that we will
    recommend for this hardware. If the speaker and mic are USB compatible, then that
    will be great. One of the other alternatives is a Bluetooth headset.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 机器人的主要功能是自主导航。我们将添加一个附加功能，使机器人能够通过语音与用户交互。机器人可以通过语音输入接收命令，并使用**文本到语音**（**TTS**）引擎与用户交谈，该引擎可以将文本转换为语音格式。麦克风和扬声器对于此应用是必不可少的。对于此硬件，我们不会推荐特定的选择。如果扬声器麦克风是USB兼容的，那就太好了。另一个选择是蓝牙耳机。
- en: Power supply/battery
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 电源/电池
- en: One of the most important hardware components is the power supply. We saw in
    the specification that the robot has to work for more than one hour. It will be
    good if the supply voltage of the battery is compatible with that required by
    the components. Also, if the size and weight of the battery is less than what
    we had in mind, it will not affect the robot's payload.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 最重要的硬件组件之一是电源。我们在规格中看到，机器人需要工作超过一小时。如果电池的供电电压与组件所需的电压兼容，那就很好。此外，如果电池的尺寸和重量小于我们预期的，它将不会影响机器人的有效载荷。
- en: 'Another concern is that the maximum current needed for the entire circuit will
    not exceed the battery''s maximum current, that it can source. The maximum voltage
    and current distribution of each part of the circuit is as follows:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个关注点是整个电路所需的最高电流不会超过电池可以提供的最大电流。电路各部分的最高电压和电流分配如下：
- en: '| **Component** | **Maximum current (in amperes)** |'
  id: totrans-172
  prefs: []
  type: TYPE_TB
  zh: '| **组件** | **最大电流（安培）** |'
- en: '| Intel NUC PC | 12 V, 5 A |'
  id: totrans-173
  prefs: []
  type: TYPE_TB
  zh: '| 英特尔NUC PC | 12 V, 5 A |'
- en: '| Kinect | 12 V, 1 A |'
  id: totrans-174
  prefs: []
  type: TYPE_TB
  zh: '| Kinect | 12 V, 1 A |'
- en: '| Motors | 12 V, 0.7 A |'
  id: totrans-175
  prefs: []
  type: TYPE_TB
  zh: '| 电机 | 12 V, 0.7 A |'
- en: '| Motor driver, ultrasonic sensors, IMU, speakers | 5 V, < 0.5 A |'
  id: totrans-176
  prefs: []
  type: TYPE_TB
  zh: '| 电机驱动器，超声波传感器，IMU，扬声器 | 5 V, < 0.5 A |'
- en: 'To meet these specifications, we are selecting a 12 V, 10 AH li-polymer or
    sealed lead acid (SLA) battery for our robot. Here is a typical low-cost SLA battery
    that we can use for this purpose:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 为了满足这些规格，我们正在选择一个12 V，10 AH的锂聚合物电池或密封铅酸（SLA）电池用于我们的机器人。以下是我们可用于此目的的典型低成本SLA电池：
- en: '![](img/6be70a5e-ee95-4ed1-ac4e-79de7bd42e10.png)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6be70a5e-ee95-4ed1-ac4e-79de7bd42e10.png)'
- en: Sealed lead acid battery
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 密封铅酸电池
- en: We can buy this battery from [http://a.co/iOaMuZe](http://a.co/iOaMuZe). You
    can choose a battery based on how convenience it is for you, but it should satisfy
    the robot's power requirements.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以从[http://a.co/iOaMuZe](http://a.co/iOaMuZe)购买这个电池。你可以根据对你来说有多方便来选择电池，但它应该满足机器人的电力需求。
- en: How ChefBot’s hardware works’?
  id: totrans-181
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ChefBot硬件工作原理？
- en: 'We can explain how ChefBot''s hardware works using the following block diagram.
    This is an improved version of our first block diagram, as it mentions the voltage
    of each component and its interconnection:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用以下框图来解释ChefBot硬件的工作原理。这是我们的第一个框图的改进版本，因为它提到了每个组件的电压及其互连：
- en: '![](img/d5ec768d-2df2-462d-aa9d-5e782054f8de.png)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d5ec768d-2df2-462d-aa9d-5e782054f8de.png)'
- en: Detailed block diagram of Chefbot's hardware
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: Chefbot硬件的详细框图
- en: The main aim of this chapter was to design the hardware for ChefBot, which included
    finding the appropriate hardware components and learning about the interconnection
    between each part. The main functionality of this robot is to perform autonomous
    navigation. The hardware design of the robot is optimized for autonomous navigation.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的主要目的是设计ChefBot的硬件，包括寻找合适的硬件组件以及了解各部分之间的互连。这个机器人的主要功能是执行自主导航。机器人的硬件设计是为了优化自主导航。
- en: The robot drive is based on the differential-drive system, which consists of
    two motors and two wheels. There are caster wheels for supporting the main wheels.
    These two motors can move the robot to face in any direction on a 2D plane by
    adjusting their direction and speed of rotation.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 机器人驱动基于差动驱动系统，该系统由两个电机和两个轮子组成。有导向轮来支撑主轮。这两个电机可以通过调整它们的旋转方向和速度，使机器人能够在二维平面上朝任何方向移动。
- en: For controlling the velocity and direction of the wheels, we have to interface
    a motor controller, which can perform these functions. The motor driver we choose
    should able to control two motors at the same time, and it should also be able
    to change their direction and speed.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 为了控制车轮的速度和方向，我们必须连接一个电机控制器，它可以执行这些功能。我们选择的电机驱动器应该能够同时控制两个电机，并且还应该能够改变它们的方向和速度。
- en: The motor driver pins are interfaced with a microcontroller board called Tiva-C
    LaunchPad, which can send the commands to change the direction and speed of the
    motor. The motor driver is interfaced with LaunchPad with the help of a level
    shifter. The **level shifter** is a circuit that can shift voltage levels from
    3.3 V to 5 V and vice versa. We are using a level shifter because the motor driver
    is operating at a level of 5 V, but the LaunchPad board is operating at 3.3 V.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 电机驱动引脚与名为Tiva-C LaunchPad的微控制器板相连，该板可以发送命令来改变电机的方向和速度。电机驱动器通过电平转换器与LaunchPad相连。**电平转换器**是一种可以将电压从3.3
    V转换为5 V，反之亦然的电路。我们使用电平转换器是因为电机驱动器在5 V的电压下工作，而LaunchPad板在3.3 V的电压下工作。
- en: Each motor has a rotation feedback sensor called an encoder, which can be used
    to estimate the robot's position. The encoders are interfaced with LaunchPad with
    the level shifter.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 每个电机都有一个称为编码器的旋转反馈传感器，可以用来估计机器人的位置。编码器通过电平转换器与LaunchPad相连。
- en: Other sensors that are interfaced with LaunchPad include an ultrasonic sound
    sensor and IMU. The ultrasonic sound sensor can detect objects that are close
    by, but that cannot be detected by the Kinect sensor. IMU is used along with encoders
    to get a good estimation of the robot's pose.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 与LaunchPad相连的其他传感器包括超声波传感器和IMU。超声波传感器可以检测到靠近的物体，而这些物体无法被Kinect传感器检测到。IMU与编码器一起使用，以获得机器人姿态的良好估计。
- en: All sensor values are received on the LaunchPad and sent to the PC via USB.
    The LaunchPad board runs a firmware code that can receive all sensor values and
    send them to the PC.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 所有传感器值都在LaunchPad上接收，并通过USB发送到PC。LaunchPad板运行一个固件代码，可以接收所有传感器值并将它们发送到PC。
- en: The PC is interfaced with Kinect, the LaunchPad board, the speaker, and the
    mic. The PC has ROS running on it, and it will receive Kinect data and convert
    it to its equivalent laser scanner data. This data can be used to build a map
    of the environment using SLAM. The speaker and mic are used for communication
    between the user and robot. The speed commands generated in ROS nodes are sent
    to LaunchPad. LaunchPad will process the speed commands and send the appropriate
    PWM values to the motor driver circuit.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: PC与Kinect、LaunchPad板、扬声器和麦克风相连。PC上运行着ROS，它将接收Kinect数据并将其转换为等效的激光扫描数据。这些数据可以用于使用SLAM构建环境地图。扬声器和麦克风用于用户与机器人之间的通信。在ROS节点中生成的速度命令被发送到LaunchPad。LaunchPad将处理速度命令，并将适当的PWM值发送到电机驱动器电路。
- en: After designing and discussing the workings of the robot's hardware, we can
    discuss the detailed interfacing of each component and the firmware coding necessary
    for this interfacing in the next chapter.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 在设计和讨论了机器人的硬件工作原理之后，我们可以在下一章中讨论每个组件的详细接口以及为此接口所需的固件编码。
- en: Summary
  id: totrans-194
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we have looked at the features of the robot that we are going
    to design. The main feature of this robot is its autonomous navigation. The robot
    can navigate its surroundings by analyzing sensor readings. We looked at the robot's
    block diagram and discussed the role of each block, selecting the appropriate
    components that satisfy our requirements. We also suggested some economical components
    with which to build this robot. In the next chapter, we will take a closer look
    at actuators and the interfacing that we will use for them in this robot.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们研究了我们将要设计的机器人的特性。这个机器人的主要特性是其自主导航。机器人可以通过分析传感器读数来导航其周围环境。我们研究了机器人的框图，并讨论了每个模块的作用，选择了满足我们要求的适当组件。我们还建议了一些经济实惠的组件来构建这个机器人。在下一章中，我们将更详细地研究执行器和我们将在这个机器人中使用的它们之间的接口。
- en: Questions
  id: totrans-196
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: What is robot hardware design all about?
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 机器人硬件设计究竟是什么？
- en: What is an H-bridge circuit and what are its functions?
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: H-桥电路是什么？它的功能有哪些？
- en: What are the essential components for a robot's navigation algorithm?
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 机器人导航算法的基本组件有哪些？
- en: What are the criteria that have to be kept in mind while selecting robotic components?
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在选择机器人组件时，需要考虑哪些标准？
- en: What are the main applications of Kinect as regards this robot?
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关于这个机器人，Kinect的主要应用是什么？
- en: Further reading
  id: totrans-202
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'You can learn more about the Tiva-C LaunchPad board from the following link:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从以下链接了解更多关于Tiva-C启动板的信息：
- en: '[http://processors.wiki.ti.com/index.php/Getting_Started_with_the_TIVA%E2%84%A2_C_Series_TM4C123G_LaunchPad](http://processors.wiki.ti.com/index.php/Getting_Started_with_the_TIVA%E2%84%A2_C_Series_TM4C123G_LaunchPad)'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: '[TIVA™ C系列TM4C123G启动板入门](http://processors.wiki.ti.com/index.php/Getting_Started_with_the_TIVA%E2%84%A2_C_Series_TM4C123G_LaunchPad)'
