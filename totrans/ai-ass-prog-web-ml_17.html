<html><head></head><body>
  <div class="calibre1" id="_idContainer194">
    <h1 class="chapternumber">17</h1>
    <h1 class="chaptertitle" id="_idParaDest-378">Machine Learning with Copilot</h1>
    <h1 class="heading" id="_idParaDest-379">Introduction</h1>
    <p class="normal">Machine learning, or ML, involves<a id="_idIndexMarker795" class="calibre3"/> data and learning patterns from that said data and using those patterns to make predictions or decisions. Machine learning consists of a series of steps, all the way from loading data and cleaning it to eventually training a model to get the insights you need from said model. All these steps are roughly the same for most problems in this problem space. However, details may differ, like the choice of pre-processing step, the choice of algorithm, etc. An AI tool like GitHub Copilot comes into machine learning from a few different angles:</p>
    <ul class="calibre15">
      <li class="bulletlist"><strong class="screentext">Suggesting workflows</strong>: Thanks to Copilot having been trained in machine learning work flows, it’s able to suggest a workflow that fits your problem.</li>
      <li class="bulletlist1"><strong class="screentext">Recommending tools and algorithms</strong>: If you provide your AI tool with enough context on what your problem is and the shape of your data, an AI tool like Copilot can suggest tools and algorithms that fit your specific problem.</li>
      <li class="bulletlist1"><strong class="screentext">Code assistance</strong>: Another way that Copilot is a great help is by being able to generate code for various steps in the machine learning process.</li>
    </ul>
    <p class="normal1">This chapter will explore an e-commerce dataset, and the chapter will serve as an interesting comparison exercise to the other chapters, which used ChatGPT to solve machine learning problems. </p>
    <p class="normal1">Let’s dive in and discover the suggestions from GitHub Copilot.</p>
    <h1 class="heading" id="_idParaDest-380">GitHub Copilot Chat in your IDE</h1>
    <p class="normal">GitHub Copilot Chat<a id="_idIndexMarker796" class="calibre3"/> is a tool within certain <strong class="screentext">Integrated Development Environments</strong> (<strong class="screentext">IDEs</strong>) that answers coding questions. It helps by suggesting code, explaining code functionality, creating unit tests, and fixing bugs.</p>
    <h2 class="heading1" id="_idParaDest-381">How it works</h2>
    <p class="normal">You have two different ways of <a id="_idIndexMarker797" class="calibre3"/>providing prompts to GitHub Copilot:</p>
    <ul class="calibre15">
      <li class="bulletlist">In-editor: In this mode, you provide text comments, and through the <em class="italic">Tab</em> or <em class="italic">Return</em> key, Copilot is able to produce an output.</li>
      <li class="bulletlist1">Chat mode: In chat mode, you type a prompt in the text box, and then GitHub Copilot will treat an open file/files as context (if you use <code class="inlinecode">@workspace</code>, then it will look at all files in your directory). </li>
    </ul>
    <p class="normal1">A text file can be, for example, a code file like <code class="inlinecode">app.py</code> or a Jupyter Notebook. Copilot can treat both these files as context, together with your typed prompt.</p>
    <figure class="mediaobject"><img alt="" src="../Images/B21232_17_01.png" class="calibre19"/></figure>
    <p class="packt_figref">Figure 17.1: GitHub Copilot chat on the left side and an open Jupyter Notebook on the right side</p>
    <h1 class="heading" id="_idParaDest-382">Dataset overview</h1>
    <p class="normal">Let’s explore the dataset we’re about to use. Like we did in other chapters on machine learning, we start with a dataset, this one being a dataset of Amazon book reviews.</p>
    <p class="normal1">The dataset contains information about different products and their reviews. It includes the following columns:</p>
    <ul class="calibre15">
      <li class="bulletlist"><code class="inlinecode">marketplace</code> (string): Location of the product</li>
      <li class="bulletlist1"><code class="inlinecode">customer_id</code> (string): Unique ID of the customer</li>
      <li class="bulletlist1"><code class="inlinecode">review_id</code> (string): Review ID</li>
      <li class="bulletlist1"><code class="inlinecode">product_id</code> (string): Unique ID of the product</li>
      <li class="bulletlist1"><code class="inlinecode">product_parent</code> (string): Parent product</li>
      <li class="bulletlist1"><code class="inlinecode">product_title</code> (string): Title of the product reviewed</li>
      <li class="bulletlist1"><code class="inlinecode">product_category</code> (string): Different product categories</li>
      <li class="bulletlist1"><code class="inlinecode">star_rating</code> (int): Rating of the product out of 5</li>
      <li class="bulletlist1"><code class="inlinecode">helpful_votes</code> (int): Number of helpful votes for the product</li>
      <li class="bulletlist1"><code class="inlinecode">total_votes</code> (int): Total number of votes for the product</li>
      <li class="bulletlist1"><code class="inlinecode">review_headline</code> (string): Heading of the review</li>
      <li class="bulletlist1"><code class="inlinecode">review_body</code> (string): Content of the review</li>
      <li class="bulletlist1"><code class="inlinecode">review_date</code> (string): Date on which the product was reviewed</li>
      <li class="bulletlist1"><code class="inlinecode">sentiment</code> (string): Sentiment of the review (positive or negative)</li>
    </ul>
    <h1 class="heading" id="_idParaDest-383">Steps for data exploration</h1>
    <p class="normal">Performing data exploration helps us understand the dataset and its characteristics. It involves examining the data, identifying patterns, and summarizing key insights. Here are the steps we will follow:</p>
    <ol class="calibre16">
      <li class="bulletlist1" value="1"><strong class="screentext">Load the dataset</strong>: Read<a id="_idIndexMarker798" class="calibre3"/> the dataset into a pandas DataFrame to work with the data effectively.</li>
      <li class="bulletlist1"><strong class="screentext">Inspect the data</strong>: Display<a id="_idIndexMarker799" class="calibre3"/> the first few rows of the DataFrame to get a glimpse of the data. Check the column names, data types, and any missing values.</li>
      <li class="bulletlist1"><strong class="screentext">Summary statistics</strong>: Calculate <a id="_idIndexMarker800" class="calibre3"/>summary statistics such as the mean, median, minimum, maximum, and quartiles for numeric columns. This helps in understanding the distribution and range of values.</li>
      <li class="bulletlist1"><strong class="screentext">Explore categorical variables</strong>: Analyze<a id="_idIndexMarker801" class="calibre3"/> the unique values and their frequencies for categorical variables like <code class="inlinecode">marketplace</code>, <code class="inlinecode">product_category</code>, <code class="inlinecode">and</code> <code class="inlinecode">sentiment</code>. Visualizations such as bar plots can be helpful for this analysis.</li>
      <li class="bulletlist1"><strong class="screentext">Distribution of ratings</strong>: Plot a<a id="_idIndexMarker802" class="calibre3"/> histogram or bar plot to visualize the distribution of <code class="inlinecode">star_ratings</code>. This helps in understanding the overall sentiment of the reviews.</li>
      <li class="bulletlist1"><strong class="screentext">Temporal analysis</strong>: Analyze<a id="_idIndexMarker803" class="calibre3"/> the temporal aspect of the data by examining the <code class="inlinecode">review_date</code> column. Explore trends, seasonality, or any patterns over time.</li>
      <li class="bulletlist1"><strong class="screentext">Review length analysis</strong>: Analyze<a id="_idIndexMarker804" class="calibre3"/> the length of <code class="inlinecode">review_body</code> to understand the amount of information provided in the reviews. Calculate descriptive statistics like the mean, median, and maximum length.</li>
      <li class="bulletlist1"><strong class="screentext">Correlation analysis</strong>: Investigate<a id="_idIndexMarker805" class="calibre3"/> the correlation between numeric variables using correlation matrices or scatter plots. This helps in identifying relationships between variables.</li>
      <li class="bulletlist1"><strong class="screentext">Additional exploratory analysis</strong>: Conduct additional analysis based on specific project<a id="_idIndexMarker806" class="calibre3"/> requirements or interesting patterns observed during the exploration process.</li>
    </ol>
    <p class="normal1">Note that you can also ask GitHub Copilot which steps to follow when doing machine learning.</p>
    <h1 class="heading" id="_idParaDest-384">Prompt strategy</h1>
    <p class="normal">The prompts we are about to use provide high-level guidance for Copilot, and the outputs/results allow further tailoring of Copilot’s responses to match the specific dataset and analysis needs.</p>
    <p class="normal1">The key aspects of the prompting approach are:</p>
    <ul class="calibre15">
      <li class="bulletlist">Define the task. Clearly instruct the AI assistant what task we are solving.</li>
      <li class="bulletlist1">Break down into steps. Breaking the data exploration down into logical steps (like data loading, inspection, summary stats etc.)</li>
      <li class="bulletlist1">Providing context/intent for each prompt to guide Copilot (like requesting numeric summary statistics)</li>
      <li class="bulletlist1">Sharing previous results as input. Sharing outputs and results from Copilot’s code snippets to further guide the conversation (like printing the summary stats)</li>
      <li class="bulletlist1">Refine, iteratively refining prompts and conversing with Copilot in a back-and-forth way</li>
    </ul>
    <p class="normal1">Therefore, we will use the TAG (Task-Action-Guidance) prompt pattern described in <em class="italic">Chapter 2</em>. Let’s describe this project to fit this pattern, so we get a sense on how to write our initial prompt:</p>
    <ul class="calibre15">
      <li class="bulletlist"><strong class="screentext">Task</strong>: Data exploration, find patterns and insights into customers reviews in an e-commerce project.</li>
      <li class="bulletlist1"><strong class="screentext">Action</strong>: We’ve described the steps we should take in a previous section; those should be reflected in the prompt we write.</li>
      <li class="bulletlist1"><strong class="screentext">Guidance</strong>: The extra guidance we will provide is that we want exploratory techniques suggested as well as code snippets. </li>
    </ul>
    <h1 class="heading" id="_idParaDest-385">Your initial data exploration prompt: Prompt 1, setting the high-level context</h1>
    <p class="normal">Just like in other chapters <a id="_idIndexMarker807" class="calibre3"/>where we used ChatGPT, our initial prompt sets the high-level context for the problem we’re looking to solve, including the domain and the shape of our data. All this context helps the AI tool to provide the correct steps both in text and code.</p>
    <p class="normal1">Below is an initial prompt you can try:</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">I am performing data exploration for the AwesomeShop e-commerce project. The dataset contains information about various products and their reviews. I want to gain insights into the data, identify patterns, and understand the characteristics of the reviews. Can you provide me with some exploratory analysis techniques and code snippets to help me uncover interesting insights from the dataset? The dataset for the AwesomeShop E-commerce project contains information about different products and their reviews. It includes the following columns:</p>
    <ul class="calibre15">
      <li class="bulletlist"><code class="inlinecode">marketplace</code> (string): Location of the product</li>
      <li class="bulletlist1"><code class="inlinecode">customer_id</code> (string): Unique ID of the customer</li>
      <li class="bulletlist1"><code class="inlinecode">review_id</code> (string): Review ID</li>
      <li class="bulletlist1"><code class="inlinecode">product_id</code> (string): Unique ID of the product</li>
      <li class="bulletlist1"><code class="inlinecode">product_parent</code> (string): Parent product</li>
      <li class="bulletlist1"><code class="inlinecode">product_title</code> (string): Title of the product reviewed</li>
      <li class="bulletlist1"><code class="inlinecode">product_category</code> (string): Different product categories</li>
      <li class="bulletlist1"><code class="inlinecode">star_rating</code> (int): Rating of the product out of 5</li>
      <li class="bulletlist1"><code class="inlinecode">helpful_votes</code> (int): Number of helpful votes for the product</li>
      <li class="bulletlist1"><code class="inlinecode">total_votes</code> (int): Total number of votes for the product</li>
      <li class="bulletlist1"><code class="inlinecode">review_headline</code> (string): Heading of the review</li>
      <li class="bulletlist1"><code class="inlinecode">review_body</code> (string): Content of the review</li>
      <li class="bulletlist1"><code class="inlinecode">review_date</code> (string): Date on which the product was reviewed</li>
      <li class="bulletlist1"><code class="inlinecode">sentiment</code> (string): Sentiment<a id="_idIndexMarker808" class="calibre3"/> of the review (positive or negative)</li>
    </ul>
    <p class="normal1">But remember that I want to learn step by step, as follows:</p>
    <ol class="calibre16">
      <li class="bulletlist1" value="1"><strong class="screentext">Load the Dataset</strong>: Read the dataset<a id="_idIndexMarker809" class="calibre3"/> into a pandas DataFrame to work with the data effectively.</li>
      <li class="bulletlist1"><strong class="screentext">Inspect the Data</strong>: Display the<a id="_idIndexMarker810" class="calibre3"/> first few rows of the DataFrame to get a glimpse of the data. Check the column names, data types, and any missing values.</li>
      <li class="bulletlist1"><strong class="screentext">Summary Statistics</strong>: Calculate summary statistics<a id="_idIndexMarker811" class="calibre3"/> such as the mean, median, minimum, maximum, and quartiles for numeric columns. This helps in understanding the distribution and range of values.</li>
      <li class="bulletlist1"><strong class="screentext">Explore Categorical Variables</strong>: Analyze the unique values and their frequencies for categorical variables<a id="_idIndexMarker812" class="calibre3"/> like <code class="inlinecode">marketplace</code>, <code class="inlinecode">product_category</code>, <code class="inlinecode">and</code> <code class="inlinecode">sentiment</code>. Visualizations such as bar plots can be helpful for this analysis.</li>
      <li class="bulletlist1"><strong class="screentext">Distribution of Ratings</strong>: Plot a <a id="_idIndexMarker813" class="calibre3"/>histogram or bar plot to visualize the distribution of <code class="inlinecode">star_ratings</code>. This helps in understanding the overall sentiment of the reviews.</li>
      <li class="bulletlist1"><strong class="screentext">Temporal Analysis</strong>: Analyze the temporal<a id="_idIndexMarker814" class="calibre3"/> aspect of the data by examining the <code class="inlinecode">review_date</code> column. Explore trends, seasonality, or any patterns over time.</li>
      <li class="bulletlist1"><strong class="screentext">Review Length Analysis</strong>: Analyze the length<a id="_idIndexMarker815" class="calibre3"/> of <code class="inlinecode">review_body</code> to understand the amount of information provided in the reviews. Calculate descriptive statistics like the mean, median, and maximum length.</li>
      <li class="bulletlist1"><strong class="screentext">Correlation Analysis</strong>: Investigate the<a id="_idIndexMarker816" class="calibre3"/> correlation between numeric variables using correlation matrices or scatter plots. This helps in identifying relationships between variables.</li>
      <li class="bulletlist1"><strong class="screentext">Additional Exploratory Analysis</strong>: Conduct <a id="_idIndexMarker817" class="calibre3"/>additional analysis based on specific project requirements or interesting patterns observed during the exploration process. Seek feedback from the user after each step.</li>
    </ol>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <h1 class="heading" id="_idParaDest-386">Step 1: Load the dataset </h1>
    <p class="normal">We get <a id="_idIndexMarker818" class="calibre3"/>quite a wordy response from Copilot, so let’s break down the response into parts and explain what we get.</p>
    <p class="normal1">You should receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Sure, let’s start with step 1: loading the dataset.</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 1: Load the Dataset</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-comment"># Define the file path</span>
file_path = <span class="hljs-string">'/path/to/your/file.csv'</span>  <span class="hljs-comment"># replace with your file path</span>
<span class="hljs-comment"># Load the dataset</span>
df = pd.read_csv(file_path)
<span class="hljs-comment"># Display the first few rows of the DataFrame</span>
<span class="hljs-built_in">print</span>(df.head())
</code></pre>
    <p class="normal1">Please <a id="_idIndexMarker819" class="calibre3"/>replace <code class="inlinecode">'/path/to/your/file.csv'</code> with your actual filename or path to the file. Once you’ve done this, you can run the code to load your dataset. </p>
    <p class="normal1">Let me know once you’ve successfully loaded the data, and we can proceed to the next step.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <figure class="mediaobject"><img alt="" src="../Images/B21232_17_02.png" class="calibre19"/></figure>
    <p class="packt_figref">Figure 17.2: Showing part of the Copilot prompt and the start of the Copilot result on loading data</p>
    <p class="normal1">Let’s try <a id="_idIndexMarker820" class="calibre3"/>the output code generated by Copilot and see if it works. Modify the <code class="inlinecode">file_path</code> variable to point to the location of your dataset, and then execute the code. Note below how we edited the file path to reflect an actual path in our system:</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-comment"># Define the file path</span>
file_path = <span class="hljs-string">'../Datasets/amazon_books_Data.csv'</span>
<span class="hljs-comment"># Load the dataset</span>
df = pd.read_csv(file_path)
</code></pre>
    <h2 class="heading1" id="_idParaDest-387">Running the code for loading data</h2>
    <p class="normal">Let’s run the <a id="_idIndexMarker821" class="calibre3"/>code provided by Copilot. See the below output from our Jupyter Notebook:</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Display the first few rows of the DataFrame</span>
<span class="hljs-built_in">print</span>(df.head())
   Unnamed: 0 market_place customer_id         review_id    product_id  \
0           0         "US"  "25933450"   "RJOVP071AVAJO"  "0439873800"   
1           1         "US"   "1801372"  "R1ORGBETCDW3AI"  "1623953553"   
2           2         "US"   "5782091"   "R7TNRFQAOUTX5"  "142151981X"   
3           3         "US"  "32715830"  "R2GANXKDIFZ6OI"  "014241543X"   
4           4         "US"  "14005703"  "R2NYB6C3R8LVN6"  "1604600527"   
  product_parent                                   product_title  \
0     "84656342"  "There Was an Old Lady Who Swallowed a Shell!"   
1    "729938122"                                "I Saw a Friend"   
2    "678139048"                          "Black Lagoon, Vol. 6"   
3    "712432151"                                     "If I Stay"   
4    "800572372"                       "Stars 'N Strips Forever"   
  product_category  star_rating  helpful_votes  total_votes     vine  \
0          "Books"            1              0            0  0 \t(N)   
1          "Books"            1              0            0  0 \t(N)   
2          "Books"            1              0            0  0 \t(N)   
3          "Books"            1              0            0  0 \t(N)   
4          "Books"            1              2            2  0 \t(N)   
  verified_purchase                                    review_headline  \
0           1 \t(Y)                                       "Five Stars"   
1           1 \t(Y)  "Please buy "I Saw a Friend"! Your children wi...   
2           1 \t(Y)                                    "Shipped fast."   
3           0 \t(N)                                       "Five Stars"   
4           1 \t(Y)                                       "Five Stars"   
                                         review_body review_date  \
0               "I love it and so does my students!"  2015-08-31   
1  "My wife and I ordered 2 books and gave them a...  2015-08-31   
2  "Great book just like all the others in the se...  2015-08-31   
3                                     "So beautiful"  2015-08-31   
4  "Enjoyed the author's story and his quilts are...  2015-08-31   
  Sentiment_books review_month review_day  review_year  
0        positive       August     Monday         2015  
1        positive       August     Monday         2015  
2        positive       August     Monday         2015  
3        positive       August     Monday         2015  
4        positive       August     Monday         2015  
</code></pre>
    <h1 class="heading" id="_idParaDest-388">Step 2: Inspect the data </h1>
    <p class="normal">Next, let’s inspect the <a id="_idIndexMarker822" class="calibre3"/>data. For the inspection prompt, we’ll use the output from our code execution and see if we can get Copilot to tell us about the next step we need to take:</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">It runs fine; below is the output:</p>
    <pre class="programlisting"><code class="hljs-code">Unnamed: 0 market_place customer_id review_id product_id 0 0 "US" "25933450" "RJOVP071AVAJO" "0439873800"
1 1 "US" "1801372" "R1ORGBETCDW3AI" "1623953553"
2 2 "US" "5782091" "R7TNRFQAOUTX5" "142151981X"
3 3 "US" "32715830" "R2GANXKDIFZ6OI" "014241543X"
4 4 "US" "14005703" "R2NYB6C3R8LVN6" "1604600527"
product_parent product_title 0 "84656342" "There Was an Old Lady Who Swallowed a Shell!"
1 "729938122" "I Saw a Friend"
2 "678139048" "Black Lagoon, Vol. 6"
3 "712432151" "If I Stay"
4 "800572372" "Stars 'N Strips Forever"
product_category star_rating helpful_votes total_votes vine 0 "Books" 1 0 0 0 \t(N)
1 "Books" 1 0 0 0 \t(N)
2 "Books" 1 0 0 0 \t(N)
3 "Books" 1 0 0 0 \t(N)
4 "Books" 1 2 2 0 \t(N)
verified_purchase review_headline 0 1 \t(Y) "Five Stars"
1 1 \t(Y) "Please buy "I Saw a Friend"! Your children wi...
2 1 \t(Y) "Shipped fast."
... 1 positive August Monday 2015
2 positive August Monday 2015
3 positive August Monday 2015
4 positive August Monday 2015
</code></pre>
    <p class="normal1">The output is <a id="_idIndexMarker823" class="calibre3"/>truncated. View it as a scrollable element or open it in a text editor. Adjust cell output settings...</p>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Great! Now that you’ve successfully loaded the dataset, let’s move on to “inspecting the data.”</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 2: Inspect the Data</span>
<span class="hljs-comment"># Check the column names</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Column Names:"</span>)
<span class="hljs-built_in">print</span>(df.columns)
<span class="hljs-comment"># Check the data types of each column</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nData Types:"</span>)
<span class="hljs-built_in">print</span>(df.dtypes)
<span class="hljs-comment"># Check for missing values</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nMissing Values:"</span>)
<span class="hljs-built_in">print</span>(df.isnull().<span class="hljs-built_in">sum</span>())
</code></pre>
    <p class="normal1">This code will give you an overview of your dataset, including the names of the columns, the data types of each column, and the number of missing values in each column. Run this code and let me know what you find.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">Let’s try the <a id="_idIndexMarker824" class="calibre3"/>code above to inspect the data and see if it works. Run the below code in a code cell in your Jupyter Notebook:</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Display the first few rows of the DataFrame</span>
df.head()
<span class="hljs-comment"># Check the column names</span>
column_names = df.columns
<span class="hljs-built_in">print</span>(column_names)
<span class="hljs-comment"># Check the data types of the columns</span>
data_types = df.dtypes
<span class="hljs-built_in">print</span>(data_types)
<span class="hljs-comment"># Check for missing values</span>
missing_values = df.isnull().<span class="hljs-built_in">sum</span>()
<span class="hljs-built_in">print</span>(missing_values)
You should see an output similar to below:
Index([<span class="hljs-string">'Unnamed: 0'</span>, <span class="hljs-string">'market_place'</span>, <span class="hljs-string">'customer_id'</span>, <span class="hljs-string">'review_id'</span>, <span class="hljs-string">'product_id'</span>,
       <span class="hljs-string">'product_parent'</span>, <span class="hljs-string">'</span><span class="hljs-string">product_title'</span>, <span class="hljs-string">'product_category'</span>, <span class="hljs-string">'star_rating'</span>,
       <span class="hljs-string">'helpful_votes'</span>, <span class="hljs-string">'total_votes'</span>, <span class="hljs-string">'vine'</span>, <span class="hljs-string">'verified_purchase'</span>,
       <span class="hljs-string">'review_headline'</span>, <span class="hljs-string">'review_body'</span>, <span class="hljs-string">'review_date'</span>, <span class="hljs-string">'</span><span class="hljs-string">Sentiment_books'</span>,
       <span class="hljs-string">'review_month'</span>, <span class="hljs-string">'review_day'</span>, <span class="hljs-string">'review_year'</span>],
      dtype=<span class="hljs-string">'object'</span>)
Unnamed: 0            int64
market_place         object
customer_id          object
review_id            object
product_id           object
product_parent       object
product_title        object
product_category     object
star_rating           int64
helpful_votes         int64
total_votes           int64
vine                 object
verified_purchase    object
review_headline      object
review_body          object
review_date          object
Sentiment_books      object
review_month         object
review_day           object
review_year           int64
dtype: object
Unnamed: 0           0
market_place         0
customer_id          0
review_id            0
product_id           0
product_parent       0
product_title        0
product_category     0
star_rating          0
helpful_votes        0
total_votes          0
vine                 0
verified_purchase    0
review_headline      0
review_body          0
review_date          0
Sentiment_books      0
review_month         0
review_day           0
review_year          0
dtype: int64
</code></pre>
    <p class="normal1">Great! So far, it has<a id="_idIndexMarker825" class="calibre3"/> served us well when we provide Copilot with a state of where we are going and get it to suggest the next steps; let’s keep following that format.</p>
    <h1 class="heading" id="_idParaDest-389">Step 3: Summary statistics</h1>
    <p class="normal">Next, we want to summarize<a id="_idIndexMarker826" class="calibre3"/> things, so we again provide it with output data in the hope that Copilot will tell us what the next step is: </p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">There are no missing values; below is the output:</p>
    <pre class="programlisting"><code class="hljs-code">Index(['Unnamed: 0', 'market_place', 'customer_id', 'review_id', 'product_id', 'product_parent', 'product_title', 'product_category', 'star_rating', 'helpful_votes', 'total_votes', 'vine', 'verified_purchase', 'review_headline', 'review_body', 'review_date', 'Sentiment_books', 'review_month', 'review_day', 'review_year'], dtype='object') Unnamed: 0 int64 market_place object customer_id object review_id object product_id object product_parent object product_title object product_category object star_rating int64 helpful_votes int64 total_votes int64 vine object verified_purchase object review_headline object review_body object review_date object Sentiment_books object review_month object review_day object ... review_month 0 review_day 0 review_year 0 dtype: int64
</code></pre>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should <a id="_idIndexMarker827" class="calibre3"/>receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Great! Now that we’ve inspected the data, let’s move on to step 3: calculating summary statistics for numeric columns. This will help us understand the distribution and range of values.</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 3: Summary Statistics</span>
<span class="hljs-comment"># Calculate summary statistics for numeric columns</span>
numeric_columns = [<span class="hljs-string">'star_rating'</span>, <span class="hljs-string">'helpful_votes'</span>, <span class="hljs-string">'total_votes'</span>]
<span class="hljs-built_in">print</span>(df[numeric_columns].describe())
</code></pre>
    <p class="normal1">This code will provide you with the count, mean, standard deviation, minimum, 25th percentile, median (50th percentile), 75th percentile, and maximum of the numeric columns in your dataset. Run this code and let me know what you find.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">Let’s try this and see if it works. Let’s run the code below and call <code class="inlinecode">df.describe</code>:</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Calculate summary statistics</span>
summary_stats = df.describe()
<span class="hljs-built_in">print</span>(summary_stats)
</code></pre>
    <p class="normal1">You should see the following output:</p>
    <pre class="programlisting"><code class="hljs-code">       Unnamed: 0  star_rating  helpful_votes  total_votes  review_year
count  100.000000   100.000000     100.000000   100.000000        100.0
mean    49.500000     0.840000       0.540000     0.960000       2015.0
std     29.011492     0.368453       1.298173     2.420118          0.0
min      0.000000     0.000000       0.000000     0.000000       2015.0
25%     24.750000     1.000000       0.000000     0.000000       2015.0
50%     49.500000     1.000000       0.000000     0.000000       2015.0
75%     74.250000     1.000000       1.000000     1.000000       2015.0
max     99.000000     1.000000       9.000000    14.000000       2015.0
</code></pre>
    <p class="normal1">Great! We’re<a id="_idIndexMarker828" class="calibre3"/> able to see the count, mean value standard deviation, and more. We’ve continued to use the idea of feeding Copilot the output of our code, and it’s been able to understand at which point in the machine learning process it is and what to do next.</p>
    <h1 class="heading" id="_idParaDest-390">Step 4: Explore categorical variables</h1>
    <p class="normal">Just like before, let’s<a id="_idIndexMarker829" class="calibre3"/> construct a prompt consisting of the output of the code we just ran and let Copilot tell us what should happen next:</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">Below is the output:</p>
    <pre class="programlisting"><code class="hljs-code">Unnamed: 0 star_rating helpful_votes total_votes review_year count 100.000000 100.000000 100.000000 100.000000 100.0 mean 49.500000 0.840000 0.540000
0.960000 2015.0 std 29.011492 0.368453 1.298173 2.420118 0.0 min 0.000000 0.000000 0.000000 0.000000 2015.0 25% 24.750000 1.000000 0.000000 0.000000 2015.0 50% 49.500000 1.000000 0.000000 0.000000 2015.0 75% 74.250000 1.000000 1.000000 1.000000 2015.0 max 99.000000 1.000000 9.000000 14.000000 2015.0
</code></pre>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Great! Now <a id="_idIndexMarker830" class="calibre3"/>that we have the summary statistics, let’s move on to step 4: exploring categorical variables. We’ll analyze the unique values and their frequencies for categorical variables like <code class="inlinecode">marketplace</code>, <code class="inlinecode">product_category</code>, and <code class="inlinecode">sentiment</code>.</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 4: Explore Categorical Variables</span>
<span class="hljs-comment"># Analyze the unique values and their frequencies for categorical variables</span>
categorical_columns = [<span class="hljs-string">'market_place'</span>, <span class="hljs-string">'product_category'</span>, <span class="hljs-string">'Sentiment_books'</span>]
<span class="hljs-keyword">for</span> column <span class="hljs-keyword">in</span> categorical_columns:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + column)
    <span class="hljs-built_in">print</span>(df[column].value_counts())
This code will <span class="hljs-built_in">print</span> the unique values <span class="hljs-keyword">and</span> their frequencies <span class="hljs-keyword">for</span> each of the specified
 categorical columns. Run this code <span class="hljs-keyword">and</span> let me know what you find.
</code></pre>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">Let’s try this and see if it works. Run the below code in a code cell to analyze the categorical variables:</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Analyze categorical variables</span>
categorical_cols = [<span class="hljs-string">'market_place'</span>, <span class="hljs-string">'product_category'</span>, <span class="hljs-string">'Sentiment_books'</span>]
<span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> categorical_cols:
    unique_values = df[col].unique()
    value_counts = df[col].value_counts()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n</span><span class="hljs-name">{col}</span><span class="hljs-string"> unique values:\n</span><span class="hljs-name">{unique_values}</span><span class="hljs-string">\n"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"</span><span class="hljs-name">{col}</span><span class="hljs-string"> value counts:\n</span><span class="hljs-name">{value_counts}</span><span class="hljs-string">"</span>)
</code></pre>
    <p class="normal1">You should see the<a id="_idIndexMarker831" class="calibre3"/> following output:</p>
    <pre class="programlisting"><code class="hljs-code">market_place unique values:
['"US"']
market_place value counts:
market_place
"US"    100
Name: count, dtype: int64
product_category unique values:
['"Books"']
product_category value counts:
product_category
"Books"    100
Name: count, dtype: int64
Sentiment_books unique values:
['positive' 'negative']
Sentiment_books value counts:
Sentiment_books
positive    84
negative    16
Name: count, dtype: int64
</code></pre>
    <h1 class="heading" id="_idParaDest-391">Step 5: Distribution of ratings </h1>
    <p class="normal">Next, we want to <a id="_idIndexMarker832" class="calibre3"/>understand the distribution of ratings. To learn more about the ratings, we will provide the output from the last code execution as a prompt:</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">Below is the output:</p>
    <ul class="calibre15">
      <li class="bulletlist"><code class="inlinecode">market_place</code> unique values: [‘“US”’]</li>
      <li class="bulletlist1"><code class="inlinecode">market_place</code> value counts: <code class="inlinecode">market_place</code> “US” 100 Name: count, dtype: int64</li>
      <li class="bulletlist1"><code class="inlinecode">product_category</code> unique values: [‘“Books”’]</li>
      <li class="bulletlist1"><code class="inlinecode">product_category</code> value counts: product_category “Books” 100 Name: count, dtype: int64</li>
      <li class="bulletlist1"><code class="inlinecode">Sentiment_books</code> unique values: [‘positive’ ‘negative’]</li>
      <li class="bulletlist1"><code class="inlinecode">Sentiment_books</code> value counts: <code class="inlinecode">Sentiment_books</code> positive 84 negative 16 Name: count, dtype: int64</li>
    </ul>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You <a id="_idIndexMarker833" class="calibre3"/>should receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Great! Now that we’ve explored the categorical variables, let’s move on to step 5: visualizing the distribution of star ratings.</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 5: Distribution of Ratings</span>
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-comment"># Plot a histogram for star ratings</span>
plt.hist(df[<span class="hljs-string">'star_rating'</span>], bins=<span class="hljs-attr">5</span>, edgecolor=<span class="hljs-string">'</span><span class="hljs-string">black'</span>)
plt.title(<span class="hljs-string">'Distribution of Star Ratings'</span>)
plt.xlabel(<span class="hljs-string">'Star Ratings'</span>)
plt.ylabel(<span class="hljs-string">'Frequency'</span>)
plt.show()
</code></pre>
    <p class="normal1">This code will plot a histogram of the star ratings, which will help us understand the overall sentiment of the reviews. Run this code and let me know what you find.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">Let’s try this and see if it works. Below, we have code for performing visualization; run this code in a code cell:</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-comment"># Plot the distribution of star ratings</span>
plt.hist(df[<span class="hljs-string">'star_rating'</span>], bins=<span class="hljs-attr">5</span>, edgecolor=<span class="hljs-string">'black'</span>)
plt.xlabel(<span class="hljs-string">'Star Rating'</span>)
plt.ylabel(<span class="hljs-string">'Frequency'</span>)
plt.title(<span class="hljs-string">'Distribution of Star Ratings'</span>)
plt.show()
</code></pre>
    <figure class="mediaobject"><img alt="" src="../Images/B21232_17_03.png" class="calibre19"/></figure>
    <p class="packt_figref">Figure 17.3: Distribution of star ratings</p>
    <h1 class="heading" id="_idParaDest-392">Step 6: Temporal analysis</h1>
    <p class="normal">At this point, we<a id="_idIndexMarker834" class="calibre3"/> have a good idea of how ratings are distributed; it seems like they are either very low or very high. Let’s progress to the next step.</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">Proceed to the next step.</p>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Great! Now let’s move on to step 6: Temporal Analysis. We’ll analyze the <code class="inlinecode">review_date</code> column to explore trends, seasonality, or any patterns over time.</p>
    <p class="normal1">First, we <a id="_idIndexMarker835" class="calibre3"/>need to convert the <code class="inlinecode">review_date</code> column to a datetime format. Then, we can extract the year, month, and day into separate columns for easier analysis.</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 6: Temporal Analysis</span>
<span class="hljs-comment"># Convert review_date to datetime format</span>
df[<span class="hljs-string">'review_date'</span>] = pd.to_datetime(df[<span class="hljs-string">'review_date'</span>])
<span class="hljs-comment"># Extract year, month, and day into separate columns</span>
df[<span class="hljs-string">'year'</span>] = df[<span class="hljs-string">'review_date'</span>].dt.year
df[<span class="hljs-string">'month'</span>] = df[<span class="hljs-string">'review_date'</span>].dt.month
df[<span class="hljs-string">'day'</span>] = df[<span class="hljs-string">'review_date'</span>].dt.day
<span class="hljs-comment"># Check the number of reviews per year</span>
<span class="hljs-built_in">print</span>(df[<span class="hljs-string">'year'</span>].value_counts().sort_index())
<span class="hljs-comment"># Check the number of reviews per month</span>
<span class="hljs-built_in">print</span>(df[<span class="hljs-string">'month'</span>].value_counts().sort_index())
<span class="hljs-comment"># Check the number of reviews per day</span>
<span class="hljs-built_in">print</span>(df[<span class="hljs-string">'day'</span>].value_counts().sort_index())
</code></pre>
    <p class="normal1">This code will print the number of reviews per year, month, and day. Run this code and let me know what you find.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">Let’s try this code and see if it works. Run the above code in a code cell:</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 6: Temporal Analysis</span>
<span class="hljs-comment"># Convert review_date to datetime format</span>
df[<span class="hljs-string">'review_date'</span>] = pd.to_datetime(df[<span class="hljs-string">'review_date'</span>])
<span class="hljs-comment"># Extract year, month, and day into separate columns</span>
df[<span class="hljs-string">'year'</span>] = df[<span class="hljs-string">'</span><span class="hljs-string">review_date'</span>].dt.year
df[<span class="hljs-string">'month'</span>] = df[<span class="hljs-string">'review_date'</span>].dt.month
df[<span class="hljs-string">'day'</span>] = df[<span class="hljs-string">'review_date'</span>].dt.day
<span class="hljs-comment"># Check the number of reviews per year</span>
<span class="hljs-built_in">print</span>(df[<span class="hljs-string">'year'</span>].value_counts().sort_index())
<span class="hljs-comment"># Check the number of reviews per month</span>
<span class="hljs-built_in">print</span>(df[<span class="hljs-string">'</span><span class="hljs-string">month'</span>].value_counts().sort_index())
<span class="hljs-comment"># Check the number of reviews per day</span>
<span class="hljs-built_in">print</span>(df[<span class="hljs-string">'day'</span>].value_counts().sort_index())
</code></pre>
    <p class="normal1">You<a id="_idIndexMarker836" class="calibre3"/> should see an output similar to the below:</p>
    <pre class="programlisting"><code class="hljs-code">year
2015    100
Name: count, dtype: int64
month
8    100
Name: count, dtype: int64
day
31    100
Name: count, dtype: int64
</code></pre>
    <h1 class="heading" id="_idParaDest-393">Step 7: Review length analysis</h1>
    <p class="normal">Let’s move forward in our <a id="_idIndexMarker837" class="calibre3"/>analysis; next up is a review length analysis.</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">Below is the output: year 2015 100 Name: count, dtype: int64 month 8 100 Name: count, dtype: int64 day 31 100 Name: count, dtype: int64</p>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Great! Now that we’ve analyzed the temporal aspect of the data, let’s move on to step 7: Review Length Analysis. We’ll analyze the length of <code class="inlinecode">review_body</code> to understand the amount of information provided in the reviews.</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 7: Review Length Analysis</span>
<span class="hljs-comment"># Calculate the length of each review</span>
df[<span class="hljs-string">'review_length'</span>] = df[<span class="hljs-string">'review_body'</span>].<span class="hljs-built_in">str</span>.<span class="hljs-built_in">len</span>()
<span class="hljs-comment"># Calculate descriptive statistics for review length</span>
<span class="hljs-built_in">print</span>(df[<span class="hljs-string">'review_length'</span>].describe())
</code></pre>
    <p class="normal1">This code will calculate the length of each review and provide descriptive statistics like mean, median, and maximum length. Run this code and let me know what you find.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">At this point, we want to understand what the above code is doing; let’s ask Copilot for help:</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">Before we move on to step 7, can you please explain how to interpret the output?</p>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should receive a<a id="_idIndexMarker838" class="calibre3"/> response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Absolutely. The output you’ve shared indicates the frequency of reviews based on the year, month, and day.</p>
    <ul class="calibre15">
      <li class="bulletlist"><code class="inlinecode">year</code>: All 100 reviews in your dataset were written in the year 2015.</li>
      <li class="bulletlist1"><code class="inlinecode">month</code>: All 100 reviews were written in the 8th month, which is August.</li>
      <li class="bulletlist1"><code class="inlinecode">day</code>: All 100 reviews were written on the 31st day of the month.</li>
    </ul>
    <p class="normal1">This suggests that all the reviews in your dataset were written on the same date - August 31, 2015.</p>
    <p class="normal1">In a larger, more diverse dataset, you might see reviews spread across different years, months, and days. Analyzing these could help identify trends or patterns over time, such as an increase in reviews during certain periods.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">OK, we have a problem – our dataset is limited, and all reviews seem to have taken place at the same point in time, which prevents us from discovering trends. Let’s inform Copilot of that and see what we can do next:</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">In that case, we cannot explore trends or patterns within this dataset.</p>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[P</strong><strong class="screentext">rompt response]</strong></p>
    <p class="normal1">That’s correct. Since all the reviews in this dataset are from the same date, we won’t be able to analyze trends or patterns over time. However, you can still perform other types of analysis. For instance, you can analyze the length of the reviews, the distribution of star ratings, or the frequency of certain words or phrases in the review text.</p>
    <p class="normal1">If you have a larger, more diverse dataset, you could also analyze trends over time, compare different products or categories, or use machine learning to predict star ratings based on the review text.</p>
    <p class="normal1">Let’s proceed<a id="_idIndexMarker839" class="calibre3"/> with the review length analysis as planned:</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 7: Review Length Analysis</span>
<span class="hljs-comment"># Calculate the length of each review</span>
df[<span class="hljs-string">'review_length'</span>] = df[<span class="hljs-string">'review_body'</span>].<span class="hljs-built_in">str</span>.<span class="hljs-built_in">len</span>()
<span class="hljs-comment"># Calculate descriptive statistics for review length</span>
<span class="hljs-built_in">print</span>(df[<span class="hljs-string">'review_length'</span>].describe())
</code></pre>
    <p class="normal1">This code will calculate the length of each review and provide descriptive statistics like mean, median, and maximum length. Run this code and let me know what you find.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">Let’s try this code and see if it works. Type this code into a code cell and run it:</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 7: Review Length Analysis</span>
<span class="hljs-comment"># Calculate the length of each review</span>
df[<span class="hljs-string">'review_length'</span>] = df[<span class="hljs-string">'review_body'</span>].<span class="hljs-built_in">str</span>.<span class="hljs-built_in">len</span>()
<span class="hljs-comment"># Calculate descriptive statistics for review length</span>
<span class="hljs-built_in">print</span>(df[<span class="hljs-string">'review_length'</span>].describe())
</code></pre>
    <p class="normal1">You should see output similar to the below:</p>
    <pre class="programlisting"><code class="hljs-code">count     100.000000
mean      253.190000
std       420.934403
min         6.000000
25%        36.000000
50%       104.500000
75%       269.750000
max      2685.000000
Name: review_length, dtype: float64
</code></pre>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">Below is the output:</p>
    <p class="normal1">count 100.000000 mean 253.190000 std 420.934403 min 6.000000 25% 36.000000 50% 104.500000 75% 269.750000 max 2685.000000 Name: review_length, dtype: float64</p>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should<a id="_idIndexMarker840" class="calibre3"/> receive a response similar to the response below.</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Great! The output you’ve shared provides a summary of the review lengths in your dataset:</p>
    <ul class="calibre15">
      <li class="bulletlist"><code class="inlinecode">count</code>: There are 100 reviews in your dataset.</li>
      <li class="bulletlist1"><code class="inlinecode">mean</code>: On average, a review is about 253 characters long.</li>
      <li class="bulletlist1"><code class="inlinecode">std</code>: The standard deviation is approximately 421, indicating that the lengths of the reviews vary quite a bit around the mean.</li>
      <li class="bulletlist1"><code class="inlinecode">min</code>: The shortest review is 6 characters long.</li>
      <li class="bulletlist1"><code class="inlinecode">25%</code>: 25% of the reviews are 36 characters long or shorter.</li>
      <li class="bulletlist1"><code class="inlinecode">50%</code> (or median): Half of the reviews are 104.5 characters long or shorter.</li>
      <li class="bulletlist1"><code class="inlinecode">75%</code>: 75% of the reviews are 269.75 characters long or shorter.</li>
      <li class="bulletlist1"><code class="inlinecode">max</code>: The longest review is 2685 characters long.</li>
    </ul>
    <p class="normal1">This information can be useful to understand the amount of text available for any text analysis or natural language processing tasks.</p>
    <p class="normal1">For the next step, you <a id="_idIndexMarker841" class="calibre3"/>could consider visualizing this data or analyzing the text content of the reviews. For example, you could create a histogram of review lengths, or you could use a word cloud to visualize the most common words in the reviews. Let me know what you’d like to do next.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <h1 class="heading" id="_idParaDest-394">Step 8: Correlation analysis </h1>
    <p class="normal">Now, we want<a id="_idIndexMarker842" class="calibre3"/> to determine the relationship between two or more variables to understand what variables are related. The below prompt shows how we progress in our analysis:</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">Proceed to the next step for correlation analysis.</p>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Sure, let’s move on to step 8: Correlation Analysis. We’ll analyze the correlation between numeric variables like <code class="inlinecode">star_rating</code>, <code class="inlinecode">helpful_votes</code>, and <code class="inlinecode">total_votes</code>.</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 8: Correlation Analysis</span>
<span class="hljs-comment"># Calculate the correlation matrix</span>
correlation_matrix = df[[<span class="hljs-string">'star_rating'</span>, <span class="hljs-string">'helpful_votes'</span>, <span class="hljs-string">'total_votes'</span>]].corr()
<span class="hljs-comment"># Print the correlation matrix</span>
<span class="hljs-built_in">print</span>(correlation_matrix)
</code></pre>
    <p class="normal1">This code will calculate and print a correlation matrix, which shows the correlation coefficients between pairs of variables. The correlation coefficient ranges from -1 to 1. A value close to 1 implies a high positive correlation while a value close to -1 implies a high negative correlation. A value close to 0 implies no correlation. Run this code and let me know what you find.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">Let’s try this <a id="_idIndexMarker843" class="calibre3"/>code and see if it works. Add the correlation code to a code cell in your Notebook and run it:</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 8: Correlation Analysis</span>
<span class="hljs-comment"># Calculate the correlation matrix</span>
correlation_matrix = df[[<span class="hljs-string">'star_rating'</span>, <span class="hljs-string">'helpful_votes'</span>, <span class="hljs-string">'total_votes'</span>]].corr()
<span class="hljs-comment"># Print the correlation matrix</span>
<span class="hljs-built_in">print</span>(correlation_matrix)
</code></pre>
    <p class="normal1">You should see an output similar to the below:</p>
    <pre class="programlisting"><code class="hljs-code">               star_rating  helpful_votes  total_votes
star_rating       1.000000      -0.324371    -0.517002
helpful_votes    -0.324371       1.000000     0.659612
total_votes      -0.517002       0.659612     1.000000
</code></pre>
    <p class="normal1">Next, let’s send the above output to Copilot and see if we can get an explanation of the correlations:</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">Below is the output: star_rating helpful_votes total_votes star_rating 1.000000 -0.324371 -0.517002 helpful_votes -0.324371 1.000000 0.659612 total_votes -0.517002 0.659612 1.000000</p>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Great! The output you’ve shared is a correlation matrix, which shows the correlation coefficients between pairs of variables. Here’s how to interpret it:</p>
    <ul class="calibre15">
      <li class="bulletlist"><code class="inlinecode">star_rating</code> and <code class="inlinecode">helpful_votes</code>: The correlation coefficient is -0.324371, indicating a weak negative correlation. This suggests that as the star rating increases, the number of helpful votes tends to decrease slightly, and vice versa.</li>
      <li class="bulletlist1"><code class="inlinecode">star_rating</code> and <code class="inlinecode">total_votes</code>: The correlation coefficient is -0.517002, indicating a moderate negative correlation. This suggests that as the star rating increases, the total number of votes (both helpful and not helpful) tends to decrease, and vice versa.</li>
      <li class="bulletlist1"><code class="inlinecode">helpful_votes</code> and <code class="inlinecode">total_votes</code>: The correlation coefficient is 0.659612, indicating a moderate positive correlation. This suggests that as the number of helpful votes increases, the total number of votes also tends to increase, and vice versa.</li>
    </ul>
    <p class="normal1">For the next<a id="_idIndexMarker844" class="calibre3"/> step, you could consider visualizing these correlations using a heatmap, or you could move on to another type of analysis. Let me know what you’d like to do next.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">Next, we want to look into visualizations of these correlations; a heatmap is one way to do this.</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">For Step 8.1, visualize these correlations using a heatmap.</p>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[P</strong><strong class="screentext">rompt response]</strong></p>
    <p class="normal1">Sure, let’s visualize the correlation matrix using a heatmap. We’ll use the seaborn library for this.</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 8.1: Visualize Correlation Matrix with Heatmap</span>
<span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns
<span class="hljs-comment"># Plot a heatmap of the correlation matrix</span>
plt.figure(figsize=(<span class="hljs-attr">8</span>, <span class="hljs-attr">6</span>))
sns.heatmap(correlation_matrix, annot=<span class="hljs-literal">True</span>, cmap=<span class="hljs-string">'coolwarm'</span>, center=<span class="hljs-attr">0</span>)
plt.title(<span class="hljs-string">'</span><span class="hljs-string">Correlation Matrix Heatmap'</span>)
plt.show()
</code></pre>
    <p class="normal1">This code will create a heatmap of the correlation matrix. The colors represent the correlation coefficients: warm colors (towards red) indicate positive correlation, cool colors (towards blue) indicate negative correlation, and neutral colors (around white) indicate no correlation. The <code class="inlinecode">annot=True</code> option will display the correlation coefficients on the heatmap. Run this code and let me know what you find.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">Let’s try this code to create a heatmap visualization using the seaborn library and see if it works. Run the code in a code cell in your Notebook:</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Step 8.1: Visualize Correlation Matrix with Heatmap</span>
<span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns
<span class="hljs-comment"># Plot a heatmap of the correlation matrix</span>
plt.figure(figsize=(<span class="hljs-attr">8</span>, <span class="hljs-attr">6</span>))
sns.heatmap(correlation_matrix, annot=<span class="hljs-literal">True</span>, cmap=<span class="hljs-string">'coolwarm'</span>, center=<span class="hljs-attr">0</span>)
plt.title(<span class="hljs-string">'Correlation Matrix Heatmap'</span>)
plt.show()
</code></pre>
    <p class="normal1">You should<a id="_idIndexMarker845" class="calibre3"/> see output similar to the below:</p>
    <figure class="mediaobject"><img alt="" src="../Images/B21232_17_04.png" class="calibre19"/></figure>
    <p class="packt_figref">Figure 17.4: Heatmap showing the correlation between three variables: total_votes, helpful_votes, and star_rating</p>
    <h1 class="heading" id="_idParaDest-395">Step 9: Additional exploratory analysis</h1>
    <p class="normal">So, why do we want to perform an <a id="_idIndexMarker846" class="calibre3"/>additional <a id="_idIndexMarker847" class="calibre3"/>exploratory analysis? Well, there are some good reasons why we would want to do that:</p>
    <ul class="calibre15">
      <li class="bulletlist">Uncovering hidden user patterns: Sometimes, there are trends, patterns, and relationships not immediately discoverable, and taking a second deeper look can find these.</li>
      <li class="bulletlist1">Validate initial findings: By validating the results from the initial analysis with a second analysis, you ensure robustness and reliability.</li>
      <li class="bulletlist1">Identify outliers: Not effectively finding outliers can skew the results. Spending more time on finding these can pay off.</li>
      <li class="bulletlist1">Improve model accuracy: Additional variables can be identified that can improve accuracy.</li>
    </ul>
    <p class="normal1">Above is a <a id="_idIndexMarker848" class="calibre3"/>non-exhaustive list of <a id="_idIndexMarker849" class="calibre3"/>reasons why we should do an additional analysis. Let’s see how Copilot can help us:</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">Thank you, I wish to understand if there is any more exploratory analysis for the sentiment analysis of this dataset.</p>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Certainly, sentiment analysis often involves exploring the text data in more depth. Here are a few additional steps you could consider:</p>
    <h1 class="heading" id="_idParaDest-396">Step 10: Text Preprocessing</h1>
    <p class="normal">Before analyzing the text, it’s often helpful to clean it up a bit. This can involve converting all text to lower case, removing punctuation, removing stop words (common words like “and”, “the”, “a”, which don’t add much meaning), and stemming or lemmatizing (reducing words to their root form).</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword">from</span> nltk.corpus <span class="hljs-keyword">import</span> stopwords
<span class="hljs-keyword">from</span> nltk.stem <span class="hljs-keyword">import</span> PorterStemmer
<span class="hljs-keyword">import</span> re
<span class="hljs-comment"># Initialize a PorterStemmer object to perform stemming</span>
stemmer = PorterStemmer()
<span class="hljs-comment"># Define a function to preprocess the text</span>
<span class="hljs-keyword">def</span> <span class="hljs-meta">preprocess_text</span>(<span>text</span>):
    <span class="hljs-comment"># Convert to lower case</span>
    text = text.lower()
    <span class="hljs-comment"># Remove punctuation</span>
    text = re.sub(<span class="hljs-string">r'[^\w\s]'</span>, <span class="hljs-string">''</span>, text)
    <span class="hljs-comment"># Remove stop words and stem the words</span>
    text = <span class="hljs-string">' '</span>.join([stemmer.stem(word) <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> text.split() <span class="hljs-keyword">if</span> word <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> stopwords.words(<span class="hljs-string">'english'</span>)])
    <span class="hljs-keyword">return</span> text
<span class="hljs-comment"># Apply the function to the review_body column</span>
df[<span class="hljs-string">'review_body_clean'</span>] = df[<span class="hljs-string">'review_body'</span>].apply(preprocess_text)
</code></pre>
    <h1 class="heading" id="_idParaDest-397">Step 11: Word Frequency Analysis</h1>
    <p class="normal">After preprocessing the text, you can analyze the frequency of words in the reviews. This can help identify common themes or topics.</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> Counter
<span class="hljs-comment"># Count the frequency of words in the reviews</span>
word_counts = Counter(<span class="hljs-string">' '</span>.join(df[<span class="hljs-string">'review_body_clean'</span>]).split())
<span class="hljs-comment"># Print the 10 most common words</span>
<span class="hljs-built_in">print</span>(word_counts.most_common(<span class="hljs-attr">10</span>))
</code></pre>
    <h1 class="heading" id="_idParaDest-398">Step 12: Sentiment Score Calculation</h1>
    <p class="normal">You can <a id="_idIndexMarker850" class="calibre3"/>calculate a sentiment<a id="_idIndexMarker851" class="calibre3"/> score for each review using a sentiment analysis tool like TextBlob or Vader. This can provide a more quantitative measure of the sentiment expressed in the reviews.</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword">from</span> textblob <span class="hljs-keyword">import</span> TextBlob
<span class="hljs-comment"># Define a function to calculate sentiment</span>
<span class="hljs-keyword">def</span> <span class="hljs-meta">calculate_sentiment</span>(<span>text</span>):
    <span class="hljs-keyword">return</span> TextBlob(text).sentiment.polarity
<span class="hljs-comment"># Apply the function to the review_body_clean column</span>
df[<span class="hljs-string">'sentiment_score'</span>] = df[<span class="hljs-string">'review_body_clean'</span>].apply(calculate_sentiment)
<span class="hljs-comment"># Print the average sentiment score</span>
<span class="hljs-built_in">print</span>(df[<span class="hljs-string">'sentiment_score'</span>].mean())
</code></pre>
    <p class="normal1">Please note that you’ll need to install the <code class="inlinecode">nltk</code> and <code class="inlinecode">textblob</code> libraries to run this code, which you can do using <code class="inlinecode">pip</code>:</p>
    <pre class="programlisting2"><code class="hljs-con">pip install nltk textblob
</code></pre>
    <p class="normal1">Let me know if you’d like to proceed with any of these steps, or if there’s something else you’d like to do.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">This prompt<a id="_idIndexMarker852" class="calibre3"/> yielded three <a id="_idIndexMarker853" class="calibre3"/>steps as a response. Let’s try the code from all three steps and see if it works:</p>
    <h2 class="heading1" id="_idParaDest-399">Text preprocessing</h2>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># uncomment if the nltk and textblob are not installed</span>
<span class="hljs-comment"># !pip install nltk textblob</span>
<span class="hljs-keyword">from</span> nltk.corpus <span class="hljs-keyword">import</span> stopwords
<span class="hljs-keyword">from</span> nltk.stem <span class="hljs-keyword">import</span> PorterStemmer
<span class="hljs-keyword">import</span> re
<span class="hljs-comment"># Initialize a PorterStemmer object to perform stemming</span>
stemmer = PorterStemmer()
<span class="hljs-comment"># Define a function to preprocess the text</span>
<span class="hljs-keyword">def</span> <span class="hljs-meta">preprocess_text</span>(<span>text</span>):
    <span class="hljs-comment"># Convert to lower case</span>
    text = text.lower()
    <span class="hljs-comment"># Remove punctuation</span>
    text = re.sub(<span class="hljs-string">r'[^\w\s]'</span>, <span class="hljs-string">''</span>, text)
    <span class="hljs-comment"># Remove stop words and stem the words</span>
    text = <span class="hljs-string">' '</span>.join([stemmer.stem(word) <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> text.split() <span class="hljs-keyword">if</span> word <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> stopwords.words(<span class="hljs-string">'english'</span>)])
    <span class="hljs-keyword">return</span> text
<span class="hljs-comment"># Apply the function to the review_body column</span>
df[<span class="hljs-string">'review_body_clean'</span>] = df[<span class="hljs-string">'review_body'</span>].apply(preprocess_text)
</code></pre>
    <h2 class="heading1" id="_idParaDest-400">Word frequency analysis</h2>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> Counter
<span class="hljs-comment"># Count the frequency of words in the reviews</span>
word_counts = Counter(<span class="hljs-string">'</span><span class="hljs-string"> '</span>.join(df[<span class="hljs-string">'review_body_clean'</span>]).split())
<span class="hljs-comment"># Print the 10 most common words</span>
<span class="hljs-built_in">print</span>(word_counts.most_common(<span class="hljs-attr">10</span>))
</code></pre>
    <p class="normal1">You<a id="_idIndexMarker854" class="calibre3"/> should see an output similar to the below:</p>
    <pre class="programlisting"><code class="hljs-code">[('book', 80), ('read', 25), ('love', 24), ('great', 24), ('stori', 19), ('good', 17), ('page', 16), ('one', 15), ('like', 14), ('realli', 14)]
</code></pre>
    <p class="normal1">Next, use the output above and construct the next prompt to understand our situation better:</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">For the code below:</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> Counter
<span class="hljs-comment"># Count the frequency of words in the reviews</span>
word_counts = Counter(<span class="hljs-string">' '</span>.join(df[<span class="hljs-string">'review_body_clean'</span>]).split())
<span class="hljs-comment"># Print the 10 most common words</span>
<span class="hljs-built_in">print</span>(word_counts.most_common(<span class="hljs-attr">10</span>))
</code></pre>
    <p class="normal1">Below is the output: [(‘book’, 80), (‘read’, 25), (‘love’, 24), (‘great’, 24), (‘stori’, 19), (‘good’, 17), (‘page’, 16), (‘one’, 15), (‘like’, 14), (‘realli’, 14)]</p>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Great! The output you’ve shared shows the 10 most common words in the cleaned reviews, along with their frequencies:</p>
    <pre class="programlisting"><code class="hljs-code">'book': Appears 80 times
'read': Appears 25 times
'love': Appears 24 times
'great': Appears 24 times
'stori': Appears 19 times
'good': Appears 17 times
'page': Appears 16 times
'one': Appears 15 times
'like': Appears 14 times
'realli': Appears 14 times
</code></pre>
    <p class="normal1">This suggests that most of the reviews are positive, with words like ‘love’, ‘great’, and ‘good’ being quite common. The words ‘book’, ‘read’, and ‘page’ are also common, which is expected in a dataset of book reviews.</p>
    <p class="normal1">For the next step, you could consider calculating a sentiment score for each review to get a more quantitative measure of the sentiment. Alternatively, you could visualize the word frequencies <a id="_idIndexMarker855" class="calibre3"/>using a bar chart or a word cloud. Let me know what you’d like to do next.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">Let’s try to run the<a id="_idIndexMarker856" class="calibre3"/> sentiment score calculation code below:</p>
    <h2 class="heading1" id="_idParaDest-401">Sentiment score calculation</h2>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword">from</span> textblob <span class="hljs-keyword">import</span> TextBlob
<span class="hljs-comment"># Define a function to calculate sentiment</span>
<span class="hljs-keyword">def</span> <span class="hljs-meta">calculate_sentiment</span>(<span>text</span>):
    <span class="hljs-keyword">return</span> TextBlob(text).sentiment.polarity
<span class="hljs-comment"># Apply the function to the review_body_clean column</span>
df[<span class="hljs-string">'sentiment_score'</span>] = df[<span class="hljs-string">'review_body_clean'</span>].apply(calculate_sentiment)
<span class="hljs-comment"># Print the average sentiment score</span>
<span class="hljs-built_in">print</span>(df[<span class="hljs-string">'sentiment_score'</span>].mean())
</code></pre>
    <p class="normal1">Here’s the output:</p>
    <pre class="programlisting2"><code class="hljs-con">0.23785470981747298
</code></pre>
    <p class="normal1">Next, let’s try to <a id="_idIndexMarker857" class="calibre3"/>interpret the response. As usual, let’s create a prompt from the response and see what Copilot thinks of it:</p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">For the code below:</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword">from</span> textblob <span class="hljs-keyword">import</span> TextBlob
<span class="hljs-comment"># Define a function to calculate sentiment</span>
<span class="hljs-keyword">def</span> <span class="hljs-meta">calculate_sentiment</span>(<span>text</span>):
<span class="hljs-keyword">return</span> TextBlob(text).sentiment.polarity
<span class="hljs-comment"># Apply the function to the review_body_clean column</span>
df[<span class="hljs-string">'sentiment_score'</span>] = df[<span class="hljs-string">'review_body_clean'</span>].apply(calculate_sentiment)
<span class="hljs-comment"># Print the average sentiment score</span>
<span class="hljs-built_in">print</span>(df[<span class="hljs-string">'sentiment_score'</span>].mean())
</code></pre>
    <p class="normal1">Here is the output: 0.23785470981747298</p>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should receive a response similar to the response below:</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Great! The output you’ve shared is the average sentiment score for the reviews in your dataset.</p>
    <p class="normal1">The sentiment score is a number between -1 and 1. A score of -1 represents extremely negative sentiment, a score of 1 represents extremely positive sentiment, and a score of 0 represents neutral sentiment.</p>
    <p class="normal1">The average sentiment score in your dataset is approximately 0.238, which indicates a generally positive sentiment in the reviews. This aligns with the word frequency analysis, which showed that positive words like ‘love’, ‘great’, and ‘good’ are quite common in the reviews.</p>
    <p class="normal1">For the next step, you could consider visualizing the distribution of sentiment scores using a histogram or a box plot. Alternatively, you could analyze the relationship between sentiment score and other variables like star rating or review length. Let me know what you’d like to do next.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1"><strong class="screentext">[Prompt]</strong></p>
    <p class="normal1">Follow these <a id="_idIndexMarker858" class="calibre3"/>instructions step by step:</p>
    <ul class="calibre15">
      <li class="bulletlist">Visualize the distribution of sentiment scores using a histogram.</li>
      <li class="bulletlist1">Analyze the relationship between sentiment score and other variables like star rating or review length.</li>
    </ul>
    <p class="normal1"><strong class="screentext">[End of prompt]</strong></p>
    <p class="normal1">You should receive a response similar to the response below.</p>
    <p class="normal1"><strong class="screentext">[Prompt response]</strong></p>
    <p class="normal1">Sure, let’s proceed with those steps.</p>
    <h1 class="heading" id="_idParaDest-402">Step 13: Visualize the Distribution of Sentiment Scores</h1>
    <p class="normal">We can use a histogram to visualize the distribution of sentiment scores.</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-comment"># Plot a histogram of the sentiment scores</span>
plt.figure(figsize=(<span class="hljs-attr">8</span>, <span class="hljs-attr">6</span>))
plt.hist(df[<span class="hljs-string">'sentiment_score'</span>], bins=<span class="hljs-attr">20</span>, color=<span class="hljs-string">'skyblue'</span>)
plt.title(<span class="hljs-string">'Distribution of Sentiment Scores'</span>)
plt.xlabel(<span class="hljs-string">'Sentiment Score'</span>)
plt.ylabel(<span class="hljs-string">'Frequency'</span>)
plt.show()
</code></pre>
    <h1 class="heading" id="_idParaDest-403">Step 14: Analyze the Relationship Between Sentiment Score and Other Variables</h1>
    <p class="normal">We can use scatter plots to visualize the relationship between sentiment score and other variables like star rating and review length.</p>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Plot a scatter plot of sentiment score vs star rating</span>
plt.figure(figsize=(<span class="hljs-attr">8</span>, <span class="hljs-attr">6</span>))
plt.scatter(df[<span class="hljs-string">'sentiment_score'</span>], df[<span class="hljs-string">'star_rating'</span>], alpha=<span class="hljs-attr">0.5</span>, color=<span class="hljs-string">'skyblue'</span>)
plt.title(<span class="hljs-string">'Sentiment Score vs Star Rating'</span>)
plt.xlabel(<span class="hljs-string">'Sentiment Score'</span>)
plt.ylabel(<span class="hljs-string">'Star Rating'</span>)
plt.show()
<span class="hljs-comment"># Plot a scatter plot of sentiment score vs review length</span>
plt.figure(figsize=(<span class="hljs-attr">8</span>, <span class="hljs-attr">6</span>))
plt.scatter(df[<span class="hljs-string">'sentiment_score'</span>], df[<span class="hljs-string">'review_length'</span>], alpha=<span class="hljs-attr">0.5</span>, color=<span class="hljs-string">'skyblue'</span>)
plt.title(<span class="hljs-string">'Sentiment Score vs Review Length'</span>)
plt.xlabel(<span class="hljs-string">'Sentiment Score'</span>)
plt.ylabel(<span class="hljs-string">'Review Length'</span>)
plt.show()
</code></pre>
    <p class="normal1">These plots<a id="_idIndexMarker859" class="calibre3"/> will help you understand if there’s any correlation between sentiment score and star rating or review length. Run these codes and let me know what you find.</p>
    <p class="normal1"><strong class="screentext">[End of response]</strong></p>
    <p class="normal1">Let’s try the<a id="_idIndexMarker860" class="calibre3"/> above code and see if it works. Add the below code to a code cell and run it:</p>
    <h2 class="heading1" id="_idParaDest-404">Visualize the distribution of sentiment scores</h2>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-comment"># Plot a histogram of the sentiment scores</span>
plt.figure(figsize=(<span class="hljs-attr">8</span>, <span class="hljs-attr">6</span>))
plt.hist(df[<span class="hljs-string">'sentiment_score'</span>], bins=<span class="hljs-attr">20</span>, color=<span class="hljs-string">'skyblue'</span>)
plt.title(<span class="hljs-string">'Distribution of Sentiment Scores'</span>)
plt.xlabel(<span class="hljs-string">'Sentiment Score'</span>)
plt.ylabel(<span class="hljs-string">'Frequency'</span>)
plt.show()
</code></pre>
    <figure class="mediaobject"><img alt="" src="../Images/B21232_17_05.png" class="calibre19"/></figure>
    <p class="packt_figref">Figure 17.5: Image depicting the distribution of sentiment scores</p>
    <h2 class="heading1" id="_idParaDest-405">Analyze the relationship between sentiment score and other variables</h2>
    <pre class="programlisting"><code class="hljs-code"><span class="hljs-comment"># Plot a scatter plot of sentiment score vs star rating</span>
plt.figure(figsize=(<span class="hljs-attr">8</span>, <span class="hljs-attr">6</span>))
plt.scatter(df[<span class="hljs-string">'sentiment_score'</span>], df[<span class="hljs-string">'star_rating'</span>], alpha=<span class="hljs-attr">0.5</span>, color=<span class="hljs-string">'skyblue'</span>)
plt.title(<span class="hljs-string">'</span><span class="hljs-string">Sentiment Score vs Star Rating'</span>)
plt.xlabel(<span class="hljs-string">'Sentiment Score'</span>)
plt.ylabel(<span class="hljs-string">'Star Rating'</span>)
plt.show()
<span class="hljs-comment"># Plot a scatter plot of sentiment score vs review length</span>
plt.figure(figsize=(<span class="hljs-attr">8</span>, <span class="hljs-attr">6</span>))
plt.scatter(df[<span class="hljs-string">'sentiment_score'</span>], df[<span class="hljs-string">'review_length'</span>], alpha=<span class="hljs-attr">0.5</span>, color=<span class="hljs-string">'skyblue'</span>)
plt.title(<span class="hljs-string">'</span><span class="hljs-string">Sentiment Score vs Review Length'</span>)
plt.xlabel(<span class="hljs-string">'Sentiment Score'</span>)
plt.ylabel(<span class="hljs-string">'Review Length'</span>)
plt.show()
</code></pre>
    <figure class="mediaobject"><img alt="" src="../Images/B21232_17_06.png" class="calibre19"/></figure>
    <p class="packt_figref">Figure 17.6: Sentiment score versus star rating</p>
    <figure class="mediaobject"><img alt="" src="../Images/B21232_17_07.png" class="calibre19"/></figure>
    <p class="packt_figref">Figure 17.7: Sentiment score versus review length</p>
    <h1 class="heading" id="_idParaDest-406">Assignment</h1>
    <p class="normal">Your assignment is to reflect on the approach taken and go through a similar regression scenario for this dataset on house prices in Boston: <a href="https://www.kaggle.com/datasets/vikrishnan/boston-house-prices" class="calibre3"><span class="calibre3">https://www.kaggle.com/datasets/vikrishnan/boston-house-prices</span></a>.</p>
    <p class="normal1">Here are some questions you could try answering using the above dataset and regression:</p>
    <ul class="calibre15">
      <li class="bulletlist">Price Prediction: What is the estimated price of a house, given its features (e.g., size, location, and number of bedrooms)?</li>
      <li class="bulletlist1">Feature Importance: Which features have the most significant impact on house prices?</li>
      <li class="bulletlist1">Price Trends: How do house prices change over time in a specific area?</li>
    </ul>
    <h1 class="heading" id="_idParaDest-407">Solution</h1>
    <p class="normal">The solution is in the repository: <a href="https://github.com/PacktPublishing/AI-Assisted-Software-Development-with-GitHub-Copilot-and-ChatGPT" class="calibre3"><span class="calibre3">https://github.com/PacktPublishing/AI-Assisted-Software-Development-with-GitHub-Copilot-and-ChatGPT</span></a></p>
    <h1 class="heading" id="_idParaDest-408">Summary</h1>
    <p class="normal">This chapter had one important purpose – to compare and contrast the experience of using ChatGPT with GitHub Copilot and, in this case, its chat function. We used an approach that consisted of providing a lot of upfront information to Copilot, by describing the overall problem and the shape of the dataset. We also provided instructions to let Copilot guide us on what to do, which showed us the steps to take gradually and what code to run. The general conclusion is that we can use roughly the same method using Copilot Chat as we did with ChatGPT. </p>
    <p class="normal1">We also saw how Copilot can help explain our output, understand where in the process we are, and suggest the next step to take.</p>
    <p class="normal1">As a rule, we should always test code and ask our AI assistant to help if it doesn’t run or produce the expected output.</p>
    <h1 class="heading" id="_idParaDest-409">Join our community on Discord </h1>
    <p class="normal">Join our community’s Discord space for discussions with the author and other readers: </p>
    <p class="normal1"><a href="https://packt.link/aicode" class="calibre3"><span class="calibre3">https://packt.link/aicode</span></a></p>
    <p class="normal1"><span class="calibre3"><img alt="" src="../Images/QR_Code510410532445718281.png" class="calibre4"/></span></p>
  </div>
</body></html>