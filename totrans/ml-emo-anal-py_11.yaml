- en: '11'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '11'
- en: Case Study – The Qatar Blockade
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 案例研究 – 卡塔尔封锁
- en: 'In this chapter, we will look at what happens when we apply one of our classifiers
    to real data that has not been carefully curated, that we don’t have a Gold Standard
    for, and that was not the data that we trained the classifier on. This is a real-life
    situation. You’ve trained a classifier; now, you want to use it. How well do the
    classifiers that we have looked at so far work in this situation? In this chapter,
    we will compare the output of a classifier on data collected over an extended
    period with events in an ongoing news story to see whether changes in the pattern
    of emotions can be linked to developments in the story and whether it is possible
    to detect long-term changes in public attitudes as well as immediate responses
    to key events. This analysis will be divided into three parts:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将探讨当我们将我们的一个分类器应用于未经仔细整理的实时数据时会发生什么，我们没有黄金标准，而且这些数据也不是我们训练分类器的数据。这是一个真实的生活场景。你已经训练了一个分类器；现在，你想要使用它。我们之前看到的分类器在这种情况下表现如何？在本章中，我们将比较分类器在收集了长期数据的事件发生时的输出，以查看情绪模式的变化是否可以与故事的发展联系起来，以及是否可以检测到公众态度的长期变化以及关键事件的即时反应。这项分析将分为三个部分：
- en: We will look at how specific events give rise to short-term changes in the pattern
    of emotions expressed in tweets
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将研究特定事件如何导致推文中表达的情绪模式的短期变化
- en: We will investigate whether it is possible to detect long-term changes in public
    attitudes by tracking trends in the way emotions change over time
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将研究是否可以通过追踪情绪随时间变化的方式，来检测公众态度的长期变化
- en: We will look at the proportionality scores for several classifiers over the
    period to see whether proportionality is a good metric – if the proportionality
    scores for all our classifiers show the same trends, then it is likely to be safe
    to use this as a metric when looking for spikes and long-term trends in the emotions
    expressed by tweets
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将查看几个分类器在一段时间内的比例分数，以确定比例是否是一个好的指标 – 如果所有分类器的比例分数显示出相同的趋势，那么在寻找推文中表达的情绪的峰值和长期趋势时，使用这个作为指标可能是安全的。
- en: By the end of this chapter, you will have an appreciation of the extent to which
    emotion analysis tools can tell you interesting things about public attitudes,
    even when the data they have been trained on is not closely aligned with the data
    they are being applied to.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将能够欣赏到情感分析工具在多大程度上可以告诉你关于公众态度的有趣信息，即使它们所训练的数据与它们应用的数据并不紧密相关。
- en: In the previous chapters, we have seen that it is possible to use machine learning
    techniques to train tools that can assign emotions to tweets. These algorithms
    can perform well on data where one emotion is assigned to each tweet, with comparatively
    little variation in performance on this kind of data, but have more difficulty
    with datasets where zero or more labels can be assigned to a tweet. In the previous
    chapter, we suggested that proportionality might provide a useful metric for assessing
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在前几章中，我们看到了使用机器学习技术训练工具，可以将情绪分配给推文的可能性。这些算法在每条推文分配一个情绪的数据上表现良好，在类似数据上的性能变化相对较小，但在零个或多个标签可以分配给推文的数据集上则更困难。在前一章中，我们建议比例可能为评估
- en: whether a classifier provided a reliable overall view of a set of tweets even
    when there were large numbers of tweets with zero or multiple labels. Using multiple
    classifiers with either LEX or Naive Bayes for the base-level classifiers, and
    using **neutral** as an explicit label, gave acceptable F1 scores and quite high
    proportionality scores for the key datasets.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 即使有大量带有零个或多个标签的推文，分类器是否提供了一个可靠的总体视图。使用多个分类器，其中以 LEX 或朴素贝叶斯作为基础分类器，并以**中性**作为一个显式标签，对于关键数据集给出了可接受的
    F1 分数和相当高的比例分数。
- en: However, this analysis was carried out on carefully curated datasets, where
    all the tweets were rigorously labeled and the training and test sets were drawn
    from the same overall collection split into sets of 10 separate 90:10 folds. The
    labels were assigned by multiple annotators, with a label assigned to a tweet
    if either all the annotators for that tweet agreed or the majority did. The folds
    were carefully constructed so that the tweets were randomly shuffled before being
    split into training and test sets, with no overlap between the training and test
    sets for a given fold and with every tweet appearing exactly once in a test set.
    Therefore, the results were as reliable as they could be for the relevant data.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这项分析是在精心策划的数据集上进行的，其中所有推文都被严格标记，训练集和测试集是从同一个整体集合中分割出来的10个单独的90:10折中抽取的。标签是由多个注释者分配的，如果一个推文的注释者都同意或者大多数同意，那么就会给这个推文分配一个标签。折被精心构建，以便在分割成训练集和测试集之前，推文被随机打乱，对于给定的折，训练集和测试集之间没有重叠，每个推文在测试集中恰好出现一次。因此，对于相关数据，结果可能是最可靠的。
- en: They do not, however, tell us how reliable the classifiers will be when applied
    to data other than the given training and test sets. It is almost inevitable that
    data collected using other criteria will have different characteristics. The overall
    distribution of emotions is likely to vary – after all, the obvious application
    of this technology is to analyze how attitudes to some event vary over time, which
    will affect, for instance, the prior probabilities used by Naive Bayes and hence
    is likely to affect the assignment of various labels. Suppose, for instance, that
    10% of the tweets in the training set have the label **anger**, but that on some
    specific day, there is an upswell of anger over some issue and 50% of the tweets
    that day are angry. Consider some tweets containing the words *T1, …, Tn*. The
    formula for Naive Bayes says that *p(anger | T1 & … & Tn) = p(T1 | anger)×...
    × p(Tn | anger) × p(anger)/p(T1)×... × p(Tn)*. The term *p(anger)* here will come
    from the original data, where only 10% of the tweets express anger; but on the
    day in question, 50% do, so this part of the formula will lead to considerable
    underestimates for this emotion. If *T1, … Tn* are words that are linked to **anger**,
    *p(T1), …, P(Tn)* will also probably be underestimates of their frequency on this
    day, which may to some degree compensate for the error in *p(anger)*, but it is
    not reasonable to assume that they will exactly compensate for it.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，它们并没有告诉我们，当将这些分类器应用于除了给定的训练集和测试集以外的数据时，它们的可靠性如何。使用其他标准收集的数据很可能具有不同的特征。情绪的整体分布很可能会变化——毕竟，这项技术的明显应用是分析对某些事件的态度如何随时间变化，这可能会影响，例如，朴素贝叶斯使用的先验概率，从而可能影响各种标签的分配。例如，假设训练集中有10%的推文被标记为**愤怒**，但在某个具体的一天，关于某个问题的愤怒情绪上升，当天的50%的推文都是愤怒的。考虑包含单词
    *T1, …, Tn* 的某些推文。朴素贝叶斯公式的说法是 *p(anger | T1 & … & Tn) = p(T1 | anger)×... × p(Tn
    | anger) × p(anger)/p(T1)×... × p(Tn)*。这里的 *p(anger)* 将来自原始数据，其中只有10%的推文表达愤怒；但在问题所涉及的那天，有50%的推文表达愤怒，所以这个公式的一部分将导致对该情绪的相当低估。如果
    *T1, … Tn* 是与**愤怒**相关的单词，*p(T1), …, P(Tn)* 也可能是对这一天它们频率的低估，这在一定程度上可以补偿 *p(anger)*
    中的错误，但认为它们可以完全补偿它是不合理的。
- en: The other algorithms are likely to suffer from similar issues, though it is
    less easy to see exactly how this will play out for other cases. It is clear,
    however, that performance on test data extracted from one collection cannot be
    assumed to carry over to data collected from another.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 其他算法可能也会遇到类似的问题，尽管很难确切地看到这将在其他案例中如何展开。然而，很明显，从一个集合中提取的测试数据上的性能不能假设可以转移到从另一个集合收集的数据上。
- en: It is also not feasible to annotate all the new data to check the accuracy of
    a classifier. The whole point of building a classifier is that we want to collect
    information from new data that we do not have the resources to label by hand –
    if we could afford to label it by hand, then we would almost certainly get better
    results than can be achieved by any classifier since assigning labels to tweets
    is an essentially subjective task.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 也不可能注释所有新的数据来检查分类器的准确性。构建分类器的全部目的就是，我们希望从我们没有资源手动标记的新数据中收集信息——如果我们能够负担得起手动标记，那么我们几乎肯定会比任何分类器得到更好的结果，因为给推文分配标签是一项本质上主观的任务。
- en: The case study
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 案例研究
- en: 'To investigate the links between emotions expressed in texts and real-world
    events, we needed a set of tweets collected over an extended period, along with
    a picture of the major events that occurred during that period that could reasonably
    be expected to affect public opinion. We had two goals here:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 为了研究文本中表达的情感与现实世界事件之间的联系，我们需要收集一段时间内的大量推文，以及该期间发生的主要事件的照片，这些事件可能会合理地影响公众舆论。我们在这里有两个目标：
- en: To see whether emotions expressed in tweets could be matched to events that
    would be likely to affect public opinion
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了查看推文中表达的情感是否可以与可能影响公众舆论的事件相匹配
- en: To see whether classification algorithms that perform well on carefully curated
    datasets (where the test sets are drawn from the same collection of tweets as
    the training sets) continue to give good results on brand-new data
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了查看在精心策划的数据集上表现良好的分类算法（其中测试集是从与训练集相同的推文集合中抽取的）是否在全新的数据上继续给出良好的结果
- en: So, we carried out a longitudinal test on historic data to see how variations
    in the daily pattern of assignments matched real-world events. This provides a
    test of the utility of the overall strategy. If a classifier detects that labels
    corresponding to some emotion show variations that are explicable in terms of
    real-world events, then it is reasonable to use it for that kind of task, irrespective
    of how it performs on the data that it was originally trained and tested on. A
    classifier that performs well on test data but does not find changes in data collected
    as events unfold is less useful than one that does not do so well on the tests
    but does detect changes corresponding to real-world events.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们对历史数据进行了纵向测试，以查看日常任务模式的变化如何与真实世界事件相匹配。这为整体策略的有效性提供了测试。如果一个分类器检测到某些情感对应的标签显示出可以用现实世界事件解释的变化，那么使用它来完成这种任务是合理的，无论它在原始训练和测试数据上的表现如何。一个在测试数据上表现良好但无法在事件展开过程中收集到的数据中找到变化的分类器，比那些在测试中表现不佳但能检测到与真实世界事件相对应的变化的分类器要少用。
- en: For our test set, we collected around 160,000 Arabic tweets that originated
    from Qatar between June 2017 and March 2018\. This was a period during which Qatar
    was subject to a blockade by neighboring countries, with decisions made by the
    Qatari governments and those of its neighbors leading to substantial rapid changes
    in public opinion. We applied a version of LEX with a tokenizer and stemmer for
    Arabic and the standard set of 11 emotions (**sadness**, **anger**, **fear**,
    **disgust**, **pessimism**, **love**, **joy**, **anticipation**, **trust**, **surprise**,
    and **optimism**) to this data and looked at how the distribution changed in response
    to these decisions. The results revealed that the residents of Qatar experienced
    an emotional rollercoaster during the first 9 months of the blockade, with opinions
    as expressed in tweets following very rapidly after public events. This provides
    some validation of the use of a classifier trained on a specific dataset as a
    tool for extracting information from data that may be linguistically different
    from the training data (the training data for the classifier was general Gulf
    Arabic, which is not identical to Qatari dialect, even for Modern Standard Arabic)
    and where the distribution of emotions may be quite different from that in the
    training data.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我们的测试集，我们收集了大约160,000条来自2017年6月至2018年3月期间卡塔尔的阿拉伯语推文。这是一个卡塔尔受到邻国封锁的时期，卡塔尔政府和其邻国做出的决定导致了公众舆论的迅速变化。我们对这些数据应用了带有阿拉伯语分词器和词干提取器的LEX版本，以及标准的11种情感（**悲伤**、**愤怒**、**恐惧**、**厌恶**、**悲观**、**爱**、**快乐**、**期待**、**信任**、**惊讶**和**乐观**）集，并观察了这些决策对这些分布变化的影响。结果显示，在封锁的前9个月里，卡塔尔居民经历了情感过山车，推文中表达的意见迅速跟随公共事件。这为使用在特定数据集上训练的分类器作为从可能语言上与训练数据不同的数据中提取信息工具的做法提供了一些验证（分类器的训练数据是通用海湾阿拉伯语，这与卡塔尔方言并不完全相同，即使是现代标准阿拉伯语也是如此），并且在这些数据中情感分布可能与训练数据中的分布大不相同。
- en: Short-term changes
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 短期变化
- en: The first thing to look for is correlations between spikes in the various emotions
    and events in the real world. Even if the actual distribution of labels is less
    than 100% accurate, if divergences from the baseline scores can be shown to correspond
    to real-world events, then the tool can be used to track public opinion. Being
    able to tell that people are angrier or more fearful today than they were yesterday
    is probably as useful as knowing that 56.7% of today’s tweets are angry where
    the level is usually 43.6% – messages on social media are, after all, not an accurate
    picture of public opinion in general. Twitter and similar outlets are echo chambers
    that tend to overestimate the strength of feeling in the general population. If
    56.7% of tweets about some topic are angry, about 5% of the general population
    are likely mildly annoyed about it. But if twice as many tweets are angry about
    it today compared to yesterday, then the general population may well be twice
    as angry about it today than it was yesterday.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 首先需要寻找的是各种情绪高峰与现实世界中事件之间的相关性。即使实际的标签分布准确率不到100%，如果能够证明与基准分数的差异与真实世界事件相对应，那么这个工具就可以用来追踪公众舆论。能够判断出今天人们的愤怒或恐惧程度比昨天更高，可能和知道今天56.7%的推文是愤怒的，而通常这个比例是43.6%一样有用——毕竟，社交媒体上的信息并不一定是公众舆论的整体准确反映。Twitter和类似的平台往往是回音室，倾向于高估普通人群的情感强度。如果关于某个话题的推文中愤怒的比例是56.7%，那么可能只有大约5%的普通人群对此感到轻微的不满。但如果今天关于这个话题的愤怒推文是昨天的两倍，那么普通人群今天对此的愤怒程度可能也是昨天的两倍。
- en: Due to this, we looked for spikes in positive and negative sentiments and mapped
    them to the most relevant news in Qatar on that day. To identify the most relevant
    news, we looked at Google News (news.google.com) and used Google’s sorting feature
    to identify the most important blockade event of the day based on news relevance.
    We also looked at Al Jazeera’s dedicated page ([https://www.aljazeera.com/news/2018/8/2/qatar-gulf-crisis-all-the-latest-updates](https://www.aljazeera.com/news/2018/8/2/qatar-gulf-crisis-all-the-latest-updates))
    on events related to the blockade to identify the main events of the day. Our
    results showed that the spikes in sentiments that our algorithm identified from
    the collected tweets corresponded to significant blockade-related events, simultaneously
    confirming that the results that were obtained by controlled testing in the SemEval
    experiments transfer effectively to real-world scenarios for at least some classifiers
    and allowing us to probe the way that people reacted to these events.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这个原因，我们寻找了积极和消极情绪的高峰，并将它们映射到那天卡塔尔最相关的新闻上。为了确定最相关的新闻，我们查看了谷歌新闻（news.google.com），并使用谷歌的新闻排序功能，根据新闻的相关性来确定当天的最重要封锁事件。我们还查看了半岛电视台关于封锁事件的专用页面（[https://www.aljazeera.com/news/2018/8/2/qatar-gulf-crisis-all-the-latest-updates](https://www.aljazeera.com/news/2018/8/2/qatar-gulf-crisis-all-the-latest-updates)），以确定当天的主要事件。我们的结果显示，我们算法从收集到的推文中识别出的情绪高峰与重大的封锁相关事件相对应，同时证实了在SemEval实验中通过控制测试获得的结果至少对于某些分类器来说在现实世界场景中是有效转移的，并允许我们探究人们对这些事件的反应方式。
- en: '*Figure 11**.1* shows a spike in optimism and a small drop in pessimism on
    August 17, 2017\. The main event from the news outlook was that Saudi Arabia granted
    Qatari pilgrims permission to perform Hajj, which indicates a lessening of tension
    between the two countries. Accordingly, our data showed a spike in **optimism**
    (from 7% of tweets showing optimistic sentiments to 22%) and a decline in **pessimism**
    (from 5% to 2%). Note that while the change from 7% to 22% looks bigger than the
    change from 5% to 2%, they are both roughly threefold changes, which is reasonable
    given that these two are direct opposites. The spike is very short-lived, with
    both emotions returning to their baseline levels after a couple of days. The decline
    in **optimism** is slower than the initial spike, probably reflecting the fact
    that the initial tweets were retweeted and commented on so that the emotions that
    they expressed continue to be present even after the significance of the actual
    event has faded (the **echo** **chamber** effect):'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '*图11*.1 显示了2017年8月17日乐观情绪的激增和悲观情绪的小幅下降。新闻视角中的主要事件是沙特阿拉伯授予卡塔尔朝觐者进行朝觐的许可，这表明两国之间的紧张关系有所缓和。因此，我们的数据显示乐观情绪（从7%显示乐观情绪的推文到22%）激增，悲观情绪（从5%下降到2%）下降。请注意，虽然从7%到22%的变化看起来比从5%到2%的变化更大，但它们都是大约三倍的变化，考虑到这两个是直接对立的，这是合理的。这种激增是非常短暂的，两种情绪在几天后都回到了基线水平。乐观情绪的下降速度比最初的激增慢，这可能反映了最初推文被转发和评论的事实，因此它们所表达的情绪即使在实际事件的重要性已经消失之后仍然存在（**回声室**效应）：'
- en: '![Figure 11.1 – Change of sentiments due to Saudi Arabia allowing pilgrims
    to perform Hajj](img/B18714_11_01.jpg)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![图11.1 – 由于沙特阿拉伯允许朝觐者进行朝觐导致的情绪变化](img/B18714_11_01.jpg)'
- en: Figure 11.1 – Change of sentiments due to Saudi Arabia allowing pilgrims to
    perform Hajj
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.1 – 由于沙特阿拉伯允许朝觐者进行朝觐导致的情绪变化
- en: 'Another example of a radical change in sentiment (July 3) relates to the change
    of position of the US government concerning Qatar. More specifically, President
    Trump reviewed his earlier position suggesting that Qatar supports terrorism and
    said that Qatar is a partner in fighting terrorism and encouraged GCC unity. Harmoniously,
    the sentiments associated with **joy** spiked from 7% to 20%, while **sadness**
    declined from 4% to 2% (see *Figure 11**.2*). A similar radical change occurred
    on July 9, when the chief prosecutor of the International Criminal Court praised
    Qatar and regretted the actions of the Quartet. Simultaneously joyful tweets increased
    to 14% and sad tweets declined to 2%. Again, the spikes are short-lived and are
    slightly steeper on the way up than on the way down, and the percentage changes
    in the upward and downward directions are similar (joy goes up between two- and
    three-fold, sadness goes down two-fold):'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个关于情绪剧烈变化的例子（7月3日）与美国政府对卡塔尔立场的改变有关。更具体地说，特朗普总统回顾了他之前关于卡塔尔支持恐怖主义的立场，并表示卡塔尔是反恐的伙伴，并鼓励GCC团结。和谐地，与**喜悦**相关的情绪从7%激增到20%，而**悲伤**从4%下降到2%（见*图11*.2）。7月9日也发生了类似的剧烈变化，当时国际刑事法院检察官赞扬卡塔尔并后悔四国集团的行为。同时，快乐的推文增加到14%，悲伤的推文下降到2%。同样，这些激增是短暂的，上升的斜率略大于下降的斜率，向上和向下的百分比变化相似（喜悦上升两到三倍，悲伤下降两倍）：
- en: '![Figure 11.2 – Change of sentiments due to Trump’s review of position and
    the ICC chief prosecutor’s comments](img/B18714_11_02.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![图11.2 – 由于特朗普对职位的审查和ICC首席检察官的评论导致的情绪变化](img/B18714_11_02.jpg)'
- en: Figure 11.2 – Change of sentiments due to Trump’s review of position and the
    ICC chief prosecutor’s comments
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.2 – 由于特朗普对职位的审查和ICC首席检察官的评论导致的情绪变化
- en: 'In these cases, the spike in one emotion (**optimism**, **joy**) was matched
    by a proportionally similar drop in the opposite emotion (**pessimism**, **sadness**).
    This does not always happen. If we look at two days when there is a substantial
    spike in fear, we will find that there is also a spike in one of the positive
    emotions:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在这些情况下，一种情绪（**乐观**，**喜悦**）的激增与相反情绪（**悲观**，**悲伤**）成比例的下降相匹配。这并不总是发生。如果我们看看有大量恐惧激增的两天，我们会发现其中一种积极情绪也有激增：
- en: '**November 1, 2017**: This day was observed to be the most fearful day for
    the residents of Qatar when 33% of tweets exhibited fearful sentiments (see *Figure
    11**.3*). It was when Bahrain imposed entry visas on Qatar nationals and residents,
    which divided many families that had members in both counties.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2017年11月1日**：这一天被观察到是卡塔尔居民最恐惧的一天，有33%的推文表现出恐惧情绪（见*图 11.3*）。这是巴林对卡塔尔国民和居民实施入境签证的时候，这导致了许多在两国都有家庭成员的家庭分裂。'
- en: '**November 4, 2017**: This day was observed to be the third most fearful day
    for the residents of Qatar when 28% of tweets exhibited fearful sentiments (see
    *Figures 11.3* and *11.4*). It was when the foreign ministers of Saudi Arabia,
    Bahrain, UAE, and Egypt met in Abu Dhabi and reiterated freezing the membership
    of Qatar at the Gulf Cooperation Council.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2017年11月4日**：这一天被观察到是卡塔尔居民第三最恐惧的一天，有28%的推文表现出恐惧情绪（见*图 11.3*和*11.4*）。这是沙特阿拉伯、巴林、阿联酋和埃及的外交部长在阿布扎比会面并重申冻结卡塔尔在海湾合作委员会的成员资格的时候。'
- en: '*Figure 11**.3* shows that Qatari residents expressed **love** simultaneously
    with **fear** on November 1 and 4\. It is hard to be sure about how to interpret
    this, especially given the large spike in **love** on October 28, which corresponds
    to a drop in **fear**. There are several possible explanations: it may be that
    there was some other significant event around this time that independently led
    to an increase in tweets expressing **love**; it may be a consequence of the echo-chamber
    effect, though that seems unlikely since the initial spike on October 28 died
    away by October 31; or it may be that the rise in tweets expressing **fear** leads
    directly to a rise in ones expressing **love** (possibly, in fact, to tweets expressing
    both at the same time) as people contact their loved ones in times of stress.
    Whatever the underlying reason, this figure shows that conflicting emotions can
    interact in surprising ways:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 11.3* 显示，卡塔尔居民在11月1日和4日同时表达了**爱**情和**恐惧**。很难确定如何解释这一点，特别是考虑到10月28日**爱**情的巨大峰值，这与**恐惧**的下降相对应。有几种可能的解释：这可能是在这个时间附近发生了某些其他重大事件，独立地导致了表达**爱**情的推文数量的增加；这可能是由回声室效应造成的，尽管这似乎不太可能，因为10月28日的初始峰值在10月31日之前就消失了；或者这可能是因为表达**恐惧**的推文数量的增加直接导致了表达**爱**情的推文数量的增加（实际上可能是同时表达两者），因为人们在压力时期联系他们的亲人。无论潜在的原因是什么，这个图表明，冲突的情绪可以以令人惊讶的方式相互作用：'
- en: '![Figure 11.3 – Fear and love cooccurring](img/B18714_11_03.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.3 – 恐惧与爱并存](img/B18714_11_03.jpg)'
- en: Figure 11.3 – Fear and love cooccurring
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.3 – 恐惧与爱并存
- en: 'In addition to the spikes in tweets expressing **love** over this period, Qatari
    residents also expressed **joy** at the same time as they expressed the most **fear**:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 除了在此期间推文中表达**爱**情的峰值之外，卡塔尔居民在表达最多**恐惧**的同时也表达了**喜悦**：
- en: '![Figure 11.4 – Fear and joy cooccurring](img/B18714_11_04.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.4 – 恐惧与喜悦并存](img/B18714_11_04.jpg)'
- en: Figure 11.4 – Fear and joy cooccurring
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.4 – 恐惧与喜悦并存
- en: The spikes in **joy** in *Figure 11**.4* match those in love from the previous
    figure, again including spikes in **joy** alongside the spikes in **fear**. **love**
    continues to increase up to November 7, where **joy** tails off at this point,
    which may again be an echo-chamber effect. What is clear is that, unsurprisingly,
    major real-world events are followed very rapidly by spikes in the emotions expressed
    in tweets, though the emotions that are affected can be more surprising and can
    occur in surprising combinations. Interpreting exactly what is going on may require
    detailed analysis (in the same way that gross measures of accuracy such as F1-measure
    and proportionality may require detailed analysis through finer-grained tools
    such as confusion matrices), but changes in the distribution of emotions in tweets
    do indicate changes in public attitudes.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 11.4* 中**喜悦**的峰值与上一图中的**爱**情峰值相匹配，再次包括与**恐惧**峰值并存的**喜悦**峰值。**爱**情持续增加到11月7日，此时**喜悦**开始下降，这可能是回声室效应的再次体现。很明显的是，现实世界中的重大事件会迅速导致推文中表达的情绪的峰值，尽管受到影响的情绪可能更加令人惊讶，并且可能以令人惊讶的组合出现。准确解释正在发生的事情可能需要详细分析（就像像F1度量标准和比例性这样的粗略度量可能需要通过混淆矩阵等更细粒度的工具进行详细分析一样），但推文中情绪分布的变化确实表明了公众态度的变化。'
- en: Long-term changes
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 长期变化
- en: Significant events, then, produce spikes in the emotions expressed on social
    media. This is hardly surprising, but it is worth confirming that even quite simple
    classification algorithms can detect these spikes and that, sometimes, they occur
    in unexpected combinations. What about long-term trends?
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，重大事件会在社交媒体上表达的情绪中产生峰值。这几乎不足为奇，但值得确认的是，即使相当简单的分类算法也能检测到这些峰值，有时它们会以意想不到的组合出现。那么长期趋势又如何呢？
- en: It is harder to interpret these because they do not correspond to easily identifiable
    changes in the real world. The following figure shows general trends over the
    nine months of the blockade. Interpreting these is a challenge – do they track
    the progress of the political situation, or do they reflect a general weary acceptance
    of a situation that has not changed very much?
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 解释这些趋势比较困难，因为它们并不对应于现实世界中容易识别的变化。以下图表显示了封锁九个月期间的一般趋势。对这些趋势的解释是一个挑战——它们是否追踪了政治形势的进展，或者它们是否反映了人们对没有发生很大变化的情况的一种普遍的疲惫接受？
- en: 'These figures show eight of the emotions in matched pairs (**anticipation**,
    **trust**, and **surprise** tend to have low scores and not to change very much,
    either in response to specific events or over the long term, so we have omitted
    them). The given pairs seem reasonable – disgust and fear seem likely to form
    a matched pair; joy versus sadness, optimism versus pessimism, and anger versus
    love seem likely to behave as opposites – though as we have seen, opposites can
    show spikes at the same time, and it may be that pairing them off differently
    would give us a different overall picture:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 这些图表显示了八种情绪的匹配对（**期待**、**信任**和**惊讶**往往得分低，并且不太会因特定事件或长期变化而改变，所以我们省略了它们）。给出的匹配对似乎是合理的——厌恶和恐惧似乎可能形成一对匹配对；喜悦与悲伤、乐观与悲观、愤怒与爱似乎可能表现为对立面——尽管如我们所见，对立面可能会同时出现峰值，而且可能不同地配对会给出不同的整体图景：
- en: '![](img/B18714_11_05.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B18714_11_05.jpg)'
- en: Figure 11.5 – Adaption over an extended period?
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.5 – 长期适应？
- en: The trend lines in these figures are heavily smoothed – the data, as discussed
    previously, contains very large spikes, and fitting a trend line that obscures
    these may also obscure other gentler changes. Nonetheless, it is worth trying
    to see whether any general lessons can be learned from them.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 这些图表中的趋势线被过度平滑了——正如之前讨论的那样，数据中包含非常大的峰值，拟合趋势线可能会掩盖这些峰值，也可能掩盖其他更微妙的变化。尽管如此，尝试从中学习任何一般性的教训是值得的。
- en: It does seem that there is a general upward trend in the positive emotions –
    optimism, joy, and love all increase fairly steadily over the period – and a downward
    trend in the negative ones, with anger and pessimism both falling steadily and
    disgust and fear both decreasing slightly. Exactly how to interpret this is unclear.
    It could be that the overall situation was improving over the period covered by
    the dataset and that these trends are simply a reasonable response to the changes
    in the political situation. Alternatively, it could reflect the fact that people
    adjust to whatever situation they find themselves in, so over a period of stress
    and anxiety, their attitude to the situation becomes more relaxed, and positive
    emotions simply become more common.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来，积极的情绪确实呈现出一种普遍的上升趋势——乐观、喜悦和爱在整个时期内都相当稳定地增加——而消极情绪则呈现出下降趋势，愤怒和悲观都稳步下降，厌恶和恐惧都有所减少。究竟如何解释这一点尚不清楚。这可能意味着在数据集覆盖的时期内，整体情况正在改善，而这些趋势仅仅是人们对政治形势变化的合理反应。或者，这也可能反映了这样一个事实，即人们会适应他们发现自己所处的任何情况，因此在一个压力和焦虑的时期，他们对情况的态度变得更加放松，积极的情绪就变得更加普遍。
- en: The most surprising thing in this figure is that joy and sadness both show an
    increase toward the end of the period. It is hard to see why this would be the
    case – it cannot easily be explained in terms of growing adaptation to an unchanging
    situation, but at the same time, it is hard to see what changes in the situation
    could lead to an increase in both joy and sadness. Looking at trends over an extended
    period can be revealing, but it can also be confusing!
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个图表中最令人惊讶的是，喜悦和悲伤都在周期的末尾显示出增加的趋势。很难理解为什么会这样——这不能轻易地用对不变情况的适应性增长来解释，但与此同时，也很难看到什么情况的变化会导致喜悦和悲伤的增加。观察长期趋势可能会揭示一些东西，但同时也可能令人困惑！
- en: Proportionality revisited
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 比例性重访
- en: 'The preceding curves were obtained by running the multi-LEX classifier on the
    date-stamped tweets about the Qatar blockade. In the previous chapter, we looked
    at the notion that proportionality might provide a useful measure of how accurately
    a classifier that assigned a large number of false positives or false negatives
    might nonetheless provide an accurate general picture, even if its accuracy on
    individual tweets was flawed. We can approach this question by plotting the outputs
    of a range of different classifiers on the individual emotions: if these are generally
    similar, then we can at least hope that the places where they show peaks and troughs
    are reasonably reliable.'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的曲线是通过在关于卡塔尔封锁的日期标记推文上运行multi-LEX分类器获得的。在前一章中，我们探讨了比例可能提供了一个有用的度量，可以衡量一个分配了大量错误阳性或错误阴性的分类器，尽管它在单个推文上的准确性有缺陷，但仍然可以提供一个准确的整体图景。我们可以通过绘制一系列不同分类器在单个情绪上的输出来接近这个问题：如果它们总体上相似，那么我们至少可以希望它们显示峰值和谷值的地方是相当可靠的。
- en: 'Recall that the F1 and proportionality scores for the various classifiers,
    when trained and tested using 10-fold cross-validation on the SEM11-AR datasets,
    were as follows:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，当使用10折交叉验证在SEM11-AR数据集上训练和测试各种分类器时，F1分数和比例分数如下：
- en: '|  | **DNN** | **LEX** | **MULTI-DNN** | **MULTI-LEX** | **MULTI-NB** | **MULTI-SVM**
    | **NB** | **SVM** |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '|  | **DNN** | **LEX** | **MULTI-DNN** | **MULTI-LEX** | **MULTI-NB** | **MULTI-SVM**
    | **NB** | **SVM** |'
- en: '| SEM11-AR | 0.360 (0.742) | 0.549 (0.940) | 0.415 (0.971) | 0.520 (0.869)
    | 0.543 (0.996) | 0.321 (0.878) | 0.413 (0.770) | 0.379 (0.817) |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| SEM11-AR | 0.360 (0.742) | 0.549 (0.940) | 0.415 (0.971) | 0.520 (0.869)
    | 0.543 (0.996) | 0.321 (0.878) | 0.413 (0.770) | 0.379 (0.817) |'
- en: Figure 11.6 – F1 and proportionality for a range of classifiers on SEM11-AR
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.6 – 在SEM11-AR上各种分类器的F1分数和比例
- en: 'In the following figure, we have plotted the proportional scores for various
    emotions obtained by LEX, MULTI-LEX, and MULTI-NB, which are the classifiers with
    the best F1, scores over the period – that is, what proportion of the tweets at
    each date were labeled with the given emotion. Some of the data around the end
    of October 2017 is missing, and the plots are erratic over this period, but in
    general, there is a close correspondence between the plots for these three classifiers:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的图中，我们绘制了LEX、MULTI-LEX和MULTI-NB（这些是F1分数最高的分类器）在各种情绪上获得的比例分数，即在每个日期被标记为给定情绪的推文的比例。2017年10月底的一些数据缺失，并且在此期间图表波动较大，但总的来说，这三个分类器的图表之间存在紧密的对应关系：
- en: '![Figure 11.7 – Correlation between proportionality scores](img/B18714_11_07.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![图11.7 – 比例分数之间的相关性](img/B18714_11_07.jpg)'
- en: Figure 11.7 – Correlation between proportionality scores
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.7 – 比例分数之间的相关性
- en: The other plots for these classifiers are similar, with closely matching shapes,
    albeit sometimes with one lower than the other. It is inevitable that if one classifier
    assigns a higher proportion of tweets to a specific emotion than the others, then
    it will assign a lower proportion to another – MULTI-NB assigns more tweets to
    disgust and pessimism than the other two, and hence it has to assign fewer to
    the other labels. This also explains why all three have troughs for both joy and
    sadness around the beginning of October 2017 – they all have large peaks for disgust
    and pessimism at this point, and there simply is no room for either sadness or
    joy.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 这些分类器的其他图表也类似，形状非常接近，尽管有时一个比另一个低。如果一个分类器将比其他分类器更多的推文分配给特定的情绪，那么它将不得不将较低的比例分配给其他标签
    – MULTI-NB将比其他两个分类器更多地将推文分配给厌恶和悲观，因此它必须将较少的推文分配给其他标签。这也解释了为什么所有三个分类器在2017年10月初都出现了快乐和悲伤的谷值
    – 在这一点上，它们都有厌恶和悲观的大峰值，根本没有空间留给悲伤或快乐。
- en: For these classifiers to follow each other as closely as they do, they must
    be tracking something similar. Are they tracking the proportion of tweets that
    express each emotion day by day, or are they just tracking the same words? They
    are all lexicon-based, and LEX and MULTI-LEX collect their lexicons in much the
    same way, so it seems very likely that they are tracking words. But the fact that
    we can correlate the major peaks to specific blockade-related events suggests
    that the words they are paying attention to correspond to emotions – that is,
    they are tracking emotions. By looking at the words that are most strongly linked
    to **anger** and **joy** in these classifiers, they do look like words that express
    these emotions (the translations are taken word by word from Google Translate,
    so they might be a bit strange).
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 为了这些分类器能够如此紧密地依次排列，它们必须跟踪类似的东西。它们是在跟踪每天表达每种情绪的推文比例，还是只是在跟踪相同的词？它们都是基于词汇的，LEX和MULTI-LEX以几乎相同的方式收集它们的词汇表，所以它们似乎是在跟踪词。但我们可以将主要波峰与特定封锁相关事件相关联的事实表明，它们关注的词与情绪相对应——也就是说，它们在跟踪情绪。通过查看这些分类器中最强烈地与**愤怒**和**喜悦**相关的词，它们看起来确实像是表达这些情绪的词（翻译是从谷歌翻译逐字取的，所以可能有点奇怪）。
- en: '**ANGER**'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '**愤怒**'
- en: MULTI-LEX
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: MULTI-LEX
- en: الغضب (anger) الكهرب (electrification) المسلمين (Muslims) 😠 (😠) حسبنا (we counted)
    ونعم (and yes) استياء (discontent) خيانة (betrayal) الوكيل (agent)
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: الغضب (anger) الكهرب (electrification) المسلمين (Muslims) 😠 (😠) حسبنا (we counted)
    ونعم (and yes) استياء (discontent) خيانة (betrayal) الوكيل (agent)
- en: LEX
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: LEX
- en: الغضب (anger) الكهرب (electrification) 😠 (😠) 😑 (😑) ونعم (and yes) وترهيب (intimidation)
    حقير (despicable) جاب (gap) نرفزة (willies)
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: الغضب (anger) الكهرب (electrification) 😠 (😠) 😑 (😑) ونعم (and yes) وترهيب (intimidation)
    حقير (despicable) جاب (gap) نرفزة (willies)
- en: MULTI-NB
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: MULTI-NB
- en: 😠 (😠) غضب (anger) 😡 (😡) قبحهم (ugliness) نرفزة (willies) الوكيل (agent) ونعم
    (and yes) حانق (grouchy) الدول (countries) غضبي (my anger)
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 😠 (😠) غضب (anger) 😡 (😡) قبحهم (ugliness) نرفزة (willies) الوكيل (agent) ونعم
    (and yes) حانق (grouchy) الدول (countries) غضبي (my anger)
- en: '**JOY**'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '**喜悦**'
- en: MULTI-LEX
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: MULTI-LEX
- en: 💃 (💃) اعلان (advertisement) 🙈 (🙈) 💪 (💪) 💝 (💝) 💘 (💘) 🎈(🎈) يعكرها (disturb) وسعاده
    (happiness)مبسوط (happy)
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 💃 (💃) اعلان (advertisement) 🙈 (🙈) 💪 (💪) 💝 (💝) 💘 (💘) 🎈(🎈) يعكرها (disturb) وسعاده
    (happiness)مبسوط (happy)
- en: LEX
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: LEX
- en: '💝 (💝) #بهجة_أمل (#joy_of_hope) 💃 (💃) الفرحه (joy) #ريح_المدام (#the_wind_of_madam)
    #السعادة (#happiness) مبسوط (happy)💪 (💪)'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '💝 (💝) #بهجة_أمل (#joy_of_hope) 💃 (💃) الفرحه (joy) #ريح_المدام (#the_wind_of_madam)
    #السعادة (#happiness) مبسوط (happy)💪 (💪)'
- en: MULTI-NB
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: MULTI-NB
- en: 'عام (general) #بهجة_أمل (#joy_of_hope) #السعادة (#happiness) 🎈(🎈) اعلان (advertisement)
    سعيد (happy) يعكرها (disturb) 😍 (😍) 💝 (💝)'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 'عام (general) #بهجة_أمل (#joy_of_hope) #السعادة (#happiness) 🎈(🎈) اعلان (advertisement)
    سعيد (happy) يعكرها (disturb) 😍 (😍) 💝 (💝)'
- en: 'There are several things to note here:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有几个需要注意的点：
- en: Emojis appear quite high on the list of emotion markers. This really should
    not be surprising since that is exactly what emojis are for, but it is at least
    interesting to note that they do appear in the top 10 words for both sentiments
    for all the classifiers.
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 表情符号在情绪标记列表中相当靠前。这其实并不应该令人惊讶，因为这正是表情符号的作用，但至少值得注意的是，它们确实出现在所有分类器的情感前10个词中。
- en: A lot of words are shared by the three classifiers, though they are not always
    ranked the same. However, some words are emotion-bearing that are found by one
    but not the others (استياء (discontent), حانق (grouchy)), so they are not just
    finding the same sets.
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 许多词被三个分类器共享，尽管它们并不总是排名相同。然而，有些词具有情绪表达功能，但只被其中一个分类器发现（استياء (discontent), حانق
    (grouchy)），所以它们不仅仅是找到相同的集合。
- en: Some words are not emotion-bearing – المسلمين (Muslims) seems unlikely to be
    a term for expressing anger, but if there are a large number of angry tweets about
    the way that Muslims are treated, then this word will come to be associated with
    anger.
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有些词不具有情绪表达功能—— المسلمين (Muslims)似乎不太可能是一个表达愤怒的术语，但如果有很多关于穆斯林待遇的愤怒推文，那么这个词就会与愤怒相关联。
- en: 'So, we have several independent ways of checking that classifiers are doing
    what they are supposed to do in addition to re-annotating all the data:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们除了重新标注所有数据外，还有几种独立的方法来检查分类器是否在执行它们应该做的事情：
- en: If several classifiers assign the same peaks and troughs, they are likely to
    be identifying the same patterns in the text
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果几个分类器分配相同的波峰和波谷，它们很可能在文本中识别出相同的模式
- en: If these peaks and troughs can be aligned with external events, then the patterns
    probably do correspond to emotions
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果这些波峰和波谷能与外部事件对齐，那么这些模式可能确实对应着情绪
- en: If the words and emojis that are strongly linked to an emotion include words
    that would be expected to express that emotion, then the outputs probably do correspond
    to the given emotions
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果与某种情感强烈相关的词汇和表情符号包括预期会表达该情感的词汇，那么输出结果很可能与给定的情感相符
- en: 'Not all classifiers behave as nicely as this. If we add, for instance, SVM
    and simple Naive Bayes to the mix, we get the following:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 并非所有分类器都表现得如此出色。如果我们把支持向量机（SVM）和简单的朴素贝叶斯分类器加入其中，我们会得到以下结果：
- en: '![Figure 11.8 – Naive Bayes and SVM don’t correlate with the others](img/B18714_11_08.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![图11.8 – 朴素贝叶斯和SVM与其他分类器不相关](img/B18714_11_08.jpg)'
- en: Figure 11.8 – Naive Bayes and SVM don’t correlate with the others
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.8 – 朴素贝叶斯和SVM与其他分类器不相关
- en: What has happened here is that the training of both Naive Bayes and SVM is dominated
    by the first label that is assigned to each tweet. So, if a tweet is assigned
    anger and disgust, it is simply treated as an instance of anger since there is
    no scope for assigning multiple labels **during training** for these classifiers,
    even if it is possible to assign thresholds to allow multiple labels in the test/application
    data. So, we get very high scores for **anger** and very low ones for other negative
    emotions. There are some peaks and troughs in roughly the right places for these
    classifiers, but they are swamped by the fact that they both assign anger to 90%
    or more of all tweets and less than 5% to all the other negative emotions.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 发生在这里的情况是，朴素贝叶斯和SVM的训练都受每个推文分配的第一个标签所主导。因此，如果一个推文被分配愤怒和厌恶，它就被简单地视为愤怒的一个实例，因为这些分类器在训练期间无法分配多个标签，即使测试/应用数据中可以分配阈值以允许多个标签。因此，我们得到了非常高的愤怒分数，以及其他负面情感的非常低的分数。对于这些分类器，在大约正确的位置有一些峰值和谷值，但它们被这样一个事实所淹没，即它们都将愤怒分配给90%或更多的所有推文，并将所有其他负面情感分配给不到5%。
- en: A number of the other classifiers (DNN, SVM) simply assign everything to neutral,
    which shows up as a flat line in every plot. This is despite the fact that they
    score moderately well on the test data (which is drawn from the same source as
    the training data, though of course the two are kept apart on each fold). This
    suggests that these classifiers are more easily influenced by properties of the
    training data that are specific to the way it was obtained and presented, rather
    than just to the gross distribution of words. In a sense, what makes them perform
    well in the original experiments – namely that they are sensitive to things other
    than the raw word counts – is exactly what makes them less robust when applied
    to new data.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 其他一些分类器（如DNN、SVM）简单地将所有内容归为中性，这在每个图表中都表现为一条平坦的线。尽管它们在测试数据上的得分相当不错（这些数据是从与训练数据相同来源抽取的，尽管当然在每一折中两者是分开的），但这种情况仍然存在。这表明这些分类器更容易受到特定于数据获取和呈现方式的训练数据属性的影响，而不仅仅是词汇的总体分布。从某种意义上说，使它们在原始实验中表现良好的因素——即它们对除了原始词频之外的事物敏感——正是使它们在应用于新数据时不太稳健的原因。
- en: 'The two main lessons from this case study are as follows:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 从这个案例研究中可以得出两个主要教训：
- en: Looking at longitudinal data can be extremely revealing. By plotting the proportion
    of tweets that are assigned different labels and comparing these plots to external
    events and each other, we can obtain information about their reliability as indicators
    of emotions in tweets drawn from entirely new sources. This is not easily available
    if we just look at a single source. When testing with single sources, we obtained
    very high scores for classifiers that did not transfer well to the new data, despite
    the care that we took to carry out 10-fold cross-validation with properly separated
    training and test sets.
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 观察纵向数据可以非常揭示性。通过绘制分配给不同标签的推文的占比，并将这些图表与外部事件和彼此进行比较，我们可以获得有关它们作为从完全新的来源抽取的推文中情感指标可靠性的信息。如果我们只查看单个来源，这并不容易获得。在仅使用单个来源进行测试时，尽管我们非常小心地进行10折交叉验证，并正确分离训练集和测试集，但我们获得了对新的数据转移不佳的分类器的非常高的分数。
- en: The very high scores that were obtained by the more sophisticated classifiers
    fell away sharply when they were applied to the new data. It seems likely that
    these classifiers were responding to characteristics of the original data that
    are not replicated in the new material. The simple classifiers, which rely very
    heavily on simple statistics about the probability of a particular word being
    linked to a particular emotion, are more robust since that is all that they are
    sensitive to and that is typically carried over into new text types.
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当更复杂的分类器应用于新数据时，它们获得的高分急剧下降。这些分类器似乎是对原始数据中不重复在新材料中的特征做出反应。依赖于特定单词与特定情感概率的简单统计的简单分类器更稳健，因为它们只对这一点敏感，并且这一点通常会被带到新的文本类型中。
- en: Let’s summarize everything we’ve covered so far.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们总结一下到目前为止我们已经涵盖的内容。
- en: Summary
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In the previous chapters, we looked at the performance of a collection of classifiers
    on a range of datasets, with datasets with varying numbers of emotions, varying
    sizes, and varying kinds of text and, most importantly, with some datasets that
    assigned exactly one label to each tweet and some that allowed zero or more labels
    per tweet. The conclusion at the end of [*Chapter 10*](B18714_10.xhtml#_idTextAnchor193)*,
    Multiclassifier* was that “different tasks require
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的章节中，我们查看了一系列分类器在不同数据集上的性能，这些数据集具有不同的情感数量、不同的大小、不同的文本类型，最重要的是，一些数据集为每条推文分配了恰好一个标签，而另一些数据集允许每条推文有零个或多个标签。在[*第10章*](B18714_10.xhtml#_idTextAnchor193)*，多分类器*的结论是“不同的任务需要
- en: different classifiers.” This holds even more strongly now that we have tried
    our classifiers on data that does not match the data they were trained on, with
    the DNN and SVM classifiers that performed well on some of the previous datasets
    doing extremely poorly on the case study data.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: “不同的分类器。”现在我们已经在与它们训练的数据不匹配的数据上尝试了我们的分类器，DNN和SVM分类器在之前的一些数据集上表现良好，但在案例研究数据上表现极差。
- en: These two classifiers seem to have assigned **neutral** to almost all the tweets
    in this dataset. This seems likely because the clues that these classifiers are
    sensitive to are missing from, or at any rate rare in, the data, and hence they
    are not assigning any labels. It looks as though these classifiers assign very
    strong weights to specific cues, and if those cues are not present in the data
    that has been collected from different sources or following different guidelines,
    then the classifiers cannot make use of the information that *is* present.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个分类器似乎将这个数据集中几乎所有推文都分配为**中性**。这很可能是由于这些分类器敏感的线索在数据中缺失，或者至少是罕见的，因此它们没有分配任何标签。看起来这些分类器对特定的线索赋予了非常强的权重，如果这些线索没有出现在从不同来源收集或遵循不同指南的数据中，那么分类器就无法利用那些**确实存在**的信息。
- en: It is, of course, difficult to assess the performance of data for which you
    do not have a Gold Standard. It is infeasible to construct a fresh Gold Standard
    every time you want to try your classifier on a new dataset – the data used in
    this case study, for instance, contains 160K tweets, and annotating all of these
    would be an extremely time-consuming task. Given that we do not have a Gold Standard
    for this data, how can we be sure that DNN and SVM are not correct in deciding
    that virtually none of the tweets in it express any emotion?
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，评估没有黄金标准的数据的性能是困难的。每次你想在新数据集上尝试你的分类器时，构建一个新的黄金标准都是不切实际的——例如，在这个案例研究中使用的数据包含160K条推文，标注所有这些将是一项极其耗时的工作。鉴于我们没有这个数据的黄金标准，我们如何能确定DNN和SVM在决定其中几乎没有推文表达任何情感时是正确的？
- en: 'We have two checks on this:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 我们对此进行了两项检查：
- en: The fact that the other classifiers shadow each very closely suggests that they
    are indeed tracking something – it would be beyond coincidence that they all show
    peaks and troughs at the same points.
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 其他分类器彼此非常接近地跟踪，这表明它们确实在跟踪某些东西——它们在相同点显示峰值和谷值的情况绝非巧合。
- en: The correlation between the major peaks and troughs and real-world events relating
    to the blockade further suggests that what they are tracking is public opinion.
    Again, it would be beyond coincidence that the largest peaks in **fear** occur
    following events such as the ban on entry visas to Bahrain and the meeting at
    which Qatar’s membership of the Gulf Cooperation Council was frozen, and the largest
    peaks in **joy** follow events such as permission being granted for pilgrims to
    perform Hajj.
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主要峰值和谷值与与封锁相关的现实世界事件之间的相关性进一步表明，他们追踪的是公众舆论。再次强调，最大的**恐惧**峰值出现在巴林入境签证禁令和卡塔尔海湾合作委员会成员资格被冻结的会议之后，而最大的**喜悦**峰值出现在允许朝圣者进行朝觐的事件之后，这绝非巧合。
- en: So, yet again, you can see that you should be wary of assuming that a classifier
    that performs well on some dataset will perform equally well on another. Always,
    always, always try out different classifiers, with different settings, and make
    your own decision about which works best for your task on your data.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，再次提醒，你应该警惕假设某个在某个数据集上表现良好的分类器在另一个数据集上也能同样表现良好。始终，始终，始终尝试不同的分类器，使用不同的设置，并就哪种最适合你在你的数据上的任务做出自己的决定。
- en: 'The correlation between the scores for the various classifiers does, however,
    also suggest a further strategy: combine them. There are several ensemble learning
    strategies for using the results of a combination of classifiers – for example,
    by assigning a label if the majority of classifiers in the ensemble recommend
    assigning it, by assigning a label if the sum of the individual scores for that
    label exceeds some threshold, or even by training a new classifier whose input
    is the predictions of the members of the ensemble. Just as there is a wide range
    of classifiers to choose from, there is also a wide range of strategies for combining
    the results of classifiers. So, again, you should try different ensemble strategies
    and don’t believe what people say about their favorites.'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，不同分类器得分的关联也暗示了另一种策略：将它们结合起来。有几种集成学习策略可以用于结合分类器的结果——例如，如果集成中的大多数分类器建议分配该标签，则分配该标签；如果该标签的个别得分的总和超过某个阈值，则分配该标签；甚至可以通过训练一个新的分类器来实现，其输入是集成成员的预测。正如有广泛的选择范围可供选择分类器一样，也有广泛的方法可以结合分类器的结果。因此，再次提醒，你应该尝试不同的集成策略，不要轻信人们对他们偏爱的策略的说法。
- en: '*Always, always, always, try out different classifiers, with different settings,
    and make your own decision about which works best for your task on* *your data.*'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '*始终，始终，始终，尝试不同的分类器，使用不同的设置，并就哪种最适合你在* *你的数据* *上的任务做出自己的决定。*'
