- en: '*Chapter 12*: Using BigQuery ML with AI Notebooks'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: For data scientists and machine learning engineers, notebooks are a fundamental
    productivity tool. Notebooks allow us to interact with computing resources because
    we can use them to write and execute code, visualize the results, and share the
    outcomes with other data scientists. Data engineers, data scientists, and machine
    learning engineers make experiments and explore data before deploying code into
    the production environment. They leverage notebooks because they offer a flexible
    and agile environment to develop and test in.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, we'll learn what **AI Platform Notebooks** is, how to provision
    a notebook environment, and how to use it to develop a BigQuery ML model.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: We'll start by discovering the basics of notebooks and then start getting some
    hands-on practice with **Google Cloud Platform** (**GCP**).
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we''ll cover the following topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: Discovering AI Platform Notebooks
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Implementing BigQuery ML models within notebooks
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Technical requirements
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This chapter requires that you have access to a web browser and can leverage
    the following:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: A GCP account to access the Google Cloud Console
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A GCP project to host BigQuery datasets
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Now that we know about the technical requirements for this chapter, let's learn
    how to develop a machine learning model using AI Platform Notebooks.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: 'Check out the following video to see the Code in Action: [https://bit.ly/2QVZ1oY](https://bit.ly/2QVZ1oY)'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: Discovering AI Platform Notebooks
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we'll learn what **AI Platform Notebooks** is and the advantages
    that it can provide.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: '**AI Platform Notebooks** is a fully managed service that allows data engineers
    and data scientists to use a JupyterLab development environment. This service
    allows us to develop, evaluate, test, and deploy machine learning models.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: '**JupyterLab** is a web tool for data scientists that is developed and maintained
    by Project Jupyter ([https://jupyter.org/about](https://jupyter.org/about)). The
    goal of the project is to develop open source software and standards that offer
    a unique interface across different programming languages.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: 'Using AI Platform Notebooks with JupyterLab can bring several advantages:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: We can easily set up our pre-configured machine learning environments with the
    most important and useful ML libraries, such as TensorFlow, Keras, PyTorch, and
    others.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We can leverage the scalability of the cloud by increasing the size of the hardware
    resources according to our requirements. For example, we can improve the performance
    of our notebook by scaling up the RAM or adding **Graphics Processing Units**
    (**GPUs**).
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We are allowed to access the other Google Cloud services from our notebook without
    the need to perform any additional configuration. From AI Platform Notebooks,
    we can easily leverage BigQuery, Dataflow, and Dataproc.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We can integrate our development environment with code versioning applications
    such as Git.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We can easily share our notebooks with colleagues or friends, thus making collaboration
    faster and increasing productivity.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In the following screenshot, you can see the web interface of a JupyterLab
    notebook:'
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Figure 12.1 –JupyterLab''s web interface'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_12_001.jpg)'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: Figure 12.1 –JupyterLab's web interface
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: 'A notebook can contain descriptive content, code blocks, and results. It is
    composed of a sequence of cells that can be executed. There are two types of cells:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: '**Code cells**: Contain executable code to run. The result of their execution
    is visualized immediately after the code.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Markdown cells**: Contain HTML code to produce headers, lists, and formatted
    text. These cells are usually used to describe the code and make the entire notebook
    readable and easy to understand.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Let's move on to the next section!
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: AI Platform Notebooks pricing
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this section, you'll understand how the price of AI Notebooks is calculated
    and billed to your Google Cloud account.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: Since the JupyterLab software is open source, when you use AI Platform Notebooks,
    you're only charged for the Google Cloud resources that you consume.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: 'To start using AI Platform Notebooks, you''ll have to pay for the following:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: '**Google Compute Engine** (**GCE**), the virtual machine that''s used to deploy
    your development environment. GCE is charged according to the provisioned number
    of virtual CPUs, memory, and disk that you have.'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Any other service that can be invoked from the notebook, such as BigQuery.
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tip
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Remember to turn off the GCE that hosts your AI Platform Notebook when you are
    not using it. If the virtual machine is left active, you will continue to pay
    for those resources, even if you are not actually using them.
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Now that we've learned what AI Platform Notebooks is and why it can be useful
    when you're developing a machine learning model, in the next section, we'll understand
    how to configure our first notebook.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
- en: Configuring the first notebook
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this section, we'll set up our first AI Platform notebook, which will be
    used to train, evaluate, and test the BigQuery ML model.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
- en: 'After logging into the GCP console, we can start configuring our first notebook.
    Let''s get started:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: First, let's browse the console's navigation menu until we find the **AI Platform
    (Unified)** item. From the submenu, select **Notebooks**:![Figure 12.2 – AI Platform
    Notebooks in the console's menu
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_12_002.jpg)'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 12.2 – AI Platform Notebooks in the console's menu
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: If this is the first time that we're accessing this service, we will be asked
    to enable the API. We can click the blue **ENABLE** button to start using the
    service:![Figure 12.3 – Enabling the Notebooks API
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_12_003.jpg)'
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 12.3 – Enabling the Notebooks API
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: After a few minutes, the service will be enabled and ready to use. We'll be
    redirected to a web page containing the statistics of the API that we've just
    enabled:![Figure 12.4 – The statistics of the Notebooks API
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_12_004.jpg)'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 12.4 – The statistics of the Notebooks API
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Selecting the **Notebooks** item from the console's navigation menu once more,
    we'll access the page dedicated to AI Platform Notebooks. By selecting the blue
    **CREATE INSTANCE** button, we'll start configuring the notebook:![Figure 12.5
    – Creating new instances
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_12_005.jpg)'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 12.5 – Creating new instances
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: To create a notebook instance, we need to choose an `bigqueryml-packt-notebook`
    for **Instance name**, **us-west1** for **Region**, **use-west1-a** for **Zone**,
    **Debian 10** for **Operating System**, and **Python 3 (with Intel MKL)** for
    **Environment**.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Scrolling down the configuration page, select **n1-standard-2** for **Machine
    type**. After that, we can start creating the instance by clicking the blue **CREATE**
    button:![Figure 12.7 – Additional options for creating a notebook instance
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_12_007.jpg)'
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 12.7 – Additional options for creating a notebook instance
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: After a few minutes, the notebook instance will be ready to use. Upon selecting
    **OPEN JUPYTERLAB**, the JupyterLab notebook will open a new window containing
    the development environment:![Figure 12.8 – The list of notebook instances available
    in the GCP project
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_12_008.jpg)'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 12.8 – The list of notebook instances available in the GCP project
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: In the web interface of the JupyterLab notebook, we can initialize the first
    notebook file by selecting **Python 3** as the notebook type:![Figure 12.9 – Selecting
    the runtime engine to use in the notebook
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_12_009.jpg)'
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 12.9 – Selecting the runtime engine to use in the notebook
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Upon making this selection, a new notebook file will be created and ready for
    us to develop our BigQuery ML machine learning model:'
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 12.10 – When the notebook is initialized, an empty file is displayed'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_12_010.jpg)'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: Figure 12.10 – When the notebook is initialized, an empty file is displayed
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
- en: In this section, we configured our first AI Platform notebook. In the next section,
    we'll use it to execute some code blocks in order to create, evaluate, and test
    a BigQuery ML machine learning model.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: Implementing BigQuery ML models within notebooks
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we'll leverage the notebook instance that we configured in
    the *Configuring the first notebook* section to run BigQuery SQL statements and
    develop the BigQuery ML machine learning model.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: To learn how a notebook can be used, we'll reuse some of the code blocks that
    we built in [*Chapter 4*](B16722_04_Final_ASB_ePub.xhtml#_idTextAnchor061), *Predicting
    Numerical Values with Linear Regression*. It's important to remember that the
    goal of the use case was to predict the rental time of each ride for the New York
    City bike sharing service. To achieve this goal, we've trained a simple linear
    regression machine learning model. In this section, we'll use the same technique;
    that is, we'll be embedding the code into an AI Platform notebook.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: Compiling the AI notebook
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In this section, we''ll compile the notebook using **Code** cells to embed
    the SQL queries and **Markdown** cells to create titles and descriptions. Let''s
    start compiling our notebook by performing the following steps:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: 'First, let''s create a title for our notebook. From the cell type drop-down
    menu, we can select **Markdown** and insert the following code block into the
    first cell of the notebook:'
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'In the following screenshot, you can see how the first cell is configured:'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Figure 12.11 – An example of a Markdown cell'
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '](img/B16722_12_011.jpg)'
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 12.11 – An example of a Markdown cell
  id: totrans-80
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The **#** character preceding the text is used to identify a title at the first
    level.
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'By clicking on the **+** button in the notebook menu, you''ll add a new cell.
    Let''s select **Markdown** as the cell type and insert the following text, which
    describes the notebook:'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: To check whether we've written the previous steps properly, we can use the Run
    button in the notebook menu. We can run each cell to visualize the result:![Figure
    12.12 – The Run button in the notebook menu
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/B16722_12_012.jpg)'
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 12.12 – The Run button in the notebook menu
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'In the following screenshot, you can see the outcome of executing the first
    two steps, which contain the title and a short description:'
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Figure 12.13 – The result of executing the first few cells'
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '](img/B16722_12_013.jpg)'
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Figure 12.13 – The result of executing the first few cells
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Let's add a subtitle to start the data preparation section of the model. We'll
    add another `##` character preceding the text is used to identify a title of the
    second level. It can be considered a subtitle of the title we wrote in *Step 1*.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Now, we're ready to create the `12_notebook` BigQuery dataset, which will be
    used to host our BigQuery ML models. Let's create a `12_notebook` dataset in `US`
    within the current GCP project. At the end of the cell, the `print` command is
    used to present a confirmation message, stating that the dataset has been created
    successfully.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Now, we can add a new `` `12_notebook.training_table` `` table:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The `%%bigquery` keyword allows us to include code blocks that contain SQL queries.
    The SQL statement will be run directly on BigQuery through the native integration
    of the AI Platform notebook and the analytical database.
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The business logic to create the table is the same as what we used to create
    the `` `04_nyc_bike_sharing.training_table` `` table in [*Chapter 4*](B16722_04_Final_ASB_ePub.xhtml#_idTextAnchor061),
    *Predicting Numerical Values with Linear Regression*.
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Now, let's include an additional `` `04_nyc_bike_sharing.evaluation_table` ``
    table in [*Chapter 4*](B16722_04_Final_ASB_ePub.xhtml#_idTextAnchor061), *Predicting
    Numerical Values with Linear Regression*.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Finally, let's add another `` `04_nyc_bike_sharing.prediction_table` `` table
    in [*Chapter 4*](B16722_04_Final_ASB_ePub.xhtml#_idTextAnchor061), *Predicting
    Numerical Values with Linear Regression*.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Let''s add a subtitle to start the training section of the model. We''ll add
    a **Markdown** cell by inserting the following title:'
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Now, we're ready to write the BigQuery ML query that will train our machine
    learning model from the notebook. Let's add a new `` `12_notebook.trip_duration_notebook`
    `` machine learning model contains the same business logic that we used in [*Chapter
    4*](B16722_04_Final_ASB_ePub.xhtml#_idTextAnchor061), *Predicting Numerical Values
    with Linear Regression*, to train the `` `04_nyc_bike_sharing.trip_duration_by_stations_and_day`
    `` model.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Let''s add a subtitle to start the training section of the model. We''ll add
    a **Markdown** cell by inserting the following title:'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Now, we're ready to write the BigQuery ML query that will evaluate the machine
    learning model. Let's add a new `` `12_notebook.trip_duration_notebook` `` machine
    learning model contains the same business logic that we used in [*Chapter 4*](B16722_04_Final_ASB_ePub.xhtml#_idTextAnchor061),
    *Predicting Numerical Values with Linear Regression*, to evaluate the `` `04_nyc_bike_sharing.trip_duration_by_stations_and_day`
    `` model.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Let''s add a subtitle to start the prediction section of the model. We''ll
    add a **Markdown** cell by inserting the following title:'
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Now, we can include the BigQuery ML query that we'll use for our ML model. Let's
    add a new `` `12_notebook.trip_duration_notebook` `` machine learning model contains
    the same business logic that we used in [*Chapter 4*](B16722_04_Final_ASB_ePub.xhtml#_idTextAnchor061),
    *Predicting Numerical Values with Linear Regression*, to use the `` `04_nyc_bike_sharing.trip_duration_by_stations_and_day`
    `` model.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: At the end of the compilation phase, we can save the notebook using the **Save
    Notebook** button in the main menu or by using the **Save Notebook As…** option.
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In this section, we compiled our notebook using code cells and Markdown cells.
    In the next section, we'll run the code that we've written in the notebook.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
- en: Running the code in the AI notebook
  id: totrans-110
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this section, we'll run the code that we wrote in the *Compiling the AI notebook*
    section. Let's start by taking a look at the notebook that we've prepared.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
- en: 'In the following screenshot, we can visualize our AI notebook, which alternates
    between descriptive cells and code cells:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 12.14 – The entire notebook file compiled'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_12_014.jpg)'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
- en: Figure 12.14 – The entire notebook file compiled
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
- en: 'To run the entire notebook, we can simply open the **Run** menu at the top
    of the window and select **Run All Cells**, as shown in the following screenshot:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 12.15 – Running all the cells'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_12_015.jpg)'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
- en: Figure 12.15 – Running all the cells
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
- en: Upon selecting **Run All Cells**, all the cells in the AI Platform notebook
    will be executed sequentially.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
- en: At the end of the evaluation step, the results of the `ML.EVALUATE` function
    will be shown in the *Evaluating the linear regression* section.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
- en: 'The following screenshot shows the values returned by the evaluation stage:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 12.16 – The values returned by the evaluation function'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_12_016.jpg)'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
- en: Figure 12.16 – The values returned by the evaluation function
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
- en: At the end of the prediction step, the results of the `ML.PREDICT` function
    will be shown in the `Testing the linear regression` section.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
- en: 'In the following screenshot, we can visualize the results presented at the
    end of the notebook:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 12.17 – The values returned by the PREDICT function'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16722_12_017.jpg)'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
- en: Figure 12.17 – The values returned by the PREDICT function
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
- en: As you can see, after executing the code block, the notebook presents the results
    of the predictions immediately after the SQL statement. This characteristic is
    particularly important if we wish to increase the readability and understanding
    of the BigQuery ML development steps.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
- en: In this section, we learned how to compile an AI notebook and how to run all
    the cells that contain code blocks or titles and descriptions.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  id: totrans-133
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we learned what AI notebooks are and why they can be useful
    in the development of a machine learning model, and we also understood the pricing
    model. We discovered the relationship between Google AI Platform Notebooks and
    the open source environment JupyterLab.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
- en: First, we provisioned our first notebook instance using the Google Cloud Console
    web interface. Then, we used this new instance to develop a simple linear regression
    model, alternating code blocks and descriptive cells in the notebook file in the
    meantime.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
- en: Finally, we executed all the steps in the notebook and visualized the results
    directly in its web interface.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we'll learn how to invoke TensorFlow models directly from
    BigQuery using BigQuery ML.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
- en: Further resources
  id: totrans-138
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**NYC Bike Sharing public dataset**: [https://console.cloud.google.com/marketplace/product/city-of-new-york/nyc-citi-bike](https://console.cloud.google.com/marketplace/product/city-of-new-york/nyc-citi-bike
    )'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**BigQuery ML create model**: [https://cloud.google.com/bigquery-ml/docs/reference/standard-sql/bigqueryml-syntax-create](https://cloud.google.com/bigquery-ml/docs/reference/standard-sql/bigqueryml-syntax-create
    )'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**BigQuery ML evaluate model**: [https://cloud.google.com/bigquery-ml/docs/reference/standard-sql/bigqueryml-syntax-evaluate](https://cloud.google.com/bigquery-ml/docs/reference/standard-sql/bigqueryml-syntax-evaluate
    )'
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**BigQuery ML PREDICT**: [https://cloud.google.com/bigquery-ml/docs/reference/standard-sql/bigqueryml-syntax-predict](https://cloud.google.com/bigquery-ml/docs/reference/standard-sql/bigqueryml-syntax-predict
    )'
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**BigQuery ML linear regression example**: [https://cloud.google.com/bigquery-ml/docs/bigqueryml-natality](https://cloud.google.com/bigquery-ml/docs/bigqueryml-natality)'
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Jupyter Notebooks best practices**: [https://cloud.google.com/blog/products/ai-machine-learning/best-practices-that-can-improve-the-life-of-any-developer-using-jupyter-notebooks](https://cloud.google.com/blog/products/ai-machine-learning/best-practices-that-can-improve-the-life-of-any-developer-using-jupyter-notebooks)'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Jupyter Notebooks最佳实践**: [https://cloud.google.com/blog/products/ai-machine-learning/best-practices-that-can-improve-the-life-of-any-developer-using-jupyter-notebooks](https://cloud.google.com/blog/products/ai-machine-learning/best-practices-that-can-improve-the-life-of-any-developer-using-jupyter-notebooks)'
- en: '**Prototyping models in AI Platform**: [https://codelabs.developers.google.com/codelabs/prototyping-caip-notebooks/#0](https://codelabs.developers.google.com/codelabs/prototyping-caip-notebooks/#0)'
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**在AI平台上原型设计模型**: [https://codelabs.developers.google.com/codelabs/prototyping-caip-notebooks/#0](https://codelabs.developers.google.com/codelabs/prototyping-caip-notebooks/#0)'
