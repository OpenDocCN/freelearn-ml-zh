- en: Transforming VMware IT Operations Using ML
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This chapter will help you understand how VMware Operations Transformation for
    cloud automation creates and implements a life cycle approach for managing and
    delivering SDDC-based services to help customers transition into a service provider
    organization. This service focuses on optimizing organizational and process capabilities
    to support the **Software-Defined Data Center** (**SDDC**) concept to realize
    the full capabilities of these technologies that are delivered in a modular format
    and to deliver real business benefits through the integration of the technology,
    people, and processes.
  prefs: []
  type: TYPE_NORMAL
- en: This service-based approach targets both new and existing VMware customers who
    have prior experience with VMware infrastructures, but might not have experience
    with the products that are part of the cloud automation solution or who have no
    experience in delivering SDDC-based services. An operations transformation for
    a cloud automation service is often a critical step in large projects.
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, we will learn how to manage a cloud model from a single console
    and transform data center operations in different phases by designing the scalable
    infrastructure to run both legacy and new cloud native apps from a unified platform.
    We will leverage ML techniques in the SDDC approach to do this.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we will cover the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Overview on business and operations challenges
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Transforming VMware technical support operations
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Virtual data centers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Overview on business and operations challenges
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We're trying to drive application management transformation to make life easier
    with VMware solutions. We may be experiencing many of the issues that come with
    managing apps, such as legacy provisioning, complex and lengthy updates, and having
    to manage separate solutions for app delivery. VMware is taking a different approach
    to managing applications. We have methods where we can provision one app to many
    desktops, thereby saving considerable time and storage costs. We can deliver apps
    in seconds and at scale. We can isolate apps to remove the app conflict barrier.
    Apps can then be consumed on any device and on one portal. We can even transform
    the way you monitor your applications for better performance.
  prefs: []
  type: TYPE_NORMAL
- en: VMware Cloud operations and stakeholders want to analyze the consumption of
    the on-premise private cloud infrastructure services in relation to their customer's
    different functional groups to determine the current trend, future demand, and
    budget compliance. A customer's cloud operations and stakeholders have to charge
    the customers for the consumed resources. The customer's stakeholders want a precise
    view of the costs that are required to provide a unit of IaaS resource, gain better
    visibility into the loaded costs of components it is comprised of, and provide
    **total cost of ownership** (**TCO**) to run the IaaS. The customer gets the total
    capital expenses and operating expenses for running the IaaS infrastructure, so
    they want to allocate these costs to the underlying resources that constitute
    the services. These resources are CPU, RAM, storage, operating systems, license,
    and labor. The customer's operation team for private cloud operations, cloud administrators,
    and designated business owners must make cost-based analyses and decisions by
    achieving an in-depth understanding of how the cloud infrastructure is being provisioned
    to business units, and what the allocated and unallocated costs of provisioned
    resources, such as CPU, RAM, and storage are. They want to analyze the allocated
    and unallocated costs of infrastructure by resource type. Cloud administrators
    also want to determine whether there is hardware available to run VMs on the existing
    infrastructure, create reports on groups of old servers nearing expiry or end-of-support,
    and also create automatic reports to show stakeholders that new infrastructure
    might need to be procured.
  prefs: []
  type: TYPE_NORMAL
- en: Cloud operations and business owners want to analyze the consumption of the
    on-premise private cloud infrastructure services in relation to the customer's
    business functional groups to determine the current trend, future demand, and
    budget compliance. The cloud operations team want to charge the customers for
    the consumed resources. They want to provide private cloud services to consumers
    using vRA software. The private cloud resources are hosted in the customer's data
    center, which is why the business stakeholders are asking for the optimum pricing
    policy to measure the business value of the private cloud resources in terms of
    return on investment.
  prefs: []
  type: TYPE_NORMAL
- en: An IT development and operations team is required to rapidly provision new applications
    and their continuous updates almost every year. These applications have fully
    functional applications such as Oracle enterprise resource planning and home-grown
    apps such as the My VMware portal being integrated with various SaaS applications.
    Modification and testing of new software instances was slow and mostly prone to
    errors with manual processes. The development team normally needs an application
    development instance and an application test instance during any project for a
    few weeks. They need another one week for correction, even after application deployment
    to get the applications into production. This will make the business wait for
    new applications.
  prefs: []
  type: TYPE_NORMAL
- en: Cloud admin is responsible to the customer for the definition, design, deployment,
    and ongoing maintenance and support of a particular service, and work with the
    architects and developers to maximize the level of automation to support the service
    and manage its performance. He is also accountable for the service management
    delivery of the service.
  prefs: []
  type: TYPE_NORMAL
- en: The challenges of not having  services owners for the operations team
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We lack a single point of contact for customers, which creates different, individual
    channels for contacting IT and can affect customer experience. It also isn't able
    to provide an overall, end-to-end vision of the service, resulting in a lack of
    understanding of the service by customers and an alignment to the customer's needs.
    This way, ownership is diffused among different people, creating possible breakdowns
    between service life cycle stages or among different stakeholders, and things
    may fall between different people or create duplicacy. It also creates a tendency
    toward finger-pointing due to a lack of single point of accountability, which
    ultimately leads to reactive management with a lack of explicit commitment to
    evolve the service and promote the cloud more broadly. It will also lack overall
    vision as the same service may be delivered differently across the enterprise,
    making standardization harder to shift to proactive management of the service.
  prefs: []
  type: TYPE_NORMAL
- en: A solution with service owners
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Once service owners are nominated, then we will have clear ownership with a
    single point of accountability. It will transform into a consistent approach for
    the consistent delivery of the services across the organization by facilitating
    between IT and customers with the accountability of ongoing delivery and continuous
    improvement of the service so that they can focus on the end-to-end quality of
    a service, its alignment to a customer's needs and IT strategy, and its future
    evolution. It will also drive the proactive management and optimization of the
    service.
  prefs: []
  type: TYPE_NORMAL
- en: Responsibilities of the service owner
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Service owners are responsible for the overall service definition and the delivery
    of the following cloud service offerings:'
  prefs: []
  type: TYPE_NORMAL
- en: Gathers together all necessary stakeholders in IT to define the service scope,
    objectives, SLA, and so on upon the customer's new service requirement
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Manages development and enhancement efforts and works with cloud service architects
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Improves the services as well as expanding the demand due to an overarching
    vision of the service
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Continuous monitoring and reports on service-level attainment for their cloud
    service offerings
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Defines KPIs and reporting, which is necessary to manage the live services
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Maintains an active dialog with customers regarding service performance to anticipate
    and take required actions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Responsible for service desk training to put the new or changed services into
    production based on their knowledge of the service and customer goals
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Works closely with support teams to define best processes and ensures that the
    support team is enabled
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Accountable for managing the service portal information, parameters, and characteristics
    for their services
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ensures that customers have the right information in the portal and can understand
    the service they receive in case of a new service or a change
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Assists in service costs and financial models for cloud service offerings, for
    which they are accountable for the service costs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Builds the right cost models with the right stakeholders, including finance
    and customers, and also educates customers on driving a customer's consumption
    behavior
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Transforming VMware technical support operations
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: VMware is innovating smart capabilities in Workspace One to get customer insights
    and enhance security. Identity management will monitor a user's behavior, software
    performance, and hardware information by using ML. Business applications are coming
    with AI capabilities. VMware Skyline will help save time as collecting product
    data, events and conditions, and identifying issues will be quicker, allowing
    for faster **time to resolution** (**TTR**). The largest areas of influence to
    start with will be around problem identification, and the time it takes for support
    engineers to find answers to the problems that are reported along with also sending
    product data, which is utilized in support investigations. VMware Skyline will
    ensure that **VMware Validated Designs** (**VVDs**) should be followed. All support
    engineers associated with a premier support services team will be responsible
    for understanding the value and benefits of VMware Skyline and including it in
    daily conversations to drive customer adoption by encouraging customers to download
    and install the collector. As the viewer is made available, support engineers
    will also need to actively use it as they work on support requests for VMware
    Skyline customers. **Support Account Engineers** (**SAEs**) and **Support Account
    Managers** (**SAMs**) can use the **Operational Summary Report** (**OSR**) to
    have more impactful conversations that enhance and broaden the focus of these
    calls to be more proactive. It will help summarize the changes that are identified
    and the recommendations to fix any potential issues that have been identified.
    There will be a compilation of relevant **Knowledge Base** (**KB**) articles,
    field alerts, and security issues to review with the customer.
  prefs: []
  type: TYPE_NORMAL
- en: Customer success dashboards will use VMware Skyline data to highlight opportunities
    for customers to realize the maximum value from VMware products and services.
    The customer success team members will be responsible for understanding the value
    and benefits of VMware Skyline and including it in daily conversations to drive
    customer adoption. The customer success team can leverage VMware Skyline data
    as it will provide product usage data that will be a key input into the customer
    health score. It will provide both purchased versus deployed data (app adoption)
    and also provide health information through the customer health check report which
    can be used by the services team. This report is available to **Cloud Service
    Mana****gers** (**CSMs**) as input to better plan for future. This report should
    be run quarterly for now.
  prefs: []
  type: TYPE_NORMAL
- en: Skyline will also provide key information regarding the product version to ensure
    the compatibility of products prior to an upgrade. It will also provide hardware
    information to show current state compatibility with the VMware product, as well
    as a site profile which will provide a topology view of the customer environment
    for VMware products. It is a tool that allows the consultant to engage with customers
    and give them recommendations so that the implementation team will continue to
    drive all execution planning and implementation of these recommendations.
  prefs: []
  type: TYPE_NORMAL
- en: The implementation team will be able to view the incoming data in the VMware
    Analytics Cloud that customers send back, but the services team must complete
    the Data Privacy training before requesting access to the data in a raw format.
    VMware Skyline should be seamless for customers, and there is no additional cost
    to customers as it's included in their support subscription. Customers on VMware
    Skyline will have their reactive support cases resolved more quickly, allowing
    them to get back to business faster. Reactive support issues can be resolved more
    quickly with proactive, predictive, and prescriptive recommendations, which will
    improve the environment's overall performance and health. This overall environment
    health will include improved reliability, scalability, configuration, design compliance,
    and cross-product recommendations.
  prefs: []
  type: TYPE_NORMAL
- en: Many customers rely on partnerships with VMware's authorized service providers
    to manage and support their VMware deployments, so partners should be included
    in the VMware Skyline program to leverage this technology in joint support processes.
    vSAN support analytics build a scalable support mechanism to leverage the CEIP
    framework. The wide variety of data that's collected allows the health check team
    to rapidly test improvements on existing health checks as well as new ones for
    accuracy. The vSAN compatibility guide team identifies common causes for problems,
    and the engineering team fixes issues that have not yet been reported or escalated.
  prefs: []
  type: TYPE_NORMAL
- en: The support team can quickly resolve issues by reducing the overall resolution
    time and enhancing the customer support experience. The product management team
    is able to better prioritize features by better understanding how customers have
    configured their environments, while product development need to prioritize additional
    configuration assist functionality to fix the most common configuration issues.
    This is leveraged for customers with production support and is integrated for
    reactive support purposes. vSAN CEIP data is transferred using the SSL (HTTPS)
    protocol from the vCenter Server. This will leverage a proxy that's configured
    for the vCenter Server. CEIP data is transferred to `https://vcsa.vmware.com`.
    vSAN is currently using the CEIP data for configuration, health, and performance
    telemetry, since unique information is complicated.
  prefs: []
  type: TYPE_NORMAL
- en: SDDC services
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: SDDC is achieved through a series of modular service components that progressively
    build organizational capabilities to define, design, develop, and release cloud
    services, and to manage the service catalog through which they are published.
    These modular services can be delivered individually, or as a program of sequential
    modules that gradually build on outcomes from each other. These components begin
    with requirement identification and then the development of repeatable processes
    with validation of these against the use cases.
  prefs: []
  type: TYPE_NORMAL
- en: Service catalog management
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This service increases predictability in publishing cloud services for user
    and business self-services so that the customer's cloud service catalog is designed,
    managed, and operated to meet business requirements of availability, service publication,
    and self-service. It also provides the publication of the agreed-to service use
    cases to the cloud service catalog to validate the correct operational process,
    which supports delivery of the catalog with a service/tenant focused role, responsibility,
    and a skill-set enablement guidance to allow customers to manage and deliver the
    service catalog's capability.
  prefs: []
  type: TYPE_NORMAL
- en: Service design, development, and release
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This improves the operational ability to build and release cloud services efficiently
    with a process for the design, development, and release of a customer's cloud
    services into a cloud-based infrastructure. The instantiation of the agreed-to
    service use cases to validate and refine the service design, development, and
    release process. The process is designed for sprint-based Agile service development,
    but the process can still be used for a traditional waterfall service development
    methodology by assuming a single development cycle.
  prefs: []
  type: TYPE_NORMAL
- en: Cloud business management operations
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'A cloud business management service can be enabled for better TCO and ROI with
    detail reporting to make rapid business decisions that assist cloud service owners
    in finding out the overall end-to-end specific cloud service per unit costs, including
    the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Cloud services costing
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pricing
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Showback reporting
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Service definition and automation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This is a comprehensive approach to defining a customer's cloud service automation
    and provisioning roadmap by using a proven approach to discover, assess, and develop
    a service automation roadmap. This service provides customers with a clear and
    actionable roadmap to implement automated provisioning and deployment capabilities
    in their cloud environment. It provides a service definition framework, process,
    and a set of reusable templates to enable a comprehensive definition of a customer's
    cloud services for the agreed service use cases and provides a service/tenant-focused
    role.
  prefs: []
  type: TYPE_NORMAL
- en: NSX for vSphere
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We have to first know about our current deployment and future expectations,
    along with all the information related to the applications (along with subscriptions
    details) that are hosted in the public cloud in different regions. We should collect
    information regarding virtual networks/**Virtual Private Clouds** (**VPCs**) with
    all of the VMs that are spawned in each VPC/VNET. We have to design a network
    with NSX for PaaS offerings such as API managers, along with an on-premise environment,
    and can't manage on-premise separately from the public cloud environment. We have
    to suggest hosting applications, databases, and web UIs across both environments,
    and connectivity to the public cloud through a dedicated express route/direct
    connect connection.
  prefs: []
  type: TYPE_NORMAL
- en: The **Virtual Cloud Network** (**VCN**) is the network model for the digital
    era. It is also the vision of VMware for the future of networking to empower customers
    to connect and protect applications and data from edge to edge, regardless of
    where they reside. ​It allows customers to embrace a cloud networking fabric as
    the software-defined architecture for connecting everything in a distributed world.​
    It is a ubiquitous software layer that provides customers with the maximum visibility
    of, and context for, the interaction among users, applications, and data. Virtual
    cloud networking is the category of next-generation networking service consumption
    technology that's increasingly being adopted across IT to provide the digital
    fabric that helps unify a hyper-distributed world.​
  prefs: []
  type: TYPE_NORMAL
- en: 'ESXi hosts are prepared for NSX for vSphere with the following values:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **MTU** | 9000 |'
  prefs: []
  type: TYPE_TB
- en: '| **Segment IDs** | 5000–7999 |'
  prefs: []
  type: TYPE_TB
- en: '| **Teaming mode** | Source MAC |'
  prefs: []
  type: TYPE_TB
- en: '| **Transport zones** | 1—encompassing all clusters |'
  prefs: []
  type: TYPE_TB
- en: NSX is extending from the data center out to the edge, since delivering on the
    VCN requires a pretty robust portfolio. ​NSX Data Center is the best end-to-end
    consistent platform for data center networking. ​NSX Cloud is extending the data
    center network into the public cloud, along with VMC on AWS, native Azure support,
    and containers/Kubernetes support with **Pivotal Container Service** (**PKS**). We
    intend to deliver controls, policy, and automation that sits in the data center
    with consistency to deliver to the cloud environments that customers are running.​
  prefs: []
  type: TYPE_NORMAL
- en: 'NSX Hybrid Connect will help in delivering application and network hybridity
    and mobility. Powerful network insights and discovery through **vRealize Network
    Insight​** (**vRNI**) will drive improved security and network optimization across
    physical, virtual, and cloud environments. The following diagram depicts a traditional
    VMware vSphere-based infrastructure and a **VMware Cloud Foundation** (**VCF**)
    (HCI/VSAN)-based virtual infrastructure, both of which are integrated with **NFS
    Storage**:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/503756e2-ada5-4ea2-ac5e-53d027de7185.png)'
  prefs: []
  type: TYPE_IMG
- en: Layered approach in SDDC
  prefs: []
  type: TYPE_NORMAL
- en: If we are using NSX for on-premise, we can use switch port analyzer, **IP flow
    information export** (**IPFIX**) on-premise, and so on. Here, we can use Traceflow
    and get a peek into how the packets are flowing. This becomes complicated once
    we start moving to the cloud. This is because there is an underlay network that
    is not operated by the customer. The backbone network belongs to AWS or Azure,
    so what we want from a tool like this is end-to-end, real-time operational visibility
    across all cloud accounts and users.
  prefs: []
  type: TYPE_NORMAL
- en: Each public cloud provider has a different way of creating and instantiating
    security groups, and it can get hard to manage all of this. Customers operate
    the cloud today since every team creates its own VNET and the security policies
    for that VNET are discussed manually upfront before deployment. A ticket is raised
    every time when something new needs to be run. They generally create security
    groups that they attach to VMs in an on-premises environment.
  prefs: []
  type: TYPE_NORMAL
- en: 'Whenever a new VM is created, the VM inherits a bunch of restrictions based
    on the security group associated with it. In the following diagram, we can see
    how a four-node VSAN-based cluster has been configured with a distributed switch
    to host all management VMs such as **SDDC Manager**, **vCenter**, **NSX Manager**,
    **vRealize Log Insight** appliance, **PSC** controller, and **NSX** controllers:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/19340563-7ed1-478d-a763-a3342b51bf51.png)'
  prefs: []
  type: TYPE_IMG
- en: Workload clusters
  prefs: []
  type: TYPE_NORMAL
- en: vRA streamlines the application deployment process which consumes that network
    and contains blueprints with definitions, which allows new networks to be provisioned
    automatically. NSX is the future of networking and we are ready to help customers
    move forward in their digital transformation. We have a powerful technology for
    the way we can believe that networking is moving forward in the digital era​.
    VMware is solving key customer needs around multi-cloud, multi-application framework,
    and modern application constructs, and is enabling consistent networking and security
    policies to follow the apps and data across the entire IT environment​. NSX is
    the future of networking and we are excited to help our customers move forward
    in their digital transformation. vCenter Server and Active Directory servers are
    added to the exclusion list to avoid any human error and are available all the
    time. The following security groups, policies, and rules were created for the
    environment.
  prefs: []
  type: TYPE_NORMAL
- en: Recommendations with priority
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The physical configuration specifications of the ESXi host list the characteristics
    of the ESXi hosts, and can be used during deployment and testing as per VMware
    best practices. The configuration and assembly process for each system is standardized,
    with all of the components installed in the same manner on each ESXi host. Standardizing
    the entire physical configuration of the ESXi hosts is critical to providing an
    easily manageable and supportable infrastructure because standardization eliminates
    variability. You can deploy ESXi hosts with identical configuration, including
    identical storage, and networking configurations, across all cluster members.
    For example, consistent PCI card slot placement, especially for network controllers,
    is essential for the accurate alignment of physical to virtual I/O resources.
    Identical configurations ensure an even balance of VM storage components across
    storage and compute resources. The following are the recommendations that we've
    mentioned, along with their priorities.
  prefs: []
  type: TYPE_NORMAL
- en: Recommendations with priority 1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The following constraints fall under recommendations with priority 1:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Enable HA admission control on all clusters. Reason: protect the running workloads
    at all times.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Increase the number of hosts in certain clusters to analyze the various scenarios. Reason:
    there won''t be enough ESXi hosts in some clusters to be able to run all of the
    existing VMs in the event of hardware failure.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Use resource pools both to reserve resources for **Site Recovery Manager**
    (**SRM**) failed over VMs and to ensure fair access to resources during contention
    events. Reason: protect the workloads.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Remove CPU reservations from VMs in the cluster. Reason: potential for a VM
    restart failure in the event of ESXi host failure. Configuration isn''t providing
    any genuine benefit.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Ensure that the **network time protocol** (**NTP**) is configured correctly
    and that the NTP server has started on all ESXi hosts. Reason: having accurate
    timekeeping is essential in any IT environment.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Use the route based on the physical NIC load-balancing algorithm for VM networking.
    Reason: make the most efficient use of available network bandwidth. Protect the
    workload.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Investigate all level 3 recommendations in the vSphere 5.1 Hardening Guide.
    Unless there is a specific reason not to apply a security recommendation, then
    all recommendations should be applied. Reason: improved security.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'For the specific cases where VMs have RDMs, place the VM configuration files
    and `.vmdk` files on their own datastore and create SRM protection groups containing
    the datastore and RDMs. Reason: ensure that these specific VMs can be recovered
    successfully and independently of other VMs.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Gain a thorough understanding of the recovery priorities and dependencies of
    VMs and configure SRM as appropriate. Reason: increase confidence that, in the
    event of disaster recovery, VMs can be recovered correctly and in the expected
    time frame. Services often have a preferred order of startup, which should still
    be adhered to during disaster recovery failover.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Within SRM, configure a 1:1 datastore to protect group mapping where appropriate. Reason:
    this removes current issues with adding new LUNs to ESXi hosts and having situations
    whereby disaster recovery may not be possible during consistency group re-synchronization.
    It will allow multiple recovery groups to be initiated simultaneously and also
    allow for the testing or failover of specific services as opposed to every single
    protected VM. It adds complexity but introduces a substantial amount of intelligence
    and awareness to the disaster recovery plan.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Have a pre-identified list of the 50% of silver VMs that would be recovered
    in the event of disaster recovery. Reason: this removes confusion during a disaster
    recovery event and allows a disaster recovery plan to be tested under controlled
    conditions.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Introduce a service-based approach to recovery plans so that individual services
    can be tested and recovered as necessary. Reason: this brings a service orientated
    approach to disaster recovery and allows for the testing or failover of specific
    services as opposed to every single protected VM. It adds complexity but introduces
    a substantial amount of intelligence and awareness to the disaster recovery plan.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Perform test recovery on a regular basis to increase confidence that disaster
    recovery would run as intended. Reason: increase confidence so that, in the event
    of a disaster recovery, VMs can be recovered correctly and in the expected time
    frame.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Configure all virtualized Microsoft SQL Server clusters with best practice
    recommendations. Reason: ensure the stability of the cluster and remove performance
    inhibiting configurations.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Recommendations with priority 2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The following constraints fall under recommendations with priority 2:'
  prefs: []
  type: TYPE_NORMAL
- en: 'CPU utilization is generally low, so consider increasing the amount of RAM
    per ESXi host. Reason: this leads to greater consolidation ratio without impacting
    CPU performance.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Determine whether strict enforcement of the 1vCPU: 4 GB RAM RU model is necessary.
    Reason: potential waste of compute resources. May lead to greater consolidation
    ratios.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Don''t have full backup jobs overlapping with antivirus scanning to limit the
    impact on ESXi host CPU utilization. Reason: lessen the CPU load requirements
    on ESXi hosts, which may otherwise lead to performance reduction within the VMs
    and the services running on them.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Spread antivirus scanning of VMs across multiple time windows to limit the
    impact on ESXi host CPU utilization. Reason: lessen the CPU load requirements
    on ESXi hosts, which may otherwise lead to performance reduction within the VMs
    and the services running on them.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Configure DRS rules for each vCenter Server. Reason: protect the vCenter Server
    VMs at all times.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Configure each vCenter Server with memory reservations. Reason: protect the
    vCenter Server virtual machines at all times.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Configure the HA restart priority of High for each vCenter Server. Reason:
    protect the vCenter Server VMs at all times.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Identify and configure a secondary NTP server for all ESXi hosts. Reason: the
    current implementation contains a single point of failure. Accurate timekeeping
    is an essential part of any vSphere implementation.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Investigate the use of host profiles or a PowerShell script to check for and
    remediate differences in ESXi host configuration. Once a solution has been identified,
    make regular checks to ensure ESXi host configuration consistency. Reason: this
    ensures a standard build and configuration for all ESXi hosts, which makes troubleshooting
    easier.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Automate resource pool reservations for failover VMs and automate resource
    pool shares to ensure fair sharing of cluster resources during contention. Reason:
    protect the workloads.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Modify vCenter Server settings so that tasks and events are truncated after
    180 days (or however long tasks and events need to be retained within a virtual
    application appliance). Reason: this prevents the SQL Server database from growing
    too large, which may lead to performance problems.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Use **vSphere Distributed Switch** (**VDS**) for all ESXi host networking.
    Reason: it''s easier and simpler to configure. Provides a more consistent networking
    configuration across all ESXi hosts.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Modify network bandwidth configuration for the **virtual network interface
    cards** (**vNICs**) within the HP Virtual Connect environment to maximize the
    overall use of network bandwidth. Reason: to use all available network bandwidth
    more efficiently.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Configure multi-NIC vMotion. Reasons: this enables faster vMotion events by
    utilizing network bandwidth more efficiently.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Identify all VMs that require a specific Mac address for licensing purposes.
    Hardcode this Mac address into the VM configuration. Modify all distributed port
    groups so that Forged Transmits and MAC Address Changes are set to Reject. Reason:
    this improves security within the vSphere environment.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Configure SSO administrator groups and populate them with the appropriate Active
    Directory accounts. Reason: improved security and auditability.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Remove the privileges from the `admin@system` domain account in vCenter Server.
    Reason: improved security and auditability.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Modify the password expiry timeout within SSO to meet local security policies. Reason:
    improved security.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Add all ESXi hosts to Active Directory. Use the `ESX Admins` group (or create
    your own and configure as appropriate) and populate with Active Directory user
    accounts. Configure appropriate SSH and ESXi shell timeouts. Modify the root passwords
    for all ESXi hosts so that it is long and complex. Store the password(s) in a
    safe location. Train staff to connect to ESXi hosts using their Active Directory
    accounts and not the root account. Reason: improved security and auditability.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Create datastore clusters and add the appropriate datastores. Configure Storage
    DRS settings in Manual Mode with I/O measurement disabled. Reason: makes the placement
    of VMs a less complex task.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Enable storage I/O control on all datastores and undertake a thorough analysis
    of all VMs and the workloads running on them. Configure VMs with specific best
    practices for the hosted application. Reason: to protect the workloads.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Ensure that the most recent version of VMware tools is installed and running
    on all VMs. Reason: improved performance, security, compatibility, and manageability.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Identify all VMs that have been configured with more than 4 GB RAM running
    an operating system that doesn''t support using in excess of 4 GB. Reason: reduces
    compute resource wastage. Allows for greater consolidation ratios.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Upgrade to a more recent version of vSphere. Reason: takes advantage of new
    software features, improves performance levels, and includes newer hardware support.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Upgrade to **vRealize Operations Manager** (**vROP**) 6.7. Reason: to take
    advantage of significantly improved architecture.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Identify and implement use cases for vROP dashboards. Reason: to take advantage
    of a large number of metrics that are available within vROP to provide deep visibility
    into the vSphere platform and visualize this in an easy to consume manner.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Identify how vRealize Operations Manage can be integrated into the overall
    monitoring solution. Reasons: to improve the monitoring of the vSphere environment.
    Removes the need to use vCenter Server alarms, which are less capable than the
    features that are available in vROP.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Recommendations with priority 3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The following constraints fall under recommendations with priority 3:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Only use VMs with a large number of vCPUs where it is absolutely necessary.
    Reason: reduces consolidation ratios, adds complexity when VMs are larger than
    the **non-uniform memory access** (**NUMA**) boundary, and may impact performance.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Use HA restart priorities to bring important VMs back online first in the event
    of physical host failure. Reason: smart restarting of VMs is generally preferred.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Alter the way that host capacity calculations are done. Reason: the existing
    method is complex and prone to error, and could be automated and presented in
    a dashboard format via vROP.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Reduce the number of virtual data centers per vCenter Server. Reason: removes
    unnecessary complexity.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Investigate combining bronze and silver clusters. Reason: may provide a greater
    consolidation ratio and also reduces the complexity of the environment.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Add the server OEM **vSphere Installation Bundle** (**VIB**) depot to vCenter
    Update Manager so that the server OEM-specific software and drivers can be updated
    via vCenter Update Manager. Reason: this adds additional patching capabilities
    to vCenter Update Manager.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Configure jumbo frames to enable faster vMotion events. Reason: to enable faster
    and more efficient vMotion events, which allows ESXi hosts to be evacuated more
    quickly.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Ensure that all ESXi hosts are correctly licensed. Reason: this reduces the
    need to license hosts in the event of a DR scenario and ensures that the ESXi
    hosts are connected to vCenter Server with the appropriate configuration when
    needed.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Configure the SSO default domain configuration feature to permit simpler sign-on.
    Reason: simplifies user login.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Remove the local operating system as an identity source within SSO. Reason:
    improved security and auditability.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Create dedicated datastores for templates and ISOs. Reason: remove the potential
    for performance issues during VM deployment or when accessing ISO images.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Remove mismatches in configured and running OS types. Reason: improve compatibility
    between VM and VMware Tools.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Virtual data centers
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There will be four virtual data centers per vCenter Server that relate to the
    various networking zones. The virtual data center construct is an administrative
    boundary, but it is not necessary to create multiple instances whereby there isn't
    a requirement to completely segregate the various vCenter constructs from a privileges
    perspective. Four virtual data centers are used solely for the purpose of placing
    the **vSphere Distributed Switches** (**VDS**). ESXi hosts and networks would
    need to be recreated in a new single virtual data center. This activity should
    only be undertaken with extensive research and planning.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the configuration recommendations for virtual resources:'
  prefs: []
  type: TYPE_NORMAL
- en: '**VM density per host**: The operation team ensures that they run all required
    VMs on different clusters and that the RAM will not be overcommitted. It can also
    decide to use up to 90% available RAM capacity of each host. They use the concept
    of resource units while scaling their VMs, and each RU is the equivalent of 1
    vCPU and 4 GB RAM.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Consolidation ratio recommendation**: They have a general rule regarding
    that the vCPU to pCPU ratio should be less than 3:1\. This is this ratio that
    normally assists the RU limits on the ESXi host. The ratio should be guided by
    a combination of the specific applications of each VM, the CPU configuration and
    utilization of the VMs, and the performance metrics of the ESXi hosts on which
    the VMs are residing. Consolidation ratios and vCPU:pCPU ratios can be influenced
    by the following parameters:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Workload awareness**:Not all workloads are equal; a 4vCPU VM will not have
    identical performance characteristics to another equally configured 4vCPU VM.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Virtual machine configuration**:Due to the constraints to the RU model, there
    may be unnecessary additional overhead that impacts the overall consolidation
    ratio. It is generally a best practice that VMs should only be configured with
    the resources they require so as to reduce the negative impacts of symmetric multiprocessing
    of VMs that have more than one vCPU. As the RU model is a fixed model, VMs with
    increased RAM demands must have more vCPUs configured, even if these are not needed.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**ESXi performance metrics**: Having a fixed CPU consolidation ratio is not
    generally recommended. Instead, taking into account the preceding detailed considerations with
    two important ESXi host metrics will permit a greater understanding of the potential
    consolidation ratios.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**CPU ready%**: The percentage of time the VM was ready to run but no physical
    CPUs were available to schedule the request. A value higher than 10 should generally
    be avoided.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Dashboards and supermetrics**: vROPs can be utilized to create powerful and
    informative dashboards. Use cases always need to be identified as the following:'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Capacity planning dashboard**: RU calculations are done through a combination
    of getting numbers from individual clusters and using these with a spreadsheet
    to determine capacity. Creating a dashboard and using metric/supermetrics to determine
    what *full* looks like to a customer will reduce the manual tasks that are required.
    This could also be used in conjunction with alerts to provide proactive warnings
    in regards to the cluster capacity.'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**RU model dashboard**: A dashboard containing metrics that are affected by
    the RU model; under-utilization of CPU or memory, and ESXi host metrics affected
    by **s****ymmetric multi-processing** (**SMP**). We can identify use cases for
    dashboards and create them as required.'
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: vROPs has a powerful alerting engine, which can be based of dynamic or static
    symptom thresholds. There are many out-of-the-box alerts from both VMware and
    third-party partners that have created solution adapters for vROPS. It will be
    always a task to resolve the initial number of alerts that are spawned by vROPS
    as this is an opportunity to identify and fix the issues that are identified,
    as well as to tune the existing alerts and symptoms and/or create new symptoms
    and alerts that fit the environment better. Custom groups and profiles can be
    used to create a granular approach to monitoring. The metrics for a production
    SQL cluster may be vastly different from a non-production file server. Using custom
    groups and profiles allows the alerts to be fine-tuned for the specific environment.
    This can identify how alerting from the vSphere environment should be achieved,
    and can determine whether vROPS can meet these requirements and, if so, configure
    them as required.
  prefs: []
  type: TYPE_NORMAL
- en: IaaS solution using vRealize Suite
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: vRA includes a number of grouping mechanisms. Administrators can use these grouping
    constructs to organize the compute fabric as well as create business-level grouping
    to partition services, resources, and users.
  prefs: []
  type: TYPE_NORMAL
- en: Today, applications are running across the globe in hybrid IT infrastructure.
    We have to extend the private data center into the public cloud as well as with
    containers. It can also be extended by connecting IoT service providers. ​NSX
    is a unified networking and security platform for all preceding technologies or
    infrastructure that allows customers to connect, secure, and operate to deliver
    services wherever applications may hosted. It has an embedded security engine
    segmenting the network through micro-segmentation and encrypting data in motion.
  prefs: []
  type: TYPE_NORMAL
- en: When we talk about the cloud, we basically want to configure and manage a hybrid
    network environment through just one tool. We don't want each cloud management
    system operating in a silo, and the same holds for on-premise, which should be
    oblivious to where the workload is currently hosted and where it will be moving
    to in the future. We should be able to port security policies along with workloads,
    immaterial of where they are hosted.
  prefs: []
  type: TYPE_NORMAL
- en: A developer doesn't want us to be in the development path, but we can't leave
    developers with these new technologies. Operations team has to help development
    team to get familiar with these new tools. The IT admin has the onus of setting
    up the firewall and not making sure there are any security vulnerabilities. The
    developer is not tasked with creating the security policies, they should just
    consume security groups that are designed by the IT admin. The goal is to have
    a cloud provisioning solution that has minimal work for the Devops team to do.
    We have to provide consistent networking and security for applications.
  prefs: []
  type: TYPE_NORMAL
- en: NSX Cloud is an extension of NSX features for public cloud and is not a separate
    product. When we have NSX loaded for our on-premise environment, we already have
    90% of what we need for NSX Cloud. NSX has already abstracted the physical/on-premise
    network through our logical networking constructs. Now, it comes down to replicating
    the same for public cloud with NSX Cloud by providing visibility across all clouds
    for all traffic flows. We can't secure what we can't see. A new VM is created
    by a developer while the IT admin needs to have a dashboard and some kind of a
    UI that will make that visible to them. We have to design a unified consistent
    security policy across on-premise and the public cloud so that we can provide
    advanced L2/L3 networking capabilities, or if we are creating logical topologies
    for our on-premise network, then there can be APIs to port network topology from
    on-premise to the cloud. Management/operation need a single pane of glass for
    management, since that is at the heart of what we want to do for NSX Cloud. The
    deployment process or workloads that we use, such as Ansible or whatever else
    we're using for the deployment workflow for the developer, won't change because
    we are using NSX. This is one of the key value propositions as we see these options
    in Azure and AWS—and every public cloud provider, for that matter. However, they
    come with a bunch of limitations (especially in scale), and that is where NSX
    differentiates itself. We obviously don't want to get locked into the offerings
    of one public cloud provider.
  prefs: []
  type: TYPE_NORMAL
- en: Business-level administration and organizational grouping
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: NSX assists customers in configuring multi-layered security. An NSX firewall
    will provide primary security, and AWS security groups that are managed by NSX
    will provide a second layer of security. It is fully configurable to each VPC
    with exclusion lists. It enables agility for VM deploy/tear-down in test-dev while
    maintaining the structural integrity of production VPCs to get the best of both
    worlds.
  prefs: []
  type: TYPE_NORMAL
- en: There are environments where we would say VPCs need to be fully onboarded. It
    is okay to have some VMs that have an agent and some that won't have an agent
    in some environments. This is a typical test and dev environment, or a brownfield
    environment, that already has VMs running so we may not want to install an agent
    on all of them, but it doesn't mean that they can be quarantined.
  prefs: []
  type: TYPE_NORMAL
- en: If we have production VPC and it has a VM running in there with an agent installed
    and somehow someone manages to get in and install a rogue VM, then it is possible
    to detect it and quarantine it.
  prefs: []
  type: TYPE_NORMAL
- en: We have the gateway sitting in there and it is constantly polling for new resources
    that are being spun off inside a VPC/VNET. The gateway expects the agent in a
    VM to come and register itself, and if it doesn't, the gateway will move the VM
    to a quarantine security group. We can do this by using a default quarantine policy
    setup. Since the agent is not there, NSX **Public Cloud Gateway** (**PCG**) can't
    push any policies there, which doesn't mean that NSX doesn't have control over
    the VM itself. NSX can speak with the cloud provider and move this VM to a quarantine
    state. This is like adding another level of security and if we have an agent running,
    the PCG can push policies and manage the VM. If the agent is absent, PCG can move
    the entire VM to a quarantine state. Since PCG is the one doing this task, we
    don't have to worry about losing connectivity with on-premises systems. PCG has
    **Identity and Access Management** (**IAM**) roles assigned to it, which lets
    it talk to the cloud inventory. This is patented and we don't ask for admin privileges
    to do any of this. We can provide our customers with a cloud permission template,
    wherein they can assign roles and permissions to every component in NSX Cloud.
    PCG will be given the necessary roles to be able to talk to the cloud inventory
    manager and move a particular resource into a quarantine state.
  prefs: []
  type: TYPE_NORMAL
- en: We need an agent with a native security group to get an agentless solution.
    If AWS, Azure, and on-premises all worked the same way, then we could have done
    this easily. One single policy would have been good enough for all of these environments,
    which is not the actual scenario. We can apply one security group per VM in Azure
    and we can have five security groups that are nested in AWS. There is no way we
    can nest security groups in Azure as we will have to write a third security group
    for VNET in Azure. We are now talking about security group explosion, but we don't
    have any of these problems with NSX Cloud. We can't have a *deny* rule in AWS
    as we can only have an *allow* rule. If we say don't allow web-web tier communication
    for a particular instance, it doesn't take it. Anything that is not part of the *allow* rule
    is implicitly denied.
  prefs: []
  type: TYPE_NORMAL
- en: 'We have not seen any strong use case for doing encryption on the agent, but
    we do have the following defined role-based users for all tasks:'
  prefs: []
  type: TYPE_NORMAL
- en: VPC should be managed (cloud admin)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tagging the VM (developer)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Adding the agent (developer)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'However, if we need to provide additional isolation between different groups
    or divisions within companies or need tenant-specific branding, a number of tenants
    can be configured. Each tenant can have dedicated fabric groups, or shared fabric
    group resources if necessary. They have two or three subscriptions and a lot of
    VMs in these subscriptions, while other scenarios may have multiple subscriptions.
    The VMware IT job is to manage AWS and Azure accounts. Each employee here has
    their own AWS/Azure account, but the onus is on IT to make sure that we come from
    a secure interface by removing multiple security touch points.The problem with
    assigning security groups to VPCs and VNETs is that this has to be manually/statically
    done for every VPC/VNET. As an IT admin, we have two ways to go about this: by
    users creating VPCs for the workload or to impose security restrictions on them.
    But here, security is more like an afterthought. If we are looking for a consolidation
    of security groups for all VPCs and VNETs, then we need some level of abstraction.
    If we want a security group that can span across env, then we need a tool such
    as NSX. We can create NSX security policies using NSGroups in our NSX-T environment.
    NSGroups can be created with dynamic attributes such an VM name, location of the
    VM, which VNET it is running in, what region it is running in, and so on. It can
    also be based on user-defined custom tags, such as what the application is running
    in, and so on. NSX can learn about the tags, bring them back into NSX Manager,
    and based on these tags, can create some security groups and apply them to NSX
    Manager.'
  prefs: []
  type: TYPE_NORMAL
- en: Azure has other limitations, such as we can have only one NSG per VM, but we
    wouldn't have any such problems with NSX Cloud. We can have any superset of NSGs
    with NSX. VM can be part of multiple SGs based on metadata and VM names. The policy
    can be based on attributes and not on a VM or interface VM, and there are no limitations
    on how many security groups can be stacked. Policies can be more dynamically defined
    instead of being statically defined to a particular VM, an in-bound or outbound
    access list, and so on.
  prefs: []
  type: TYPE_NORMAL
- en: vRA deployment
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The vRA virtual appliance is SUSE Linux-based. This appliance runs the common
    services, such as authorization, approvals, notifications, and the component registry
    service, which allows all the other services in the distributed system to be discovered.
    The appliance also has several integration points that interface to **Lightweight
    Directory Access Protocol** (**LDAP**) and vCenter Orchestrator. The vRA appliance
    also contains an embedded Postgres database.
  prefs: []
  type: TYPE_NORMAL
- en: 'The service catalog holds all the configured services and catalog items. This
    is a common catalog and can be used by vRA and other solutions such as the application
    director to populate items and services, such as machine blueprints, application
    services, and services based on vRealize Orchestrator workflows. The most common
    services are hosted by the vRA virtual appliance. The advanced service designer
    (custom service designer) exposes vCenter Orchestrator workflows as catalog items,
    and the IaaS component is the Windows component, which handles the functionality
    related to reservations, blueprints, endpoints, workflows, and so on. The following
    configuration will be initiated in a vRA virtual appliance:'
  prefs: []
  type: TYPE_NORMAL
- en: Component registry-service, which allows other services to be discovered
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Authentication-user authentication
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Authorization-controls access
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Approvals-approval policy
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: vRA appliance communication
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The following is a list of incoming ports through which vRealize Components
    listen :'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Port** | **Protocol** | **Comments** |'
  prefs: []
  type: TYPE_TB
- en: '| `22` | TCP |   SSH |'
  prefs: []
  type: TYPE_TB
- en: '| `80` | TCP | Redirects to `443` |'
  prefs: []
  type: TYPE_TB
- en: '| `111` | TCP, UDP |  RPC |'
  prefs: []
  type: TYPE_TB
- en: '| `443` | TCP |   Access to vRealize Automation console and API |'
  prefs: []
  type: TYPE_TB
- en: '| `5480` |  TCP |   Access to web management UI |'
  prefs: []
  type: TYPE_TB
- en: '| `5488`, `5489` | TCP |  Management |'
  prefs: []
  type: TYPE_TB
- en: '| `7444` | TCP |                                      SSO over HTTPS |'
  prefs: []
  type: TYPE_TB
- en: '| `8230`, `8280`, `8281` |  TCP |                          Internal vRealize
    Orchestrator instance |'
  prefs: []
  type: TYPE_TB
- en: 'The following table shows the list of outgoing ports:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Port** | **Protocol** | **Comments** |'
  prefs: []
  type: TYPE_TB
- en: '| `25`, `587` | TCP, UDP | SMTP for sending notification emails |'
  prefs: []
  type: TYPE_TB
- en: '| `53` | TCP, UDP | DNS |'
  prefs: []
  type: TYPE_TB
- en: '| `67`, `68`, `546`, `547` | TCP, UDP | DHCP |'
  prefs: []
  type: TYPE_TB
- en: '| `80` | TCP | Optional for fetching updates |'
  prefs: []
  type: TYPE_TB
- en: '| `110`, `995` | TCP, UDP | POP for receiving notification email |'
  prefs: []
  type: TYPE_TB
- en: '| `143`, `993` | TCP, UDP | IMAP for receiving notification email |'
  prefs: []
  type: TYPE_TB
- en: '| `123` | TCP, UDP | NTP sync directly instead of using host time |'
  prefs: []
  type: TYPE_TB
- en: '| `443` | TCP | IaaS manager service over HTTPS |'
  prefs: []
  type: TYPE_TB
- en: IaaS components are installed onto a Windows host and include the model manager,
    the management interface, execution managers, and the database. The model manager
    that's installed with vRA includes all of the default models that are available
    from VMware.
  prefs: []
  type: TYPE_NORMAL
- en: A model is a collection of elements that make up a provisioning process and
    includes a data model, logic, event definitions, security, and the specification
    of how a **Distributed Execution Manager** (**DEM**) communicates with an external
    system. The database holds the configuration, workflows, and information about
    all of the objects in a vRA environment.
  prefs: []
  type: TYPE_NORMAL
- en: vRA has a vRA appliance and an IaaS component. The identity appliance is a Linux-based
    virtual appliance that provides single sign-on capabilities to vRA. vRA VA is
    also Linux-based and provides the user interface and several common services.
    The IaaS component is installed onto a Windows host and contains the management
    services, agents, model manager, and execution managers that process and execute
    the requested workflows.
  prefs: []
  type: TYPE_NORMAL
- en: Services running as part of the identity service
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The following are the services that are running as part of the identity service:'
  prefs: []
  type: TYPE_NORMAL
- en: '**VMware directory service**: Since the VMware directory service is a part
    of the **Single Sign-On** (**SSO**) installation itself, this service will always
    run on the same machine as the rest of the SSO services. There is no option to
    run it as a remote service. `vmdir` is the VMware directory service.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**VMware KDC service**: This is a Kerberos KDC that can help in ticket generation
    for the **VMware Certificate Authority** (**VMCA**) service, which is an x.509
    compliant certificate authority. The VMCA service depends on it to operate correctly.
    It also supports the issuing and revocation of certificates. The identity management
    service is accountable for incoming authentication requests and routes them to
    the defined directory or identity source. This is an important step so that the Global
    Support Service knows that any error during authentication will mostly occur here.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**VMware Secure Token Service**:The **Secure Token Service** (**STS**) is responsible
    for issuing security tokens once the user''s identity is verified. This service
    runs the Tomcat server. This service is responsible for issuing tokens once the
    user is authenticated. All logs associated with these services are located in
    the `/storage/log/vmware` directory on the identified appliance.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The API interface that's used to communicate with the components of vRA are
    interfaced with the identity management service and the **simple object access
    protocol **(**SOAP**). The interfaces to both the vRA VA and the IaaS component
    use **Representational State Transfer **(**REST**) of HTTPS. Customers can use
    the APIs to build their own interface to vRA.
  prefs: []
  type: TYPE_NORMAL
- en: Resource reservations can further divide the resources that are allocated to
    a specific group by creating different service tiers of resources using reservation
    policies. Multiple business groups can be created within each tenant. Business
    groups can share resources from the same fabric group, or utilize different fabric
    groups for greater isolation of resources between groups. If we need to provide
    additional isolation between different groups or divisions within companies, or
    need tenant-specific branding, then a number of tenants can be configured. Each
    tenant can have dedicated fabric groups, or shared fabric group resources if required.
    vRA supports time zones, European date formats, and major currencies.
  prefs: []
  type: TYPE_NORMAL
- en: Part of the real beauty of CF is the automation it provides around workload
    domains and how it makes deploying and extending workload domains very easy. In
    addition, it makes it very easy to reclaim capacity by deleting workload domains.
    Everything is done, from configuring the physical servers to configuring VLANs
    and IP addresses on the switches to deploying vSphere, setting up vSAN, and deploying
    and configuring NSX. There are some shared aspects between workload domains, an
    example of which is that we have a management domain running with two user-defined
    VI workload domains.
  prefs: []
  type: TYPE_NORMAL
- en: It is a good idea to review the global settings for the **virtual desktop infrastructure** (**VDI**)
    within the SDDC Manager prior to provisioning a VDI workload domain. These settings
    allow the administrator to define naming, sizing, and AD placement for desktops
    and Horizon servers. NSX also provides micro-segmentation for VDI workload domains.
    The 26 rulesets have been automatically created to provide the micro-segmentation
    of VDI components.
  prefs: []
  type: TYPE_NORMAL
- en: A complete solution with the desired result
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There will be major efforts involved for operations teams in creating new VMs,
    as well as deploying applications manually with the risk of human error. We have
    to move the entire infrastructure to the private cloud and automate end-to-end
    processes to improve the resolution time of the operations team.
  prefs: []
  type: TYPE_NORMAL
- en: The operations team utilized the VMware internal private cloud that's powered
    by the vRealize suite to provide IaaS, including compute, storage, and networking
    resources for delivering all applications on top of these services. They are able
    to achieve fully automated management functionalities to control their application
    development life cycle process. The vRealize solution is extensible and can leverage
    automation scripts to integrate third-party tools such as load balancers, monitoring
    agents, and code repositories.
  prefs: []
  type: TYPE_NORMAL
- en: Previously, developers used to call the operations team for new application
    entities and would take weeks of provisioning, but now developers and testers
    can get a new, or manage their, application landscape with a self-service portal
    to customize their requirements. After the environment has been provisioned and
    tested, developers will get a link for their application entities with login details
    and a web console that's used to monitor the different metrics of the environment.
    They will now get fully operated and tested services in a few hours.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The VMware operation team have created templates for all of their applications,
    alongside their configurations, through vRA. This automation tool minimizes the
    end-to end application provisioning time from a few weeks down to 36 hours. We
    are able to enhance the whole cycle to less than 24 hours after the first year.
    Automation will help not only in quick provisioning but also in maintaining consistency
    in repeated tasks. We can build development and test labs rapidly with automated,
    predefined policies, and so we avoid any human errors. VMware engineers can now
    use their time for new developments and help their operation team to be more agile.
    Employees can initiate and execute their tasks through a self-service portal.
    This means that applications are provisioned in a few hours and so the development
    team have more time for new projects. This enhances the efficiency of VMware developers
    and also reduces the security risk which comes as malicious codes, and backlogged
    jobs. VMware private cloud-based IaaS will also help in annual savings of both
    CapEx and OpEx costs. VMware is able to minimize the cost as well as enhance the
    services to their end customers. They have focused more on output and quick response
    to achieve agility in services to improve customer experiences. We are happy with
    our automated delivery process, but we can also develop other processes based
    on VMware software-defined services by using the hybrid cloud model. We have to
    be competitive in this market by regularly upgrading IT services as per business
    demands.
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, [Chapter 11](82337fc1-7032-4681-a158-b5cb87da3789.xhtml), *Network
    Transformation with IoT*, we will learn about VMware Pulse IoT use cases in different
    domains such as health, research, science, and retail. We will learn about the
    application and data utilization from the data center to cloud to edge devices
    by transforming a network for IoT and understanding how to manage and process
    massive amounts of data across edge devices.
  prefs: []
  type: TYPE_NORMAL
