- en: Sovereign Crisis - NLP and Topic Modeling
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Continuing with the detection of economic problems in European countries, in
    this chapter, we will try to replicate country ratings, provided by Standard &
    Poor's, using both quantitative and qualitative information.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: This chapter is an interesting real-case application, because we will use some
    basic text-mining techniques to replicate Standard & Poor's credit ratings. For
    this purpose, we will use the country reports issued by the European Commission
    for the European member states.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: We will perform a text-mining process to extract combinations of words or useful
    terms to predict sovereign ratings.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: 'The following topics will be covered in this chapter:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: Predicting country ratings using macroeconomic information
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Implementing decision trees
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Predicting sovereign ratings using European country reports
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Predicting country ratings using macroeconomic information
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In our clustering model, discussed in [Chapter 6](5c1b431c-46f9-42b6-b3e7-e583b1996cd5.xhtml),
    *Visualizing Economic Problems in the European Union*, using self-organizing maps,
    all the available data was used. Now, in order to train a model to be able to
    predict sovereign ratings, we need to split the data into two samples: train and
    test.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: That's not new for us. When we tried to develop different models to predict
    a bank's failures, we used the `caTools` package to split the data, while considering
    our target variable.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: 'The same procedure is used again here:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Now, you can print the following statements:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Thus, the test sample represents 25% of the total data. Moreover, the relative
    ratios of different credit ratings are preserved in both the train and test samples.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: 'Both samples will be standardized. Again, the `caret` package is used:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-17
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The transformation should be carried out considering only the training sample,
    and then applied on the test sample:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Here are two additional train and test samples, replacing the original variables
    into transformed variables:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Let''s see how variables are related to the target variable (rating). For this
    purpose, we first convert the target variable into a `factor` variable, and then
    we will create different box plots by rating the category for each variable:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The following is the output for the current account balance of a country (**CARA**)
    variable:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/3e3ef41a-0d33-49b7-a76d-1c9e213f0a01.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
- en: 'The following is the output for the consumer prices growth rate (**DCPI**)
    variable:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/e3cf52a4-bf5c-47a0-b3ed-d3359a2e070b.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
- en: 'The following is the output for the GDP growth (**DGPD**) variable:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/621b6cc6-2722-4d9b-bcdb-32576d9809f4.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
- en: 'The following is the output for the international reserves (**ILMA**) variable:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/72fda116-00c0-489f-9911-6244ae3bc836.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
- en: 'The following is the output for the mean of the six worldwide governance indicators
    (**MEANWGI**) variable:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/f6736dcf-60cf-439d-877b-02febf226b48.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
- en: 'The following is the output for the budget balance as a percentage of the GDP
    (**PSBR**) variable:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/e16a2559-9660-457a-89a5-df019eed4584.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e16a2559-9660-457a-89a5-df019eed4584.png)'
- en: 'The following is the output for the public debt ratio (**PUDP**) variable:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是对公共债务比率（**PUDP**）变量的输出：
- en: '![](img/523d46cf-1797-4170-9f4a-a151dffa17ec.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/523d46cf-1797-4170-9f4a-a151dffa17ec.png)'
- en: 'The following is output for the total imports less total exports of goods and
    services as a percentage of the GDP (**TDRA**) variable:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是对商品和服务总进口减去总出口占GDP百分比（**TDRA**）变量的输出：
- en: '![](img/9dfa7f0f-8679-4fd7-99ef-0e9a92b4a17b.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/9dfa7f0f-8679-4fd7-99ef-0e9a92b4a17b.png)'
- en: 'The following is the output for the GDP per head (**YPCA**) variable:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是对GDP人均值（**YPCA**）变量的输出：
- en: '![](img/212e3c8e-257e-4561-b4aa-4ee6e87577c6.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/212e3c8e-257e-4561-b4aa-4ee6e87577c6.png)'
- en: These graphs are useful to see certain patterns in the data and how variables
    can help to predict credit ratings.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 这些图表有助于观察数据中的某些模式以及变量如何帮助预测信用评级。
- en: For example, the box plot for variable public debt (% of GDP), or the `PUDP`,
    shows that countries with the lowest ratings display higher variables on average
    in this variable.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，对于公共债务（GDP百分比）的箱形图，或`PUDP`，显示评级最低的国家在这个变量上的平均值较高。
- en: 'In the following code, let''s use the last previous plot, but this time give
    more detail about the countries included in each rating category:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下代码中，让我们使用上一个图表，但这次提供更多关于每个评级类别中包含的国家细节：
- en: '[PRE6]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'The following is the more detailed YPCA plot:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是对YPCA的更详细图表：
- en: '![](img/8c31d980-eb81-46c4-8b29-555132d3fd02.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/8c31d980-eb81-46c4-8b29-555132d3fd02.png)'
- en: 'Let''s look at another alternative:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看另一个替代方案：
- en: '[PRE7]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'This is the Density plot for MeanWGI:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 这是MeanWGI的密度图：
- en: '![](img/66d9bf6a-505b-4af0-b19a-9cd00af92010.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/66d9bf6a-505b-4af0-b19a-9cd00af92010.png)'
- en: 'Let''s implement a `Density plot` for `CARA`:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们为`CARA`实现一个`Density plot`：
- en: '[PRE8]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The output for the Density plot on CARA will look like this:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: CARA上的密度图输出将如下所示：
- en: '![](img/32c7b25e-9e24-4eb4-bdbb-51e6f96efc89.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/32c7b25e-9e24-4eb4-bdbb-51e6f96efc89.png)'
- en: As a target value, we have a variable that takes six different values. In this
    problem, it is not possible to calculate six, unlike in the previous problem,
    in which we were predicting failed banks.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 作为目标值，我们有一个取六个不同值的变量。在这个问题中，与上一个问题不同，我们预测的是失败的银行，无法计算六个。
- en: 'In order to assess the ability of each variable to predict credit ratings,
    we can calculate the correlations of each variable with the target variable:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 为了评估每个变量预测信用评级的能力，我们可以计算每个变量与目标变量的相关性：
- en: '[PRE9]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: With the following code, we first create a copy of our training sample, and
    then convert the target variable into a numeric format. This is because it is
    not possible to calculate correlations with a non-numeric variable.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下代码，我们首先创建我们训练样本的副本，然后将目标变量转换为数值格式。这是因为无法用非数值变量计算相关性。
- en: 'Then we will calculate correlations using the `cor` function:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们将使用`cor`函数计算相关性：
- en: '[PRE10]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Next, print these correlations:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，打印这些相关性：
- en: '[PRE11]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The most correlated variable with credit ratings is the mean of the governance
    indicators (`MEANWGI`), followed by the GDP per head (`YPCA`). In both cases,
    the higher the value of the variables, the higher the solvency or the credit rating
    value.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 与信用评级最相关的变量是治理指标的平均值（`MEANWGI`），其次是人均GDP（`YPCA`）。在这两种情况下，变量的值越高，偿付能力或信用评级值就越高。
- en: On the other hand, the least correlated variable is the change of consumer prices
    (`DCPI`). All variables have a positive correlation, except the `PUDP`. It means
    that the higher the indebtedness of a country, the lower the credit rating.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，相关性最弱的变量是消费者价格变化（`DCPI`）。所有变量都有正相关，除了`PUDP`。这意味着一个国家的债务越高，信用评级就越低。
- en: All the variables have an expected sign with credit ratings according to the
    literature and the methodological guidelines provided by the credit rating agencies.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 根据文献和信用评级机构提供的方法论指南，所有变量都与信用评级有预期的符号。
- en: 'At this point, we should save our workspace and remove any unnecessary objects:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，我们应该保存我们的工作空间并删除任何不必要的对象：
- en: '[PRE12]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: As shown, the numbers of observations and variables are quite different than
    in the dataset of banks which we obtained in [Chapter 2](33b2f02e-58fd-41af-89a1-27947515b379.xhtml),
    *Predicting Failures of Banks - Data Collection*.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 如所示，观察值和变量的数量与我们在[第2章](33b2f02e-58fd-41af-89a1-27947515b379.xhtml)中获得的银行数据集大不相同，*预测银行失败
    - 数据收集*。
- en: Let's try some algorithms to predict credit ratings. Specifically, in the next
    section, we will train a decision tree and an ordered logistic regression.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们尝试一些算法来预测信用评级。具体来说，在下一节中，我们将训练一个决策树和一个有序逻辑回归。
- en: Implementing decision trees
  id: totrans-71
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 实现决策树
- en: When we looked at random forests in the *Testing a random forest model* section
    of chapter 5 (*Predicting the Failures of Banks - Multivariate Analysis*) previously,
    decision trees were briefly introduced. In a decision tree, the training sample
    is split into two or more homogeneous sets based on the most significant independent
    variables. In a decision tree, the best variable to split the data into the different
    categories is found. Information gain and the Gini index are the most common ways
    to find this variable. Then, data is recursively split, expanding the leaf nodes
    of the tree until the stopping criterion is reached.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前第5章的“测试随机森林模型”部分（*预测银行失败 - 多变量分析*）中，我们查看随机森林时，简要介绍了决策树。在决策树中，训练样本根据最显著的独立变量分成两个或更多同质集合。在决策树中，找到将数据分成不同类别的最佳变量。信息增益和基尼指数是找到这个变量的最常见方法。然后，数据递归分割，扩展树的叶节点，直到达到停止标准。
- en: Let's see how a decision tree can be implemented in R and how this algorithm
    is able to predict credit ratings.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何在R中实现决策树以及这个算法如何预测信用评级。
- en: 'Decision trees are implemented in the `rpart` package. Moreover, the `rpart.plot`
    package will be useful to visualize our trained model later on. Implement the
    packages by doing the following:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 决策树在`rpart`包中实现。此外，`rpart.plot`包将有助于稍后可视化我们的训练模型。通过以下步骤实现这些包：
- en: '[PRE13]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'To create a tree, we will use the `rpart` function. Four parameters have to
    be specified:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建一个树，我们将使用`rpart`函数。必须指定四个参数：
- en: '**Formula**: In the format target: `~ predictor1+predictor2+…+predictorN`'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**公式**：在格式目标：`~ predictor1+predictor2+…+predictorN`'
- en: '**Data**: Specifies the data frame'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据**：指定数据框'
- en: '**Method**: `class` for a classification tree or `anova` for a regression tree'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**方法**：`class`用于分类树或`anova`用于回归树'
- en: '**Control**: Optional parameters for controlling tree growth'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**控制**：控制树增长的可选参数'
- en: 'In our case, the following control parameters are specified:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的情况下，以下控制参数被指定：
- en: '`maxdepth`: Refers to the maximum depth of any node of the final tree. It defines
    the number of splits or, in other words, how much the trees can grow, considering
    the root node depth 0.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`maxdepth`：指最终树中任何节点的最大深度。它定义了分割的数量，换句话说，树可以增长多少，考虑到根节点深度为0。'
- en: '**Complexity parameter** (or `cp`): This parameter is also used to control
    the size of the decision tree. This parameter can be considered the minimum gain
    required to increase the growth or the complexity of our decision tree. If adding
    a new node in a tree does not increase our fit, the algorithms will stop growing.'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**复杂度参数**（或`cp`）：此参数也用于控制决策树的大小。此参数可以被认为是增加决策树增长或复杂性的最小增益。如果添加新节点到树中不增加我们的拟合度，算法将停止增长。'
- en: 'Let''s train the model. First a list of our variables is created:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们训练模型。首先创建一个包含我们变量的列表：
- en: '[PRE14]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Now, a decision tree is trained:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，训练了一个决策树：
- en: '[PRE15]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Once the model is trained, it is possible to print all the information given
    by the model with the `summary` function, although this time it is not printed
    due the large size of the output:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 模型训练完成后，可以使用`summary`函数打印模型给出的所有信息，尽管这次由于输出量较大而没有打印：
- en: '[PRE16]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Let''s now predict credit ratings with our decision tree, for both the train
    and test samples:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们使用决策树预测信用评级，包括训练样本和测试样本：
- en: '[PRE17]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Here is the confusion table for the training sample:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 这是训练样本的混淆表：
- en: '[PRE18]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'The trained model is able to predict almost all the credit ratings in the training
    sample. Let''s now print its accuracy in the test sample:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 训练好的模型能够预测训练样本中几乎所有的信用评级。现在让我们打印其在测试样本中的准确率：
- en: '[PRE19]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: In order to assess the accuracy of the decision tree, we could calculate different
    metrics. Specifically, we can calculate which is the difference between the real
    rating value and the predicted one. Calculating these differences we can measure
    in which grade our model differs from the real rating levels.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 为了评估决策树的准确性，我们可以计算不同的指标。具体来说，我们可以计算实际评级值与预测值之间的差异。通过计算这些差异，我们可以测量我们的模型在哪个等级上与实际评级水平不同。
- en: 'For that, a function is created:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 为此，创建了一个函数：
- en: '[PRE20]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Here are the different results:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是不同的结果：
- en: '[PRE21]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: According to the preceding table, almost 77% of countries are correctly classified.
    On the other hand, the predictions of 14.88% of countries are not correctly classified
    but the difference with the real observed rating is only of one notch. On the
    other hand, the 7.74% of countries have a wrong predicted rating and this prediction
    differs in two notches from the real value, and so on.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 根据前面的表格，几乎77%的国家被正确分类。另一方面，14.88%的国家的预测没有被正确分类，但与实际观察到的评级的差异只有一个等级。另一方面，7.74%的国家有一个错误的预测评级，并且这个预测与实际值相差两个等级，等等。
- en: 'The same function is now applied using the test sample:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 现在将相同的函数应用于测试样本：
- en: '[PRE22]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: These results are considered good enough. Credit ratings provided by external
    rating agencies are based on quantitative and qualitative information, the latter
    being most relevant. In our case, we are able to predict 68% of ratings only using
    quantitative public information.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 这些结果被认为足够好。外部评级机构提供的信用评级基于定量和定性信息，其中后者最为相关。在我们的案例中，我们仅使用定量公共信息就能预测68%的评级。
- en: 'Finally, the decision tree is drawn using the `rpart.plot` package:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，使用`rpart.plot`包绘制决策树：
- en: '[PRE23]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'The **YPCA** decision tree will look like the following:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '**YPCA**决策树将如下所示：'
- en: '![](img/ffd9c3da-bb8d-422c-82a2-9ab09df569da.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/ffd9c3da-bb8d-422c-82a2-9ab09df569da.png)'
- en: Isn't the model easy to interpret?
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 模型不是很容易解释吗？
- en: 'Let''s save the decision tree before starting the next section:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始下一部分之前，让我们保存决策树：
- en: '[PRE24]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: In the next section, we will use another interesting approach, ordered logistic
    regression, which will be able to improve the results obtained within the decision
    tree.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将使用另一种有趣的方法，有序逻辑回归，这将能够改进决策树中获得的成果。
- en: Ordered logistic regression
  id: totrans-113
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 有序逻辑回归
- en: As we have seen, decision trees perform well in multi-classification problems.
    There are other approaches we could follow too. One of them is logistic regression,
    which gives six possible outcomes to a problem. Nevertheless, this approach has
    some limitations. For example, we are assuming that there is no order to the categories
    in the target variable. It means that different categories or classes in the target
    variable are nominal. In the case of ratings, this assumption is not necessarily
    true, because ratings assign a ranking. Moreover, differences between credit ratings
    are not the same, which means that the difference between AAA and AA+ ratings
    is not necessarily equal to the difference between BBB and BBB- ratings.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所见，决策树在多分类问题中表现良好。我们还可以遵循其他方法。其中之一是逻辑回归，它对一个问题给出六个可能的结果。然而，这种方法有一些局限性。例如，我们假设目标变量中的类别没有顺序。这意味着目标变量中的不同类别或类是名义的。在评级的情况下，这个假设不一定成立，因为评级分配了一个排名。此外，信用评级之间的差异并不相同，这意味着AAA和AA+评级之间的差异不一定等于BBB和BBB-评级之间的差异。
- en: Thus, in this part of the book, we are going to implement an ordered logistic
    regression, which assumes an order in our target variable and a non-constant difference
    between ratings.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在这本书的这一部分，我们将实现有序逻辑回归，它假设目标变量中有顺序，并且评级之间的差异不是常数。
- en: 'The model can be deployed using the `polr` function from the `MASS` package.
    This function only needs the formula of the model, the dataset and, in our case,
    the `Hess=TRUE` option. This option will allow us to calculate and visualize the
    standard errors of the variables in our model:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 该模型可以使用`MASS`包中的`polr`函数部署。此函数只需要模型的公式、数据集，在我们的案例中，还需要`Hess=TRUE`选项。此选项将允许我们计算并可视化模型中变量的标准误差：
- en: '[PRE25]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'A summary of the model is then printed:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 然后打印出模型的摘要：
- en: '[PRE26]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: The preceding table provided us with the regression coefficient table. Moreover,
    it shows the estimates for the different intercepts, which are sometimes called
    **cutpoints**. The intercepts indicate where the predicted result should be cut,
    to make the different credit ratings observed in the data.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的表格为我们提供了回归系数表。此外，它还显示了不同截距的估计值，有时被称为**截点**。截距表明预测结果应该在何处被切割，以使数据中观察到的不同信用评级。
- en: Moreover, the model provides us with the residual deviance and the `AIC` metrics,
    which are useful metrics to compare different models.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，该模型为我们提供了残差偏差和`AIC`指标，这些是用于比较不同模型的有用指标。
- en: In the preceding results, we cannot see any `p_values` indicating whether a
    variable is significant, as it is not usually displayed in any regression. So,
    we need to calculate them.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的结果中，我们看不到任何表示变量是否显著的`p_values`，因为在任何回归中通常都不会显示。因此，我们需要计算它们。
- en: 'The `p_values` can be approximately calculated by comparing the `t value` against
    the standard normal distribution. First, we will store our coefficients using
    the following code:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '`p_values`可以通过比较`t值`与标准正态分布来近似计算。首先，我们将使用以下代码存储我们的系数：'
- en: '[PRE27]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: If we observe the sign of the coefficients, there are some negative values.
    Apparently, some variables display a non-intuitive or unexpected sign, but we
    don't need to be concerned about it in this example.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们观察系数的符号，有一些负值。显然，一些变量显示出非直观或意外的符号，但在本例中我们无需对此感到担忧。
- en: Coefficients of the model can be somewhat difficult to interpret, because they
    are scaled in terms of logs. Thus, it is common to convert previous raw coefficients
    into odds ratios.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 模型的系数可能有些难以解释，因为它们是以对数形式缩放的。因此，将之前的原始系数转换为概率比是常见的做法。
- en: 'Odds ratios will be obtained as follows:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 概率比将按以下方式获得：
- en: '[PRE28]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Finally, the `p_values` of the different variables are calculated and merged
    with our obtained coefficients:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，不同变量的`p_values`被计算并合并到我们获得的系数中：
- en: '[PRE29]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Once we develop our model, we are going to predict the outcome of our model:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们开发出我们的模型，我们将预测模型的结果：
- en: '[PRE30]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: The model gives a different probability for each rating. The predicted rating
    is the one with the highest predicted probability. For example, for Austria in
    2010, the model assigns the highest probability to the 5 (`X5`) rating, so the
    predicted rating is a 5.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 该模型为每个评级给出了不同的概率。预测评级是预测概率最高的评级。例如，对于2010年的奥地利，模型将最高的概率分配给了5（`X5`）评级，因此预测评级是5。
- en: 'With the following code, we assign the predicted rating to the highest probability:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码将预测评级分配给最高概率：
- en: '[PRE31]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Let''s see the accuracy of the model in the train sample:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看模型在训练样本中的准确率：
- en: '[PRE32]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: As we can see, the model is able to correctly predict 69.05% of credit ratings
    using the training sample. These results were better when using a decision tree.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们所见，该模型能够使用训练样本正确预测69.05%的信用评级。当使用决策树时，这些结果更好。
- en: 'Let''s see the performance of the model in the test sample. The following code
    gives us the predicted probabilities of each country for each of the rating levels.
    The predicted rating is given by the category with the highest probability:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看模型在测试样本中的表现。以下代码给出了每个国家在每个评级水平上的预测概率。预测评级是由概率最高的类别给出的：
- en: '[PRE33]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'The following code finds the rating category with the highest probability and
    assigns this rating as the predicted rating:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码找到概率最高的评级类别，并将其分配为预测评级：
- en: '[PRE34]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'The accuracy of the model in the test sample is as follows:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 在测试样本中，模型的准确率如下：
- en: '[PRE35]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: The results are also slightly worse than in the decision tree model.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 结果也略逊于决策树模型。
- en: 'You can now save the workspace before starting the next section:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始下一节之前，你现在可以保存工作空间：
- en: '[PRE36]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: In the next section, we will use macroeconomic data to predict country ratings.
    All the variables we used are quantitative variables. In the following section,
    we will use country reports for the same purpose.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将使用宏观经济数据来预测国家评级。我们使用的所有变量都是定量变量。在下一节中，我们将使用国家报告来达到相同的目的。
- en: Predicting sovereign ratings using European country reports
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用欧洲国家报告预测主权评级
- en: According to the model based on macroeconomic information described in the *Predicting
    country ratings using macroeconomic information* section, decision trees can be
    considered a good alternative approach to predicting sovereign ratings.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 根据在“使用宏观经济信息预测国家评级”部分描述的基于宏观经济信息的模型，决策树可以被认为是一种预测主权评级的良好替代方法。
- en: Nevertheless, qualitative information represents an important and low transparent
    part of the rating assignment. In this section, we propose a model using only
    qualitative information based on the so-called country reports, published by the
    European Commission.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，定性信息代表了评级分配中一个重要且低透明度的一部分。在本节中，我们提出了一种仅基于所谓的国家报告的模型，这些报告由欧洲委员会发布。
- en: These reports, mainly published at the end of February, contain an annual analysis
    of the economic and social challenges for the EU member states.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 这些报告主要在二月底发布，包含对欧盟成员国经济和社会挑战的年度分析。
- en: 'For example, at the following link, we can download the country reports published
    in 2018, [https://ec.europa.eu/info/publications/2018-european-semester-country-reports_en](https://ec.europa.eu/info/publications/2018-european-semester-country-reports_en).
    For all of the 28 EU countries, we have downloaded their country reports from
    2011 to 2018, and converted them into a text format. We stored them in different
    folders, one for each year:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，在以下链接中，我们可以下载2018年发布的国家报告，[https://ec.europa.eu/info/publications/2018-european-semester-country-reports_en](https://ec.europa.eu/info/publications/2018-european-semester-country-reports_en)。对于所有28个欧盟国家，我们已经从2011年到2018年下载了它们的国别报告，并将它们转换为文本格式。我们按年份将它们存储在不同的文件夹中，每个文件夹对应一年：
- en: '[PRE37]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Let''s create a list that contains the names of different reports for each
    folder:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们创建一个包含每个文件夹中不同报告名称的列表：
- en: '[PRE38]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Here, the names of the text files are stored in a list:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，文本文件名存储在一个列表中：
- en: '[PRE39]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'The name of files contains the roots and the filenames. Let''s try to separate
    the country name and the year of the report:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 文件名包含根目录和文件名。让我们尝试将国家名称和报告年份分开：
- en: '[PRE40]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'Let''s try to create a column with the country name, taking into consideration
    each filename. For example, if the word `czech` appears in the name of a file,
    a new column will be created that contains `Czech Republic`:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们尝试创建一个包含国家名称的列，考虑到每个文件名。例如，如果文件名中包含单词`czech`，将创建一个新列，其中包含`捷克共和国`：
- en: '[PRE41]'
  id: totrans-162
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'Let''s see the number of reports we have for each country in the European Union:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看欧盟每个国家有多少个报告：
- en: '[PRE42]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: We have eight different reports for all the countries in the European Union,
    except for Croatia (with only `6` reports) and Greece (with only `4`). Croatia's
    accession to the EU as a full member took place on July 1, 2013\. Thus, there
    are no reports for 2011 and 2012\. In the case of Greece, there were not specific
    reports for Greece after 2014.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 我们为欧盟的所有国家提供了八个不同的报告，除了克罗地亚（只有`6`个报告）和希腊（只有`4`个）。克罗地亚作为欧盟的正式成员国加入是在2013年7月1日。因此，没有2011年和2012年的报告。至于希腊，2014年之后没有针对希腊的具体报告。
- en: 'As we are going to train a model to predict credit ratings using the European
    reports, we need to select some reports to train the model and other reports to
    test it. The same countries we used in the model using macroeconomic information
    in [Chapter 6](5c1b431c-46f9-42b6-b3e7-e583b1996cd5.xhtml), *Visualizing Economic
    Problems in the European Union* (P*redicting country ratings using macroeconomic
    information* section) will be used here again. First, we need to select the countries
    we previously used to train the model. Then we merge the selected countries with
    the name and the root where the corresponding report is located:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们打算使用欧洲报告来训练预测信用评级的模型，我们需要选择一些报告来训练模型，其他报告来测试它。在[第6章](5c1b431c-46f9-42b6-b3e7-e583b1996cd5.xhtml)中使用的模型，即*在欧洲联盟中可视化经济问题*（*使用宏观经济信息预测国家评级*）部分中使用的相同国家将再次使用。首先，我们需要选择我们之前用于训练模型的那些国家。然后，我们将选定的国家与对应报告所在的位置名称和根目录合并：
- en: '[PRE43]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'Here''s an example of the reports we will use to train our model:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是我们将用于训练我们模型的报告示例：
- en: '[PRE44]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'The same procedure is carried out to obtain the validation or test sample:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 同样的程序用于获取验证或测试样本：
- en: '[PRE45]'
  id: totrans-171
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'Now let''s see the output:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们来看看输出结果：
- en: '[PRE46]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'There are some differences in the size of samples with regard to the samples
    used in the previous model, because there are no reports for some countries. This
    is shown in the following code:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 由于一些国家没有报告，与先前模型中使用的样本大小存在一些差异。以下代码显示了这一点：
- en: '[PRE47]'
  id: totrans-175
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'This is the number of countries that we will use to train the new model:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我们将用于训练新模型的国家的数量：
- en: '[PRE48]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'This is the number of countries used to validate the previous model:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 这是用于验证先前模型的国家的数量：
- en: '[PRE49]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'This is the number of countries used to train the new model:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 这是用于训练新模型的国家的数量：
- en: '[PRE50]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: As you can see, the difference is not significant. Before reading files into
    R, we will create a function to read the files.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，差异并不显著。在将文件读入R之前，我们将创建一个读取文件的函数。
- en: 'Once the following function is run, we can read the different reports iteratively:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦运行以下函数，我们就可以迭代地读取不同的报告：
- en: '[PRE51]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'Two lists will be created. In each element of the lists, we can find each country
    report:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 将创建两个列表。在每个列表元素中，我们可以找到每个国家的报告：
- en: '[PRE52]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'Before continuing, some unnecessary objects can be removed and the workspace
    should be saved:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前，可以删除一些不必要的对象，并保存工作区：
- en: '[PRE53]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: Reports need to be preprocessed. Data preprocessing is necessary before extracting
    useful information or features to build our model.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 报告需要预处理。在提取有用信息或特征以构建我们的模型之前，需要进行数据预处理。
- en: Data cleaning, or preprocessing data, involves converting the data into plain
    text, and then removing formatting, whitespace, numbers, uppercase characters,
    and stopwords.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 数据清理，或数据预处理，涉及将数据转换为纯文本，然后删除格式、空白、数字、大写字母和停用词。
- en: '**Stopwords** are defined as words in a language that are so common that their
    information value is practically null. As all the country reports are available
    in English, some examples of these stopwords are prepositions, determinants, and
    conjunctions.'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '**停用词**是指在一种语言中如此常见，以至于它们的信息价值实际上为零的词。由于所有国家报告都可用英文，这些停用词的例子包括介词、限定词和连词。'
- en: 'In order to make these preprocessing steps, the `tm` package is loaded and
    reports have to be converted into a corpus format:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 为了进行这些预处理步骤，加载了`tm`包，并将报告转换为语料库格式：
- en: '[PRE54]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'The following function is created to clean our reports one by one:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 创建以下函数以逐个清理我们的报告：
- en: '[PRE55]'
  id: totrans-195
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'These reports are transformed by applying the following function:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 这些报告通过应用以下函数进行转换：
- en: '[PRE56]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: An additional analysis will be done, called **stemming**. The stemming process
    refers to erasing suffixes to retrieve the root (or stem) of the word, which reduces
    the complexity of the data without significant loss of information.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 将进行一项额外的分析，称为**词干提取**。词干提取过程是指删除词尾以检索词的根（或词干），这在不显著损失信息的情况下减少了数据的复杂性。
- en: Thus, the verb *argue* will be reduce to the stem *argu*, regardless of the
    form or complexity of the word in the text. Thus, other forms such as *argued*,
    *argues*, *arguing*, and *argus* are also reduced to the same stem. The stemming
    procedure reduces the number of words to consider and provides a better frequency
    representation.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，动词*argue*将被缩减为词干*argu*，无论文本中该词的形式或复杂性如何。因此，其他形式如*argued*、*argues*、*arguing*和*argus*也将缩减到相同的词干。词干提取过程减少了需要考虑的单词数量，并提供了更好的频率表示。
- en: 'The stemming process is done using the `SnowballC` package:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 词干提取过程使用的是`SnowballC`包：
- en: '[PRE57]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: After the preprocessing process, a matrix (document-term matrix) is built considering
    the country reports. Each row of this matrix represents each of the country reports,
    and each column represents all the words observed on them.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 在预处理过程之后，考虑国家报告构建了一个矩阵（文档-词矩阵）。这个矩阵的每一行代表每个国家报告，每一列代表在它们上观察到的所有单词。
- en: If a word occurs in a particular country report, the matrix entry corresponding
    to that row and column is 1, otherwise it is 0\. When multiple occurrences within
    a document are recorded, that is, if a word occurs twice in a report, it is recorded
    as 2 in the relevant matrix entry.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个词出现在某个国家的报告中，则对应行和列的矩阵条目为1，否则为0。当记录文档内的多次出现时，即如果一个词在报告中出现两次，则在相关矩阵条目中记录为2。
- en: However, some extracted single words might lack important information that was
    included in the original text, such as word-to-word dependencies and the contexts
    around high-frequency words.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，一些提取的单个单词可能缺少原始文本中包含的重要信息，例如词与词之间的依赖关系和高频词周围的上下文。
- en: For example, the extraction of the word *unemployment* in a report can't provide
    enough information to interpret whether the term is positive or negative. Thus,
    combinations of two words are extracted from the reports instead of individual
    words.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，在报告中提取单词*unemployment*无法提供足够的信息来解释该术语是积极的还是消极的。因此，从报告中提取的是两个单词的组合，而不是单个单词。
- en: In this way, it is possible to find some combinations, such as *high unemployment*,
    that could appear more frequently in countries with lower creditworthiness.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 以这种方式，可以在信用度较低的国家中找到一些可能更频繁出现的组合，例如*高失业率*。
- en: 'The package we will use to extract combinations of words is named `Rweka`:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用名为`Rweka`的包来提取单词组合：
- en: '[PRE58]'
  id: totrans-208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'The following function is created to obtain the combinations of `1` and `2`
    words in the reports:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 创建以下函数以获取报告中`1`和`2`个单词的组合：
- en: '[PRE59]'
  id: totrans-210
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'Document-term matrices are now obtained for the train and test samples of the
    reports. Only words more than `3` and less than `20` characters long will be considered:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 现在获得了报告的训练和测试样本的文档-词矩阵。只有长度超过`3`个字符且小于`20`个字符的单词将被考虑：
- en: '[PRE60]'
  id: totrans-212
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: In the case of the validation sample, we will calculate the matrix considering
    the dictionary of words previously found in the training sample. New words found
    in the test sample will not be considered. Remember to take into consideration
    that we cannot use words found in the test sample to develop the model, which
    means that, right now, we should act as if the test sample does not exist to train
    the algorithm.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 在验证样本的情况下，我们将考虑在训练样本中找到的单词字典来计算矩阵。测试样本中找到的新单词将不予考虑。请记住，我们不能使用测试样本中找到的单词来开发模型，这意味着，现在我们应该假装测试样本不存在来训练算法。
- en: 'Thus, we should add a new parameter in our function when the document-term
    matrix is calculated on the test sample of reports: `dictionary = Terms(tdm2_train)`.
    This is shown in the following code:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，当在报告的测试样本上计算文档-术语矩阵时，我们应该在我们的函数中添加一个新参数：`dictionary = Terms(tdm2_train)`。这在上面的代码中显示：
- en: '[PRE61]'
  id: totrans-215
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'Let''s analyze the resultant matrices:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们分析结果矩阵：
- en: '[PRE62]'
  id: totrans-217
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: The first line indicates the number of different terms and the number of reports
    in each sample. The number of columns or terms in each matrix is the same and
    belongs to the total list of words found in our training sample.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 第一行表示每个样本中不同术语的数量和报告的数量。每个矩阵的列数或术语数是相同的，属于我们在训练样本中找到的总单词列表。
- en: A total of 609,929 terms have appeared at least once in the training sample
    of country reports.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 总共有609,929个术语至少在国家报告的训练样本中出现过一次。
- en: Moreover, in the training matrix, there are 98,603,595 cells with frequencies
    of 0 and 2,034,690 cells that have non zero values. Thus, 98% of all cells are
    zero. This situation is very common in text-mining problems. When a matrix contains
    many cells with zero values, it is considered a sparse matrix.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，在训练矩阵中，有98,603,595个单元格的频率为0，而2,034,690个单元格具有非零值。因此，所有单元格中有98%是零。这种情况在文本挖掘问题中非常常见。当一个矩阵包含许多零值单元格时，它被认为是稀疏矩阵。
- en: The `removeSparseTerms` function will remove the infrequently used words, leaving
    only the most used words in the corpus.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '`removeSparseTerms`函数将删除使用频率较低的单词，只留下语料库中最常用的单词。'
- en: 'In our case, we will reduce the matrix to keep a maximum of 75% empty space.
    This process has to be applied only on the data we will later use to train the
    model:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的情况下，我们将矩阵减少到最多保留75%的空空间。这个过程必须只应用于我们稍后用于训练模型的那些数据：
- en: '[PRE63]'
  id: totrans-223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: Our matrix to train the model now has 6,480 terms.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在用于训练模型的矩阵有6,480个术语。
- en: 'Let''s observe what our matrix looks like:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们观察我们的矩阵看起来是什么样子：
- en: '[PRE64]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: For example, the word `abroad` appears `2` times in the first report and `4`
    times in the second. Just remember that words were stemmed in a previous step,
    so only the roots of words are displayed. Single words and combinations of two
    words are also available in the matrix.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，单词`abroad`在第一份报告中出现了`2`次，在第二份报告中出现了`4`次。只需记住，在之前的步骤中已经进行了词干提取，所以只显示单词的根。矩阵中也包含单个单词和两个单词的组合。
- en: 'The names of the reports displayed in the preceding code are ordered according
    to the list we originally used to import the reports. Specifically, the first
    four documents belong to the following:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面代码中显示的报告名称是按照我们最初用来导入报告的列表顺序排列的。具体来说，前四个文档属于以下：
- en: '[PRE65]'
  id: totrans-229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'It is also possible to obtain the complete list of terms and their frequency:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 也可能获得术语及其频率的完整列表：
- en: '[PRE66]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'This is the list of the most repeated terms:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 这是出现频率最高的术语列表：
- en: '[PRE67]'
  id: totrans-233
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'For visualization, it is possible to create a word cloud plot with the most
    frequent words in our documents. To do this, we can use the `wordcloud` package:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 为了可视化，我们可以创建一个包含我们文档中最频繁单词的词云图。为此，我们可以使用`wordcloud`包：
- en: '[PRE68]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'This is how the result looks:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 结果看起来就是这样：
- en: '![](img/6889a888-e48a-47da-b41a-95180134c96a.png)'
  id: totrans-237
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6889a888-e48a-47da-b41a-95180134c96a.png)'
- en: It looks pretty, right?
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来很漂亮，对吧？
- en: 'Now, we need to convert the previous matrix to have countries in rows and terms
    in columns. In summary, we need to transpose both the train and test matrices:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们需要将之前的矩阵转换为以国家为行、术语为列。简而言之，我们需要转置训练和测试矩阵：
- en: '[PRE69]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'Again, some irrelevant objects are removed:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 再次，一些无关的对象被移除了：
- en: '[PRE70]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'And the workspace is again saved as a backup:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 并且工作区再次保存为备份：
- en: '[PRE71]'
  id: totrans-244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: At this point, we have processed our reports and we have extracted some features,
    terms, and combinations of words. Nevertheless, the target variable, the country
    rating, is not present in our new dataset. The credit rating is only present in
    the `macroeconomic_data` sample.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
- en: 'In the following code, we will add credit ratings to our recently created training
    and validation matrices:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE72]'
  id: totrans-247
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: As the number of features to train in our model is quite high (more than 6,000),
    we will assess how correlated our features are with the credit ratings, to help
    discard some of them.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
- en: 'First, we will create a data frame that contains our list of terms and the
    correlation with the credit ratings. The first three variables have to be excluded.
    This is shown in the following code:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE73]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: 'Now that we have the correlations, let''s put them in descending order:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE74]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'Here are the top 10 most correlated variables with credit ratings:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE75]'
  id: totrans-254
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: Apparently, the `judici` root, which comes from words such as *judicial*, is
    very correlated with credit ratings. The negative sign indicates that countries
    in which the specific words appear very frequently in the country report have
    a lower credit quality.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
- en: 'We will only use the top 1,000 words to train our model. A list with the top
    1,000 terms is created here:'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE76]'
  id: totrans-257
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'Before training the model, let''s save the workspace one more time:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE77]'
  id: totrans-259
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: It is time to train the model. The selected model is a pure Lasso model, because
    it is demonstrated that this kind of model works well where the number of columns
    or features is high, acting as an approach to variable selection.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
- en: 'This approach was already used in *chapter 5: Predicting the Failures of Banks
    - Multivariate Analysis* with the `h2o` package. This time, we will use the `glmnet`
    package only for academic purposes and with the aim that the reader can apply
    different solutions:'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE78]'
  id: totrans-262
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: The `glmnet` package needs a matrix with variables and a vector with the class
    labels or the target values.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s make sure that our target variable is a `factor`:'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE79]'
  id: totrans-265
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'Dependent and independent variables are stored in different objects to train
    the model, shown in the following code:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE80]'
  id: totrans-267
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: 'Like the preceding code, the same steps are carried out in the validation sample:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE81]'
  id: totrans-269
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: We will also use the `cv.glmnet` function in the training process, which automatically
    performs a grid search to find the optimal value of λ, needed in the Lasso algorithm.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
- en: 'The most important parameters in this function are the following:'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
- en: '`y`: Our target variable, in our case, the credit rating.'
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`x`: A matrix that contains all the independent variables of our features.'
  id: totrans-273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`alpha`: In our case, with a value of `1` to indicate that the model is a Lasso.'
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`family`: The type of our response variable. If target variable has only two
    levels, family should be defined as `binomial`. In our case, as our target variable
    displays more than two levels, the family should be specified as `multinomial`.'
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`type.multinomial`: If `grouped`, a grouped Lasso penalty is used on the `multinomial`
    coefficients for a variable. The default is `ungrouped`.'
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`parallel`: If `TRUE`, the algorithm is processed in parallel. This means the
    algorithm splits the different tasks and executes them simultaneously, significantly
    reducing the training time.'
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Here is the application of this function with the current data:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE82]'
  id: totrans-279
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: 'During the execution of this code, a warning message arises: `one multinomial
    or binomial class has fewer than 8 observations; dangerous ground`.'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
- en: 'The problem is that we don''t have enough observations for all the categories
    in our target variable. We can check the number of different categories in the
    target variable by running the following code:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE83]'
  id: totrans-282
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: For rating `1`, there are only `5` observations. As a consequence, it is probably
    not expected to have any stable estimates for this category.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
- en: 'One solution could be to merge ratings `1` and `2` into the same rating category:'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE84]'
  id: totrans-285
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: 'Now, the problem should not appear:'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE85]'
  id: totrans-287
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: 'Once the model is trained, the following plot helps to find the `lambda` parameter,
    which reduces the model''s error:'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE86]'
  id: totrans-289
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: 'The optimal log value is approximately `-3`, according to the following plot:'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/a48280b9-1bc5-4432-9405-908bdad2286f.png)'
  id: totrans-291
  prefs: []
  type: TYPE_IMG
- en: 'The exact value can be viewed by examining the `lambda_min` variable in the
    code:'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE87]'
  id: totrans-293
  prefs: []
  type: TYPE_PRE
  zh: '[PRE87]'
- en: The objective of regularization methods is to find a trade-off between accuracy
    and simplicity, which means to obtain a model with the smallest number of coefficients
    that also gives a good accuracy. In this vein, the `cv.glmnet` function also helps
    to find the model in which the error is within one standard error of the minimum.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
- en: 'This value of `lambda` can be found in the `lambda.1se` variable. This value
    will be selected as the resultant `lambda` of our model:'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE88]'
  id: totrans-296
  prefs: []
  type: TYPE_PRE
  zh: '[PRE88]'
- en: 'Now, it is time to assess the accuracy of our model. First, let''s look at
    the training sample:'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE89]'
  id: totrans-298
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: 'The following is the table of results for the training sample:'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE90]'
  id: totrans-300
  prefs: []
  type: TYPE_PRE
  zh: '[PRE90]'
- en: 'Now, let''s look at the accuracy of the validation sample:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE91]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: 'The following is the table of results for the validation sample:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE92]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: 'The results seem to be good enough, considering that we used country reports.
    As we did when models were trained using macroeconomic data, we will calculate
    the percentage of correctly classified countries with the following function:'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE93]'
  id: totrans-306
  prefs: []
  type: TYPE_PRE
  zh: '[PRE93]'
- en: 'Let''s run the assessment for this model:'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE94]'
  id: totrans-308
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: The Lasso model is able to predict 69.81% of countries correctly on the validation
    sample. The resultant model slightly improves the results obtained using only
    macroeconomic data, with an accuracy level attained of 67.86%.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
- en: Finally, it is very interesting to assess the most relevant terms that appear
    in country reports and that determine the credit rating of a country.
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
- en: 'The following function is useful to extract the coefficients of the model:'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE95]'
  id: totrans-312
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: 'The result is a list with the different coefficients for each rating level.
    For example, the coefficients for the credit ratings 1 and 2 (these categories
    were merged previously in this section) are obtained. This is shown in the following
    code:'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE96]'
  id: totrans-314
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: 'Some of the most relevant terms are shown here:'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE97]'
  id: totrans-316
  prefs: []
  type: TYPE_PRE
  zh: '[PRE97]'
- en: A positive sign indicates that the more a term appears in the country report,
    the lower the credit quality of the country.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s check whether this is observed properly. For example, the model checked
    some of the sentences that contain `financ need` in the country report of Cyprus
    in 2018\. Here are three sections of the report:'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
- en: Cyprus does not appear to face immediate risks of fiscal stress, owing to its
    favorable fiscal position. This is mainly thanks to the improvement of the general
    government fiscal balance and primary balance, low gross financing needs, and
    relatively low short-term general government debt. These more than offset the
    still-sizeable public debt. However, short-term risks on the macro-financial side
    remain significant.
  id: totrans-319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Limited access to finance and the need to reduce debt still restrain private-sector
    investment.
  id: totrans-320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Public debt has decreased significantly, but remains high, at around 99 % of
    GDP in 2017\. High public debt makes Cyprus vulnerable to financial or economic
    shocks. However, the large proportion of long-term low-interest debt provided
    by external creditors during the economic adjustment program, the current low
    sovereign bond yields, and relatively low medium-term financing needs mitigate
    refinancing risks.
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In these three sections, stopwords were removed, which is the reason for finding
    `financ need`.
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
- en: 'Different coefficients can be obtained for the best rating category as well.
    This can be done through the following code:'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE98]'
  id: totrans-324
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: 'Here are some of the most relevant terms we found:'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE99]'
  id: totrans-326
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: 'Some sentences are also obtained for an example report. For example, for Germany
    in 2018, the following sentences contain the combination `govern balanc`:'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
- en: Germany has consistently improved its government balance, turning it into a
    surplus from 2014 onward.
  id: totrans-328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The positive government balance is also reflected in falling government debt,
    which reached 70.9% in 2015, falling further to 68.1% in 2016.
  id: totrans-329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'To conclude, keep a backup of all your models in case you want to use them
    later:'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE100]'
  id: totrans-331
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: Summary
  id: totrans-332
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, you learned some introductory concepts of text-mining and topic
    extraction. You should now know how to read text files and process raw text to
    obtain useful common words. Also, you are now able to use the information collected
    in a text format in your own problems.
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
- en: Depending on the amount of data and the type of problem you want to solve, you
    could now apply a variety of techniques, both simple and complex, used previously
    in this book.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
- en: Finally, and taking into account this chapter, you are ready to dive into other
    more recent and promising techniques, such as `word2vec` and `doc2vec`, which
    are both advanced techniques that allow you to discover relevant information or
    topics in a piece of text and documents. If you're curious, you can research these
    topics further.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，考虑到本章内容，你已经准备好深入探索其他更近和更有前景的技术，例如 `word2vec` 和 `doc2vec`，这两种都是高级技术，允许你在文本和文档中发现相关信息或主题。如果你对此感兴趣，可以进一步研究这些主题。
- en: I hope you got an in-depth view of machine learning and that this book has helped
    you get started with solving problems using machine learning. Thanks for reading,
    and all the best!
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 我希望你对机器学习有了深入的了解，并且这本书帮助你开始了使用机器学习解决问题的旅程。感谢阅读，祝您一切顺利！
