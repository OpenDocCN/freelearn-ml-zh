<html><head></head><body>
<div class="Basic-Text-Frame" id="_idContainer239">
<h1 class="chapterNumber"><span class="koboSpan" id="kobo.1.1">11</span></h1>
<h1 class="chapterTitle" id="_idParaDest-147"><span class="koboSpan" id="kobo.2.1">Closing Our Journey: How to Stay Relevant and on Top</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.3.1">We near the conclusion of our enlightening journey through the realm of data science, and we have traversed a diverse landscape of challenges, ranging from geospatial analysis and natural language processing to image classification and time-series forecasting. </span><span class="koboSpan" id="kobo.3.2">This</span><a id="_idIndexMarker523"/><span class="koboSpan" id="kobo.4.1"> expedition has enriched our understanding of how to adeptly combine various cutting-edge technologies. </span><span class="koboSpan" id="kobo.4.2">We’ve delved into large language models, such as those developed by Kaggle, explored vector databases, and discovered the efficiency of task chaining frameworks, all to harness the transformative potential of generative AI.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.5.1">Our learning journey has also encompassed working with an array of data types and formats. </span><span class="koboSpan" id="kobo.5.2">We’ve engaged in feature engineering, constructed several baseline models, and acquired the skill of iteratively refining these models. </span><span class="koboSpan" id="kobo.5.3">This process is central to mastering the numerous tools and techniques essential for comprehensive data analysis.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.6.1">Beyond the technical aspects, we’ve embraced the art of data visualization. </span><span class="koboSpan" id="kobo.6.2">We’ve learned not only the techniques but also how to tailor the style and visuals to suit each unique dataset and analysis. </span><span class="koboSpan" id="kobo.6.3">Additionally, we’ve explored how to craft compelling narratives around data, moving beyond mere technical reporting to storytelling that brings data to life.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.7.1">In this chapter, I intend to share several insightful ideas, tips, and tricks. </span><span class="koboSpan" id="kobo.7.2">These will not only aid you in attaining mastery in creating valuable and impactful data science notebooks but also assist in gaining recognition for your work. </span><span class="koboSpan" id="kobo.7.3">Through these guidelines, you can ensure that your work stands out, helping you maintain a top position in the ever-evolving field of data science.</span></p>
<h1 class="heading-1" id="_idParaDest-148"><span class="koboSpan" id="kobo.8.1">Learn from the best: observe successful Grandmasters</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.9.1">In the </span><a id="_idIndexMarker524"/><span class="koboSpan" id="kobo.10.1">preceding chapters of this book, we explored a variety of analysis methods, visualization tools, and customization options. </span><span class="koboSpan" id="kobo.10.2">These techniques were effectively utilized by myself and numerous other esteemed Kaggle Notebook Grandmasters. </span><span class="koboSpan" id="kobo.10.3">My journey to becoming the 8th Notebooks Grandmaster and maintaining a top-3 ranking for an extended period was not solely the result of in-depth analysis, high-quality visuals, or crafting engaging narratives in my notebooks. </span><span class="koboSpan" id="kobo.10.4">It was also a testament to adhering to a select few best practices.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.11.1">As we delve into these best practices, we’ll gain insights into what sets successful Kagglers apart, particularly the Kaggle Notebook Masters and Grandmasters. </span><span class="koboSpan" id="kobo.11.2">Let’s begin by examining hard evidence from a fascinating dataset: the </span><em class="italic"><span class="koboSpan" id="kobo.12.1">Meta Kaggle Master Achievements Snapshot</span></em><span class="koboSpan" id="kobo.13.1">. </span><span class="koboSpan" id="kobo.13.2">This dataset (see </span><em class="italic"><span class="koboSpan" id="kobo.14.1">Reference 1</span></em><span class="koboSpan" id="kobo.15.1">) comprises two files: one detailing achievements and the other profiling users:</span></p>
<ul>
<li class="bulletList"><span class="koboSpan" id="kobo.16.1">In the achievements file, we see the tiers that Kagglers have reached in the </span><strong class="screenText"><span class="koboSpan" id="kobo.17.1">Competition</span></strong><span class="koboSpan" id="kobo.18.1">, </span><strong class="screenText"><span class="koboSpan" id="kobo.19.1">Datasets</span></strong><span class="koboSpan" id="kobo.20.1">, </span><strong class="screenText"><span class="koboSpan" id="kobo.21.1">Notebooks</span></strong><span class="koboSpan" id="kobo.22.1">, and </span><strong class="screenText"><span class="koboSpan" id="kobo.23.1">Discussion</span></strong><span class="koboSpan" id="kobo.24.1"> categories, along with their highest rank across all these categories. </span><span class="koboSpan" id="kobo.24.2">This file exclusively includes users who have attained at least the Master tier in one of the four Kaggle categories.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.25.1">The second file offers detailed profiles of these users, including avatars, addresses, countries, geographical coordinates, and metadata extracted from their profiles. </span><span class="koboSpan" id="kobo.25.2">This metadata provides insights into their tenure on Kaggle and their recent activity on the platform, such as “Joined 13 years ago last seen in the past day.”</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.26.1">We will analyze the “last seen” day on the platform for these users and examine the distribution of this metric among Masters and Grandmasters in the Notebooks category. </span><span class="koboSpan" id="kobo.26.2">The code to parse and extract this information is provided here, giving us a valuable window into the habits and engagement of top-tier Kagglers:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.27.1">profiles_df[</span><span class="hljs-string"><span class="koboSpan" id="kobo.28.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.29.1">joined"</span></span><span class="koboSpan" id="kobo.30.1">] = profiles_df[</span><span class="hljs-string"><span class="koboSpan" id="kobo.31.1">"Metadata"</span></span><span class="koboSpan" id="kobo.32.1">].apply(</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.33.1">lambda</span></span><span class="koboSpan" id="kobo.34.1"> x: x.split(</span><span class="hljs-string"><span class="koboSpan" id="kobo.35.1">" · "</span></span><span class="koboSpan" id="kobo.36.1">)[</span><span class="hljs-number"><span class="koboSpan" id="kobo.37.1">0</span></span><span class="koboSpan" id="kobo.38.1">])
profiles_df[</span><span class="hljs-string"><span class="koboSpan" id="kobo.39.1">"last_seen"</span></span><span class="koboSpan" id="kobo.40.1">] = profiles_df[</span><span class="hljs-string"><span class="koboSpan" id="kobo.41.1">"Metadata"</span></span><span class="koboSpan" id="kobo.42.1">].apply(</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.43.1">lambda</span></span><span class="koboSpan" id="kobo.44.1"> x: x.split(</span><span class="hljs-string"><span class="koboSpan" id="kobo.45.1">" · "</span></span><span class="koboSpan" id="kobo.46.1">)[</span><span class="hljs-number"><span class="koboSpan" id="kobo.47.1">1</span></span><span class="koboSpan" id="kobo.48.1">])
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.49.1">def</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.50.1">extract_last_seen</span></span><span class="koboSpan" id="kobo.51.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.52.1">last_seen</span></span><span class="koboSpan" id="kobo.53.1">):
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.54.1">"""</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.55.1">    Extract and return when user was last time seen</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.56.1">    Args:</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.57.1">        last_seen: the text showing when user was last time seen</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.58.1">    Returns:</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.59.1">        number of days from when the user was last time seen</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.60.1">    """</span></span><span class="koboSpan" id="kobo.61.1">
    multiplier = </span><span class="hljs-number"><span class="koboSpan" id="kobo.62.1">1</span></span><span class="koboSpan" id="kobo.63.1">
    last_seen = re.sub(</span><span class="hljs-string"><span class="koboSpan" id="kobo.64.1">"last seen "</span></span><span class="koboSpan" id="kobo.65.1">, </span><span class="hljs-string"><span class="koboSpan" id="kobo.66.1">""</span></span><span class="koboSpan" id="kobo.67.1">, last_seen)
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.68.1">if</span></span><span class="koboSpan" id="kobo.69.1"> last_seen == </span><span class="hljs-string"><span class="koboSpan" id="kobo.70.1">"in the past day"</span></span><span class="koboSpan" id="kobo.71.1">:
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.72.1">return</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.73.1">0</span></span><span class="koboSpan" id="kobo.74.1">
    last_seen = re.sub(</span><span class="hljs-string"><span class="koboSpan" id="kobo.75.1">" ago"</span></span><span class="koboSpan" id="kobo.76.1">, </span><span class="hljs-string"><span class="koboSpan" id="kobo.77.1">""</span></span><span class="koboSpan" id="kobo.78.1">, last_seen)
    quantity, metric = last_seen.split(</span><span class="hljs-string"><span class="koboSpan" id="kobo.79.1">" "</span></span><span class="koboSpan" id="kobo.80.1">)
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.81.1">if</span></span><span class="koboSpan" id="kobo.82.1"> quantity == </span><span class="hljs-string"><span class="koboSpan" id="kobo.83.1">"a"</span></span><span class="koboSpan" id="kobo.84.1">:
        quantity = </span><span class="hljs-number"><span class="koboSpan" id="kobo.85.1">1</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.86.1">else</span></span><span class="koboSpan" id="kobo.87.1">:
        quantity = </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.88.1">int</span></span><span class="koboSpan" id="kobo.89.1">(quantity)
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.90.1">if</span></span><span class="koboSpan" id="kobo.91.1"> metric == </span><span class="hljs-string"><span class="koboSpan" id="kobo.92.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.93.1">year"</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.94.1">or</span></span><span class="koboSpan" id="kobo.95.1"> metric == </span><span class="hljs-string"><span class="koboSpan" id="kobo.96.1">"years"</span></span><span class="koboSpan" id="kobo.97.1">:
        multiplier = </span><span class="hljs-number"><span class="koboSpan" id="kobo.98.1">356</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.99.1">elif</span></span><span class="koboSpan" id="kobo.100.1"> metric == </span><span class="hljs-string"><span class="koboSpan" id="kobo.101.1">"month"</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.102.1">or</span></span><span class="koboSpan" id="kobo.103.1"> metric == </span><span class="hljs-string"><span class="koboSpan" id="kobo.104.1">"months"</span></span><span class="koboSpan" id="kobo.105.1">:
        multiplier = </span><span class="hljs-number"><span class="koboSpan" id="kobo.106.1">30</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.107.1">return</span></span><span class="koboSpan" id="kobo.108.1"> quantity * multiplier
profiles_df[</span><span class="hljs-string"><span class="koboSpan" id="kobo.109.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.110.1">tenure"</span></span><span class="koboSpan" id="kobo.111.1">] = profiles_df[</span><span class="hljs-string"><span class="koboSpan" id="kobo.112.1">"joined"</span></span><span class="koboSpan" id="kobo.113.1">].apply(</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.114.1">lambda</span></span><span class="koboSpan" id="kobo.115.1"> x: extract_tenure(x))
profiles_df[</span><span class="hljs-string"><span class="koboSpan" id="kobo.116.1">"last_seen_days"</span></span><span class="koboSpan" id="kobo.117.1">] = profiles_df[</span><span class="hljs-string"><span class="koboSpan" id="kobo.118.1">"last_seen"</span></span><span class="koboSpan" id="kobo.119.1">].apply(</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.120.1">lambda</span></span><span class="koboSpan" id="kobo.121.1"> x: extract_last_seen(x))
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.122.1">We give the</span><a id="_idIndexMarker525"/><span class="koboSpan" id="kobo.123.1"> result in days. </span><span class="koboSpan" id="kobo.123.2">Let’s visualize the distribution of the number of days since the Masters and Contributors in the Notebooks category were last seen. </span><span class="koboSpan" id="kobo.123.3">For clarity, we removed the users who were not seen in the last 6 months. </span><span class="koboSpan" id="kobo.123.4">We consider these to be users not active currently, and some of them were last seen on the platform as long as 10 years ago.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.124.1">At the same time, the percentage of users not seen in the last 6 months (from Masters and Grandmasters in the Notebooks category) is 6%. </span><span class="koboSpan" id="kobo.124.2">For the rest of the 94% of Masters and Grandmasters in the Notebooks category, we show the distribution with respect to the number of days since last seen, as shown in</span><em class="italic"><span class="koboSpan" id="kobo.125.1"> Figure 11.1</span></em><span class="koboSpan" id="kobo.126.1">.</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.127.1"><img alt="" role="presentation" src="../Images/B20963_11_01.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.128.1">Figure 11.1: Distribution of the users by the number of days since they were last seen on the Kaggle platform</span></p>
<p class="normal"><span class="koboSpan" id="kobo.129.1">We can </span><a id="_idIndexMarker526"/><span class="koboSpan" id="kobo.130.1">easily see that most of the Masters and Grandmasters in Notebooks visit the platform daily (0 days since last seen means that they were active also on the current day). </span><span class="koboSpan" id="kobo.130.2">Being present daily is, therefore, an attribute of most of the successful Masters and Grandmasters. </span><span class="koboSpan" id="kobo.130.3">I can confirm with my personal experience that, on my path to becoming a Master and then a Grandmaster, I was almost active on the platform daily, creating new notebooks and using them to analyze datasets, preparing submissions for competitions as well as performing detailed analyses.</span></p>
<h1 class="heading-1" id="_idParaDest-149"><span class="koboSpan" id="kobo.131.1">Revisit and refine your work periodically</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.132.1">When I create a notebook, it is quite unusual to just put it aside and then start working on a new topic. </span><span class="koboSpan" id="kobo.132.2">Most of the time, I will return to it several times and add new ideas. </span><span class="koboSpan" id="kobo.132.3">In the first versions of the notebook, I try to focus on data exploration and really understand what is uniquely characteristic about the respective dataset (or datasets). </span><span class="koboSpan" id="kobo.132.4">In the next versions, I work on refining the graphics and extract maybe functions for data preparation, analysis, and visualization. </span><span class="koboSpan" id="kobo.132.5">I organize the code better, eliminating repetitive parts and eventually saving the generic parts in a utility script. </span><span class="koboSpan" id="kobo.132.6">The best part of using utility scripts is that you now have reusable code that can be used in multiple notebooks. </span><span class="koboSpan" id="kobo.132.7">When I create a utility script, I take steps to make the code more generic, customizable, and robust.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.133.1">Next, I refine the visual identity of the notebook as well. </span><span class="koboSpan" id="kobo.133.2">I check the unity of the composition, making changes to the style to adapt it better to the story that I want to create. </span><span class="koboSpan" id="kobo.133.3">Of course, as the notebook matures and gets closer to a stable version, I work further to improve the readability and really try to create a good narrative. </span><span class="koboSpan" id="kobo.133.4">There is no limit to revisions.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.134.1">I look also</span><a id="_idIndexMarker527"/><span class="koboSpan" id="kobo.135.1"> to the comments and try to address the critics but also apply suggestions for improvements, including new narrative elements. </span><span class="koboSpan" id="kobo.135.2">A good story needs a good reviewer, and most of the time, the readers of the notebook make excellent reviewers. </span><span class="koboSpan" id="kobo.135.3">Even if the comments are irrelevant or even negative, we always need to remain calm and composed, trying to get to the bottom of the issue: did we miss an important aspect in our analysis? </span><span class="koboSpan" id="kobo.135.4">Did we fail to pay the right attention to all data specifics? </span><span class="koboSpan" id="kobo.135.5">Are we using the right visualization tools? </span><span class="koboSpan" id="kobo.135.6">Is our narrative coherent? </span><span class="koboSpan" id="kobo.135.7">The best answer to a comment is, besides expressing your gratitude, to apply the suggestions of the commentor, when they make sense.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.136.1">Let’s apply this principle to one of the projects included in this book as well. </span><span class="koboSpan" id="kobo.136.2">In </span><em class="italic"><span class="koboSpan" id="kobo.137.1">Chapter 4</span></em><span class="koboSpan" id="kobo.138.1">, we learned to build rather complex graphs with multiple layers superimposed, with boroughs’ polygons and pubs or Starbucks coffee shop locations. </span><span class="koboSpan" id="kobo.138.2">In </span><em class="italic"><span class="koboSpan" id="kobo.139.1">Figure 11.2</span></em><span class="koboSpan" id="kobo.140.1">, we show one of the original maps. </span><span class="koboSpan" id="kobo.140.2">Upon selection of one of the Starbucks coffee shops, a popup shows the shop name and address. </span><span class="koboSpan" id="kobo.140.3">The map is great, but the popup doesn’t look quite right, does it? </span><span class="koboSpan" id="kobo.140.4">The text is not aligned, the size of the popup is smaller than needed to display all the information, and the look and feel don’t really seem aligned with the quality of the map.</span></p>
<p class="packt_figref"><span class="koboSpan" id="kobo.141.1"><img alt="" role="presentation" src="../Images/B20963_11_02.png"/></span></p>
<p class="packt_figref"><span class="koboSpan" id="kobo.142.1">Figure 11.2: London boroughs’ contour with the position of the Starbucks shops and a popup (the previous design)</span></p>
<p class="normal"><span class="koboSpan" id="kobo.143.1">We can improve</span><a id="_idIndexMarker528"/><span class="koboSpan" id="kobo.144.1"> this part of our design. </span><span class="koboSpan" id="kobo.144.2">In the first version of the code, the popup was defined by very simple HTML code, with only a few words in bold and new lines added. </span><span class="koboSpan" id="kobo.144.3">The following code snippet was used in </span><em class="italic"><span class="koboSpan" id="kobo.145.1">Chapter 4</span></em><span class="koboSpan" id="kobo.146.1"> to define a CircleMarker with a popup:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.147.1">for</span></span><span class="koboSpan" id="kobo.148.1"> _, r </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.149.1">in</span></span><span class="koboSpan" id="kobo.150.1"> coffee_df.iterrows():
    folium.CircleMarker(location=[r[</span><span class="hljs-string"><span class="koboSpan" id="kobo.151.1">'Latitude'</span></span><span class="koboSpan" id="kobo.152.1">], r[</span><span class="hljs-string"><span class="koboSpan" id="kobo.153.1">'Longitude'</span></span><span class="koboSpan" id="kobo.154.1">]],
                        fill=</span><span class="hljs-literal"><span class="koboSpan" id="kobo.155.1">True</span></span><span class="koboSpan" id="kobo.156.1">,
                        color=color_list[</span><span class="hljs-number"><span class="koboSpan" id="kobo.157.1">2</span></span><span class="koboSpan" id="kobo.158.1">],
                        fill_color=color_list[</span><span class="hljs-number"><span class="koboSpan" id="kobo.159.1">2</span></span><span class="koboSpan" id="kobo.160.1">],
                        weight=</span><span class="hljs-number"><span class="koboSpan" id="kobo.161.1">0.5</span></span><span class="koboSpan" id="kobo.162.1">,
                        radius=</span><span class="hljs-number"><span class="koboSpan" id="kobo.163.1">4</span></span><span class="koboSpan" id="kobo.164.1">,
                        popup=</span><span class="hljs-string"><span class="koboSpan" id="kobo.165.1">"&lt;strong&gt;Store Name&lt;/strong&gt;: &lt;font color='red'&gt;{}&lt;/font&gt;&lt;br&gt;&lt;strong&gt;Ownership Type&lt;/strong&gt;:{}&lt;br&gt;\</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.166.1">                        &lt;strong&gt;Street Address&lt;/strong&gt;: {}"</span></span><span class="koboSpan" id="kobo.167.1">.</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.168.1">format</span></span><span class="koboSpan" id="kobo.169.1">(r[</span><span class="hljs-string"><span class="koboSpan" id="kobo.170.1">'Store Name'</span></span><span class="koboSpan" id="kobo.171.1">], r[</span><span class="hljs-string"><span class="koboSpan" id="kobo.172.1">'Ownership Type'</span></span><span class="koboSpan" id="kobo.173.1">],r[</span><span class="hljs-string"><span class="koboSpan" id="kobo.174.1">'Street Address'</span></span><span class="koboSpan" id="kobo.175.1">])).add_to(m)
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.176.1">We can define the popup’s layout and content with more complex HTML code. </span><span class="koboSpan" id="kobo.176.2">The following code snippet is used to add a Starbucks store logo, the name of the store as a header, and, in an HTML table with background colors in harmony with the Starbucks colors, the brand, store number, ownership type, address, city, and postcode. </span><span class="koboSpan" id="kobo.176.3">We will split the function code into several segments to explain each part separately.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.177.1">The first part </span><a id="_idIndexMarker529"/><span class="koboSpan" id="kobo.178.1">of the function defines the URL for the Starbucks image. </span><span class="koboSpan" id="kobo.178.2">We use a Wikipedia image for the logo, but it is intentionally blurred in the forthcoming screenshots to adhere to copyright laws. </span><span class="koboSpan" id="kobo.178.3">Then, we define a few variables to keep the values of each column that we will include in the table. </span><span class="koboSpan" id="kobo.178.4">We also define the colors for the table background. </span><span class="koboSpan" id="kobo.178.5">The next code line is for the visualization of the Starbucks image:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.179.1">def</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.180.1">popup_html</span></span><span class="koboSpan" id="kobo.181.1">(</span><span class="hljs-params"><span class="koboSpan" id="kobo.182.1">row</span></span><span class="koboSpan" id="kobo.183.1">):
    store_icon = </span><span class="hljs-string"><span class="koboSpan" id="kobo.184.1">"https://upload.wikimedia.org/wikipedia/en/3/35/Starbucks_Coffee_Logo.svg"</span></span><span class="koboSpan" id="kobo.185.1">
    name = row[</span><span class="hljs-string"><span class="koboSpan" id="kobo.186.1">'Store Name'</span></span><span class="koboSpan" id="kobo.187.1">]
    brand = row[</span><span class="hljs-string"><span class="koboSpan" id="kobo.188.1">'Brand'</span></span><span class="koboSpan" id="kobo.189.1">]
    store_number = row[</span><span class="hljs-string"><span class="koboSpan" id="kobo.190.1">'Store Number'</span></span><span class="koboSpan" id="kobo.191.1">]
    ownership_type = row[</span><span class="hljs-string"><span class="koboSpan" id="kobo.192.1">'Ownership Type'</span></span><span class="koboSpan" id="kobo.193.1">]
    address = row[</span><span class="hljs-string"><span class="koboSpan" id="kobo.194.1">'Street Address'</span></span><span class="koboSpan" id="kobo.195.1">]
    city = row[</span><span class="hljs-string"><span class="koboSpan" id="kobo.196.1">'City'</span></span><span class="koboSpan" id="kobo.197.1">]
    postcode = row[</span><span class="hljs-string"><span class="koboSpan" id="kobo.198.1">'Postcode'</span></span><span class="koboSpan" id="kobo.199.1">]
    left_col_color = </span><span class="hljs-string"><span class="koboSpan" id="kobo.200.1">"#00704A"</span></span><span class="koboSpan" id="kobo.201.1">
    right_col_color = </span><span class="hljs-string"><span class="koboSpan" id="kobo.202.1">"#ADDC30"</span></span><span class="koboSpan" id="kobo.203.1">
    
    html = </span><span class="hljs-string"><span class="koboSpan" id="kobo.204.1">"""&lt;!DOCTYPE html&gt;</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.205.1">    &lt;html&gt;</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.206.1">    &lt;head&gt;</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.207.1">    &lt;center&gt;&lt;img src=\""""</span></span><span class="koboSpan" id="kobo.208.1"> + store_icon + </span><span class="hljs-string"><span class="koboSpan" id="kobo.209.1">"""\" alt="logo" width=100 </span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.210.1">=100 &gt;&lt;/center&gt;</span></span>
<span class="hljs-string"> </span>
<span class="hljs-string"><span class="koboSpan" id="kobo.211.1">    &lt;h4 style="margin-bottom:10"; width="200px"&gt;{}&lt;/h4&gt;"""</span></span><span class="koboSpan" id="kobo.212.1">.</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.213.1">format</span></span><span class="koboSpan" id="kobo.214.1">(name) + </span><span class="hljs-string"><span class="koboSpan" id="kobo.215.1">"""</span></span>
</code></pre>
<p class="normal"><span class="koboSpan" id="kobo.216.1">Next, we define the table. </span><span class="koboSpan" id="kobo.216.2">Each piece of information is displayed on a separate row in the table, with the right column holding the name of the variable and the left column holding the actual value. </span><span class="koboSpan" id="kobo.216.3">The information we include in the table is the name, brand, store number, address, city, and postcode:</span></p>
<pre class="programlisting code"><code class="hljs-code"> <span class="hljs-tag"><span class="koboSpan" id="kobo.217.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.218.1">head</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.219.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.220.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.221.1">table</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.222.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.223.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.224.1">"height: 126px; width: 350px;"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.225.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.226.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.227.1">tbody</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.228.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.229.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.230.1">tr</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.231.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.232.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.233.1">td</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.234.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.235.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.236.1">"background-color: "</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.237.1">""+ </span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.238.1">left_col_color</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.239.1"> +""";"&gt;&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.240.1">span</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.241.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.242.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.243.1">"color: #ffffff;"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.244.1">&gt;</span></span><span class="koboSpan" id="kobo.245.1">Brand</span><span class="hljs-tag"><span class="koboSpan" id="kobo.246.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.247.1">span</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.248.1">&gt;&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.249.1">td</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.250.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.251.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.252.1">td</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.253.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.254.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.255.1">"width: 150px;background-color: "</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.256.1">""+ </span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.257.1">right_col_color</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.258.1"> +""";"&gt;</span></span><span class="koboSpan" id="kobo.259.1">{}</span><span class="hljs-tag"><span class="koboSpan" id="kobo.260.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.261.1">td</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.262.1">&gt;</span></span><span class="koboSpan" id="kobo.263.1">""".format(brand) + """
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.264.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.265.1">tr</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.266.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.267.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.268.1">tr</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.269.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.270.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.271.1">td</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.272.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.273.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.274.1">"background-color: "</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.275.1">""+ </span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.276.1">left_col_color</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.277.1"> +""";"&gt;&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.278.1">span</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.279.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.280.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.281.1">"color: #ffffff;"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.282.1">&gt;</span></span><span class="koboSpan" id="kobo.283.1">Store Number</span><span class="hljs-tag"><span class="koboSpan" id="kobo.284.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.285.1">span</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.286.1">&gt;&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.287.1">td</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.288.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.289.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.290.1">td</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.291.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.292.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.293.1">"width: 150px;background-color: "</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.294.1">""+ </span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.295.1">right_col_color</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.296.1"> +""";"&gt;</span></span><span class="koboSpan" id="kobo.297.1">{}</span><span class="hljs-tag"><span class="koboSpan" id="kobo.298.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.299.1">td</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.300.1">&gt;</span></span><span class="koboSpan" id="kobo.301.1">""".format(store_number) + """
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.302.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.303.1">tr</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.304.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.305.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.306.1">tr</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.307.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.308.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.309.1">td</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.310.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.311.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.312.1">"background-color: "</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.313.1">""+ </span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.314.1">left_col_color</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.315.1"> +""";"&gt;&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.316.1">span</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.317.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.318.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.319.1">"color: #ffffff;"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.320.1">&gt;</span></span><span class="koboSpan" id="kobo.321.1">Ownership Type</span><span class="hljs-tag"><span class="koboSpan" id="kobo.322.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.323.1">span</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.324.1">&gt;&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.325.1">td</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.326.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.327.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.328.1">td</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.329.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.330.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.331.1">"width: 150px;background-color: "</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.332.1">""+ </span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.333.1">right_col_color</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.334.1"> +""";"&gt;</span></span><span class="koboSpan" id="kobo.335.1">{}</span><span class="hljs-tag"><span class="koboSpan" id="kobo.336.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.337.1">td</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.338.1">&gt;</span></span><span class="koboSpan" id="kobo.339.1">""".format(ownership_type) + """
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.340.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.341.1">tr</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.342.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.343.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.344.1">tr</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.345.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.346.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.347.1">td</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.348.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.349.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.350.1">"background-color: "</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.351.1">""+ </span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.352.1">left_col_color</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.353.1"> +""";"&gt;&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.354.1">span</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.355.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.356.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.357.1">"color: #ffffff;"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.358.1">&gt;</span></span><span class="koboSpan" id="kobo.359.1">Street Address</span><span class="hljs-tag"><span class="koboSpan" id="kobo.360.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.361.1">span</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.362.1">&gt;&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.363.1">td</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.364.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.365.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.366.1">td</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.367.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.368.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.369.1">"width: 150px;background-color: "</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.370.1">""+ </span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.371.1">right_col_color</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.372.1"> +""";"&gt;</span></span><span class="koboSpan" id="kobo.373.1">{}</span><span class="hljs-tag"><span class="koboSpan" id="kobo.374.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.375.1">td</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.376.1">&gt;</span></span><span class="koboSpan" id="kobo.377.1">""".format(address) + """
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.378.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.379.1">tr</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.380.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.381.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.382.1">tr</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.383.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.384.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.385.1">td</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.386.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.387.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.388.1">"background-color: "</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.389.1">""+ </span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.390.1">left_col_color</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.391.1"> +""";"&gt;&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.392.1">span</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.393.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.394.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.395.1">"color: #ffffff;"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.396.1">&gt;</span></span><span class="koboSpan" id="kobo.397.1">City</span><span class="hljs-tag"><span class="koboSpan" id="kobo.398.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.399.1">span</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.400.1">&gt;&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.401.1">td</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.402.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.403.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.404.1">td</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.405.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.406.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.407.1">"width: 150px;background-color: "</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.408.1">""</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.409.1">+ </span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.410.1">right_col_color</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.411.1"> +""";"&gt;</span></span><span class="koboSpan" id="kobo.412.1">{}</span><span class="hljs-tag"><span class="koboSpan" id="kobo.413.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.414.1">td</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.415.1">&gt;</span></span><span class="koboSpan" id="kobo.416.1">""".format(city) + """
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.417.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.418.1">tr</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.419.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.420.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.421.1">tr</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.422.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.423.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.424.1">td</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.425.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.426.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.427.1">"background-color: "</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.428.1">""+ </span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.429.1">left_col_color</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.430.1"> +""";"&gt;&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.431.1">span</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.432.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.433.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.434.1">"color: #ffffff;"</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.435.1">&gt;</span></span><span class="koboSpan" id="kobo.436.1">Postcode</span><span class="hljs-tag"><span class="koboSpan" id="kobo.437.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.438.1">span</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.439.1">&gt;&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.440.1">td</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.441.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.442.1">&lt;</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.443.1">td</span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="koboSpan" id="kobo.444.1">style</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.445.1">=</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.446.1">"width: 150px;background-color: "</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.447.1">""+ </span></span><span class="hljs-attr"><span class="koboSpan" id="kobo.448.1">right_col_color</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.449.1"> +""";"&gt;</span></span><span class="koboSpan" id="kobo.450.1">{}</span><span class="hljs-tag"><span class="koboSpan" id="kobo.451.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.452.1">td</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.453.1">&gt;</span></span><span class="koboSpan" id="kobo.454.1">""".format(postcode) + """
    </span><span class="hljs-tag"><span class="koboSpan" id="kobo.455.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.456.1">tr</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.457.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.458.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.459.1">tbody</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.460.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.461.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.462.1">table</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.463.1">&gt;</span></span>
<span class="hljs-tag"><span class="koboSpan" id="kobo.464.1">&lt;/</span></span><span class="hljs-name"><span class="koboSpan" id="kobo.465.1">html</span></span><span class="hljs-tag"><span class="koboSpan" id="kobo.466.1">&gt;</span></span><span class="koboSpan" id="kobo.467.1">
    """
    return html
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.468.1">Moving on, the following code is used to define the popup widget to be added to </span><code class="inlineCode"><span class="koboSpan" id="kobo.469.1">CircleMarker</span></code><span class="koboSpan" id="kobo.470.1">, replacing </span><a id="_idIndexMarker530"/><span class="koboSpan" id="kobo.471.1">the former popup, defined with a string format. </span><span class="koboSpan" id="kobo.471.2">Notice that we replaced the former code for the popup with a call to the newly defined </span><code class="inlineCode"><span class="koboSpan" id="kobo.472.1">popup</span></code><span class="koboSpan" id="kobo.473.1"> function:</span></p>
<pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.474.1">for</span></span><span class="koboSpan" id="kobo.475.1"> _, r </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.476.1">in</span></span><span class="koboSpan" id="kobo.477.1"> coffee_df.iterrows():
    html = popup_html(r)
    popup = folium.Popup(folium.Html(html, script=</span><span class="hljs-literal"><span class="koboSpan" id="kobo.478.1">True</span></span><span class="koboSpan" id="kobo.479.1">), max_width=</span><span class="hljs-number"><span class="koboSpan" id="kobo.480.1">500</span></span><span class="koboSpan" id="kobo.481.1">)
    folium.CircleMarker(location=[r[</span><span class="hljs-string"><span class="koboSpan" id="kobo.482.1">'Latitude'</span></span><span class="koboSpan" id="kobo.483.1">], r[</span><span class="hljs-string"><span class="koboSpan" id="kobo.484.1">'Longitude'</span></span><span class="koboSpan" id="kobo.485.1">]],
                        fill=</span><span class="hljs-literal"><span class="koboSpan" id="kobo.486.1">True</span></span><span class="koboSpan" id="kobo.487.1">,
                        color=color_list[</span><span class="hljs-number"><span class="koboSpan" id="kobo.488.1">2</span></span><span class="koboSpan" id="kobo.489.1">],
                        fill_color=color_list[</span><span class="hljs-number"><span class="koboSpan" id="kobo.490.1">2</span></span><span class="koboSpan" id="kobo.491.1">],
                        weight=</span><span class="hljs-number"><span class="koboSpan" id="kobo.492.1">0.5</span></span><span class="koboSpan" id="kobo.493.1">,
                        radius=</span><span class="hljs-number"><span class="koboSpan" id="kobo.494.1">4</span></span><span class="koboSpan" id="kobo.495.1">,
                        popup = popup).add_to(m)
</span></code></pre>
<p class="normal"><span class="koboSpan" id="kobo.496.1">In </span><em class="italic"><span class="koboSpan" id="kobo.497.1">Figure 11.3</span></em><span class="koboSpan" id="kobo.498.1">, we show an improved version of the popup, where we use HTML code to generate a higher-quality popup:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.499.1"><img alt="" role="presentation" src="../Images/B20963_11_03.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.500.1">Figure 11.3: London boroughs’ contour with the position of Starbucks shops and a popup (the current, new design)</span></p>
<h1 class="heading-1" id="_idParaDest-150"><span class="koboSpan" id="kobo.501.1">Recognize other’s contributions, and add your personal touch</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.502.1">To elevate your </span><a id="_idIndexMarker531"/><span class="koboSpan" id="kobo.503.1">notebooks on platforms like Kaggle, it’s crucial to engage in a continuous process of improvement and innovation, drawing on both community feedback and the work of others. </span><span class="koboSpan" id="kobo.503.2">Regularly revisiting and updating your notebooks based on constructive comments demonstrates a commitment to excellence. </span><span class="koboSpan" id="kobo.503.3">You can also look at what others have done. </span><span class="koboSpan" id="kobo.503.4">Just forking their work will not bring you too many upvotes. </span><span class="koboSpan" id="kobo.503.5">However, if you start from other users’ work and bring new insights by expanding their observations and improving on a visualization or interpretation of the results, it can help you to rise in the ranks.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.504.1">Moreover, it is extremely important to correctly state when you are starting from somebody’s else work, and be clear on your own contribution. </span><span class="koboSpan" id="kobo.504.2">If you want to combine your notebook ideas from various sources, it is recommended to fork the one from which you borrow the most content. </span><span class="koboSpan" id="kobo.504.3">Carefully credit everybody for the parts of their work that you include in your own notebook. </span></p>
<p class="normal"><span class="koboSpan" id="kobo.505.1">When adopting ideas from multiple sources, spend some time aligning notations and programming conventions, functions, classes, and utility scripts, ensuring that you will not create a Frankenstein-like notebook but one where the code feels unified.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.506.1">Of course, even more important is to work to create unity with respect to a visualization’s look and feel, and to the style across your notebook. </span><span class="koboSpan" id="kobo.506.2">Users of the platform will return to and appreciate your work for its quality but also for your personal touch. </span><span class="koboSpan" id="kobo.506.3">Keep your personal touch even when you start from another user’s notebook by forking it.</span></p>
<h1 class="heading-1" id="_idParaDest-151"><span class="koboSpan" id="kobo.507.1">Be quick: don’t wait for perfection</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.508.1">Some</span><a id="_idIndexMarker532"/><span class="koboSpan" id="kobo.509.1"> of the fastest-rising new Kaggle Notebook Grandmasters have something in common: they start analyzing data and publish an exploratory data analysis or a baseline model solution within just a few days, sometimes just a few hours, after a new competition is launched. </span><span class="koboSpan" id="kobo.509.2">They are among the first to claim a new territory in the ever-changing data exploration landscape of Kaggle. </span><span class="koboSpan" id="kobo.509.3">With this, they focus the attention of their followers on their work, they receive the most comments that will help them improve their work, and they will have their work forked (for convenience) by many others. </span><span class="koboSpan" id="kobo.509.4">This, in turn, increases the virality of their notebooks.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.510.1">However, if you wait for too long, you might find that your analysis idea was also thought of by others, and by the time you have finally refined it enough to meet your standards, a sizable group of others has already explored it, published it, and got recognition for it. </span><span class="koboSpan" id="kobo.510.2">Sometimes, the key is speed; sometimes, it is originality. </span><span class="koboSpan" id="kobo.510.3">Successful Kaggle Notebook Grandmasters are, in many cases, early birds with respect to tackling new competition data.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.511.1">It is the same with datasets and models: the ones that publish first and then, following the previous recommendation, continue to refine and improve their original work get more followers and feedback from comments, which they can apply for further improvements, and benefit from the virality factor on the platform.</span></p>
<h1 class="heading-1" id="_idParaDest-152"><span class="koboSpan" id="kobo.512.1">Be generous: share your knowledge</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.513.1">The ascent of some of the most popular Kaggle Notebook Grandmasters can be attributed not only to their ability to create beautifully narrated notebooks but also to their willingness to share significant knowledge. </span><span class="koboSpan" id="kobo.513.2">By providing high-quality, well-explained model baselines, these Grandmasters have garnered widespread appreciation from their followers, earning upvotes that have solidified their status and propelled them up the ranks in the Notebooks category.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.514.1">On numerous</span><a id="_idIndexMarker533"/><span class="koboSpan" id="kobo.515.1"> occasions, users on the Kaggle platform have shared insights into data that have been instrumental in significantly improving models for competition submissions. </span><span class="koboSpan" id="kobo.515.2">By offering useful starting points, highlighting important data features, or suggesting methods to tackle new types of problems, these users have strengthened the community and aided their followers in enhancing their skills. </span><span class="koboSpan" id="kobo.515.3">Apart from gaining recognition through notebooks, which are directly rewarded with upvotes and medals, these Grandmasters also disseminate valuable information through discussions and datasets. </span><span class="koboSpan" id="kobo.515.4">They create and publish additional datasets that aid competitors in refining their models and provide recommendations in discussion topics related to specific competitions or datasets.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.516.1">Many successful Kaggle Notebook Grandmasters, such as Bojan Tunguz, Abhishek Thakur, and Chris Deotte, who are quadruple Grandmasters (having achieved the highest tier in all categories), share their knowledge prolifically in both discussions and datasets. </span><span class="koboSpan" id="kobo.516.2">An exemplary figure among long-tenured Kaggle Grandmasters is Gilberto Titericz (Giba), a former #1 in Competitions, known for his extraordinary generosity in sharing insights through his notebooks and offering fresh perspectives during high-profile featured competitions. </span><span class="koboSpan" id="kobo.516.3">These top Kagglers demonstrate that being active across all categories not only enhances their profiles in each individual category but also contributes significantly to their overall success. </span><span class="koboSpan" id="kobo.516.4">Their constant presence on the platform, coupled with their humility and willingness to answer questions and assist others in the discussion sections, embodies the spirit of generosity and collaboration. </span><span class="koboSpan" id="kobo.516.5">Remembering the assistance they received on their own journeys to the top, they find fulfillment in helping others progress, which is a key factor in maintaining their eminent positions in the Kaggle community.</span></p>
<h1 class="heading-1" id="_idParaDest-153"><span class="koboSpan" id="kobo.517.1">Step outside your comfort zone</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.518.1">To stay on top is more difficult than to get there. </span><span class="koboSpan" id="kobo.518.2">Kaggle is a very competitive collaborative and competition platform, in one of the fastest growing and changing fields in the information technology industry, machine learning. </span><span class="koboSpan" id="kobo.518.3">This field changes at a pace that is hard to keep up with.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.519.1">Maintaining your position among the highest-ranked Kagglers can be a difficult endeavor. </span><span class="koboSpan" id="kobo.519.2">In Notebooks especially, where progress can be made faster than in Competitions (and the competition is very strong), very talented new users frequently appear, challenging those ranked in the highest positions. </span><span class="koboSpan" id="kobo.519.3">To stay on top, you need to reinvent yourself constantly, and you cannot do this unless you go outside your comfort zone. </span><span class="koboSpan" id="kobo.519.4">Try to learn something new every day, and do it right away.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.520.1">Push</span><a id="_idIndexMarker534"/><span class="koboSpan" id="kobo.521.1"> yourself, stay motivated, and engage yourself to do what you think is difficult. </span><span class="koboSpan" id="kobo.521.2">You also need to explore the new features on the platform, which offers you new opportunities to create educative and engaging content for those Kagglers interested in the latest applications of Generative AI. </span></p>
<p class="normal"><span class="koboSpan" id="kobo.522.1">Now, you can combine datasets and models with notebooks to create original and informative notebooks that illustrate, for example, how to create a retrieval augmented generation system (see </span><em class="italic"><span class="koboSpan" id="kobo.523.1">Reference 2</span></em><span class="koboSpan" id="kobo.524.1">). </span><span class="koboSpan" id="kobo.524.2">Such a system combines the powerful “semantic brain” of large language models with the flexibility in indexing and retrieving information from vector databases, and the versatility of task-chaining frameworks such as LangChain or LlamaIndex. </span><span class="koboSpan" id="kobo.524.3">In </span><em class="italic"><span class="koboSpan" id="kobo.525.1">Chapter 10</span></em><span class="koboSpan" id="kobo.526.1">, we explored the rich potential offered by Kaggle models to build such powerful applications.</span></p>
<h1 class="heading-1" id="_idParaDest-154"><span class="koboSpan" id="kobo.527.1">Be grateful</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.528.1">Gratitude plays a crucial, albeit often overlooked, role in advancing through the ranks to the Kaggle Notebook Grandmaster tier and earning a top spot on the leaderboard. </span><span class="koboSpan" id="kobo.528.2">It’s not just about creating excellent content with a compelling narrative; showing appreciation for the community’s support is equally important.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.529.1">As you become active on Kaggle and gain followers who support your work through upvotes and insightful comments, acknowledging and expressing gratitude for this support is key. </span><span class="koboSpan" id="kobo.529.2">Responding thoughtfully to comments, recognizing valuable suggestions, and providing constructive feedback to those who fork your data are effective ways to show gratitude. </span><span class="koboSpan" id="kobo.529.3">While forks may not directly contribute to earning medals as upvotes do, they increase the visibility and impact of your work. </span><span class="koboSpan" id="kobo.529.4">Embracing imitation as a sincere form of appreciation, and being thankful for the community engagement it brings, strengthens your presence and fosters a supportive, collaborative environment on the platform.</span></p>
<h1 class="heading-1" id="_idParaDest-155"><span class="koboSpan" id="kobo.530.1">Summary</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.531.1">In this last chapter, we reviewed a few of the “secrets” of the authors of great notebook content on Kaggle. </span><span class="koboSpan" id="kobo.531.2">They have in common a few qualities: they have a constant presence on the platform, start early working on a new dataset or competition dataset, continuously improve their work, recognize and appreciate quality content created by others, are continuous learners, are humble, share their knowledge, and constantly work outside their comfort zone. </span><span class="koboSpan" id="kobo.531.3">These are not aims on their own, but merely symptoms of the passion and constant interest in all there is to know about analyzing data and creating great predictive models.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.532.1">As we wrap up this book and leave you to embark on your Kaggle Notebook adventures, I wish you a safe journey. </span><span class="koboSpan" id="kobo.532.2">I hope you enjoyed reading, and please remember that the world of data science is continuously changing. </span><span class="koboSpan" id="kobo.532.3">Keep experimenting, stay curious, and dive into data with confidence and skill. </span><span class="koboSpan" id="kobo.532.4">May your future Kaggle Notebook be filled with incredible insights, eureka moments, and maybe a bit of head-scratching too. </span><span class="koboSpan" id="kobo.532.5">Happy coding!</span></p>
<h1 class="heading-1" id="_idParaDest-156"><span class="koboSpan" id="kobo.533.1">References</span></h1>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1"><span class="koboSpan" id="kobo.534.1">Meta Kaggle-Master Achievements Snapshot, Kaggle Datasets: </span><a href="https://www.kaggle.com/datasets/steubk/meta-kagglemaster-achievements-snapshot"><span class="url"><span class="koboSpan" id="kobo.535.1">https://www.kaggle.com/datasets/steubk/meta-kagglemaster-achievements-snapshot</span></span></a></li>
<li class="numberedList"><span class="koboSpan" id="kobo.536.1">Gabriel Preda, RAG using Llama 2, LangChain and ChromaDB, Kaggle Notebooks: </span><a href="https://www.kaggle.com/code/gpreda/rag-using-llama-2-langchain-and-chromadb"><span class="url"><span class="koboSpan" id="kobo.537.1">https://www.kaggle.com/code/gpreda/rag-using-llama-2-langchain-and-chromadb</span></span></a></li>
</ol>
<h1 class="heading-1"><span class="koboSpan" id="kobo.538.1">Join our book’s Discord space</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.539.1">Join our Discord community to meet like-minded people and learn alongside more than 5000 members at:</span></p>
<p class="normal"><a href="https://packt.link/kaggle"><span class="url"><span class="koboSpan" id="kobo.540.1">https://packt.link/kaggle</span></span></a></p>
<p class="normal"><span class="koboSpan" id="kobo.541.1"><img alt="" role="presentation" src="../Images/QR_Code9220780366773140.png"/></span></p>
</div>
</body></html>