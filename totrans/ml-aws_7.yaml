- en: '>'
  prefs: []
  type: TYPE_NORMAL
- en: Appendix A
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: About
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This section is included to assist the students to perform the activities present
    in the book. It includes detailed steps that are to be performed by the students
    to complete and achieve the objectives of the book.
  prefs: []
  type: TYPE_NORMAL
- en: 'Chapter 1: Introduction to Amazon Web Services'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Activity 1: Importing and exporting the data into S3 with the CLI.'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Verify the configuration is correct by executing, "`aws s3 ls`" to output your
    bucket name (bucket name will be unique):![Figure 1.34: Command line](img/image0024.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 1.34: Command line'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Execute "aws s3 ls <bucket-name>" to output the text file `pos_sentiment__leaves_of_grass.txt`"
    in the bucket.![Figure 1.35: Command line](img/image0037.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 1.35: Command line'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Create a new S3 bucket with the following command (to note: your bucket name
    needs to be unique. Refer to the S3 ["Rules for Bucket Naming](https://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html)"
    for specific details):![Figure 1.36: Command line](img/image0044.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 1.36: Command line'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'In the command prompt, navigate to the "`neg_sentiment__dracula.txt`" location
    Execute, "`aws s3 cp neg_sentiment__dracula.txt`" to import the text file to your
    S3 bucket.![Figure 1.37: Command line](img/image0064.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 1.37: Command line'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Navigate to the "`peter_pan.txt`" file location with your command line. Import
    the file "`peter_pan.txt`" to your S3 bucket (named "`aws-test-ml-and-ai-two`"
    in this example) with the following command:![Figure 1.38: Command line](img/image0085.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 1.38: Command line'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Navigate to your Desktop in the command line. Create a new local folder named
    "`s3_exported_files`" with the command "`mkdir s3_exported_files`"![Figure 1.39:
    Command line](img/image0115.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 1.39: Command line'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Next, recursively export both files ("`neg_sentiment__dracula.txt`" and "`peter_pan.txt`")
    from the S3 bucket to your local directory with the "- -recursive" parameter.
    See below for the command''s execution.![Figure 1.40: Command line](img/image0124.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 1.40: Command line'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Verify the objects were exported successfully to your local folder with the,
    "`dir`" command (see below):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 1.8: Output](img/image0144.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 1.41: Output'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Activity 2: Test Amazon Comprehends API features.'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: In this section, we will learn about display text analysis output using a partial
    text file input in the API explorer. We will be exploring API's is a skill to
    save development time by making sure the output is in a desired format for your
    project. Thus, we will test Comprehend's text analysis features.
  prefs: []
  type: TYPE_NORMAL
- en: We will consider an example suppose you are an entrepreneur creating a chatbot.
    You identified a business topic and corresponding text documents with content
    that will allow the chatbot to make your business successful. Your next step is
    to identify/verify an AWS service to parse the text document for sentiment, language,
    key phrases, and entities. Before investing time in writing a complete program,
    you want to test the AWS service's features via the AWS management console's interface.
    To ensure that it happen correctly, you will need to have search the web for an
    article (written in English or Spanish) that contains a subject matter (sports,
    movies, current events, etc.) that you are interested. And, also AWS Management
    Console accessible via the root user's account
  prefs: []
  type: TYPE_NORMAL
- en: You are aware exploring API's is a skill to save development time by making
    sure the output is in a desired format for your project.
  prefs: []
  type: TYPE_NORMAL
- en: Click in the `Search` bar of AWS Services to search the service name![Figure
    1.42:Searching of AWS Service](img/image0164.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 1.42: Searching of AWS Service'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Search the `Amazon Comprehend` option and select the option you will be directed.
    Get started screen.![Figure 1.10: Selecting the Service](img/image0184.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 1.43: Selecting the Service'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'You will be directed to the `API explorer`. Navigation to Topic modeling and
    Documentation. The middle is a GUI to explore the API, and the right side provides
    real-time output for text input.![Figure 1.44: API Explorer ](img/image0204.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 1.44: API Explorer'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Click clear text to clear all default services. Navigate to open the following
    URL in a new tab [http://www.gutenberg.org/cache/epub/1322/pg1322.txt](http://www.gutenberg.org/cache/epub/1322/pg1322.txt)![Figure
    1.45: API Explorer Screen](img/image0224.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 1.45: API Explorer Screen'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Copy the first poem, and paste it in the Explorer and click Analyze to see
    the output![Figure 1.46: Analyzing the Output ](img/image0244.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 1.46: Analyzing the Output'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: Review the right side of the screen for Entity, Key phrases, Language, and scroll
    down to view Sentiment.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 1.47: Result](img/image0263.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 1.47: Result'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: You now know how to explore an API, and how to display sentiment output for
    the same.
  prefs: []
  type: TYPE_NORMAL
- en: 'Chapter 2: Summarizing Text Documents Using NLP'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Activity 3: Integrating Lambda with Amazon Comprehend to perform text analysis'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Next, we will upload the "`test_s3trigger_configured.txt`" file to our S3 bucket
    to verify the lambda s3_trigger function was configured successfully.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Navigate to the s3 page: [https://console.aws.amazon.com/s3/](https://console.aws.amazon.com/s3/)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click the bucket name you are using to test the `s3_trigger` function (in my
    case: "`aws-ml-s3-trigger`").![Figure 2.37: S3 bucket list](img/image0284.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 2.37: S3 bucket list'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: '**Click** Upload.![Figure 2.38: S3 bucket list Upload screen](img/image0303.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 2.38: S3 bucket list Upload screen'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'The following screen will display.![Figure 2.39: S3 Upload bucket "add files"
    screen.](img/image0323.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 2.39: S3 Upload bucket "add files" screen.'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: '**Click** Add files.![Figure 2.40: S3 Add files selection screen.](img/image0343.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 2.40: S3 Add files selection screen.'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: Navigate to the "`test_s3trigger_configured.txt`" file location. Select the
    file.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Navigate** to the text file''s location and open the file. The file contains
    the following text:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '"I am a test file to verify the s3 trigger was successfully configured!"'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Before we execute the s3_trigger, consider the output based on the following
    aspects of the text: sentiment (positive, negative, or neutral), entities (quantity,
    person, place, etc.), and key phrases.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_IND
  - PREF_H4
  type: TYPE_NORMAL
- en: 'The "test_s3trigger_configured.txt" is available at the following GitHub repository:
    [https://github.com/TrainingByPackt/Machine-Learning-with-AWS/blob/master/lesson2/topic_c/test_s3trigger_configured.txt](https://github.com/TrainingByPackt/Machine-Learning-with-AWS/blob/master/lesson2/topic_c/test_s3trigger_configured.txt)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Click **Upload**.![Figure 2.41: S3 file added to bucket for Lambda trigger
    test.](img/image0363.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 2.41: S3 file added to bucket for Lambda trigger test'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Navigate back to the `s3_trigger`. **Click** Monitoring![Figure 2.42: Select
    Monitoring tab](img/image0382.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 2.42: Select Monitoring tab'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Click View logs in CloudWatch.![Figure 2.43: Select the View logs in CloudWatch](img/image0401.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 2.43: Select the View logs in CloudWatch'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Click on **the Log Stream**.![Figure 2.44: Select the Log Stream](img/image0422.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 2.44: Select the Log Stream'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Select the circle option next to Text to expand the output:![Figure 2.9: Click
    the circle option to expand the lambda output](img/image0442.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 2.9: Click the circle option to expand the lambda output'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Below is the first few lines of the output, and to see the entire output you
    need to Scroll down to view all of the results (see below). We will interpret
    the total output in the next step.![Figure 2.45: The top portion of the s3_trigger  output](img/image0462.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 2.45: The top portion of the s3_trigger output'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: '**Sentiment_response** -> Classified as 60.0% likely to be Positive'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Sentiment_response:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '{''Sentiment'': ''POSITIVE'',''SentimentScore'':{''Positive'': 0.6005121469497681,''Negative'':
    0.029164031147956848, ''Neutral'': 0.3588017225265503, ''Mixed'': 0.01152205839753151},'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**entity_response** --> Classified as 70.5% likely the type is Quantity'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'entity_response:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '{Entities'':[{''Score'':0.7053232192993164, ''Type'': ''QUANTITY'',''Text'':
    ''3 trigger'', ''BeginOffset'': 35, ''EndOffset'': 44}],'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**key_phases_response** -> Classified as 89.9% likely "a test file" and 98.5%
    likely ''the s3 trigger" are the key phrases.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'key_phases_response:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '{''KeyPhrases'': [{''Score'': 0.8986637592315674, ''Text'': ''a test file'',
    ''BeginOffset'': 8, ''EndOffset'': 19}, {''Score'': 0.9852105975151062, ''Text'':
    ''the s3 trigger'', ''BeginOffset'': 30, ''EndOffset'': 44}],'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Chapter 3: Perform Topic Modeling and Theme Extraction'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Activity 4: Perform Topic modeling on a set of documents with unknown topics'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Navigate to following link for obtaining the text data file that contain negative
    review comments [https://github.com/TrainingByPackt/Machine-Learning-with-AWS/blob/master/lesson3/activity/localfoldernegative_movie_review_files/cv000_29416.txt](https://github.com/TrainingByPackt/Machine-Learning-with-AWS/blob/master/lesson3/activity/localfoldernegative_movie_review_files/cv000_29416.txt)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Navigate to S3: [https://s3.console.aws.amazon.com/s3/home](https://s3.console.aws.amazon.com/s3/home)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click the bucket for the "`input-for-topic-modeling`".![Figure 3.43: S3 home
    screen for ''input-for-topic-modeling''](img/image0481.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.43: S3 home screen for ''input-for-topic-modeling'''
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Click Create folder.![Figure 3.44: Click Create folder](img/image050.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.44: Click Create folder'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Type "`negative_movie_review_files`", and click `text_files_to_s3.py` and paste
    it into the editor. The source code is available via GitHub in the following repository:
    [https://github.com/TrainingByPackt/Machine-Learning-with-AWS/blob/master/lesson3/activity/text_files_to_s3.py](https://github.com/TrainingByPackt/Machine-Learning-with-AWS/blob/master/lesson3/activity/text_files_to_s3.py)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Firstly, you will import the os and boto3 packages using the following comment
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Next, type in your unique bucket name.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Next, get the working directory of the local path to the text files:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Create a list of all text files:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Iterate on all files, and upload each to s3:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Next, in your command prompt, navigate into to the "`activity__topic_modeling_on_documents`"
    directory and execute the code with the following: python `text_files_to_s3.py`'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The result is 1000 text files uploaded to the S3 `negative_movie_review_files`
    folder. See below for the top S3 output (see below):![Figure 3.47: negative_movie_review_files
    in S3](img/image054.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.47: negative_movie_review_files in S3'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Next, navigate to AWS Comprehend. Click the comprehend link: [https://console.aws.amazon.com/comprehend/home](https://console.aws.amazon.com/comprehend/home).![Figure
    3.48: Amazon Comprehend home screen](img/image056.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.48: Amazon Comprehend home screen'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Now, click on the **Organization**.![Figure 3.49: Select Organization](img/image058.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.49: Select Organization'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Now, click on the Create job.![Figure 3.50: Click Create job](img/image060.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.50: Click Create job'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Now, type "`unknown_topic_structure_job`" in the Name input field.![Figure
    3.51: Enter ''unknown_topic_strucutre_job''](img/image062.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.51: Enter ''unknown_topic_strucutre_job'''
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Now, scroll down to the Choose input data section, and click Search.![Figure
    3.52: Select Search button](img/image064.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.52: Select Search button'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Click the arrow next to bucket you selected to input files for topic modeling
    ("`aws-ml-input-for-topic-modeling`").![Figure 3.53: Expand S3 bucket sub-folders](img/image066.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.53: Expand S3 bucket sub-folders'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Click the circle next to the "`negative_movie_review_files`" folder.![Figure
    3.54: Select the negative_movie_review_files folder](img/image068.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.54: Select the negative_movie_review_files folder'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Now, click Select to choose the file.![Figure 3.55: Click the Select button](img/image070.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.55: Click the Select button'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'You will be redirected to the Amazon Comprehend main page. Select "**One document
    per file**" selection from the Input format drop down.![Figure 3.56: Select One
    document per file option](img/image072.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.56: Select One document per file option'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Next, enter 40 in the Number of topics input field.![Figure 3.57: Enter 40
    topics](img/image074.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.57: Enter 40 topics'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Scroll down to the Choose output location, and click Search![Figure 3.58: Click
    Search](img/image076.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.58: Click Search'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Select the output bucket you uniquely named for the topic modeling output.![Figure
    3.59: Select the S3 bucket for the topic modeling outtput](img/image078.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.59: Select the S3 bucket for the topic modeling outtput'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Click on the Select button.![Figure 3.60: Confirm by clicking the Select button](img/image080.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.60: Confirm by clicking the Select button'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Click the dropdown and select the "`AmazonComprehendServiceRole-myTopicModeingRole`"
    IAM role.![Figure 3.61: Select the existing IAM role](img/image082.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.61: Select the existing IAM role'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Click on **Create** job button.![Figure 3.62: Click Create job'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/image084.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Figure 3.62: Click Create job'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'The topic modeling job status will first display "**Submitted**."![Figure 3.63:
    Status ''Submitted"'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/image088.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Figure 3.63: Status ''Submitted"'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'The topic modeling job status will next display "**In progress**". The topic
    modeling job duration is about 6 minutes.![Figure 3.64: "In progress" status](img/image0881.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.64: "In progress" status'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'When the status changes to "Completed." Click the "`unknown_topic_structure_job`"
    link.![Figure 3.65: Select the hyperlinked topic modeling link](img/image090.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.65: Select the hyperlinked topic modeling link'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Scroll down and click the topic modeling output hyperlink (*yours will display
    a different unique topic modeling job alphanumeric character string).![Figure
    3.66: Click the topic modeling output S3 location'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '](img/image092.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Figure 3.66: Click the topic modeling output S3 location'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'You will be directed to the S3 output folder for the topic modeling job. Click
    the hyperlinked folder.![Figure 3.67: Hyperlinked folder location](img/image094.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.67: Hyperlinked folder location'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Click the output folder.![Figure 3.68: Click output](img/image096.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.68: Click output'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Click the `output.tar.gz` file.![Figure 3.69: Click output.tar.gz file](img/image098.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.69: Click output.tar.gz file'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Click on Download as.![Figure 3.70: Click Download as](img/image100.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.70: Click Download as'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Right-click the `output.tar.gz` file and click **Save** link as…![Figure 3.71:
    Select Save link as...](img/image102.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.71: Select Save link as...'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Select the Desktop and click Save.![Figure 3.72: Click Save](img/image104.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.72: Click Save'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Navigate to the Desktop. Right-click the output.tar.gz file and select **Extract
    Here**. Right-click the output.tar file and select Extract Here![Figure 3.73:
    Select Extract Here](img/image106.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 3.73: Select Extract Here'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'The result is two CSV files: `doc-topics.csv` and `topic-terms.csv`. Click
    and download the topic modeling output.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'For Reference the extracted CSV files are available via the following GitHub
    directory:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[https://github.com/TrainingByPackt/Machine-Learning-with-AWS/blob/master/lesson3/activity/SOLUTION__topic_modeling_output/doc-topics.csv](https://github.com/TrainingByPackt/Machine-Learning-with-AWS/blob/master/lesson3/activity/SOLUTION__topic_modeling_output/doc-topics.csv)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[https://github.com/TrainingByPackt/Machine-Learning-with-AWS/blob/master/lesson3/activity/SOLUTION__topic_modeling_output/topic-terms.csv](https://github.com/TrainingByPackt/Machine-Learning-with-AWS/blob/master/lesson3/activity/SOLUTION__topic_modeling_output/topic-terms.csv)'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_IND
  - PREF_H4
  type: TYPE_NORMAL
- en: For this step, you may either follow along the exercise and type in the code
    or obtain it from the source code folder in the file `local_csv_to_s3_for_analysis.py`
    and paste it into an editor. For reference, the source code is available via GitHub
    in the following repository:[https://github.com/TrainingByPackt/Machine-Learning-with-AWS/blob/master/lesson3/activity/local_csv_to_s3_for_analysis.py](https://github.com/TrainingByPackt/Machine-Learning-with-AWS/blob/master/lesson3/activity/local_csv_to_s3_for_analysis.py)
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Firstly, we will Import boto3
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Next, import pandas
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Create the S3 client object.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Next, create a unique name for the s3 bucket to store your source CSV files.
    Here, the selected "`unknown-tm-analysis`" but you will need to create a unique
    name.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Next, create a new bucket.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Create a list of the CSV file names to import.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Iterate on each file to upload to S3
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Next, check if the filename is '`doc-topics.csv`'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Now, get the `doc-topics.csv` file object and assign it to the '`obj`' variable.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Next, read the csv obj and assign it to the `doc_topics variable`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Merge files on topic column to obtain the most common terms per document.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Print the `merged_df` to the console
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Next, navigate to the location of the CSV''s in a command prompt, and execute
    the code with the following command:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The console output is a merged dataframe that provides the docnames with their
    respective terms and the term''s weights (see below):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 3.74: Activity merged topic modeling output](img/image108.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.74: Activity merged topic modeling output'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Chapter 4: Creating a Chatbot with Natural Language'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Activity 5: Creating a custom bot and configure the bot'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If you are creating your first bot, choose **Get Started**. Otherwise, choose Bots,
    and then choose **Create**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'On the **Create** your **Lex bot** page, choose Custom bot and provide the
    following information:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**App name**: PizzaOrderingBot'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Output voice**: Salli'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Session timeout** : 5 minutes.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Child-Directed**: Choose the appropriate response.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Choose **Create**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The console sends Amazon Lex a request to create a new bot. Amazon Lex sets
    the bot version to `$LATEST`. After creating the bot, Amazon Lex shows the bot `Editortab`:![Figure
    4.50: EditorTab](img/image109.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 4.50: EditorTab'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: In the Amazon Lex console, choose the plus sign (+) next to Intents, and then
    choose **Create** new intent.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the `OrderPizza`), and then choose **Add**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'In the left menu, choose the plus sign (**+**) next to Slot types. In the **Add**
    slot type dialog box, add the following:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Slot type name** – Crusts'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Description** – Available crusts'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Choose Restrict to Slot values and Synonyms
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Value** – Type thick. Press tab and in the Synonym field type stuffed. Choose
    the plus sign (+). Type thin and then choose the plus sign (**+**) again.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The dialog should look like this:'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Figure 4.51: Dialog box for slot](img/image110.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 4.51: Dialog box for slot'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Choose **Add slot to intent**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: On the `slotOne` to `crust`. Change the prompt to `What kind of crust would
    you like`?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Repeat Step 1 through Step 4 using the values in the following table:![Figure
    4.53: Value for slot and prompt](img/image112.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 4.53: Value for slot and prompt'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'On the OrderPizza configuration page, configure the intent as follows:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Sample utterances – Type the following strings. The curly braces {} enclose
    slot names.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: I want to order pizza please
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: I want to order a pizza
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: I want to order a {pizzaKind} pizza
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: I want to order a {size} {pizzaKind} pizza
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: I want a {size} {crust} crust {pizzaKind} pizza
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Can I get a pizza please
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Can I get a {pizzaKind} pizza
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Can I get a {size} {pizzaKind} pizza
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Lambda initialization and validation** – Leave the default setting.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Confirmation prompt** – Leave the default setting.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`Lambda function`.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose `PizzaOrderProcessor`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If the `OrderPizza` intent permission to call the `PizzaOrderProcessorLambda`
    function.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Leave **None** selected.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The intent should look like the following:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Figure 4.54: Utterance and slot editor](img/image113.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 4.54: Utterance and slot editor'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Configure error handling for the `PizzaOrderingBot` bot.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Navigate to the `PizzaOrderingBot` bot. Choose Editor. And then choose `Error
    Handling`.![Figure 4.55: Editor for bot](img/image115.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 4.55: Editor for bot'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: Use the Editor tab to configure bot error handling.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Information you provide in Clarification Prompts maps to the bot's clarificationPrompt configuration.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: When Amazon Lex can't determine the user intent, the service returns a response
    with this message
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Information that you provide in the Hang-up phrase maps to the bot's abortStatement configuration.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: If the service can't determine the user's intent after a set number of consecutive
    requests, Amazon Lex returns a response with this message.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Leave the defaults.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To build the `PizzaOrderingBot` bot, choose **Build**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Amazon Lex builds a machine-learning model for the bot. When you test the bot,
    the console uses the runtime API to send the user input back to Amazon Lex. Amazon
    Lex then uses the machine learning model to interpret the user input.It can take
    some time to complete the build.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To test the bot, in the Test Bot window, start communicating with your Amazon
    Lex bot. For example, you might say or type:![Figure 4.56: Test Bot](img/image117.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 4.56: Test Bot'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Use the sample utterances that you configured in the `OrderPizza` intent to
    test the bot. For example, the following is one of the sample utterances that
    you configured for the PizzaOrder intent:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: 'To test it, type the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: When you type "I want to order a pizza," Amazon Lex detects the intent (`OrderPizza`).
    Then, Amazon Lex asks for slot information.After you provide all of the slot information,
    Amazon Lex invokes the Lambda function that you configured for the intent.The
    Lambda function returns a message ("Okay, I have ordered your ...") to Amazon
    Lex, which Amazon Lex returns to you..
  prefs: []
  type: TYPE_NORMAL
- en: '**Inspecting the Response**'
  prefs: []
  type: TYPE_NORMAL
- en: Underneath the chat window is a pane that enables you to inspect the response
    from Amazon Lex. The pane provides comprehensive information about the state of
    your bot that changes as you interact with your bot.
  prefs: []
  type: TYPE_NORMAL
- en: The contents of the pane show you the current state of the operation.
  prefs: []
  type: TYPE_NORMAL
- en: '**Dialog State** – The current state of the conversation with the user. It
    can be ElicitIntent, ElicitSlot, ConfirmIntent or Fulfilled.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Summary** – Shows a simplified view of the dialog that shows the slot values
    for the intent being fulfilled so that you can keep track of the information flow.
    It shows the intent name, the number of slots and the number of slots filled,
    and a list of all of the slots and their associated values.'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 4.57: Summary inspect Response](img/image119.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 4.57: Summary inspect Response'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '**Detail** – Shows the raw JSON response from the chatbot to give you a deeper
    view into the bot interaction and the current state of the dialog as you test
    and debug your chatbot. If you type in the chat window, the inspection pane shows
    the JSON response from the [PostText](https://docs.aws.amazon.com/lex/latest/dg/API_runtime_PostText.html) operation.
    If you speak to the chat window, the inspection pane shows the response headers
    from the [PostContent](https://docs.aws.amazon.com/lex/latest/dg/API_runtime_PostContent.html) operation.'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 4.58: Detail inspect response](img/image121.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 4.58: Detail inspect response'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Chapter 5: Using Speech with the Chatbot'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Activity 6: Creating a custom bot and connect the bot with Amazon Connect'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Create an Amazon Lex bot**'
  prefs: []
  type: TYPE_NORMAL
- en: Create a custom bot to demonstrate the Press or Say integration with Amazon
    Connect. The bot prompts callers to press or say a number that matches the menu
    option for the task to complete. In this case, the input is checking their account
    balance.
  prefs: []
  type: TYPE_NORMAL
- en: Open the [Amazon Lex console](https://console.aws.amazon.com/lex/).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If you are creating your first bot, choose Get Started. Otherwise, choose Bots, Create.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'On the Create your Lex bot page, choose Custom bot and provide the following
    information:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Bot name** – For this demo, name the bot AccountBalance.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Output voice** – Select the voice for your bot to use when speaking to callers.
    The default voice for Amazon Connect is Joana.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Session timeout** – Choose how long the bot should wait to get input from
    a caller before ending the session.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**COPPA** – Choose whether the bot is subject to the Child Online Privacy Protection
    Act.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**User utterance storage** – Choose Store'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Choose **Create**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Configure the Amazon Lex bot**'
  prefs: []
  type: TYPE_NORMAL
- en: Determine how the bot responds to customers by providing intents, sample utterances,
    slots for input, and error handling.
  prefs: []
  type: TYPE_NORMAL
- en: '`AccountLookup`.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create another `intent`, and name it `SpeakToAgent`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`AccountLookup` intent.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add a sample utterance, such as "`Check my account balance`" (don't include
    the quotes), and choose the `+` icon.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add a second utterance, "`One`" (without the quotes), and choose the **+** icon.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This assigns the utterance of "one" or key press of "1" to the AccountLookup intent.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Figure 5.29: Sample utterance ](img/image123.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5.29: Sample utterance'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Select `SpeakToAgent`.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add a sample utterance, such as "`Speak to an agent`," and choose **+**.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add a second utterance, "**Two**" (without the quotes), and choose + icon.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`Using your touch-tone keypad, please enter your account number`."'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Make sure that the Required check box is selected, and choose the + icon.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.30: Slot Addition](img/image125.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5.30: Slot Addition'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '`AccountLookup` intent.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the Response section, add a message for the bot to say to customers. For
    example, "`The balance for your account is $2,586.34`."
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose Save Intent.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: For the `SpeakToAgent` intent, add a message that lets callers know that their
    call is being connected to an agent. For example, "`Okay, an agent will be with
    you shortly`."
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose **Save** Intent.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Build and Test the Amazon Lex bot
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: After you create your bot, make sure it works as intended before you publish
    it.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: To enable the Test Bot window, choose Build. It may take a minute or two.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'When it is finished building, choose Test Chatbot.![Figure 5.31: Publish bot](img/image127.jpg)'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Figure 5.31: Publish bot'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: In the Test Chatbot pane, type messages in the chat window.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: To test the AccountLookup intent, type "1" (without the quotes), and then type
    an account number.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Figure 5.32: Test Bot](img/image129.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5.32: Test Bot'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: To confirm that the SpeakToAgent intent is working, type "2" (without the quotes).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Publish the Amazon Lex bot and create an alias
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, publish the bot so that you can add it to a contact flow in Amazon Connect.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Choose **Publish**.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Provide an alias for your bot. Use the alias to specify this version of the
    bot in the contact flow, for example, Blog.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Choose **Publish**.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Figure 5.33: Publish Bot](img/image131.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5.33: Publish Bot'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Add the Amazon Lex bot to an Amazon Connect instance
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To use a bot in your contact flow, add the bot to your Amazon Connect instance.
    You can only add bots created under the same AWS account and in the same Region
    as your instance.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Open the [Amazon Connect console](https://aws.amazon.com/connect/).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Select the Instance Alias of the instance to which to add the bot.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Choose Contact flows.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Under Amazon Lex, choose `AccountBalance` bot and choose Save Lex Bots. If you
    published the bot after you opened the settings for your instance, reload the
    page to get it to show up.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Create a contact flow and add your Amazon Lex bot
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, create a new contact flow that uses your Amazon Lex bot. Create the contact
    flow When you create the contact flow, you can configure the message played to
    callers.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Log in to your Amazon Connect instance with an account that has permissions
    for contact flows and Amazon Lex bots.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Choose `Routing`, `Contact flows`, `Create contact flow`, and `type a name`.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Under Interact, drag a Get customer input block onto the designer, and connect
    it to the Entry point block.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Open the Get customer input block, and choose Text to speech (Ad hoc), Enter
    text.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Type a message that provides callers with information about what they can do.
    For example, use a message that matches the intents used in the bot, such as "To
    check your account balance, press or say 1\. To speak to an agent, press or say
    2."
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Add the Amazon Lex bot to your contact flow
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The bot is defined as the method of getting customer input.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: In the Get customer input block, select Amazon Lex.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: For Name, use `AccountBalance`. For Alias, use **Blog**.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: To specify the intents, choose Add a parameter under Intents.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Type AccountLookup, and choose Add another parameter.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Type SpeakToAgent, and choose Save.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Finish the contact flow
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: After the caller interacts with the bot, finish the contact flow to complete
    the call for the customer.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: If the caller presses 1 to get their account balance, use a Prompt block to
    play a message and disconnect the call.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: If the caller presses 2 to speak to an agent, use a Set queue block to set the
    queue and transfer the caller to the queue, which ends the contact flow.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'To complete the AccountLookup intent:'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Under Interact, drag a Play prompt block to the designer, and connect the AccountLookup node
    of the Get customer input block to it. After the customer gets their account balance
    from the Amazon Lex bot, the message in the Play prompt block plays.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Under Terminate/Transfer, drag a Disconnect / hang up block to the designer,
    and connect the Play prompt block to it. After the prompt message plays, the call
    is disconnected.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'To complete the `SpeakToAgent `intent:'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Add a Set queue block and connect it to the `SpeakToAgent` node of the Get customer
    input block.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Add a Transfer to queue block and connect the Set queue block Success and Error nodes
    to it. You could also add a message that plays when the call cannot be transferred
    because the queue is full or an error occurs.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Choose **Save** & **Publish**.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Your finished contact flow looks something like the following:'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Figure 5.34: Contact Flow](img/image133.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5.34: Contact Flow'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Assign the contact flow to a phone number
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When callers call in to your contact center, the contact flow to which they
    are sent is the one assigned to the telephone number that they dialed. To make
    the new contact flow active, assign it to a phone number for your instance.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Open the Amazon Connect Dashboard.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Choose View phone numbers.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Select the phone number to which to assign the contact flow.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Add a description.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: In the Contact flow/IVR menu, choose the contact flow that you just created.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Choose **Save**.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapter 6: Analyzing Images with Computer Vision'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Activity 7: Compare faces in your own images'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '![Figure 6.49: First provided images for Face comparison](img/image135.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 6.49: First provided images for Face comparison'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Rekognition is able to recognize that the faces are of the same person with
    a 98% degree of confidence, even with different angles, lighting and position
    of glasses on the face![Figure 6.50: Results for first provided images for Face
    comparison](img/image137.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 6.50: Results for first provided images for Face comparison'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: 'The second set of images are: [https://images.unsplash.com/photo-1526510747491-58f928ec870f?w=600](https://images.unsplash.com/photo-1526510747491-58f928ec870f?w=600)
    and [https://images.unsplash.com/photo-1529946179074-87642f6204d7?w=600](https://images.unsplash.com/photo-1529946179074-87642f6204d7?w=600)
    .![Figure 6.51: Second provided images for Face comparison](img/image138.jpg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 6.51: Second provided images for Face comparison'
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
- en: Once again, Rekognition recognizes the faces with a **96%** degree of confidence,
    even at different angles.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 6.52:  Results for second provided images for Face comparison](img/image140.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 6.52: Results for second provided images for Face comparison'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
