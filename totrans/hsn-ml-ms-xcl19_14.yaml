- en: Azure and Excel - Machine Learning in the Cloud
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure和Excel - 云端机器学习
- en: The clear tendency nowadays is to move all analysis, storage, and visualization
    activities to the cloud. In this chapter, you will find information about how
    to use Azure services and get a free subscription to test them. Deep learning
    seems to be the path to general Artificial Intelligence, that is, machines that
    can think as humans. We are not even close to that yet, but artificial neural
    networks are used in computer vision, text and speech analysis, and many other
    advanced applications. There are many use cases for artificial intelligence that
    are pre-built inside Azure and that can be used by building an experiment, as
    shown in detail in this chapter.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 当今的明显趋势是将所有分析、存储和可视化活动迁移到云端。在本章中，您将找到有关如何使用Azure服务和免费订阅以测试它们的信息。深度学习似乎是实现通用人工智能的途径，即能够像人类一样思考的机器。我们甚至还没有接近那个阶段，但人工神经网络被用于计算机视觉、文本和语音分析以及许多其他高级应用。Azure中内置了许多人工智能用例，可以通过构建实验来使用，本章将详细说明。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Introducing the Azure Cloud
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 介绍Azure云
- en: Using Azure Machine Learning Studio for free – a step-by-step guide
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Azure机器学习工作室免费 - 步骤指南
- en: Loading your data into Azure Machine Learning Studio
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将您的数据加载到Azure机器学习工作室
- en: Creating and running an experiment in Azure Machine Learning Studio
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Azure机器学习工作室中创建和运行实验
- en: Technical requirements
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: To complete this chapter, you will need a Microsoft account. If you don't have
    one, you can get one for free at [https://signup.live.com/](https://signup.live.com/).
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成本章，您需要一个Microsoft账户。如果您没有，您可以在[https://signup.live.com/](https://signup.live.com/)免费获取一个。
- en: You will also need to download the `titanic_small.csv` file from the GitHub
    repository at [https://github.com/PacktPublishing/Hands-On-Machine-Learning-with-Microsoft-Excel-2019/tree/master/Chapter10](https://github.com/PacktPublishing/Hands-On-Machine-Learning-with-Microsoft-Excel-2019/tree/master/Chapter10).
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 您还需要从GitHub仓库[https://github.com/PacktPublishing/Hands-On-Machine-Learning-with-Microsoft-Excel-2019/tree/master/Chapter10](https://github.com/PacktPublishing/Hands-On-Machine-Learning-with-Microsoft-Excel-2019/tree/master/Chapter10)下载`titanic_small.csv`文件。
- en: Introducing the Azure Cloud
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍Azure云
- en: 'Cloud computing is the on demand availability of computer system resources,
    especially data storage and computing power, without direct active management
    by the user. The term is generally used to describe data centers available to
    many users over the Internet. Here are some advantages of using the cloud instead
    of on-premises computers:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 云计算是计算机系统资源（尤其是数据存储和计算能力）的按需可用性，用户无需直接主动管理。该术语通常用于描述通过互联网向许多用户开放的数据中心。以下是使用云而不是本地计算机的一些优点：
- en: '**Cost**: Instead of buying and maintaining expensive hardware and software,
    the cloud model offers to pay only for what is used.'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**成本**: 与购买和维护昂贵的硬件和软件相比，云模式仅按使用量付费。'
- en: '**Speed**: A large amount of resources can be obtained typically in minutes,
    just by configuring some settings in a website.'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**速度**: 通常只需在网站上配置一些设置，就可以在几分钟内获得大量资源。'
- en: '**Global scale**: The size and location of the resources can be dynamically
    changed according to the user''s needs.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**全球规模**: 资源的大小和位置可以根据用户需求动态更改。'
- en: '**Productivity**: IT staff can save time and focus on tasks that help the business
    grow, instead of doing hands-on maintenance of local equipment.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**生产力**: IT人员可以节省时间，专注于有助于业务增长的任务，而不是进行本地设备的实际维护。'
- en: '**Performance**: The cloud servers are upgraded often and offer the latest
    available technology.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**性能**: 云服务器经常升级，提供最新的可用技术。'
- en: '**Security**: In spite of the usual worries related to storing and moving sensitive
    data to and from the cloud, most providers have adequate policies to protect the
    user''s data.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**安全**: 尽管将敏感数据存储和传输到云端的担忧很常见，但大多数提供商都有足够的政策来保护用户数据。'
- en: The most important cloud providers, at the time of writing this book, are AWS,
    MS-Azure and GCP. We are going to focus on Azure and describe some of the services
    that are relevant for data analysis using machine learning.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本书时，最重要的云提供商是AWS、MS-Azure和GCP。我们将重点关注Azure，并描述一些与使用机器学习进行数据分析相关的服务。
- en: Like all cloud providers, Microsoft includes all types of services in Azure.
    Our interest will be mainly in **Azure Machine Learning Studio** (**AMLS**), which
    is designed to create and test machine learning projects and experiments easily.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 就像所有云服务提供商一样，微软将所有类型的服务都包含在Azure中。我们的兴趣将主要在于**Azure机器学习工作室**（**AMLS**），它旨在轻松创建和测试机器学习项目和实验。
- en: Using AMLS for free – a step-by-step guide
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用AMLS免费版 – 步骤指南
- en: Microsoft AMLS is a tool that provides a drag and drop interface to build, test,
    and deploy machine learning models and analytics solutions. It is possible to
    publish models as web services that can be consumed from Excel (among other tools).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 微软AMLS是一个提供拖放界面的工具，用于构建、测试和部署机器学习模型和分析解决方案。可以将模型发布为Web服务，以便从Excel（以及其他工具）中消费。
- en: 'We will start by registering in the AMLS home page, using your Microsoft account:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先在AMLS主页上注册，使用您的微软账户：
- en: 'Open [https://studio.azureml.net/](https://studio.azureml.net/). You will see
    the following front page:'
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开[https://studio.azureml.net/](https://studio.azureml.net/)。您将看到以下首页：
- en: '![](img/c7b6b286-6ab3-4f66-a550-9fa57c00a1d9.png)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/c7b6b286-6ab3-4f66-a550-9fa57c00a1d9.png)'
- en: 'Click on Sign up here and you will get to the next page:'
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击此处注册并进入下一页：
- en: '![](img/650db3e2-32a1-4a81-a0b4-078fc3e87d15.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/650db3e2-32a1-4a81-a0b4-078fc3e87d15.png)'
- en: 'Choose the second option (that is, Free Workspace), which requires that you
    have a Microsoft account. The advantage is that this option is free and you can
    use it without limits. Once you click on the Free Workspace option, you will be
    taken to the following login screen:'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择第二个选项（即免费工作区），这要求您拥有微软账户。优点是此选项免费，并且您可以无限制地使用它。一旦您点击免费工作区选项，您将被带到以下登录界面：
- en: '![](img/667549c3-9d5d-4859-ae02-45a3c8254f48.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/667549c3-9d5d-4859-ae02-45a3c8254f48.png)'
- en: 'Enter the username you chose when you created your Microsoft account and click
    on Next. You will then see the password input screen:'
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入您创建微软账户时选择的用户名并点击下一步。然后您将看到密码输入界面：
- en: '![](img/51222510-5ac2-4570-b1fb-69fbc4c10a9f.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/51222510-5ac2-4570-b1fb-69fbc4c10a9f.png)'
- en: Type the password of your Microsoft account and click on Sign in.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入您的微软账户密码并点击登录。
- en: 'You will be taken to the AMLS home page:'
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将被带到AMLS主页：
- en: '![](img/e405cadd-3609-4d7e-8c11-58159c07a011.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e405cadd-3609-4d7e-8c11-58159c07a011.png)'
- en: Now that you are ready to start, we will cover how to load your dataset into
    ALMS.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已准备好开始，我们将介绍如何将您的数据集加载到ALMS中。
- en: Loading your data into AMLS
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将您的数据加载到AMLS中
- en: 'There is no machine learning project without data, so the first step in our
    analysis is to load the input file (`titanic_small.csv`) into AMLS. This is a
    simplified version of the Titanic dataset, which contains three features and one
    target variable:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 没有数据就没有机器学习项目，因此我们分析的第一步是将输入文件（`titanic_small.csv`）加载到AMLS中。这是泰坦尼克数据集的简化版本，包含三个特征和一个目标变量：
- en: 'Features:'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 特征：
- en: '**pclass**: The class in which the passenger traveled (values 1, 2, or 3 corresponding
    to 1st, 2nd, and 3rd class)'
  id: totrans-38
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**乘客等级**：乘客所乘坐的等级（值1、2或3分别对应头等舱、二等舱和三等舱）'
- en: '**sex**: Passenger''s gender (female or male)'
  id: totrans-39
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**性别**：乘客的性别（女性或男性）'
- en: '**Age group**: Infant, child, teenager, adult, elderly, or unknown'
  id: totrans-40
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**年龄组**：婴儿、儿童、青少年、成人、老年或未知'
- en: 'Target variable:'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 目标变量：
- en: '**Survived**: 1 if the passenger survived the shipwreck, 0 if they didn''t.'
  id: totrans-42
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**幸存**：如果乘客在船难中幸存，则为1，如果没有，则为0。'
- en: 'To load the file, follow these steps:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 要加载文件，请按照以下步骤操作：
- en: 'From the home page, click on DATASETS. You will see an empty list of datasets:'
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从主页点击DATASETS。您将看到一个空的数据集列表：
- en: '![](img/0b60a787-1009-48ff-aaae-5e9d7c3c6476.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/0b60a787-1009-48ff-aaae-5e9d7c3c6476.png)'
- en: 'Click on +NEW to get a link to upload a local data file:'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击+NEW获取上传本地数据文件的链接：
- en: '![](img/0a214150-da00-40b2-bd77-7662073dff79.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/0a214150-da00-40b2-bd77-7662073dff79.png)'
- en: 'Click on FROM LOCAL FILE and you will see the following dialog box:'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击从本地文件，您将看到以下对话框：
- en: '![](img/2f55592d-79d7-4293-8a12-02493ab6975f.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/2f55592d-79d7-4293-8a12-02493ab6975f.png)'
- en: Click on Choose File and navigate to the input file (`titanic_small.csv`) location
    in your computer.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击选择文件，并在您的计算机中导航到输入文件（`titanic_small.csv`）的位置。
- en: Enter any name you want for the dataset in the corresponding field.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在相应字段中输入您想要的数据集名称。
- en: Select the type of file, in this case Generic CSV File with a header (.csv).
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择文件类型，在本例中为带有标题的通用CSV文件 (.csv)。
- en: Optionally, describe the contents of the data set for future reference.
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可选地，描述数据集的内容以供将来参考。
- en: Click OK.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击确定。
- en: 'You will see your recently uploaded dataset in the list:'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将在列表中看到您最近上传的数据集：
- en: '![](img/599ed585-1ce9-464f-8c64-dcd8b5ea2e76.png)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![](img/599ed585-1ce9-464f-8c64-dcd8b5ea2e76.png)'
- en: You now have everything you need to start building your first experiment in
    AMLS. We'll do it together in the next section.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在拥有开始构建你的第一个AMLS实验所需的一切。我们将在下一节中一起完成。
- en: Creating and running an experiment in AMLS
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在AMLS中创建和运行实验
- en: 'The basic components of AMLS are experiments. They are built by dragging and
    dropping predefined modules into a workspace. Each module has some defined task,
    a given number of parameters that can be chosen at runtime, and a defined number
    of input and output nodes. Here is a screenshot of the AMLS module:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: AMLS的基本组件是实验。它们是通过将预定义的模块拖放到工作区中构建的。每个模块都有一些定义的任务，一些在运行时可以选择的参数数量，以及定义的输入和输出节点数量。以下是AMLS模块的截图：
- en: '![](img/edd55207-ceb7-461f-9c88-0a69a5821c75.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](img/edd55207-ceb7-461f-9c88-0a69a5821c75.png)'
- en: They can be connected to build an analysis workflow, from data input and transformation
    to machine learning model training and results. We will go step by step and create
    a machine learning experiment, training a decision tree to predict the survival
    of the Titanic passengers.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 它们可以连接起来构建分析工作流程，从数据输入和转换到机器学习模型训练和结果。我们将逐步进行，创建一个机器学习实验，训练一个决策树来预测泰坦尼克号乘客的生存情况。
- en: Creating a new experiment
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建新实验
- en: 'Perform the following steps to create a new environment:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 按以下步骤创建新环境：
- en: 'From the home page, select EXPERIMENTS. You will see the empty list of experiments:'
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从主页选择“实验”。你会看到一个空的实验列表：
- en: '![](img/9e9859e4-face-4185-ba9c-71916894c0b5.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9e9859e4-face-4185-ba9c-71916894c0b5.png)'
- en: 'Click on +NEW to create a new Experiment. You will see the list of available
    experiments that can be loaded from the Azure catalog:'
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击+NEW创建一个新的实验。你会看到可以从Azure目录加载的可用实验列表：
- en: '![](img/7d218b27-5026-41dc-8a06-04652c60d9e6.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7d218b27-5026-41dc-8a06-04652c60d9e6.png)'
- en: 'Click on Blank Experiment to create an empty one. The following screenshot
    shows how an experiment looks before you start to add modules:'
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“空白实验”创建一个空的。以下截图显示了在添加模块之前实验的外观：
- en: '![](img/71943629-32cc-4b78-839c-3b21bc1b3716.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](img/71943629-32cc-4b78-839c-3b21bc1b3716.png)'
- en: The left part is the module catalog, grouped by function. The middle (gray)
    area is the workspace, where we are going to drop the modules, and the right part
    shows a summary of the experiment. In the upper-left corner of the workspace,
    you can see the experiment name. You can click on it and edit the text. In our
    example, the text was edited to show Titanic – model training.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 左边是模块目录，按功能分组。中间（灰色）区域是工作区，我们将在这里放置模块，右边显示了实验的摘要。在工作区的左上角，你可以看到实验名称。你可以点击它并编辑文本。在我们的例子中，文本被编辑以显示“泰坦尼克号
    - 模型训练”。
- en: Once you are familiar with AMLS, explore the experiments in the catalog. They
    are good examples of the capabilities that AMLS can offer and the types of problems
    you can solve with it.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你熟悉了AMLS，就可以探索目录中的实验。它们是AMLS能提供的能力和你可以用它解决的问题类型的良好示例。
- en: This first experiment will only use the input data to train the decision tree,
    and have it ready to use later in another experiment, which will be the one that
    predicts the survival of the passengers. We split the experiment into two parts
    because we want to train the tree only once and use it later for prediction. We
    will show a step-by-step guide to training the decision tree model in the next
    section.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 这个第一个实验将仅使用输入数据来训练决策树，并使其准备好在另一个实验中使用，该实验将预测乘客的生存情况。我们将实验分为两部分，因为我们只想训练一次树，然后用于预测。我们将在下一节中逐步展示如何训练决策树模型。
- en: Training a decision tree model
  id: totrans-73
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 训练决策树模型
- en: 'In the module catalog, go to Saved Datasets | My Datasets and drag the "titanic_small.csv"
    into the right workspace module that contains our input data to the workspace.
    It contains the data previously read from the file. After dropping the data module,
    you should see something similar to the following screenshot:'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在模块目录中，转到“已保存数据集 | 我的数据集”，将“titanic_small.csv”拖放到包含我们的输入数据的工作区右侧模块中。它包含从文件中读取的数据。在放置数据模块后，你应该看到类似于以下截图的内容：
- en: '![](img/e72fbf2c-2d96-44d7-98ea-9a4b511d676b.png)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e72fbf2c-2d96-44d7-98ea-9a4b511d676b.png)'
- en: Clicking in a module after dropping it on the workspace will show information
    about it on the right-hand side of the screen.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 在工作区上放置模块后点击它，将在屏幕的右侧显示有关它的信息。
- en: Drag and drop two other modules, which represent the decision tree that we are
    going to train and a generic training module. The first one is located in Machine
    Learning | Initialize Model | Classification | Two Class Boosted Decision Tree.
    The second one is located in Machine Learning | Train | Train Model.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 拖放另外两个模块，它们代表我们将要训练的决策树和一个通用训练模块。第一个位于“机器学习 | 初始化模型 | 分类 | 双类增强决策树”。第二个位于“机器学习
    | 训练 | 训练模型”。
- en: 'Once all modules are dropped into the workspace, you need to connect them to
    build a data flow. To connect two modules, do the following:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦所有模块都拖放到工作区中，您需要将它们连接起来以构建数据流。要连接两个模块，请执行以下操作：
- en: Click on the output node of the first module.
  id: totrans-79
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击第一个模块的输出节点。
- en: Keep the mouse button pressed and move the pointer to the input node of the
    second module.
  id: totrans-80
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按住鼠标按钮，将指针移动到第二个模块的输入节点。
- en: Release the mouse button. You should see a curved lines joining both modules.
  id: totrans-81
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 释放鼠标按钮。您应该看到连接两个模块的曲线线。
- en: 'The final set of connected modules should look like the following screenshot:'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最终连接的模块应类似于以下截图：
- en: '![](img/6dfbf6f5-7c5c-4928-b6ab-ed126fa4a948.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/6dfbf6f5-7c5c-4928-b6ab-ed126fa4a948.png)'
- en: 'You need to select the target variable in the module labeled Train Model. To
    do that, perform these steps:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要在标记为“训练模型”的模块中选择目标变量。为此，请执行以下步骤：
- en: Click on the module.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击模块。
- en: Click on Launch column selector on the right-hand side panel.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击右侧面板上的“启动列选择器”。
- en: In the pop-up window, click on BY NAME.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在弹出的窗口中，点击“按名称”。
- en: From the list of available columns, click on survived.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从可用的列列表中，点击“survived”。
- en: 'Click on the right arrow (>). This will move the survived variable to the right.
    You should see something similar to the following screenshot:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击右箭头（>）。这将把“survived”变量移动到右边。您应该看到类似于以下截图的内容：
- en: '![](img/e970abfc-929b-4e21-9cb6-59933eeb8fa8.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e970abfc-929b-4e21-9cb6-59933eeb8fa8.png)'
- en: 'In the bottom menu, click on RUN:'
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在底部菜单中，点击“运行”：
- en: '![](img/d0fd4ff1-02cd-49de-83cb-fd393a6c26d2.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/d0fd4ff1-02cd-49de-83cb-fd393a6c26d2.png)'
- en: Wait until the run finishes. It should only take a couple of minutes until you
    see a green tilde on all modules.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 等待运行完成。应该只需几分钟您就会看到所有模块上出现绿色的波浪线。
- en: 'You can visualize the models that you trained. In this case, the default is
    to train 100 decision trees. To see them in detail, follow these steps:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以可视化您训练的模型。在这种情况下，默认情况下训练100个决策树。要详细了解它们，请按照以下步骤操作：
- en: Right-click on the Train model module.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击“训练模型”模块。
- en: 'Navigate to Trained model | Visualize:'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到“训练模型 | 可视化”：
- en: '![](img/9b9b72e0-e45f-440e-9273-370c0596b77b.png)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/9b9b72e0-e45f-440e-9273-370c0596b77b.png)'
- en: 'Choose any of the trees shown in miniature on the left-hand side to see the
    details. You can follow how decisions are made on each node of the tree and follow
    the branch values to the final value of the target variable. The following screenshot
    illustrates this:'
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择左侧以缩略图形式显示的任何树，以查看详细信息。您可以看到在每个节点上如何做出决策，并跟随分支值到目标变量的最终值。以下截图说明了这一点：
- en: '![](img/5d4c7f85-b86d-4f6e-a92c-bdcf97abf45c.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/5d4c7f85-b86d-4f6e-a92c-bdcf97abf45c.png)'
- en: 'Clicking on the module labeled Two-Class Boosted Decision Tree shows a list
    of model parameters on the right-hand side panel. These parameters affect the
    training of a decision tree. You can change these parameters and run the experiment
    again:'
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击标记为“双类增强决策树”的模块，将在右侧面板上显示一系列模型参数。这些参数会影响决策树的训练。您可以更改这些参数并再次运行实验：
- en: '![](img/dd6192ff-6fd1-4f54-9826-d587b2008757.png)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/dd6192ff-6fd1-4f54-9826-d587b2008757.png)'
- en: Save the experiment by clicking on SAVE in the bottom menu.
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过在底部菜单中点击“保存”来保存实验。
- en: 'Finally, we are going to save the model for future use, whenever we want to
    predict the survival chance of a given passenger. To do so, follow these steps:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们将保存模型以供将来使用，无论何时我们想要预测给定乘客的生存机会。为此，请按照以下步骤操作：
- en: Right-click on the Train model module.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击“训练模型”模块。
- en: 'Navigate to Trained model | Save as Trained Model:'
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到“训练模型 |另存为训练模型”：
- en: '![](img/ef19e848-2029-4c08-b9b1-f980523197c9.png)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/ef19e848-2029-4c08-b9b1-f980523197c9.png)'
- en: The model is now trained with the input dataset and ready to use in a new experiment.
    We are going to build such an experiment in the next subsection and then show
    how it can be used from an Excel workbook.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，模型已使用输入数据集训练完毕，并准备好在新实验中使用。我们将在下一个子节中构建这样一个实验，并展示如何从Excel工作簿中使用它。
- en: Making predictions with the model from Excel
  id: totrans-108
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用模型从Excel进行预测
- en: We are now going to create a web service using the trained decision tree. Web
    services are used to allow communication between different applications and different
    sources, and don't depend on the operating system or specific programming language.
    We are then going to use Excel to communicate with this web service, send the
    input data to it, and receive the output data with the predicted values of survival.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将使用训练好的决策树创建一个Web服务。Web服务用于允许不同应用程序和不同源之间的通信，不依赖于操作系统或特定的编程语言。然后我们将使用Excel与这个Web服务通信，向它发送输入数据，并接收带有预测生存值的输出数据。
- en: 'If you followed the instructions to create an experiment carefully, you should
    be now able to do it on your own, with some general guidance, as follows:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你仔细遵循了创建实验的说明，你现在应该能够自己完成，以下是一些一般性的指导：
- en: Create a new experiment and change its name to `Titanic - Web Service`.
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新的实验，并将其命名为“Titanic - Web服务”。
- en: 'Drag and drop five modules to the workspace:'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将五个模块拖放到工作区：
- en: 'Saved Datasets | My Datasets | `titanic_small.csv`: The dataset we loaded and
    used to train the decision tree.'
  id: totrans-113
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已保存的数据集 | 我的数据集 | `titanic_small.csv`：我们加载并用于训练决策树的数据集。
- en: 'Trained Models | Titanic Model - Trained: The trained model we saved for future
    use.'
  id: totrans-114
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练好的模型 | Titanic模型 - 已训练：我们为将来使用而保存的训练好的模型。
- en: 'Machine Learning | Score | Score Model: That will be used to predict the target
    variable according to the model training.'
  id: totrans-115
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 机器学习 | 分数 | 分数模型：将根据模型训练预测目标变量。
- en: 'Web Service | Web Service Input and Web Service Output: That will handle the
    communication of data from and to Excel.'
  id: totrans-116
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Web服务 | Web服务输入和Web服务输出：这将处理从Excel到Web服务的通信。
- en: 'Connect the modules so the experiment looks like the following screenshot:'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将模块连接起来，使实验看起来像以下截图：
- en: '![](img/acaf8c72-6aa5-4ce4-bee3-96536011ad4c.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](img/acaf8c72-6aa5-4ce4-bee3-96536011ad4c.png)'
- en: Save the experiment and run it.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存实验并运行它。
- en: The input data is not really used in the experiment, since the data for the
    prediction will eventually be sent from the application that uses the web service.
    In spite of this, the input data module needs to be included as a reference to
    the data format (names of the variables and total number of columns).
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 输入数据实际上并没有在实验中使用，因为预测的数据最终将来自使用Web服务的应用程序。尽管如此，输入数据模块需要包含作为数据格式（变量名称和总列数）的参考。
- en: 'Once the run is successful, click on DEPLOY WEB SERVICE in the bottom menu.
    You will be taken to the following screen:'
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦运行成功，点击底部菜单中的“部署Web服务”。你将被带到以下屏幕：
- en: '![](img/fc7e371a-e2fe-40c7-a141-6af9771b9521.png)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fc7e371a-e2fe-40c7-a141-6af9771b9521.png)'
- en: The web service is now created and AMLS lets you download an Excel file that
    is already connected to it.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: Web服务现在已创建，AMLS让你可以下载一个已经连接到它的Excel文件。
- en: Download the file from the link on the last row of the screen (BATCH EXECUTION,
    Excel 2013 or later workbook).
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从屏幕最后一行的链接（批量执行，Excel 2013或更高版本工作簿）下载文件。
- en: 'Open the Excel file on your computer. You should see a menu to the right of
    the workbook:'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的电脑上打开Excel文件。你应该在工作簿右侧看到一个菜单：
- en: '![](img/6a5bac26-f32c-4bba-bbd8-c772287313dd.png)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6a5bac26-f32c-4bba-bbd8-c772287313dd.png)'
- en: This means that the file is already connected to the web service we created.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着文件已经连接到了我们创建的Web服务。
- en: 'Click on Titanic – Web Service. You will see the data input menu to the right:'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“Titanic – Web服务”。你将看到右侧的数据输入菜单：
- en: '![](img/7879ddb3-8c43-4ca6-95b5-3b350797f105.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7879ddb3-8c43-4ca6-95b5-3b350797f105.png)'
- en: 'Click on Use sample data to get a few rows of data to use for predicting. You
    now have a table similar to the following:'
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“使用示例数据”以获取几行数据用于预测。你现在有一个类似于以下表格的表格：
- en: '![](img/b3086080-57f4-4fa0-9073-10df302d8719.png)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b3086080-57f4-4fa0-9073-10df302d8719.png)'
- en: In the Input dialog box, write *A1:D6*.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在输入对话框中，写下*A1:D6*。
- en: 'In the Output dialog box, write the coordinates of the cell where you want
    the output data to start. In this example, we used *G1*:'
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在输出对话框中，写下你想要输出数据开始的单元格坐标。在这个例子中，我们使用了*G1*：
- en: '![](img/4d347dae-5c86-4f18-9b17-5379b09b210d.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4d347dae-5c86-4f18-9b17-5379b09b210d.png)'
- en: 'Click on Predict. The original table plus the predicted values will appear
    in the worksheet:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“预测”。原始表格加上预测值将出现在工作表中：
- en: '![](img/f82e590e-65cd-4fb1-ba6d-c5ca94615c90.png)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f82e590e-65cd-4fb1-ba6d-c5ca94615c90.png)'
- en: Data in the `survived` column is not taken into account for the prediction,
    since it is the target variable. It must be present to comply with the training
    data format.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 由于“存活”列中的数据是目标变量，因此它不会被用于预测。它必须存在，以符合训练数据格式。
- en: Notice that four out of the five predicted values (in the `Scored Labels` column)
    agree with the values used for training. Predictions are never perfect and that
    is why it is so important to fine-tune the model parameters and carefully study
    the prediction error.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，在“评分标签”列中，五个预测值中有四个与用于训练的值一致。预测永远不会完美，这就是为什么精细调整模型参数和仔细研究预测误差如此重要的原因。
- en: You now know how to build an experiment in AMLS and communicate with it from
    Excel, sending and receiving data. So, when you hear the phrase *cloud computing*,
    you know what it is about.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你已经知道如何在 AMLS 中构建实验并与它从 Excel 中通信，发送和接收数据。所以，当你听到“云计算”这个词时，你就知道它是关于什么的。
- en: Summary
  id: totrans-140
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: 'We went through all the necessary steps to open an account in AMLS, a part
    of the Microsoft Azure cloud that helps us to build simple data and analysis flows.
    We also built two experiments: one of them trains a decision tree and the other
    predicts the target variable. Then we learned how to create a web service and
    connect Excel to it, sending and receiving data.'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经完成了在 AMLS 中开设账户的所有必要步骤，AMLS 是微软 Azure 云的一部分，帮助我们构建简单的数据和数据分析流程。我们还构建了两个实验：其中一个训练决策树，另一个预测目标变量。然后我们学习了如何创建网络服务并将
    Excel 连接到它，发送和接收数据。
- en: In the next chapter, we will show the present status of machine learning, which
    almost completely moves operations to the cloud, makes the data flows completely
    automatic, and uses automation to fine-tune the predictive models.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将展示机器学习的当前状态，它几乎完全将操作转移到云端，使数据流完全自动化，并使用自动化来精细调整预测模型。
- en: Questions
  id: totrans-143
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: What are the main advantages of using cloud computing?
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用云计算的主要优势是什么？
- en: Is cloud computing only useful for machine learning?
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 云计算只对机器学习有用吗？
- en: What is a web service and why is it useful?
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 什么是网络服务，为什么它有用？
- en: If the model is already trained, why do we need to include the input data model
    in the analysis flow used for prediction?
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果模型已经训练好，为什么我们还需要在用于预测的分析流程中包含输入数据模型？
- en: Why did we split training and prediction into two different flows?
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为什么我们要将训练和预测分成两个不同的流程？
- en: Further reading
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'Check out the following resources for more information on the topics covered
    in this chapter:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 查看以下资源，了解更多关于本章涵盖主题的信息：
- en: '*Understanding the Basics of Cloud Computing*: [https://www.lucidchart.com/blog/cloud-computing-basics](https://www.lucidchart.com/blog/cloud-computing-basics)'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*理解云计算的基本知识*：[https://www.lucidchart.com/blog/cloud-computing-basics](https://www.lucidchart.com/blog/cloud-computing-basics)'
- en: '*Azure Machine Learning Studio Documentation*: [https://docs.microsoft.com/en-us/azure/machine-learning/studio/](https://docs.microsoft.com/en-us/azure/machine-learning/studio/)'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Azure Machine Learning Studio 文档*：[https://docs.microsoft.com/en-us/azure/machine-learning/studio/](https://docs.microsoft.com/en-us/azure/machine-learning/studio/)'
- en: '*Decision Trees Explained Easily*: [https://medium.com/@chiragsehra42/decision-trees-explained-easily-28f23241248](https://medium.com/@chiragsehra42/decision-trees-explained-easily-28f23241248)'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*简单易懂的决策树解释*：[https://medium.com/@chiragsehra42/decision-trees-explained-easily-28f23241248](https://medium.com/@chiragsehra42/decision-trees-explained-easily-28f23241248)'
