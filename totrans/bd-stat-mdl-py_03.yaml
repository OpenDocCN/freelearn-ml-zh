- en: '3'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '3'
- en: Hypothesis Testing
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 假设检验
- en: In this chapter, we will begin discussing drawing statistical conclusions from
    data, putting together sampling and experiment design from [*Chapter 1*](B18945_01.xhtml#_idTextAnchor015)*,
    Sampling and Generalization* and distributions from [*Chapter 2*](B18945_02.xhtml#_idTextAnchor029)*,
    Distributions of Data*. Our primary use of statistical modeling is to answer questions
    of interest from data. Hypothesis testing provides a formal framework for answering
    questions of interest with measures of uncertainty. First, we will cover the goals
    and structure of hypothesis testing. Then, we will talk about the errors that
    can occur from hypothesis tests and define the expected error rate. Then, we will
    walk through the hypothesis test process utilizing the z-test. Finally, we will
    discuss statistical power analysis.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将开始讨论从数据中得出统计结论，结合来自[*第1章*](B18945_01.xhtml#_idTextAnchor015)*，抽样和推广*和来自[*第2章*](B18945_02.xhtml#_idTextAnchor029)*，数据分布*的分布。我们主要使用统计模型来回答数据中的问题。假设检验提供了一个正式的框架，通过不确定性的度量来回答感兴趣的问题。首先，我们将介绍假设检验的目标和结构。然后，我们将讨论假设检验可能出现的错误并定义预期的错误率。接着，我们将通过z检验的过程来讲解假设检验。最后，我们将讨论统计功效分析。
- en: 'In this chapter, we’re going to cover the following main topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主要主题：
- en: The goal of hypothesis testing
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 假设检验的目标
- en: Type I and type II errors
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第一类和第二类错误
- en: Basics of the z-test – the z-score, z-statistic, critical values, and p-values
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: z检验的基础 – z分数、z统计量、临界值和p值
- en: One-sample and two-sample z-tests for means and proportions
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 均值和比例的单样本和双样本z检验
- en: Selecting error rate and power analysis
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择错误率和功效分析
- en: Applying the power analysis to the z-test
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将功效分析应用于z检验
- en: The goal of hypothesis testing
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 假设检验的目标
- en: Put simply, the goal of hypothesis testing is to decide whether the data we
    have is sufficient to support a particular hypothesis. The hypothesis test provides
    a *formal* framework for testing a hypothesis based on our data rather than attempting
    to decide based on visual inspection. In this section, we will discuss the process
    of hypothesis testing. In the next section, *Basics of the z-test – the z-score,
    z-statistic, critical values, and p-values*, we will put the process to work by
    walking through an example in detail with the z-test.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 简单来说，假设检验的目标是判断我们所拥有的数据是否足以支持一个特定的假设。假设检验提供了一个*正式的*框架，基于我们的数据来检验假设，而不是试图通过视觉检查来做出决定。在本节中，我们将讨论假设检验的过程。在下一节中，*z检验的基础
    – z分数、z统计量、临界值和p值*，我们将通过详细分析一个例子来应用这个过程。
- en: Overview of a hypothesis test for the mean
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 均值假设检验概述
- en: 'To understand the hypothesis testing process, let’s start with a simple example.
    Suppose we have a factory with machines that produce widgets, and we expect our
    machines to produce widgets at a certain rate (30 widgets per hour). We start
    by constructing two hypotheses, the **null hypothesis** and the **alternative
    hypothesis**. The null hypothesis and alternative hypothesis are given the following
    symbols, respectively: H 0 and H a. To create the null hypothesis, we will start
    by assuming what we want to test is true. In our example, the null hypothesis
    would be that *the machines output a mean of 30 widgets per hour*. Once we have
    determined the null hypothesis, we then create the alternative hypothesis, which
    is just the contradiction of the null hypothesis. In our example, the alternative
    hypothesis is that *the machines do not output a mean of 30 widgets per hour*.
    Notice that our hypotheses do not indicate any directionality, that is, the alternative
    hypothesis contains values both less than and greater than the expected value.
    This is called a **two-sided test**, meaning there are two alternatives to the
    null hypothesis. We also have **one-sided tests**. For example, if we had said
    the null hypothesis was that *the machines output more than a mean of 30 widgets
    per hour*, the alternative would be that *the machines output less than a mean
    of 30 widgets per hour*. This set of hypotheses would be a one-sided test.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 为了理解假设检验过程，让我们从一个简单的例子开始。假设我们有一个工厂，工厂里有机器生产小部件，我们期望我们的机器以一定的速率（每小时30个小部件）生产小部件。我们首先构建两个假设，即零假设和备择假设。零假设和备择假设分别用以下符号表示：H 0
    和 H a。为了创建零假设，我们将首先假设我们想要测试的是真实的。在我们的例子中，零假设将是*机器的平均输出为每小时30个小部件*。一旦我们确定了零假设，然后我们创建备择假设，它只是零假设的矛盾。在我们的例子中，备择假设是*机器的平均输出不是每小时30个小部件*。请注意，我们的假设没有指示任何方向性，也就是说，备择假设包含低于和高于预期值的值。这被称为**双尾测试**，意味着有两个备择假设。我们还有**单尾测试**。例如，如果我们说零假设是*机器的平均输出超过每小时30个小部件*，那么备择假设将是*机器的平均输出低于每小时30个小部件*。这一组假设将是一个单尾测试。
- en: 'The two-sided null hypothesis and alternative hypothesis from our example can
    be stated mathematically as follows:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 我们例子中的双尾零假设和备择假设可以用以下数学方式表述：
- en: 'H 0 :  _ x  = 30'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 'H 0 :  _x_ = 30'
- en: 'H a :  _ x  ≠ 30'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 'H a :  _x_ ≠ 30'
- en: 'Once we have the null and alternative hypotheses and the data, we will run
    the test with software. Let’s set the implementation details of the test aside
    for now (these will be covered in detail in the next section). There are two possible
    outcomes of a statistical test: reject the null hypothesis or fail to reject the
    null hypothesis. If the mean output of our machines is statistically different
    from the stated value in the null hypothesis, then we will *reject the null hypothesis*.
    This means that, given the data, the value stated in the null hypothesis is not
    a *plausible* value for the mean. However, if the mean output of our machines
    is not statistically different from the value listed in the null hypothesis, we
    *fail to reject the null hypothesis*. This means that, given the data, the value
    stated in the null hypothesis is a *plausible* value for the mean. After running
    the test for the null hypothesis and determining the conclusion, we will provide
    a confidence interval (discussed in the next section) and determine the scope
    of inference.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们有了零假设和备择假设以及数据，我们将使用软件进行测试。现在我们先暂时搁置测试的实现细节（这些将在下一节中详细讨论）。统计测试有两种可能的结果：拒绝零假设或未能拒绝零假设。如果我们的机器的平均输出在零假设中声明的值上具有统计学上的差异，那么我们将*拒绝零假设*。这意味着，根据数据，零假设中声明的值不是平均值的*合理*值。然而，如果我们的机器的平均输出在零假设中列出的值上没有统计学上的差异，我们将*未能拒绝零假设*。这意味着，根据数据，零假设中声明的值是平均值的*合理*值。在运行零假设测试并得出结论后，我们将提供一个置信区间（下一节将讨论），并确定推理的范围。
- en: Scope of inference
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 推理范围
- en: The scope of inference is determined by the sampling design discussed in [*Chapter
    1*](B18945_01.xhtml#_idTextAnchor015). There are two questions to consider – *what
    is the population, and how was the sample selected from the population?* In this
    example, let’s assume that we are testing the mean output of machines from a large
    factory (possibly hundreds of machines). The population is then the machines in
    the factory. If we take a random sample of machines, then our conclusion can be
    extrapolated to the entire population.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 推理范围由讨论在[*第一章*](B18945_01.xhtml#_idTextAnchor015)中的抽样设计决定。有两个问题需要考虑 – *总体是什么，以及样本是如何从总体中选择的？*
    在这个例子中，让我们假设我们正在测试一个大工厂（可能是数百台机器）的机器的平均输出。那么，总体就是工厂中的机器。如果我们随机抽取机器样本，那么我们的结论可以推广到整个总体。
- en: While our current example is realistic, it is rather simple. In other scenarios,
    there may be additional considerations. For example, the machines in the factory
    may have different models and different ages, which may impact output. In that
    case, we could use stratified random sampling and make inferences for each stratum.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们的当前例子是现实的，但它相当简单。在其他情况下，可能会有额外的考虑。例如，工厂中的机器可能有不同的型号和不同的年龄，这可能会影响输出。在这种情况下，我们可以使用分层随机抽样并对每个层进行推断。
- en: Hypothesis test steps
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 假设检验步骤
- en: 'This section provides an overview of hypothesis testing from creating a hypothesis
    to drawing a conclusion. As we continue through this chapter, keep the following
    key hypothesis test steps in mind:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 本节概述了从提出假设到得出结论的假设检验过程。随着我们继续本章的学习，请记住以下关键假设检验步骤：
- en: State the null hypothesis and alternative hypothesis
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 陈述零假设和备择假设
- en: Perform the statistical test
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行统计测试
- en: 'Determine the conclusion: reject or fail to reject the null hypothesis'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定结论：拒绝或未能拒绝零假设
- en: Provide a statistical conclusion, a confidence interval, and a scope of inference
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供统计结论、置信区间和推理范围
- en: These steps are applicable to any statistical test, and we will continue to
    follow this series of steps for hypothesis tests. In the next section, we will
    discuss the types of errors that can result from hypothesis tests.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这些步骤适用于任何统计测试，我们将继续遵循这一系列步骤进行假设检验。在下一节中，我们将讨论假设检验可能导致的错误类型。
- en: Type I and Type II errors
  id: totrans-28
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第一类错误和第二类错误
- en: 'While data can give us a good idea of the characteristics of a distribution,
    it is possible for a hypothesis test to result in an error. Errors can occur because
    we are taking a random sample from a population. While randomization makes it
    less likely that a sample contains sampling bias, *there is no guarantee that
    a random sample will be representative of the population*. There are two possible
    errors that could occur as a result of a hypothesis test:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然数据可以给我们一个关于分布特性的良好概念，但假设检验可能导致错误。错误可能发生，因为我们是从总体中抽取随机样本。虽然随机化使得样本包含抽样偏差的可能性降低，*但并不能保证随机样本能够代表总体*。假设检验可能导致两种可能的错误：
- en: '**Type I error**: Rejecting the null hypothesis when it is actually true'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**第一类错误**：当零假设实际上为真时拒绝零假设'
- en: '**Type II error**: Failure to reject the null hypothesis when it is actually
    false'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**第二类错误**：当零假设实际上为假时未能拒绝零假设'
- en: Type I errors
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第一类错误
- en: 'A type I error occurs when a hypothesis test results in *rejecting the null
    hypothesis, but the null hypothesis is actually true*. For example, say we have
    a distribution of data with a population mean of 30\. We state our null hypothesis
    as H 0 :  _ x  = 30\. We take a random sample for our test, but the random values
    in the sample happen to be on the higher side of the distribution. Thus, the test
    result suggests that we should reject the null hypothesis. In this case, we have
    made a type I error. This type of error is also called a **false positive**.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '当假设检验导致*拒绝零假设，但实际上零假设是正确的*时，会发生第一类错误。例如，假设我们有一个数据分布，总体均值为30。我们陈述的零假设为 H 0 :
     _ x  = 30。我们为测试随机抽取样本，但样本中的随机值恰好位于分布的高侧。因此，测试结果建议我们应该拒绝零假设。在这种情况下，我们犯了一个第一类错误。这种类型的错误也称为**假阳性**。'
- en: When we make statistical tests, it is always possible that we will come to an
    incorrect conclusion due to the data sampled from the target population. The *probability
    of making a type one error is specified by* α. Said another way, α represents
    how often we expect to make an error (the expected error rate). This is a free
    parameter we can select for our test (α is also called the *level of significance*).
    It is common to use 0.05 for α, but there is no evidential basis for using 0.05;
    different values may be appropriate in other contexts. Later in the chapter, we
    will discuss selecting the type I error rate.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们进行统计测试时，由于从目标总体中抽取的样本数据，我们总是有可能得出错误的结论。*犯第一类错误的概率由* α指定。换句话说，α代表我们期望犯错误（预期错误率）的频率。这是一个我们可以为我们的测试选择的自由参数（α也称为*显著性水平*）。通常使用0.05作为α，但没有使用0.05的证据基础；在其他情况下，不同的值可能更合适。在本章的后面部分，我们将讨论选择第一类错误率。
- en: Type II errors
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第二类错误
- en: The other type of error we can make is called a type II error. In this case,
    *we fail to reject the null hypothesis when it is actually false*. Let’s consider
    another example. Say we have a distribution of data and we want to test whether
    the mean of the distribution is 30 or not. We take a random sample for the test
    and the test suggests that we should not reject the null hypothesis. However,
    the true population mean is 35\. In this case, we have made a type II error. This
    type of error is also called a **false negative**.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可能犯的另一种错误称为第二类错误。在这种情况下，*我们未能拒绝实际上为假的零假设*。让我们考虑另一个例子。假设我们有一组数据分布，我们想要测试该分布的均值是否为30。我们随机抽取样本进行测试，测试结果表明我们不应该拒绝零假设。然而，真正的总体均值是35。在这种情况下，我们犯了一个第二类错误。这种错误也称为**假阴性**。
- en: As mentioned previously, it is always possible that a statistical test could
    lead to an erroneous conclusion. Thus, we want to control the probability of making
    an error. However, unlike α, the Type II error rate β is not simply a free parameter
    that we can select. To understand the likeliness of making a type II error, we
    generally will conduct a power analysis, which will show how various factors,
    such as sample size, will impact the type II error rate. In the next section,
    we will discuss selecting the error rate and power analysis.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，统计测试可能导致错误的结论总是有可能的。因此，我们希望控制犯错误的概率。然而，与α不同，第二类错误率β不是一个我们可以简单选择的自由参数。为了理解犯第二类错误的可能性的大小，我们通常将进行功效分析，这将显示各种因素，如样本大小，将如何影响第二类错误率。在下一节中，我们将讨论选择错误率和功效分析。
- en: We can summarize the possible results of a hypothesis test with the help of
    the table in *Figure 3**.1*.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以用*图3.1*中的表格来总结假设检验的可能结果。
- en: '|  |  | Null Hypothesis is: |'
  id: totrans-39
  prefs: []
  type: TYPE_TB
  zh: '|  |  | 零假设是： |'
- en: '|  |  | True | False |'
  id: totrans-40
  prefs: []
  type: TYPE_TB
  zh: '|  |  | 真实 | 假 |'
- en: '| Decision about Null Hypothesis | Don’t Reject | Correct Inference(1- α) |
    Type II Error(β) |'
  id: totrans-41
  prefs: []
  type: TYPE_TB
  zh: '| 对零假设的决策 | 不拒绝 | 正确推断(1- α) | 第二类错误(β) |'
- en: '| Reject | Type I Error(α) | Correct Inference(1-β) |'
  id: totrans-42
  prefs: []
  type: TYPE_TB
  zh: '| 拒绝 | 第一类错误(α) | 正确推断(1-β) |'
- en: Figure 3.1 – Results of the hypothesis test
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.1 – 假设检验结果
- en: In this section, we have discussed the types of errors that can occur when drawing
    conclusions from statistical tests. In the next section, we will walk through
    an example of hypothesis testing with the z-test and later in the chapter, we
    will discuss how to select an error rate and how to analyze statistical power
    and related factors.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们讨论了从统计测试中得出结论时可能出现的错误类型。在下一节中，我们将通过z检验的假设检验示例进行讲解，在本章的后面部分，我们将讨论如何选择错误率以及如何分析统计功效和相关因素。
- en: Basics of the z-test – the z-score, z-statistic, critical values, and p-values
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: z检验的基础 – z分数，z统计量，临界值和p值
- en: 'In this section, we will discuss a type of hypothesis test called the z-test.
    It is a statistical procedure using sample data assumed to be normally distributed
    to determine whether a statistical statement related to the value of a population
    parameter should be rejected or not. The test can be performed on the following:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将讨论一种称为z检验的假设检验类型。这是一种使用假设为正态分布的样本数据来确定与总体参数值相关的统计陈述是否应该被拒绝的统计程序。该测试可以在以下方面进行：
- en: One sample (a left-tailed z-test, right-tailed z-test, or two-tailed z-test)
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 单样本（左尾z检验，右尾z检验或双尾z检验）
- en: Two samples (a two-sample z-test)
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 双样本（双样本z检验）
- en: Proportions (a one-proportion z-test or two-proportion z-test)
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比例（单比例z检验或双比例z检验）
- en: The test assumes that the standard deviation is known and the sample size is
    large enough. In practice, a sample size that is larger than 30 should be considered.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 该测试假设标准差是已知的，并且样本量足够大。在实践中，样本量应大于30。
- en: Before going into different types of z-tests, we will discuss the z-score and
    z-statistic.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在讨论不同类型的z检验之前，我们将讨论z分数和z统计量。
- en: The z-score and z-statistic
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: z分数和z统计量
- en: To measure how far a particular value from a mean is, we could use the z-score
    or the z-statistic as statistical techniques together with the mean and the standard
    deviation to determine the relative location.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 要衡量一个特定值与均值之间的距离，我们可以使用z分数或z统计量作为统计技术，结合均值和标准差来确定相对位置。
- en: 'A z-score is computed with the following formula:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: z分数的计算公式如下：
- en: z i =  x i −  _ x  _ σ
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: z i =  x i −  _ x  _ σ
- en: 'Here, z i is the z-score for x i,  _ x  is the sample mean, and σ is the sample
    standard deviation. The z-score is also known as the z-value, standardized value,
    or standard score. Let’s consider a few examples. The standard deviation tells
    us how far a sample is from the mean of the distribution. If z i = 1.8, that point
    is 1.8 standard deviations away from the mean. Similarly if z i = − 1.5, then
    that point is 1.5 standard deviations away from the mean. The sign of the determines
    whether it is greater or less than the sample mean. A z i of -1.5 is less than
    the mean and a z i of 1.8 is greater than the mean. Now let us go through an example.
    In a high school in Dallas (in the US), we ask students to take anonymous IQ tests
    for some statistical research. The data collected from that school is normally
    distributed with an IQ score population mean μ = 98 and a population standard
    deviation σ = 12\. A particular student took an IQ test and his score is 110\.
    He has an IQ score greater than the score mean but he wants to know whether he
    is in the top 5%. First, we will use the z-score formula to calculate it:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，z i 是 x i 的z分数，_x 是样本均值，σ 是样本标准差。z分数也称为z值、标准化值或标准分数。让我们考虑几个例子。标准差告诉我们样本与分布均值的距离。如果
    z i = 1.8，那么这个点距离均值1.8个标准差。同样，如果 z i = − 1.5，那么这个点距离均值1.5个标准差。符号确定它是大于还是小于样本均值。z i
    为 -1.5 表示小于均值，而 z i 为 1.8 表示大于均值。现在让我们通过一个例子来解释。在德克萨斯州达拉斯的一所高中（在美国），我们要求学生参加匿名智商测试，进行一些统计研究。从这所学校收集的数据呈正态分布，智商分数的总体均值
    μ = 98，总体标准差 σ = 12。一名学生参加了智商测试，他的分数是110。他的智商分数高于均值，但他想知道自己是否位于前5%。首先，我们将使用z分数公式来计算它：
- en: z student = 110 − 98 _ 12  = 12 _ 12 = 1.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: z student = 110 − 98 _ 12  = 12 _ 12 = 1.
- en: The student can check a z-table (*Figure 3**.2*), for example, from the website
    [http://www.z-table.com](http://www.z-table.com), and get the value of 0.8413\.
    He is in the top 1-0.8413 = 0.1587 or 15.87% of his school IQ scores.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 学生可以检查z表（*图3**.2*），例如，从网站[http://www.z-table.com](http://www.z-table.com)获取0.8413的值。他位于前1-0.8413
    = 0.1587或15.87%的学校智商分数中。
- en: '![Figure 3.2 – z-table](img/B18945_03_002.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![图3.2 – z表](img/B18945_03_002.jpg)'
- en: Figure 3.2 – z-table
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.2 – z表
- en: 'In Python, we can use the **cumulative distribution function** (**CDF**) to
    calculate it:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在Python中，我们可以使用**累积分布函数**（**CDF**）来计算它：
- en: '[PRE0]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: We also get the same value in Python as in the z-table check; it is 0.8413 for
    the z-score = 1 in this example.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在Python中得到的值与z表检查中的值相同；在这个例子中，z分数=1时的值为0.8413。
- en: 'Another example here is a simple random sample of 10 scores taken from the
    IQ survey:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个例子是一个从智商调查中随机抽取的10个分数样本：
- en: 90, 78, 110, 110, 99, 115, 130, 100, 95, 93
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 90, 78, 110, 110, 99, 115, 130, 100, 95, 93
- en: 'To compute the z-score for each IQ score in the sample, we need to calculate
    the mean and the standard deviation of this sample and then apply the z-score
    formula. Fortunately, we can use the `scipy` library again as follows:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 要计算样本中每个智商分数的z分数，我们需要计算这个样本的均值和标准差，然后应用z分数公式。幸运的是，我们再次可以使用`scipy`库，如下所示：
- en: '[PRE1]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: We created an array of IQ scores called `IQ` and used `z-score` from `scipy.stats`
    to compute `z_score`. Finally, we created the following output DataFrame.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 我们创建了一个名为`IQ`的智商分数数组，并使用`scipy.stats`中的`z-score`来计算`z_score`。最后，我们创建了以下输出DataFrame。
- en: '![Figure 3.3 – Output DataFrame](img/B18945_03_003.jpg)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![图3.3 – 输出DataFrame](img/B18945_03_003.jpg)'
- en: Figure 3.3 – Output DataFrame
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.3 – 输出DataFrame
- en: 'Before discussing the z-statistic, we will introduce the notion of sampling
    distributions. Going back to the last example, as a rule of thumb, we perform
    the process of selecting a simple random sample of 35 IQ scores from the pool
    of IQ scores of the high school repeatedly, as many times as needed for the study.
    We then compute the mean score of each sample, called  _ x . Because we have various
    samples selected, we also have various possible values of  _ x . The expected
    value of  _ x  is as follows:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 在讨论 z 统计量之前，我们将介绍抽样分布的概念。回顾上一个例子，作为一个经验法则，我们反复从高中智商分数池中选取 35 个智商分数的简单随机样本，所需次数取决于研究。然后，我们计算每个样本的平均分数，称为
    x。因为我们有各种选出的样本，所以我们也有 x 的各种可能值。x 的期望值如下：
- en: E( _ x ) = μ
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: E(x) = μ
- en: 'Here, μ is the population mean. σ  _ x  denotes the standard distribution of
     _ x . Practically, in many sampling situations, a population is relatively large
    compared to small sample sizes. Then, the standard deviation of  _ x  can be given
    as follows:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，μ 表示总体均值。σ_x 表示 x 的标准分布。实际上，在许多抽样情况下，总体相对于较小的样本量来说相对较大。那么，x 的标准差可以表示如下：
- en: σ  _ x  =  σ _ √ _ n
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: σ_x = σ / √n
- en: 'Here, σ is the population standard deviation and n is the sample size for finite
    or infinite populations such that the population is large and the sample size
    is small, relatively. Note that σ  _ x  is also called the standard error of the
    mean to help us determine how far the sample mean is from the population mean.
    Note that E( _ x ) = μ, independent of the sample size. Sample size and standard
    error are inversely correlated: when the sample size is increased, the standard
    error decreases. Since the sampling distribution of  _ x  is assumed to be normally
    distributed, the sample distribution is given by the following formula:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，σ 是总体标准差，n 是有限或无限总体中的样本量，总体较大，样本量相对较小。注意，σ_x 也被称为均值标准误，帮助我们确定样本均值与总体均值之间的距离。注意，E(x)
    = μ，与样本量无关。样本量和标准误成反比：当样本量增加时，标准误减小。由于假设 x 的抽样分布是正态分布的，样本分布由以下公式给出：
- en: z  _ x  =  ‾ x  − μ _ σ  ‾ x  ￼
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: z_x = x̄ − μ / σ / x̄
- en: 'In hypothesis tests about a population mean, we use test statistics where its
    formula is given as follows:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 在关于总体均值的假设检验中，我们使用测试统计量，其公式如下：
- en: z = z  _ x  =   _ x  − μ _ σ/ √ _ n
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: z = z_x = x − μ / σ / √n
- en: Here,  _ x  is the sample mean, μ is the population mean, σ is the population
    standard deviation, and n is the sample size.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，x 是样本均值，μ 是总体均值，σ 是总体标准差，n 是样本量。
- en: 'Consider the IQ test example again. The IQ score data has a mean μ = 98 and
    a standard deviation σ = 12\. Suppose the data is normally distributed. Let x
    be the score taken randomly from the IQ data. What is the probability that x is
    between 95 and 104? We will compute the z-scores when x = 95 and x = 104 as follows:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 再次考虑智商测试的例子。智商分数数据的均值为 μ = 98，标准差 σ = 12。假设数据服从正态分布。设 x 为从智商数据中随机抽取的分数。x 在 95
    和 104 之间的概率是多少？我们将计算当 x = 95 和 x = 104 时的 z 分数如下：
- en: z 95 =  95 − 98 _ 12  = − 0.25,
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: z_95 = 95 − 98 / 12 = −0.25,
- en: z 100 =  104 − 98 _ 12  = 0.5.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: z_100 = 104 − 98 / 12 = 0.5.
- en: 'Therefore, the probability that the taken score is between 95 and 104 is:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，所抽取的分数在 95 和 104 之间的概率是：
- en: P(95 < x < 104) = P(− 0.25 < z < 0.5) = 0.6915 − 0.4013 = 0.2902.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: P(95 < x < 104) = P(−0.25 < z < 0.5) = 0.6915 − 0.4013 = 0.2902.
- en: Then, the probability is about 29.02% that an IQ score taken at random from
    the data is between 95 and 104\. We also can get the values from a z-table as
    follows.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，这个概率大约是 29.02%，即从数据中随机抽取的智商分数在 95 和 104 之间的概率。我们还可以从 z 表中获取以下值。
- en: '![Figure 3.4 – z-table](img/B18945_03_004.jpg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![图 3.4 – z 表](img/B18945_03_004.jpg)'
- en: Figure 3.4 – z-table
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.4 – z 表
- en: '![Figure 3.5 – z-table](img/B18945_03_005.jpg)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![图 3.5 – z 表](img/B18945_03_005.jpg)'
- en: Figure 3.5 – z-table
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.5 – z 表
- en: 'In Python, we can implement the code as follows:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Python 中，我们可以按照以下方式实现代码：
- en: '[PRE2]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Another question raised is what is the probability that the mean score  _ x 
    of four scores taken randomly is between 95 and 104? To solve this question, we
    use the notion of the z-statistic. We assume the mean of  _ x  is also 98 and
     _ x  has a normal distribution. Then, the standard error of  _ x  is:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 提出的另一个问题是，随机抽取四个分数的平均分 x 在 95 和 104 之间的概率是多少？为了解决这个问题，我们使用 z 统计量的概念。我们假设 x 的均值也是
    98，且 x 服从正态分布。那么，x 的标准误为：
- en: σ  _ x  =  σ _ √ _ n   =  12 _ √ _ 4   = 6,
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: σ_x = σ / √n = 12 / √4 = 6,
- en: 'then:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 然后：
- en: z =   _ x  − μ  _ x  _ σ  _ x   =   _ x  − 98 _ 6 .
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: z =   _ x  − μ  _ x  _ σ  _ x   =   _ x  − 98 _ 6 .
- en: 'It is easy to calculate z 95 = − 0.5 and z 104 = 1\. By using the z-table,
    we can get the probability that the mean score  _ x  of six scores taken randomly
    is between 95 and 104 as follows:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 很容易计算出 z 95 = − 0.5 和 z 104 = 1。通过使用 z 表，我们可以得到随机抽取六个分数的平均分数 x 在 95 和 104 之间的概率如下：
- en: 0.8413 – 0.3085 = 0.5328
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 0.8413 – 0.3085 = 0.5328
- en: 'Or, about 53.28%. To use this idea, we can implement the code in Python as
    follows:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，大约 53.28%。为了使用这个想法，我们可以在 Python 中实现以下代码：
- en: '[PRE3]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Note that in the preceding code, we also need the library called `math` for
    calculating the square root function, `math.sqrt()`.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，在上述代码中，我们还需要 `math` 库来计算平方根函数，`math.sqrt()`。
- en: In the following section, we will discuss a z-test for means.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将讨论均值 z 测试。
- en: A z-test for means
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 均值 z 测试
- en: In this part, one-sample and two-sample z-tests related to a population mean
    or means of two populations respectively are considered.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在这部分，我们将考虑与总体均值或两个总体的均值相关的单样本和双样本 z 测试。
- en: A one-sample z-test
  id: totrans-104
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 单样本 z 测试
- en: A selected sample for research from a population should be normally distributed.
    The population standard deviation is supposed to be known, at least for practical
    purposes.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 从总体中选择的研究样本应该是正态分布的。总体标准差在实用目的上应该是已知的。
- en: This test is still applicable in cases where the population cannot be assumed
    to be normally distributed but the sample size needs to be considered large enough
    by a rule of thumb, based on the experiences of researchers involved in the study.
    To perform the hypothesis testing, we need to develop the null and alternative
    hypotheses. The following figure illustrates three null and alternative hypotheses
    corresponding to left-tailed, right-tailed, and two-tailed z-tests.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 当总体不能假设为正态分布，但根据研究参与者的经验，样本大小需要足够大时，此测试仍然适用。为了进行假设检验，我们需要制定零假设和备择假设。以下图示了与左尾、右尾和双尾
    z 测试相对应的三个零假设和备择假设。
- en: '![Figure 3.6 – Left-tailed, right-tailed, and two-tailed hypothesis tests](img/B18945_03_006.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![图 3.6 – 左尾、右尾和双尾假设检验](img/B18945_03_006.jpg)'
- en: Figure 3.6 – Left-tailed, right-tailed, and two-tailed hypothesis tests
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.6 – 左尾、右尾和双尾假设检验
- en: 'H 0 : μ ≥ μ 0 H 0 : μ ≤ μ 0 H 0 : μ = μ 0'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 'H 0 : μ ≥ μ 0 H 0 : μ ≤ μ 0 H 0 : μ = μ 0'
- en: 'H a : μ < μ 0 H a : μ > μ 0 H a : μ ≠ μ 0'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 'H a : μ < μ 0 H a : μ > μ 0 H a : μ ≠ μ 0'
- en: Next, we need to specify the level of significance, α, the probability of rejecting
    the null hypothesis when it is true. In other words, it is the probability of
    a type I error, aswe discussed in the last section. Then, we calculate the value
    of the test statistic. There are two approaches using a p-value or a critical
    value for the hypothesis testing.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们需要指定显著性水平 α，即在零假设为真时拒绝零假设的概率。换句话说，这是我们在上一节中讨论的第一类错误的概率。然后，我们计算测试统计量的值。有两种方法用于假设检验：使用
    p 值或临界值。
- en: 'In the p-value approach, we use the value of the test statistic to calculate
    a probability, denoted by the p-value, which takes on values as extreme as or
    more extreme than the test statistic derived from the sample. The smaller the
    p-value is, the more it indicates evidence against the null hypothesis, or in
    other words, the probability used to determine whether H 0 should be rejected.
    The rejection rule (reject H 0) is the p-value being less than or equal to the
    specified level of significance α in the research. In order to find the p-value
    based on the value of the test statistic in Python, we use the following syntax:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 在 p 值方法中，我们使用测试统计量的值来计算一个概率，称为 p 值，它可能具有与从样本中得到的测试统计量一样极端或更极端的值。p 值越小，就越表明有证据反对零假设，换句话说，这是用来确定是否应该拒绝
    H 0 的概率。拒绝规则（拒绝 H 0）是 p 值小于或等于研究中的指定显著性水平 α。为了根据测试统计量的值在 Python 中找到 p 值，我们使用以下语法：
- en: '[PRE4]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Here, `x` is the z-score. For example, we want to find the p-value associated
    with a z-score of -2.67 in a left-tailed test. The Python implementation is as
    follows:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，`x` 是 z 分数。例如，我们想要找到一个左尾测试中与 z 分数 -2.67 相关的 p 值。Python 实现如下：
- en: '[PRE5]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The output will be 0.0038\. Similar Python code is used in the case of a right-tailed
    test. For a two-tailed test, we need to multiply the value by 2:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将是 0.0038。在右尾测试的情况下，使用类似的 Python 代码。对于双尾测试，我们需要将值乘以 2：
- en: '[PRE6]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The following figure illustrates the idea of how the p-value is computed in
    each type of test.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 下图说明了如何计算每种类型检验中的p值。
- en: '![Figure 3.7 – p-values in hypothesis testing](img/B18945_03_007.jpg)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![图3.7 – 假设检验中的p值](img/B18945_03_007.jpg)'
- en: Figure 3.7 – p-values in hypothesis testing
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.7 – 假设检验中的p值
- en: The last step is to interpret the statistical conclusion.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一步是解释统计结论。
- en: On the other hand, in the critical value approach, we will need to compute a
    critical value for the test statistic by using the level of significance. Critical
    values are the boundaries of the critical region where we can reject the null
    hypothesis.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，在临界值方法中，我们需要使用显著性水平来计算检验统计量的临界值。临界值是临界区域的边界，我们可以据此拒绝零假设。
- en: '![Figure 3.8 – Critical regions in hypothesis testing](img/B18945_03_008.jpg)'
  id: totrans-123
  prefs: []
  type: TYPE_IMG
  zh: '![图3.8 – 假设检验中的临界区域](img/B18945_03_008.jpg)'
- en: Figure 3.8 – Critical regions in hypothesis testing
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.8 – 假设检验中的临界区域
- en: 'To compute the critical value in Python, we use the following syntax:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在Python中计算临界值时，我们使用以下语法：
- en: '[PRE7]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Here, `alpha` is the level of significance to be used. The following is the
    implementation of the code in Python for left-tailed, right-tailed, and two-tailed
    tests:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，`alpha` 是要使用的显著性水平。以下是在Python中实现左尾、右尾和双尾检验的代码：
- en: '[PRE8]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Here’s the output of the preceding code:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 这是前面代码的输出：
- en: '`The critical value` `is -1.6448536269514729`'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '`临界值` `是 -1.6448536269514729`'
- en: '`The critical value` `is 1.6448536269514722`'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '`临界值` `是 1.6448536269514722`'
- en: '`The critical values are -1.959963984540054` `and 1.959963984540054`'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '`临界值是 -1.959963984540054` `和 1.959963984540054`'
- en: At the level of significance α = 0.05 for the left-tailed test, the critical
    value is about -1.64485\. Since this is a left-tailed test, if the test statistic
    is less than or equal to this critical value, we reject the null hypothesis. Similarly,
    for the right-tailed test, if the test statistic is greater than or equal to 1.64485,
    we reject the null hypothesis. For the two-tailed test, we reject the null hypothesis
    if the test statistic is greater than or equal to 1.95996 or less than or equal
    to -1.95996.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 对于左尾检验，显著性水平 α = 0.05，临界值约为 -1.64485。由于这是一个左尾检验，如果检验统计量小于或等于这个临界值，我们拒绝零假设。同样，对于右尾检验，如果检验统计量大于或等于
    1.64485，我们拒绝零假设。对于双尾检验，如果检验统计量大于或等于 1.95996 或小于或等于 -1.95996，我们拒绝零假设。
- en: After determining whether to reject the null hypothesis, we interpret the statistical
    conclusion.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 确定是否拒绝零假设后，我们解释统计结论。
- en: 'Let us discuss the IQ test scores again in the high school in Dallas. The IQ
    score data has a mean of μ = 98 and a standard deviation of σ = 12\. A researcher
    wants to know whether IQ scores will be affected by some IQ training. He recruits
    30 students and trains them to answer IQ questions 2 hours per day for 30 days
    and records their IQ levels after finishing the training period. The IQ scores
    of 30 students after the training section are 95, 110, 105, 120, 125, 110, 98,
    90, 99, 100,110, 112, 106, 92, 108, 97, 95, 99, 100, 100,103, 125, 122, 110, 112,
    102, 92, 97, 89, and 102\. Their average score is 104.17\. We can easily implement
    the calculation in Python as follows:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们再次讨论达拉斯高中的智商测试分数。智商分数数据平均值为 μ = 98，标准差为 σ = 12。一位研究人员想知道智商分数是否会受到某些智商训练的影响。他招募了30名学生，每天训练他们2小时回答智商问题，共训练30天，并在训练结束后记录他们的智商水平。训练阶段后30名学生的智商分数为
    95, 110, 105, 120, 125, 110, 98, 90, 99, 100, 110, 112, 106, 92, 108, 97, 95,
    99, 100, 100, 103, 125, 122, 110, 112, 102, 92, 97, 89, 和 102。他们的平均分数是 104.17。我们可以轻松地在Python中实现以下计算：
- en: '[PRE9]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'We define the null hypothesis and the alternative hypothesis:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 我们定义零假设和备择假设：
- en: 'H 0 : μ after = μ = 98'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 'H 0 : μ after = μ = 98'
- en: 'H a : μ after > μ = 98'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 'H a : μ after > μ = 98'
- en: 'We choose the level of significance α=0.05\. Previously, the critical value
    for the right-tailed test was 1.64485\. We now calculate the test statistic on
    the problem:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 我们选择显著性水平 α=0.05。之前，右尾检验的临界值为 1.64485。我们现在计算问题中的检验统计量：
- en: z =   _ x  − μ _ σ/ √ _ n   =  104.17 − 98  _ 12/ √ _ 30   = 2.8162
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: z = x − μ σ/ √n = 104.17 − 98 12/ √30 = 2.8162
- en: 'It is implemented in Python as follows:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 它在Python中的实现如下：
- en: '[PRE10]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Since the test statistic value is 2.8162 > 1.64485, we reject the null hypothesis.
    This means that the training does affect the IQ levels of these students and helps
    them improve their IQ scores.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 由于检验统计量值为 2.8162 > 1.64485，我们拒绝零假设。这意味着训练确实影响了这些学生的智商水平，并帮助他们提高了智商分数。
- en: 'We also can use the `ztest()` function from the `statsmodels` package (*Seabold,
    Skipper, and Josef Perktold, “statsmodels: Econometric and statistical modeling
    with python.” Proceedings of the 9th Python in Science Conference. 2010*) to perform
    one- or two-sample z-tests (which we will discuss in the next part). The syntax
    is as follows:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '我们还可以使用来自`statsmodels`包的`ztest()`函数（*Seabold, Skipper, 和 Josef Perktold, “statsmodels:
    Econometric and statistical modeling with python.” Proceedings of the 9th Python
    in Science Conference. 2010*）来执行单样本或双样本z检验（我们将在下一部分讨论）。语法如下：'
- en: '[PRE11]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Here, we see the following:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，我们看到以下内容：
- en: '`x1`: The first of the two independent samples'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`x1`: 两个独立样本中的第一个'
- en: '`x2`: The second of the two independent samples (if performing a two-sample
    z-test)'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`x2`: 两个独立样本中的第二个（如果执行双样本z检验）'
- en: '`value`: In the one -sample case, `value` is the mean of `x1` under the null
    hypothesis. In the two-sample case, `value` is the difference between the mean
    of `x1` and the mean of `x2` under the null hypothesis. The test statistic is
    `x1_mean - x2_mean -` `value`.'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`value`: 在单样本情况下，`value`是零假设下`x1`的均值。在双样本情况下，`value`是零假设下`x1`的均值与`x2`的均值之差。检验统计量是`x1_mean
    - x2_mean - value`。'
- en: '`alternative`: The alternative hypothesis:'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`alternative`: 替代假设：'
- en: '`''two-sided''`: Two-sided test'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '`''two-sided''`: 双侧检验'
- en: '`''larger''`: Right-tailed test'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '`''larger''`: 右侧检验'
- en: '`''smaller''` : Left-tailed test'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '`''smaller''`: 左侧检验'
- en: 'The following Python code shows how we perform a one-sample z-test:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 以下Python代码展示了我们如何执行单样本z检验：
- en: '[PRE12]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: The test statistic is 3.3975 and the p-value = 0.00034 < 0.05, where 0.05 is
    the level of significance. Therefore, we have enough evidence to reject the null
    hypothesis. This means that the training does affect the IQ levels of these students.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 检验统计量为3.3975，p值=0.00034 < 0.05，其中0.05是显著性水平。因此，我们有足够的证据拒绝零假设。这意味着训练确实影响了这些学生的智商水平。
- en: Two-sample z-test
  id: totrans-158
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 双样本z检验
- en: 'We consider two normally distributed and independent populations. Let Ω be
    the hypothesized difference between two population means, μ 1 and μ 2\. Similarly,
    as in the case of the one-sample z-test, we have three forms for the null and
    alternative hypotheses:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 我们考虑两个正态分布且独立的总体。让Ω表示两个总体均值μ1和μ2之间的假设差异。同样，正如单样本z检验的情况一样，我们有三种零假设和替代假设的形式：
- en: 'H 0 : μ 1 − μ 2 ≥ Ω H 0 : μ 1 − μ 2 ≤ Ω H 0 : μ 1 − μ 2 = Ω'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 'H0: μ1 − μ2 ≥ Ω H0: μ1 − μ2 ≤ Ω H0: μ1 − μ2 = Ω'
- en: 'H a : μ 1 − μ 2 < Ω H a : μ 1 − μ 2 > Ω H a : μ 1 − μ 2 ≠ Ω'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 'H0: μ1 − μ2 < Ω H0: μ1 − μ2 > Ω H0: μ1 − μ2 ≠ Ω'
- en: 'In many problems, Ω = 0\. That means that for the case of the two-tailed test,
    the null hypothesis is zero, or in other words, μ 1 and μ 2 are equal. The test
    statistic for hypothesis tests is computed as follows:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多问题中，Ω = 0。这意味着对于双尾检验的情况，零是零假设，换句话说，μ1和μ2是相等的。假设检验的检验统计量计算如下：
- en: z =  (‾ x 1 − ‾ x 2) − Ω  ___________  √ _ σ 1 2 _ n 1  + σ 2 2 _ n 2
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: z = (̅x1 − ̅x2) − Ω / √(σ1^2/n1 + σ2^2/n2)
- en: 'Here, _ x 1 and _ x 2 are the sample means with the sample sizes n 1and n 2randomly
    taken from the two populations with the means μ 1 and μ 2, respectively. σ 1 and
    σ 2 are the standard deviations for these two populations. With two independent
    simple random samples, the point estimator _ x 1 − _ x 2 has a standard error
    given as follows:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，_x1和_x2是样本均值，n1和n2是从两个具有均值μ1和μ2的总体中随机抽取的样本大小。σ1和σ2是这两个总体的标准差。对于两个独立的简单随机样本，点估计量_x1
    − _x2的标准误差如下：
- en: σ ‾ x 1−‾ x 2 = √ _  σ 1 2 _ n 1  +  σ 2 2 _ n 2
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: σ̅x1−̅x2 = √(σ1^2/n1 + σ2^2/n2)
- en: The distribution of _ x 1 − _ x 2 can be considered a normal distribution when
    the sample sizes are large enough. The step-by-step approach to the two-sample
    z-test hypothesis test is similar to that of the one-sample z-test.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 当样本量足够大时，_x1 − _x2的分布可以被认为是正态分布。双样本z检验假设检验的逐步方法与单样本z检验类似。
- en: Let us now consider an example. We study the IQ scores of students from two
    schools, named A and B, in Dallas, and we want to know whether the mean IQ levels
    for these two schools are different. A simple random sample of 30 students from
    each school is recorded.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑一个例子。我们研究了达拉斯两所学校A和B的学生的智商分数，并想知道这两所学校的平均智商水平是否不同。记录了每所学校30名学生的简单随机样本。
- en: A= [95,110, 105, 120, 125, 110, 98, 90, 99, 100,110, 112, 106, 92, 108, 97,
    95, 99, 100, 100, 103, 125, 122, 110, 112, 102, 92, 97, 89, 102]
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: A= [95,110, 105, 120, 125, 110, 98, 90, 99, 100,110, 112, 106, 92, 108, 97,
    95, 99, 100, 100, 103, 125, 122, 110, 112, 102, 92, 97, 89, 102]
- en: B = [98, 90, 100, 93, 91, 79, 90, 100, 121, 89, 101, 98, 75, 90, 95, 99, 100,
    120, 121, 95,
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: B = [98, 90, 100, 93, 91, 79, 90, 100, 121, 89, 101, 98, 75, 90, 95, 99, 100,
    120, 121, 95,
- en: 96, 89, 115, 99, 95, 121, 122, 98, 97, 97]
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 96, 89, 115, 99, 95, 121, 122, 98, 97, 97]
- en: 'The null and alternative hypotheses are:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 研究人员收集了一个样本数据，观察到的样本比例 p = 0.84，假设的总体比例 p0 = 0.8，样本大小 n = 500。零假设和替代假设如下：
- en: 'H 0 : μ 1 − μ 2 = 0'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 'H0 : μ1 − μ2 = 0'
- en: 'H a : μ 1 − μ 2 ≠ 0'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 'Ha :   _p ≠ p0.'
- en: 'We choose the level of significance α=0.05\. In Python, by using the `ztest()`
    function of the `statsmodels` package, we perform the following calculation:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 我们选择显著性水平 α=0.05。在 Python 中，通过使用 `statsmodels` 包的 `ztest()` 函数，我们进行以下计算：
- en: '[PRE13]'
  id: totrans-175
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: In the preceding code, we chose `alternative = 'two-sided'` related to the null
    and alternative hypotheses for the study. The test statistic and the p-value produced
    by the Python code are 1.757 and 0.079, respectively. Using a level of significance
    of 0.05, since the p-value > 0.05, we fail to reject the null hypothesis. In other
    words, we do not have enough evidence to show that the IQ mean scores between
    the students from the two schools are different.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 'H0 :   _p = p0,'
- en: z-test for proportions
  id: totrans-177
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 比例的 z-test
- en: We can also test for differences in proportions. Let’s take a look at how to
    perform the z-test for proportions.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 'H0 :   _p ≥ p0 H0 :   _p ≤ p0 H0 :   _p = p0'
- en: A one-proportion z-test
  id: totrans-179
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 单比例 z-test
- en: 'One-proportion z-tests are used to compare the difference between a sample
    proportion  _ p  and a hypothesized proportion p0\. Similarly, as in a z-test
    for means, we have three forms for the null and alternative hypotheses – left-tailed,
    right-tailed, and two-tailed tests:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，*n* 是样本大小。让我们考虑一个例子。在休斯顿的一所社区学院，一位研究人员想知道学生是否支持一些等于 80% 的变化。他将在显著性水平 α =
    0.05 下使用单比例 z-test。为了在 Python 中实现代码，他可以使用 `statsmodel` 库中的 `proportions_ztest`。语法如下：
- en: 'H 0 :  _ p  ≥ p 0 H 0 :  _ p  ≤ p 0 H 0 :  _ p  = p 0'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '`nobs`: 试验或观察的数量'
- en: 'H a :  _ p  < p 0 H a :  _ p  > p 0 H a :  _ p  ≠ p 0'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 单比例 z-test 用于比较样本比例 _p 与假设比例 p0 之间的差异。同样，正如在均值 z-test 中，我们对零假设和替代假设有三种形式 - 左尾、右尾和双尾测试：
- en: 'The test statistic is computed as follows:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 测试统计量计算如下：
- en: z =   _ p  − p 0 _____________  √ ___________ p 0(1 − p 0) _ n
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: z =   _p − p0___________√___________p0(1 − p0)_________n
- en: 'Here, *n* is the sample size. Let us consider an example. In a community college
    in Houston, a researcher wants to know whether students support some changes equal
    to 80%. He will use a one-proportion z-test at the level of significance α = 0.05\.
    To implement the code in Python, he can use `proportions_ztest` from the `statsmodel`
    library. The syntax is as follows:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的代码中，我们选择了 `alternative = 'two-sided'`，这与研究的零假设和替代假设相关。Python 代码产生的测试统计量和
    p-value 分别为 1.757 和 0.079。使用显著性水平 0.05，由于 p-value > 0.05，我们未能拒绝零假设。换句话说，我们没有足够的证据表明来自两所学校的学生的智商平均分数不同。
- en: '[PRE14]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '`count`: The number of successes'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们也可以测试比例的差异。让我们看看如何进行比例的 z-test。
- en: '`nobs`: The number of trials or observations'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 零假设和替代假设如下：
- en: '`value`: This is the value of the null hypothesis, equal to the proportion
    in the case of a one-sample test. In the case of a two-sample test, the null hypothesis
    is `prop[0] - prop[1] = value`, where `prop` is the proportion in the two samples.
    If not provided, `value` = 0, and the null hypothesis is `prop[0] = prop[1]`.`alternative`:
    The alternative hypothesis:'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`value`: 这是零假设的值，在单样本测试的情况下等于比例。在双样本测试的情况下，零假设是 `prop[0] - prop[1] = value`，其中
    `prop` 是两个样本中的比例。如果没有提供，`value` = 0，零假设是 `prop[0] = prop[1]`。'
- en: '`''two-sided''`: Two-sided test'
  id: totrans-190
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`''two-sided''`: 双尾测试'
- en: '`''larger''`: Right-tailed test'
  id: totrans-191
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`''larger''`: 右尾测试'
- en: '`''smaller''`: Left-tailed test'
  id: totrans-192
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`''smaller''`: 左尾测试'
- en: 'The researcher gathers a sample of data with an observed sample proportion
    p = 0.84, the hypothesized population proportion p 0 = 0.8, and the sample size
    n = 500\. The null and alternative hypotheses are as follows:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 'Ha : μ1 − μ2 ≠ 0'
- en: 'H 0 :  _ p  = p 0,'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: '`alternative`: 替代假设：'
- en: 'H a :  _ p  ≠ p 0.'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 'Ha :   _p < p0 Ha :   _p > p0 Ha :   _p ≠ p0'
- en: 'We will implement a one-proportion two-tailed z-test in Python to calculate
    the test statistic and p-value:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在 Python 中实现一个单比例双尾 z-test 来计算测试统计量和 p-value：
- en: '[PRE15]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: The test statistic is -2.236067977499786 and the corresponding p-value is 0.0253473186774685\.
    Since the p-value < 0.05 (the level of significance), we reject the null hypothesis.
    There is enough evidence to suggest the proportion of students who support the
    changes is different from 0.8.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 测试统计量为-2.236067977499786，相应的p值为0.0253473186774685。由于p值 < 0.05（显著性水平），我们拒绝零假设。有足够的证据表明，支持变化的学生的比例与0.8不同。
- en: A two-proportion z-test
  id: totrans-199
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 双比例z检验
- en: 'This test is used to test the difference between two population proportions.
    There are also three forms of the null and alternative hypotheses. The test statistic
    is computed as follows:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 此检验用于检验两个总体比例之间的差异。还有三种形式的零假设和备择假设。测试统计量的计算如下：
- en: z =  ‾ p 1 − ‾ p 2  ____________  √ _____________   _ p (1 −  _ p )( 1 _ n 1
    +  1 _ n 2)
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: z =  ‾ p 1 − ‾ p 2  ____________  √ _____________   _ p (1 −  _ p )( 1 _ n 1
    +  1 _ n 2)
- en: 'Here, _ p 1 is a sample proportion for a simple random sample from population
    1 and _ p 2 is a sample proportion for a simple random sample from population
    2, n 1 and n 2 are the sample sizes, and  _ p  is the total pooled proportion,
    calculated as follows:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，_ p 1 是从总体1的简单随机样本中的样本比例，_ p 2 是从总体2的简单随机样本中的样本比例，n 1 和 n 2 是样本大小，_ p  是总合并比例，计算如下：
- en: _ p  =  n 1‾ p 1 + n 2‾ p 2 _ n 1 + n 2 .
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: _ p  =  n 1‾ p 1 + n 2‾ p 2 _ n 1 + n 2 .
- en: 'We consider a similar example if there is a difference in the proportion of
    students from school A who support the changes compared to the proportion of students
    from school B. Here, n 1 = 100, n 2 = 100, _ p 1 = 0.8, and _ p 2 = 0.7\. You
    can use `proportions_ztest` from the `statsmodels` library (*Seabold, Skipper,
    and Josef Perktold, “statsmodels: Econometric and statistical modeling with python.”
    Proceedings of the 9th Python in Science Conference. 2010*) to perform the hypothesis
    test. Here, we will compute the p-value directly using the test statistic. The
    null and alternative hypotheses are as follows:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: '如果A校支持变化的学生的比例与B校支持变化的学生的比例存在差异，我们将考虑一个类似的例子。在这里，n 1 = 100，n 2 = 100，_ p 1
    = 0.8，_ p 2 = 0.7。你可以使用`statsmodels`库中的`proportions_ztest`函数（Seabold, Skipper,
    和 Josef Perktold, “statsmodels: Econometric and statistical modeling with python.”
    Proceedings of the 9th Python in Science Conference. 2010）来进行假设检验。在这里，我们将直接使用测试统计量来计算p值。零假设和备择假设如下：'
- en: 'H 0 : _ p 1 = _ p 2 (The two population proportions are equal)'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 'H 0 : _ p 1 = _ p 2 (两个总体比例相等)'
- en: 'H a : _ p 1 ≠ _ p 2 (The two population proportions are different)'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 'H a : _ p 1 ≠ _ p 2 (两个总体比例不同)'
- en: 'Next, we specify that the level of significance for the two-tailed test is
    α = 0.05\. We then calculate the test statistic and p-value as follows:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们指定双尾检验的显著性水平为α = 0.05。然后我们计算测试统计量和p值如下：
- en: '[PRE16]'
  id: totrans-208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: The test statistic is 1.633 and the p-value for a two-tailed test is 0.10\.
    Because the p-value is greater than the specified level of significance, 0.05,
    we fail to reject the null hypothesis. There is enough evidence to say that the
    proportion of students who support the changes is different between school A and
    school B.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 测试统计量为1.633，双尾检验的p值为0.10。因为p值大于指定的显著性水平0.05，所以我们未能拒绝零假设。有足够的证据表明，支持变化的A校和B校学生的比例是不同的。
- en: 'Finally, the implemented Python code for the preceding calculation is as follows:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，实现上述计算的Python代码如下：
- en: '[PRE17]'
  id: totrans-211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: In this section, we went through different important statistical notions such
    as the z-score, z-statistics, critical values, p-value, and z-test for means and
    proportions. We will discuss selecting the error rate and power analysis in the
    next section.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们讨论了不同的重要统计概念，例如z分数、z统计量、临界值、p值以及均值和比例的z检验。我们将在下一节讨论选择错误率和功效分析。
- en: Selecting the error rate and power analysis
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 选择错误率和功效分析
- en: Statistics generalizes approximations around which to form acceptable conclusions
    from behaviors in data. Therefore, errors in statistics are unavoidable. The significance
    of findings from statistical models is essentially determined by the error rate.
    One method that can be used to minimize errors in modeling, especially with lower
    sample volumes, is the power test. Statistical power is the probability of correctly
    rejecting a null hypothesis, thus minimizing type II errors. Where alpha (*α*)
    is a type I error and beta (*β*) is a type II error, power’s formulation is *1
    – β*. To refresh, a type I error is the probability of incorrectly rejecting the
    null hypothesis.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 统计学概括了围绕形成从数据行为中得出可接受结论的近似。因此，统计错误是不可避免的。统计模型发现的重要性基本上由错误率决定。一种可以用来最小化建模错误的方法，尤其是在样本量较低的情况下，是功率测试。统计功率是正确拒绝零假设的概率，从而最小化II型错误。其中α（*α*）是I型错误，β（*β*）是II型错误，功率的公式是*1
    – β*。为了回顾，I型错误是错误拒绝零假设的概率。
- en: As noted, power is more important with smaller samples because the law of large
    numbers typically helps minimize errors as the sample size increases if an appropriate
    sampling method is chosen. Power is also important when the differences being
    compared are relatively small. One scenario in which power analysis may be particularly
    useful is when sampling is expensive, for example, with human studies. Power analyses
    can be used to find an appropriate minimum sample size given the desired power,
    type I error rate, and effect size. The relationship between these parameters
    can be explored as needed. Effect size is the difference or similarity of the
    data being compared in the hypothesis test, such as a standardized difference
    of means or correlation. As a common level of significance (type I error) in hypothesis
    testing is anywhere between 0.01 and 0.1, a common level of power is anywhere
    between 0.8 and 0.9, although these measures are case-dependent (https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7745163/#:~:text=The%20ideal%20power%20of%20a,high%20as%200.8%20or%200.9).
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 正如所注，功率在样本量较小时更为重要，因为大数定律通常有助于最小化误差，前提是选择了适当的抽样方法。当比较的差异相对较小时，功率也很重要。一种功率分析可能特别有用的场景是抽样成本较高时，例如在人类研究中。功率分析可以用来根据所需的功率、I型错误率和效应大小找到适当的最小样本量。这些参数之间的关系可以根据需要进行探索。效应大小是在假设检验中比较的数据之间的差异或相似性，例如平均值的标准化差异或相关性。在假设检验中，常见的显著性水平（I型错误）通常在0.01到0.1之间，常见的功率水平在0.8到0.9之间，尽管这些指标是案例依赖的（https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7745163/#:~:text=The%20ideal%20power%20of%20a,high%20as%200.8%20or%200.9）。
- en: 'A few notable properties of power are as follows:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 功率的一些显著特性如下：
- en: There must be sufficient power to detect a meaningful difference
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 必须有足够的功率来检测有意义的不同
- en: Power increases with sample size
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 功率随样本量增加
- en: Power increases with the effect size
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 功率随效应大小增加
- en: Standard deviation (as well as variance and standard error) decreases as power
    increases
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 随着功率的增加，标准差（以及方差和标准误）减小
- en: In the following plot, we can see that type I error (α) is where we may falsely
    assume the null hypothesis and conclude there is no statistically significant
    difference when, in fact, the data points don’t belong to data source 2 (the null
    hypothesis), but to data source 1\. Type II error (β) is where we might make the
    mistake of assuming the data in that region belongs to data source 1 (the alternate
    hypothesis) when, in fact, it belongs to data source 2.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下图中，我们可以看到I型错误（α）是我们可能错误地假设零假设并得出没有统计显著差异的结论的地方，而实际上数据点不属于数据源2（零假设），而是属于数据源1。II型错误（β）是我们可能错误地假设该区域的数据属于数据源1（备择假设）的地方，而实际上它属于数据源2。
- en: '![Figure 3.9 – Visualizing error in a left-tailed two-population z-test](img/B18945_03_009.jpg)'
  id: totrans-222
  prefs: []
  type: TYPE_IMG
  zh: '![图3.9 – 左尾双样本z检验中的误差可视化](img/B18945_03_009.jpg)'
- en: Figure 3.9 – Visualizing error in a left-tailed two-population z-test
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.9 – 左尾双样本z检验中的误差可视化
- en: 'As illustrated in the preceding plot, we see a left-tailed t-test comparing
    the null distribution on the right to the alternate distribution on the left.
    In this plot, we can see two prominent concepts at hand:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 如前图所示，我们看到了一个左尾t检验，将右侧的零分布与左侧的备择分布进行比较。在此图中，我们可以看到两个突出的概念：
- en: As *α* becomes smaller, the critical value slides left, moving more toward distributional
    outliers, *β* becomes larger, and vice versa
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 随着*α*的减小，临界值向左滑动，更多地接近分布的异常值，*β*变大，反之亦然
- en: Statistical power is the area of data source 2 to the right of *β*, as *power
    = (**1-β)*
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 统计功效是数据源2中*β*右侧的区域，即*功效 = (1-β)*
- en: A type I error is determined based on a pre-selected threshold; a researcher
    may feel most comfortable with a 90, 95, or 99% level of confidence. However,
    a type II error is based on parameterization (standard deviation, effect size,
    sample size, and so on). Therefore, we can use a power analysis to identify the
    sample size, and vice versa. The implementation of power analysis for various
    hypothesis tests will be implemented in the following two chapters.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 一类错误是基于预先选择的阈值确定的；研究者可能对90%、95%或99%的置信水平感到最舒适。然而，二类错误是基于参数化（标准差、效应量、样本量等）。因此，我们可以使用功效分析来确定样本量，反之亦然。各种假设检验的功效分析将在以下两章中实现。
- en: Power analysis for a two-population pooled z-test
  id: totrans-228
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 双样本合并z检验的功效分析
- en: Let us look at a dataset of salaries for professors of two different disciplines,
    discipline A and discipline B. We want to know whether there is a statistically
    significant difference between them based on the data we have. First, we need
    to perform a power analysis to know whether we have enough samples to trust the
    results of the z-test we may perform to test this hypothesis. The components of
    a power analysis we need for this include effect size, the type I error rate,
    a desired type II error rate, the direction of the alternate hypothesis (group
    2 is expected to be larger than, smaller than, or could be either larger or smaller
    than group 1), and the ratio of observations in the larger sample relative to
    that of the smaller. Discipline A has 181 salaries and discipline B has 216\.
    Therefore, 216 will be our numerator corresponding to what we will consider as
    *group 1* (discipline A will be *group 2*).
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看两个不同学科（学科A和学科B）的教授薪资数据集。我们想知道根据我们拥有的数据，这两个学科之间是否存在统计上显著的差异。首先，我们需要进行功效分析，以了解我们是否有足够的样本来信任我们可能进行的z检验的结果。我们需要的功效分析组件包括效应量、一类错误率、期望的二类错误率、备择假设的方向（组2预计比组1大、小，或者可能比组1大或小），以及较大样本中观测值的比例相对于较小样本。学科A有181个薪资数据，学科B有216个。因此，216将是我们的分子，对应于我们将考虑的*组1*（学科A将是*组2*）。
- en: 'Let us suppose we are not sure whether one group will be larger or smaller
    than the other; we will consider this a two-sided hypothesis test. The effect
    size for this z-test is the difference between the two groups. We will use **Cohen’s
    d**. To calculate that, we need to divide the difference between the means of
    the two groups by the pooled standard deviation. Calculated here, the pooled standard
    deviation is the number of samples in group 1 multiplied by the variance of group
    1, plus the same for group 2, all divided by the combined sample size for the
    two groups. The following is the equation for the pooled standard deviation:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们假设我们不确定一个组是否会比另一个组大或小；我们将考虑这是一个双尾假设检验。这个z检验的效应量是两组之间的差异。我们将使用**Cohen的d**。为了计算它，我们需要将两组均值的差异除以合并标准差。在这里计算，合并标准差是组1样本数量乘以组1的方差，加上组2的相同值，所有这些除以两组的合并样本量。以下是合并标准差的方程：
- en: √ _____________   n 1 σ 1 2 + n 2 σ 2 2  _ n 1 + n 2
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: √ _____________   n 1 σ 1 2 + n 2 σ 2 2  _ n 1 + n 2
- en: 'For effect size, we need to divide the difference of means by the effect size
    as follows:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 对于效应量，我们需要将均值差除以效应量，如下所示：
- en: '|μ 1 − μ 2| ______________  √ ___________  n 1 σ 1 2 + n 2 σ 2 2  _ n 1 + n 2'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: '|μ 1 − μ 2| ______________  √ ___________  n 1 σ 1 2 + n 2 σ 2 2  _ n 1 + n 2'
- en: Note that in the equation for effect size, we take the absolute value of the
    difference of means. That is because, for Cohen’s d, we always need a positive
    difference of means for this test.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，在效应量的方程中，我们取均值差的绝对值。这是因为，对于Cohen的d，我们总是需要这个测试的正均值差。
- en: 'As calculated here, if we want a power of 80% (the type II error rate is 20%)
    and a type I error rate (a level of significance) of 0.05, we will need 172 samples
    in group 1 and 145 samples in group 2\. However, if we wanted a power of 90% and
    a level of significance of 0.01 (99% confidence), we would need 325 samples in
    group 1 and 274 samples in group 2:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 如此计算，如果我们想要80%的功效（II型错误率是20%）和0.05的I型错误率（显著性水平），我们需要在组1中172个样本和在组2中145个样本。然而，如果我们想要90%的功效和0.01的显著性水平（99%置信度），我们需要在组1中325个样本和在组2中274个样本：
- en: '[PRE18]'
  id: totrans-236
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'The output from this code is as follows:'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码的输出如下：
- en: '[PRE19]'
  id: totrans-238
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'The output of this code is as follows:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码的输出如下：
- en: '`Sample Size Required in Sample` `1: 325.346`'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: '`样本所需样本量` `1: 325.346`'
- en: '`Sample Size Required in Sample` `2: 273.400`'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: '`样本所需样本量` `2: 273.400`'
- en: Summary
  id: totrans-242
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: 'In this chapter, we introduced the concept of a hypothesis test. We started
    with a basic outline of a hypothesis test with the four key steps:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们介绍了假设检验的概念。我们从一个基本的假设检验轮廓开始，包含四个关键步骤：
- en: State the hypothesis
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 陈述假设
- en: Perform the test
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行测试
- en: Determine whether to reject or fail to reject the null hypothesis
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定是否拒绝或未能拒绝零假设
- en: Draw a statistical conclusion with a scope of inference
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在推断范围内得出统计结论
- en: Then we talked about potential errors that can occur and false positives and
    false negatives and defined the expected error rate (alpha) of a test and the
    power (beta) of a test.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们讨论了可能发生的潜在错误以及假阳性和假阴性，并定义了测试的预期错误率（alpha）和测试的效力（beta）。
- en: We also discussed the statistical procedure called the z-test. This is a type
    of hypothesis test using sample data assumed to be normally distributed. The z-score
    and z-statistic were also introduced in the section on different types of z-tests,
    such as one-sample or two-sample z-tests for means or proportions.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还讨论了名为z检验的统计程序。这是一种使用假设为正态分布的样本数据进行假设检验的类型。在关于不同类型z检验的章节中，也介绍了z分数和z统计量，例如用于均值或比例的单样本或双样本z检验。
- en: Finally, we discussed the concept and motivation behind the power analysis,
    which can be used to identify the probability of incorrectly rejecting the null
    hypothesis and selecting the sample size. We also explored the parameters of the
    analysis for a two-population pooled z-test. Here, we briefly examined effect
    size, which is the value of impact (the effect of a treatment) we search for when
    performing the hypothesis test. We will discuss power analysis in the next two
    chapters as we iterate over different applications of hypothesis testing.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们讨论了功效分析的原理和动机，功效分析可以用来识别错误拒绝零假设的概率以及确定样本大小。我们还探讨了双总体合并z检验的分析参数。在这里，我们简要考察了效应量，这是我们在进行假设检验时寻找的影响值（治疗的效应）。我们将在下一章讨论功效分析，随着我们对假设检验不同应用的迭代。
- en: In the next chapter, we will discuss more parametric hypothesis tests. While
    these tests will still require distribution assumptions, the assumptions will
    be less strict than the assumptions of the z-test.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将讨论更多的参数假设检验。虽然这些测试仍然需要分布假设，但假设将比z检验的假设不那么严格。
