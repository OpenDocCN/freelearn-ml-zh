<html><head></head><body>
<div id="sbo-rt-content"><div id="_idContainer144">
<h1 class="chapter-number" id="_idParaDest-136"><a id="_idTextAnchor193"/>10</h1>
<h1 id="_idParaDest-137"><a id="_idTextAnchor194"/>Multiclassifiers</h1>
<p>In the preceding chapters, we saw that multi-label datasets, where a tweet may have zero, one, or more labels, are considerably harder to deal with than simple multi-class datasets where each tweet has exactly one label, albeit drawn from a set of more than one option. In this chapter, we will investigate ways of dealing with these cases, looking in particular at the use of <strong class="bold">neutral</strong> as a label for handling cases where a tweet is allowed to have zero labels; at using varying thresholds to enable standard classifiers to return a variable number of labels; and at training multiple classifiers, one per label, and allowing them each to make a decision about the label they were trained for. The conclusion, as ever, will be that there is no single “silver bullet” that provides the best solution in every case, but in general, the use of multiple classifiers tends to be better than the <span class="No-Break">other approaches.</span></p>
<p>In this chapter, we’ll cover the <span class="No-Break">following topics:</span></p>
<ul>
<li>Using confusion matrices to analyze the behavior of classifiers on <span class="No-Break">complex data</span></li>
<li>Using <strong class="bold">neutral</strong> as a label to deal with tweets that have no label assigned <span class="No-Break">to them</span></li>
<li>Varying thresholds to handle <span class="No-Break">multi-label datasets</span></li>
<li>Training multiple classifiers to handle <span class="No-Break">multi-label datasets</span></li>
</ul>
<p>By the end of this chapter, you will understand how to implement several strategies for dealing with muti-label datasets and will have an appreciation of the effectiveness of these strategies for different kinds <span class="No-Break">of data.</span></p>
<h1 id="_idParaDest-138"><a id="_idTextAnchor195"/>Multilabel datasets are hard to work with</h1>
<p>We will start <a id="_idIndexMarker807"/>by looking at the performance of a selection of classifiers from previous chapters on the main datasets. We have said several times that multi-label datasets are particularly challenging, but it is worth bringing together the results from the best-performing algorithms to see exactly how challenging they are. <span class="No-Break"><em class="italic">Figure 10</em></span><em class="italic">.1</em> includes all the major classifiers that we have looked at so far. The multi-label datasets are highlighted in gray, and the best-performing classifier for each row is <a id="_idIndexMarker808"/>marked <span class="No-Break">in bold/asterisks:</span></p>
<table class="No-Table-Style" id="table001-10">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">LEX</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">CP</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">NB</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SVM</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SNN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">DNN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">Transformers</strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM4-EN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.497</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.593</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.775</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.845</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.829</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.847</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">* </strong><span class="No-Break"><strong class="bold">0.927 *</strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-EN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.348</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.353</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.227</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.224</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.242</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.246</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">* </strong><span class="No-Break"><strong class="bold">0.418 *</strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">WASSA-EN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.437</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.505</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.709</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">* </strong><span class="No-Break"><strong class="bold">0.770 *</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.737</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.752</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.753</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">CARER-EN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.350</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.395</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.776</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.770</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">* </strong><span class="No-Break"><strong class="bold">0.820*</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.804</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.816</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">IMDB-EN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.667</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.722</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.738</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.736</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.793</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.793</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">* </strong><span class="No-Break"><strong class="bold">0.826 *</strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM4-AR</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.509</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.513</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.531</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.514</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.504</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.444</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">* </strong><span class="No-Break"><strong class="bold">0.710 *</strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-AR</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">* </strong><span class="No-Break"><strong class="bold">0.386 *</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.382</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.236</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.216</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.221</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.207</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.359</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">KWT.M-AR</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.663</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">* </strong><span class="No-Break"><strong class="bold">0.666 *</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.494</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.631</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.028</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.026</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.053</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM4-ES</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.420</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.177</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.360</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.412</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.337</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.343</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">* </strong><span class="No-Break"><strong class="bold">0.663 *</strong></span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-ES</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.271</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.278</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.230</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.226</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.221</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.222</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">* </strong><span class="No-Break"><strong class="bold">0.340 *</strong></span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.1 – Selected Jaccard scores for the standard datasets (multi-label datasets in gray)</p>
<p>Two things stand out from <span class="No-Break">this table:</span></p>
<ul>
<li>For most of the entries in this table, LEX is the worst classifier, with NB coming next, and then the others generally scoring fairly similarly. For the multi-label cases, however, LEX or CP are always better than anything else except transformers, and in a couple of cases, they are better than transformers as well. Given that these seem to be the most realistic datasets, since plenty of tweets express no emotion and a fair number express more than one, it is worth looking in more detail at what is going on in <span class="No-Break">these cases.</span></li>
<li>The multi-label cases also score significantly worse overall – while LEX and CP score better than most other classifiers on these cases, they do generally score worse on them than on the other cases, and for all the other classifiers, the gap between these cases and the one emotion/tweet cases <span class="No-Break">is substantial.</span></li>
</ul>
<p>These <a id="_idIndexMarker809"/>cases seem likely to be the most useful in practice since most tweets do not express any sentiment and a fair number express more than one, so algorithms that do not deal well with these cases may not be the most suitable for <span class="No-Break">this task.</span></p>
<p>In the <em class="italic">Confusion matrices</em> section, we will look at what the various algorithms do with the two kinds of datasets. Once we have a clearer idea of why multi-label datasets are so much more difficult to handle than single-label ones, and we have seen the specific problems that they cause for particular algorithms, we will look at ways of dealing with this kind of dataset. We will not carry out these experiments with transformer-based models, partly because the time it takes to train a transformer makes this infeasible, but more importantly because we need to look inside the models to understand what is going on – this is all but impossible with <span class="No-Break">transformer-based models.</span></p>
<h1 id="_idParaDest-139"><a id="_idTextAnchor196"/>Confusion matrices</h1>
<p>It can <a id="_idIndexMarker810"/>be very difficult to see what kinds of mistakes a classifier makes just by looking at the raw output. <strong class="bold">Confusion matrices</strong> allow us to visualize a classifier’s behavior, making it possible to see when two classes are being systematically confused or when a given class is being assigned too few or too many items. Consider the following dataset, where each item is classified as A, B, or C by the Gold Standard (G) and also has a predicted <span class="No-Break">value (P):</span></p>
<table class="No-Table-Style" id="table002-7">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>G</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>P</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>C</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
<td class="No-Table-Style">
<p>B</p>
</td>
<td class="No-Table-Style">
<p>A</p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.2 – Gold Standard and predicted values for the example data</p>
<p>It is hard to<a id="_idIndexMarker811"/> see any pattern in this table. Simply counting how many cases have the same value for G and P gives us 22 out of 38 – that is, an accuracy of 0.58 – but it is very hard to see what kinds of things it gets right and what kinds of things it gets wrong. Converting this into a confusion table can help with this. We do this by counting the number of times that an item that ought to be assigned C1 as its value is predicted to have C2, producing a table of correct versus predicted assignments. The confusion matrix in <span class="No-Break"><em class="italic">Figure 10</em></span><em class="italic">.3</em>, for instance, shows that seven things that should have been assigned the label A were indeed assigned that label but five were assigned B, and that six things that should have been assigned C were assigned C but five were assigned B. This suggests that there is something about the properties of Bs that makes it easy to assign things to this class when they should be assigned to A or C, which might lead to a line of inquiry about which properties of Bs were leading to <span class="No-Break">this problem:</span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table003-6">
<colgroup>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body">
<p><strong class="bold">A</strong></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">B</strong></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">C</strong></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">A</strong></p>
</td>
<td class="No-Table-Style T---Body">
<p>7</p>
</td>
<td class="No-Table-Style T---Body">
<p>5</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">B</strong></p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>9</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">C</strong></p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>5</p>
</td>
<td class="No-Table-Style T---Body">
<p>6</p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.3 – Confusion matrix for the data in Figure 10.2</p>
<p>If <strong class="source-inline">gs</strong> and <strong class="source-inline">p</strong> are the Gold Standard values for a set of points, then <strong class="source-inline">confusion</strong> will calculate the confusion matrix: <strong class="source-inline">c</strong> is a table with an entry for each label in <strong class="source-inline">gs</strong>, where the value for a label is the set of counts of each time a label has been predicted <span class="No-Break">for it:</span></p>
<pre class="source-code">
def confusion(gs, p):    c = {}
    for x, y in zip(gs, p):
        if not x in c:
            c[x] = counter()
        c[x].add(y)</pre>
<p>Confusion matrices <a id="_idIndexMarker812"/>can provide a considerable amount of information about what a classifier is doing. We do, however, have a slight problem with constructing confusion matrices when the Gold Standard and the prediction can each contain a varying number of emotions. Suppose, for instance, that the Gold Standard for some tweets is <strong class="bold">love+joy</strong> and the prediction is <strong class="bold">love+sad+angry</strong>. We want to acknowledge that the classifier was right when it predicted <strong class="bold">love</strong>, but what do we do about the fact that it missed <strong class="bold">joy</strong> (that is, there is a false negative) and predicted <strong class="bold">sad</strong> and <strong class="bold">angry</strong> (two <span class="No-Break">false positives)?</span></p>
<p>There is no right answer to this question. We adapt the standard way of constructing a confusion matrix as follows, where C[e1][e2] is the score for <em class="italic">e1</em> in the Gold Standard and <em class="italic">e2</em> in the prediction. We need to add a row and a column for “no emotion assigned” (we will use <strong class="bold">--</strong> for <span class="No-Break">this class):</span></p>
<ul>
<li>For every case where the Golden Standard and the prediction contain a given emotion, <em class="italic">e</em>, add 1 to <em class="italic">C[e][e]</em> and remove <em class="italic">e</em> from both the Golden Standard and <span class="No-Break">the prediction.</span></li>
<li>If the Golden Standard is now empty, then every <em class="italic">e</em> left in the prediction must be a false positive, so add 1 to <em class="italic">C[--][e]</em> for each <span class="No-Break">remaining e.</span></li>
<li>If the prediction is empty, then every <em class="italic">e</em> left in the Golden Standard must be a false negative, so add 1 <span class="No-Break">to </span><span class="No-Break"><em class="italic">C[e][--]</em></span><span class="No-Break">.</span></li>
<li>If neither of them is empty after removing the shared cases, it is hard to see what to do. Consider the preceding example. After removing <strong class="bold">love</strong>, we are left with <strong class="bold">joy</strong> in the Golden Standard and <strong class="bold">sad+angry</strong> in the prediction. Is <strong class="bold">joy</strong> a mistake for <strong class="bold">sad</strong>, with <strong class="bold">angry</strong> as a false positive? Is <strong class="bold">joy</strong> a mistake for <strong class="bold">angry</strong>, with <strong class="bold">sad</strong> as a false positive? Is <strong class="bold">joy</strong> a false negative and <strong class="bold">sad</strong> and <strong class="bold">angry</strong> both false positives? This last suggestion does not seem right. Suppose we had one case where <strong class="bold">joy</strong> was matched with <strong class="bold">sad+angry</strong>, another where it was matched with <strong class="bold">sad+fear</strong>, and another where it was matched with just <strong class="bold">sad</strong>. If we marked all of these as cases where <strong class="bold">joy</strong> was a false negative and <strong class="bold">sad</strong> was a false positive, we would miss the fact that there appears to be a connection between <strong class="bold">joy</strong> <span class="No-Break">and </span><span class="No-Break"><strong class="bold">sad</strong></span><span class="No-Break">.</span></li>
</ul>
<p>We deal with this <a id="_idIndexMarker813"/>as follows. Suppose there are <strong class="bold">G</strong> items left in the Gold Standard and <strong class="bold">P</strong> items left in the prediction after the labels that appear on both have been removed. Here, for each <strong class="bold">g</strong> in the Gold Standard and each <strong class="bold">p</strong> in the prediction, we add <em class="italic">1/P</em> to <em class="italic">C[p][g]</em>. Doing this adds a total of <strong class="bold">G</strong> to the confusion matrix, thus acknowledging that the number of emotions in the Gold Standard has not been matched, with each item in the prediction seen being as equally likely to be the one that should be substituted <span class="No-Break">for </span><span class="No-Break"><strong class="bold">g</strong></span><span class="No-Break">.</span></p>
<p>The machinery for calculating modified confusion matrices is fairly intricate, and including it here would add very little to the preceding explanation. The code for this can be found in this book’s GitHub repository – for now, it is probably best just to note that when an item can be assigned multiple labels, the confusion matrix has to take account of situations where the Gold Standard and the prediction both assign multiple labels, with the sets being assigned being of different sizes and where some labels are common to both, some only appear in the Gold Standard and some only appear in <span class="No-Break">the prediction.</span></p>
<p>The way we do this is not symmetric between the Gold Standard and the prediction, but it does provide confusion matrices that tell us something useful about what a given classifier is doing. For cases where there is exactly one item in the Gold Standard and one in the prediction, it collapses to the standard version, and where there are differing numbers in each, it does provide a picture of what is <span class="No-Break">going on.</span></p>
<p>We will start by looking at the confusion matrix for CARER-EN using SVM as the classifier (the scores for SVMs and DNNs are very similar, and the confusion matrices are also very similar, so for convenience, we will use SVMs for the explorations here). The following matrix was obtained using a version of SVM which simply picks the most likely emotion for each tweet instead of using a threshold to try to work out whether there are any that are likely enough for them to be counted and if so, whether there are several that <span class="No-Break">could count:</span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table004-5">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">anger</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">sadness</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">surprise</strong></span></p>
</td>
<td class="No-Table-Style T---Body"/>
</tr>
</thead>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">anger</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">124</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body"/>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">128</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body"/>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">337</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body"/>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">73</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body"/>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">sadness</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">293</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body"/>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">surprise</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">37</span></p>
</td>
<td class="No-Table-Style T---Body"/>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.4 – Confusion matrix for CARER-EN, one emotion per tweet, with SVM as the classifier</p>
<p>This is what you<a id="_idIndexMarker814"/> expect a confusion matrix to look like – the largest scores down the diagonal with a scattering of other assignments, with the biggest confusion being between <strong class="bold">love</strong> and <strong class="bold">joy</strong>. When we use the same algorithm for SEM11-EN, we get a very <span class="No-Break">different picture:</span></p>
<table class="T---Table _idGenTablePara-1" id="table005-5">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="T---Table">
<td class="T---Table T---Body T---Body"/>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">ange</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">anti</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">disg</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">opti</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">pess</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">sadn</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">surp</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">trus</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><strong class="bold">--</strong></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">anger</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">311</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>2</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>2</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">antici</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>8</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">65</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>2</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">12</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">disgus</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">10</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>3</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">36</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>3</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">182</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>9</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">46</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">34</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">11</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>2</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">186</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">39</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>4</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">40</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">optimi</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>7</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>2</p>
</td>
<td class="T---Table T---Body T---Body">
<p>2</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">20</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">119</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">pessim</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">19</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">26</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">sadnes</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>9</p>
</td>
<td class="T---Table T---Body T---Body">
<p>3</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>3</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">16</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">119</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">surpri</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>4</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">16</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">trust</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>2</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">15</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><strong class="bold">--</strong></p>
</td>
<td class="T---Table T---Body T---Body">
<p>2</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">21</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.5 – Confusion matrix for SEM11-EN, one emotion per tweet, with SVM as the classifier</p>
<p>We get several false positives (places where nothing was expected but something was predicted – that is, the row headed with <strong class="bold">--</strong>: two of these have <strong class="bold">anger</strong> assigned and 21 <strong class="bold">trust</strong>). This happens because we have forced the classifier to choose something even in cases where the Gold Standard doesn’t expect anything. We also have a much larger number of places where there are false negatives (the column headed with <strong class="bold">--</strong>), where something was expected but nothing was found, generally because the Gold Standard had multiple labels and there was only one prediction. And there are numerous cases where the assignment is just wrong, with an awful lot of things being labeled as <strong class="bold">anger</strong> when they should be <span class="No-Break">something else.</span></p>
<p>The problem <a id="_idIndexMarker815"/>is that if the classifier is forced to assign exactly one emotion per tweet, then it cannot help producing false positives (if the Gold Standard says that nothing should be assigned) and false negatives (if the Gold Standard says that more than one emotion should be assigned). If we look at the test set in detail, we will see that there are 23 tweets with no emotion assigned, which show up as false positives, and 645 tweets with more than one emotion assigned, which show up as 1,065 false negatives (because some of them have three or more emotions assigned). <em class="italic">There is nothing that can be done about this if our classifier assumes that there is one emotion </em><span class="No-Break"><em class="italic">per tweet.</em></span></p>
<p>Suppose that we have <em class="italic">N</em> tweets, <em class="italic">X</em> of which have no emotion assigned to them and <em class="italic">Y</em> have more than one. In this case, there must be at least <em class="italic">X</em> false positives (one for each tweet that should have no labels assigned but the classifier assigns one) and at least <em class="italic">Y</em> false negatives (one for each tweet that should have more than one label assigned but the classifier only assigns one), meaning that the best possible Jaccard score is <em class="italic">(N-X)/((N-X)+X+Y)</em>. For the set of 772 tweets in SEM11-EN, this comes out as <em class="italic">(772-23)/(772-23+(1065+23)) = 0.41</em> (the number of false negatives is very high because of the preponderance of tweets that should be given more than two labels – this equation assumed that tweets were assigned zero, one, or two labels). This is a strict upper bound. No classifier that assigns exactly one label to each tweet can achieve a higher Jaccard score than 0.41 on <span class="No-Break">this dataset.</span></p>
<p>The position is worse than that. Careful inspection of the diagonal shows that several emotions have good scores on the diagonal (<strong class="bold">anger</strong>, <strong class="bold">joy</strong>), while others have very poor scores on the diagonal <a id="_idIndexMarker816"/>and a lot of false negatives (<strong class="bold">disgust</strong>, <strong class="bold">love</strong>, <strong class="bold">optimism</strong>), with several emotions being confused <span class="No-Break">with </span><span class="No-Break"><strong class="bold">anger</strong></span><span class="No-Break">.</span></p>
<p>When we look at the<a id="_idIndexMarker817"/> KWT.M-AR dataset, we will see an output that is in some ways similar and is no <span class="No-Break">more encouraging:</span></p>
<table class="T---Table _idGenTablePara-1" id="table006-5">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="T---Table">
<td class="T---Table T---Body T---Header"/>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">ange</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">diss</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">opti</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">pess</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">reje</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">trus</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><strong class="bold">--</strong></p>
</td>
</tr>
</thead>
<tbody>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">anger</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>5</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>7</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">dissat</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">21</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">31</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>2</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">11</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">12</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">50</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">44</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>3</p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">optimi</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">22</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">17</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">pessim</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>2</p>
</td>
<td class="T---Table T---Body T---Body">
<p>2</p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">reject</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">trust</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">14</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><strong class="bold">--</strong></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>1</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>8</p>
</td>
<td class="T---Table T---Body T---Body">
<p>3</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">751</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>0</p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.6 – Confusion matrix for KWT.M-AR, one emotion per tweet, with SVM as the classifier</p>
<p>This time, there are a massive number of false positives, reflecting the fact that these datasets have a very high proportion of cases where no emotion is assigned in the Gold Standard (763 out of 1,000 in the test set used here, with a maximum attainable F1-score of around 0.42). Again, this is inevitable – if a tweet should have no emotions assigned to it and the classifier is forced to assign one, then we will get a false positive. It is also worth noting that while there are non-trivial entries on the diagonal, a surprising number of cases have the correct assignment replaced by <strong class="bold">trust</strong>. The key here is that emotions such as <strong class="bold">anger</strong> and <strong class="bold">joy</strong> have words that are strongly associated with them (<strong class="source-inline">angry: 2.38</strong>, <strong class="source-inline">fuming: 2.32</strong>, <strong class="source-inline">annoying: 2.31</strong>, <strong class="source-inline">revenge: 2.26</strong>, … for <strong class="bold">anger</strong>, for instance, and <strong class="source-inline">positivity: 1.82</strong>, 💕<strong class="source-inline">: 1.75</strong>, <strong class="source-inline">rejoice: 1.74</strong>, <strong class="source-inline">gift: 1.72</strong>, <strong class="source-inline">laughing: 1.70</strong> for <strong class="bold">joy</strong>), and that are used for identifying them in tweets. <strong class="bold">trust</strong>, on the other hand, does not have such clear identifiers – the top few words for <strong class="bold">trust</strong> when training on SEM11-EN with an SVM are <strong class="source-inline">flat: 1.25</strong>, <strong class="source-inline">com: 1.19</strong>, <strong class="source-inline">cup: 1.06</strong>, <strong class="source-inline">need: 1.05</strong>, <strong class="source-inline">major: 1.05</strong>. These are not words that are obviously associated with trust, and indeed the links between them and this emotion are not strong. So, when<a id="_idIndexMarker818"/> the classifier is forced to choose an emotion for a tweet that does not contain any words that are linked to specific emotions, it is likely to resort to choosing the one for which no such words are <span class="No-Break">expected anyway.</span></p>
<p>If, as suggested previously, large numbers of tweets express either no emotion or several emotions, then we have to deal with these issues. There are several things we <span class="No-Break">can try:</span></p>
<ul>
<li>We can include an explicit “none-of-the-above” or “neutral” class to represent the fact that a tweet does not carry any emotional weight. This is the easiest thing to do for “zero emotion” cases, though it will not be ideal in cases where more than one emotion is assigned to <span class="No-Break">a tweet.</span></li>
<li>We can use the fact that some of the classifiers calculate a score for each emotion. We will look at this in more <span class="No-Break">detail shortly.</span></li>
<li>We can train a set of binary classifiers – <strong class="bold">joy</strong> versus <strong class="bold">not-joy</strong>, <strong class="bold">anger</strong> versus <strong class="bold">not-anger</strong>, and so on. This will potentially deal with both kinds of cases: if each of these classifiers returns the negative version, we will get an overall zero assignment, and if more than one returns the positive version, we will get <span class="No-Break">multiple assignments.</span></li>
</ul>
<p>For the remainder of this chapter, we will concentrate on the SEM-11 and KWT datasets since these are the only ones with variable numbers of labels. If your training data assigns exactly one emotion to each tweet, and you want to have exactly one emotion assigned when running the classifier on live data, then one of the others will generally provide the best solution – LEXCLASSIFIER usually provides reasonably accurate results with very little training time, Transformers usually provide the best results but take a lot of training, and SVMs and DNNs come somewhere in between for both accuracy and <span class="No-Break">training time.</span></p>
<h1 id="_idParaDest-140"><a id="_idTextAnchor197"/>Using “neutral” as a label</h1>
<p>We<a id="_idIndexMarker819"/> can introduce <strong class="bold">neutral</strong> as a label simply by looking at the labels assigned by the Gold Standard and assigning <strong class="bold">neutral</strong> if no other emotion is assigned. This<a id="_idIndexMarker820"/> does not affect the CARER-EN set: nothing is assigned <strong class="bold">neutral</strong> in the training data, so no words are found to be associated with this label, so, in turn, nothing is assigned to it by the classifier. The effect on the SEM11-EN data is <span class="No-Break">more interesting:</span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table007-3">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">ange</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">anti</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">disg</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">opti</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">pess</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">sadn</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">surp</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">trus</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">neut</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">--</strong></p>
</td>
</tr>
</thead>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">anger</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">311</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">antici</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>8</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">65</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">12</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">disgus</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">10</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">36</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">182</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>9</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">46</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">34</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">11</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">186</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">39</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>4</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">40</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">optimi</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>7</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">20</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">118</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">pessim</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">19</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">26</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">sadnes</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>9</p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">16</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">119</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">surpri</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>4</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">16</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">trust</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">15</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">neutra</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">21</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.7 – Confusion matrix for SEM11-EN, one emotion per tweet, with SVM as the classifier, and neutral as a label</p>
<p>There is <a id="_idIndexMarker821"/>very little change down the diagonal – that is, the classifier gets the same actual emotions right with or without <strong class="bold">neutral</strong> as a label; most things that ought to be classified as neutral are indeed labeled as such, with a couple mislabeled as <strong class="bold">anger</strong>; a few things are labeled as <strong class="bold">neutral</strong> when they should not be; and there are still a lot of false negatives because there were a lot of tweets that ought to have been given <a id="_idIndexMarker822"/>more than one label. These can’t be labeled <strong class="bold">neutral</strong> by the classifier since it can only assign one label to each tweet, so any tweet that ought to have more than one will contribute to the set of <span class="No-Break">false negatives.</span></p>
<p>The situation with the KWT examples is intriguing. These have large numbers of tweets with no emotion assigned to them, so we expect a lot of false positives if the classifier is set to assign one emotion per tweet. The confusion matrices for KWT.M-AR without and with <strong class="bold">neutral</strong> as a label are <span class="No-Break">given here:</span></p>
<table class="Basic-Table _idGenTablePara-1" id="table008-3">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="Basic-Table">
<td class="Basic-Table T---Body"/>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">ange</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">diss</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">opti</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">pess</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">reje</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">trus</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><strong class="bold">--</strong></p>
</td>
</tr>
</thead>
<tbody>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">anger</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>7</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>5</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">dissat</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">19</span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">17</span></p>
</td>
<td class="Basic-Table T---Body">
<p>4</p>
</td>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>3</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">11</span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">23</span></p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">82</span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">47</span></p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">optimi</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">37</span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">18</span></p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">pessim</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">reject</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">trust</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">12</span></p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><strong class="bold">--</strong></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>3</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">13</span></p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">697</span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.8 – Confusion matrix for KWT.M-AR, one emotion per tweet, with SVM as the classifier, and neutral not included</p>
<p>As before, most <a id="_idIndexMarker823"/>of the scores on the diagonal are quite good – that is, most of the time, the classifier assigns the right label where there is a label to be assigned. Inevitably, there are a large number of false positives, nearly all of which are assigned to <strong class="bold">trust</strong>. As before, in almost every case where the Gold Standard says there should be no label, the classifier has chosen <strong class="bold">trust</strong>, rather than distributing the false positives evenly. Again, what seems to be happening is that the classifier does not associate any words particularly strongly with <strong class="bold">trust</strong>, so when it is given a tweet without any very significant words in it, it decides it cannot be any of the other classes, for which there are stronger clues, so it <span class="No-Break">chooses </span><span class="No-Break"><strong class="bold">trust</strong></span><span class="No-Break">.</span></p>
<p>When we <a id="_idIndexMarker824"/>allow <strong class="bold">neutral</strong> as a label, the situation changes quite dramatically. Now, nearly all the false positives are assigned to <strong class="bold">neutral</strong>, which is the most reasonable outcome. There is a smattering of false negatives because this dataset contains tweets with multiple labels, but the diagonal is much clearer – most emotions are assigned correctly and most cases with no emotion are assigned <span class="No-Break">to </span><span class="No-Break"><strong class="bold">neutral</strong></span><span class="No-Break">:</span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table009-3">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">ange</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">diss</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">fear</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">joy</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">love</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">opti</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">pess</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">reje</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">trus</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">neut</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold" lang="en-US" xml:lang="en-US">--</strong></p>
</td>
</tr>
</thead>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">anger</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>7</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>5</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">dissat</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">19</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">17</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>4</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">fear</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">joy</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">11</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">24</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">love</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">81</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">48</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">optimi</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">37</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">18</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">pessim</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">reject</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">trust</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>7</p>
</td>
<td class="No-Table-Style T---Body">
<p>5</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold" lang="en-US" xml:lang="en-US">neutra</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">14</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">697</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.9 – Confusion matrix for KWT.M-AR, one emotion per tweet, with SVM as the classifier, and neutral included</p>
<p>So, using <strong class="bold">neutral</strong> as a <a id="_idIndexMarker825"/>label provides a partial solution to the problems of none and<a id="_idIndexMarker826"/> multiple labels, but it <em class="italic">cannot</em> provide a complete one. Even if a classifier were 100% accurate when it assigned labels to tweets that ought to have exactly one label and when it assigned <strong class="bold">neutral</strong> to ones that ought to have no labels, it must introduce false negatives for cases where there ought to be more than <span class="No-Break">one label.</span></p>
<p>Now is a good time to introduce a new measure of performance. The fact that most of the cases that are neither classified as <strong class="bold">neutral</strong> nor given no label at all lie on the diagonal suggests that the gross classification assigned to a set of tweets might be useful for gauging opinion, even if the assignments to individual tweets are unreliable. In particular, false negatives may not matter too much when you’re trying to spot general trends, so long as the cases where the classifier does assign a label are consistent with the <span class="No-Break">underlying reality.</span></p>
<p>It is, of course, not possible to spot whether something is a false negative or is a genuine instance of a neutral assignment, and then ask what the assignment for the false negatives should have been. If we could do that, then we would have trained the classifier to do it in the first place, and likewise with false positives. The best we can do is assess just how much we would be led astray if we accepted all the assignments that the classifier made at face value. So, we define<a id="_idIndexMarker827"/> the <strong class="bold">proportionality</strong> of the classifier as the cosine distance between the proportion of concrete tweets assigned to each emotion in the Gold Standard and the predictions (that is, ignoring tweets that are assigned to <strong class="bold">neutral</strong> or were not given any labels at all). The nearer to 1 this is, the more we can expect our classifier to give us a reliable overall picture, even if some of the individual assignments <span class="No-Break">were wrong.</span></p>
<p>To take a simple example, suppose that we had a dataset with the 11 emotions from the SEM11 data, with the same number of tweets assigned to <strong class="bold">pessimism</strong> and <strong class="bold">sadness</strong>, and that it got everything right except that it labeled exactly half the tweets that should be labeled as pessimistic as sad and exactly half the tweets that should be labeled as sad as pessimistic. In this case, proportionality would be perfect, and you could safely use the classifier to make judgments about the overall picture, even though you could not rely on it to tell you whether a given tweet was sad or pessimistic. Similarly, if half the tweets in every category were assigned no emotion, then proportionality would be perfect, whereas if half the tweets in the most common category were assigned neutral but no others were, then it would be <span class="No-Break">fairly poor.</span></p>
<p>From now on, we<a id="_idIndexMarker828"/> will do this for all the classifiers that are generated by <a id="_idIndexMarker829"/>the folds that we perform the training on, because the test sets associated with the individual folds are comparatively small (which is why we do cross-fold validation in the first place) and we lose quite a lot of instances by ignoring neutral and unassigned tweets. To calculate the proportionality, we can just count the number of tweets whose predicted/Gold Standard includes each emotion, <em class="italic">ignoring neutral and unassigned</em>, and normalize <span class="No-Break">the result:</span></p>
<pre class="source-code">
def proportions(clsfs, emotions, which=lambda x: x.predicted, ignore=["neutral", "--"]):    conf = numpy.zeros(len(emotions))
    for clsf in clsfs:
        for t in clsf.test.tweets:
            for i, k in enumerate(which(t)):
                if not emotions[i] in ignore:
                    if k == 1:
                        conf[i] += 1
    return conf/sum(conf)</pre>
<p>Now, we can do this for the prediction and the Gold Standard and use cosine similarity to calculate the similarity between <span class="No-Break">the two:</span></p>
<pre class="source-code">
def scoreproportions(clsfs):    ignore = ["neutral", "--"]
    emotions = clsfs[0].train.emotions
    predictedproportions = proportions(clsfs, emotions, ignore)
    gsproportions = proportions(clsfs, emotions, ignore,
                                which=lambda x: x.GS)
    return cosine_similarity(predictedproportions.reshape(1, -1),
                             gsproportions.reshape(1, -1))[0][0]</pre>
<p>For SEM11-EN, allowing <a id="_idIndexMarker830"/>an arbitrary number of emotions per tweet and <a id="_idIndexMarker831"/>using LEX as a classifier and <strong class="source-inline">neutral</strong> as a label, for instance, the proportions of the tweets that have each of the labels assigned in the prediction and the Gold Standard are <strong class="source-inline">anger: 0.30</strong>, <strong class="source-inline">anticipation: 0.00</strong>, <strong class="source-inline">disgust: 0.31</strong>, <strong class="source-inline">fear: 0.02</strong>, <strong class="source-inline">joy: 0.25</strong>, <strong class="source-inline">love: 0.00</strong>, <strong class="source-inline">optimism: 0.04</strong>, <strong class="source-inline">pessimism: 0.00</strong>, <strong class="source-inline">sadness: 0.06</strong>, <strong class="source-inline">surprise: 0.00</strong>, <strong class="source-inline">trust: 0.00</strong> and <strong class="source-inline">anger: 0.18</strong>, <strong class="source-inline">anticipation: 0.06</strong>, <strong class="source-inline">disgust: 0.17</strong>, <strong class="source-inline">fear: 0.06</strong>, <strong class="source-inline">joy: 0.15</strong>, <strong class="source-inline">love: 0.04</strong>, <strong class="source-inline">optimism: 0.12</strong>, <strong class="source-inline">pessimism: 0.04</strong>, <strong class="source-inline">sadness: 0.12</strong>, <strong class="source-inline">surprise: 0.02</strong>, <strong class="source-inline">trust: 0.02</strong>, respectively, for a proportionality score of 0.89. If we use the same classifier with <strong class="source-inline">neutral</strong> as a label but allow exactly one label per tweet, the proportionality drops <span class="No-Break">to 0.87.</span></p>
<p>If we apply this to the KWT.M-AR dataset, we get <strong class="source-inline">anger: 0.03</strong>, <strong class="source-inline">dissatisfaction: 0.07</strong>, <strong class="source-inline">fear: 0.00</strong>, <strong class="source-inline">joy: 0.07</strong>, <strong class="source-inline">love: 0.69</strong>, <strong class="source-inline">optimism: 0.10</strong>, <strong class="source-inline">pessimism: 0.00</strong>, <strong class="source-inline">rejection: 0.02</strong>, <strong class="source-inline">trust: 0.02</strong> for the predictions and <strong class="source-inline">anger: 0.04</strong>, <strong class="source-inline">dissatisfaction: 0.16</strong>, <strong class="source-inline">fear: 0.02</strong>, <strong class="source-inline">joy: 0.10</strong>, <strong class="source-inline">love: 0.43</strong>, <strong class="source-inline">optimism: 0.18</strong>, <strong class="source-inline">pessimism: 0.01</strong>, <strong class="source-inline">rejection: 0.01</strong>, <strong class="source-inline">trust: 0.05</strong> for the Gold Standard, for a proportionality score of 0.94. If we had not ignored the neutral/unassigned cases, the score would have been much higher, at 0.99, because of the huge preponderance of cases that are neutral in this dataset. So, we have a useful single number that gives us a handle on how reliable a classifier is for providing an overall picture, even if it fails to assign a concrete label to every tweet (that is, if some are either not assigned anything at all or are <span class="No-Break">assigned </span><span class="No-Break"><strong class="bold">neutral</strong></span><span class="No-Break">).</span></p>
<p>This score will typically be quite high since, in most cases, most of the concrete scores lie on the diagonal. What matters is whether the distribution of neutral/unassigned cases follows the general distribution of the concrete cases – if it does, then the classifier will be useful for assessing general trends, even if it does sometimes fail to assign concrete labels when it should. So, we will use this measure in addition to Jaccard to assess the classifiers in the remainder of this chapter. The tables in <em class="italic">Figures 10.10</em> and <em class="italic">10.12</em> show what happens to the proportionality for various classifiers when we add <strong class="bold">neutral</strong> as a label, sticking to <a id="_idIndexMarker832"/>assigning exactly one label per tweet. As a reference point, we <a id="_idIndexMarker833"/>will start by looking at what happens if we specify that each classifier returns without using <strong class="bold">neutral</strong>. As before, the classifier with the best Jaccard score is marked <span class="No-Break">in bold:</span></p>
<table class="T---Table _idGenTablePara-1" id="table010-1">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="T---Table">
<td class="T---Table T---Body T---Body"/>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">LEX</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">NB</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">SVM</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">DNN</strong></span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-EN</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.224 (0.813)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.229 (0.690)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.223 (0.771)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><strong class="bold">* 0.242 (</strong><span class="No-Break"><strong class="bold">0.677) *</strong></span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-AR</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><strong class="bold">* 0.247 (</strong><span class="No-Break"><strong class="bold">0.824) *</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.216 (0.667)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.204 (0.736)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.207 (0.613)</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-ES</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.225 (0.799)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><strong class="bold">* 0.226 (</strong><span class="No-Break"><strong class="bold">0.788) *</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.215 (0.888)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.222 (0.774)</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">KWT.M-AR</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><strong class="bold">* 0.208 (</strong><span class="No-Break"><strong class="bold">0.973) *</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.108 (0.352)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.078 (0.207)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.026 (0.148)</span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.10 – Jaccard and proportionality (in brackets), one label per tweet, neutral not included</p>
<p><span class="No-Break"><em class="italic">Figure 10</em></span><em class="italic">.10</em> shows that if we simply use the original classifiers unchanged – that is, with one emotion per tweet and without <strong class="bold">neutral</strong> as a label – we get fairly poor Jaccard scores, but the proportionality scores for LEX range from reasonable to pretty good, with the other classifiers generally doing worse on this metric. The proportionality score for LEX on the KWT.M-AR dataset in particular is massively better than the same score for any of the other classifiers on this dataset. The key here is that NB, SVM, and DNN assign nearly all the cases that should have been labeled as <strong class="bold">neutral</strong> to <strong class="bold">trust</strong> because these cases lack any of the distinguishing words that are common in the more clearly marked emotions, whereas LEX distributes them more closely in line with the marked cases. It is worth noting that the classifier with the best score for a given dataset does not always produce the best proportionality for <span class="No-Break">that set:</span></p>
<table class="Basic-Table _idGenTablePara-1" id="table011-1">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="Basic-Table">
<td class="Basic-Table T---Body"/>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">ange</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">diss</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">opti</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">pess</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">reje</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">trus</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p><strong class="bold" lang="en-US" xml:lang="en-US">--</strong></p>
</td>
<td class="Basic-Table T---Body"/>
</tr>
</thead>
<tbody>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">anger</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>9</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">19</span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">11</span></p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">14</span></p>
</td>
<td class="Basic-Table T---Body"/>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">dissat</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>4</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">133</span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">71</span></p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body"/>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>3</p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">12</span></p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body"/>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
<td class="Basic-Table T---Body">
<p>6</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">53</span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">50</span></p>
</td>
<td class="Basic-Table T---Body">
<p>8</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">18</span></p>
</td>
<td class="Basic-Table T---Body"/>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>7</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>8</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">548</span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">12</span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body"/>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">optimi</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>5</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">44</span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">180</span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body"/>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">pessim</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>4</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>7</p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
<td class="Basic-Table T---Body"/>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">reject</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>3</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>3</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body"/>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><span class="No-Break"><strong class="bold">trust</strong></span></p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
<td class="Basic-Table T---Body">
<p>9</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">28</span></p>
</td>
<td class="Basic-Table T---Body">
<p>8</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">13</span></p>
</td>
<td class="Basic-Table T---Body">
<p>3</p>
</td>
<td class="Basic-Table T---Body"/>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table T---Body">
<p><strong class="bold">--</strong></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">30</span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">880</span></p>
</td>
<td class="Basic-Table T---Body">
<p>4</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">159</span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">2008</span></p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">577</span></p>
</td>
<td class="Basic-Table T---Body">
<p>2</p>
</td>
<td class="Basic-Table T---Body">
<p>1</p>
</td>
<td class="Basic-Table T---Body">
<p><span class="No-Break">61</span></p>
</td>
<td class="Basic-Table T---Body">
<p>0</p>
</td>
<td class="Basic-Table T---Body"/>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.11 – Confusion matrix for KWT.M-AR, one label per tweet, with LEX as the classifier, and neutral not included</p>
<p>When we<a id="_idIndexMarker834"/> allow <strong class="bold">neutral</strong> as a label, NB and SVM can choose this as the class <a id="_idIndexMarker835"/>with the least distinctive terms and hence assign cases that should be <strong class="bold">neutral</strong> to it, leading to a massive improvement in both Jaccard and proportionality for <span class="No-Break">these classifiers:</span></p>
<table class="T---Table _idGenTablePara-1" id="table012-1">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="T---Table">
<td class="T---Table T---Body T---Header"/>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">LEX</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">NB</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">SVM</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">DNN</strong></span></p>
</td>
</tr>
</thead>
<tbody>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-EN</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">0.222 (0.813)</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">0.227 (0.690)</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">0.222 (0.768)</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><strong class="bold">* 0.239 (</strong><span class="No-Break"><strong class="bold">0.677) *</strong></span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-AR</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><strong class="bold">* 0.246 (</strong><span class="No-Break"><strong class="bold">0.824) *</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">0.216 (0.666)</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">0.204 (0.736)</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">0.207 (0.615)</strong></span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-ES</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">0.221 (0.800)</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><strong class="bold">* 0.222 (</strong><span class="No-Break"><strong class="bold">0.787) *</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">0.211 (0.885)</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">0.216 (0.774)</strong></span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">KWT.M-AR</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">0.608 (0.984)</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">0.510 (0.986)</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><strong class="bold">* 0.632 (</strong><span class="No-Break"><strong class="bold">0.992) *</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">0.595 (0.905)</strong></span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.12 – Jaccard and proportionality, one label per tweet, and neutral included</p>
<p>So, we can see that using proportionality as a metric allows us to spot general trends. Most of our classifiers work better on multi-label datasets if we allow <strong class="bold">neutral</strong> as a label, particularly when looking at proportionality, but LEX performs quite well even without <strong class="bold">neutral</strong> as <span class="No-Break">a label.</span></p>
<h1 id="_idParaDest-141"><a id="_idTextAnchor198"/>Thresholds and local thresholds</h1>
<p>The next option<a id="_idIndexMarker836"/> to be explored is the use of thresholds. As we have seen, most of our classifiers provide scores for every option for each tweet, with the default setting being to choose the option with the highest score. In <a href="B18714_06.xhtml#_idTextAnchor134"><span class="No-Break"><em class="italic">Chapter 6</em></span></a>, <em class="italic">Naive Bayes</em>, we saw <a id="_idIndexMarker837"/>that assuming that our classifier will assign exactly one label to each tweet puts quite a tight upper bound on how well it can perform and that instead of doing that, we can set a threshold and say that everything that exceeds that threshold should be accepted as <span class="No-Break">a label.</span></p>
<p>Consider the following tweet: “<em class="italic">Hi guys ! I now do lessons via Skype ! Contact me for more info . # skype # lesson # basslessons # teacher # free lesson # music # groove # rock # </em><span class="No-Break"><em class="italic">blues</em></span><span class="No-Break">.”</span></p>
<p>The Gold Standard assigns this the scores (‘anger’, 0), (‘anticipation’, 1), (‘disgust’, 0), (‘fear’, 0), (‘joy’, 1), (‘love’, 0), (‘optimism’, 0), (‘pessimism’, 0), (‘sadness’, 0), (‘surprise’, 0), (‘trust’, 0), so it should be labeled <span class="No-Break">as </span><span class="No-Break"><strong class="bold">anticipation+joy</strong></span><span class="No-Break">.</span></p>
<p>Naive Bayes assigns this tweet the scores (‘anger’, ‘0.00’), (‘anticipation’, ‘0.88’), (‘disgust’, ‘0.00’), (‘fear’, ‘0.00’), (‘joy’, ‘0.11’), (‘love’, ‘0.00’), (‘optimism’, ‘0.00’), (‘pessimism’, ‘0.00’), (‘sadness’, ‘0.00’), (‘surprise’, ‘0.00’), (‘trust’, ‘0.00’), so if we set the threshold at 0.1, we would get <strong class="bold">anticipation+joy</strong>, if we set it at 0.2, we would just get <strong class="bold">anticipation</strong>, and if we set it at 0.9, we would <span class="No-Break">get nothing.</span></p>
<p>For the same tweet, SVM assigns (‘anger’, ‘-0.77’), (‘anticipation’, ‘0.65’), (‘disgust’, ‘-2.64’), (‘fear’, ‘-1.67’), (‘joy’, ‘-0.99’), (‘love’, ‘-1.93’), (‘optimism’, ‘-3.52’), (‘pessimism’, ‘-1.61’), (‘sadness’, ‘-2.58’), (‘surprise’, ‘-1.47’), (‘trust’, ‘-3.86’). So, this time, if we set the threshold to -1, we would get <strong class="bold">anger+anticipation+joy</strong>, if we set it to 0, we would just get <strong class="bold">anticipation</strong>, and if we set it to 1, we would <span class="No-Break">get nothing.</span></p>
<p>So, using a threshold will let us generate zero or more labels. We have to optimize the threshold, but we can do that simply by finding the smallest and greatest values that are assigned to any label in any tweet and incrementing evenly between these. The <strong class="source-inline">bestThreshold</strong> function, which was provided in <a href="B18714_05.xhtml#_idTextAnchor116"><span class="No-Break"><em class="italic">Chapter 5</em></span></a>, <em class="italic">Sentiment Lexicons and Vector-Space Models</em>, will work just as well with the raw scores produced by Naive Bayes, SVMs, and DNNs as it <span class="No-Break">did there.</span></p>
<p>If we contrast the<a id="_idIndexMarker838"/> scores that were obtained previously by requiring a single label <a id="_idIndexMarker839"/>and the ones we obtained using a threshold to allow zero or more labels on the crucial datasets, we will see that, overall, the latter produces <span class="No-Break">better results:</span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table013-1">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">LEX</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">NB</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SVM</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">DNN</strong></span></p>
</td>
</tr>
</thead>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-EN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* 0.347 (<span class="No-Break">0.898) *</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.270 (0.764)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.250 (0.828)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.273 (0.729)</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-AR</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* 0.377 (<span class="No-Break">0.940) *</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.257 (0.761)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.224 (0.798)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.246 (0.731)</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-ES</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* 0.266 (<span class="No-Break">0.890) *</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.250 (0.837)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.228 (0.924)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.238 (0.791)</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">KWT.M-AR</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* 0.691 (<span class="No-Break">0.990) *</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.522 (0.988)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.631 (0.998)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.604 (0.935)</span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.13 – Zero or more emotions per tweet, with optimal global thresholds</p>
<p>The scores here are much better than they were with the simple classifiers, with the proportionality scores all but perfect in some cases. There is, however, still some way to go if we want to get the labels for individual tweets right, rather than just getting a good overall picture. The next move is to set a threshold for each label, rather than for the dataset as a whole. We will adapt <strong class="source-inline">bestThreshold</strong> from <a href="B18714_05.xhtml#_idTextAnchor116"><span class="No-Break"><em class="italic">Chapter 5</em></span></a><em class="italic">, Sentiment Lexicons and Vector Space Models</em> so that we can assign individual thresholds to labels. We will make two changes to the <span class="No-Break">original definition:</span></p>
<ul>
<li>We will split it into two cases – one for calculating a global threshold (a single threshold for all cases) and another for calculating a local threshold for <span class="No-Break">each label.</span></li>
<li>In the original version, we looked at every column in the data, finding the minimum and maximum values that occur anywhere, and then looked at the predicted values for every column to calculate the Jaccard scores for each potential threshold. To calculate local thresholds, we just want to look at one column at a time. We can deal with both cases if we specify a range of columns, from <strong class="source-inline">start</strong> to <strong class="source-inline">end</strong>, to look at. For the global case, we must set <strong class="source-inline">start=0</strong> and <strong class="source-inline">end=sys.maxsize</strong>; for the case where we want to choose the best threshold for the <strong class="source-inline">i</strong> column, we must set <strong class="source-inline">start=i</strong> and <strong class="source-inline">end=i+1</strong>. This lets us use the same machinery for calculating both types of thresholds. The major changes to the original are<a id="_idIndexMarker840"/> highlighted <a id="_idIndexMarker841"/>in the following <span class="No-Break">updated version:</span><pre class="source-code">
    def bestThreshold(self, bestthreshold, start=0, end=sys.maxsize):</pre><pre class="source-code">        train = self.train.tweets[:len(self.test.tweets)]</pre><pre class="source-code">        self.applyToTweets(train, threshold=0, probs=True)</pre><pre class="source-code">        if bestthreshold == "global":</pre><pre class="source-code">            predicted = [t.predicted for t in train]</pre><pre class="source-code">            # select the required columns from the prediction</pre><pre class="source-code">            predicted = numpy.array(predicted)<strong class="bold">[start:end, :]</strong></pre><pre class="source-code">            lowest = threshold = numpy.min(predicted)</pre><pre class="source-code">            highest = numpy.max(predicted)</pre><pre class="source-code">            step = (highest-lowest)/20</pre><pre class="source-code">            best = []</pre><pre class="source-code">            GS = numpy.array([t.GS for t in train])<strong class="bold">[:, start:end]</strong></pre><pre class="source-code">            for i in range(20):</pre><pre class="source-code">                l = self.applyToTweets(train, threshold=threshold)</pre><pre class="source-code">                l = numpy.array(l)<strong class="bold">[:, start:end]</strong></pre><pre class="source-code">                m = metrics.getmetrics(GS, l, show=False)</pre><pre class="source-code">                (macroF, tp, tn, fp, fn) = m</pre><pre class="source-code">                j = tp/(tp+fp+fn)</pre><pre class="source-code">                best = max(best, [j, threshold])</pre><pre class="source-code">                if show:</pre><pre class="source-code">                    print("%.2f %.3f"%(threshold, j))</pre><pre class="source-code">                threshold += step</pre><pre class="source-code">            return best[1]</pre><pre class="source-code">        <strong class="bold">elif bestthreshold == "local":</strong></pre><pre class="source-code">            <strong class="bold"># do the global version, but just for each column in turn</strong></pre><pre class="source-code">            <strong class="bold">localthresholds = []</strong></pre><pre class="source-code">            <strong class="bold">for i in range(len(self.train.emotions)):</strong></pre><pre class="source-code">                <strong class="bold">localthreshold = self.bestThreshold("global",</strong></pre><pre class="source-code">                                                    <strong class="bold">start=i, end=i+1)</strong></pre><pre class="source-code">                <strong class="bold">localthresholds.append(localthreshold)</strong></pre><pre class="source-code">            <strong class="bold">return localthresholds</strong></pre><pre class="source-code">        else:</pre><pre class="source-code">            raise Exception("%s unexpected value for bestthreshold"%(bestthreshold))</pre></li> </ul>
<p>The results of<a id="_idIndexMarker842"/> allowing<a id="_idIndexMarker843"/> the classifiers to choose different thresholds for different labels are <span class="No-Break">shown here:</span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table014-1">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">LEX</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">NB</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SVM</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">DNN</strong></span></p>
</td>
</tr>
</thead>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-EN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* 0.371 (<span class="No-Break">0.987) *</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.271 (0.827)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.270 (0.809)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.277 (0.811)</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-AR</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.371 (0.965)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.255 (0.854)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.236 (0.809)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.238 (0.795)</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-ES</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* 0.267 (<span class="No-Break">0.962) *</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.192 (0.674)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.222 (0.983)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.202 (0.852)</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">KWT.M-AR</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.681 (0.989)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.217 (0.163)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.615 (0.987)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.226 (0.167)</span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.14 – Zero or more emotions per tweet, with optimal local thresholds</p>
<p>The <a id="_idIndexMarker844"/>proportionality <a id="_idIndexMarker845"/>scores for LEX have all improved, with LEX now easily giving the best proportionality score for SEM11-EN and Naive Bayes now reverting to choosing neutral/unassigned for nearly everything for KWT.U-AR and most of the other scores decreasing slightly, though the Jaccard scores have only improved for SEM11-EN and SEM11-ES. Yet again, different classifiers are better suited to different datasets and <span class="No-Break">different tasks.</span></p>
<h1 id="_idParaDest-142"><a id="_idTextAnchor199"/>Multiple independent classifiers</h1>
<p>Using either<a id="_idIndexMarker846"/> LEX with optimal local thresholds or Naïve Bayes or SVM with an optimal global threshold with <strong class="bold">neutral</strong> as a label seems to be the best way so far of dealing with multilabel datasets. Our final strategy for these datasets is to train a set of classifiers via the one-versus-the-rest strategy, using one of our existing classifiers for training each member of the set. For this, we will adapt the <strong class="source-inline">MULTICLASSIFIER</strong> class from <a href="B18714_07.xhtml#_idTextAnchor144"><span class="No-Break"><em class="italic">Chapter 7</em></span></a>, <em class="italic">Support Vector Machines</em>, to allow different kinds of classifiers to be used at the lower level. The key change here from the original is that we specify what classifier to use in the set of optional arguments, rather than assuming that we will be <span class="No-Break">using </span><span class="No-Break"><strong class="source-inline">SVMCLASSIFIER</strong></span><span class="No-Break">:</span></p>
<pre class="source-code">
    def __init__(self, train, showprogress=True, args={}):        self.train = train
        T = time.time()
        self.datasets = {}
        self.classifiers = {}
        self.args = args
        <strong class="bold"># Find what kind of classifier to use for the individual emotions</strong>
        <strong class="bold">subclassifier = args["subclassifiers"]</strong>
        for i in range(len(self.train.emotions)):
            squeezed = self.squeeze(i)
            if squeezed:
                self.datasets[i] = squeezed
                self.classifiers[i] = <strong class="bold">subclassifier</strong>(self.datasets[i], args=args)</pre>
<p>This will make <a id="_idIndexMarker847"/>two-way classifiers for <strong class="bold">anger</strong> versus <strong class="bold">not-anger</strong>, <strong class="bold">love</strong> versus <strong class="bold">not-love</strong>, and so on using the specified kind of sub-classifier. For the individual classifiers, there is no point in allowing more than one label since while a tweet can satisfy both <strong class="bold">love</strong> and <strong class="bold">joy</strong>, or both <strong class="bold">anger</strong> and <strong class="bold">fear</strong>, it does not make any sense to allow a tweet to satisfy <strong class="bold">anger</strong> and <strong class="bold">not-anger</strong>. We can still get multiple labels overall if, for instance, both <strong class="bold">love</strong> versus <strong class="bold">not-love</strong> and <strong class="bold">joy</strong> versus <strong class="bold">not-joy</strong> are satisfied, and we can still get zero labels if all the negative labels are chosen, but it makes no sense to allow the individual classifiers to assign zero or more than <span class="No-Break">one label.</span></p>
<p>As ever, there is a wide range of settings for the various subclassifiers. The main multiclassifier just combines the results of the individual subclassifiers and hence has no significant parameters beyond the choice of what to use as the subclassifiers, but the individual subclassifiers have the usual range of options. The following tables report the scores using just one label per subclassifier but varying whether or not neutral is allowed as <span class="No-Break">a label:</span></p>
<table class="T---Table _idGenTablePara-1" id="table015-1">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="T---Table">
<td class="T---Table T---Body T---Header"/>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">MULTI-LEX</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">MULTI-NB</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">MULTI-SVM</strong></span></p>
</td>
<td class="T---Table T---Body T---Header">
<p><span class="No-Break"><strong class="bold">MULTI-DNN</strong></span></p>
</td>
</tr>
</thead>
<tbody>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-EN</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.348 (0.868)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>*0.441 (<span class="No-Break">0.996) *</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.385 (1.000)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.422 (0.991)</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-AR</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.363 (0.878)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.376 (0.996)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.314 (0.997)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.333 (0.956)</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-ES</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.260 (0.852)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p>* 0.296 (<span class="No-Break">0.993) *</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.256 (0.995)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.236 (0.936)</span></p>
</td>
</tr>
<tr class="T---Table">
<td class="T---Table T---Body T---Body">
<p><span class="No-Break"><strong class="bold">KWT.M-AR</strong></span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.304 (0.979)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.236 (0.989)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.294 (0.996)</span></p>
</td>
<td class="T---Table T---Body T---Body">
<p><span class="No-Break">0.182 (0.938)</span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.15 (a) – 0 or more emotions per tweet, multiple classifiers, -neutral</p>
<table class="No-Table-Style" id="table016-1">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">MULTI-LEX</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">MULTI-NB</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">MULTI-SVM</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">MULTI-DNN</strong></span></p>
</td>
</tr>
</thead>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-EN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.342 (0.861)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.438 (0.996)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.381 (1.000)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.419 (0.991)</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-AR</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.363 (0.879)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.376 (0.996)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.313 (0.997)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.333 (0.956)</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-ES</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.256 (0.836)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.290 (0.993)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.250 (0.995)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.234 (0.938)</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">KWT.M-AR</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.665 (0.984)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.546 (0.989)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.617 (0.996)</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.599 (0.950)</span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.15 (b) – 0 or more emotions per tweet, multiple classifiers, +neutral</p>
<p>The <a id="_idIndexMarker848"/>overall picture here is that using multiple independent classifiers to decide whether a tweet should have a given label produces the best proportionality results yet for zero-to-many datasets. Although the Jaccard scores are only improved for SEM11-EN and SEM11-ES, there is considerable variation between the performance of the different classifiers under this regime. All four classifiers do marginally better on the SEM11 cases when we do not allow <strong class="bold">neutral</strong> as a label, but they all do substantially better on the KWT.M-AR dataset when we do allow <strong class="bold">neutral</strong>. This is slightly surprising, given that the individual classifiers are allowed to choose not to assign their labels, so it is perfectly possible to get a “no label assigned” outcome for a given tweet, even without allowing <strong class="bold">neutral</strong>. <span class="No-Break"><em class="italic">Figure 10</em></span><em class="italic">.16</em> shows how scores vary as we look at the +/-neutral classifiers <span class="No-Break">for KWT.M-AR:</span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table017-1">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">Precision</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">Recall</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">Micro F1</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">Macro F1</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">Jaccard</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">Proportionality</strong></span></p>
</td>
</tr>
</thead>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">MULTI-LEX,    -</strong><span class="No-Break"><strong class="bold">NEUTRAL</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.400</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.559</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.467</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.319</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.304</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.979</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">MULTI-LEX, +</strong><span class="No-Break"><strong class="bold">NEUTRAL</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.731</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.881</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.799</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.817</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.665</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.984</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">MULTI-NB,      -</strong><span class="No-Break"><strong class="bold">NEUTRAL</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.338</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.441</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.383</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.247</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.236</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.989</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">MULTI-NB, +</strong><span class="No-Break"><strong class="bold">NEUTRAL</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.645</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.781</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.707</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.714</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.546</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.989</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">MULTI-SVM,   </strong><strong class="bold">-</strong><span class="No-Break"><strong class="bold">NEUTRAL</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.598</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.367</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.455</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.294</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.294</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.996</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">MULTI-SVM, +</strong><span class="No-Break"><strong class="bold">NEUTRAL</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.764</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.763</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.763</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.747</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.617</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.996</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">MULTI-DNN,  -</strong><span class="No-Break"><strong class="bold">NEUTRAL</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.255</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.389</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.308</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.194</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.182</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.938</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">MULTI-DNN, +</strong><span class="No-Break"><strong class="bold">NEUTRAL</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.725</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.776</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.750</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.758</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.599</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.950</span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.16 – KWT.M-AR, multiple classifiers, without and with neutral</p>
<p>In every case, both recall and precision go up when we allow neutral as <span class="No-Break">a label.</span></p>
<p>Looking at the <a id="_idIndexMarker849"/>confusion matrices for Naive Bayes (the others are very similar, but Naive Bayes gives the best overall results and hence is the most interesting) <span class="No-Break">is revealing:</span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table018-1">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">ange</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">diss</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">opti</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">pess</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">reje</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">trus</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">--</strong></p>
</td>
</tr>
</thead>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">anger</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">31</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>7</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">23</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">dissat</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">111</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">15</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">94</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">15</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>6</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">56</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">12</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>6</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">66</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>4</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">327</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>4</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">155</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">optimi</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">123</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">70</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">pessim</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">15</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">reject</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>6</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">trust</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>4</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">26</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">50</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">--</strong></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">65</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">329</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>5</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">182</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">527</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">318</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>6</p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">67</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.17 (a) – Confusion matrix, multiclassifiers with NB as a subclassifier, KWT.M-AR, -neutral</p>
<table class="No-Table-Style _idGenTablePara-1" id="table019-1">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">ange</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">diss</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">opti</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">pess</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">reje</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">trus</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">neut</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><strong class="bold">--</strong></p>
</td>
</tr>
</thead>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">anger</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">35</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">23</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>4</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">dissat</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">118</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">12</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">92</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>4</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">fear</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">13</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">joy</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">58</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">12</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">67</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>8</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">love</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">343</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">138</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">11</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">optimi</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">126</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">67</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">pessim</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">18</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">reject</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>7</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">trust</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>1</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">27</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">54</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">neutra</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>2</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">14</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">15</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">162</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">64</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
<td class="No-Table-Style T---Body">
<p>5</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">3521</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><strong class="bold">--</strong></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">60</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">333</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>5</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">165</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">398</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">273</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>6</p>
</td>
<td class="No-Table-Style T---Body">
<p>3</p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">63</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">378</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>0</p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.17 (b) – Confusion matrix, multiclassifiers with NB as a subclassifier, KWT.M-AR, -neutral</p>
<p>There are<a id="_idIndexMarker850"/> small differences between the scores in the main sections of the two tables – slightly better scores on the diagonal and slightly lower confusion between other labels – but the crucial difference is that, as before, when we do not have <strong class="bold">neutral</strong> as a label, we get a large number of false positives. Using <strong class="bold">neutral</strong> as a label reduces the number of false positives, even when we have multiple independent classifiers that each make their recommendations without looking at the results of the <span class="No-Break">other classifiers.</span></p>
<h1 id="_idParaDest-143"><a id="_idTextAnchor200"/>Summary</h1>
<p>Over the past few chapters, we have looked at a wide range of classifiers and compared their performance on a range of datasets. Now, it is time to reflect on what we have learned. Our final table of the best classifiers for the datasets we have looked at is <span class="No-Break">as follows:</span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table020-1">
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SVM</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SNN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">Transformers</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">MULTI-NB</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">LEX, MULTI</strong></span></p>
</td>
</tr>
</thead>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM4-EN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.845</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.829</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* <span class="No-Break">0.927</span></p>
</td>
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body"/>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-EN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.224</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.242</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.418</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* <span class="No-Break">0.438</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.347</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">WASSA-EN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* <span class="No-Break">0.770</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.737</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.753</span></p>
</td>
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body"/>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">CARER-EN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.770</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* <span class="No-Break">0.820</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.816</span></p>
</td>
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body"/>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">IMDB-EN</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.736</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.793</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* <span class="No-Break">0.826</span></p>
</td>
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body"/>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM4-AR</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.514</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.504</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* <span class="No-Break">0.710</span></p>
</td>
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body"/>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-AR</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.216</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.221</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.359</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* <span class="No-Break">0.412</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.377</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">KWT.M-AR</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.631</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.028</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.053</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.537</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* <span class="No-Break">0.691</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM4-ES</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.412</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.337</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* <span class="No-Break">0.663</span></p>
</td>
<td class="No-Table-Style T---Body"/>
<td class="No-Table-Style T---Body"/>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style T---Body">
<p><span class="No-Break"><strong class="bold">SEM11-ES</strong></span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.226</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.221</span></p>
</td>
<td class="No-Table-Style T---Body">
<p>* <span class="No-Break">0.340</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.294</span></p>
</td>
<td class="No-Table-Style T---Body">
<p><span class="No-Break">0.266</span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.18 – Overall best classifiers</p>
<p>Given what we have seen, there are several general observations we <span class="No-Break">can make:</span></p>
<ul>
<li>The difference in performance of the various algorithms is not huge. For each dataset and each configuration of settings, the performances of the best classifiers are very similar, so it may be sensible to take training time as well as scores on the various measures into account when choosing a classifier. In particular, no classifier is the best in every case, and sometimes, the very simple algorithms (LEX and Naive Bayes) are as good as or even better than the more <span class="No-Break">complex ones.</span></li>
<li>Datasets where an individual tweet can be assigned zero, one, or more labels are considerably more challenging than ones where each tweet is given exactly one label. There is, in fact, a clear upper bound to the performance of classifiers that do assign exactly one label per tweet to these datasets, and the best results are obtained by reconsidering the way that the classifiers are used. Some classifiers are more suitable than others for this kind of task, and this must be taken into account when you’re choosing a classifier for datasets of this kind. Again, it is worth considering training time when choosing this: training a single classifier and then setting <em class="italic">N</em> individual thresholds is considerably quicker than training <em class="italic">N</em> classifiers, and in at least some cases, the difference in performance is <span class="No-Break">quite small.</span></li>
<li>We also investigated a variety of preprocessing steps, including the use of different tokenizers and stemmers, and we looked at using algorithms that can suggest “similar” words to replace words in the target tweets that do not appear in the training data. All these tweaks pay off in some situations and not <span class="No-Break">in others.</span></li>
</ul>
<p>We cannot overstate this: <strong class="bold">there is no silver bullet</strong>. Different tasks require different classifiers, and you should always investigate a range of classifiers before deciding which one you want to use. In particular, if you are working with a multi-label dataset, you should consider one of the algorithms from <span class="No-Break">this chapter.</span></p>
<p>When training a classifier, it is a good idea to look at the confusion matrix for the labels that it assigns. Several classifiers, particularly for the datasets with large numbers of zero assignments, produce quite good F1 and Jaccard scores simply by choosing the most common class (that is, <strong class="bold">neutral</strong>!) in every case. And when choosing between classifiers, it is a good idea to consider the end task that the classifier is needed for. If what you want is to get a feel for an opinion on some topic, without worrying too much about what individual tweets say about it, then using proportionality as a metric can be a helpful tool. We will use this in the next chapter, where we will look at the link between emotions expressed in tweets and real-life events over a <span class="No-Break">certain period.</span></p>
</div>
</div>

<div id="sbo-rt-content"><div class="Content" id="_idContainer145">
<h1 id="_idParaDest-144" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor201"/>Part 4:Case Study</h1>
<p><em class="italic">Part 3</em> discussed a range of approaches to the task of EA and compared their effectiveness on a set of standard datasets. In this final part, we investigate how well these approaches work on real-world data that is not connected to the standard sets, looking at how changes in the emotions expressed in tweets reflect key real-world events. We also examine how robust the various approaches are when applied to novel data, showing how approaches that work well when the test data is drawn from the same population as the training data can be fragile when applied to <span class="No-Break">novel data.</span></p>
<p>This part has the <span class="No-Break">following chapter:</span></p>
<ul>
<li><a href="B18714_11.xhtml#_idTextAnchor202"><em class="italic">Chapter 11</em></a>, <em class="italic">Case Study – The Qatar Blockade</em></li>
</ul>
</div>
<div>
<div id="_idContainer146">
</div>
</div>
<div>
<div id="_idContainer147">
</div>
</div>
<div>
<div id="_idContainer148">
</div>
</div>
<div>
<div id="_idContainer149">
</div>
</div>
<div>
<div id="_idContainer150">
</div>
</div>
<div>
<div class="Basic-Graphics-Frame" id="_idContainer151">
</div>
</div>
<div>
<div id="_idContainer152">
</div>
</div>
<div>
<div id="_idContainer153">
</div>
</div>
</div></body></html>