- en: Matrices, Probability, and Statistics
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 矩阵、概率和统计学
- en: Although we will take a mostly practical/applied approach to machine learning
    throughout this book, certain fundamental topics are essential to understand and
    properly apply machine learning. In particular, a fundamental understanding of
    probability and statistics will allow us to match certain algorithms with relevant
    problems, understand our data and results, and apply necessary transformations
    to our data. Matrices and a little linear algebra will then allow us to properly
    represent our data and implement optimizations, minimizations, and matrix-based
    transformations.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们将在整本书中主要采用实用/应用的方法来介绍机器学习，但某些基本主题对于理解和正确应用机器学习是必不可少的。特别是，对概率和统计学的深入理解将使我们能够将某些算法与相关问题匹配起来，理解我们的数据和结果，并对我们的数据进行必要的转换。矩阵和一点线性代数将使我们能够正确地表示我们的数据并实现优化、最小化和基于矩阵的转换。
- en: Do not worry too much if you are a little rusty in math or statistics. We will
    cover a few of the basics here and show you how to programmatically work with
    the relevant statistical measures and matrix techniques that will be utilized
    later in the book. That being said, this is not a book on statistics, probability,
    and linear algebra. To truly be proficient in machine learning, one should take
    time to learn these subjects on a deeper level.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你数学或统计学稍微有些生疏，不必过于担心。在这里，我们将介绍一些基础知识，并展示如何通过编程方式处理书中将要用到的相关统计指标和矩阵技术。但话说回来，这不是一本关于统计学、概率和线性代数的书。要真正精通机器学习，人们应该花时间在更深的层次上学习这些主题。
- en: Matrices and vectors
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 矩阵和向量
- en: If you spend much time learning and applying machine learning, you will see
    a bunch of references to matrices and vectors. In fact, many machine learning
    algorithms boil down to a series of iterative operations on matrices. What are
    matrices and vectors, and how do we represent them in our Go programs?
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你花很多时间学习和应用机器学习，你会看到很多关于矩阵和向量的引用。实际上，许多机器学习算法可以归结为一系列矩阵的迭代运算。矩阵和向量是什么，我们如何在
    Go 程序中表示它们？
- en: For the most part, we will utilize packages from `github.com/gonum` to form
    and work with matrices and vectors. This is a great series of Go packages focused
    on numerical computing, and they just keep getting better and better.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在很大程度上，我们将利用来自 `github.com/gonum` 的包来构建和使用矩阵和向量。这是一系列专注于数值计算的 Go 包，而且它们的质量一直在不断提升。
- en: Vectors
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 向量
- en: A vector is an ordered collection of numbers arranged in either a row (left
    to right) or column (up and down). Each of the numbers in a vector is called a
    component. This might be, for example, a collection of numbers that represents
    our company sales, or it might be a collection of numbers representing temperatures.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 向量是有序排列的数字集合，这些数字可以按行（从左到右）或列（从上到下）排列。向量中的每个数字称为一个分量。例如，这可能是一组代表我们公司销售额的数字，或者是一组代表温度的数字。
- en: 'It''s, of course, natural for us to use Go slices to represent these ordered
    collections of data, as follows:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，使用 Go 切片来表示这些有序数据集合是很自然的，如下所示：
- en: '[PRE0]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Slices are indeed ordered collections. However, they don''t really represent
    the concept of rows or columns, and we would still need to work out various vector
    operations on top of slices. Thankfully, on the vector operation side, gonum provides
    `gonum.org/v1/gonum/floats` to operate on slices of `float64` values and `gonum.org/v1/gonum/mat`,
    which, along with matrices, provides a `Vector` type (with corresponding methods):'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 切片确实是有序集合。然而，它们并不真正代表行或列的概念，我们仍然需要在切片之上进行各种向量运算。幸运的是，在向量运算方面，gonum 提供了 `gonum.org/v1/gonum/floats`
    来操作 `float64` 值的切片，以及 `gonum.org/v1/gonum/mat`，它除了矩阵外，还提供了一个 `Vector` 类型（及其对应的方法）：
- en: '[PRE1]'
  id: totrans-11
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Vector operations
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 向量运算
- en: 'As mentioned here, working with vectors necessitates the use of certain vector-/matrix-specific
    operations and rules. For example, how do we multiply vectors together? How do
    we know if two vectors are similar? Both `gonum.org/v1/gonum/floats` and `gonum.org/v1/gonum/mat`
    provide built-in methods and functions for vector/slice operations, such as dot
    products, sorting, and distance. We won''t cover all of the functionality here,
    as there is quite a bit, but we can get a general feel for how we might work with
    vectors. First, we can work with `gonum.org/v1/gonum/floats` in the following
    way:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 正如这里提到的，处理向量需要使用某些向量/矩阵特定的操作和规则。例如，我们如何将向量相乘？我们如何知道两个向量是否相似？`gonum.org/v1/gonum/floats`
    和 `gonum.org/v1/gonum/mat` 都提供了用于向量/切片操作的内置方法和函数，例如点积、排序和距离。我们不会在这里涵盖所有功能，因为有很多，但我们可以大致了解我们如何与向量一起工作。首先，我们可以以下这种方式使用
    `gonum.org/v1/gonum/floats`：
- en: '[PRE2]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'We can also do similar operations with `gonum.org/v1/gonum/mat`:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 我们也可以使用 `gonum.org/v1/gonum/mat` 执行类似的操作：
- en: '[PRE3]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: The semantics are similar in the two cases. If you are only working with vectors
    (not matrices), and/or you just need some lightweight and quick operations on
    slices of floats, then `gonum.org/v1/gonum/floats` is likely a good choice. However,
    if you are working with both matrices and vectors, and/or want access to a wider
    range of vector/matrix functionality, you are likely better off with `gonum.org/v1/gonum/mat`
    (along with occasional references to `gonum.org/v1/gonum/blas/blas64`).
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 两种情况下的语义是相似的。如果你只处理向量（不是矩阵），并且/或者你只需要对浮点数的切片进行一些轻量级和快速的操作，那么 `gonum.org/v1/gonum/floats`
    可能是一个不错的选择。然而，如果你同时处理矩阵和向量，并且/或者想要访问更广泛的向量/矩阵功能，那么使用 `gonum.org/v1/gonum/mat`（偶尔参考
    `gonum.org/v1/gonum/blas/blas64`）可能更好。
- en: Matrices
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 矩阵
- en: 'Matrices and linear algebra may seem complicated to many people, but simply
    put, matrices are just rectangular organizations of numbers, and linear algebra
    dictates the rules associated with their manipulation. For example, a matrix *A*
    with numbers arranged on a 4 x 3 rectangle may look like this:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 矩阵和线性代数可能对许多人来说看起来很复杂，但简单来说，矩阵只是数字的矩形组织，线性代数规定了它们操作的相关规则。例如，一个排列在4 x 3矩形上的矩阵
    *A* 可能看起来像这样：
- en: '![](img/9c09508b-58b4-4c41-a8af-1ef689c8f4e1.png)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9c09508b-58b4-4c41-a8af-1ef689c8f4e1.png)'
- en: 'The components of *A* (*a[11]*, *a[12]*, and so on) are the individual numbers
    that we are arranging into a matrix, and the subscripts indicate the location
    of the components within the matrix. The first index is the row index and the
    second index is the column index. More generally, *A* could have any shape/size
    with *M* rows and *N* columns:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 矩阵 *A* 的组件（*a[11]*、*a[12]* 等等）是我们安排到矩阵中的单个数字，下标表示组件在矩阵中的位置。第一个索引是行索引，第二个索引是列索引。更一般地，*A*
    可以有任何形状/大小，有 *M* 行和 *N* 列：
- en: '![](img/a3c91fdb-9642-46a9-b5e2-7b20f017b80e.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a3c91fdb-9642-46a9-b5e2-7b20f017b80e.png)'
- en: 'To form a matrix like this with `gonum.org/v1/gonum/mat`, we need to create
    a slice of `float64` values that is a flat representation of all the matrix components.
    For instance, in our example, we want to form the following matrix:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 `gonum.org/v1/gonum/mat` 形成这样的矩阵，我们需要创建一个 `float64` 值的切片，它是所有矩阵组件的平面表示。例如，在我们的例子中，我们想要形成以下矩阵：
- en: '![](img/bb87521a-251b-4b5a-bd63-b35efd6d4df8.png)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bb87521a-251b-4b5a-bd63-b35efd6d4df8.png)'
- en: 'We would need to create a slice of `float64` values as follows:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要创建一个 `float64` 值的切片，如下所示：
- en: '[PRE4]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Then, we can supply this, along with dimension information, to `gonum.org/v1/gonum/mat`
    to form a new `mat.Dense` matrix value:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们可以提供这个，以及维度信息，给 `gonum.org/v1/gonum/mat` 来形成一个新的 `mat.Dense` 矩阵值：
- en: '[PRE5]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Note that we have also used the nice formatting logic in `gonum.org/v1/gonum/mat`
    to print the matrix as a sanity check. When you run this, you should see the following:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，我们还在 `gonum.org/v1/gonum/mat` 中使用了漂亮的格式化逻辑来打印矩阵作为合理性检查。当你运行这个程序时，你应该看到以下内容：
- en: '[PRE6]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'We can then access and modify certain values within *A* via built-in methods:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们可以通过内置方法访问和修改 *A* 中的某些值：
- en: '[PRE7]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Matrix operations
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 矩阵运算
- en: As with vectors, matrices have their own set of rules for arithmetic, along
    with a whole set of special operations. Some of the arithmetic associated with
    matrices behaves in a similar way to what you might expect. However, you need
    to take special care when doing things such as multiplying matrices together or
    taking an inverse.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 与向量一样，矩阵有一套自己的算术规则和一系列特殊操作。与矩阵相关的某些算术行为可能与你预期的相似。然而，在进行矩阵相乘或求逆等操作时，你需要特别注意。
- en: 'Conveniently, `gonum.org/v1/gonum/mat` provides a nice API for this arithmetic
    and many other special operations. Here is an example showing a few operations,
    such as adding, multiplying, dividing, and so on:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 便利的是，`gonum.org/v1/gonum/mat` 为这种算术和许多其他特殊操作提供了一个很好的 API。以下是一个示例，展示了几个操作，如加法、乘法、除法等：
- en: '[PRE8]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: In particular, note the `Apply()` method above. This functionality is extremely
    useful as it allow you to apply any function to the elements of a matrix. You
    can apply the same function to all elements or make the function dependent on
    the indices of the matrix elements. For example, you could you this method to
    perform element-wise multiplications, applications of user defined functions,
    or applications of functions from third party packages.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 特别是，请注意上面的 `Apply()` 方法。这个功能非常有用，因为它允许你将任何函数应用于矩阵的元素。你可以将相同的函数应用于所有元素，或者使函数依赖于矩阵元素的索引。例如，你可以使用这个方法进行逐元素乘法、应用用户定义的函数或应用第三方包中的函数。
- en: 'Then, for all the various things, such as determinants, eigenvalue/vector solvers,
    and inverses, `gonum.org/v1/gonum/mat` has you covered. Again, I won''t expand
    on all of the functionality, but here is a sample of some of the operations:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，对于所有各种事情，比如行列式、特征值/向量求解器和逆矩阵，`gonum.org/v1/gonum/mat` 都为你提供了支持。再次强调，我不会详细介绍所有功能，但这里是一些操作的示例：
- en: '[PRE9]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Note that in this example, we leverage Go's explicit error handling functionality
    when we need to ensure that we are maintaining integrity and readability. Matrices
    don't always have inverses. There are various situations like this that arise
    when working with matrices and large datasets, and we want to ensure that our
    application behaves as expected.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，在这个例子中，当我们需要确保保持代码的完整性和可读性时，我们利用了 Go 的显式错误处理功能。矩阵并不总是有逆矩阵。在处理矩阵和大数据集时，会出现各种类似的情况，我们希望确保我们的应用程序按预期运行。
- en: Statistics
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 统计学
- en: At the end of the day, the success of your machine learning application is going
    to come down to the quality of your data, your understanding of the data, and
    your evaluation/validation of the results. All three of these things require us
    to have an understanding of statistics.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，你的机器学习应用程序的成功将取决于你数据的质量、你对数据的理解以及你对结果的评估/验证。这三件事都需要我们对统计学有一个理解。
- en: The field of statistics helps us to gain an understanding of our data, and to
    quantify what our data and results look like. It also provides us with mechanisms
    to measure how well our application is performing and prevent certain machine
    learning pitfalls (such as overfitting).
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 统计学领域帮助我们理解数据，并量化我们的数据和结果看起来像什么。它还为我们提供了测量应用程序性能以及防止某些机器学习陷阱（如过拟合）的机制。
- en: As with linear algebra, we aren't able to give a complete introduction to statistics
    here, but there are many resources online and in print to learn introductory statistics.
    Here we will focus on a fundamental understanding of the basics, along with the
    practicalities of implementation in Go. We will introduce the idea of distributions,
    along with an introduction to quantifying and visualizing these distributions.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 与线性代数一样，我们在这里无法提供统计学的完整介绍，但网上和印刷品中有很多资源可以学习统计学入门。在这里，我们将关注对基础知识的根本理解，以及 Go 中的实现实践。我们将介绍分布的概念，以及如何量化这些分布并可视化它们。
- en: Distributions
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分布
- en: A distribution is a representation of how often values appear within a dataset.
    Let's say, for instance, that one thing you are tracking as a data scientist is
    the daily sales of a certain product or service, and you have a long list (which
    you could represent as a vector or part of a matrix) of these daily sales numbers.
    These sales numbers are part of our dataset, and they include one day with sales
    of $121, another day with sales of $207, and so on.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 分布是对数据集中值出现频率的表示。比如说，作为数据科学家，你跟踪的一件事是某产品或服务的每日销售额，你有一个长长的列表（你可以将其表示为向量或矩阵的一部分）记录了这些每日销售额。这些销售额数据是我们数据集的一部分，包括一天销售额为
    $121，另一天销售额为 $207，等等。
- en: 'There will be one sales number that is the lowest out of the one we have accumulated.
    There will also be one sales number that is the highest out of the one we have
    accumulated, and the rest of the sales numbers that are somewhere in between (at
    least if we assume no exact duplicates). The following image represents these
    low, high, and in-between values of sales along a line:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 将会有一个销售数字是我们积累的最低的。也将会有一个销售数字是我们积累的最高，其余的销售数字则位于两者之间（至少如果我们假设没有精确的重复）。以下图像表示了销售的低、高和中间值：
- en: '![](img/15145fdc-66d2-468c-b2f8-2fe1fc9eabea.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/15145fdc-66d2-468c-b2f8-2fe1fc9eabea.png)'
- en: This is, thus, a distribution of sales, or at least one representation of the
    distribution of sales. Note that this distribution has areas where there are more
    numbers and areas where the numbers are a little sparse. Additionally, note that
    there seems to be a tendency for numbers to be near the center of the distribution.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这因此是一个销售分布，或者至少是销售分布的一个表示。请注意，这个分布有更多数字和数字较少的区域。此外，请注意，数字似乎倾向于分布的中心。
- en: Statistical measures
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 统计测量
- en: 'To quantify what a distribution looks like, we will use various statistical
    measures. Generally, there are two types of these measures:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 为了量化分布看起来像什么，我们将使用各种统计测量。通常，有两种类型的这些测量：
- en: '**Central tendency measures**: These measure where most of the values are located,
    or where the *center* of the distribution is located (for example, along the preceding
    linear representation).'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**中心趋势测量**：这些测量值的位置，或者分布的中心位置在哪里（例如，沿着前面的线性表示）。'
- en: '**Spread or dispersion measures**: These measure how the values of the distribution
    are spread across the distribution''s range (from the lowest value to the highest
    value).'
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**离散度或分散度测量**：这些测量值如何在分布的范围内（从最低值到最高值）分布。'
- en: There are various packages that allow you to quickly calculate and/or utilize
    these statistical measures. We will make use of `gonum.org/v1/gonum/stat` (you
    are probably starting to notice that we will be making heavy use of gonum) and
    `github.com/montanaflynn/stats`.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 有各种包允许你快速计算和/或利用这些统计测量。我们将使用`gonum.org/v1/gonum/stat`（你可能开始注意到我们将大量使用gonum）和`github.com/montanaflynn/stats`。
- en: Note, there is a one letter difference in the names of the `gonum.org/v1/gonum/stat`
    and `github.com/montanaflynn/stats` packages. Keep this in mind as you review
    the examples in the following sections.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，`gonum.org/v1/gonum/stat` 和 `github.com/montanaflynn/stats` 包的名称之间有一个字母的差异。在查看以下章节中的示例时请记住这一点。
- en: Measures of central tendency
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 均值测量
- en: 'Measures of central tendency include the following:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 中心趋势测量包括以下内容：
- en: '`Mean`: This is what you might commonly refer to as an average. We calculate
    this by summing all of the numbers in the distribution and then dividing by the
    count of the numbers.'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`均值`：这可能是你通常所说的平均值。我们通过将分布中的所有数字相加，然后除以数字的数量来计算这个值。'
- en: '`Median`: If we sort all of the numbers in our distribution from the lowest
    to highest, this is the number that separates the lowest half of the numbers from
    the highest half of the numbers.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`中位数`：如果我们按从低到高的顺序对分布中的所有数字进行排序，这个数字就是将数字的最低一半与最高一半分开的数字。'
- en: '`Mode`: This is the most frequently occurring value in the distribution.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`众数`：这是分布中出现频率最高的值。'
- en: 'Let''s calculate these measures for the values in one column of the iris dataset
    previously introduced in [Chapter 1](4f556f8e-6876-48ca-9ac5-f897b733e23e.xhtml),
    *Gathering and Organizing Data*. As a reminder, this dataset included four columns
    of flower measurements, along with a column of the corresponding flower species.
    Thus, each of the measurement columns includes a bunch of values that represent
    a distribution of that measurement:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们计算之前在[第1章](4f556f8e-6876-48ca-9ac5-f897b733e23e.xhtml)，“收集和组织数据”中介绍的鸢尾花数据集一列中的值。作为提醒，这个数据集包括四个花测量列，以及一个对应的花种列。因此，每个测量列都包含了一组代表该测量分布的值：
- en: '[PRE10]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Running this program results in the following:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 运行此程序会产生以下结果：
- en: '[PRE11]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: You can see that the mean, mode, and median are all slightly different. However,
    note that the mean and median are very close for the values in the `sepal_length`
    column.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到均值、众数和中位数都有所不同。然而，请注意，在`sepal_length`列的值中，均值和中位数非常接近。
- en: 'On the other hand, if we change `sepal_length` to `petal_length` in the preceding
    code, we will get the following results:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，如果我们把前面的代码中的`sepal_length`改为`petal_length`，我们将得到以下结果：
- en: '[PRE12]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: For the `petal_length` values, the mean and median are not as close. We can
    already start to get some intuition about the data from this information. If the
    mean and median aren't close, this implies that high or low values are dragging
    the mean higher or lower, respectively--an influence that isn't as noticeable
    in the median. We call this a **skewed** **distribution**.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 对于`petal_length`值，平均值和中位数并不那么接近。我们可以从这些信息中开始对数据进行一些直观的了解。如果平均值和中位数不接近，这意味着高值或低值正在将平均值拉高或拉低，分别是一种在平均值中不那么明显的影响。我们称这种为**偏斜**的**分布**。
- en: Measures of spread or dispersion
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**离散度或分散度**'
- en: 'Now that we have an idea about where most of our values are located (or the
    center of our distribution), let''s try to quantify how the values of our distribution
    are spread around the center of our distribution. Some of the widely used measures
    that quantify this are as follows:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经对大多数值的位置（或分布的中心）有了概念，让我们尝试量化分布的值是如何围绕分布中心分布的。以下是一些广泛使用的量化这种分布的指标：
- en: '**Maximum**: The highest value of the distribution'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最大值**：分布的最高值'
- en: '**Minimum**: The lowest value of the distribution'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最小值**：分布的最低值'
- en: '**Range**: The difference between the maximum and minimum'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**范围**：最大值和最小值之间的差'
- en: '**Variance**: This measure is calculated by taking each of the values in the
    distribution, calculating each one''s difference from the distribution''s mean,
    squaring this difference, adding it to the other squared differences, and dividing
    by the number of values in the distribution'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**方差**：这个度量是通过取分布中的每个值，计算每个值与分布平均值的差，平方这个差，将其加到其他平方差上，然后除以分布中的值数来计算的'
- en: '**Standard deviation**: The square root of the variance'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标准差**：方差的平方根'
- en: '**Quantiles/quartiles**: Similar to the median, these measures define cut-off
    points in the distribution where a certain number of lower values are below the
    measure and a certain number of higher values are above the measure'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分位数/四分位数**：与中位数类似，这些度量定义了分布中的截止点，其中一定数量的低值低于该度量，而一定数量的高值高于该度量'
- en: 'Using `gonum.org/v1/gonum/stat`, the calculation of these measures looks as
    follows:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`gonum.org/v1/gonum/stat`，这些度量的计算如下：
- en: '[PRE13]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Running this program gives the following result:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 运行这个程序给出以下结果：
- en: '[PRE14]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Okay, let's try to get through these numbers and see what they imply about the
    distribution of values in the `sepal_length` column. We can deduce the following.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 好吧，让我们尝试理解这些数字，看看它们对`sepal_length`列中值的分布意味着什么。我们可以得出以下结论。
- en: First, the standard deviation is `1.76` and the whole range of values is `5.90`.
    As opposed to the variance, the standard deviation has the same units as the values
    themselves, and thus we can see that the values actually vary quite a bit within
    the range of values (the standard deviation value is about 30% of the total range
    of values).
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，标准差是`1.76`，整个值的范围是`5.90`。与方差不同，标准差具有与值本身相同的单位，因此我们可以看到值实际上在值的范围内变化很大（标准差值大约是总范围值的30%）。
- en: Next, let's look at the quantiles. The 25% quantile represents a point in the
    distribution where 25% of the values in the distribution are below the measure
    and the other 75% are above. This is similar for the 50% and 75% quantiles. As
    the 25% quantile is much closer to the minimum than the distance between the 75%
    quantile and the maximum, we can deduce that the higher values in the distribution
    are likely more spread out than the lower values.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，让我们看看分位数。25%分位数表示分布中的一个点，其中25%的值低于该度量，而其他75%的值高于该度量。50%和75%分位数也是类似的。由于25%分位数比75%分位数和最大值之间的距离更接近最小值，我们可以推断出分布中的高值可能比低值更分散。
- en: Of course, you can utilize any combination of these measures, along with the
    central tendency measures, to help you quantify how a distribution looks, and
    there are other statistical measures that can't be covered here.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，你可以利用这些度量以及中心趋势度量中的任何组合，来帮助你量化分布的外观，还有其他一些统计度量在这里无法涵盖。
- en: The point here is that you should be making use of measures like these to help
    you build mental models of your data. This will allow you to put results in context
    and sanity-check your work.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 这里要说明的是，你应该利用这类度量来帮助你建立数据的心智模型。这将使你能够将结果置于上下文中，并对你的工作进行合理性检查。
- en: Visualizing distributions
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可视化分布
- en: Even though it is important to quantify how a distribution looks, we should
    actually visualize the distribution to gain the most intuition. There are various
    types of plots and graphs that allow us to create a visual representation of a
    distribution of values. These help us form a mental model of the data and communicate
    information about our data to other members of our team, users of our applications,
    and so on.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管量化分布的外观很重要，但我们实际上应该可视化分布以获得最直观的感知。有各种类型的图表和图形，允许我们创建值的分布的视觉表示。这些帮助我们形成数据的心智模型，并将我们数据的信息传达给团队成员、应用程序用户等。
- en: Histograms
  id: totrans-88
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 直方图
- en: 'The first type of these graphs or charts that help us understand our distributions
    is called a **histogram**. Actually, a histogram is really a certain way of organizing
    or counting your values, which can then be plotted in a histogram plot. To form
    a histogram, we first create a certain number of bins, carving out different areas
    of the total range of our values. For example, take the distribution of sales
    numbers that we discussed in the previous sections:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 帮助我们理解分布的第一种图表或图表称为 **直方图**。实际上，直方图是一种组织或计数你的值的方式，然后可以在直方图图中绘制。要形成直方图，我们首先创建一定数量的箱，划分出我们值范围的不同区域。例如，考虑我们在前几节中讨论的销售数字分布：
- en: '![](img/bad47dc3-012f-43af-a67f-fb75d8e3913a.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/bad47dc3-012f-43af-a67f-fb75d8e3913a.png)'
- en: 'Next, we count how many of our values are in each of these bins:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们计算每个箱子中有多少个我们的值：
- en: '![](img/39fcec2e-af90-4cff-bf18-a6cb10ac9113.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/39fcec2e-af90-4cff-bf18-a6cb10ac9113.png)'
- en: 'These counts, along with the definition of the bins, form our histogram. We
    can then easily convert this to a plot of the counts, which provides a nice visual
    representation of our distribution:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 这些计数以及箱的定义形成了我们的直方图。然后我们可以轻松地将这些转换为计数的图，这为我们提供了分布的很好的视觉表示：
- en: '![](img/0c7f0414-810c-45cb-bf42-1d29b2923a7a.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/0c7f0414-810c-45cb-bf42-1d29b2923a7a.png)'
- en: We can again use gonum to create a histogram from actual data and plot the histogram.
    The packages that gonum provides for this type of plotting, along with other types
    of plotting, can be found in `gonum.org/v1/plot`. As an example, let's create
    a histogram plot for each of the columns in the iris dataset.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用 gonum 从实际数据创建直方图并绘制直方图。gonum 提供用于此类绘图以及其他类型绘图的包可以在 `gonum.org/v1/plot`
    中找到。作为一个例子，让我们为 iris 数据集中的每一列创建直方图图。
- en: 'First, import the following from gonum:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，从 gonum 导入以下内容：
- en: '[PRE15]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Then we will read in the iris dataset, create a dataframe, and look over the
    numerical columns generating the histogram plots:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们将读取 iris 数据集，创建一个数据框，并查看数值列生成直方图图：
- en: '[PRE16]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Note that we have normalized our histograms (with `h.Normalize()`). This is
    typical because often you will want to compare different distributions with different
    counts of values. Normalizing the histogram allows us to compare the different
    distributions side by side.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，我们已经对直方图进行了归一化（使用 `h.Normalize()`）。这是典型的，因为通常你将想要比较具有不同值计数的不同分布。归一化直方图允许我们并排比较不同的分布。
- en: 'The preceding code will generate four `*.png` files with the following histograms
    for the numerical columns in the iris dataset:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码将为 iris 数据集中的数值列生成以下直方图的四个 `*.png` 文件：
- en: '![](img/0ad2584e-4871-43cd-ae40-3f220b1b394c.png)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/0ad2584e-4871-43cd-ae40-3f220b1b394c.png)'
- en: Each of these distributions looks different from the others. The `sepal_width`
    distribution looks like a bell curve or normal/Gaussian distribution (which we
    will discuss later in the book). On the other hand, the petal distributions look
    like they have two different distinct clumps of values. We will make use of these
    observations later on when we are developing our machine learning workflows, but
    for now, just note how these visualizations are able to help us develop a mental
    model of our data.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 这些分布彼此看起来都不同。`sepal_width` 分布看起来像钟形曲线或正态/高斯分布（我们将在本书后面讨论）。另一方面，花瓣分布看起来像有两个不同的明显值簇。当我们开发机器学习工作流程时，我们将利用这些观察结果，但在此阶段，只需注意这些可视化如何帮助我们建立数据的心智模型。
- en: Box plots
  id: totrans-104
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 箱线图
- en: 'Histograms are by no means the only way to visually gain an understanding of
    our data. Another commonly used type of plot is called a **box plot**. This type
    of plot also gives us an idea about the grouping and spread of values in a distribution,
    but, as opposed to the histogram, the box plot has several marked features that
    help guide our eyes:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 直方图绝不是唯一一种帮助我们直观理解数据的方式。另一种常用的图表类型被称为**箱线图**。这种图表类型也让我们对分布中值的分组和分布情况有所了解，但与直方图不同，箱线图有几个明显的特征，有助于引导我们的视线：
- en: '![](img/f966ccf5-2b63-4ec6-a01b-b7f5cc7b5fb6.png)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f966ccf5-2b63-4ec6-a01b-b7f5cc7b5fb6.png)'
- en: Because the borders of the boxes in the box plots are defined by the median,
    **first quartile** (25% quantile/percentile), and **third quartile**, the same
    number of distribution values that are contained in the two central boxes. If
    one box is bigger than the other, it means that the distribution is skewed.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 因为箱线图中箱体的边界由中位数、**第一四分位数**（25% 分位数/百分位数）和**第三四分位数**定义，所以两个中央箱体包含的分布值数量相同。如果一个箱体比另一个大，这意味着分布是偏斜的。
- en: The box plots also include two tails or whiskers. These give us a quick visual
    indication of the range of the distribution as compared to the area that includes
    most of the values (the middle 50%).
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 箱线图还包括两个尾部或须。这些给我们一个快速的可视指示，表明分布的范围与包含大多数值（中间50%）的区域相比。
- en: 'To solidify this type of plot, let''s again create plots for the iris dataset.
    Similar to the histograms, we will use `gonum.org/v1/plot`. However, in this case,
    we will put all the box plots into the same `*.png`:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 为了巩固这种图表类型，我们再次为鸢尾花数据集创建图表。与直方图类似，我们将使用`gonum.org/v1/plot`。然而，在这种情况下，我们将所有箱线图放入同一个`*.png`文件中：
- en: '[PRE17]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'This will generate the following figure:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 这将生成以下图形：
- en: '![](img/f089ea36-f5fb-4abf-91e2-d30e895c8f71.png)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f089ea36-f5fb-4abf-91e2-d30e895c8f71.png)'
- en: As we observed in the histograms, the `sepal_length` column appears to be relatively
    symmetrical. On the other hand, `petal_length` appears to be much less symmetrical.
    Note also that gonum has included several outliers (marked as circles or dots)
    in the box plots. Many plotting packages include these. They indicate the values
    that are at least a certain distance away from the median of the distribution.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在直方图中观察到的，`sepal_length`列看起来相对对称。另一方面，`petal_length`看起来则不对称得多。还要注意的是，gonum在箱线图中包括了几个异常值（标记为圆圈或点）。许多绘图包都包括这些。它们表示那些至少与分布的中位数有一定距离的值。
- en: Probability
  id: totrans-114
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概率
- en: At this point, we now understand a couple of ways to represent/manipulate our
    data (matrices and vectors), and we know how to gain and understanding about our
    data, and how to quantify how our data looks (statistics). However, sometimes
    when we are developing machine learning applications, we also want to know how
    likely it is that a prediction is correct or how significant certain results are,
    given a history of results. Probability can help us answer these *how likely*
    and *how significant* questions.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们现在已经了解了几种表示/操作数据的方法（矩阵和向量），并且我们知道如何获取对数据的理解，以及如何量化数据的外观（统计学）。然而，有时当我们开发机器学习应用时，我们也想知道预测正确的可能性有多大，或者给定结果历史，某些结果的重要性有多大。概率可以帮助我们回答这些“可能性”和“重要性”问题。
- en: Generally, probability has to do with the likelihood of events or observations.
    For example, if we are going to flip a coin to make a decision, how likely is
    it that we would see heads (50%), how likely is it that we would see tails (50%),
    or even how likely is it that the coin is a fair coin? This might seem like a
    trivial example, but many similar questions come up when doing machine learning.
    In fact, some machine learning algorithms are built on probabilistic rules and
    theorems.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，概率与事件或观察的可能性有关。例如，如果我们抛硬币来做决定，看到正面（50%）的可能性有多大，看到反面（50%）的可能性有多大，甚至硬币是否是公平的硬币的可能性有多大？这看起来可能是一个微不足道的例子，但在进行机器学习时，许多类似的问题都会出现。事实上，一些机器学习算法是基于概率规则和定理构建的。
- en: Random variables
  id: totrans-117
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 随机变量
- en: Let's say that we have an experiment, like our scenario of flipping the coin,
    which could have multiple outcomes (heads or tails). Now let's define a variable
    whose value could be one of these outcomes. This variable is referred to as a
    **random variable**.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们有一个实验，就像我们抛硬币的场景，它可能有多个结果（正面或反面）。现在让我们定义一个变量，其值可以是这些结果之一。这个变量被称为**随机变量**。
- en: In the case of the coin toss (at least if we are considering a fair coin), each
    of the outcomes of the random variable is equally likely. That is, we have a 50%
    chance of seeing a heads outcome and a 50% chance of seeing a tails outcome. Yet,
    the various values of the random variable need not be equally likely. If we are
    trying to predict whether it will rain or not, those outcomes will not be equally
    likely.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 在抛硬币的情况下（至少如果我们考虑的是公平硬币），随机变量的每个结果出现的可能性是相等的。也就是说，我们看到正面的概率是50%，看到反面的概率也是50%。然而，随机变量的各种值不必具有相等的可能性。如果我们试图预测是否会下雨，这些结果将不会具有相等的可能性。
- en: Random variables allow us to define these how likely and how significant sort
    of questions that we mentioned earlier. They can have a finite number of outcomes
    and/or could represent ranges of continuous variables.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 随机变量使我们能够定义我们之前提到的那些“可能性”和“显著性”的问题。它们可以有有限个结果，或者可以代表连续变量的范围。
- en: Probability measures
  id: totrans-121
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概率度量
- en: So how likely is it that we observe a specific outcome of an experiment? Well,
    to quantify the answer to this question, we introduce **probability measures**,
    which are often referred to as probabilities. They are represented by a number
    between 0 and 1 and/or by a percentage between 0% and 100%.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，我们观察到特定实验结果的可能性有多大？为了量化这个问题的答案，我们引入**概率度量**，通常被称为概率。它们用一个介于0和1之间的数字表示，或者用一个介于0%和100%之间的百分比表示。
- en: 'In the case of flipping a fair coin, we have the following scenario:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 在抛公平硬币的情况下，我们有以下场景：
- en: There is a 0.5 or 50% chance, or probability, of heads, where 0.5 or 50% is
    a probability measure
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 出现正面的概率是0.5或50%，这里的0.5或50%是一个概率度量
- en: There is a 0.5 or 50% chance of tails
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 出现反面的概率是0.5或50%
- en: Probability measures for a certain experiment must add up to 1 because when
    an event occurs, it has to correspond to one of the possible outcomes.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 某个实验的概率度量必须加起来等于1，因为当事件发生时，它必须对应于可能的某个结果。
- en: Independent and conditional probability
  id: totrans-127
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 独立和条件概率
- en: Two events (outcomes of experiments) are independent if the probability of one
    of the events in no way affects the probability of the other events. An example
    of independent events is the flipping of coins or the rolling of dice. On the
    other hand, dependent events are those events where the probability of one event
    influences the probability of another event. An example of dependent events is
    drawing cards from a deck of cards without replacement.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个事件（实验的结果）的概率在某种程度上不影响其他事件的概率，那么这两个事件（实验的结果）是独立的。独立事件的例子是抛硬币或掷骰子。另一方面，相关事件是那些一个事件的概率影响另一个事件概率的事件。相关事件的例子是从一副牌中抽取卡片而不放回。
- en: How can we quantify this second type of probability, which is commonly referred
    to as conditional probability? Symbolically, independent probabilities can be
    represented by *P(A)*, which is the probability of *A* (where *A* could represent
    flipping a coin, rolling a die, and so on). Then conditional probabilities are
    represented by *P(B|A)*, which is the probability of *A* given *B* (where *B*
    is another outcome).
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 我们如何量化这种第二种类型的概率，通常被称为条件概率？符号上，独立概率可以用*P(A)*表示，它是*A*的概率（其中*A*可能代表抛硬币、掷骰子等）。然后条件概率用*P(B|A)*表示，即在给定*B*的情况下*A*的概率（其中*B*是另一个结果）。
- en: 'To actually calculate a conditional probability, we can use the Bayes theorem/rule:
    *P(A|B) = P(B|A) P(A) / P(B)*. Sometimes you will see these terms defined as follows:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 要实际计算条件概率，我们可以使用贝叶斯定理/规则：*P(A|B) = P(B|A) P(A) / P(B)*。有时你会看到这些术语如下定义：
- en: '*P(A|B)*: The *posterior*, because it is something we know about *A* after
    observing *B*'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*P(A|B)*：后验概率，因为它是在观察*B*之后关于*A*的已知信息'
- en: '*P(A)*: The *prior*, because it is data we have about *A* before observing
    *B*'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*P(A)*：先验概率，因为它是在观察*B*之前关于*A*的数据'
- en: '*P(B|A)*: The *likelihood*, because it is a measure of the compatibility of
    *B* with *A*'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*P(B|A)*：似然性，因为它衡量了*B*与*A*的兼容性'
- en: '*P(B)*: The *evidence*, because it measures the probability of *B*, which we
    already know is true'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*P(B)*：证据概率，因为它衡量了*B*的概率，而我们已知*B*是真实的'
- en: This theorem is the basis for various techniques that will be discussed later
    in the book, such as the naive the Bayes technique for classification.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 这个定理是本书后面将要讨论的各种技术的基础，例如朴素贝叶斯分类技术。
- en: Hypothesis testing
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 假设检验
- en: We can quantify *how likely* questions with probabilities and can even calculate
    conditional probabilities with Bayes theorem, but how can we quantify *how significant*
    questions that correspond to real-world observations? For example, we can quantify
    the probability of heads/tails with a fair coin, but how can we determine *how
    significant* it is when we flip a coin a bunch of times and observe 48% heads
    and 52% tails? Is this significant? Does it mean that we have an unfair coin?
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以用概率来量化“可能性”，甚至可以用贝叶斯定理计算条件概率，但如何量化与实际观察相对应的“显著性”问题呢？例如，我们可以用公平的硬币量化正面/反面的概率，但当我们多次抛硬币并观察到48%正面和52%反面时，这有多显著？这是否意味着我们有一个不公平的硬币？
- en: 'These *how significant* questions can be answered using a process called hypothesis
    testing. This process generally includes the following steps:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 这些“显著性”问题可以通过称为假设检验的过程来回答。这个过程通常包括以下步骤：
- en: Formulate a **null hypothesis**, referred to as *H[0]*, and an **alternate hypothesis**,
    referred to as *H[a]*. *H[0]* represents the scenario where what you observe (for
    example, 48% heads and 52% tails) is the result of pure chance, whereas *H[a]*
    represents the scenario where some type of underlying effect is causing significant
    deviation from pure chance (for example, an unfair coin). The null hypothesis
    is always assumed to be true.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提出一个**零假设**，称为*H[0]*，以及一个**备择假设**，称为*H[a]*。*H[0]*代表你所观察到的（例如，48%正面和52%反面）是纯粹偶然的结果，而*H[a]*代表某种潜在效应导致与纯粹偶然有显著偏差的场景（例如，一个不公平的硬币）。零假设始终被假定为真实的。
- en: Determine a **test statistic** that you will use to determine the validity of
    *H[0].*
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确定一个**测试统计量**，你将用它来确定*H[0]*的有效性。
- en: Determine a **p-value**, which indicates the probability of observing a test
    statistic at least as significant as your test statistic assuming that *H[0]*
    is true. This p-value can be obtained from a probability distribution corresponding
    to the test statistic (often represented as a table or distribution function).
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确定一个**p值**，它表示在*H[0]*为真的假设下，观察到至少与你的测试统计量一样显著的测试统计量的概率。这个p值可以从与测试统计量相对应的概率分布中获得（通常表示为表格或分布函数）。
- en: Compare your p-value with a predetermined threshold. If the p-value is less
    or equal to the predetermined threshold, *H[0]* is ruled out in favor of *H[a]*.
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将你的p值与预先设定的阈值进行比较。如果p值小于或等于预先设定的阈值，则拒绝*H[0]*，接受*H[a]*。
- en: This might seem rather abstract, but this process will intersect with your machine
    learning workflows at some point. For example, you may change one of your machine
    learning models that optimizes advertisements, and then you may want to quantify
    if an increase in sales is actually statistically significant. In another scenario,
    you may be analyzing logs representing possible fraudulent network traffic, and
    you might need to build a model that recognizes statistically significant deviations
    from expected network traffic.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 这可能看起来相当抽象，但这个过程最终将与你的机器学习工作流程相交。例如，你可能改变了一个优化广告的机器学习模型，然后你可能想量化销售额的增加是否实际上具有统计学意义。在另一种情况下，你可能正在分析代表可能欺诈网络流量的日志，你可能需要构建一个模型来识别与预期网络流量有显著差异的统计显著偏差。
- en: Note that you may also see certain hypothesis tests referred to as A/B tests,
    and, although the process listed here is common, it is by no means the only methodology
    for hypothesis testing. There are methods for Bayesian A/B testing, bandit algorithms
    for optimization, and more, which won't be covered in detail in this book.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，你可能会看到某些假设检验被称为A/B测试，尽管这里列出的过程很常见，但绝不是假设检验的唯一方法。还有贝叶斯A/B测试、用于优化的bandit算法等等，这些内容本书不会详细涉及。
- en: Test statistics
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 测试统计量
- en: There are many different test statistics that can be used in hypothesis testing.
    These include the Z-statistic, T-statistic, F-statistic, and chi-square statistic.
    You can, of course, implement these measures from scratch in Go without too much
    trouble. However, there are also some pre-existing implementations that you can
    use.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在假设检验中可以使用许多不同的测试统计量。这些包括Z统计量、T统计量、F统计量和卡方统计量。当然，你可以在Go中从头开始实现这些度量，而不会遇到太多麻烦。然而，也有一些现成的实现可供使用。
- en: 'Returning to `gonum.org/v1/gonum/stat`, we can calculate a chi-square statistic
    as follows:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 返回到`gonum.org/v1/gonum/stat`，我们可以按照以下方式计算卡方统计量：
- en: '[PRE18]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Calculating p-values
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 计算p值
- en: 'Let''s say that we have the following scenario:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们有以下场景：
- en: 'A survey of local residents reveals that 60% of all residents get no regular
    exercise, 25% exercise sporadically, and 15% exercise regularly. After doing some
    fancy modeling and putting some community services in place, the survey was repeated
    with the same questions. The follow up survey was completed by 500 residents with
    the following results:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
- en: 'No Regular Exercise: 260'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
- en: 'Sporadic Exercise: 135'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
- en: 'Regular Exercise: 105'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
- en: 'Total: 500'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, we want to determine if there is evidence for a statistically significant
    shift in the responses of the residents. Our null and alternate hypotheses are
    as follows:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
- en: '*H[0]*: The deviations from the previously observed percentages are due to
    pure chance'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*H[a]*: The deviations are due to some underlying effect outside of pure chance
    (possibly our new community services)'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'First, let''s calculate our test statistic using the chi-square test statistic:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'This will give us the following value for chi-square:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  id: totrans-162
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Next, we need to calculate the p-value corresponding to this `Chi-square`.
    This requires us to know information about the **chi-squared distribution**, which
    defines the p-values for certain measures of chi-square and certain **degrees
    of freedom**. `github.com/gonum/stat` also includes a representation of this chi-squared
    distribution from which we can calculate our `p-value`:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'This gives us the following result:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: So, there is a 0.01% probability that the results we see in the deviations in
    the second version of the survey are purely due to chance. If we, for example,
    are using a threshold of 5% (which is common), we would need to reject the null
    hypothesis and adopt our alternative hypothesis.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
- en: References
  id: totrans-168
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Vectors and matrices:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
- en: '`gonum.org/v1/gonum/floats` docs: [https://godoc.org/gonum.org/v1/gonum/floats](https://godoc.org/gonum.org/v1/gonum/floats)'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`gonum.org/v1/gonum/mat` docs: [https://godoc.org/gonum.org/v1/gonum/mat](https://godoc.org/gonum.org/v1/gonum/mat)'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Statistics:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
- en: '`gonum.org/v1/gonum/stat` docs: [https://godoc.org/gonum.org/v1/gonum/stat](https://godoc.org/gonum.org/v1/gonum/stat)'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`github.com/montanaflynn/stats` docs: [https://godoc.org/github.com/montanaflynn/stats](https://godoc.org/github.com/montanaflynn/stats)'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Visualization:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
- en: '`gonum.org/v1/plot` docs: [https://godoc.org/gonum.org/v1/plot](https://godoc.org/gonum.org/v1/plot)'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`gonum.org/v1/plot` wiki with examples: [https://github.com/gonum/plot/wiki/Example-plots](https://github.com/gonum/plot/wiki/Example-plots)'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Probability:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
- en: '`gonum.org/v1/gonum/stat/distuv` docs: [https://godoc.org/gonum.org/v1/gonum/stat/distuv](https://godoc.org/gonum.org/v1/gonum/stat/distuv)'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Summary
  id: totrans-180
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This introduction to matrices, linear algebra, statistics, and probability in
    Go has given us a set of tools to understand, structure, and operate on data.
    This set of tools will be used throughout the book as we work on a diverse set
    of problems, and these tools could be used in a variety of contexts outside of
    machine learning. However, in the next chapter, we will discuss some ideas and
    techniques that will be extremely important in the machine learning context, specifically,
    evaluation and validation.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 这本关于Go语言中矩阵、线性代数、统计学和概率的介绍，为我们提供了一套理解和操作数据的工具。这套工具将在我们解决各种问题时贯穿全书，并且这些工具可以在机器学习之外的各种环境中使用。然而，在下一章中，我们将讨论一些在机器学习环境中极为重要的思想和技巧，特别是评估和验证。
