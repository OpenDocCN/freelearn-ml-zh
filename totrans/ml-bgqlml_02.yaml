- en: '*Chapter 1*: Introduction to Google Cloud and BigQuery'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第一章*：Google Cloud 和 BigQuery 简介'
- en: The adoption of the public cloud enables companies and users to access innovative
    and cost-effective technologies. This is particularly valuable in the big data
    and **Artificial Intelligence** (**AI**) areas, where new solutions are providing
    possibilities that seemed impossible to achieve with on-premises systems only
    a few years ago. In order to be effective in the day-to-day business of a company,
    the new AI capabilities need to be shared between different roles and not concentrated
    only with technicians. Most cloud providers are currently addressing the challenge
    of democratizing AI across different departments and employees with different
    skills.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 公共云的采用使公司和用户能够访问创新且成本效益高的技术。这在大数据和**人工智能**（**AI**）领域尤其有价值，因为新的解决方案正在提供几年前仅凭本地系统似乎无法实现的可能性。为了在公司的日常业务中有效，新的
    AI 能力需要在不同角色之间共享，而不仅仅是技术人员。目前，大多数云服务提供商都在应对将 AI 民主化到不同部门和不同技能的员工中的挑战。
- en: In this context, **Google Cloud** provides several services to accelerate the
    processing of large amounts of data and build **Machine Learning** (**ML**) applications
    that can make better decisions.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，**Google Cloud** 提供了多项服务，以加速大量数据的处理并构建可以做出更好决策的**机器学习**（**ML**）应用程序。
- en: 'In this chapter, we''ll gradually introduce the main concepts that will be
    useful in the upcoming hands-on activities. Using an incremental approach, we''ll
    go through the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将逐步介绍在即将到来的动手活动中将非常有用的主要概念。我们将采用增量方法，探讨以下主题：
- en: Introducing Google Cloud Platform
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 介绍 Google Cloud Platform
- en: Exploring AI and ML services on GCP
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索 GCP 上的 AI 和 ML 服务
- en: Introducing BigQuery
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 介绍 BigQuery
- en: Discovering BigQuery ML
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发现 BigQuery ML
- en: Understanding BigQuery pricing
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解 BigQuery 定价
- en: Introducing Google Cloud Platform
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍 Google Cloud Platform
- en: Starting from 1998 with the launch of **Google Search**, Google has developed
    one of the largest and most powerful IT infrastructures in the world. Today, this
    infrastructure is used by billions of users to use services such as **Gmail**,
    **YouTube**, **Google Photo**, and **Maps**. After 10 years, in 2008, Google decided
    to open its network and IT infrastructure to business customers, taking an infrastructure
    that was initially developed for consumer applications to public service and launching
    **Google Cloud Platform** (**GCP**).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 从 1998 年 Google Search 的推出开始，Google 开发了一个世界上最大和最强大的 IT 基础设施之一。今天，这个基础设施被数十亿用户用于使用
    **Gmail**、**YouTube**、**Google Photo** 和 **Maps** 等服务。10 年后，在 2008 年，Google 决定将其网络和
    IT 基础设施向商业客户开放，将最初为消费应用程序开发的架构转向公共服务，并推出了 **Google Cloud Platform**（**GCP**）。
- en: 'The 90+ services that Google currently provides to large enterprises and small-
    and medium-sized businesses cover the following categories:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Google 目前为大型企业和小型及中型企业提供 90 多项服务，涵盖以下类别：
- en: '**Compute**: Used to support workloads or applications with virtual machines
    such as Google Compute Engine, containers with Google Kubernetes Engine, or platforms
    such as AppEngine.'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**计算**：用于支持使用虚拟机（如 Google Compute Engine）、容器（如 Google Kubernetes Engine）或平台（如
    AppEngine）的工作负载或应用程序。'
- en: '**Storage and databases**: Used to store datasets and objects in an easy and
    convenient way. Some examples are Google Cloud Storage, Cloud SQL, and Spanner.'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**存储和数据库**：用于以简单方便的方式存储数据集和对象。一些示例包括 Google Cloud Storage、Cloud SQL 和 Spanner。'
- en: '**Networking**: Used to easily connect different locations and data centers
    across the globe with **Virtual Private Clouds** (**VPCs**), firewalls, and fully
    managed global routers.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网络**：用于通过 **虚拟私有云**（**VPC**）、防火墙和完全管理的全球路由器轻松连接全球不同位置和数据中心。'
- en: '**Big data**: Used to store and process large amounts of information in a structured,
    semi-structured, or unstructured format. Among these services are Google DataProc,
    the Hadoop services offered by GCP, and BigQuery, which is the main focus of this
    book.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**大数据**：用于以结构化、半结构化或非结构化格式存储和处理大量信息。这些服务包括 Google DataProc、GCP 提供的 Hadoop 服务以及本书的主要焦点
    BigQuery。'
- en: '**AI and machine learning**: This product area provides various tools for different
    kinds of users, enabling them to leverage AI and ML in their everyday business.
    Some examples are TensorFlow, AutoML, Vision APIs, and BigQuery ML, the main focus
    of this book.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**人工智能和机器学习**：这个产品领域为各种用户提供各种工具，使他们能够在日常业务中利用 AI 和 ML。一些示例包括 TensorFlow、AutoML、Vision
    APIs 和本书的主要焦点 BigQuery ML。'
- en: '**Identity, security, and management tools**: This area includes all the services
    that are necessary to prevent unauthorized access, ensure security, and monitor
    all other cloud infrastructure. Identity Access Management, Key Management Service,
    Cloud Logging, and Cloud Audit Logs are just some of these tools.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**身份、安全和管理工作**：这个领域包括所有必要的服务，以防止未经授权的访问、确保安全和监控所有其他云基础设施。身份访问管理、密钥管理服务、云日志和云审计日志只是这些工具中的一些。'
- en: '**Internet of Things** (**IoT**): Used to connect plants, vehicles, or any
    other objects to the GCP infrastructure, enabling the development of modern IoT
    use cases. The core component of this area is Google IoT Core.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**物联网**（**IoT**）：用于将植物、车辆或任何其他对象连接到 GCP 基础设施，从而能够开发现代 IoT 应用案例。这个领域的核心组件是 Google
    IoT Core。'
- en: '**API management**: Tools to expose services to customers and partners through
    REST APIs, providing the ability to fully leverage the benefits of interconnectivity.
    In this pillar, Google Apigee is one of the most famous products and is recognized
    as the leader of this market segment.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**API 管理**：工具，通过 REST API 向客户和合作伙伴公开服务，提供充分利用互连优势的能力。在这个支柱中，Google Apigee 是最著名的产品之一，并被认为是这个市场领域的领导者。'
- en: '**Productivity**: Used to improve productivity and collaboration for all companies
    that want to start working with Google and embracing its way of doing business
    through the powerful tools of Google Workplace (previously GSuite).'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**生产力**：用于提高所有希望开始与 Google 合作并采用其商业方式的公司的工作效率和协作，通过 Google Workplace（以前称为 GSuite）强大的工具。'
- en: Interacting with GCP
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 与 GCP 交互
- en: 'All the services just mentioned can be accessed through four different interfaces:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 所提到的所有服务都可以通过四个不同的接口访问：
- en: '**Google Cloud Console**: The web-based user interface of GCP, easily accessible
    from compatible web browsers such as Google Chrome, Edge, or Firefox. For the
    hands-on exercises in this book, we''ll mainly use Google Cloud Console:'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Google Cloud Console**：GCP 的基于网页的用户界面，可以通过兼容的网页浏览器（如 Google Chrome、Edge 或
    Firefox）轻松访问。在本书的手动练习中，我们将主要使用 Google Cloud Console：'
- en: '![Figure 1.1 – Screenshot of Google Cloud Console'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.1 – Google Cloud Console 截图'
- en: '](img/B16772_01_001.jpg)'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16772_01_001.jpg]'
- en: Figure 1.1 – Screenshot of Google Cloud Console
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.1 – Google Cloud Console 截图
- en: '**Google Cloud SDK**: The client SDK can be installed in order to interact
    with GCP services through the command line. It can be very useful to automate
    tasks and operations by scheduling them into scripts.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Google Cloud SDK**：可以通过安装客户端 SDK 来与 GCP 服务通过命令行交互。通过将这些任务和操作安排到脚本中，可以非常方便地自动化任务和操作。'
- en: '**Client libraries**: The SDK also includes some client libraries to interact
    with GCP using the most common programming languages, such as Python, Java, and
    Node.js.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**客户端库**：SDK 还包括一些客户端库，用于使用最常用的编程语言（如 Python、Java 和 Node.js）与 GCP 交互。'
- en: '**REST APIs**: Any task or operation performed on GCP can be executed by invoking
    a specific REST API from any compatible software.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**REST API**：在 GCP 上执行的所有任务或操作都可以通过从任何兼容软件调用特定的 REST API 来执行。'
- en: Now that we've learned how to interact with GCP, let's discover how GCP is different
    from other cloud providers.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经学会了如何与 GCP 交互，让我们来看看 GCP 与其他云服务提供商有何不同。
- en: Discovering GCP's key differentiators
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 发现 GCP 的关键差异化特点
- en: GCP is not the only public cloud provider on the market. Other companies have
    embarked on this kind of business, for example, with **Amazon Web Services** (**AWS**),
    **Microsoft Azure**, **IBM**, and **Oracle**. For this reason, before we get too
    deep into this book, it could be valuable to understand how GCP is different from
    the other offerings in the cloud market.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: GCP 不是市场上唯一的公共云服务提供商。其他公司也开始了这种业务，例如，与 **Amazon Web Services**（**AWS**）、**Microsoft
    Azure**、**IBM** 和 **Oracle**。因此，在我们深入本书内容之前，了解 GCP 与云市场中的其他提供有何不同可能很有价值。
- en: Each cloud provider has its own mission, strategy, history, and strengths. Let's
    take a look at why Google Cloud can be considered different from all the other
    cloud providers.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 每个云服务提供商都有自己的使命、战略、历史和优势。让我们看看为什么 Google Cloud 可以被认为与其他所有云服务提供商不同。
- en: Security
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安全
- en: Google provides an end-to-end security model for its data centers across the
    globe, using customized hardware developed and used by Google, and application
    encryption is enabled by default. The security best practices adopted by Google
    for GCP are the same as those developed to run applications with more than 1 billion
    users, such as Gmail and Google Maps.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: Google 为其全球数据中心提供端到端的安全模型，使用由 Google 开发和使用的定制硬件，默认启用应用程序加密。Google 为 GCP 采用的安全最佳实践与用于运行拥有超过
    10 亿用户的应用程序（如 Gmail 和 Google Maps）开发的相同。
- en: Global network and infrastructure
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 全球网络和基础设施
- en: At the time of writing, Google's infrastructure is available in 24 different
    regions, 74 availability zones, and 144 network edge locations, enabling customers
    to connect to Google's network and ensuring the best experience in terms of bandwidth,
    network latency, and security. This network allows GCP users to move data across
    different regions without leaving Google's proprietary network, minimizing the
    risk of sending information across the public internet. As of today, it is estimated
    that about 40% of internet traffic goes through Google's proprietary network.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本文时，Google 的基础设施在全球 24 个不同地区、74 个可用区域和 144 个网络边缘位置可用，使客户能够连接到 Google 的网络，并确保在带宽、网络延迟和安全方面提供最佳体验。此网络允许
    GCP 用户在不同地区之间移动数据，而无需离开 Google 的专有网络，从而最大限度地降低在公共互联网上发送信息的风险。截至目前，估计大约 40% 的互联网流量通过
    Google 的专有网络。
- en: 'In the following figure, we can see how GCP regions are distributed across
    the globe:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下图中，我们可以看到 GCP 区域在全球的分布情况：
- en: '![Figure 1.2 – A map of Google''s global availability'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.2 – Google 全球可用性地图](img/B16772_01_002.jpg)'
- en: '](img/B16772_01_002.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16772_01_002.jpg)'
- en: Figure 1.2 – A map of Google's global availability
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.2 – Google 全球可用性地图
- en: 'The latest version of the map can be seen at the following URL: [https://cloud.google.com/about/locations](https://cloud.google.com/about/locations).'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 最新版本的地图可以在以下网址查看：[https://cloud.google.com/about/locations](https://cloud.google.com/about/locations)。
- en: Serverless and fully managed approach
  id: totrans-43
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 无服务器和完全托管方法
- en: Google provides a lot of fully managed and serverless services to allow its
    customers to focus on high-value activities rather than maintenance operations.
    A great example is BigQuery, the serverless data warehouse that will be introduced
    in the next section of this chapter.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: Google 提供了许多完全托管和无服务器服务，以使客户能够专注于高价值活动，而不是维护操作。一个很好的例子是将在本章下一节介绍的 BigQuery，一个无服务器数据仓库。
- en: Environmental sustainability
  id: totrans-45
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 环境可持续性
- en: 100% of the energy used for Google's data centers comes from renewable energy
    sources. Furthermore, Google has committed to being the first major company to
    operate carbon-free for all its operations, such as its data centers and campuses,
    by 2030.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: Google 数据中心使用的 100% 能源来自可再生能源。此外，Google 承诺到 2030 年成为第一家对所有运营（如数据中心和园区）实现无碳化的主要公司。
- en: Pervasive AI
  id: totrans-47
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 普及人工智能
- en: Google is a pioneer of the AI industry and is leveraging AI and ML to improve
    its consumer products, such as Google Photos, but also to improve the performance
    and efficiency of its data centers. All of Google's expertise in terms of AI and
    ML can be leveraged by customers through adopting GCP services such as AutoML
    and BigQuery ML. That will be the main focus of this book.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: Google 是人工智能行业的先驱，正在利用人工智能和机器学习来改进其消费产品，例如 Google Photos，同时也用于提高其数据中心性能和效率。所有关于人工智能和机器学习的
    Google 专业知识都可以通过采用 GCP 服务，如 AutoML 和 BigQuery ML，由客户利用。这将是本书的主要内容。
- en: Now that we have discussed some of the key elements of GCP as a service, let's
    look at AI and ML more specifically.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们已经讨论了 GCP 作为服务的一些关键要素，让我们更具体地看看人工智能和机器学习。
- en: Exploring AI and ML services on GCP
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索 GCP 上的 AI 和 ML 服务
- en: 'Before we get too deep into our look at all of the AI and ML tools of GCP,
    it is very important to remember that Google is an AI company and embeds AI and
    ML features within many of its other products, providing the best user experience
    to its customers. Simply looking at Google''s products, we can easily perceive
    how AI can be a key asset for a business. Some examples follow:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们深入探讨 GCP 的所有 AI 和 ML 工具之前，记住 Google 是一家 AI 公司，并在其许多其他产品中嵌入 AI 和 ML 功能，为顾客提供最佳的用户体验，这一点非常重要。仅仅看看
    Google 的产品，我们就可以很容易地感知到 AI 可以成为企业的关键资产。以下是一些例子：
- en: Gmail Smart Reply allows users to quickly reply to emails, providing meaningful
    suggestions according to the context of the conversation.
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Gmail 智能回复允许用户快速回复电子邮件，根据对话的上下文提供有意义的建议。
- en: Google Maps is able to precisely predict our time of arrival when we move from
    one place to another by combining different data sources.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Google Maps能够通过结合不同的数据源，精确预测我们从一地移动到另一地的时间。
- en: Google Translate provides translation services for more than one hundred languages.
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Google Translate为超过一百种语言提供翻译服务。
- en: YouTube and the Google Play Store are able to recommend the best video to watch
    or the most useful mobile application to install according to user preferences.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: YouTube和Google Play Store能够根据用户偏好推荐最佳观看视频或最有用的移动应用程序。
- en: Google Photos recognizes people, animals, and places in our pictures, simplifying
    the job of archiving and organizing our photos.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Google Photos能够识别我们照片中的人、动物和地点，简化了归档和组织我们照片的工作。
- en: Google proves that leveraging AI and ML capabilities in our business opens new
    opportunities for us, increases our revenue, saves money and time, and provides
    better experiences to our customers.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: Google证明了利用人工智能和机器学习能力在我们的业务中开辟了新的机遇，增加了我们的收入，节省了金钱和时间，并为我们的客户提供了更好的体验。
- en: 'To better understand the richness of the GCP portfolio in terms of AI and ML
    services, it is important to emphasize that GCP services are able to address all
    the needs that emerge in a typical life cycle of an ML model:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地理解GCP在人工智能和机器学习服务方面的丰富性，重要的是强调GCP服务能够解决机器学习模型典型生命周期中出现的所有需求：
- en: Ingestion and preparation of the datasets
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据集的摄取和准备
- en: Building and training of the model
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 模型的构建和训练
- en: Evaluation and validation
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 评估和验证
- en: Deployment
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 部署
- en: Maintenance and further improvements of the model
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 模型的维护和进一步改进
- en: 'In the following figure, you can see the entire AI and ML GCP portfolio:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下图中，您可以查看整个AI和机器学习GCP产品组合：
- en: '![Figure 1.3 – GCP AI and ML services represented by their icons'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.3 – 以其图标表示的GCP人工智能和机器学习服务'
- en: '](img/B16772_01_003.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16772_01_003.jpg]'
- en: Figure 1.3 – GCP AI and ML services represented by their icons
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.3 – 以其图标表示的GCP人工智能和机器学习服务
- en: 'Each one of the previously mentioned five stages can be fully managed by the
    user or delegated to the automation capabilities of GCP, according to the customer''s
    needs and skills. For this reason, it is possible to divide the AI and ML services
    provided by GCP into three subcategories:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 每一个之前提到的五个阶段都可以完全由用户管理或委托给GCP的自动化能力，根据客户的需求和技能。因此，可以将GCP提供的人工智能和机器学习服务分为三个子类别：
- en: '**Core platform services**'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**核心平台服务**'
- en: '**AI Applications**'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**人工智能应用**'
- en: '**Solutions**'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**解决方案**'
- en: For each of these subcategories, we'll go through the most important services
    currently available and some typical users that could benefit from them.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这些子类别中的每一个，我们将介绍目前最重要的服务以及可能从中受益的一些典型用户。
- en: Core platform services
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 核心平台服务
- en: The core AI and ML services are the most granular items that a customer can
    use on GCP to develop AI and ML use cases. They provide the most control and flexibility
    to their users in exchange for less automation; users will also need to have more
    expertise in ML.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 核心人工智能和机器学习服务是客户可以在GCP上使用的最细粒度项目，以开发人工智能和机器学习用例。它们为用户提供最大的控制和灵活性，以换取较少的自动化；用户还需要在机器学习方面拥有更多的专业知识。
- en: Processing units (CPU, GPU, and TPU)
  id: totrans-75
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 处理单元（CPU、GPU和TPU）
- en: With a traditional **Infrastructure-as-a-Service** (**IaaS**) approach, developers
    can equip their Google Compute Engine instances with powerful processing units
    to accelerate the training phases of ML models that might otherwise take a long
    time to run, particularly if complex contexts or large amounts of data need to
    be processed. Beyond the **Central Processing Units** (**CPUs**) that are available
    on our laptops, GCP offers the use of high-performance **Graphical Processing
    Units** (**GPUs**) made by Nvidia and available in the cloud to speed up computationally
    heavy jobs. Beyond that, there are **Tensor Processing Units** (**TPUs**), which
    are specifically designed to support ML workloads and perform matrix calculations.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 使用传统的**基础设施即服务**（**IaaS**）方法，开发者可以为他们的Google Compute Engine实例配备强大的处理单元，以加速可能需要很长时间运行的机器学习模型的训练阶段，尤其是当需要处理复杂上下文或大量数据时。除了我们笔记本电脑上可用的**中央处理器**（**CPUs**）之外，GCP还提供了由Nvidia制造的高性能**图形处理器**（**GPUs**）的使用，这些处理器可在云端使用以加快计算密集型任务的执行。除此之外，还有**张量处理单元**（**TPUs**），它们专门设计用于支持机器学习工作负载并执行矩阵计算。
- en: Deep Learning VM Image
  id: totrans-77
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 深度学习VM镜像
- en: One of the biggest challenges for data scientists is quickly provisioning environments
    to develop their ML models. For this reason, Google Cloud provides pre-configured
    **Google Compute Engine** (**GCE**) images that can be easily provisioned with
    a pre-built set of components and libraries dedicated to ML.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 对于数据科学家来说，最大的挑战之一是快速配置环境以开发他们的 ML 模型。因此，Google Cloud 提供了预配置的 **Google Compute
    Engine**（**GCE**）映像，可以轻松配置预构建的组件和库集，这些组件和库集专门用于 ML。
- en: 'In the following screenshot, you can see how these **Virtual Machines** (**VMs**)
    are presented in the GCP marketplace:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下屏幕截图中，您可以查看这些 **虚拟机**（**VM**）在 GCP 市场中的展示方式：
- en: '![Figure 1.4 – Deep Learning VM in the GCP marketplace'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.4 – GCP 市场中的深度学习 VM](img/B16772_01_004.jpg)'
- en: '](img/B16772_01_004.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.4 – GCP 市场中的深度学习 VM](img/B16772_01_004.jpg)'
- en: Figure 1.4 – Deep Learning VM in the GCP marketplace
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.4 – GCP 市场中的深度学习 VM
- en: '**Deep Learning VM Image** is also optimized for ML workloads and is already
    pre-configured to use GPUs. When a GCE image is provisioned from the GCP marketplace,
    it is already configured with the most common ML frameworks and programming languages,
    such as Python, TensorFlow, scikit-learn, and others. This allows data scientists
    to focus on the development of the model rather than on the provisioning and configuration
    of the development environment.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '**深度学习 VM 映像**也针对 ML 工作负载进行了优化，并且已经预先配置以使用 GPU。当从 GCP 市场中配置 GCE 映像时，它已经配置了最常用的
    ML 框架和编程语言，例如 Python、TensorFlow、scikit-learn 等。这使得数据科学家能够专注于模型开发，而不是开发环境的配置和供应。'
- en: TensorFlow
  id: totrans-84
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: TensorFlow
- en: '**TensorFlow** is an open source framework for math, statistics, and ML. It
    was launched by Google Brain for internal use at Google and then released under
    the Apache License 2.0\. It is still the core of the most successful Google products.
    The framework natively supports Python but can be used also with other programming
    languages such as Java, C++, and Go. It requires ML expertise, but it allows users
    to achieve great results in terms of customization and flexibility to develop
    the best ML model.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '**TensorFlow** 是一个开源的数学、统计学和 ML 框架。它由 Google Brain 为 Google 内部使用而推出，后来在 Apache
    License 2.0 下发布。它仍然是大多数成功 Google 产品的核心。该框架原生支持 Python，但也可以与其他编程语言（如 Java、C++ 和
    Go）一起使用。它需要 ML 专业知识，但允许用户在定制和灵活性方面取得很好的成果，以开发最佳的 ML 模型。'
- en: AI Platform
  id: totrans-86
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: AI 平台
- en: '**AI Platform** is an integrated service of GCP that provides serverless tools
    to train, evaluate, deploy, and maintain ML models. With this service, data scientists
    are able to focus only on their code, simplifying all the side activities of ML
    development, such as provisioning, maintenance, and scalability.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '**AI 平台**是 GCP 的一个集成服务，它提供无服务器工具来训练、评估、部署和维护 ML 模型。使用此服务，数据科学家可以只关注他们的代码，简化所有
    ML 开发的辅助活动，如供应、维护和可扩展性。'
- en: AI Platform Notebooks
  id: totrans-88
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: AI 平台 Notebooks
- en: AI Platform Notebooks is a fully managed service that provides data scientists
    with a **JupyterLab** environment already integrated and connected with all other
    GCP resources. Similar to Deep Learning VM Image, **AI Platform Notebooks** instances
    come pre-configured with the latest versions of the AI and ML frameworks and allow
    you to develop an ML model with diagrams and written explanations.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: AI 平台 Notebooks 是一个完全托管的服务，为数据科学家提供了一个已经集成并连接到所有其他 GCP 资源的 **JupyterLab** 环境。类似于深度学习
    VM 映像，**AI 平台 Notebooks** 实例预先配置了最新的 AI 和 ML 框架版本，允许您使用图表和书面说明来开发 ML 模型。
- en: All the services described so far require good knowledge of ML and proven experience
    in hand-coding with the most common programming languages. The core platform services
    address the needs of data scientists and ML engineers who need full control over
    and flexibility with the solutions that they're building and who already have
    strong technical skills.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止所描述的所有服务都需要对 ML 有良好的了解，并且在最常用的编程语言中手动编码的实践经验。核心平台服务满足数据科学家和需要对其构建的解决方案有完全控制和灵活性的
    ML 工程师的需求，他们已经拥有强大的技术技能。
- en: Building blocks
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 构建模块
- en: 'On top of the core platform services, Google Cloud provides pre-built components
    that can be used to accelerate the development of new ML use cases. This category
    encompasses the following aspects:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在核心平台服务之上，Google Cloud 提供了预构建的组件，可用于加速新 ML 用例的开发。这一类别包括以下方面：
- en: AutoML
  id: totrans-93
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: AutoML
- en: Unlike the services outlined in the previous section, **AutoML** offers the
    ability to build ML models even if you have limited expertise in the field. It
    leverages Google's ML capabilities and allows users to provide their data to train
    customized versions of algorithms already developed by Google. AutoML currently
    provides the ability to train models for images (**AutoML Vision**), video (**AutoML
    Video Intelligence**), free text (**AutoML Natural Language**), translation (AutoML
    Translation), and structured data (**AutoML Tables**). When the ML model is trained
    and ready to use, it is automatically deployed and made available through a REST
    endpoint.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 与上一节中概述的服务不同，**AutoML**提供了即使在有限领域专业知识的情况下也能构建机器学习模型的能力。它利用Google的机器学习能力，并允许用户提供数据以训练Google已开发的算法的定制版本。AutoML目前提供训练图像（**AutoML
    Vision**）、视频（**AutoML Video Intelligence**）、自由文本（**AutoML Natural Language**）、翻译（AutoML
    Translation）和结构化数据（**AutoML Tables**）模型的能力。当机器学习模型训练完成并准备好使用时，它将自动部署并通过REST端点提供。
- en: Pre-built APIs
  id: totrans-95
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 预构建API
- en: Google Cloud provides pre-built APIs that leverage ML technology under the surface
    but are already trained and ready to use. The APIs are exposed through a standard
    REST interface that can be easily integrated into applications to work with images
    (**Vision API**), videos (**Video API**), free text (**Natural Language API**),
    translations (**Translation API**), e-commerce data (**Recommendations AI**),
    and conversational scenarios (**Speech-to-Text API**, **Text-to-Speech API**,
    and **Dialogflow**). Using a pre-built ML API is the best choice for general-purpose
    applications where generic training datasets can be used.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: Google Cloud提供了预构建API，这些API在底层利用机器学习技术，但已经过训练并准备好使用。API通过标准REST接口公开，可以轻松集成到应用程序中，用于处理图像（**Vision
    API**）、视频（**Video API**）、自由文本（**Natural Language API**）、翻译（**Translation API**）、电子商务数据（**Recommendations
    AI**）和对话场景（**Speech-to-Text API**、**Text-to-Speech API**和**Dialogflow**）。使用预构建的机器学习API是通用应用程序的最佳选择，其中可以使用通用训练数据集。
- en: BigQuery ML
  id: totrans-97
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: BigQuery ML
- en: As **BigQuery ML** will be discussed in detail in the following sections of
    this chapter, for the moment you just need to know that this component enables
    users to build ML models with SQL language, using structured data stored in BigQuery
    and a list of supported algorithms.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 如本章后续部分将详细讨论**BigQuery ML**，目前你只需知道这个组件允许用户使用SQL语言，利用存储在BigQuery中的结构化数据和一系列支持的算法来构建机器学习模型。
- en: None of the building blocks described here requires any specific knowledge of
    ML or any proven coding experience with programming languages. In fact, these
    services are intended for developers or business analysts who are not very familiar
    with ML but want to start using it quickly and with little effort. On the other
    hand, a data scientist with ML expertise can also leverage the building blocks
    to accelerate the development of a model, reducing the time to market of a solution.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这里描述的任何构建块都不需要任何特定的机器学习知识或任何编程语言的证明编码经验。实际上，这些服务是为那些不太熟悉机器学习但希望快速且轻松地开始使用的开发人员或业务分析师而设计的。另一方面，具有机器学习专业知识的科学家也可以利用构建块来加速模型开发，从而缩短解决方案的上市时间。
- en: 'To see a summary of the building blocks, their usage, and their target users,
    let''s take a look at the following table:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看构建块的摘要、用法和目标用户，让我们看看以下表格：
- en: '![Figure 1.5 – Building blocks summary table'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.5 – 构建块摘要表'
- en: '](img/B16772_01_005.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B16772_01_005.jpg]'
- en: Figure 1.5 – Building blocks summary table
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.5 – 构建块摘要表
- en: Now that we've learned the basics of building blocks, let's take a look at the
    solutions offered by GCP.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经学习了构建块的基础知识，让我们来看看GCP提供的解决方案。
- en: Solutions
  id: totrans-105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 解决方案
- en: Following the incremental approach, building blocks and core platform services
    are also bundled to provide out-of-the-box solutions. These pre-built modules
    can be adopted by companies and immediately used to improve their business. These
    solutions are covered in this section.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 按照增量方法，构建块和核心平台服务也捆绑在一起，以提供即插即用的解决方案。这些预构建模块可以被公司采用并立即用于改善他们的业务。这些解决方案在本节中介绍。
- en: AI Hub
  id: totrans-107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: AI Hub
- en: Google Cloud's **AI Hub** acts as a marketplace for AI components. It can be
    used in public mode to share and use assets developed by the community, which
    actively works on GCP, or it can be used privately to share ML assets inside your
    company. The goal of this service is to simplify the sharing of valuable assets
    across different users, favoring re-use and accelerating the deployment of new
    use cases.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: Google Cloud的**AI Hub**充当AI组件的市场。它可以以公共模式使用，以共享和使用社区开发并由GCP积极工作的资产，或者它可以以私有模式使用，以在您的公司内部共享ML资产。此服务的目标是简化不同用户之间有价值资产的共享，促进重用并加速新用例的部署。
- en: 'In the following screenshot, you can see AI Hub''s home page:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的屏幕截图中，您可以查看AI Hub的主页：
- en: '![Figure 1.6 – Screenshot of AI Hub on GCP'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 1.6 – Screenshot of AI Hub on GCP]'
- en: '](img/B16772_01_006.jpg)'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16772_01_006.jpg]'
- en: Figure 1.6 – Screenshot of AI Hub on GCP
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.6 – GCP上AI Hub的屏幕截图
- en: Now that we've understood the role of AI Hub, let's look at Cloud Talent Solution.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经了解了AI Hub的作用，让我们来看看Cloud Talent Solution。
- en: Cloud Talent Solution
  id: totrans-114
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Cloud Talent Solution
- en: Cloud Talent Solution is basically a solution for HR offices that improves the
    candidate discovery and hiring processes using AI. We will not go any further
    with the description of this solution, but there will be a link in the *Further
    resources* section at the end of this chapter.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: Cloud Talent Solution基本上是一个针对人力资源办公室的解决方案，利用AI改进候选人发现和招聘流程。我们不会进一步描述此解决方案，但将在本章末尾的*进一步资源*部分提供链接。
- en: Contact Center AI
  id: totrans-116
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 接触中心AI
- en: '**Contact Center AI** is a solution that can be used to improve the effectiveness
    of the customer experience with a contact center powered by AI and automation.
    The solution is based on Dialogflow and the Text-to-Speech and Speech-to-Text
    APIs.'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '**接触中心AI**是一种解决方案，可用于通过由AI和自动化驱动的接触中心来提高客户体验的有效性。该解决方案基于Dialogflow以及文本到语音和语音到文本API。'
- en: Document AI
  id: totrans-118
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 文档AI
- en: This solution is focused on document processing to extract relevant information
    and streamline business processes that usually require manual effort. The solution
    is able to parse PDF files, images, and handwritten text to convert this information
    into a digitally structured format, making them accessible and researchable.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 此解决方案专注于文档处理，以提取相关信息并简化通常需要人工努力的业务流程。该解决方案能够解析PDF文件、图像和手写文本，将这些信息转换为数字化结构格式，使其可访问并可进行研究。
- en: As can be easily seen from their descriptions, the AI solutions provided by
    Google are more business-oriented and designed to solve specific challenges. They
    can be configured and customized but are basically dedicated to business users.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 从它们的描述中可以轻易看出，Google提供的AI解决方案更偏向于商业导向，旨在解决特定的挑战。它们可以配置和定制，但基本上是针对商业用户的。
- en: 'Before going on, let''s take a look at the following table, which summarizes
    the concepts explained in this section and provides a clear overview of the different
    AI and ML service categories:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前，让我们看一下以下表格，该表格总结了本节中解释的概念，并提供了不同AI和ML服务类别的清晰概述：
- en: '![Figure 1.7 – Summary of GCP AI and ML services'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 1.7 – Summary of GCP AI and ML services]'
- en: '](img/B16772_01_007.jpg)'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16772_01_007.jpg]'
- en: Figure 1.7 – Summary of GCP AI and ML services
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.7 – GCP AI和ML服务的概述
- en: Tip
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士
- en: When you need to develop a new use case, we recommend using pre-built solutions
    and building blocks before trying to reinvent the wheel. If a building block already
    satisfies all the requirements of your use case, it can be extremely valuable
    to use it. It will save time and effort during the development and maintenance
    phases. Start considering the use of core services only if the use case is complex
    or so particular that it cannot be addressed with building blocks or solutions.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 当您需要开发新的用例时，我们建议在尝试重新发明轮子之前，先使用预构建的解决方案和构建块。如果一个构建块已经满足您用例的所有要求，那么使用它将非常有价值。它将在开发和维护阶段节省时间和精力。只有在用例复杂或非常特别，无法使用构建块或解决方案解决的情况下，才开始考虑使用核心服务。
- en: 'As we''ve seen in this section, GCP''s AI and ML services are extensive. Now,
    let''s take a closer look at the main topic of this book: Google BigQuery.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在本节中看到的，GCP的AI和ML服务非常广泛。现在，让我们更深入地探讨本书的主要主题：Google BigQuery。
- en: Introducing BigQuery
  id: totrans-128
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍BigQuery
- en: Google BigQuery is a highly scalable, serverless, distributed data warehouse
    technology built internally by Google in 2006 and then released for public use
    on GCP in 2010\. Thanks to its architecture, it can store petabytes of data and
    query them with high performance and on-demand scaling. Due to its serverless
    nature, users who store and query data on BigQuery don't have to manage the underlying
    infrastructure and can focus on implementing the logic that brings the business
    value, saving time and resources.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: Google BigQuery是谷歌在2006年内部构建的高度可扩展、无服务器、分布式数据仓库技术，并于2010年在GCP上公开发布。由于其架构，它能够存储PB级的数据，并以高性能和按需扩展查询它们。由于其无服务器特性，存储和查询数据的BigQuery用户无需管理底层基础设施，可以专注于实现带来商业价值的逻辑，节省时间和资源。
- en: BigQuery is currently used by many large enterprises that leverage it to make
    data-driven decisions, including Twitter, The Home Depot, and Dow Jones.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery目前被许多大型企业使用，它们利用它来做出数据驱动的决策，包括Twitter、家得宝和道琼斯。
- en: BigQuery architecture
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: BigQuery架构
- en: BigQuery has a distributed architecture running on thousands of nodes across
    Google's data centers. Your datasets are not stored in a unique server but are
    chunked and replicated across different regions to guarantee maximum performance
    and availability.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery具有分布式架构，在谷歌数据中心成千上万的节点上运行。您的数据集不是存储在单个服务器上，而是被分块并在不同地区复制，以确保最大性能和可用性。
- en: The storage and compute layers are fully decoupled in BigQuery. This means that
    the query engine runs on different servers from the servers where the data is
    stored. This feature enables BigQuery to provide great scalability both in terms
    of data volume and query execution. This decoupled paradigm is only possible thanks
    to Google's Petabit network, which moves data very quickly from one server to
    another, leveraging Google's proprietary fiber cables across the globe.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 在BigQuery中，存储层和计算层是完全解耦的。这意味着查询引擎在存储数据的服务器之外的其他服务器上运行。这一特性使BigQuery能够在数据量和查询执行方面提供出色的可扩展性。这种解耦范式仅得益于谷歌的Petabit网络，它利用谷歌在全球范围内专有的光纤电缆，将数据快速从一个服务器移动到另一个服务器。
- en: Now let's look deeper into how BigQuery manages storage and the compute engine.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们更深入地了解BigQuery如何管理存储和计算引擎。
- en: Storage layer
  id: totrans-135
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 存储层
- en: 'Unlike traditional data warehouses, BigQuery stores data in columnar format
    rather than in row format. This approach enables you to do the following:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 与传统的数据仓库不同，BigQuery以列格式而不是行格式存储数据。这种方法使您能够执行以下操作：
- en: Achieve a better compression ratio for each column, because the data in a column
    is typically homogeneous and simpler to compress.
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实现每个列的更好压缩率，因为列中的数据通常是同质的，更容易压缩。
- en: Reduce the amount of data to read and get the best possible performance for
    data warehouse use cases that are usually based on a small selection of columns
    in a table and aggregating operations such as sums, average, and maximum.
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 减少读取的数据量，以获得数据仓库用例的最佳性能，这些用例通常基于表中的一小部分列和聚合操作，如总和、平均值和最大值。
- en: 'All the data is stored in Google''s proprietary distributed filesystem named
    Google File System (codename Colossus). The distribution of the data allows it
    to guarantee faster I/O performance and better availability of data in the case
    of failures. Google File System is based on two different server types:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 所有数据都存储在谷歌的专有分布式文件系统Google文件系统（代号科洛苏斯）中。数据的分布允许它在发生故障的情况下保证更快的I/O性能和更好的数据可用性。Google文件系统基于两种不同的服务器类型：
- en: '**Master servers:** Nodes that don''t store data but are responsible for managing
    the metadata of each file, such as the location and available number of replicas
    of each chunk that compose a file.'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主服务器**：不存储数据但负责管理每个文件元数据的节点，例如组成文件的每个数据块的位置和可用副本数量。'
- en: '**Chunk servers:** Nodes that actually store the chunks of files that are replicated
    across different servers.'
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据块服务器**：实际存储跨不同服务器复制的文件数据块的节点。'
- en: 'In the following diagram, you can see how Google File System manages data:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下图中，您可以了解Google文件系统如何管理数据：
- en: '![Figure 1.8 – Google File System (Colossus) storage strategy'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.8 – Google文件系统（科洛苏斯）存储策略'
- en: '](img/B16772_01_008.jpg)'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16772_01_008.jpg]'
- en: Figure 1.8 – Google File System (Colossus) storage strategy
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.8 – Google文件系统（科洛苏斯）存储策略
- en: Now that we've learned how BigQuery handles large volumes of data, let's see
    how this data can be accessed by the compute layer.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经了解了BigQuery如何处理大量数据，让我们看看计算层如何访问这些数据。
- en: Compute (query) layer
  id: totrans-147
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 计算层（查询层）
- en: 'Fully decoupled from storage, the compute layer is responsible for receiving
    query statements from BigQuery users and executing them in the fastest way. The
    query engine is based on Dremel, a technology developed by Google and then published
    in a paper in 2010\. This engine leverages a multi-level tree architecture:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 完全与存储解耦，计算层负责接收来自 BigQuery 用户的查询语句并以最快的方式执行它们。查询引擎基于 Dremel 技术，该技术由谷歌开发并于 2010
    年发表在论文中。该引擎利用多级树架构：
- en: The root node of the tree receives the query to execute.
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 树的根节点接收要执行的查询。
- en: The root node splits and distributes the query to other intermediate nodes named
    mixers.
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根节点将查询分割并分配给其他名为混合器的中间节点。
- en: Mixer nodes have the task of rewriting queries before passing them to the leaf
    nodes or to other intermediate mixer nodes.
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 混合节点负责在将查询传递给叶节点或其他中间混合节点之前重写查询。
- en: Leaf nodes are responsible for parallelizing the reading of the chunks of data
    from Google File System.
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 叶节点负责从 Google 文件系统中并行读取数据块。
- en: When the right chunks of data are extracted from the filesystem, leaf nodes
    perform computations on the data and eventually shuffle them across other leaf
    nodes.
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当从文件系统中提取出正确的数据块时，叶节点会对数据进行计算，并最终将它们在其他的叶节点之间进行洗牌。
- en: At the end of the computation, each leaf node produces a result that is returned
    to the parent node.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算结束时，每个叶节点生成一个结果，并将其返回给父节点。
- en: When all the results are returned to the root node, the outcome of the query
    is sent to the user or application that requested the execution.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当所有结果返回到根节点时，查询的结果将被发送给请求执行的用户或应用程序。
- en: 'The execution process of a query on BigQuery based on the multi-level tree
    is represented in the following diagram:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 基于 multi-level tree 的 BigQuery 查询执行过程在以下图中表示：
- en: '![Figure 1.9 – The BigQuery engine is a multi-level tree'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.9 – BigQuery 引擎是一个多级树'
- en: '](img/B16772_01_009.jpg)'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16772_01_009.jpg)'
- en: Figure 1.9 – The BigQuery engine is a multi-level tree
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.9 – BigQuery 引擎是一个多级树
- en: Each node provides a number of processing units called BigQuery slots to execute
    the business logic of the query. A BigQuery slot can be considered a virtual CPU
    on a Dremel node. The calculation of the slots needed to perform a specific query
    is automatically managed by BigQuery depending on the complexity of the query
    and the impacted data volumes.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 每个节点提供多个处理单元，称为 BigQuery 插槽，以执行查询的业务逻辑。一个 BigQuery 插槽可以被视为 Dremel 节点上的虚拟 CPU。所需插槽的计算以执行特定查询的复杂性和受影响的数据量自动由
    BigQuery 管理。
- en: BigQuery's advantages over traditional data warehouses
  id: totrans-161
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: BigQuery 相比传统数据仓库的优势
- en: Now that we've learned about the technical architecture underneath BigQuery,
    let's take a look at how this architecture translates into benefits for the enterprises
    that use it to become data-driven companies compared to other traditional on-premises
    data warehouses.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经了解了 BigQuery 之下的技术架构，让我们看看这种架构如何转化为使用它的企业相对于其他传统本地数据仓库成为数据驱动型公司的优势。
- en: Serverless
  id: totrans-163
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 无服务器
- en: As we have mentioned, BigQuery has a serverless architecture that saves users
    from having to manage not only the provisioning and maintenance of the servers
    but also all the maintenance operations related to the upgrading and patching
    of the operative system and of the database software that supports the functioning
    of the data warehouse. Thanks to the serverless approach, the user can easily
    start ingesting data into BigQuery and using it without having to perform capacity
    planning or any hardware and software provisioning upfront. This is particularly
    important for prototyping and to enable a fail-fast approach that favors a culture
    of innovation and experimentation.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们提到的，BigQuery 具有无服务器架构，这使用户免于管理服务器配置和维护，以及与操作系统升级和修补相关的所有维护操作，这些操作支持数据仓库的运行。得益于无服务器方法，用户可以轻松地将数据导入
    BigQuery 并使用它，而无需进行容量规划或预先进行任何硬件和软件配置。这对于原型设计和实现快速失败的方法尤为重要，这种方法有利于创新和实验的文化。
- en: Scalability
  id: totrans-165
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 可扩展性
- en: It doesn't matter if you need to store megabytes of data or petabytes; BigQuery
    can provide you with maximum flexibility and scalability in terms of both data
    storage and processing. Thanks to its multi-tenant architecture, a small or medium-sized
    business can leverage the same innovative capabilities as the largest enterprises,
    or they can start with a small use case to scale later, according to business
    needs. Traditional data warehouse technologies leverage the same servers to store
    and compute. For this reason, they are not particularly suitable for unbalanced
    use cases, such as when large volumes of data storage are needed but high computing
    performance is not required, or vice versa. Thanks to its decoupled architecture,
    as we've seen in the previous section, BigQuery is designed to independently scale
    storage and compute power according to the user's actual requirements, reducing
    the total cost of ownership of the solution.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 无论您需要存储兆字节的数据还是拍字节的数据；BigQuery 都能在数据存储和处理方面为您提供最大的灵活性和可扩展性。得益于其多租户架构，小型或中型企业可以像最大型企业一样利用相同的创新功能，或者他们可以从一个小用例开始，根据业务需求进行扩展。传统的数据仓库技术使用相同的服务器进行存储和计算。因此，它们对于不平衡的用例（例如，需要大量数据存储但不需要高性能计算，或者相反）并不特别适合。得益于其解耦架构，正如我们在上一节中看到的，BigQuery
    被设计为根据用户的实际需求独立扩展存储和计算能力，从而降低解决方案的总拥有成本。
- en: Availability
  id: totrans-167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 可用性
- en: Thanks to its resilient, distributed architecture, BigQuery is able to offer
    a **Service Level Agreement** (**SLA**) of monthly uptime percentage greater than
    99.99%. This very high availability standard is granted by Google without any
    extra effort from the BigQuery users, who don't need to take care of high availability
    or disaster recovery strategies.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 多亏了其弹性、分布式架构，BigQuery 能够提供每月可用性百分比超过 99.99% 的 **服务级别协议** (**SLA**)。这种非常高的可用性标准是由
    Google 无需 BigQuery 用户额外努力就授予的，用户无需关心高可用性或灾难恢复策略。
- en: Performances
  id: totrans-169
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 性能
- en: The BigQuery engine offers the ability to query terabytes of data in seconds
    and petabytes in minutes. This kind of performance is very hard to achieve with
    a traditional on-premises data warehouse. Higher performance means getting insights
    faster, as well as processing large volumes of data that very often would be impossible
    to manage on-premises without huge hardware and software investments. To further
    improve performance, BigQuery offers the possibility of enabling BigQuery BI Engine.
    BigQuery BI Engine is an in-memory analytics layer that can be activated on top
    of BigQuery to execute queries faster, with sub-second latencies.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery 引擎能够在几秒钟内查询千兆字节的数据，在几分钟内查询拍字节的数据。这种性能是使用传统的本地数据仓库很难实现的。更高的性能意味着可以更快地获得洞察力，以及处理大量数据，这些数据通常在没有大量硬件和软件投资的情况下，在本地是无法管理的。为了进一步提高性能，BigQuery
    提供了启用 BigQuery BI Engine 的可能性。BigQuery BI Engine 是一个内存分析层，可以在 BigQuery 上激活以更快地执行查询，具有亚秒级延迟。
- en: Real-time
  id: totrans-171
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 实时性
- en: Traditional data warehouses are designed for long batch operations and are often
    unable to manage real-time workloads. BigQuery, however, provides a specific interface
    to ingest data in real time, making it immediately available for analysis. This
    feature opens up new possibilities to companies that want to accelerate their
    analytics and overcome the typical approach of data warehouses, which usually
    involves dealing with the business situation of the day before.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 传统的数据仓库是为长时间批量操作设计的，通常无法管理实时工作负载。然而，BigQuery 提供了一个特定的接口来实时摄取数据，使其立即可用于分析。这一特性为希望加速其分析并克服数据仓库典型方法的公司开辟了新的可能性，数据仓库通常涉及处理前一天的业务情况。
- en: Format flexibility
  id: totrans-173
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 格式灵活性
- en: BigQuery stores files in a compressed and optimized format in Google File System
    but provides the option to load data in various formats that are typically used
    in data lake technologies. Users can load data into BigQuery using Avro, ORC,
    CSV, and JSON formats.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery 在 Google 文件系统中以压缩和优化的格式存储文件，但提供了以数据湖技术中通常使用的各种格式加载数据的选项。用户可以使用 Avro、ORC、CSV
    和 JSON 格式将数据加载到 BigQuery 中。
- en: Innovative capabilities
  id: totrans-175
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创新功能
- en: 'BigQuery offers two SQL extensions that are not available in traditional data
    warehouses:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery 提供了两种在传统数据仓库中不可用的 SQL 扩展：
- en: '**BigQuery GIS**: Provides the ability to easily manage geospatial data with
    SQL statements to execute geographic calculations and operations'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**BigQuery GIS**：通过 SQL 语句执行地理计算和操作，能够轻松管理地理空间数据'
- en: '**BigQuery ML**: Allows users to train, evaluate, and run ML models leveraging
    SQL language with no programming experience, accelerating the development of innovative
    use cases with ML'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**BigQuery ML**：允许用户利用 SQL 语言训练、评估和运行 ML 模型，无需编程经验，加速创新用例的开发'
- en: Security
  id: totrans-179
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 安全性
- en: By default, BigQuery automatically encrypts and decrypts customer's data before
    storing it in Google File System. BigQuery is also responsible for managing and
    rotating the encryption and decryption keys. To further improve security, BigQuery
    provides the option to use **Customer-Managed Encryption Keys** (**CMEKs**). In
    this case, the keys are managed directly by the customer in Google Cloud Key Management
    System.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，BigQuery 在将客户数据存储在 Google 文件系统之前自动加密和解密数据。BigQuery 还负责管理和轮换加密和解密密钥。为了进一步提高安全性，BigQuery
    提供了使用 **客户管理加密密钥**（**CMEKs**）的选项。在这种情况下，密钥由客户直接在 Google Cloud Key Management System
    中管理。
- en: Unauthorized access and use of data can be prevented by setting the right roles
    in Google **Identity Access Management System** (**IAM**).
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 通过设置 Google **身份访问管理系统**（**IAM**）中的正确角色，可以防止未授权的数据访问和使用。
- en: Integration with other GCP services
  id: totrans-182
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 与其他 GCP 服务的集成
- en: 'One of the great benefits of using BigQuery is the native integration with
    a lot of other GCP services:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 BigQuery 的一个巨大好处是与许多其他 GCP 服务本地的集成：
- en: '![Figure 1.10 – BigQuery integration with other GCP services'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.10 – BigQuery 与其他 GCP 服务的集成]'
- en: '](img/B16772_01_010.jpg)'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16772_01_010.jpg]'
- en: Figure 1.10 – BigQuery integration with other GCP services
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.10 – BigQuery 与其他 GCP 服务的集成
- en: As we can see in the preceding screenshot, Google BigQuery can read data from
    **Google Bigtable**, **Google Cloud Storage**, **Google Cloud SQL**, and **Google
    Drive** using external tables. This feature can simplify data ingestion into BigQuery
    from other databases, which can also be performed using ETL/ELT tools such as
    **Google Dataflow** and **Data Fusion**. When the datasets are stored in BigQuery,
    they can be accessed from other GCP components, such as **Google DataProc**, **DataPrep**
    for data processing and preparation, **Data Studio**, **Looker**, and **Google
    Sheets** for data visualization. BigQuery is integrated with AI Platform Notebooks
    to allow data scientists and engineers to easily access data from their Jupyter
    environments.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在前面的屏幕截图中可以看到的，Google BigQuery 可以使用外部表从 **Google Bigtable**、**Google Cloud
    Storage**、**Google Cloud SQL** 和 **Google Drive** 读取数据。这个功能可以简化从其他数据库到 BigQuery
    的数据导入，这也可以使用 ETL/ELT 工具如 **Google Dataflow** 和 **Data Fusion** 来执行。当数据集存储在 BigQuery
    中时，它们可以从其他 GCP 组件访问，例如用于数据处理和准备的 **Google DataProc**、**DataPrep**，用于数据可视化的 **Data
    Studio**、**Looker** 和 **Google Sheets**。BigQuery 与 AI Platform Notebooks 集成，允许数据科学家和工程师轻松地从他们的
    Jupyter 环境访问数据。
- en: To summarize, bringing data into BigQuery opens a vast plethora of options that
    can be used according to the user's needs.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 总结来说，将数据引入 BigQuery 打开了大量可供用户根据需要使用的选项。
- en: Rich ecosystem of partners
  id: totrans-189
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 丰富的合作伙伴生态系统
- en: Beyond the integration with other GCP services, Google's partners provide connectors
    and integrations with BigQuery, creating a rich data management ecosystem. Some
    examples include Informatica, Tableau, Fivetran, Talend, and Confluent.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 除了与其他 GCP 服务的集成之外，Google 的合作伙伴还提供了与 BigQuery 的连接器和集成，从而创建了一个丰富的数据管理生态系统。一些例子包括
    Informatica、Tableau、Fivetran、Talend 和 Confluent。
- en: Public datasets
  id: totrans-191
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 公共数据集
- en: If you want to start from scratch using BigQuery, you can leverage existing
    public tables that are available from the **BigQuery Public Datasets Program**.
    The program contains interesting datasets coming from different industries and
    different countries about different topics. Some examples that we'll use in the
    next chapter to train our ML models include transactions from bike sharing services,
    open data on New York City, and records of taxi trips.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想从头开始使用 BigQuery，你可以利用来自 **BigQuery 公共数据集计划**的现有公共表。该计划包含来自不同行业和不同国家关于不同主题的有趣数据集。我们将在下一章中使用的一些示例包括来自共享单车服务的交易、纽约市的开放数据和出租车行程记录。
- en: Interacting with BigQuery
  id: totrans-193
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 与 BigQuery 交互
- en: 'There are different ways to interact with BigQuery. They are:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 与 BigQuery 交互有不同的方式。它们是：
- en: The BigQuery web UI in the Google Cloud Console, the graphical user interface
    accessible from web browsers, represents the easiest way to interact with BigQuery.
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Google Cloud Console 中的 BigQuery 网页界面，可通过网络浏览器访问的图形用户界面，是交互 BigQuery 的最简单方式。
- en: The `bq` command line, available with the installation of the Google Cloud SDK.
    It can be used to automate jobs and commands by including them in scripts.
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: BigQuery REST APIs. The API layer natively provided by BigQuery can be used
    to integrate this service with other applications.
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Client libraries to favor the use of the most common programming languages,
    such as C#, Go, Java, Node.js, PHP, Python, and Ruby.
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: JDBC/ODBC drivers, developed by Google's partner, Magnitude Simba Driver, are
    available for Windows, macOS, and Linux systems.
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Third parties and Google's partners have developed BigQuery connectors for their
    applications, such as Tableau for business intelligence, Informatica, and Talend
    for data ingestion and integration.
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For our purposes, we'll take a look at the BigQuery web UI available in Google
    Cloud Console that will be used in the coming chapters to develop with BigQuery
    ML.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
- en: 'In the following screenshot, you can see how the BigQuery UI appears in the
    GCP console:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.11 – BigQuery web and graphical user interface available in the
    GCP console'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16772_01_011.jpg)'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
- en: Figure 1.11 – BigQuery web and graphical user interface available in the GCP
    console
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
- en: In the left column, the main BigQuery features are available and the datasets
    are listed and visible to the user. In this case, there is only one dataset.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
- en: The remaining part of the screen is occupied by the development canvas with
    the results and outcomes at the bottom. We'll learn how to use the BigQuery web
    UI in [*Chapter 2*](B16722_02_Final_ASB_ePub.xhtml#_idTextAnchor039), *Setting
    Up Your GCP and BigQuery Environment*, when we'll create a GCP project and start
    using BigQuery.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
- en: BigQuery data structures
  id: totrans-208
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'BigQuery structures, such as tables, views, and ML models, are organized in
    datasets. Each dataset is a container for different structures and can be used
    to control access to underlying data structures. A dataset is directly linked
    to the following:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
- en: A GCP project that hosts the dataset itself and is usually linked to the billing
    account where the storage cost is billed
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A geographic location (regional or multi-regional) that is defined at creation
    time and cannot be changed later
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A specific name assigned to the dataset that should be unique in the GCP project
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In the following diagram, you can see an example of a hierarchy composed of
    projects, datasets, tables, and BigQuery ML models:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.12 – BigQuery hierarchy: datasets, tables, views, and ML models'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
- en: '](img/B16772_01_012.jpg)'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
- en: 'Figure 1.12 – BigQuery hierarchy: datasets, tables, views, and ML models'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
- en: A dataset hosted in GCP, *Project A*, can also be queried by users linked to
    another GCP project, *Project B*, if the right permissions are set. In this case,
    the storage costs are charged to *Project A*, which hosts the dataset structures,
    while the compute costs are billed on the billing account related to *Project
    B*. This is exactly what will happen when we use BigQuery public datasets in future
    chapters for hands-on exercises.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士
- en: Remember, your queries can only include tables that reside in the same region.
    In BigQuery, you cannot query tables that are stored in different geographic locations.
    If you want to execute queries on tables located in different regions, you need
    to export and import the data into a dataset in the same region, passing through
    Google Cloud Storage.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，你的查询只能包括位于同一区域的表。在BigQuery中，你不能查询存储在不同地理位置的表。如果你想在位于不同区域的表中执行查询，你需要将数据导出并导入到同一区域的数据集中，通过Google
    Cloud Storage进行。
- en: 'Now that we''ve learned the main characteristics of BigQuery, let''s focus
    more specifically on the core of this book: BigQuery ML.'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经了解了BigQuery的主要特性，让我们更具体地关注这本书的核心：BigQuery ML。
- en: Discovering BigQuery ML
  id: totrans-221
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 发现BigQuery ML
- en: 'Developing a new ML model can require a lot of effort and can be a time-consuming
    activity. It usually requires different skills and is a complex activity, especially
    in large enterprises. The typical journey of an ML model can be summarized with
    the following flow:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 开发一个新的机器学习模型可能需要大量的努力，可能是一项耗时的工作。它通常需要不同的技能，是一项复杂的活动，尤其是在大型企业中。机器学习模型的典型旅程可以用以下流程来概括：
- en: '![Figure 1.13 – An ML model''s typical development life cycle'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.13 – 机器学习模型的典型开发生命周期'
- en: '](img/B16772_01_013.jpg)'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B16772_01_013.jpg]'
- en: Figure 1.13 – An ML model's typical development life cycle
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.13 – 机器学习模型的典型开发生命周期
- en: 'The first two steps involve preliminary raw data analyses and operations:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 前两个步骤涉及初步的原始数据分析操作：
- en: In the **Data Exploration and Understanding** phase, the data engineer or data
    scientist takes a first look at the data, tries to understand the meaning of all
    the columns in the dataset, and then selects the fields to take into consideration
    for the new use case.
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**数据探索和理解**阶段，数据工程师或数据科学家首先查看数据，试图理解数据集中所有列的含义，然后选择考虑的新用例中的字段。
- en: During **Data Preparation**, the data engineer filters, aggregates, and cleans
    up the datasets, making them available and ready to use for the subsequent training
    phase.
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**数据准备**阶段，数据工程师对数据集进行筛选、聚合和清理，使其可用于后续的训练阶段。
- en: 'After these two first stages, the actual ML developing process starts:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 在这两个初步阶段之后，实际的机器学习开发过程开始：
- en: Leveraging ML frameworks such as TensorFlow and programming languages such as
    Python, the data scientist will engage in the **Design the ML model** step, experimenting
    with different algorithms on the training dataset.
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 利用TensorFlow等机器学习框架和Python等编程语言，数据科学家将参与**设计机器学习模型**步骤，在训练数据集上尝试不同的算法。
- en: When the right ML algorithm is selected, the data scientist performs the **Tuning
    of the ML model** step, applying feature engineering techniques and hyperparameter
    tuning to get better performance out of the ML model.
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当选择了正确的机器学习算法后，数据科学家会执行**机器学习模型的调优**步骤，应用特征工程技术和超参数调优以获得更好的模型性能。
- en: When the model is ready, a final **Evaluation** step is executed on the evaluation
    dataset. This phase proves the effectiveness of the ML model on a new dataset
    that's different from the training one and eventually leads to further refinements
    of the asset.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当模型准备就绪时，在评估数据集上执行最终的**评估**步骤。这一阶段证明了机器学习模型在不同于训练数据集的新数据集上的有效性，并最终导致对资产的进一步优化。
- en: After the development process, the ML model is generally deployed and used in
    a production environment with scalability and robustness requirements.
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在开发过程之后，机器学习模型通常会在具有可扩展性和健壮性要求的生产环境中部署和使用。
- en: The ML model is also eventually updated in a subsequent stage due to different
    incoming data or to apply further improvements.
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于不同的输入数据或为了应用进一步的改进，机器学习模型最终也会在后续阶段进行更新。
- en: All of these steps require different skills and are based on the collaboration
    of different stakeholders, such as business analysts for data exploration and
    understanding, data engineers for data preparation, data scientists for the development
    of the ML model, and finally the IT department to make the model usable in a safe,
    robust, and scalable production environment.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些步骤都需要不同的技能，并且基于不同利益相关者的协作，例如，数据分析师进行数据探索和理解，数据工程师进行数据准备，数据科学家进行机器学习模型的开发，最后是IT部门确保模型在安全、健壮和可扩展的生产环境中可用。
- en: 'BigQuery ML simplifies and accelerates the entire development process of a
    new ML model, allowing you to do the following:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery ML简化并加速了新机器学习模型整个开发过程，允许你执行以下操作：
- en: Design, train, evaluate, and serve the ML model, leveraging SQL and the existing
    skills in your company.
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设计、训练、评估和部署机器学习模型，利用SQL和公司现有的技能。
- en: Automate most of the tuning activities that are usually highly time-consuming
    to get an effective model.
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动化大多数通常耗时很高的调优活动，以获得有效的模型。
- en: Ensure that you have a robust, scalable, and easy-to-use ML model, leveraging
    all the native features of BigQuery that we've already discussed in the *BigQuery's
    advantages over traditional data warehouses* section of this chapter.
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保您拥有一个强大、可扩展且易于使用的机器学习模型，利用我们已在本章“BigQuery相对于传统数据仓库的优势”部分讨论的所有BigQuery原生功能。
- en: 'In the following diagram, you can see the life cycle of an ML model that uses
    BigQuery ML:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下图中，您可以查看使用BigQuery ML的机器学习模型的生命周期：
- en: '![Figure 1.14 – An ML model''s development life cycle with BigQuery ML'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: '![图1.14 – 使用BigQuery ML的机器学习模型开发生命周期'
- en: '](img/B16772_01_014.jpg)'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16772_01_014.jpg)'
- en: Figure 1.14 – An ML model's development life cycle with BigQuery ML
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.14 – 使用BigQuery ML的机器学习模型开发生命周期
- en: Now that we've learned the basics of BigQuery ML, let's take a look at the main
    benefits that it can bring.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经学习了BigQuery ML的基础知识，让我们来看看它可以带来的主要好处。
- en: BigQuery ML benefits
  id: totrans-245
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: BigQuery ML优势
- en: 'BigQuery ML can bring both business and technical benefits during the life
    cycle of an ML model:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery ML可以在机器学习模型的生命周期中带来商业和技术效益：
- en: Business users and data analysts can evolve from a traditional descriptive and
    reporting approach to a new predictive approach to take better decisions using
    their existing SQL skills.
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 商业用户和数据分析师可以从传统的描述性和报告方法演变到新的预测方法，利用他们现有的SQL技能做出更好的决策。
- en: Technical users can benefit from the automation of BigQuery ML during the tuning
    phase of the model, using a unique, centralized tool that can accelerate the entire
    development process of an ML model.
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 技术用户可以在模型的调优阶段从BigQuery ML的自动化中受益，使用一个独特、集中的工具，可以加速整个机器学习模型开发过程。
- en: The development process is further sped up because the datasets required to
    build the ML model are already available to the right users and don't need to
    be moved from one data repository to another, which carries compliance and data
    duplication risks.
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于构建机器学习模型所需的数据集已经对正确用户可用，无需从一个数据存储库移动到另一个数据存储库，这降低了合规性和数据重复的风险，因此开发过程进一步加快。
- en: The IT department does not need to manage the infrastructure to serve and use
    the ML model in a production environment because the BigQuery serverless architecture
    natively supports the model in a scalable, safe, and robust manner.
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IT部门无需管理基础设施以在生产环境中管理和使用机器学习模型，因为BigQuery的无服务器架构原生支持以可扩展、安全、稳健的方式支持模型。
- en: After our analysis of the benefits that BigQuery ML can bring, let's now see
    what the supported ML algorithms are.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们分析了BigQuery ML可以带来的好处之后，现在让我们看看支持的机器学习算法有哪些。
- en: BigQuery ML algorithms
  id: totrans-252
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: BigQuery ML算法
- en: 'The list of ML algorithms supported by BigQuery ML is growing quickly. Currently,
    the following supervised ML techniques are currently supported:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery ML支持的机器学习算法列表正在迅速增长。目前，以下监督式机器学习技术目前得到支持：
- en: '**Linear regression**: To forecast numerical values with a linear model'
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**线性回归**：使用线性模型预测数值'
- en: '**Binary logistic regression**: For classification use cases when the choice
    is between only two different options (Yes or No, 1 or 0, True or False)'
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**二元逻辑回归**：适用于在只有两种不同选项之间进行选择的分类用例（是或否、1或0、真或假）'
- en: '**Multiclass logistic regression**: For classification scenarios when the choice
    is between multiple options'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**多类逻辑回归**：适用于在多个选项之间进行选择的分类场景'
- en: '**Matrix factorization**: For developing recommendation engines based on past
    information'
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**矩阵分解**：基于历史信息开发推荐引擎'
- en: '**Time series**: To forecast business KPIs leveraging timeseries data from
    the past'
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**时间序列**：利用过去的时间序列数据预测业务KPI'
- en: '**Boosted tree**: For classification and regression use cases with XGBoost'
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**提升树**：适用于具有XGBoost的分类和回归用例'
- en: '**AutoML table**: To leverage AutoML capabilities from the BigQuery SQL interface'
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**AutoML表**：从BigQuery SQL界面利用AutoML功能'
- en: '**Deep Neural Network** (**DNN**): For developing TensorFlow models for classification
    or regression scenarios, avoiding any lines of code'
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**深度神经网络**（**DNN**）：用于开发分类或回归场景的TensorFlow模型，避免任何代码行'
- en: 'When the training dataset doesn''t contain labeled data, the learning is defined
    as unsupervised. BigQuery ML currently supports the following:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 当训练数据集不包含标记数据时，学习被定义为无监督学习。BigQuery ML目前支持以下内容：
- en: '**K-means clustering**: For data segmentation of similar objects (people, facts,
    events)'
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**K-means聚类**：用于相似对象的（人、事实、事件）数据分割'
- en: In addition to what is listed, BigQuery ML allows you to import and use pre-trained
    TensorFlow models using SQL statements.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 除了列出的内容外，BigQuery ML还允许您使用SQL语句导入和使用预训练的TensorFlow模型。
- en: Understanding BigQuery pricing
  id: totrans-265
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解BigQuery定价
- en: In this section, the pricing model for BigQuery and BigQuery ML is explained.
    Since the pricing of GCP services is ever-evolving, we suggest that you consult
    [https://cloud.google.com/bigquery/pricing](https://cloud.google.com/bigquery/pricing)
    to get the latest updates.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，解释了BigQuery和BigQuery ML的定价模型。由于GCP服务的定价不断演变，我们建议您咨询[https://cloud.google.com/bigquery/pricing](https://cloud.google.com/bigquery/pricing)以获取最新更新。
- en: Let's look at the models for BigQuery.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看BigQuery的模型。
- en: BigQuery pricing
  id: totrans-268
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: BigQuery定价
- en: 'BigQuery pricing is scalable according to the use of this technology. There
    are three main cost drivers:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery定价根据该技术的使用情况进行扩展。有三个主要成本驱动因素：
- en: '**Storage**: Price calculated on the volumes of data stored in BigQuery.'
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**存储**：根据存储在BigQuery中的数据量计算的价格。'
- en: '**Compute**: Resources used to query, transform, and process the data or to
    train, evaluate, and use ML models.'
  id: totrans-271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**计算资源**：用于查询、转换和处理数据或训练、评估和使用机器学习模型所使用的资源。'
- en: '**Streaming**: Price calculated on the number of records that are ingested
    through the BigQuery streaming API.'
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**流式传输**：根据通过BigQuery流式传输API摄取的记录数计算的价格。'
- en: Storage
  id: totrans-273
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 存储
- en: 'BigQuery storage costs are calculated based on the uncompressed size of your
    datasets. BigQuery offers two layers of storage:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery存储成本是根据您的数据集未压缩的大小计算的。BigQuery提供两层存储：
- en: '**Active**: All data stored in tables that have been inserted or updated in
    the last 90 days is considered active. At the time of writing, active storage
    is charged at $20.00 per terabyte per month.'
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**活跃**：在过去90天内插入或更新的表中的所有数据都被视为活跃数据。截至撰写本文时，活跃存储的收费为每月每太字节20.00美元。'
- en: '**Long-term**: All data stored in tables that have not been modified in the
    last 90 days is considered long-term storage. At the time of writing, long-term
    storage is charged at $10.00 per terabyte per month. The change to long-term storage
    is automatically applied by Google and does not require any action by the BigQuery
    user.'
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**长期**：在过去90天内未修改的表中的所有数据都被视为长期存储。截至撰写本文时，长期存储的收费为每月每太字节10.00美元。Google会自动应用长期存储的更改，无需BigQuery用户采取任何行动。'
- en: Tip
  id: totrans-277
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 小贴士
- en: Thanks to BigQuery long-term storage, it is no longer necessary to transfer
    archived data to Google Cloud Storage to save money. You can keep your data online
    and accessible at a very low cost.
  id: totrans-278
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 多亏了BigQuery长期存储，不再需要将归档数据传输到Google Cloud Storage以节省费用。您可以在非常低的成本下保持数据在线并可供访问。
- en: Compute
  id: totrans-279
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 计算资源
- en: 'BigQuery compute costs are calculated based on the volumes of data that are
    processed by the executed queries. The compute cost can vary according to the
    model that the customer has chosen:'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery计算成本是根据执行查询处理的数据量计算的。计算成本可能根据客户选择的模型而变化：
- en: '**On-demand**: This is the default option. In this case, the user is charged
    only for the resources that are actually consumed.'
  id: totrans-281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**按需**：这是默认选项。在这种情况下，用户只需为实际使用的资源付费。'
- en: '**Flat rate**: This option can be enabled by users or companies that want to
    have a precise estimation of BigQuery costs and want to keep them stable over
    time. In this case, a reservation for a specific timeframe is needed and a fixed
    number of BigQuery slots are assigned to one or multiple GCP projects. As of October
    2020, the minimum number of slots that can be reserved is 100 and the minimum
    time of commitment is 60 seconds. Currently, Google allows you to choose different
    flat rate options according to the actual requirements. This option can be enabled
    with a monthly, annual, or flex commitment. The flex option allows you to purchase
    BigQuery slots for short durations (a minimum of 60 seconds).'
  id: totrans-282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**固定费率**：希望对 BigQuery 成本有精确估计并希望保持其稳定性的用户或公司可以启用此选项。在这种情况下，需要为特定时间段进行预留，并将固定数量的
    BigQuery 插槽分配给一个或多个 GCP 项目。截至 2020 年 10 月，可以预留的最小插槽数量为 100，最小承诺时间为 60 秒。目前，Google
    允许您根据实际需求选择不同的固定费率选项。此选项可以通过月度、年度或灵活承诺启用。灵活选项允许您购买 BigQuery 插槽的短期（至少 60 秒）。'
- en: Tip
  id: totrans-283
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 小贴士
- en: 'Keep in mind that you''re not charged to store BigQuery public datasets: you
    pay only to access and query them. For this reason, using BigQuery public datasets
    can be a cost-effective way to perform tests on BigQuery, paying only for compute
    and not for storage.'
  id: totrans-284
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 请记住，您不需要为存储 BigQuery 公共数据集付费：您只需为访问和查询它们付费。因此，使用 BigQuery 公共数据集可以是一种成本效益的方式，在
    BigQuery 上进行测试时，只需支付计算费用，而不支付存储费用。
- en: Streaming
  id: totrans-285
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 流式传输
- en: Loading data into BigQuery is usually free, apart from the ingestion processes
    that happen through the BigQuery streaming API. As of October 2020, you will be
    charged $0.010 for every 200 MB ingested with this interface. Each row is treated
    as a minimum of 1 KB.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 将数据加载到 BigQuery 中通常是免费的，除了通过 BigQuery 流式 API 发生的摄取过程。截至 2020 年 10 月，您将为此接口每
    200 MB 被摄取的数据支付 0.010 美元。每一行被视为至少 1 KB。
- en: Tip
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士
- en: If your use case doesn't require you to ingest data in real time, we suggest
    you use the bulk loading mechanism to ingest data into BigQuery, which is always
    free of charge.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的用例不需要实时摄取数据，我们建议您使用批量加载机制将数据摄取到 BigQuery 中，这通常是免费的。
- en: BigQuery ML pricing
  id: totrans-289
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: BigQuery ML 定价
- en: 'The pricing model of BigQuery ML is similar to that for BigQuery compute costs.
    As we saw in the previous section, customers can choose between the following
    options:'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery ML 的定价模型与 BigQuery 计算成本类似。正如我们在上一节中看到的，客户可以在以下选项之间进行选择：
- en: On-demand (pay-as-you-go) pricing model
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按需（按使用付费）定价模型
- en: Flat rate pricing model
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 固定费率定价模型
- en: If the customer has already chosen to activate flat rate mode with a fixed number
    of BigQuery slots available, BigQuery slots are also leveraged to train, evaluate,
    and run the BigQuery ML models.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 如果客户已经选择激活具有固定数量 BigQuery 插槽的固定费率模式，BigQuery 插槽也将用于训练、评估和运行 BigQuery ML 模型。
- en: 'If the customer is using the on-demand pricing model, it is necessary to split
    the BigQuery ML algorithms into two different categories:'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 如果客户使用按需定价模型，有必要将 BigQuery ML 算法分为两个不同的类别：
- en: '**External models**: This category includes boosted trees, DNNs, TensorFlow,
    and AutoML. These models are trained on other GCP services integrated with BigQuery
    and are charged differently.'
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**外部模型**：此类包括提升树、深度神经网络（DNN）、TensorFlow 和 AutoML。这些模型在其他与 BigQuery 集成的 GCP
    服务上训练，并按不同的方式收费。'
- en: '**Internal models**: This category includes all the remaining algorithms mentioned
    before that are trained directly on BigQuery.'
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**内部模型**：此类包括之前提到的所有直接在 BigQuery 上训练的算法。'
- en: 'At the time of writing, the pricing of internal models is based on the volumes
    of data processed during the main stages of the ML life cycle (training, evaluation,
    and prediction):'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本文时，内部模型的定价基于 ML 生命周期主要阶段（训练、评估和预测）处理的数据量：
- en: '![Figure 1.15 – BigQuery ML pricing for internal ML models'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.15 – BigQuery ML 对内部 ML 模型的定价'
- en: '](img/B16772_01_015.jpg)'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16772_01_015.jpg)'
- en: Figure 1.15 – BigQuery ML pricing for internal ML models
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.15 – BigQuery ML 对内部 ML 模型的定价
- en: 'The pricing of external models is based on the cost of the external AI Platform
    resources used for the training of the model plus an additional BigQuery ML fee
    applied on top:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 外部模型的定价基于用于模型训练的外部 AI 平台资源的成本，以及额外应用于其上的 BigQuery ML 费用：
- en: '![Figure 1.16 – BigQuery ML pricing for external ML models'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.16 – BigQuery ML 对外部 ML 模型的定价'
- en: '](img/B16772_01_016.jpg)'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16772_01_016.jpg)'
- en: Figure 1.16 – BigQuery ML pricing for external ML models
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.16 – BigQuery ML 对外部 ML 模型的定价
- en: Prices are always under review and subject to change on GCP. For this reason,
    we suggest consulting [https://cloud.google.com/bigquery-ml/pricing](https://cloud.google.com/bigquery-ml/pricing).
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 价格始终在审查中，并可能在 GCP 上发生变化。因此，我们建议您查阅 [https://cloud.google.com/bigquery-ml/pricing](https://cloud.google.com/bigquery-ml/pricing)。
- en: Free operations and free tiers
  id: totrans-306
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 免费操作和免费层
- en: BigQuery offers a wide variety of operations free of charge, as well as free
    tiers to experiment with this technology at no cost.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery 提供了各种免费操作，以及免费层，以免费尝试这项技术。
- en: 'The following operations are always free in BigQuery:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 以下操作在 BigQuery 中始终免费：
- en: Loading data
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加载数据
- en: Copying data (apart from the additional storage requested for the copy)
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 复制数据（除了为复制请求的额外存储空间）
- en: Exporting data
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 导出数据
- en: Deleting datasets, tables, views, partitions, or functions
  id: totrans-312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除数据集、表、视图、分区或函数
- en: Any metadata operations
  id: totrans-313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任何元数据操作
- en: Reading metadata tables and columns
  id: totrans-314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 读取元数据表和列
- en: Creating or replacing **User-Defined Functions** (**UDFs**)
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建或替换**用户定义函数**（**UDFs**）
- en: 'To encourage experimentation with BigQuery, every month a user has the ability
    to leverage a free budget of operations under a certain threshold, as seen in
    the following table:'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 为了鼓励用户在 BigQuery 上进行实验，每个月用户都有能力利用一定阈值以下的免费操作预算，如下表所示：
- en: '![Figure 1.17 –  BigQuery ML free tiers'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.17 – BigQuery ML 免费层'
- en: '](img/B16772_01_017.jpg)'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16772_01_017.jpg)'
- en: Figure 1.17 – BigQuery ML free tiers
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.17 – BigQuery ML 免费层
- en: Now that we've seen the BigQuery free tiers that we can use, let's take a look
    at the pricing calculator.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经看到了我们可以使用的 BigQuery 免费层，让我们来看看价格计算器。
- en: Pricing calculator
  id: totrans-321
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 价格计算器
- en: 'If you want to have a good estimation of the cost of using BigQuery with on-demand
    pricing, you can use the Google Cloud pricing calculator: [https://cloud.google.com/products/calculator](https://cloud.google.com/products/calculator).
    The following screenshot shows the monthly cost of storing, ingesting through
    streaming, and processing the following data volumes:'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想对使用按需定价的 BigQuery 的成本进行良好估算，您可以使用 Google Cloud 价格计算器：[https://cloud.google.com/products/calculator](https://cloud.google.com/products/calculator)。以下截图显示了存储、通过流式传输摄取和处理以下数据量的月度成本：
- en: 'Uncompressed storage volume: 10 TB'
  id: totrans-323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 未压缩存储容量：10 TB
- en: 'Volume of streaming inserts: 1 GB'
  id: totrans-324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 流式插入量：1 GB
- en: 'Data processed by queries: 150 TB:'
  id: totrans-325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查询处理的数据：150 TB：
- en: '![Figure 1.18 – BigQuery pricing calculator'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 1.18 – BigQuery 价格计算器'
- en: '](img/B16772_01_018.jpg)'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16772_01_018.jpg)'
- en: Figure 1.18 – BigQuery pricing calculator
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.18 – BigQuery 价格计算器
- en: You can use the pricing calculator to estimate the consumption of all the other
    GCP services to get a better understanding of your GCP costs.
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用价格计算器来估算所有其他 GCP 服务的消耗，以更好地了解您的 GCP 成本。
- en: Summary
  id: totrans-330
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: Throughout this first chapter, we've taken the first steps into learning what
    GCP offers, how it is different from other public cloud providers, and how Google
    is building on its ubiquitous applications such as Gmail and Google Maps to provide
    great services to companies via GCP.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的第一部分，我们迈出了学习 GCP 提供的内容、与其他公共云提供商的不同之处以及谷歌如何利用其无处不在的应用程序（如 Gmail 和 Google
    Maps）通过 GCP 为公司提供优质服务的第一步。
- en: We've also discovered that Google's proven experience in AI and ML, developed
    through the making of products such as Google Photos, also forms part of the services
    of GCP. Each AI and ML service can address various use cases and different types
    of users according to their skills and background. For example, most technical
    users, such as data scientists, can leverage TensorFlow to have great flexibility
    and control over their developed ML models, while business users can use Google's
    solutions to solve specific challenges with Document AI and Contact Center AI.
    The intermediate category is composed of AI and ML building blocks; these services
    can accelerate the development of new ML use cases or spread the usage of innovative
    techniques through a company.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还发现，谷歌在 AI 和 ML 方面的丰富经验，通过制作如 Google Photos 等产品而发展起来，也构成了 GCP 服务的一部分。每个 AI
    和 ML 服务都可以根据其技能和背景解决各种用例和不同类型的用户。例如，大多数技术用户，如数据科学家，可以利用 TensorFlow 在其开发的 ML 模型上获得极大的灵活性和控制力，而商业用户可以使用谷歌的解决方案通过文档
    AI 和客服 AI 解决特定的挑战。中间类别由 AI 和 ML 构建块组成；这些服务可以加速新 ML 用例的开发或通过公司推广创新技术的使用。
- en: 'One of these building blocks is BigQuery: its extension, BigQueryML, enables
    the development of ML models by leveraging existing SQL skills. The use of BigQuery
    ML can bring great benefits to companies that want to democratize ML, enabling
    a large segment of employees to participate by simplifying the heaviest and most
    time-consuming activities that usually require the involvement of different stakeholders,
    skills, and tools.'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 这些构建块之一是 BigQuery：其扩展 BigQueryML 通过利用现有的 SQL 技能来开发机器学习模型。BigQuery ML 的使用可以为希望民主化机器学习的公司带来巨大利益，通过简化通常需要不同利益相关者、技能和工具参与的繁重且耗时的工作，使大量员工能够参与其中。
- en: In the next chapter, we will get hands-on by creating a new Google Cloud project
    and accessing BigQuery for the first time.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将通过创建一个新的谷歌云项目并首次访问 BigQuery 来进行实际操作。
- en: Further resources
  id: totrans-335
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步资源
- en: '**Google Cloud products**: [https://cloud.google.com/products/](https://cloud.google.com/products/)'
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**谷歌云产品**: [https://cloud.google.com/products/](https://cloud.google.com/products/)'
- en: '**GCP overview**: [https://cloud.google.com/docs/overview](https://cloud.google.com/docs/overview)'
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**GCP 概述**: [https://cloud.google.com/docs/overview](https://cloud.google.com/docs/overview)'
- en: '**Why GCP is different**: [https://cloud.google.com/free/docs/what-makes-google-cloud-platform-different](https://cloud.google.com/free/docs/what-makes-google-cloud-platform-different)'
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**为什么谷歌云平台与众不同**: [https://cloud.google.com/free/docs/what-makes-google-cloud-platform-different](https://cloud.google.com/free/docs/what-makes-google-cloud-platform-different)'
- en: '**Google regions and locations**: [https://cloud.google.com/about/locations](https://cloud.google.com/about/locations)'
  id: totrans-339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**谷歌地区和位置**: [https://cloud.google.com/about/locations](https://cloud.google.com/about/locations)'
- en: '**Google''s sustainability program**: [https://sustainability.google/commitments/](https://sustainability.google/commitments/)'
  id: totrans-340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**谷歌的可持续发展计划**: [https://sustainability.google/commitments/](https://sustainability.google/commitments/)'
- en: '**AI Hub**: [https://aihub.cloud.google.com/?hl=en](https://aihub.cloud.google.com/?hl=en)'
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**AI Hub**: [https://aihub.cloud.google.com/?hl=en](https://aihub.cloud.google.com/?hl=en)'
- en: '**Cloud Talent Solution**: [https://cloud.google.com/solutions/talent-solution?hl=en](https://cloud.google.com/solutions/talent-solution?hl=en)'
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**云人才解决方案**: [https://cloud.google.com/solutions/talent-solution?hl=en](https://cloud.google.com/solutions/talent-solution?hl=en)'
- en: '**BigQuery technical architecture**:[https://cloud.google.com/files/BigQueryTechnicalWP.pdf](https://cloud.google.com/files/BigQueryTechnicalWP.pdf)'
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**BigQuery 技术架构**:[https://cloud.google.com/files/BigQueryTechnicalWP.pdf](https://cloud.google.com/files/BigQueryTechnicalWP.pdf)'
- en: '**BigQuery interfaces**: [https://cloud.google.com/bigquery/docs/interacting-with-bigquery](https://cloud.google.com/bigquery/docs/interacting-with-bigquery)'
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**BigQuery 接口**: [https://cloud.google.com/bigquery/docs/interacting-with-bigquery](https://cloud.google.com/bigquery/docs/interacting-with-bigquery)'
- en: '**BigQuery ML**: [https://cloud.google.com/bigquery-ml/docs](https://cloud.google.com/bigquery-ml/docs)'
  id: totrans-345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**BigQuery ML**: [https://cloud.google.com/bigquery-ml/docs](https://cloud.google.com/bigquery-ml/docs)'
