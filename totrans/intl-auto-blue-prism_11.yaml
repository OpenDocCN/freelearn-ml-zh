- en: '11'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '11'
- en: Processing Refunds
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 处理退款
- en: In this chapter, we’ll examine a scenario with the goal of solidifying the concepts
    presented in this book. This includes how to choose which IA template to use to
    start development, auditing, kill switches, and more. We’ll analyze the ML requirements
    of the use case, design a solution, and implement the solution’s structure.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将检查一个场景，目的是巩固本书中提出的概念。这包括如何选择使用哪个IA模板开始开发、审计、紧急停止开关等。我们将分析用例的ML需求，设计解决方案，并实现解决方案的结构。
- en: The scenario used throughout this chapter is modeled on the *real-life* use
    case of an online retailer. This retailer is looking to automate the approval
    of refund requests received through email. This use case features *multiple ML
    models*, where one is internally developed and the others aren’t. We’ve previously
    only discussed solution designs for Processes with one ML model, but we’ll see
    that we can extend the designs and templates presented in this book to multiple
    models as well.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章使用的场景是基于在线零售商的*真实生活*用例。这家零售商希望自动化通过电子邮件收到的退款请求的批准。这个用例包含*多个ML模型*，其中一个是内部开发的，其他则不是。我们之前只讨论过只有一个ML模型的流程解决方案设计，但我们将看到我们可以将本书中提出的设计和模板扩展到多个模型。
- en: The IA team is building a solution to handle refund requests that are sent to
    the online retailer’s customer service email. The business wants to use ML to
    determine whether an email is asking to initiate a refund. If so, the case continues
    to be processed.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: IA团队正在构建一个解决方案来处理发送到在线零售商客户服务电子邮件的退款请求。业务希望使用ML来确定电子邮件是否请求启动退款。如果是这样，案件将继续处理。
- en: Next, the business users want to extract useful entities from the email, such
    as the order number and the item costs. If this data is extracted with a high
    enough confidence, while fulfilling other business criteria, the refund request
    is automatically processed.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，业务用户希望从电子邮件中提取有用的实体，例如订单号和项目成本。如果这些数据以足够的置信度提取，同时满足其他业务标准，则退款请求将自动处理。
- en: If an automated refund request is successful, the business users will then use
    generative AI to create an email response to send to the customer. The business
    has already developed a prompt to use with the generative AI model. There’s a
    strategic initiative for the company to use more AI technologies and appear technologically
    innovative. Customers who have their email refund request automatically approved
    will be informed that their case was completed using automation and AI.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 如果自动退款请求成功，业务用户将使用生成式AI创建一封电子邮件回复发送给客户。公司已经开发了一个用于生成式AI模型的提示。公司有一个战略计划，即使用更多AI技术并显得技术创新。那些电子邮件退款请求自动批准的客户将被告知，他们的案件是通过自动化和AI完成的。
- en: The customer support team has an SLA to provide the first customer response
    (not resolution) within 48 hours of receiving an email. They hope that an IA solution
    can provide a complete resolution to a portion of the refund requests in 48 hours
    instead.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 客户支持团队有一个SLA，在收到电子邮件后的48小时内提供第一个客户响应（不是解决方案）。他们希望IA解决方案能够在48小时内为部分退款请求提供完整的解决方案。
- en: 'In this chapter, our role is that of a solution designer and developer on the
    IA team. We’re going to cover the following main topics:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们的角色是IA团队中的解决方案设计师和开发者。我们将涵盖以下主要主题：
- en: ML model background information
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ML模型背景信息
- en: Solution design
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 解决方案设计
- en: Implementation
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实现
- en: Important note
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: The example in this chapter focuses on designing and implementing the IA solution
    *structure*. Details regarding the normal business logic aren’t discussed. The
    full solution, including ML API calls, won’t be implemented as well as those details
    are easily implemented and have been covered in earlier chapters.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的示例主要关注设计和实现IA解决方案的*结构*。关于正常业务逻辑的细节没有讨论。完整的解决方案，包括ML API调用，也不会实现，因为这些细节很容易实现，并且在前面章节中已经介绍过。
- en: Technical requirements
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: The IA Process template was discussed in [*Chapter 7*](B18416_07.xhtml#_idTextAnchor114).
    If you haven’t gone through that chapter, download and import the `.bprelease`
    file from [https://github.com/PacktPublishing/Intelligent-Automation-with-Blue-Prism/tree/main/ch7](https://github.com/PacktPublishing/Intelligent-Automation-with-Blue-Prism/tree/main/ch7).
    The examples in this chapter will be based on one of the templates.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: IA流程模板在第[*第7章*](B18416_07.xhtml#_idTextAnchor114)中进行了讨论。如果您还没有阅读该章节，请从[https://github.com/PacktPublishing/Intelligent-Automation-with-Blue-Prism/tree/main/ch7](https://github.com/PacktPublishing/Intelligent-Automation-with-Blue-Prism/tree/main/ch7)下载并导入`.bprelease`文件。该章节中的示例将基于其中一个模板。
- en: ML model background information
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ML模型背景信息
- en: 'This scenario uses three ML models: an **email classifier (EC)**, an **entity
    recognition model (ER)**, and **generative AI (GAI)**. Before designing the solution,
    we need to understand some specific characteristics of the ML models. The IA team
    works with the business users, the data science team, and the ML vendor’s documentation
    to answer the following questions:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 此场景使用三个ML模型：一个**电子邮件分类器（EC**），一个**实体识别模型（ER**），以及**生成式AI（GAI**）。在设计解决方案之前，我们需要了解ML模型的一些特定特征。IA团队与业务用户、数据科学团队和ML供应商的文档合作，以回答以下问题：
- en: Who develops and maintains the model?
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 谁开发和维护模型？
- en: What’s the consumption and deployment methodology of the ML model?
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ML模型的消费和部署方法是什么？
- en: Is auditing of the ML model needed?
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 是否需要对ML模型进行审计？
- en: What are the estimated volumes of ML predictions?
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ML预测的估计量是多少？
- en: What are the criteria for HITL reviews?
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HITL审查的标准是什么？
- en: What are the SLAs for review?
  id: totrans-23
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 审查的SLA是什么？
- en: Is auditing of HITL reviews needed?
  id: totrans-24
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 是否需要对HITL审查进行审计？
- en: What interface will be used to review predictions?
  id: totrans-25
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将使用什么界面来审查预测？
- en: EC model
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: EC模型
- en: The business only wants to identify whether an email is requesting a refund.
    They don’t need to predict between other email categories, such as product inquiries
    and complaints. After discussing with the internal data science team, they decide
    to develop a *binary classification model* that predicts between a *refund request*
    and *not a* *refund request*.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 业务只想确定一封电子邮件是否请求退款。他们不需要预测其他电子邮件类别，如产品咨询和投诉。在与内部数据科学团队讨论后，他们决定开发一个*二元分类模型*，该模型可以预测*退款请求*和*非退款请求*。
- en: Consumption and deployment method
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 消费和部署方法
- en: The EC model will be hosted on the intranet and called through an HTTP API.
    Since this model has yet to be developed, the IA team asks the ML operations team
    to use a *blue-green* style of deployment. The IA team wants to give themselves
    the option of doing no-downtime rollbacks of the model if needed. The IA team
    also asks for a model version to be returned in the API response, in case they
    need to store it for auditing purposes. The data science team agrees with these
    requests.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: EC模型将在内网上托管并通过HTTP API调用。由于该模型尚未开发，IA团队要求ML运维团队使用*蓝绿*风格的部署。IA团队希望给自己留出在需要时进行无停机回滚模型的选择。IA团队还要求API响应中返回一个模型版本，以防他们需要将其存储以供审计目的。数据科学团队同意这些请求。
- en: Prediction volumes
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 预测量
- en: After interviewing customer support staff, we find that they receive ~500 emails
    per day, of which 70 are refund requests. The customer support team estimates
    that around 20 out of 70 refund requests will meet the criteria needed for automatic
    approval.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在采访客户支持人员后，我们发现他们每天收到约500封电子邮件，其中70封是退款请求。客户支持团队估计，在70封退款请求中，大约有20封符合自动批准所需的条件。
- en: HITL reviews, interface, and SLAs
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: HITL审查、界面和SLA
- en: From previous experience with classifying emails, the data science team expects
    the accuracy of the binary classifier to be very high. As a result, the team decides
    to not require HITL reviews but to *randomly sample 5%* of the predictions (around
    25 per day) to validate that the model is performing correctly over time. Employees
    from the customer support team will perform these reviews in addition to their
    regular tasks. The IA team decides to make the EC prediction review *non-blocking*,
    meaning that we don’t wait for the review to complete in order to continue automated
    processing.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 从之前对电子邮件进行分类的经验来看，数据科学团队预计二元分类器的准确性非常高。因此，团队决定不要求进行HITL审查，而是*随机抽取5%*的预测（大约每天25个）来验证模型是否随着时间的推移正确执行。客户支持团队的员工将在他们的常规任务之外进行这些审查。IA团队决定使EC预测审查*非阻塞*，这意味着我们不会等待审查完成就继续自动化处理。
- en: The interface for review is to forward the customer’s email to a newly created
    email distribution list that will be monitored by customer support. The reviewer
    simply replies to the email with *Y* to indicate that it is a refund request or
    *N* to indicate that it isn’t.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 审查的界面是将客户的电子邮件转发到一个新创建的电子邮件分发列表，该列表将由客户支持监控。审阅者只需简单地回复电子邮件，用*Y*表示这是一份退款请求，或用*N*表示这不是。
- en: ML auditing
  id: totrans-35
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ML审计
- en: Since the model will be maintained by the data science team, the prediction
    input and output logs will be available from the API web server. The data science
    team agrees to make logs available for six months, meaning that we have the flexibility
    to decide whether we want to keep a copy of the logs in BP as well for convenience.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 由于模型将由数据科学团队维护，预测输入和输出日志将从API web服务器可用。数据科学团队同意将日志保留六个月，这意味着我们有权决定是否希望在BP中也保留日志副本以方便使用。
- en: Let’s discuss the next model which is used to extract data from the email.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们讨论下一个用于从电子邮件中提取数据的模型。
- en: Entity recognition model
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 实体识别模型
- en: The **entity recognition** (**ER**) ML model needs to identify either an order
    number or a product name and price from the email text in order to continue processing.
    The IA team finds that there are numerous off-the-shelf services that can extract
    the data that’s needed after testing some online commercial offerings.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**实体识别**（**ER**）ML模型需要从电子邮件文本中识别订单号或产品名称和价格，以便继续处理。IA团队发现，经过测试一些在线商业产品后，有许多现成的服务可以提取所需的数据。'
- en: Consumption and deployment method
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 消费和部署方法
- en: The IA team decides to use a pre-trained model that’s hosted on a cloud provider
    that they have an existing relationship with. Since we’ve chosen a generic, hosted
    ML solution, we can’t control when the model gets updated. We need to actively
    monitor the vendor website to see if a new model is available. The API endpoint
    for this model is *versioned*, meaning that we can switch between different versions
    of the ER model as needed.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: IA团队决定使用托管在他们已有关系的云提供商上的预训练模型。由于我们选择了一个通用的托管ML解决方案，我们无法控制模型何时更新。我们需要积极监控供应商网站，以查看是否有新模型可用。此模型的API端点是*版本化的*，这意味着我们可以根据需要在不同版本的ER模型之间切换。
- en: Prediction volumes
  id: totrans-42
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 预测量
- en: The ER model is only used after the EC model when an email is believed to be
    a refund request. Customer support has given us a rough expectation of ~70 predictions
    per day. After taking the costs of using this API into consideration, the governance
    board decides that it’s still worthwhile to pursue.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 当认为一封电子邮件是退款请求时，仅在使用EC模型之后才使用ER模型。客户支持给我们提供了一个大致的预期，每天大约有~70个预测。在考虑使用此API的成本后，治理委员会决定这仍然值得追求。
- en: HITL reviews, interface, and SLAs
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: HITL审查、界面和SLA
- en: Since ER returns *multiple* labels and confidence levels, we decide to use a
    thresholding scheme with multiple conditions. After obtaining historical refund
    request emails from customer support, we run experiments to determine the appropriate
    threshold values for HITL review of ER model predictions.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 由于ER返回*多个*标签和置信度水平，我们决定使用具有多个条件的阈值方案。在从客户支持获得历史退款请求电子邮件后，我们进行实验以确定ER模型预测的HITL审查的适当阈值值。
- en: First, we require manual review if we’ve extracted an order ID, and the order
    ID has less than 97% confidence. Next, we review predictions where either the
    product name or price has a confidence lower than 93%. Finally, we review all
    predictions regardless of confidence where an extracted price is higher than $300\.
    Since the review method is complex, requiring the correction of multiple labels,
    the team decides to present the review data to reviewers through a custom-built
    web interface.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，如果我们提取的订单ID的置信度低于97%，则需要手动审查。接下来，我们审查产品名称或价格置信度低于93%的预测。最后，我们审查所有置信度无论高低，但提取的价格高于$300的预测。由于审查方法复杂，需要纠正多个标签，团队决定通过自定义构建的Web界面向审阅者展示审查数据。
- en: Since we’re targeting the resolution of cases within 48 hours, the team tentatively
    decides to have a review SLA of 24 hours.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们旨在在48小时内解决案件，团队暂定决定审查SLA为24小时。
- en: ML auditing
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ML审计
- en: Since the ER model is a third-party API, the IA team will need to keep track
    of the prediction inputs, outputs, and model versions in BP. While we could visit
    the cloud portal’s dashboards to view historical usage records, they are hidden
    behind different approval processes that are more complex than finding the data
    from inside BP.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 由于ER模型是第三方API，IA团队需要在BP中跟踪预测输入、输出和模型版本。虽然我们可以访问云门户的仪表板来查看历史使用记录，但这些记录隐藏在比从BP内部查找数据更复杂的不同审批流程之后。
- en: The discussion of the ER model is complete. Next, we’ll discuss the third ML
    model, which is generative AI.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: ER模型的讨论已经完成。接下来，我们将讨论第三个ML模型，即生成式AI。
- en: Generative AI model
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 生成式AI模型
- en: The customer service team wants to use GAI to create email replies for customers
    who have their refund requests automatically approved. While we could simply use
    an email template, the company wants to maintain its image of being technology-focused
    and forward-thinking to customers and investors.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 客户服务团队希望使用GAI为客户自动批准的退款请求创建电子邮件回复。虽然我们可以简单地使用电子邮件模板，但公司希望向客户和投资者保持其以技术为中心和前瞻性的形象。
- en: Consumption and deployment method
  id: totrans-53
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 消费和部署方法
- en: As the IA team can't access enough GPU processing power to develop a GAI model
    in-house, the team decides to use a hosted API solution. From looking at the API
    documentation, we find that the vendor uses a *continuous model upgrade scheme*.
    This means that the model behind the API endpoint is constantly being updated
    and that updates occur without notifying customers. The exact model version that
    is used is returned in the API response, but there’s no way to explicitly call
    an older version of the model. This makes the model version not so useful as it’s
    only possible to call the latest version of the model. The prompt that is sent
    to the GAI API will be the same for every customer.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 由于IA团队无法获得足够的GPU处理能力以内部开发GAI模型，团队决定使用托管API解决方案。通过查看API文档，我们发现供应商使用了一种*持续模型升级方案*。这意味着API端点背后的模型正在不断更新，并且更新不会通知客户。API响应中返回的确切模型版本，但我们无法明确调用模型的旧版本。这使得模型版本并不那么有用，因为我们只能调用最新版本的模型。发送给GAI
    API的提示将为每位客户相同。
- en: Prediction volumes
  id: totrans-55
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 预测量
- en: It’s estimated that 20 emails will be sent per day. After taking these costs
    into account, the use case is still deemed to be viable.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 预计每天将发送20封电子邮件。在考虑这些成本后，该用例仍然被认为是可行的。
- en: HITL reviews, interface, and SLAs
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: HITL审查、界面和SLA
- en: The customer support team has tested the third-party GAI service and is happy
    with the email responses that are generated. The business has also created a static
    disclaimer that will be appended at the bottom of every email after the GAI response.
    This is done to remove ambiguity in case the GAI text is unclear. This disclaimer
    will make it clear to customers that their refund case was automatically processed,
    and approved, and that the email text is AI generated. Because of this disclaimer,
    the team doesn’t intend to review any of the GAI-generated emails. A contributing
    factor to choosing GAI is that it’s a positive customer outcome, which is inherently
    low risk.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 客户支持团队已经测试了第三方GAI服务，并对生成的电子邮件响应感到满意。公司还创建了一个静态免责声明，该声明将在GAI响应之后附加到每封电子邮件的底部。这是为了在GAI文本不清晰的情况下消除歧义。这个免责声明将清楚地告知客户，他们的退款案例已自动处理并获得批准，并且电子邮件文本是AI生成的。正因为如此，团队不打算审查任何由GAI生成的电子邮件。选择GAI的一个因素是它带来了积极的客户结果，这本质上风险较低。
- en: ML auditing
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 机器学习审计
- en: The email message that’s generated must be sent to the customer through the
    CRM system, and not directly through a mail server. A copy of what was emailed
    to the customer can always be found through the CRM. Since the business team doesn’t
    intend to change the prompt, the IA team decides that keeping a copy of the input
    to each API call is unneeded. Although the model version is returned in the prediction
    response, there’s no way to actually specify which version of the model we want
    to call. We can decide whether we want to store the model version, although it
    isn’t particularly useful.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 生成的电子邮件消息必须通过CRM系统发送给客户，而不是直接通过邮件服务器。客户收到的电子邮件副本始终可以通过CRM找到。由于业务团队不打算更改提示，IA团队决定保留每个API调用的输入副本是不必要的。尽管模型版本在预测响应中返回，但我们实际上无法指定我们想要调用的模型版本。我们可以决定是否要存储模型版本，尽管这并不特别有用。
- en: We’ve now gathered the information needed about the three ML models to come
    up with a solution design.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经收集了关于三个机器学习模型的信息，以便制定解决方案设计。
- en: ML model summary
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 机器学习模型总结
- en: 'A summary of the ML model characteristics that are relevant to the design and
    implementation of the solution is as follows:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 与解决方案的设计和实施相关的机器学习模型特性的总结如下：
- en: '| **Model** | **Deployment method** | **HITL** **review criteria** | **HITL**
    **review interface** | **HITL** **review SLA** | **ML Auditing** |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
  zh: '| **模型** | **部署方法** | **HITL审查标准** | **HITL审查界面** | **HITL审查SLA** | **机器学习审计**
    |'
- en: '| EC | Blue-green API | Random sampling, 5% | Email | N/A | On API servers
    |'
  id: totrans-65
  prefs: []
  type: TYPE_TB
  zh: '| EC | 蓝绿API | 随机抽样，5% | 邮件 | N/A | 在API服务器上 |'
- en: '| ER | Unknown, but the API is versioned | Thresholding with multiple conditions
    | Website | 24 hours | In the IA solution |'
  id: totrans-66
  prefs: []
  type: TYPE_TB
  zh: '| ER | 未知，但API已版本化 | 基于多个条件的阈值 | 网站 | 24小时 | 在IA解决方案中 |'
- en: '| GAI | Continuous, and the API response contains the model version | N/A |
    N/A | N/A | In the customer support system |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '| GAI | 持续的，API响应包含模型版本 | N/A | N/A | N/A | 在客户支持系统中 |'
- en: 'Table 11.1: A summary of the ML model characteristics'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 表11.1：机器学习模型特性的总结
- en: With this information about the ML model, we can begin our solution design.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在了解机器学习模型的信息后，我们可以开始我们的解决方案设计。
- en: Solution design
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 解决方案设计
- en: We need to consider how many Processes and Work Queues are appropriate for our
    solution. Recall from [*Chapter 5*](B18416_05.xhtml#_idTextAnchor075) that an
    ML solution can have a separate Process/Work Queue for the ML model and for the
    HITL review. Let’s look at each ML model separately to determine whether additional
    Processes and Queues will be needed.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要考虑为我们的解决方案选择多少个进程和工作队列是合适的。回想一下[*第五章*](B18416_05.xhtml#_idTextAnchor075)，一个机器学习解决方案可以为机器学习模型和HITL审查分别有一个独立的进程/工作队列。让我们分别查看每个机器学习模型，以确定是否需要额外的进程和工作队列。
- en: Email classification model
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 邮件分类模型
- en: The EC ML model logs will be accessible directly from the on-premises API server,
    so from a logging perspective, there’s no need to have them saved in a separate
    Work Queue. There’s also no need to scale the ML predictions independently from
    the main Process. As a result, the IA team decides that a separate Process and
    Work Queue for the EC ML model is unnecessary.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: EC机器学习模型的日志可以直接从本地API服务器访问，因此从日志记录的角度来看，没有必要将它们保存在单独的工作队列中。也没有必要从主进程独立扩展机器学习预测。因此，IA团队决定EC机器学习模型不需要独立的进程和工作队列。
- en: Next, the IA team considers the HITL review requirements. Roughly 25 emails
    will be randomly sampled for review each day. Since the model is developed in-house,
    it makes sense to send corrected predictions back to the data scientists so that
    the model can be improved. The team decides to have a *separate Process and Work
    Queue for the HITL review* portion of the EC model.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，IA团队考虑HITL审查要求。每天大约随机抽取25封邮件进行审查。由于模型是在内部开发的，因此将修正后的预测发送回数据科学家以改进模型是有意义的。团队决定为EC模型的HITL审查部分设置一个*独立的进程和工作队列*。
- en: Entity recognition model
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 实体识别模型
- en: Since the ER model is an external API and performs a critical part of the overall
    business process, we want to keep an audit trail of the inputs and outputs of
    the model. This leads us to a design where the *ER model prediction has a separate
    Process and* *Work Queue*.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 由于ER模型是外部API，并执行整体业务流程的关键部分，我们希望记录模型的输入和输出审计轨迹。这导致我们设计了一个方案，其中*ER模型的预测有一个独立的进程和*
    *工作队列*。
- en: The review method is also complex and requires a custom-developed web interface.
    We’d like to control the creation of the shared data used for review and audit
    any human corrections to the predictions. For these reasons, we decide to have
    a *separate Process and Work Queue for the HITL review* portion of the ER model.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 审查方法也很复杂，需要自定义开发的Web界面。我们希望控制用于审查的共享数据创建，并审计对预测的人为修正。出于这些原因，我们决定为ER模型的HITL审查部分设置一个*独立的进程和工作队列*。
- en: Generative AI model
  id: totrans-78
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 生成式AI模型
- en: There’s no need to keep track of the input to the GAI model in the logs because
    the prompt is static. The API response (email text) will also be saved into the
    customer support system, so auditing of the ML prediction results does not need
    to be done from BP. There’s also no need for HITL as there will be boilerplate
    text sent along with the GAI-generated email, which lowers the chance of misunderstanding
    the email. The IA team decides to *not have separate Processes and Work Queues
    for the GAI portion* of the solution.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 由于提示是静态的，因此不需要在日志中跟踪GAI模型的输入。API响应（电子邮件文本）也将保存在客户支持系统中，因此不需要从BP进行ML预测结果的审计。由于将随GAI生成的电子邮件发送一些模板文本，这降低了误解电子邮件的可能性，因此也不需要HITL。IA团队决定**不在解决方案的GAI部分有单独的流程和工作队列**。
- en: Solution design diagram
  id: totrans-80
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 解决方案设计图
- en: Overall, a high-level BP solution design for the ML portion looks like the following.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 总体而言，机器学习部分的BP解决方案设计看起来如下。
- en: '![Figure 11.1: A diagram of the Processes and Work Queues of the solution design](img/B18416_11_1.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![图11.1：解决方案流程和工作队列的示意图](img/B18416_11_1.jpg)'
- en: 'Figure 11.1: A diagram of the Processes and Work Queues of the solution design'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.1：解决方案流程和工作队列的示意图
- en: Process 1 is the main process, which contains the business logic and the Stages
    that call the EC and the GAI models. After the EC prediction is made, Items that
    are randomly sampled are added to Work Queue 2 (A). Since the review is non-blocking,
    Process 2, which checks an email inbox for *Y* and *N* replies to emails can be
    scheduled to run during off-peak hours.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 流程1是主要流程，其中包含业务逻辑以及调用EC和GAI模型的阶段。在EC预测完成后，随机抽取的项目被添加到工作队列2（A）。由于审查是非阻塞的，因此可以安排流程2在非高峰时段运行，以检查电子邮件收件箱中关于*Y*和*N*的回复。
- en: For emails that are predicted as refund requests, processing continues until
    we need to make a prediction using the ER model. Processing halts, and input data
    to the ER model is added to Work Queue 3 (B). If the ER prediction doesn’t need
    human review (C), the Item resumes its work in Process 1\. If the ER prediction
    requires review, it gets added to Work Queue 4 (D). Once HITL review for the ER
    prediction is complete, the Item’s Status will be updated in Queue 1 (E), so that
    processing can continue.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 对于预测为退款请求的电子邮件，处理将继续，直到我们需要使用ER模型进行预测。处理暂停，并将输入数据添加到工作队列3（B）。如果ER预测不需要人工审查（C），项目将在流程1中继续其工作。如果ER预测需要审查，它将被添加到工作队列4（D）。一旦ER预测的HITL审查完成，项目的状态将在队列1（E）中更新，以便处理可以继续。
- en: Implementation
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 实现
- en: After completing the IA solution design based on the characteristics of the
    three models discussed above, the developers start to build the overall structure
    of the solution, starting from the IA templates.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在根据上述三个模型的特点完成IA解决方案设计后，开发者开始构建解决方案的整体结构，从IA模板开始。
- en: Example 1 – Creating the solution structure from IA templates
  id: totrans-88
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 示例1 – 从IA模板创建解决方案结构
- en: 'Instead of jumping into the development of the business logic and Objects,
    we want to create the solution design structure to ensure that the coordination
    between the different Processes and Work Queues behave as intended. In this example,
    we will build the solution structure from nine high-level steps:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不想直接进入业务逻辑和对象的开发，而是想创建解决方案设计结构，以确保不同流程和工作队列之间的协调按预期进行。在这个例子中，我们将从九个高级步骤构建解决方案结构：
- en: Use **Save As** on one of the templates from [*Chapter 7*](B18416_07.xhtml#_idTextAnchor114)
    to create the overall Process structure.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用来自[*第7章*](B18416_07.xhtml#_idTextAnchor114)中的一个模板的**另存为**来创建整体流程结构。
- en: Create the Work Queues.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建工作队列。
- en: Change the Data Items on the `Main Page` of each Process and **Get Next Item**
    to reference the newly created Work Queues.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在每个流程的`主页`上更改数据项和**获取下一个项目**，以便引用新创建的工作队列。
- en: Modify Process 1 of our solution to add Pages related to calling the EC and
    GAI ML model predictions directly.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改我们的解决方案的流程1，以添加直接调用EC和GAI ML模型预测相关的页面。
- en: Change the Data Items on the `IA Data` Page of each Process, which store the
    Tags, Statuses, and Item Data Fields that are used to keep Item Data consistent
    across different Work Queues of the solution.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在每个流程的`IA数据`页面更改数据项，这些数据项存储用于在解决方案的不同工作队列中保持项目数据一致性的标签、状态和项目数据字段。
- en: Find and replace the `IA Data` Page Data Items in Process **01 - Processing
    Refunds** to fix some of the broken references to renamed Data Items. Fix the
    remaining issues by hand.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在流程 **01 - 处理退款** 中的 `IA 数据` 页面数据项中查找并替换，以修复一些对已重命名数据项的损坏引用。通过手动方式修复剩余问题。
- en: Find and replace the `IA Data` Page Data Items in Process **02 – Email Classifier
    HITL Review** to fix the broken references to renamed Data Items. Delete unneeded
    logic to update Work Queue 1 when the review is complete.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在流程 **02 – 邮件分类器 HITL 审查** 中的 `IA 数据` 页面数据项中查找并替换，以修复对已重命名数据项的损坏引用。删除在审查完成后更新工作队列
    1 的不需要的逻辑。
- en: Find and replace the `IA Data` Page Data Items in Process **03 – Entity Recognition**
    to fix the broken references to renamed Data Items. Fix the remaining issues by
    hand.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在流程 **03 – 实体识别** 中查找并替换 `IA 数据` 页面的数据项，以修复对已重命名数据项的损坏引用。通过手动方式修复剩余问题。
- en: Find and replace the `IA Data` Page Data Items in Process **04 – Entity Recognition**
    **HITL Review**.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在流程 **04 – 实体识别 HITL 审查** 中查找并替换 `IA 数据` 页面的数据项。
- en: Let’s start off by saving the templates as new Processes.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从保存模板为新流程开始。
- en: Save the template Processes as new Processes
  id: totrans-100
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 将模板“流程”保存为新的“流程”
- en: 'If we look at *Figure 11**.1*, our solution is basically template 3 from [*Chapter
    7*](B18416_07.xhtml#_idTextAnchor114), with the HITL Review Process and Queue
    added twice. Let’s open the relevant Process templates and save them as new Processes:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如果查看 *图 11*.1*，我们的解决方案基本上是第 7 章中的模板 3 [(*第 7 章*](B18416_07.xhtml#_idTextAnchor114)，增加了两次
    HITL 审查流程和队列。让我们打开相关的流程模板并将它们保存为新流程：
- en: Navigate to the Studio section of BP. Create a new Group named *Ch11* under
    Processes.
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 BP 的工作室部分。在流程下创建一个名为 *Ch11* 的新组。
- en: Expand the *Ch7* | *IA Template 3 - 3 Process 3* *Queue* Group.
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开导航到 *Ch7* | *IA 模板 3 - 3 流程 3* *队列* 组。
- en: Open the **01 - Business Logic** Process. Use *File* | *Save As* to save this
    as a new Process named **01 - Processing Refunds** in the *Ch11* Group. Close
    the resulting Process Studio window.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 **01 - 业务逻辑** 流程。使用 *文件* | *另存为* 将其保存为名为 **01 - 处理退款** 的新流程，位于 *Ch11* 组中。关闭生成的流程工作室窗口。
- en: Open the **02 - ML Prediction** Process. Use *File* | *Save As* to save this
    as a new Process named **03 - Entity Recognition** (note the renaming from 02
    to 03) in the *Ch11* Group. Close the resulting Process Studio window.
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 **02 - ML 预测** 流程。使用 *文件* | *另存为* 将其保存为名为 **03 - 实体识别** 的新流程（注意从 02 到 03
    的重命名），位于 *Ch11* 组中。关闭生成的流程工作室窗口。
- en: Open the **03 - HITL Review** Process. Use *File* | *Save As* to save this as
    a new Process named **04 - Entity Recognition HITL Review** (note the renaming
    from 03 to 04) in the *Ch11* Group. Keep the Process Studio window open.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 **03 - HITL 审查** 流程。使用 *文件* | *另存为* 将其保存为名为 **04 - 实体识别 HITL 审查** 的新流程（注意从
    03 到 04 的重命名），位于 *Ch11* 组中。保持流程工作室窗口打开。
- en: With the **04 - Entity Recognition HITL Review** Process still open, use *File*
    | *Save As* to save this as a new Process named **02 - Email Classifier HITL Review**
    in the *Ch11* Group. Close the resulting Process Studio window.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **04 - 实体识别 HITL 审查** 流程仍然打开的情况下，使用 *文件* | *另存为* 将其保存为名为 **02 - 邮件分类器 HITL
    审查** 的新流程，位于 *Ch11* 组中。关闭生成的流程工作室窗口。
- en: 'Verify that your *Ch11* Group contains the following four Processes:'
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证你的 *Ch11* 组包含以下四个流程：
- en: '![Figure 11.2: The contents of the Processes in Group Ch11](img/B18416_11_2.jpg)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.2：Ch11 组中流程的内容](img/B18416_11_2.jpg)'
- en: 'Figure 11.2: The contents of the Processes in Group Ch11'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.2：Ch11 组中流程的内容
- en: Create the Work Queues
  id: totrans-111
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建工作队列
- en: 'The next step needed to create a functioning solution structure is to create
    the four Work Queues:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个功能解决方案结构的下一步是创建四个工作队列：
- en: Navigate to the *System* | *Workflows* | *Work Queues* area of BP.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 BP 的 *系统* | *工作流* | *工作队列* 区域。
- en: Right-click on the *Queues* area and create a new Group named *Ch11*.
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击 *队列* 区域并创建一个名为 *Ch11* 的新组。
- en: Create four Work Queues inside the *Ch11* Group. Name the Queues identically
    to the Processes shown in *Figure 11**.2*. Leave the Key Names as *Field 1* for
    the time being.
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 *Ch11* 组内创建四个工作队列。将队列名称与 *图 11*.2* 中显示的流程名称相同。暂时将键名称保留为 *字段 1*。
- en: 'Verify that the *Ch11* Group in Work Queues looks like the following:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证工作队列中的 *Ch11* 组看起来如下：
- en: '![Figure 11.3: The contents of the Work Queues in Group Ch11](img/B18416_11_3.jpg)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.3：Ch11 组中工作队列的内容](img/B18416_11_3.jpg)'
- en: 'Figure 11.3: The contents of the Work Queues in Group Ch11'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.3：Ch11 组中工作队列的内容
- en: We’ve finished creating the Work Queues and Process solution structure. Next,
    we need to change the Processes to match the solution diagram in *Figure 11**.1*.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经完成了工作队列和过程解决方案结构的创建。接下来，我们需要更改处理过程以匹配 *图 11*.1* 中的解决方案图。
- en: Modify the template’s Work Queue Data Items
  id: totrans-120
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 修改模板的工作队列数据项
- en: 'The arrows in the solution diagram in *Figure 11**.1* show which Work Queues
    each Process needs to interact with. For each Process, we need to create a Data
    Item referencing each Work Queue that it has an *outbound arrow* to, in addition
    to its own Work Queue. The complete list of Data Items needed for each Process’
    `Main Page` is shown in the following table:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 在 *图 11*.1* 的解决方案图中，箭头显示了每个处理过程需要与之交互的工作队列。对于每个处理过程，我们需要创建一个数据项，引用它有 *出向箭头*
    的每个工作队列，以及它自己的工作队列。每个处理过程 `主页面` 所需的数据项完整列表如下表所示：
- en: '| **Process Name** | **Data** **Item Name** | **Data Item** **Initial Value**
    |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| **过程名称** | **数据项名称** | **数据项初始值** |'
- en: '| **01 -** **Processing Refunds** | Queue Name | **01 -** **Processing Refunds**
    |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| **01 -** **处理退款** | 队列名称 | **01 -** **处理退款** |'
- en: '| **01 -** **Processing Refunds** | Queue Name 2 | **02 - Email Classifier**
    **HITL Review** |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| **01 -** **处理退款** | 队列名称 2 | **02 - 邮件分类器** **HITL 审查** |'
- en: '| **01 -** **Processing Refunds** | Queue Name 3 | **03 -** **Entity Recognition**
    |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| **01 -** **处理退款** | 队列名称 3 | **03 -** **实体识别** |'
- en: '| **02 - Email Classifier** **HITL Review** | Queue Name 2 | **02 - Email Classifier**
    **HITL Review** |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| **02 - 邮件分类器** **HITL 审查** | 队列名称 2 | **02 - 邮件分类器** **HITL 审查** |'
- en: '| **03 -** **Entity Recognition** | Queue Name | **01 -** **Processing Refunds**
    |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| **03 -** **实体识别** | 队列名称 | **01 -** **处理退款** |'
- en: '| **03 -** **Entity Recognition** | Queue Name 3 | **03 -** **Entity Recognition**
    |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| **03 -** **实体识别** | 队列名称 3 | **03 -** **实体识别** |'
- en: '| **03 -** **Entity Recognition** | Queue Name 4 | **04 - Entity Recognition**
    **HITL Review** |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
  zh: '| **03 -** **实体识别** | 队列名称 4 | **04 - 实体识别** **HITL 审查** |'
- en: '| **04 - Entity Recognition** **HITL Review** | Queue Name | **01 -** **Processing
    Refunds** |'
  id: totrans-130
  prefs: []
  type: TYPE_TB
  zh: '| **04 - 实体识别** **HITL 审查** | 队列名称 | **01 -** **处理退款** |'
- en: '| **04 - Entity Recognition** **HITL Review** | Queue Name 4 | **04 - Entity
    Recognition** **HITL Review** |'
  id: totrans-131
  prefs: []
  type: TYPE_TB
  zh: '| **04 - 实体识别** **HITL 审查** | 队列名称 4 | **04 - 实体识别** **HITL 审查** |'
- en: 'Table 11.2: The Data Items needed to store the Work Queue names'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 表 11.2：存储工作队列名称所需的数据项
- en: 'Let’s edit each Process to use the correct Queues:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们编辑每个处理过程以使用正确的队列：
- en: Open Process **01 - Processing Refunds** in the Process Studio.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在过程工作室中打开 **01 - 处理退款** 处理过程。
- en: Navigate to the `Main Page`.
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 `主页面`。
- en: Modify the Data Items in the *Process Settings* Block to match rows 1 to 3 of
    *Table 11.2*. Ensure that the Data Items have the *Hide from other pages in the
    process* box unticked.
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改 *过程设置* 块中的数据项以匹配 *表 11.2* 的第 1 - 3 行。确保数据项的 *在过程的其他页面中隐藏* 复选框未被勾选。
- en: Modify the *two* **Get Next Item** Stages so that they use the Queue that is
    named identically to the current Process. For **01 - Processing Refunds**, set
    *Queue Name* to **[****Queue Name]**.
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改 *两个* **获取下一个项目** 阶段，使它们使用与当前处理过程同名队列。对于 **01 - 处理退款**，将 *队列名称* 设置为 **[****队列名称]**。
- en: Repeat *steps 1 - 4* for the three other Processes. For *step 3*, use row 4
    for Process 2, rows 5 - 7 for Process 3, and rows 8 - 9 for Process 4\. For *step
    4*, use **[Queue Name 2]** for Process 2, **[Queue Name 3]** for Process 3, and
    **[Queue Name 4]** for Process 4.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对其他三个处理过程重复 *步骤 1 - 4*。对于 *步骤 3*，使用 Process 2 的第 4 行，Process 3 的第 5 - 7 行，以及
    Process 4 的第 8 - 9 行。对于 *步骤 4*，使用 **[队列名称 2]** 作为 Process 2，**[队列名称 3]** 作为 Process
    3，以及 **[队列名称 4]** 作为 Process 4。
- en: 'Verify that for Process **01 - Processing Refunds**, you have the following:'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证对于 **01 - 处理退款** 处理过程，你有以下内容：
- en: '![Figure 11.4: The three Queue Data Items for Process 1](img/B18416_11_4.jpg)'
  id: totrans-140
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.4：处理 1 的三个队列数据项](img/B18416_11_4.jpg)'
- en: 'Figure 11.4: The three Queue Data Items for Process 1'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.4：处理 1 的三个队列数据项
- en: 'For Process **02 - Email Classifier HITL Review**, you should have this:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 **02 - 邮件分类器 HITL 审查** 处理过程，你应该有如下内容：
- en: '![Figure 11.5: The Queue Data Item for Process 2](img/B18416_11_5.jpg)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.5：处理 2 的队列数据项](img/B18416_11_5.jpg)'
- en: 'Figure 11.5: The Queue Data Item for Process 2'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.5：处理 2 的队列数据项
- en: 'For Process **03 - Entity Recognition**, you should have this:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 **03 - 实体识别** 处理过程，你应该有如下内容：
- en: '![Figure 11.6: The three Queue Data Items for Process 3](img/B18416_11_6.jpg)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.6：处理 3 的三个队列数据项](img/B18416_11_6.jpg)'
- en: 'Figure 11.6: The three Queue Data Items for Process 3'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.6：处理 3 的三个队列数据项
- en: 'For Process **04 - Entity Recognition HITL Review**, you should have this:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 对于**04 - 实体识别HITL审查**过程，你应该有如下内容：
- en: '![Figure 11.7: The two Queue Data Items for Process 4](img/B18416_11_7.jpg)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![图11.7：过程4的两个队列数据项](img/B18416_11_7.jpg)'
- en: 'Figure 11.7: The two Queue Data Items for Process 4'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.7：过程4的两个队列数据项
- en: Ensure that you save the Processes so that you don’t lose your changes. Next,
    let’s add the missing ML logic Pages to Process **01 - Processing Refunds**, as
    there are additional ML predictions that we need to call that aren’t present in
    the template.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 确保保存过程，以免丢失更改。接下来，让我们将缺少的机器学习逻辑页面添加到**01 - 处理退款**过程中，因为我们需要调用一些模板中不存在的额外机器学习预测。
- en: Add missing ML Pages to 01 - Processing Refunds
  id: totrans-152
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 将缺少的机器学习页面添加到01 - 处理退款
- en: 'We’ve started off this example by cloning *IA Template 3*. The template doesn’t
    have Process 1 make any ML predictions directly. However, our solution requires
    that Process 1 directly predicts using the EC and GAI models. Our solution also
    needs to randomly sample the EC model. Finally, we also need to push data into
    two Queues instead of just one. Let’s add these changes to Process 1 by cloning
    existing Pages from the other templates:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先通过克隆*IA模板3*开始了这个示例。该模板没有让过程1直接进行任何机器学习预测。然而，我们的解决方案需要过程1直接使用EC和GAI模型进行预测。我们的解决方案还需要随机采样EC模型。最后，我们还需要将数据推入两个队列而不是一个。让我们通过克隆其他模板中的现有页面来将这些更改添加到过程1中：
- en: Open Process **03 - Entity Recognition** in the Process Studio.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在过程工作室中打开**03 - 实体识别**过程。
- en: Right-click on the `01 ML Prediction` Page tab and select **Copy**.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击`01 机器学习预测`页面标签并选择**复制**。
- en: '![Figure 11.8: Right-click on the 01 ML Prediction Page in Process 3 and select
    Copy](img/B18416_11_8.jpg)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
  zh: '![图11.8：在过程3中右键单击01机器学习预测页面并选择复制](img/B18416_11_8.jpg)'
- en: 'Figure 11.8: Right-click on the 01 ML Prediction Page in Process 3 and select
    Copy'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.8：在过程3中右键单击01机器学习预测页面并选择复制
- en: Open Process **01 - Processing Refunds** in the Process Studio.
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在过程工作室中打开**01 - 处理退款**过程。
- en: Right-click on the `Main Page` tab and select **Paste**.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击`主页面`标签并选择**粘贴**。
- en: '![Figure 11.9: Right-click on Main Page in Process 1 and select Paste](img/B18416_11_9.jpg)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![图11.9：在过程1中右键单击主页面并选择粘贴](img/B18416_11_9.jpg)'
- en: 'Figure 11.9: Right-click on Main Page in Process 1 and select Paste'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.9：在过程1中右键单击主页面并选择粘贴
- en: Rename the newly pasted Page **02a Email** **Classifier Prediction**.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新粘贴的页面重命名为**02a 电子邮件** **分类器预测**。
- en: Right-click on the `Main Page` tab and select **Paste** again.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击`主页面`标签并再次选择**粘贴**。
- en: Rename the newly pasted Page **05 Generative** **AI Prediction**.
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新粘贴的页面重命名为**05 生成式** **AI预测**。
- en: Switch back to Process **03 - Entity Recognition** in the Process Studio.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在过程工作室中切换回**03 - 实体识别**过程。
- en: Right-click on the `02 Random Sampling` Page tab and select **Copy**.
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击`02 随机采样`页面标签并选择**复制**。
- en: Switch back to Process **01 - Processing Refunds** in the Process Studio.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在过程工作室中切换回**01 - 处理退款**过程。
- en: Right-click on the `Main Page` tab and select **Paste**.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击`主页面`标签并选择**粘贴**。
- en: Rename the newly pasted Page **02b** **Random Sampling**.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新粘贴的页面重命名为**02b 随机采样**。
- en: Rename the `02 Push to Queue` Page **02d Push to** **Queue 3**.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`02 推送到队列`页面重命名为**02d 推送到** **队列3**。
- en: Right-click on the `02d Push to Queue 3` Page tab and select **Copy**.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击`02d 推送到队列3`页面标签并选择**复制**。
- en: Right-click on the `Main Page` tab and select **Paste**.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击`主页面`标签并选择**粘贴**。
- en: Rename the newly pasted Page to **02c Push to** **Queue 2**.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新粘贴的页面重命名为**02c 推送到** **队列2**。
- en: Modify the *Work* Block on the `Main Page` so that it looks like the following.
    The additions to the Block are shown in bold font.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改`主页面`上的*工作*块，使其看起来如下。块中的添加内容以粗体显示。
- en: '![Figure 11.10: Add the new Pages to the Work Block of Process 01 - Processing
    Refunds](img/B18416_11_10.jpg)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![图11.10：将新页面添加到过程01 - 处理退款的工作块中](img/B18416_11_10.jpg)'
- en: 'Figure 11.10: Add the new Pages to the Work Block of Process 01 - Processing
    Refunds'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.10：将新页面添加到过程01 - 处理退款的工作块中
- en: Now, the `Main Page` for Process 1 has placeholder Pages for the high-level
    steps needed to complete the ML potions of the solution. Our next task will be
    to change the Data Items on the `IA` `Data` Pages.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，过程1的`主页面`为完成解决方案的机器学习部分所需的高级步骤提供了占位符页面。我们的下一个任务将是更改`IA` `数据`页面上的数据项。
- en: Modify each template’s IA Data Pages
  id: totrans-178
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 修改每个模板的IA数据页面
- en: Recall that each Process in our template has a Page named `IA Data` that contains
    Data Items used to coordinate the creation of columns in **Item Data** across
    different Work Queues. There are also Data Items that contain Statuses and Tags
    that control the flow of Work Queue Items across the different Processes. The
    Data Items on these Pages need to be changed to accommodate the solution structure.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，我们模板中的每个流程都有一个名为`IA Data`的页面，其中包含用于协调不同工作队列中**项目数据**列创建的数据项。还有一些包含状态和标签的数据项，用于控制工作队列项目在不同流程中的流动。这些页面上的数据项需要更改以适应解决方案结构。
- en: Process 1, **01 - Processing Refunds**, has the greatest number of Data Items
    (17) on this Page, as its **Item Data** needs to store information concerning
    all three ML models.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 流程1，**01 - 处理退款**，在这个页面上有最多的数据项（17个），因为它的**项目数据**需要存储有关所有三个ML模型的信息。
- en: '| **Data** **Item Name** | **Data** **Item Value** | **Purpose** |'
  id: totrans-181
  prefs: []
  type: TYPE_TB
  zh: '| **数据** **项名称** | **数据** **项值** | **目的** |'
- en: '| Prediction Item Data Field Name - EC | **Prediction -** **EC** | The Item
    Data Field Name that stores the EC model’s predicted result |'
  id: totrans-182
  prefs: []
  type: TYPE_TB
  zh: '| 预测项目数据字段名称 - EC | **预测 -** **EC** | 存储EC模型预测结果的项目数据字段名称 |'
- en: '| Confidence Item Data Field Name - EC | **Confidence -** **EC** | The Item
    Data Field Name that stores the EC model’s confidence score |'
  id: totrans-183
  prefs: []
  type: TYPE_TB
  zh: '| 置信度项目数据字段名称 - EC | **置信度 -** **EC** | 存储EC模型置信分数的项目数据字段名称 |'
- en: '| Prediction Item Data Field Name - ER | **Prediction -** **ER** | The Item
    Data Field Name that stores the ER model’s predicted result |'
  id: totrans-184
  prefs: []
  type: TYPE_TB
  zh: '| 预测项目数据字段名称 - ER | **预测 -** **ER** | 存储ER模型预测结果的项目数据字段名称 |'
- en: '| Reviewed Prediction Item Data Field Name - ER | **Reviewed Prediction -**
    **ER** | The Item Data Field Name that stores the reviewed value of the ER model
    |'
  id: totrans-185
  prefs: []
  type: TYPE_TB
  zh: '| 审查预测项目数据字段名称 - ER | **审查预测 -** **ER** | 存储ER模型审查值的项数据字段名称 |'
- en: '| Prediction Item Data Field Name - GAI | **Prediction -** **GAI** | The Item
    Data Field Name that stores the GAI model’s predicted result |'
  id: totrans-186
  prefs: []
  type: TYPE_TB
  zh: '| 预测项目数据字段名称 - GAI | **预测 -** **GAI** | 存储GAI模型预测结果的项目数据字段名称 |'
- en: '| Confidence Item Data Field Name - GAI | **Confidence -** **GAI** | The Item
    Data Field Name that stores the GAI prediction’s confidence score |'
  id: totrans-187
  prefs: []
  type: TYPE_TB
  zh: '| 置信度项目数据字段名称 - GAI | **置信度 -** **GAI** | 存储GAI预测置信分数的项数据字段名称 |'
- en: '| Queue 1 Item ID Item Data Field Name | **Queue 1** **Item ID** | The Item
    Data Field Name used to store Work Queue 1’s Item ID in other Queues |'
  id: totrans-188
  prefs: []
  type: TYPE_TB
  zh: '| 队列1项目ID项数据字段名称 | **队列1** **项目ID** | 用于在其他队列中存储工作队列1的项目ID的项数据字段名称 |'
- en: '| Queue 2 Item ID Item Data Field Name | **Queue 2** **Item ID** | The Item
    Data Field Name used to store Work Queue 2’s (EC) Item ID in this Queue |'
  id: totrans-189
  prefs: []
  type: TYPE_TB
  zh: '| 队列2项目ID项数据字段名称 | **队列2** **项目ID** | 用于在此队列中存储工作队列2（EC）的项目ID的项数据字段名称 |'
- en: '| Queue 3 Item ID Item Data Field Name | **Queue 3** **Item ID** | The Item
    Data Field Name used to store Work Queue 3’s (ER) Item ID in this Queue |'
  id: totrans-190
  prefs: []
  type: TYPE_TB
  zh: '| 队列3项目ID项数据字段名称 | **队列3** **项目ID** | 用于在此队列中存储工作队列3（ER）的项目ID的项数据字段名称 |'
- en: '| Prediction Complete Status - EC | **Prediction Complete -** **EC** | The
    Status used to indicate that the EC prediction is completed |'
  id: totrans-191
  prefs: []
  type: TYPE_TB
  zh: '| 预测完成状态 - EC | **预测完成 -** **EC** | 该状态用于指示EC预测已完成 |'
- en: '| Prediction Complete Status - GAI | **Prediction Complete -** **GAI** | The
    Status used to indicate that the GAI prediction is completed |'
  id: totrans-192
  prefs: []
  type: TYPE_TB
  zh: '| 预测完成状态 - GAI | **预测完成 -** **GAI** | 该状态用于指示GAI预测已完成 |'
- en: '| Manual Review Not Required Status - ER | **Manual Review Not Required -**
    **ER** | The Status used to indicate that an ER prediction does not need HITL
    review |'
  id: totrans-193
  prefs: []
  type: TYPE_TB
  zh: '| 手动审查无需状态 - ER | **手动审查无需 -** **ER** | 该状态用于指示ER预测不需要HITL审查 |'
- en: '| Manual Review Complete Status - ER | **Manual Review Complete -** **ER**
    | The Status used to indicate that HITL review of an ER prediction is completed
    |'
  id: totrans-194
  prefs: []
  type: TYPE_TB
  zh: '| 手动审查完成状态 - ER | **手动审查完成 -** **ER** | 该状态用于指示ER预测的HITL审查已完成 |'
- en: '| Waiting ML Prediction Tag - ER | **Waiting ML Prediction -** **ER** | The
    Tag used to show that the Item is waiting for an ER model prediction |'
  id: totrans-195
  prefs: []
  type: TYPE_TB
  zh: '| 等待机器学习预测标签 - ER | **等待机器学习预测 -** **ER** | 该标签用于显示项目正在等待ER模型预测 |'
- en: '| Manual Review Required Tag - ER | **Manual Review Required -** **ER** | The
    Tag used to show that the Item is waiting for HITL review of an ER prediction
    |'
  id: totrans-196
  prefs: []
  type: TYPE_TB
  zh: '| 手动审查所需标签 - ER | **手动审查所需 -** **ER** | 该标签用于显示项目正在等待HITL审查ER预测 |'
- en: '| Throw Exception Review Text - ER | **BE** | This is how the reviewer of the
    ER model can indicate to Process 1 that it should throw a Business Exception |'
  id: totrans-197
  prefs: []
  type: TYPE_TB
  zh: '| 抛出异常审查文本 - ER | **BE** | 这是ER模型的审查员如何向流程1指示应抛出业务异常的方式 |'
- en: '| Force HITL Review – EC | **False** | This is a Session Variable that controls
    whether we want to force all EC predictions to undergo review |'
  id: totrans-198
  prefs: []
  type: TYPE_TB
  zh: '| 强制HITL审查 – EC | **False** | 这是一个会话变量，用于控制我们是否希望强制所有EC预测进行审查 |'
- en: 'Table 11.3: 17 Data Items needed for Process 1 on the IA Data Page'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 表11.3：IA数据页面上用于流程1所需的17个数据项
- en: Process 2 (`IA Data` page is far fewer than for Process 1.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 流程2（IA数据页面比流程1少得多）。
- en: '| **Data** **Item Name** | **Data** **Item Value** | **Purpose** |'
  id: totrans-201
  prefs: []
  type: TYPE_TB
  zh: '| **数据** **项名称** | **数据** **项值** | **目的** |'
- en: '| Reviewed Prediction Item Data Field Name - EC | Reviewed Prediction - EC
    | The Item Data Field Name that stores the human corrected EC prediction value
    |'
  id: totrans-202
  prefs: []
  type: TYPE_TB
  zh: '| 审查预测项数据字段名称 - EC | 审查预测 - EC | 存储人工修正的EC预测值的项数据字段名称 |'
- en: '| Review Justification Item Data Field Name - EC | Review Justification - EC
    | The Item Data Field Name that stores the reason why the prediction value has
    been modified |'
  id: totrans-203
  prefs: []
  type: TYPE_TB
  zh: '| 审查理由项数据字段名称 - EC | 审查理由 - EC | 存储预测值被修改原因的项数据字段名称 |'
- en: '| Review Data Created Item Data Field Name - EC | Review Data Created - EC
    | This Item Data Field Name stores whether the review data record has been created
    yet |'
  id: totrans-204
  prefs: []
  type: TYPE_TB
  zh: '| 审查数据已创建项数据字段名称 - EC | 审查数据已创建 - EC | 此项数据字段名称存储审查数据记录是否已创建 |'
- en: '| Manual Review Complete Status - EC | Manual Review Complete - EC | The Status
    used to indicate that HITL review of an EC prediction is completed |'
  id: totrans-205
  prefs: []
  type: TYPE_TB
  zh: '| 手动审查完成状态 - EC | 手动审查完成 - EC | 用于指示EC预测的HITL审查已完成的状况 |'
- en: '| Disable HITL Review - EC | False | This is a Session Variable that can be
    used to disable all HITL reviews for the EC model |'
  id: totrans-206
  prefs: []
  type: TYPE_TB
  zh: '| 禁用HITL审查 - EC | False | 这是一个会话变量，可以用来禁用EC模型的全部HITL审查 |'
- en: '| Force Create Review Data - EC | False | This is a Session Variable that can
    be used to forcibly recreate all review records |'
  id: totrans-207
  prefs: []
  type: TYPE_TB
  zh: '| 强制创建审查数据 - EC | False | 这是一个会话变量，可以用来强制重新创建所有审查记录 |'
- en: 'Table 11.4: Six Data Items needed for Process 2 on the IA Data Page'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 表11.4：IA数据页面上用于流程2所需的6个数据项
- en: 'Process 3 (**03 - Entity Recognition**) needs to communicate with Processes
    1 (**01 - Processing Refunds**) and 4 (**04 - Entity Recognition HITL Review**).
    As a result, there are 11 Data Items to create:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 流程3（**03 - 实体识别**）需要与流程1（**01 - 处理退款**）和流程4（**04 - 实体识别HITL审查**）进行通信。因此，需要创建11个数据项：
- en: '| **Data** **Item Name** | **Data** **Item Value** | **Purpose** |'
  id: totrans-210
  prefs: []
  type: TYPE_TB
  zh: '| **数据** **项名称** | **数据** **项值** | **目的** |'
- en: '| Prediction Item Data Field Name - ER | Prediction - ER | The Item Data Field
    Name that stores the ER model’s predicted result |'
  id: totrans-211
  prefs: []
  type: TYPE_TB
  zh: '| 预测项数据字段名称 - ER | 预测 - ER | 存储ER模型预测结果的项数据字段名称 |'
- en: '| Confidence Item Data Field Name - ER | Confidence - ER | The Item Data Field
    Name that stores the ER model’s prediction confidence score |'
  id: totrans-212
  prefs: []
  type: TYPE_TB
  zh: '| 置信度项数据字段名称 - ER | 置信度 - ER | 存储ER模型预测置信度分数的项数据字段名称 |'
- en: '| Queue 1 Item ID Item Data Field Name | Queue 1 Item ID | The Item Data Field
    Name used to store Work Queue 1’s Item ID in other Queues |'
  id: totrans-213
  prefs: []
  type: TYPE_TB
  zh: '| 队列1项ID项数据字段名称 | 队列1项ID | 用于在其他队列中存储工作队列1的项ID的项数据字段名称 |'
- en: '| Queue 3 Item ID Item Data Field Name | Queue 3 Item ID | The Item Data Field
    Name used to store Work Queue 3’s (ER) Item ID in this Queue |'
  id: totrans-214
  prefs: []
  type: TYPE_TB
  zh: '| 队列3项ID项数据字段名称 | 队列3项ID | 用于在此队列中存储工作队列3（ER）的项ID的项数据字段名称 |'
- en: '| Queue 4 Item ID Item Data Field Name | Queue 4 Item ID | The Item Data Field
    Name used to store Work Queue 4’s (GAI) Item ID in this Queue |'
  id: totrans-215
  prefs: []
  type: TYPE_TB
  zh: '| 队列4项ID项数据字段名称 | 队列4项ID | 用于在此队列中存储工作队列4（GAI）的项ID的项数据字段名称 |'
- en: '| Prediction Complete Status - ER | Prediction Complete - ER | The Status used
    to indicate that the ER prediction is completed |'
  id: totrans-216
  prefs: []
  type: TYPE_TB
  zh: '| 预测完成状态 - ER | 预测完成 - ER | 用于指示ER预测已完成的状况 |'
- en: '| Manual Review Required Tag - ER | Manual Review Required - ER | The Tag used
    to show that the Item is waiting for HITL review of an ER prediction |'
  id: totrans-217
  prefs: []
  type: TYPE_TB
  zh: '| 手动审查所需标签 - ER | 手动审查所需 - ER | 用于显示项正在等待ER预测的HITL审查的标签 |'
- en: '| Manual Review Not Required Status - ER | Manual Review Not Required - ER
    | The Status used to indicate that an ER prediction does not need HITL review
    |'
  id: totrans-218
  prefs: []
  type: TYPE_TB
  zh: '| 不需要手动审查状态 - ER | 不需要手动审查 - ER | 用于指示ER预测不需要HITL审查的状况 |'
- en: '| Waiting ML Prediction Tag - ER | Waiting ML Prediction - ER | The Tag used
    to show that the Item is waiting for an ER model prediction |'
  id: totrans-219
  prefs: []
  type: TYPE_TB
  zh: '| 等待ML预测标签 - ER | 等待ML预测 - ER | 用于显示项正在等待ER模型预测的标签 |'
- en: '| Manual Review Required Tag - ER | Manual Review Required - ER | The Tag used
    to show that the Item is waiting for HITL review of an ER prediction |'
  id: totrans-220
  prefs: []
  type: TYPE_TB
  zh: '| 手动审查所需标签 - ER | 手动审查所需 - ER | 用于显示项目正在等待HITL审查ER预测的标签 |'
- en: '| Force HITL Review - ER | False | This is a Session Variable that controls
    whether we want to force all ER predictions to undergo review |'
  id: totrans-221
  prefs: []
  type: TYPE_TB
  zh: '| 强制HITL审查 - ER | False | 这是一个会话变量，用于控制我们是否希望强制所有ER预测进行审查 |'
- en: 'Table 11.5: 11 Data Items needed for Process 3 on the IA Data Page'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 表11.5：IA数据页面流程3所需的11个数据项
- en: 'Process 4 (**04 - Entity Recognition HITL Review** ) has eight Data Items to
    create:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 流程4（**04 - 实体识别HITL审查**）有八个数据项需要创建：
- en: '| **Data** **Item Name** | **Data** **Item Value** | **Purpose** |'
  id: totrans-224
  prefs: []
  type: TYPE_TB
  zh: '| **数据** **项名称** | **数据** **项值** | **目的** |'
- en: '| Reviewed Prediction Item Data Field Name - ER | Reviewed Prediction - ER
    | The Item Data Field Name that stores the reviewed value of the ER model |'
  id: totrans-225
  prefs: []
  type: TYPE_TB
  zh: '| 已审查预测项数据字段名称 - ER | 已审查预测 - ER | 存储ER模型审查值的项数据字段名称 |'
- en: '| Review Justification Item Data Field Name - ER | Review Justification - ER
    | The Item Data Field Name that stores the reason why the prediction value has
    been modified |'
  id: totrans-226
  prefs: []
  type: TYPE_TB
  zh: '| 审查理由项目数据字段名称 - ER | 审查理由 - ER | 存储预测值修改原因的项目数据字段名称 |'
- en: '| Review Data Created Item Data Field Name - ER | Review Data Created - ER
    | This Item Data Field Name stores whether the review data record has been created
    yet |'
  id: totrans-227
  prefs: []
  type: TYPE_TB
  zh: '| 审查数据创建项目数据字段名称 - ER | 审查数据创建 - ER | 该项目数据字段名称存储审查数据记录是否已创建 |'
- en: '| Queue 1 Item ID Item Data Field Name | Queue 1 Item ID | The Item Data Field
    Name used to store Work Queue 1’s Item ID in other Queues |'
  id: totrans-228
  prefs: []
  type: TYPE_TB
  zh: '| 队列1项目ID项目数据字段名称 | 队列1项目ID | 用于在其他队列中存储工作队列1的项目ID的项目数据字段名称 |'
- en: '| Manual Review Complete Status - ER | Manual Review Complete - ER | The Status
    used to indicate that HITL review of an ER prediction is completed |'
  id: totrans-229
  prefs: []
  type: TYPE_TB
  zh: '| 手动审查完成状态 - ER | 手动审查完成 - ER | 用于表示HITL审查ER预测已完成的状态 |'
- en: '| Manual Review Required Tag - ER | Manual Review Required - ER | The Tag used
    to show that the Item is waiting for HITL review of an ER prediction |'
  id: totrans-230
  prefs: []
  type: TYPE_TB
  zh: '| 手动审查所需标签 - ER | 手动审查所需 - ER | 用于显示项目正在等待HITL审查ER预测的标签 |'
- en: '| Disable HITL Review - ER | False | This is a Session Variable that can be
    used to disable all HITL reviews for the ER model |'
  id: totrans-231
  prefs: []
  type: TYPE_TB
  zh: '| 禁用HITL审查 - ER | False | 这是一个会话变量，可以用来禁用ER模型的全部HITL审查 |'
- en: '| Force Create Review Data - ER | False | This is a Session Variable that can
    be used to forcibly recreate all review records |'
  id: totrans-232
  prefs: []
  type: TYPE_TB
  zh: '| 强制创建审查数据 - ER | False | 这是一个会话变量，可以用来强制重新创建所有审查记录 |'
- en: 'Table 11.6: Eight Data Items needed for Process 4 on the IA Data Page'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 表11.6：IA数据页面流程4所需的8个数据项
- en: Now let’s make changes to the `IA Data` Pages according to the tables above.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们根据上面的表格对`IA数据`页面进行更改。
- en: Open the **01 - Processing Refunds** Process in the Process Studio.
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在流程工作室中打开**01 - 处理退款**流程。
- en: Delete all of the Data Items on the `IA` `Data` Page.
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除`IA` `数据`页面上的所有数据项。
- en: Create new Data Items on this Page according to *Table 11.3*. All of the Data
    Items need to be global with Data Type `Text`. The only exceptions are the Session
    Variables, which also need to be global, but with Data Type `Flag` and the Exposure
    set to *Session*.
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据表11.3在此页面上创建新的数据项。所有数据项都需要是全局的，数据类型为`Text`。唯一的例外是会话变量，它们也需要是全局的，但数据类型为`Flag`，曝光设置为*会话*。
- en: Repeat steps 1 to 3, except with the other Processes. Process 2 should create
    Data Items according to *Table 11.4*, Process 3 should use *Table 11.5*, and Process
    4 should use *Table 11.6*.
  id: totrans-238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复步骤1到3，除了其他流程。流程2应根据*表11.4*创建数据项，流程3应使用*表11.5*，流程4应使用*表11.6*。
- en: After recreating the Data Items on the `IA Data` Page, we will have numerous
    broken references to previous Data Items. We will be fixing these next.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 在重新创建`IA数据`页面上的数据项后，我们将有许多指向先前数据项的断开引用。我们将在下一步修复这些问题。
- en: Fix IA Data Page references and logic for Process 1
  id: totrans-240
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 修复IA数据页面在流程1中的引用和逻辑。
- en: 'Recall that Process 1 is supposed to hold the main business logic, perform
    the EC prediction, and perform the GAI prediction. While we could fix the broken
    Data Item references by going through the Process Studio, clicking on the *Errors*
    button, and finding each error, we’ll speed up our work by exporting the Process
    as XML, and doing a find/replace. Then we’ll re-import the Process and fix the
    remaining issues by hand. Let’s start with the changes that are required for Process
    1:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，流程1应该包含主要业务逻辑，执行EC预测，并执行GAI预测。虽然我们可以通过流程工作室，点击*错误*按钮，并找到每个错误来修复损坏的数据项引用，但我们可以通过将流程导出为XML，并进行查找/替换来加快我们的工作。然后我们将重新导入流程，并手动修复剩余的问题。让我们从流程1所需的更改开始：
- en: Open the **01 - Processing Refunds** Process in the Process Studio.
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在流程工作室中打开**01 - 处理退款**流程。
- en: Click on *File* | *Export* | *This Process*. Save the `.bpprocess` file to a
    location of your choice. Close the Process Studio.
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击*文件* | *导出* | *此流程*。将`.bpprocess`文件保存到您选择的文件夹。关闭流程工作室。
- en: Open the `.bpprocess` file in a text editor, such as Notepad.
  id: totrans-244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文本编辑器中打开`.bpprocess`文件，例如记事本。
- en: 'Perform the seven following find/replaces in your text editor. Save the `.``bpprocess`
    file:'
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的文本编辑器中执行以下七个查找/替换。保存`.``bpprocess`文件：
- en: '| **Find Text** | **Replace Text** |'
  id: totrans-246
  prefs: []
  type: TYPE_TB
  zh: '| **查找文本** | **替换文本** |'
- en: '| [Manual Review Complete Status] | [Manual Review Complete Status - ER] |'
  id: totrans-247
  prefs: []
  type: TYPE_TB
  zh: '| [手动审查完成状态] | [手动审查完成状态 - ER] |'
- en: '| [Manual Review Not Required Status] | [Manual Review Not Required Status
    - ER] |'
  id: totrans-248
  prefs: []
  type: TYPE_TB
  zh: '| [无需手动审查状态] | [无需手动审查状态 - ER] |'
- en: '| [Manual Review Required Tag] | [Manual Review Required Tag - ER] |'
  id: totrans-249
  prefs: []
  type: TYPE_TB
  zh: '| [手动审查所需标签] | [手动审查所需标签 - ER] |'
- en: '| [Waiting ML Prediction Tag] | [Waiting ML Prediction Tag - ER] |'
  id: totrans-250
  prefs: []
  type: TYPE_TB
  zh: '| [等待ML预测标签] | [等待ML预测标签 - ER] |'
- en: '| [Throw Exception Review Text] | [Throw Exception Review Text - ER] |'
  id: totrans-251
  prefs: []
  type: TYPE_TB
  zh: '| [抛出异常审查文本] | [抛出异常审查文本 - ER] |'
- en: '| [Force HITL Review] | [Force HITL Review - EC] |'
  id: totrans-252
  prefs: []
  type: TYPE_TB
  zh: '| [强制HITL审查] | [强制HITL审查 - EC] |'
- en: '| [Reviewed Prediction Item Data Field Name] | [Reviewed Prediction Item Data
    Field Name - ER] |'
  id: totrans-253
  prefs: []
  type: TYPE_TB
  zh: '| [已审查预测项数据字段名称] | [已审查预测项数据字段名称 - ER] |'
- en: Table 11.7 – Seven find/replaces for Process 1
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 表11.7 – 流程1的七个查找/替换
- en: 5. Return to the main BP software. Click on *File* | *Import* | *Process / Object*.
    Choose the `.bpprocess` file that was just saved and overwrite the existing Process.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 5. 返回主BP软件。点击*文件* | *导入* | *流程/对象*。选择刚刚保存的`.bpprocess`文件，并覆盖现有流程。
- en: 6. Open the **01 - Processing Refunds** Process in the Process Studio.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 6. 在流程工作室中打开**01 - 处理退款**流程。
- en: 7. Open the **02a Email Classifier Prediction** Page. On this Page, we’ll need
    to rename the Inputs of three Action Stages.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 7. 打开**02a 电子邮件分类器预测**页面。在这个页面上，我们需要重命名三个动作阶段的输入。
- en: 8. Open the Properties of the **Add [Confidence Score] to [Item Data]** Action.
    Change the *Field Name* Input **[Confidence Item Data Field name -** **EC]**.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 8. 打开**[将[置信度分数]添加到[项目数据]**]动作的属性。更改*字段名称*输入**[置信度项目数据字段名称 -** **EC]**。
- en: 9. Open the Properties of the **Add [Prediction] to [Item Data]** Action. Change
    the *Field Name* Input **[Prediction Item Data Field name -** **EC]**.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 9. 打开**[将[预测]添加到[项目数据]**]动作的属性。更改*字段名称*输入**[预测项目数据字段名称 -** **EC]**。
- en: 10. Open the Properties of the `Set` **[Status] to "Prediction Complete"** Action.
    Change the *Status* Input **[Prediction Complete Status -** **EC]**.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 10. 打开**[将状态设置为"预测完成"**]动作的属性。更改*状态*输入**[预测完成状态 -** **EC]**。
- en: 11. Open the `02b Random Sampling` Page. On this Page, we’ll delete four Stages
    and add a new Page Stage.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 11. 打开`02b 随机抽样`页面。在这个页面上，我们将删除四个阶段并添加一个新的页面阶段。
- en: 12. Delete the four Stages between *Require Manual Review?* and *End*. These
    Stages are unneeded because we don’t need to wait for the EC prediction to be
    reviewed in order to continue automated processing.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 12. 删除*需要手动审查？*和*结束*之间的四个阶段。这些阶段是不必要的，因为我们不需要等待EC预测被审查才能继续自动化处理。
- en: 13. Create a new Page reference to `02c Push to Queue 2`. Connect the *Yes*
    path of the Decision Stage to this Page Stage and connect the Page Stage to *End*.
    This creates the logic where a randomly sampled prediction gets pushed into a
    new Queue for review.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 13. 创建一个新的页面引用到`02c Push to Queue 2`。将决策阶段的*是*路径连接到这个页面阶段，并将页面阶段连接到*结束*。这创建了一个逻辑，随机抽样的预测被推入一个新的队列进行审查。
- en: 14. Connect the *No* path directly to *End*.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 14. 将*否*路径直接连接到*结束*。
- en: 15. Open the `02c Push to Queue 2` Page. On this Page, we’ll delete one Action
    Stage.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 15. 打开`02c Push to Queue 2`页面。在这个页面上，我们将删除一个动作阶段。
- en: 16. Delete the **Add Tag “Waiting for ML Prediction”** Action. Connect the **Add
    To Queue 2** Action to the **Append “Queue 2 Item ID” to [Item** **Data]** Action.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 16. 删除**添加标签“等待ML预测”**动作。将**添加到Queue 2**动作连接到**将“Queue 2 Item ID”添加到[Item**
    **Data]****动作。
- en: 17. Open the `02d Push to Queue 3` Page. Here, we need to rename a Collection
    and consequently change every other Action Stage on this Page to use this renamed
    Collection. We also need to change the Item Data Field Names that are being used.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 17. 打开`02d Push to Queue 3`页面。在这里，我们需要重命名一个集合，并相应地更改此页面上使用此重命名集合的每个其他动作阶段。我们还需要更改正在使用的项目数据字段名称。
- en: 18. Rename the Collection from **Queue 2 Item Data** to **Queue 3** **Item Data**.
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 18. 将集合从**Queue 2 Item Data**重命名为**Queue 3** **Item Data**。
- en: 19. Open the Properties of the **Utility - Collection Manipulation:Copy Rows**
    Action. Change the *Output Collection* Output to **Queue 3** **Item Data**.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 19. 打开**实用工具 - 集合操作：复制行**动作的属性。将*输出集合*输出更改为**Queue 3** **Item Data**。
- en: 20. Open the Properties of the **Append “Queue 1 Item ID” to [Queue 2 Item Data]**
    Action. Rename it **Append “Queue 1 Item ID” to [Queue 3 Item Data]**. Change
    the *Collection* Input to be **[Queue 3 Item Data]** and the *Appended Collection*
    Output to **Queue 3** **Item Data**.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 20. 打开**将“Queue 1 Item ID”添加到[Queue 2 Item Data]**动作的属性。将其重命名为**将“Queue 1 Item
    ID”添加到[Queue 3 Item Data]**。将*集合*输入更改为**[Queue 3 Item Data]**，并将*附加集合*输出更改为**Queue
    3** **Item Data**。
- en: 21. Open the Properties of the **Add to Queue 2** Action. Rename it **Add to
    Queue 3**. Change the *Queue Name* Input to **[Queue Name 3]** and the *Data*
    Input to **[Queue 3** **Item Data]**.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 21. 打开**添加到Queue 2**动作的属性。将其重命名为**添加到Queue 3**。将*队列名称*输入更改为**[Queue Name 3]**，并将*数据*输入更改为**[Queue
    3** **Item Data]**。
- en: 22. Open the Properties of the **Append “Queue 2 Item ID” to [Item Data]** Action.
    Rename it **Append “Queue 3 Item ID” to [Item Data]**. Change the *Field Name*
    Input to **[Queue 3 Item ID Item Data** **Field Name]**.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 22. 打开**将“Queue 2 Item ID”添加到[Item Data]**动作的属性。将其重命名为**将“Queue 3 Item ID”添加到[Item
    Data]**。将*字段名称*输入更改为**[Queue 3 Item ID Item Data** **字段名称]**。
- en: 23. Open the `04 Work Step Using the ML Prediction` Page. On this Page, we need
    to change references to **[Prediction Item Data Field Name -** **ER]**.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 23. 打开`04 使用ML预测的工作步骤`页面。在此页面上，我们需要更改对**[Prediction Item Data Field Name -**
    **ER]****的引用。
- en: 24. Open the Properties of the **Set [Prediction] as original prediction** Action.
    Change the *Field Name* Input to **[Prediction Item Data Field Name -** **ER]**.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 24. 打开**将[Prediction]设置为原始预测**动作的属性。将*字段名称*输入更改为**[Prediction Item Data Field
    Name -** **ER]**。
- en: 25. Open the `05 Generative AI Prediction` Page. Here, we need to change references
    to the GAI Item Data Collection Fields and Status.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 25. 打开`05 生成式AI预测`页面。在这里，我们需要更改对GAI项目数据集合字段和状态的引用。
- en: 26. Open the Properties of the **Add [Confidence Score] to [Item Data]** Action.
    Change the *Field Name* Input to **[Confidence Item Data Field name -** **GAI]**.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 26. 打开**将[Confidence Score]添加到[Item Data]**动作的属性。将*字段名称*输入更改为**[Confidence Item
    Data Field name -** **GAI]**。
- en: 27. Open the Properties of the **Add [Prediction] to [Item Data]** Action. Change
    the *Field Name* Input to **[Prediction Item Data Field name -** **GAI]**.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 27. 打开**将[Prediction]添加到[Item Data]**动作的属性。将*字段名称*输入更改为**[Prediction Item Data
    Field name -** **GAI]**。
- en: 28. Open the Properties of the **Set [Status] to “Prediction Complete”** Action.
    Change the *Status* Input to **[Prediction Complete Status -** **GAI]**.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 28. 打开**将[Status]设置为“Prediction Complete”**动作的属性。将*状态*输入更改为**[Prediction Complete
    Status -** **GAI]**。
- en: We’ve finished modifying Process 1\. Let’s continue with Process 2.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经完成了流程1的修改。让我们继续处理流程2。
- en: Fix IA Data Page references for Process 2 and delete unneeded logic
  id: totrans-280
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 修复流程2的IA数据页面引用并删除不需要的逻辑
- en: 'Process 2, contains the HITL review checking logic for the EC model. Again,
    we’ll use the find/replace method to speed up our work:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 流程2包含EC模型的HITL审查检查逻辑。再次，我们将使用查找/替换方法来加快我们的工作：
- en: Open the **02 – Email Classifier HITL Review** Process in the Process Studio.
  id: totrans-282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在流程工作室中打开**02 – 电子邮件分类器HITL审查**流程。
- en: Click on *File* | *Export* | *This Process*. Save the `.bpprocess` file to a
    location of your choice. Close the Process Studio.
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击*文件* | *导出* | *此流程*。将`.bpprocess`文件保存到您选择的位置。关闭流程工作室。
- en: Open the `.bpprocess` file in a text editor, such as Notepad.
  id: totrans-284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文本编辑器中打开`.bpprocess`文件，例如记事本。
- en: Perform the six following find/replaces in your text editor. Save the `.``bpprocess`
    file.
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的文本编辑器中执行以下六个查找/替换操作。保存`.bpprocess`文件。
- en: '| **Find Text** | **Replace Text** |'
  id: totrans-286
  prefs: []
  type: TYPE_TB
  zh: '| **查找文本** | **替换文本** |'
- en: '| [Disable HITL Review] | [Disable HITL Review - EC] |'
  id: totrans-287
  prefs: []
  type: TYPE_TB
  zh: '| [禁用HITL审查] | [禁用HITL审查 - EC] |'
- en: '| [Force Create Review Data] | [Force Create Review Data - EC] |'
  id: totrans-288
  prefs: []
  type: TYPE_TB
  zh: '| [强制创建审查数据] | [强制创建审查数据 - EC] |'
- en: '| [Reviewed Prediction Item Data Field Name] | [Reviewed Prediction Item Data
    Field Name - EC] |'
  id: totrans-289
  prefs: []
  type: TYPE_TB
  zh: '| [已审查预测项目数据字段名称] | [已审查预测项目数据字段名称 - EC] |'
- en: '| [Review Justification Item Data Field Name] | [Review Justification Item
    Data Field Name - EC] |'
  id: totrans-290
  prefs: []
  type: TYPE_TB
  zh: '| [审查理由项目数据字段名称] | [审查理由项目数据字段名称 - EC] |'
- en: '| [Review Data Created Item Data Field Name] | [Review Data Created Item Data
    Field Name - EC] |'
  id: totrans-291
  prefs: []
  type: TYPE_TB
  zh: '| [审查数据创建项目数据字段名称] | [审查数据创建项目数据字段名称 - EC] |'
- en: '| [Manual Review Complete Status] | [Manual Review Complete Status - EC] |'
  id: totrans-292
  prefs: []
  type: TYPE_TB
  zh: '| [手动审查完成状态] | [手动审查完成状态 - EC] |'
- en: Table 11.8 – Six find/replaces for Process 2
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 表11.8 – 流程2的六个查找/替换
- en: 5. Return to the main BP software. Click on *File* | *Import* | *Process / Object*.
    Choose the `.bpprocess` file that was just saved and overwrite the existing Process.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 5. 返回主BP软件。点击 *文件* | *导入* | *过程/对象*。选择刚刚保存的 `.bpprocess` 文件并覆盖现有过程。
- en: 6. Open the `02 Check for Reviewed Predictions` Page. Here, we need to delete
    the logic used to update the Work Queue Item for Work Queue 1 since that is no
    longer needed.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 6. 打开 `02 检查已审查预测` 页面。在这里，我们需要删除用于更新工作队列1项目的工作队列项的逻辑，因为那不再需要了。
- en: 7. Connect the *Review Complete?* Decision Stage’s *No* path directly to an
    *End* Stage.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 7. 将 *审查完成？* 决策阶段的 *否* 路径直接连接到 *结束* 阶段。
- en: 8. Delete all of the Stages shown in the following diagram, as they are related
    to updating Work Queue 1’s Item. Updating Process 1 when a review is complete
    is not needed according to the design.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 8. 删除以下图中显示的所有阶段，因为它们与更新工作队列1的项目相关。根据设计，当审查完成时不需要更新流程1。
- en: '![Figure 11.11: Stages to delete from Page 02 Check for Reviewed Predictions](img/B18416_11_11.jpg)'
  id: totrans-298
  prefs: []
  type: TYPE_IMG
  zh: '![图11.11：从页面02检查已审查预测的删除阶段](img/B18416_11_11.jpg)'
- en: 'Figure 11.11: Stages to delete from Page 02 Check for Reviewed Predictions'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.11：从页面02检查已审查预测的删除阶段
- en: 9. Connect the Anchor under *Set [Item Data]* to Action **Update Status to “Manual**
    **Review Complete”**.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 9. 将 *设置[项目数据]* 下的锚点直接连接到操作 **更新状态为“手动** **审查完成”**。
- en: We’ve now finished making changes to Process 2\. Let’s continue with Process
    3.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经完成了对流程2的更改。让我们继续处理流程3。
- en: Fix IA Data Page references and logic for Process 3
  id: totrans-302
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 修复流程3的IA数据页面引用和逻辑
- en: 'Process 3 performs the ML steps for the ER model. Let’s fix the Item Data references
    for this Process. We’ll again export the Process in `.bpprocess` format, and perform
    find/replaces on the text to speed up our work:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 流程3执行ER模型的ML步骤。让我们修复此流程的项目数据引用。我们再次以 `.bpprocess` 格式导出流程，并在文本上执行查找/替换以加快我们的工作：
- en: Open Process **03 – Entity Recognition** in the Process Studio.
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在流程工作室中打开流程 **03 – 实体识别**。
- en: Click on *File* | *Export* | *This Process*. Save the `.bpprocess` file to a
    location of your choice. Close the Process Studio.
  id: totrans-305
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 *文件* | *导出* | *此过程*。将 `.bpprocess` 文件保存到您选择的位置。关闭流程工作室。
- en: Open the `.bpprocess` file in a text editor, such as Notepad.
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文本编辑器中打开 `.bpprocess` 文件，例如记事本。
- en: Perform the eight following find/replaces in your text editor. Save the `.``bpprocess`
    file.
  id: totrans-307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的文本编辑器中执行以下八个查找/替换。保存 `.bpprocess` 文件。
- en: '| **Find Text** | **Replace Text** |'
  id: totrans-308
  prefs: []
  type: TYPE_TB
  zh: '| **查找文本** | **替换文本** |'
- en: '| [Force HITL Review] | [Force HITL Review - ER] |'
  id: totrans-309
  prefs: []
  type: TYPE_TB
  zh: '| [强制HITL审查] | [强制HITL审查 - ER] |'
- en: '| [Prediction Item Data Field Name] | [Prediction Item Data Field Name - ER]
    |'
  id: totrans-310
  prefs: []
  type: TYPE_TB
  zh: '| [预测项目数据字段名称] | [预测项目数据字段名称 - ER] |'
- en: '| [Confidence Item Data Field Name] | [Confidence Item Data Field Name - ER]
    |'
  id: totrans-311
  prefs: []
  type: TYPE_TB
  zh: '| [置信度项目数据字段名称] | [置信度项目数据字段名称 - ER] |'
- en: '| [Prediction Complete Status] | [Prediction Complete Status - ER] |'
  id: totrans-312
  prefs: []
  type: TYPE_TB
  zh: '| [预测完成状态] | [预测完成状态 - ER] |'
- en: '| [Manual Review Required Status] | [Manual Review Required Status - ER] |'
  id: totrans-313
  prefs: []
  type: TYPE_TB
  zh: '| [手动审查所需状态] | [手动审查所需状态 - ER] |'
- en: '| [Manual Review Not Required Status] | [Manual Review Not Required Status
    - ER] |'
  id: totrans-314
  prefs: []
  type: TYPE_TB
  zh: '| [手动审查不需要状态] | [手动审查不需要状态 - ER] |'
- en: '| [Waiting ML Prediction Tag] | [Waiting ML Prediction Tag - ER] |'
  id: totrans-315
  prefs: []
  type: TYPE_TB
  zh: '| [等待机器学习预测标签] | [等待机器学习预测标签 - ER] |'
- en: '| [Manual Review Required Tag] | [Manual Review Required Tag - ER] |'
  id: totrans-316
  prefs: []
  type: TYPE_TB
  zh: '| [手动审查所需标签] | [手动审查所需标签 - ER] |'
- en: Table 11.9 – Eight find/replaces for Process 3
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 表11.9 – 流程3的八个查找/替换
- en: 5. Return to the main BP software. Click on *File* | *Import* | *Process / Object*.
    Choose the `.bpprocess` file that was just saved and overwrite the existing Process.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 5. 返回主BP软件。点击 *文件* | *导入* | *过程/对象*。选择刚刚保存的 `.bpprocess` 文件并覆盖现有过程。
- en: 6. Open the **03 – Entity Recognition** Process in the Process Studio.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 6. 在流程工作室中打开 **03 – 实体识别** 流程。
- en: 7. Open the `02 Thresholding` Page. On this Page, we’ll replace the **Intelligent**
    **Automation::Get Threshold by Label** Action with a placeholder Calculation Stage.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
- en: 8. Replace the **Utility – Intelligent Automation::Get Threshold by Label**
    Action with a Calculation Stage named *Implement Threshold Logic*. Set the *Expression*
    to **0.8** and *Store Result In* as **Threshold Value**. This will act as a placeholder
    for the actual threshold logic.
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
- en: 9. Open the `03b Push to Queue 3 and Update Queue 1 Item` Page. Rename this
    Page `03b Push to Queue 4 and Update Queue 1 Item`. Here, we need to rename a
    Collection and consequently change every other Action Stage on this Page to use
    this renamed Collection.
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
- en: 10. Rename the **Queue 3 Item Data** Collection **Queue 4** **Item Data**.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
- en: 11. Open the Properties of the **Utility - Collection Manupulation:Copy Rows**
    Action. Change the *Output Collection* Output to **Queue 4** **Item Data**.
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
- en: 12. Open the Properties of the **Append "Queue 2 Item ID" to [Queue 3 Item Data]**
    Action. Rename it to **Append "Queue 3 Item ID" to [Queue 4 Item Data]**. Change
    the *Collection* Input to **[Queue 4 Item Data]**. Change the *Field Name* Input
    to **[Queue 3 Item ID Item Data Field Name]**. Change the *Appended Collection*
    Output to be **Queue 4** **Item Data**.
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
- en: 13. Open the Properties of the **Add to Queue 3** Action. Rename it to **Add
    to Queue 4**. Change the *Queue Name* Input to **[Queue Name 4]** and the *Data*
    Input to be **[Queue 4** **Item Data]**.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
- en: 14. Open the Properties of the **Add Queue 3 Item ID to [Queue 1 Item Data]**
    Action. Rename it to **Add Queue 4 Item ID to [Queue 1 Item Data]**. Change the
    *Field Name* Input to **[Queue 4 Item ID Item Data** **Field Name]**.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
- en: Finally, let’s make the reference changes needed for Process 4.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
- en: Fix IA Data Page references for Process 4
  id: totrans-329
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Process 4 performs the HITL review steps for the ER model. Let’s fix the Item
    Data references for this Process. We only need to perform the find/replaces, no
    other changes to the Process logic are needed:'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
- en: Open the **04 – Entity Recognition HITL Review** Process in the Process Studio.
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on *File* | *Export* | *This Process*. Save the `.bpprocess` file to a
    location of your choice. Close the Process Studio.
  id: totrans-332
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open the `.bpprocess` file in a text editor, such as Notepad.
  id: totrans-333
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Perform the seven following find/replaces in your text editor. Save the `.``bpprocess`
    file.
  id: totrans-334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '| **Find Text** | **Replace Text** |'
  id: totrans-335
  prefs: []
  type: TYPE_TB
- en: '| [Disable HITL Review] | [Disable HITL Review - ER] |'
  id: totrans-336
  prefs: []
  type: TYPE_TB
- en: '| [Force Create Review Data] | [Force Create Review Data - ER] |'
  id: totrans-337
  prefs: []
  type: TYPE_TB
- en: '| [Reviewed Prediction Item Data Field Name] | [Reviewed Prediction Item Data
    Field Name - ER] |'
  id: totrans-338
  prefs: []
  type: TYPE_TB
- en: '| [Review Justification Item Data Field Name] | [Review Justification Item
    Data Field Name - ER] |'
  id: totrans-339
  prefs: []
  type: TYPE_TB
- en: '| [Review Data Created Item Data Field Name] | [Review Data Created Item Data
    Field Name - ER] |'
  id: totrans-340
  prefs: []
  type: TYPE_TB
- en: '| [Manual Review Complete Status] | [Manual Review Complete Status - ER] |'
  id: totrans-341
  prefs: []
  type: TYPE_TB
- en: '| [Manual Review Required Tag] | [Manual Review Required Tag - ER] |'
  id: totrans-342
  prefs: []
  type: TYPE_TB
- en: Table 11.10 – Seven find/replaces for Process 4
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
- en: 5. Return to the main BP software. Click on *File* | *Import* | *Process / Object*.
    Choose the `.bpprocess` file that was just saved and overwrite the existing Process.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
- en: 'We’ve finished creating the structure of the solution design shown in *Figure
    11**.1*. A model solution can be found on GitHub: [https://github.com/PacktPublishing/Intelligent-Automation-with-Blue-Prism/blob/main/ch11/Ex_1_Creating_the_Solution_Structure.bprelease](https://github.com/PacktPublishing/Intelligent-Automation-with-Blue-Prism/blob/main/ch11/Ex_1_Creating_the_Solution_Structure.bprelease).
    The changes that were made to the template are highlighted in orange font on the
    Process diagrams. Process 1 also loads three Items into Work Queue 1 to facilitate
    testing the solution flow. If you’d like, publish the four Processes and run the
    model solution in the Process Studio to confirm that the solution flow matches
    the design.'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
- en: Now that we have the structure of the solution in place, let’s add in some of
    the IA details that we know of for Process 1.
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
- en: Example 2 – Implementing the IA details in Process 1
  id: totrans-347
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: After verifying that the solution structure works, we decide to proceed further
    with the IA implementation. As the EC model is internally developed, we don’t
    have a test API to use just yet.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
- en: 'The previous discussions with the business users and ML team, have led to a
    number of decisions around the review criteria and auditing. These are captured
    in *Table 11.1*. Some of these ML requirements can be implemented even without
    a finalized model. In this example, we’ll be implementing some of those details
    in eight high-level steps:'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
- en: Import the model solution to use as a starting point (optional).
  id: totrans-350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add a mock EC prediction.
  id: totrans-351
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Remove the EC prediction BP logging.
  id: totrans-352
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create an EC model kill switch.
  id: totrans-353
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Change the EC prediction’s random sampling rate to 5%.
  id: totrans-354
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add a mock GAI prediction.
  id: totrans-355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Remove the GAI prediction BP logging.
  id: totrans-356
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a GAI model kill switch.
  id: totrans-357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Download and import the solution structure
  id: totrans-358
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: This is an optional step if you haven’t completed *Example 1*. Download the
    Release from ([https://github.com/PacktPublishing/Intelligent-Automation-with-Blue-Prism/blob/main/ch11/Ex_1_Creating_the_Solution_Structure.bprelease](https://github.com/PacktPublishing/Intelligent-Automation-with-Blue-Prism/blob/main/ch11/Ex_1_Creating_the_Solution_Structure.bprelease))
    and import it into BP. Verify that it contains four Processes, four Work Queues,
    and one Credential.
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 11.12 – The Release contents to start Example 2](img/B18416_11_12.jpg)'
  id: totrans-360
  prefs: []
  type: TYPE_IMG
- en: Figure 11.12 – The Release contents to start Example 2
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
- en: Add a mock EC prediction
  id: totrans-362
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The EC prediction API isn’t finalized yet, but we’d still like to test different
    branches of our Process flow, depending on if the prediction is *refund* or *not
    a refund*. We know that roughly 70/500 = 14% emails received daily will be actual
    refund requests, so let’s create fake predictions using a random number generator,
    which sets the prediction to be *refund* 14% of the time:'
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
- en: Open the **01 – Processing Refunds** Process in the Process Studio.
  id: totrans-364
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open the `02a Email Classifier Prediction` Page and locate the orange Block
    named *Predict*.
  id: totrans-365
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Delete the placeholder *Note*.
  id: totrans-366
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a `Number` Data Item named **Refund Percentage**. Set the Initial Value
    to **14**.
  id: totrans-367
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a `Number` Data Item named **Random Value**.
  id: totrans-368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a `Text` Data Item named **Predicted Value**. Set the Initial Value to
    **Not** **a Refund**.
  id: totrans-369
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add a **Utility – Intelligent Automation::Random Integer In Range** Action.
    Set the *Lower Limit* Input to **1** and the *Upper Limit* Input to **100**. Set
    the *Output* Value to **Random Value**. Link to it from the *Log [Model Version]*
    Calculation Stage.
  id: totrans-370
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add a Decision Stage named *Refund?* Under the Action from the previous step.
    Set the *Expression* to **[Random Value] <= [Refund Percentage]**. Link to this
    from the Action Stage.
  id: totrans-371
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add a Calculation Stage named *Set Predicted Value to Refund*. Set the *Expression*
    to **"Refund"** and *Store Result In* to **Predicted Value**. Link the *Yes* path
    of the *Refund?* Decision Stage to this Stage. Link this Stage to the *Set [Prediction]
    and [Confidence Score]* Multi Calc Stage.
  id: totrans-372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Link the *No* path of the *Refund?* Decision Stage to the *Set [Prediction]
    and [Confidence Score]* Multi Calc Stage.
  id: totrans-373
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open the *Set [Prediction] and [Confidence Score]* Multi Calc Stage. Change
    the Expression of the first row to **[****Predicted Value]**.
  id: totrans-374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Verify that your diagram looks like the following:'
  id: totrans-375
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 11.13 – Create a mock EC prediction](img/B18416_11_13.jpg)'
  id: totrans-376
  prefs: []
  type: TYPE_IMG
- en: Figure 11.13 – Create a mock EC prediction
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
- en: Now that we have the EC mock prediction, let’s delete the model version logging.
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
- en: Remove the EC model logging
  id: totrans-379
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Recall that the EC model calls will be logged on the API server’s side. We don’t
    need to log it from BP. Turning off the logging will reduce the amount of data
    stored in the database.
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
- en: Delete the *Log [Model Version]* Calculation Stage. Link the Stages that were
    before and after this deleted Stage to bridge the gap. Ensure that you link the
    *No* Path of the previous Decision Stage.
  id: totrans-381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open the *Set [Prediction] and [Confidence Score]* Multi Calc Stage. Set *Stage
    logging* to *Errors only*.
  id: totrans-382
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Delete the **temp** and **Model Version** Data Items.
  id: totrans-383
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: While we’re still on the `02a Email Classifier Prediction` Page, we should also
    create a unique kill switch for this model.
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
- en: Create a unique kill switch for the EC prediction
  id: totrans-385
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The kill switch in the template is a placeholder. Let’s put a real one in place
    by creating a Credential and an Environment Variable and editing the kill switch
    logic:'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
- en: Visit *System* | *Security* | *Credentials*.
  id: totrans-387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click *New* and set the Name to **Ch11 EC** **Kill Switch**.
  id: totrans-388
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the *Access Rights* tab. Under *Security Roles*, choose *All Roles*.
    Under *Processes (legacy)*, choose *All Processes*. Under *Resources (legacy)*,
    choose *All Resources*. This is not best practices and is only being done for
    ease of demonstration.
  id: totrans-389
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Visit *System* | *Processes* | *Environment Variables*.
  id: totrans-390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on *Add Variable*. Name it `Text` and the Value to **Ch11 EC** **Kill
    Switch**.
  id: totrans-391
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Return to the Process Studio, to the `02a Email Classifier` `Prediction` Page.
  id: totrans-392
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Change the **Kill Switch Credential Name** Data Item Exposure to *Environment*.
    Set the Name to **Ch11 Example 2 EC Kill** **Switch Name**.
  id: totrans-393
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open the Properties of the **Get Kill Switch Credential** Action. Change the
    *Credential Name* Input to **[Ch11 Example 2 EC Kill** **Switch Name]**.
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We’ve finished creating the kill switch for the EC model. Next, let’s set the
    EC model’s random sampling rate according to the requirements.
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
- en: Change the EC sampling rate to 5%
  id: totrans-396
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'To change the random sampling rate, we’ll create a `Number` Environment Variable
    and set it to *5*. Then we’ll change the diagram to make use of this Environment
    Variable:'
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
- en: Visit *System* | *Processes* | *Environment Variables*.
  id: totrans-398
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on *Add Variable*. Name it `Number` and the Value to **5.0**.
  id: totrans-399
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Return to the Process Studio’s **01 –** **Processing Refunds**.
  id: totrans-400
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open the `02b Random` `Sampling` Page.
  id: totrans-401
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Change the **Random Sampling Rate** Data Item’s Exposure to *Environment*. Choose
    **Ch11 Example 2 EC Random Sampling Target** as the *Name*.
  id: totrans-402
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Change the Expression of the *Require Manual Review?* Decision Stage to **[Force
    HITL Review - EC] OR [Random Number] < [Ch11 Example 2 EC Random** **Sampling
    Target]**.
  id: totrans-403
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We’ve finished implementing some of the requirements for the EC model. Let’s
    move to the GAI model next and create a mock GAI prediction call.
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
- en: Add a mock GAI prediction
  id: totrans-405
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'While the GAI model is available to be called, doing so incurs costs. We still
    want to have a mock GAI call and to save using actual calls until later. For this,
    we’ll simply hard-code an email text message as the result of a GAI prediction:'
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
- en: Open the `05 Generative AI Prediction` Page and locate the orange Block named
    *Predict*.
  id: totrans-407
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Delete the placeholder *Note*.
  id: totrans-408
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a `Text` Data Item named **GAI Email**.
  id: totrans-409
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a Calculation Stage named *Set GAI Email*. Set the *Expression* to **"Your
    refund request was processed automatically"**. Set *Store Result in* to **GAI
    Email**.
  id: totrans-410
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open the *Set [Prediction] and [Confidence Score]* Multi Calc Stage. Change
    the Expression of the first row to **[****GAI Email]**.
  id: totrans-411
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Link Calculation Stage *Log [Model Version]* to Calculation Stage *Set GAI Email*
    and to Multi Calc Stage *Set [Prediction] and [**Confidence Score]*.
  id: totrans-412
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Remove the GAI model logging
  id: totrans-413
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Recall that the GAI model results don’t need to be logged. The input prompt
    is static and the output email is logged in the CRM system. While the model version
    number is returned, we essentially don’t have any control over model rollbacks
    as it’s a third-party service. Turning off the logging will reduce the amount
    of data stored in the database:'
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
- en: Delete the *Log [Model Version]* Calculation Stage. Link the Stages that were
    before and after this deleted Stage to bridge the gap. Ensure that you link the
    *No* Path of the previous Decision Stage.
  id: totrans-415
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open the *Set [Prediction] and [Confidence Score]* Multi Calc Stage. Set *Stage
    logging* to *Errors only*.
  id: totrans-416
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Delete the **temp** and **Model Version** Data Items.
  id: totrans-417
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a unique kill switch for the GAI prediction
  id: totrans-418
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The kill switch in the template is a placeholder. Let’s put a real one in place
    by creating a Credential and an Environment Variable and editing the kill switch
    logic:'
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
- en: Visit *System* | *Security* | *Credentials*.
  id: totrans-420
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click *New* and set the Name to **Ch11 GAI** **Kill Switch**.
  id: totrans-421
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the *Access Rights* tab. Under *Security Roles*, choose *All Roles*.
    Under *Processes (legacy)*, choose *All Processes*. Under *Resources (legacy)*,
    choose *All Resources*. This is not best practice and is only being done for ease
    of demonstration.
  id: totrans-422
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Visit *System* | *Processes* | *Environment Variables*.
  id: totrans-423
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on *Add Variable*. Name it `Text` and the Value to **Ch11 GAI** **Kill
    Switch**.
  id: totrans-424
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Return to the Process Studio, to the `05 Generative AI` `Prediction` Page.
  id: totrans-425
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Change the **Kill Switch Credential Name** Data Item Exposure to *Environment*.
    Set the Name to **Ch11 Example 2 GAI Kill** **Switch Name**.
  id: totrans-426
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open the Properties of the **Get Kill Switch Credential** Action. Change the
    *Credential Name* Input to **[Ch11 Example 2 GAI Kill** **Switch Name]**.
  id: totrans-427
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We’ve completed the second example. Here, we implemented some mock predictions
    for the EC and GAI models. We also fulfilled the auditing and random sampling
    requirements. While we could continue modifying the other Processes, the procedure
    is largely the same. Continuing with further development would require getting
    into the Objects and business logic details.
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  id: totrans-429
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we went through the requirements of a real-life use case that
    uses three different ML models. We analyzed the requirements of each ML model
    individually, which informed us of their auditing and scaling needs. This helped
    us determine the appropriate number of Processes and Work Queues to use in our
    IA solution.
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
- en: We went through an example to implement the solution structure. We started with
    the three-Process and three-Work Queue templates, and used `IA Data` Page of each
    template to clearly define what Item Data Field names, Statuses, Tags, and Session
    Variables will be used in the solution. Finally, we edited the IA solution logic
    to make use of these new Data Items.
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
- en: This example will help structure your thinking around how to design a complex
    IA solution, how to think about the ML requirements, and how to choose the proper
    template to get you started. Keep in mind that you should be creating templates
    of your own if you come across situations that the templates in this book haven’t
    covered.
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
- en: Then, we looked at a second example, where we implemented simple mock predictions
    for two of the ML models. Creating mock predictions is important, as it allows
    you to save costs from calling commercial APIs, and it prevents you from waiting
    for the ML model to be built before continuing forward. ML models are almost always
    being built in parallel to IA, and mocking allows you to test the entire process
    flow, even if the model isn’t ready yet.
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we’ll look at another real-life IA scenario, but we’ll
    shift away from development and design, and instead focus on the ongoing management
    and deployment aspects of an IA solution.
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
