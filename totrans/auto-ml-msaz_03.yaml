- en: '*Chapter 2*: Getting Started with Azure Machine Learning Service'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第二章*：Azure机器学习服务入门'
- en: Now that we know that the key to delivering return on investment in artificial
    intelligence is delivering machine learning (ML) projects at a brisk pace, we
    need to learn how to use **Automated Machine Learning** (**AutoML**) to achieve
    that goal. Before we can do that, however, we need to learn how to use the **Azure
    Machine Learning Service** (**AMLS**). AMLS is Microsoft's premier ML platform
    on the Azure cloud.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们知道实现人工智能投资回报的关键是快速交付机器学习（ML）项目，我们就需要学习如何使用**自动化机器学习**（**AutoML**）来实现这一目标。然而，在我们能够做到这一点之前，我们需要学习如何使用**Azure机器学习服务**（**AMLS**）。AMLS是微软在Azure云上的顶级ML平台。
- en: We will begin this chapter by creating an Azure account and creating an AMLS
    workspace. Once you have created a workspace, you will proceed to create different
    types of compute to run Python code and ML jobs remotely using a cluster of machines.
    Next, you will learn how to work with data using the Azure dataset and datastore
    constructs. Finally, we will provide an overview of AutoML. This will boost your
    ability to create high-performing models.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先创建一个Azure账户并创建一个AMLS工作区。一旦你创建了工作区，你将开始创建不同类型的计算资源来远程使用机器集群运行Python代码和ML作业。接下来，你将学习如何使用Azure数据集和数据存储结构来处理数据。最后，我们将概述AutoML。这将提高你创建高性能模型的能力。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Creating your first AMLS workspace
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建你的第一个AMLS工作区
- en: Building compute to run your AutoML jobs
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建运行你的AutoML作业的计算资源
- en: Working with data in AMLS
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在AMLS中处理数据
- en: Understanding how AutoML works on Azure
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 了解如何在Azure上使用AutoML
- en: Technical requirements
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'In order to complete the exercises in this chapter, you will need the following:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 为了完成本章的练习，你需要以下内容：
- en: Access to the internet
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 上网权限
- en: A web browser, preferably Google Chrome or Microsoft Edge Chromium
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个网络浏览器，最好是Google Chrome或Microsoft Edge Chromium
- en: A Microsoft account
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 微软账户
- en: Creating your first AMLS workspace
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建你的第一个AMLS工作区
- en: Navigating Microsoft Azure for the first time can be a daunting experience.
    With hundreds of services with similar capabilities, it's easy to get lost. Therefore,
    it is important for you to follow this guide step by step, beginning by creating
    an Azure account. If you already have an Azure account, you can skip ahead to
    the *Creating an AMLS workspace* section.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 第一次导航Microsoft Azure可能会感到令人畏惧。有成百上千具有相似功能的服务，很容易迷路。因此，按照此指南逐步进行非常重要，首先创建一个Azure账户。如果你已经有了Azure账户，你可以跳到*创建AMLS工作区*部分。
- en: Creating an Azure account
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建Azure账户
- en: 'Let''s begin:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始吧：
- en: To create an Azure account, navigate to [https://azure.microsoft.com](https://azure.microsoft.com).
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建Azure账户，请导航至[https://azure.microsoft.com](https://azure.microsoft.com)。
- en: 'Click the green **Start free** button, as shown in the following screenshot.
    Depending on your location, this button may be located in a slightly different
    location. Once you''ve clicked this button, you will be asked to select an email
    address associated with your Microsoft account:'
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击以下屏幕截图所示的绿色**开始免费**按钮。根据你的位置，此按钮可能位于略有不同的位置。点击此按钮后，你将需要选择与你的微软账户关联的电子邮件地址：
- en: Note
  id: totrans-19
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意
- en: If you use Microsoft Windows, you should have a Microsoft account. If you do
    not, then you can create a Microsoft account by following the instructions at
    [https://account.microsoft.com/account](https://account.microsoft.com/account).
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果你使用Microsoft Windows，你应该有一个微软账户。如果没有，你可以通过遵循[https://account.microsoft.com/account](https://account.microsoft.com/account)上的说明来创建一个微软账户。
- en: '![Figure 2.1 – Microsoft Azure account creation screen ](img/B16595_02_001.jpg)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![图2.1 – 微软Azure账户创建屏幕](img/B16595_02_001.jpg)'
- en: Figure 2.1 – Microsoft Azure account creation screen
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.1 – 微软Azure账户创建屏幕
- en: Microsoft will ask you to fill in some information about your country, first
    name, last name, email address, and phone number. You will then have to verify
    your identity via a phone number and enter your credit card information.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 微软将要求你填写一些关于你的国家、名字、姓氏、电子邮件地址和电话号码的信息。然后，你必须通过电话号码验证你的身份并输入你的信用卡信息。
- en: Note that you will not be charged for creating an Azure account unless you upgrade.
    Once you sign the agreement, you will have $200 free credit to use for your first
    30 days of Azure. You will not be automatically charged at the end of the 30-day
    period.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，除非您升级，否则创建 Azure 账户不会产生费用。一旦您签署协议，您将获得 200 美元的免费信用额度，用于您前 30 天的 Azure 使用。30
    天期限结束时，您将不会自动收费。
- en: Important tip
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: If you have already signed up for a Microsoft Azure free account with an email
    address, you will not receive an additional $200 free credit. It can only be received
    once, and you will only be able to choose the pay-as-you-go option. In this case,
    create a new Microsoft account with a different email address and try again.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您已经使用电子邮件地址注册了 Microsoft Azure 免费账户，您将不会收到额外的 200 美元免费信用额度。这只能获得一次，并且您只能选择按使用付费选项。在这种情况下，请使用不同的电子邮件地址创建一个新的
    Microsoft 账户并再次尝试。
- en: With an account in place, you can now create resources within Microsoft Azure.
    Hundreds of resources are available, and it can be tempting to explore them. Stay
    focused. Setting up AMLS is the first step you must take toward using AutoML.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 在有了账户之后，您现在可以在 Microsoft Azure 中创建资源。有数百种资源可供选择，可能会让人想要探索它们。保持专注。设置 AMLS 是您使用
    AutoML 必须采取的第一步。
- en: Creating an AMLS workspace
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建 AMLS 工作空间
- en: 'Once you have created an Azure account, you can create an **Azure Machine Learning
    Service (AMLS)** workspace. An AMLS workspace is a centralized resource for all
    your ML work on Azure. It also provides access to **AML studio**. This studio
    is a graphical web portal that allows easy, intuitive access to all the different
    components of the AMLS workspace. Let''s get started:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您创建了 Azure 账户，您就可以创建一个**Azure 机器学习服务 (AMLS**) 工作空间。AMLS 工作空间是您在 Azure 上所有机器学习工作的集中资源。它还提供了对**AML
    工作室**的访问。这个工作室是一个图形化网页门户，允许轻松直观地访问 AMLS 工作空间的各个不同组件。让我们开始吧：
- en: Begin by navigating to [https://portal.azure.com](https://portal.azure.com).
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先导航到 [https://portal.azure.com](https://portal.azure.com)。
- en: Click the **Create a resource** button, which should be in a blue cross. Resources
    are simply Azure services. Every Azure service, be it a virtual machine, cloud
    database, or ML tool, counts as a resource.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击蓝色十字中的**创建资源**按钮。资源只是 Azure 服务。无论是虚拟机、云数据库还是 ML 工具，每个 Azure 服务都算作一个资源。
- en: After clicking the blue cross, type `Machine Learning` into the search box and
    press *Enter*. You will see a new screen with a large blue flask in the top-right
    corner. This is the AML symbol.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击蓝色十字后，在搜索框中输入`Machine Learning`并按*Enter*。您将看到一个新屏幕，右上角有一个大蓝色烧瓶。这是 AML 的符号。
- en: Click **Create**. The following screenshot shows the process flow:![Figure 2.2
    – Creating an AMLS resource ](img/B16595_02_002.jpg)
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**。以下截图显示了流程：![图 2.2 – 创建 AMLS 资源](img/B16595_02_002.jpg)
- en: Figure 2.2 – Creating an AMLS resource
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 2.2 – 创建 AMLS 资源
- en: You will then be presented with a screen asking you to select a subscription,
    fill in a resource group, create a workspace name, select a region, and select
    a workspace edition. If you have multiple Azure subscriptions, select the one
    associated with the account you would like to use. A **resource group** is simply
    a collection of Azure resources. Create a new one by following the naming conventions.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，您将看到一个屏幕，要求您选择订阅、填写资源组、创建工作空间名称、选择区域以及选择工作空间版本。如果您有多个 Azure 订阅，请选择与您想要使用的账户关联的订阅。**资源组**只是一个
    Azure 资源的集合。通过遵循命名约定创建一个新的资源组。
- en: Important tip
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要提示
- en: Different Azure resources have different naming conventions. Resource groups
    must consist of alphanumeric characters, periods, hyphens, parentheses, and underscores,
    while AMLS workspaces must consist of alphanumeric characters, hyphens, and underscores.
    Simply follow any instructions that appear if you provide an incorrect name.
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 不同的 Azure 资源有不同的命名约定。资源组必须由字母数字字符、点、连字符、括号和下划线组成，而 AMLS 工作空间必须由字母数字字符、连字符和下划线组成。如果您提供了错误的名称，只需遵循出现的任何说明即可。
- en: Fill in the rest of the form by naming your AMLS workspace and selecting a region.
    Pick a region close to where you live. For example, if you live in Chicago, select
    North Central US or East US, but don't select North Europe. After filling out
    all the values, your form should look similar to what's shown in the following
    screenshot.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过命名您的 AMLS 工作空间并选择一个区域来填写表单的其余部分。选择一个靠近您居住地的区域。例如，如果您住在芝加哥，请选择北美中部或东美，但不要选择北欧。填写所有值后，您的表单应类似于以下截图所示。
- en: 'Notice that, in addition to the AMLS workspace, you are also creating additional
    resources automatically. A **container registry** to hold containerized code will
    be automatically created for you if you require it, so do not create one:'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，除了AMLS工作区外，您还会自动创建其他资源。如果您需要，将自动为您创建一个**容器注册表**来存储容器化的代码，因此不要创建一个：
- en: '![Figure 2.3 – Example of a filled-in AMLS workspace creation form ](img/B16595_02_003.jpg)'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图2.3 – 填写好的AMLS工作区创建表单示例](img/B16595_02_003.jpg)'
- en: Figure 2.3 – Example of a filled-in AMLS workspace creation form
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.3 – 填写好的AMLS工作区创建表单示例
- en: Finish creating your AMLS workspace by clicking **Review + create**, followed
    by **Create**.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击**审查 + 创建**，然后点击**创建**来完成创建您的AMLS工作区。
- en: You will see a screen that says **Deployment is in progress**, and four different
    Azure resources will be created. This will include your AMLS workspace, a **Storage
    account** instance for storing your data, an **Azure Key Vault** instance for
    storing your passwords, and an **Application Insights** resource for monitoring
    your ML jobs. Do not delete any of these resources once they have been created.
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您将看到一个显示**部署正在进行中**的屏幕，并将创建四个不同的Azure资源。这包括您的AMLS工作区、一个用于存储数据的**存储账户**实例、一个用于存储密码的**Azure密钥保管库**实例以及一个用于监控您的ML作业的**应用程序洞察**资源。一旦创建，不要删除这些资源。
- en: Important Tip
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要提示
- en: Once you've created a ML pipeline or a real-time endpoint, an Azure container
    registry will be automatically created. Like the other automatically created resources,
    do not delete it.
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一旦您创建了一个ML管道或实时端点，将自动创建一个Azure容器注册表。像其他自动创建的资源一样，不要删除它。
- en: Creating an AMLS workspace with code
  id: totrans-46
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用代码创建AMLS工作区
- en: Alternatively, you can create an AMLS workspace by using the **Azure CLI** with
    either **Bash** or **PowerShell**. The **Azure command-line interface** (**Azure
    CLI**) is an interface you can use to create and manage Azure resources. Bash
    is the UNIX shell and command language, while PowerShell is a Microsoft-specific
    framework. The Azure CLI can be accessed via the front page of [https://portal.azure.com](https://portal.azure.com)
    by clicking the computer screen icon at the top left. When you hover over it,
    the words **Cloud Shell** will pop up.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，您可以使用**Azure CLI**通过**Bash**或**PowerShell**创建一个AMLS工作区。**Azure命令行界面**（**Azure
    CLI**）是一个您可以使用它来创建和管理Azure资源的界面。Bash是UNIX shell和命令语言，而PowerShell是微软特定的框架。您可以通过点击[https://portal.azure.com](https://portal.azure.com)首页顶部的计算机屏幕图标来访问Azure
    CLI。当您悬停在它上面时，会出现**Cloud Shell**的字样。
- en: 'To create an AMLS workspace, type in the following commands in the order shown
    here:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建一个AMLS工作区，按照以下顺序在命令行中输入以下命令：
- en: 'Install the Azure CLI ML extension with the following code:'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下代码安装Azure CLI ML扩展：
- en: '[PRE0]'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Next, create a resource group. Make sure that you specify your Azure location.
    `-n` denotes the resource group''s name, while `-l` specifies its location:'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，创建一个资源组。确保您指定了您的Azure位置。`-n`表示资源组的名称，而`-l`指定其位置：
- en: '[PRE1]'
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Instantiate your AMLS workspace. `-w` denotes your workspace name, while `-g`
    specifies your resource group. Make sure it matches the resource group you created
    in the previous step:'
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 实例化您的AMLS工作区。`-w`表示您的工作区名称，而`-g`指定您的资源组。确保它与您在上一步骤中创建的资源组相匹配：
- en: '[PRE2]'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: You can learn more about workspace-specific commands at [https://docs.microsoft.com/en-us/azure/machine-learning/reference-azure-machine-learning-cli](https://docs.microsoft.com/en-us/azure/machine-learning/reference-azure-machine-learning-cli).
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在[https://docs.microsoft.com/en-us/azure/machine-learning/reference-azure-machine-learning-cli](https://docs.microsoft.com/en-us/azure/machine-learning/reference-azure-machine-learning-cli)了解更多关于工作区特定命令的信息。
- en: Now that you have created an AMLS workspace, you are ready to explore its many
    objects. You will do this through AML studio, a GUI built on top of your AMLS
    workspace.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经创建了一个AMLS工作区，您就可以探索其众多对象了。您将通过AML工作室来完成，这是一个建立在您的AMLS工作区之上的图形用户界面。
- en: Navigating AML studio
  id: totrans-57
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 导航AML工作室
- en: With your AMLS workspace created, you can now navigate to AML studio.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在您创建了AMLS工作区后，您现在可以导航到AML工作室。
- en: 'Either navigate to [https://ml.azure.com](https://ml.azure.com) or open your
    AMLS workspace and click **Launch Now**, which can be found in the middle of the
    screen. AML studio is your one-stop shop for your AMLS needs. The following screenshot
    shows the studio and its navigation bar:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 要么导航到[https://ml.azure.com](https://ml.azure.com)，要么打开您的AMLS工作区并点击屏幕中间的**立即启动**，AML工作室是您AMLS需求的唯一商店。以下截图显示了工作室及其导航栏：
- en: '![Figure 2.4 – AML studio home page and navigation ](img/B16595_02_004.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![图2.4 – AML工作室主页和导航](img/B16595_02_004.jpg)'
- en: Figure 2.4 – AML studio home page and navigation
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.4 – AML工作室主页和导航
- en: 'Your AML studio can be quite intimidating at first. With many tabs to navigate
    and a plethora of unfamiliar terms, many first-time users get lost. To make your
    journey easier, here''s a description of each tab and what it does:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 您的AML工作室一开始可能会让人感到有些畏惧。由于有很多标签页需要导航以及许多不熟悉的术语，许多初次使用用户可能会感到迷茫。为了使您的旅程更加顺畅，以下是每个标签页的描述以及它们的功能：
- en: '**Home** returns you to the AML studio home page.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主页**将您带回到AML工作室主页。'
- en: '**Notebooks** lets you write code using **Jupyter** or **JupyterLab**.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**笔记本**允许您使用**Jupyter**或**JupyterLab**编写代码。'
- en: '**Automated ML (preview)** lets you run AutoML jobs using a guided user interface.
    It is currently in preview mode.'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自动机器学习（预览版）**允许您使用引导式用户界面运行AutoML作业。它目前处于预览模式。'
- en: '**Designer (preview)** lets you transform data and create ML models using a
    guided user interface. It is currently in preview mode.'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**设计器（预览版）**允许您使用引导式用户界面转换数据和创建ML模型。它目前处于预览模式。'
- en: '**Datasets** are pointers to files in Azure Storage accounts or SQL queries
    in Azure SQL databases. You can use this tab to create new datasets or profile,
    update, and retrieve information on existing datasets.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据集**是指向Azure存储账户中的文件或Azure SQL数据库中的SQL查询的指针。您可以使用此标签页创建新的数据集或配置文件，更新和检索现有数据集的信息。'
- en: '**Experiments** are records of your ML training jobs on Azure. Experiments
    contains the results of your runs, along with logs, charts, and graphs.'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**实验**是您在Azure上进行的ML训练作业的记录。实验包含您运行的结果，以及日志、图表和图形。'
- en: '**Pipelines** keeps track of any ML pipelines you have created. Pipelines are
    used for batch scoring or model training and are commonly scheduled using Azure
    Data Factory. Use this tab to retrieve your pipeline names and IDs.'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**管道**跟踪您创建的任何ML管道。管道用于批量评分或模型训练，通常使用Azure Data Factory进行调度。使用此标签页检索您的管道名称和ID。'
- en: '**Models** keeps track of any ML models you have trained and registered to
    your AMLS workspace. Use this tab to keep track of them.'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**模型**跟踪您已训练并注册到您的AML工作空间中的任何ML模型。使用此标签页来跟踪它们。'
- en: '**Endpoints** keeps track of any real-time endpoints you have created for real-time
    scoring, as well as any pipeline endpoints you have created. You can also find
    pipeline endpoints in the **Pipelines** tab.'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**端点**跟踪您为实时评分创建的任何实时端点以及您创建的任何管道端点。您还可以在**管道**标签页中找到管道端点。'
- en: '**Compute** lets you create and access **compute instances** for running Jupyter,
    JupyterLab, and R Studio notebooks. It also lets you create **compute clusters**
    for running remote training jobs. We will create both in the next section.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**计算**允许您创建和访问用于运行Jupyter、JupyterLab和R Studio笔记本的计算实例。它还允许您创建用于运行远程训练作业的计算集群。我们将在下一节中创建这两个实例。'
- en: '**Datastores** are pointers to blob containers on Azure Storage accounts or
    to Azure SQL databases. You can use this tab to create new datastores and retrieve
    information about your existing datastores.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据存储**是指向Azure存储账户中的blob容器或Azure SQL数据库的指针。您可以使用此标签页创建新的数据存储并检索现有数据存储的信息。'
- en: '**Data Labeling** is useful for labeling image data. As you manually label
    images, you can train a machine model to make this process automatic in the future.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据标注**对于标注图像数据非常有用。当您手动标注图像时，您可以训练一个机器模型，以便将来使此过程自动化。'
- en: Throughout the rest of this chapter, we will explore the **Compute**, **Dataset**,
    and **Datastore** tabs. As we proceed throughout this book, we will use the **Automated
    ML**, **Experiment**, **Model**, **Pipeline**, and **Endpoint** tabs. We will
    not cover the **Notebook**, **Designer**, or **Data Labeling** tabs. To run AutoML
    jobs through the GUI or through code, you will first need compute, so let's start
    there.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的其余部分，我们将探讨**计算**、**数据集**和**数据存储**标签页。随着我们继续阅读本书，我们将使用**自动机器学习**、**实验**、**模型**、**管道**和**端点**标签页。我们不会涵盖**笔记本**、**设计器**或**数据标注**标签页。要使用GUI或代码运行AutoML作业，您首先需要计算资源，所以让我们从这里开始。
- en: Building compute to run your AutoML jobs
  id: totrans-76
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 构建计算以运行您的AutoML作业
- en: 'The first time you open AML studio, navigate to the **Compute** tab to create
    a compute instance and a compute cluster. Once you open the tab, you will see
    four headings at the top: **Compute instances**, **Compute clusters**, **Inference
    clusters**, and **Attached compute**. Let''s take a look at these in more detail:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 第一次打开AML工作室时，导航到**计算**选项卡以创建计算实例和计算集群。一旦打开选项卡，你将在顶部看到四个标题：**计算实例**、**计算集群**、**推理集群**和**附加计算**。让我们更详细地看看这些：
- en: '**Compute instances** are virtual machines that you can use to write and run
    Python code in Jupyter or JupyterLab notebooks; you can also use a compute instance
    to write R code using R Studio.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**计算实例**是你可以用来在Jupyter或JupyterLab笔记本中编写和运行Python代码的虚拟机；你也可以使用计算实例来使用R Studio编写R代码。'
- en: '**Compute clusters** are groups of virtual machines used to train ML models
    remotely. You can kick off jobs on a compute cluster and continue working on code
    in your compute instance.'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**计算集群**是用于远程训练ML模型的虚拟机组。你可以在计算集群上启动作业，并在计算实例中继续编写代码。'
- en: '**Inference clusters** are groups of virtual machines used to score data in
    real time.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**推理集群**是用于实时评分数据的虚拟机组。'
- en: '**Attached compute** refers to using Databricks or HDInsight compute to run
    big data jobs.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**附加计算**指的是使用Databricks或HDInsight计算来运行大数据作业。'
- en: Let's see them in action.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看它们在实际中的表现。
- en: Creating a compute instance
  id: totrans-83
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建计算实例
- en: 'We''ll start with a compute instance:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从计算实例开始：
- en: Make sure the tab at the top is highlighted in black. Then, click the **Add
    New** button, which is the blue cross highlighted in the following screenshot:![Figure
    2.5 – Creating a compute instance ](img/B16595_02_005.jpg)
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保顶部的选项卡以黑色突出显示。然后，点击以下截图中的**添加新项**按钮，即蓝色的十字：![图2.5 – 创建计算实例](img/B16595_02_005.jpg)
- en: Figure 2.5 – Creating a compute instance
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.5 – 创建计算实例
- en: You will be asked to select a virtual machine type and a virtual machine size.
    Select **CPU** for your virtual machine type and **Standard_DS3_v2** as your virtual
    machine size. **Standard_DS3_v2** is the recommended virtual machine for most
    ML jobs using small- to medium-sized datasets.
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你将被要求选择虚拟机类型和虚拟机大小。选择虚拟机类型为**CPU**，虚拟机大小为**Standard_DS3_v2**。**Standard_DS3_v2**是大多数使用小型到中型数据集的ML作业推荐使用的虚拟机。
- en: 'For larger datasets, you will want virtual machines with more RAM. As a rough
    guideline, we recommend having 20 times more RAM than the size of your data in
    CSV format. Once you have entered your settings, as shown in the following screenshot,
    click **Next**:'
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于更大的数据集，你可能需要具有更多RAM的虚拟机。作为一个粗略的指导，我们建议拥有比你的CSV格式数据大小多20倍的RAM。一旦你设置了你的设置，如图所示，点击**下一步**：
- en: Important Tip – CPU versus GPU
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 重要提示 – CPU与GPU
- en: For the majority of your AutoML and ML jobs, CPUs will be sufficient. When you
    are training deep learning models, however, you want to select the more expensive
    GPU virtual machines.
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于你大多数的AutoML和ML作业，CPU将足够。然而，当你训练深度学习模型时，你想要选择更昂贵的GPU虚拟机。
- en: '![Figure 2.6 – Compute instance settings ](img/B16595_02_006.jpg)'
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图2.6 – 计算实例设置](img/B16595_02_006.jpg)'
- en: Figure 2.6 – Compute instance settings
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.6 – 计算实例设置
- en: You will then be asked to name your compute instance. Give it any name you wish
    or use `automl-compute-instance`, as shown in the following screenshot, and click
    **Create**:![Figure 2.7 – Naming your compute instance ](img/B16595_02_007.jpg)
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后你将被要求给你的计算实例命名。你可以给它任何你想要的名称，或者使用`automl-compute-instance`，如图所示，然后点击**创建**：![图2.7
    – 命名你的计算实例](img/B16595_02_007.jpg)
- en: Figure 2.7 – Naming your compute instance
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.7 – 命名你的计算实例
- en: Now that you have created a compute instance, you can start coding to complete
    the rest of your tasks or you can continue to use the GUI. To write in Python,
    simply open the link to **Jupyter**, as shown in the following screenshot:![Figure
    2.8 – Opening a Jupyter notebook ](img/B16595_02_008.jpg)
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你已经创建了一个计算实例，你可以开始编码以完成剩余的任务，或者你可以继续使用GUI。要编写Python代码，只需打开以下截图中的**Jupyter**链接：![图2.8
    – 打开Jupyter笔记本](img/B16595_02_008.jpg)
- en: Figure 2.8 – Opening a Jupyter notebook
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.8 – 打开Jupyter笔记本
- en: 'You can begin coding by creating a Python notebook in Jupyter. To do this,
    click the **New** button at the top right of the screen. From the dropdown, select
    the latest version of Python with AzureML, as shown in the following screenshot:'
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以通过在Jupyter中创建Python笔记本来开始编码。为此，点击屏幕右上角的**新建**按钮。从下拉菜单中选择带有AzureML的最新Python版本，如图所示：
- en: '![Figure 2.9 – Creating a new Python notebook ](img/B16595_02_009.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![图2.9 – 创建新的Python笔记本](img/B16595_02_009.jpg)'
- en: Figure 2.9 – Creating a new Python notebook
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.9 – 创建新的Python笔记本
- en: Now, you are ready to start coding!
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您已经准备好开始编码了！
- en: Creating a compute cluster
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建计算集群
- en: Your next step is to create a compute cluster so that you can run AutoML jobs
    using the visual interface. You can create a compute cluster either using code
    in a Jupyter notebook or through the GUI.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 您的下一步是创建一个计算集群，以便您可以使用可视化界面运行AutoML作业。您可以通过Jupyter笔记本中的代码或通过GUI创建计算集群。
- en: To create a compute cluster through the GUI, click the **Compute** tab, click
    **Compute clusters**, and then click the **Create** button, as shown in the following
    screenshot:![Figure 2.10 – Creating a compute cluster](img/B16595_02_010.jpg)
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要通过GUI创建计算集群，请点击**计算**选项卡，点击**计算集群**，然后点击**创建**按钮，如图所示：![图2.10 – 创建计算集群](img/B16595_02_010.jpg)
- en: Figure 2.10 – Creating a compute cluster
  id: totrans-104
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.10 – 创建计算集群
- en: There are more settings when it comes to creating a compute cluster. First,
    create a name by following the naming convention. Compute clusters can only have
    names that are 16 characters long, so think carefully. Your region is automatically
    selected so that it matches your workspace.
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在创建计算集群时，还有更多设置。首先，根据命名规范创建一个名称。计算集群只能有16个字符长的名称，所以请仔细思考。您的区域会自动选择，以匹配您的工作空间。
- en: 'As we did previously, select **CPU** as the virtual machine''s type and **Standard_DS3_v2**
    as the virtual machine''s size. For virtual machine priority, select **Dedicated**
    instead of **Low priority**. Jobs running on low-priority virtual machines may
    be interrupted in periods of high usage. Then, click **Next**, as shown in the
    following screenshot:'
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如前所述，选择虚拟机的类型为**CPU**，虚拟机的大小为**Standard_DS3_v2**。对于虚拟机优先级，选择**专用**而不是**低优先级**。在高峰使用期间，运行在低优先级虚拟机上的作业可能会被中断。然后，点击**下一步**，如图所示：
- en: '![Figure 2.11 – Compute cluster settings – part 1 ](img/B16595_02_011.jpg)'
  id: totrans-107
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图2.11 – 计算集群设置 – 第1部分](img/B16595_02_011.jpg)'
- en: Figure 2.11 – Compute cluster settings – part 1
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.11 – 计算集群设置 – 第1部分
- en: On the next page, begin by naming your compute cluster while following the naming
    convention. Compute clusters can only have names that are 16 characters long,
    so think carefully. Then, select the number of nodes. This is the most important
    difference between compute clusters and compute instances.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一页上，首先根据命名规范命名您的计算集群。计算集群只能有16个字符长的名称，所以请仔细思考。然后，选择节点数量。这是计算集群与计算实例之间最重要的区别。
- en: With compute instances, you have a single node to run your jobs; with clusters,
    you can set the minimum and maximum numbers of nodes, and they will autoscale
    according to your job. AutoML makes use of compute clusters by training different
    models in parallel on separate nodes.
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用计算实例，您有一个单独的节点来运行您的作业；使用集群，您可以设置节点数量的最小值和最大值，并且它们将根据您的作业自动扩展。AutoML通过在不同的节点上并行训练不同的模型来利用计算集群。
- en: 'Set your minimum node count to `0` to minimize your costs when no jobs are
    running and set your maximum node count to `4`. Lastly, change the number of seconds
    before nodes scale down to `1200` seconds, or `20` minutes, to keep your machines
    from shutting down while you work. Check your settings against those shown in
    the following screenshot and click the **Create** button:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 将最小节点数设置为`0`以在无作业运行时最小化您的成本，并将最大节点数设置为`4`。最后，将节点缩放前的秒数更改为`1200`秒，即`20`分钟，以防止您工作时机器关闭。检查您的设置是否与以下截图所示一致，然后点击**创建**按钮：
- en: '![Figure 2.12 – Compute cluster settings – part 2 ](img/B16595_02_012.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![图2.12 – 计算集群设置 – 第2部分](img/B16595_02_012.jpg)'
- en: Figure 2.12 – Compute cluster settings – part 2
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.12 – 计算集群设置 – 第2部分
- en: Creating a compute cluster with code
  id: totrans-114
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用代码创建计算集群
- en: 'You can also create a compute cluster using Python code in a Jupyter notebook.
    Let''s take a look:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用Jupyter笔记本中的Python代码创建计算集群。让我们看看：
- en: 'First, import the necessary packages so that you can connect to your AMLS workspace
    and create your compute cluster:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，导入必要的包，以便您能够连接到您的AMLS工作空间并创建您的计算集群：
- en: '[PRE3]'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Now, connect to your AMLS workspace with the following code:'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，使用以下代码连接到您的AMLS工作空间：
- en: '[PRE4]'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Next, set your variables so that they match the settings you used when you
    created the cluster on the GUI:'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，设置您的变量，以确保它们与您在GUI上创建集群时使用的设置相匹配：
- en: '[PRE5]'
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Once you have stored the variables, create a provisioning configuration for
    your compute cluster by using the following code:'
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦存储了变量，请使用以下代码为您的计算集群创建一个配置配置：
- en: '[PRE6]'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Finally, create the compute target:'
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，创建计算目标：
- en: '[PRE7]'
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Next, we will see another way to create the compute clusters and instances.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将看到另一种创建计算集群和实例的方法。
- en: Creating a compute cluster and compute instance with the Azure CLI
  id: totrans-127
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用Azure CLI创建计算集群和计算实例
- en: 'A third way to create both compute clusters and compute instances is through
    the Azure CLI. To do so, open the Azure CLI by navigating to [https://portal.azure.com](https://portal.azure.com)
    and clicking on the computer screen icon in the top right of the screen. When
    you hover over the icon, it will say *Cloud Shell*. Once it''s opened, do the
    following:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 创建计算集群和计算实例的第三种方式是通过Azure CLI。要这样做，请通过导航到[https://portal.azure.com](https://portal.azure.com)并点击屏幕右上角的计算机屏幕图标来打开Azure
    CLI。当您悬停在图标上时，它将显示*云Shell*。一旦打开，请执行以下操作：
- en: 'Create a compute instance. `-n` denotes the name of your compute instance,
    while `-s` specifies your virtual machine''s size:'
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建计算实例。`-n`表示您的计算实例名称，而`-s`指定您的虚拟机大小：
- en: '[PRE8]'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Create a compute cluster. `-n` denotes the name of your compute cluster, while
    `-s` specifies your virtual machine''s size. You also need to set your minimum
    and maximum numbers of nodes:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建计算集群。`-n`表示您的计算集群名称，而`-s`指定您的虚拟机大小。您还需要设置您的最小和最大节点数：
- en: '[PRE9]'
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'You now know three ways you can create compute on AMLS: through the GUI, through
    Python code, and through the Azure CLI. By creating compute, you can now run all
    the AutoML jobs you want. Think of compute as the engine of AutoML. Like any engine,
    however, it requires fuel to run. If compute is the engine of AutoML, data is
    its fuel.'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在知道有三种方法可以在AMLS上创建计算：通过GUI、通过Python代码和通过Azure CLI。通过创建计算，您现在可以运行所有想要的AutoML作业。将计算视为AutoML的引擎。然而，像任何引擎一样，它需要燃料才能运行。如果计算是AutoML的引擎，数据就是它的燃料。
- en: Working with data in AMLS
  id: totrans-134
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在AMLS中处理数据
- en: Now that you've created a compute, all you need to do is create a dataset and
    you will be ready to run your first AutoML job. **Datasets** are simply pointers
    to files on your **Storage account** or pointers to SQL queries on Azure SQL databases.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经创建了计算，您需要做的就是创建一个数据集，然后您就可以准备运行您的第一个AutoML作业了。**数据集**是您**存储账户**上的文件或Azure
    SQL数据库上的SQL查询的指针。
- en: A dataset is not a file itself. You can create datasets from local files, from
    SQL queries, or from files in your storage accounts. **Azure Open Datasets**,
    publicly available data curated by Microsoft, can also be registered as datasets.
    For this exercise, we will create a dataset using the Diabetes open dataset.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集本身不是文件。您可以从本地文件、SQL查询或存储账户中的文件创建数据集。**Azure Open Datasets**，由微软整理的公开可用数据，也可以注册为数据集。对于这个练习，我们将使用Diabetes公开数据集创建一个数据集。
- en: Creating a dataset using the GUI
  id: totrans-137
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用GUI创建数据集
- en: 'Let''s begin:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始：
- en: Click the **Dataset** tab.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**数据集**标签。
- en: 'Click the `Sample: Diabetes`, `Sample: OJ Sales Simulated Data`, and `The MNIST
    database of handwritten digits` are useful for demoing ML. You can use Diabetes
    for regression, OJ Sales for forecasting, and MNIST for deep learning image recognition.'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '点击`Sample: Diabetes`、`Sample: OJ Sales Simulated Data`和`手写数字的MNIST数据库`对于演示ML很有用。您可以使用Diabetes进行回归、OJ
    Sales进行预测，以及MNIST进行深度学习图像识别。'
- en: 'Type `Diabetes` into the search bar, click the **Sample: Diabetes** box, and
    then click **Next**, as shown in the following screenshot:![Figure 2.14 – Selecting
    the sample – Diabetes open dataset ](img/B16595_02_014.jpg)'
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在搜索栏中输入`Diabetes`，点击**样本：Diabetes**复选框，然后点击**下一步**，如图2.14所示：![图2.14 – 选择样本 –
    Diabetes公开数据集](img/B16595_02_014.jpg)
- en: Figure 2.14 – Selecting the sample – Diabetes open dataset
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图2.14 – 选择样本 – Diabetes公开数据集
- en: You will now be asked to name your dataset. Dataset names must be unique in
    your workspace. Unlike many other Azure artifacts, dataset names may contain spaces,
    but they may not begin or end with a white space. Datasets also contain version
    numbers, beginning with 1.
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您将被要求命名您的数据集。数据集名称必须在您的工作区中是唯一的。与许多其他Azure项目不同，数据集名称可以包含空格，但不能以空格开头或结尾。数据集还包含版本号，从1开始。
- en: 'Every time you update a dataset so that it points to a different file with
    updated data, a new version will be created. Give your dataset the name `Diabetes
    Sample` and click **Create**, as shown in the following screenshot:'
  id: totrans-144
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 每次您更新数据集，使其指向包含更新数据的不同文件时，都会创建一个新的版本。将您的数据集命名为`Diabetes Sample`并点击**创建**，如图所示：
- en: '![Figure 2.15 – Naming your dataset ](img/B16595_02_015.jpg)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![图2.15 – 为您的数据集命名](img/B16595_02_015.jpg)'
- en: Figure 2.15 – Naming your dataset
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.15 – 为您的数据集命名
- en: Congratulations! Now, you have a dataset that you can use for AutoML.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜！现在，您有一个可以用于AutoML的数据集。
- en: Creating a dataset using code
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用代码创建数据集
- en: 'Like compute clusters, you can also create datasets entirely from code:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 与计算集群一样，您也可以完全通过代码创建数据集：
- en: 'Begin by loading in the following packages. `Diabetes` makes `Sample: Diabetes`
    available, while `Dataset` lets you create, register, and use datasets:'
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '首先加载以下包。`Diabetes`使`Sample: Diabetes`可用，而`Dataset`允许您创建、注册和使用数据集：'
- en: '[PRE10]'
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Once you have imported your packages, run the following code to pull in Diabetes
    data as a tabular dataset. **Tabular datasets** refer to data that contains rows
    and columns, whereas **file datasets** are used for non-tabular data such as image
    files:'
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在导入您的包后，运行以下代码以将糖尿病数据作为表格数据集拉入。**表格数据集**指的是包含行和列的数据，而**文件数据集**用于非表格数据，如图像文件：
- en: '[PRE11]'
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Next, give your dataset a name and register it in your workspace. To do this,
    you will need the workspace code we used earlier while making a compute cluster:'
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，给您的数据集命名并在工作区中注册它。为此，您需要我们在创建计算集群时使用的 workspace 代码：
- en: '[PRE12]'
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Once a dataset has been registered to your AMLS workspace, it''s extremely
    easy to call it in the future. Simply navigate to the **Dataset** tab, select
    your dataset, and hit **Consume** to obtain the code you need to call your dataset.
    Click the folded page icon next to **Sample usage** to copy the code to your clipboard,
    as shown in the following screenshot:'
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦将数据集注册到您的AMLS工作区，未来调用它就非常简单。只需导航到**数据集**标签，选择您的数据集，然后点击**消费**以获取调用数据集所需的代码。点击**示例用法**旁边的折叠页面图标，将代码复制到您的剪贴板，如图下所示：
- en: '![Figure 2.16 – Using your dataset ](img/B16595_02_016.jpg)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![图2.16 – 使用您的数据集](img/B16595_02_016.jpg)'
- en: Figure 2.16 – Using your dataset
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.16 – 使用您的数据集
- en: You have now learned how to create a dataset using the GUI and code. Datasets
    are useful not only for AutoML but for all tasks within AMLS. Accessing datasets
    is as easy as copying automatically generated code into the studio. Try creating
    your own from local files using the GUI before moving on to the next section.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您已经学会了如何使用GUI和代码创建数据集。数据集不仅对AutoML有用，对AMLS中的所有任务都很有用。访问数据集就像将自动生成的代码复制到工作室一样简单。在进入下一节之前，尝试使用GUI从本地文件创建自己的数据集。
- en: Your AutoML is ready to run. You built the engine in the previous section and
    now you have your fuel; that is, your data. Before you give AutoML a try, however,
    it's important to understand how it works. You wouldn't want to drive it into
    a ditch, after all.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '您的AutoML已准备好运行。您在上一节中构建了引擎，现在您有了燃料；那就是您的数据。然而，在尝试AutoML之前，了解它是如何工作的是非常重要的。毕竟，您不希望把它开进沟里。 '
- en: Understanding how AutoML works on Azure
  id: totrans-161
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解Azure上的AutoML是如何工作的
- en: Before running your first AutoML experiment, it's important to understand how
    AutoML works on Azure. AutoML is more than just machine learning, after all. It's
    also about data transformation and manipulation.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 在运行您的第一个AutoML实验之前，了解Azure上的AutoML是如何工作的是非常重要的。毕竟，AutoML不仅仅是机器学习，它还涉及数据转换和处理。
- en: 'As shown in the following diagram, you can divide the stages of AutoML into
    roughly five parts: **Data Guardrails Check**, **Intelligent Feature Engineering**,
    **Iterative Data Transformation**, **Iterative ML Model Building**, and **Model
    Ensembling**. Only at the end of this process does AutoML produce a definitive
    best model:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 如以下图所示，您可以将AutoML的阶段大致分为五个部分：**数据守卫检查**、**智能特征工程**、**迭代数据转换**、**迭代ML模型构建**和**模型集成**。只有在这个过程的最后，AutoML才会产生一个最佳模型：
- en: '![Figure 2.17 – The Azure AutoML process ](img/B16595_02_017.jpg)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![图2.17 – Azure AutoML流程](img/B16595_02_017.jpg)'
- en: Figure 2.17 – The Azure AutoML process
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.17 – Azure AutoML流程
- en: Let's take a closer look at each step in this process.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地看看这个过程中的每一步。
- en: Ensuring data quality with data guardrails
  id: totrans-167
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用数据守卫确保数据质量
- en: '**Data guardrails** check to make sure that your data is in the correct format
    for AutoML, and if it is not, it will alter the data accordingly. There are currently
    six main checks that are performed on your data. Two of the checks – one to detect
    missing values and another to detect high-cardinality columns – will occur on
    every dataset. The other four checks are problem- or setting-dependent.'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: '**数据守卫检查**确保您的数据适合AutoML，如果不适合，将相应地调整数据。目前对您的数据执行了六个主要检查。其中两个检查——一个用于检测缺失值，另一个用于检测高基数列——将在每个数据集中发生。其他四个检查是问题或设置相关的。'
- en: '**Missing feature values imputation** will detect any null values in your dataset.
    **High-cardinality feature handling**, on the other hand, will identify any categorical
    columns with a large number of unique values. These are both important for the
    next step; that is, **Intelligent Feature Engineering**.'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '**缺失特征值填充**将检测您数据集中的任何空值。另一方面，**高基数特征处理**将识别任何具有大量唯一值的分类列。这些对于下一步都很重要；即，**智能特征工程**。'
- en: Unlike the first two checks, **validation split handling** will only occur if
    you set the validation configuration to **auto**. We will go over all of the different
    settings in *Chapters 4*, *5*, and *6*. This check automatically splits the data
    into training and test sets so that you don't have to. It's one of the many ways
    that AutoML speeds up the data science process.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 与前两个检查不同，**验证分割处理**只有在您将验证配置设置为**自动**时才会发生。我们将在*第四章*、*第五章*和*第六章*中介绍所有不同的设置。此检查自动将数据分成训练集和测试集，这样您就无需手动操作。这是AutoML加快数据科学流程的许多方法之一。
- en: '**Class balancing detection** is specific to classification problems that are
    trying to predict a category, while **memory issues detection** and **frequency
    detection** are specific to forecasting problems that are trying to predict a
    future number. More on these checks will be discussed in [*Chapter 5*](B16595_05_ePub.xhtml#_idTextAnchor068)*,
    Building an AutoML Classification Solution*, and [*Chapter 6*](B16595_06_ePub.xhtml#_idTextAnchor081)*,
    Building an AutoML Forecasting Solution*, which cover classification and forecasting,
    respectively.'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '**类别平衡检测**针对试图预测一个类别的分类问题，而**内存问题检测**和**频率检测**针对试图预测未来数字的预测问题。关于这些检查的更多内容将在[*第五章*](B16595_05_ePub.xhtml#_idTextAnchor068)*构建AutoML分类解决方案*和[*第六章*](B16595_06_ePub.xhtml#_idTextAnchor081)*构建AutoML预测解决方案*中讨论，分别涵盖分类和预测。'
- en: Improving data with intelligent feature engineering
  id: totrans-172
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通过智能特征工程改进数据
- en: Once your data has passed the data guardrails check, the next step is **intelligent
    feature engineering**. This consists of filling in missing values, dealing with
    high-cardinality categorical features, generating additional features, and one-hot
    encoding categorical features. More advanced feature engineering techniques using
    k-means clustering, weight of evidence, and advanced text analytics are also applied
    here.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您的数据通过了数据守卫检查，下一步就是**智能特征工程**。这包括填充缺失值，处理高基数分类特征，生成额外特征，以及进行分类特征的独热编码。这里还应用了更高级的特征工程技术，如k-means聚类、证据权重和高级文本分析。
- en: To begin, any columns consisting of all missing values, identical values, or
    extremely high cardinality (ID fields, GUIDs, and so on) will be automatically
    removed. Next, your missing numeric values will be filled in with the average
    (mean) of the column, while your missing categorical values will be filled with
    the most common value.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，任何由所有缺失值、相同值或极高基数（ID字段、GUID等）组成的列将被自动删除。接下来，您的缺失数值将用列的平均值（均值）填充，而您的缺失分类值将用最常见值填充。
- en: Following missing value imputation, additional columns will be generated for
    datetime features and text features. Datetime features include year, month, day,
    day of week, day of year, quarter, week of the year, hour, minute, and second.
    Text features include term frequency for groups of one, two, and three words.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 在缺失值填充之后，将为日期时间特征和文本特征生成额外的列。日期时间特征包括年、月、日、星期、年日、季度、年周、小时、分钟和秒。文本特征包括单个、两个和三个单词组的词频。
- en: Tip
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士
- en: It's sometimes better to fill in your missing values with measures other than
    the mean or most common value. In this case, fill in your data before it reaches
    AutoML.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 有时用除了平均值或最常见值之外的措施来填充缺失值会更好。在这种情况下，在数据达到AutoML之前填充您的数据。
- en: '**One-hot encoding** is then applied to all categorical columns. Simply put,
    this means that columns of 1s and 0s are created to represent each unique value
    in your original column. If your original column was *animal*, a dog will have
    a *1* in the newly created dog column and a *0* in all other animal columns. High-cardinality
    categorical columns will have grouped columns (*dog-cat*) created instead.'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '**独热编码**随后应用于所有分类列。简单来说，这意味着创建包含 1 和 0 的列来表示原始列中的每个唯一值。如果你的原始列是 *animal*，则狗在新创建的狗列中会有一个
    *1*，在其他所有动物列中为 *0*。高基数分类列将创建分组列（*dog-cat*）。'
- en: Important Note
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Advanced feature engineering is also applied; these techniques require a high
    degree of specialized knowledge in data science and text analytics. If you would
    like to learn more, please check Microsoft's *Featurization in Automated ML* documentation,
    located at [https://docs.microsoft.com/en-us/azure/machine-learning/how-to-configure-auto-features](https://docs.microsoft.com/en-us/azure/machine-learning/how-to-configure-auto-features).
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 高级特征工程也得到应用；这些技术需要数据科学和文本分析方面的专业知识。如果你想了解更多，请查看微软的 *自动机器学习中的特征化* 文档，位于 [https://docs.microsoft.com/en-us/azure/machine-learning/how-to-configure-auto-features](https://docs.microsoft.com/en-us/azure/machine-learning/how-to-configure-auto-features)。
- en: Normalizing data for ML with iterative data transformation
  id: totrans-181
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用迭代数据转换对数据进行归一化以进行机器学习
- en: ML models often perform better when you scale data. For example, if you have
    one column of numeric data with values between 5 and 10 and another column with
    values between 1 and 10 million, it's often better to normalize each column so
    that its minimum value is 0 and its maximum value is 1\. There are many types
    of normalization, and luckily, AutoML performs them for you with **iterative data
    transformation**.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 当你扩展数据时，ML 模型通常表现更好。例如，如果你有一列数值数据，其值介于 5 和 10 之间，另一列的值介于 1 和 1000 万之间，通常最好对每一列进行归一化，使其最小值为
    0，最大值为 1。有许多类型的归一化，幸运的是，AutoML 会为你执行这些操作，使用**迭代数据转换**。
- en: 'Every time AutoML trains a new model, it begins by scaling your data using
    one of seven methods. These seven methods are as follows:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 每次AutoML训练新模型时，它都会先使用七种方法之一对你的数据进行缩放。这七种方法如下：
- en: '**StandardScaler**'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**StandardScaler**'
- en: '**MinMaxScaler**'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**MinMaxScaler**'
- en: '**Maximum absolute value scaler**'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最大绝对值缩放器**'
- en: '**RobustScaler**'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**RobustScaler**'
- en: '**PCA**'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**PCA**'
- en: '**Truncated Singular Value Decomposition**'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**截断奇异值分解**'
- en: '**SparseNormalizer**'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SparseNormalizer**'
- en: Usually, you would have to code these yourself and try each one to determine
    which scaling method works best, but with AutoML, you don't even have to think
    about it.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，你必须自己编写代码并尝试每种方法来确定哪种缩放方法效果最好，但使用AutoML，你甚至不需要考虑这一点。
- en: Training models quickly with iterative ML model building
  id: totrans-192
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用迭代机器学习模型构建快速训练模型
- en: The core of Azure AutoML is **iterative ML model building**. AutoML will train
    models in parallel based on your settings from an extensive list of algorithms.
    Microsoft's AutoML team has only selected the best-performing algorithms models
    to be included in AutoML, and before adding a new one, it undergoes extensive
    testing. This ensures high model performance.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: Azure AutoML 的核心是**迭代机器学习模型构建**。AutoML 将根据你的设置并行训练模型，基于广泛算法列表。微软的AutoML团队只选择了性能最佳的算法模型包含在AutoML中，并且在添加新的模型之前，它将经过广泛的测试。这确保了模型的高性能。
- en: As you watch AutoML train models, you will often notice that it uses the same
    algorithm over and over again. In this case, it's trying out different combinations
    of hyperparameters to achieve a higher score. Hyperparameters are simply settings
    you can set that are specific to an algorithm, such as **tree depth** for decision
    trees or **loss** in stochastic gradient descent.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 当你观察AutoML训练模型时，你经常会注意到它反复使用相同的算法。在这种情况下，它正在尝试不同的超参数组合以达到更高的评分。超参数只是你可以设置的特定于算法的设置，例如决策树中的**树深度**或随机梯度下降中的**损失**。
- en: Speaking of scores, each type of problem – regression, classification, and forecasting
    – has different metrics you can use to score. AutoML also uses a different set
    of algorithms for each problem type. More information on both scoring metrics
    and algorithms is found in *Chapters 4, 5*, and *6*, which are on regression,
    classification, and forecasting, respectively.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 谈到评分，每种类型的问题——回归、分类和预测——都有不同的度量标准可以用来评分。AutoML 也为每种问题类型使用不同的算法集。关于评分指标和算法的更多信息可以在
    *第 4、5 和 6 章* 中找到，分别对应回归、分类和预测。
- en: Getting the best results with ML model ensembling
  id: totrans-196
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用机器学习模型集成获得最佳结果
- en: AutoML will keep training ML models until it reaches a set time limit or a set
    limit on the number of models. Once either of these limits is passed, it will
    perform **machine learning model ensembling** using a **voting ensemble** and
    a **stack ensemble**. Voting ensembles score data based on the weighted averages
    of your best models, while stack ensembles train a meta-model based on the predictions
    of your best models.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: AutoML 将持续训练机器学习模型，直到达到设定的时长限制或模型数量限制。一旦超过这些限制中的任何一个，它将使用 **投票集成** 和 **堆叠集成**
    执行 **机器学习模型集成**。投票集成根据你最佳模型的加权平均值评分数据，而堆叠集成基于你最佳模型的预测训练一个元模型。
- en: After training your ensemble models, AutoML will stop running and output the
    best model. Either the voting ensemble or stack ensemble will usually be your
    best-performing model. Sometimes, however, another model will slightly outperform
    both.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 在训练完你的集成模型后，AutoML 将停止运行并输出最佳模型。通常情况下，投票集成或堆叠集成将是你的表现最好的模型。然而，有时另一个模型可能会略微优于两者。
- en: Summary
  id: totrans-199
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you have learned about all the prerequisites that are necessary
    for creating AutoML solutions in Azure. You created an AMLS workspace and accessed
    AML studio before creating the necessary compute to run and write your AutoML
    jobs. You then loaded data into a datastore and registered it as a dataset to
    make it available for your AutoML runs.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你已经了解了在 Azure 中创建 AutoML 解决方案所需的所有先决条件。你创建了 AMLS 工作区，并在创建必要的计算资源以运行和编写你的
    AutoML 作业之前访问了 AML 工作室。然后，你将数据加载到数据存储中，并将其注册为数据集，以便在 AutoML 运行中使用。
- en: 'Importantly, you should now understand the four steps of the AutoML process:
    a data guardrails check, intelligent feature engineering, data transformation,
    and iterative ML model building. Everything you have done in this chapter will
    enable you to create a ML model in record time.'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是，你现在应该理解 AutoML 流程的四个步骤：数据守卫检查、智能特征工程、数据转换和迭代机器学习模型构建。本章中你所做的一切都将使你能够在创纪录的时间内创建机器学习模型。
- en: You are now ready for [*Chapter 3*](B16595_03_ePub.xhtml#_idTextAnchor044),
    *Training Your First AutoML Model*, where you will build your first AutoML model
    through a **GUI**. This chapter will cover a range of topics, from examining data
    to scoring models and explaining results. By the end of that chapter, you will
    not only be able to train models with AutoML, but you will also be able to show
    and explain your results to end users in a way that's guaranteed to earn their
    trust.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在已准备好进入 [*第 3 章*](B16595_03_ePub.xhtml#_idTextAnchor044)，*训练你的第一个 AutoML 模型*，你将通过
    **GUI** 构建你的第一个 AutoML 模型。本章将涵盖从检查数据到评分模型和解释结果的一系列主题。到那一章结束时，你不仅能够使用 AutoML 训练模型，而且你还将能够以确保赢得最终用户信任的方式展示和解释你的结果。
