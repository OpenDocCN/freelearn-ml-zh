- en: Overview of an Amazon Machine Learning Workflow
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 亚马逊机器学习工作流程概述
- en: 'This chapter offers an overview of the workflow of a simple Amazon Machine
    Learning (Amazon ML) project, which comprises three main phases:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章概述了一个简单亚马逊机器学习（Amazon ML）项目的流程，它包括三个主要阶段：
- en: Preparing the data
  id: totrans-2
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 准备数据
- en: Training and selecting the model
  id: totrans-3
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 训练和选择模型
- en: Making predictions
  id: totrans-4
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进行预测
- en: The reader will learn how to get started on the Amazon Machine Learning platform,
    how to set up an account, and how to secure it. In the second part, we go through
    a simple numeric prediction problem based on a classic dataset. We describe each
    of the three steps mentioned above, what happens, what to expect, and how to interpret
    the final result.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 读者将学习如何在亚马逊机器学习平台上开始，如何设置账户，以及如何保护账户。在第二部分，我们将通过一个基于经典数据集的简单数值预测问题进行讲解。我们描述了上述三个步骤中每个步骤发生的情况、预期结果以及如何解释最终结果。
- en: 'In this chapter, we will study the following:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将研究以下内容：
- en: Opening an Amazon Web Services (AWS) account
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开设亚马逊网络服务（AWS）账户
- en: Setting up the account
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置账户
- en: Overview of a standard Amazon Machine Learning workflow
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标准亚马逊机器学习工作流程概述
- en: Opening an Amazon Web Services Account
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 开设亚马逊网络服务账户
- en: Signing up for an AWS account is straightforward. Go to [http://aws.amazon.com/](http://aws.amazon.com/),
    and choose Create a AWS Account. If you don't have an AWS account yet, take advantage
    of the free tier access. New free-tier accounts enjoy free resources up to a certain
    limit for up to 12 months. These free resources are available for many AWS services,
    such as EC2, S3, RDS or Redshift, and so forth. Unfortunately, Amazon Machine
    Learning is not included in the AWS Free Tier. You will be billed for your Amazon
    ML usage. However, since Amazon ML requires your data to be stored on S3 or another
    AWS source such as RedShift, which are included in the Free Tier offer, it will
    still be advantageous to start with a free tier account. Follow the instructions
    to open a free tier account. You will be asked for your name, e-mail, address,
    phone number, and payment information.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在AWS账户注册非常简单。访问[http://aws.amazon.com/](http://aws.amazon.com/)，并选择创建AWS账户。如果您还没有AWS账户，可以利用免费层访问。新免费层账户在前12个月内可以享受一定限制内的免费资源。这些免费资源适用于许多AWS服务，如EC2、S3、RDS或Redshift等。不幸的是，亚马逊机器学习不包括在AWS免费层中。您将因使用亚马逊ML而付费。然而，由于亚马逊ML需要将您的数据存储在S3或另一个AWS资源（如RedShift）上，而这些资源包括在免费层提供中，因此从免费层账户开始仍然是有利的。按照说明开设免费层账户。您将被要求提供您的姓名、电子邮件、地址、电话号码和支付信息。
- en: If you are already an Amazon retail customer, it will be easier if you separate
    your AWS account from your personal retail amazon account by using a different
    e-mail address for your AWS account. This is especially true if you plan to recover
    the costs of working on Amazon ML for professional purposes. Using the same e-mail
    for both your personal retail account (Amazon Prime, echo, and so on) and your
    AWS account could become confusing.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您已经是亚马逊零售客户，通过使用不同的电子邮件地址来区分您的AWS账户和个人零售亚马逊账户将会更容易。这尤其适用于您计划为了专业目的从亚马逊机器学习（Amazon
    ML）中恢复成本的情况。使用相同的电子邮件地址同时为您的个人零售账户（如亚马逊Prime、Echo等）和AWS账户可能会造成混淆。
- en: Security
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安全性
- en: The e-mail and password you have used to open an AWS account are called your
    root credentials. They give you root access to every AWS service, which means
    unlimited access to unlimited resources. Someone obtaining your root credentials
    without your knowledge could rack up a heavy bill and they could carry out all
    types of activities through your account in your name. It is highly recommended
    not to use this root access in your everyday operations with AWS and to set up
    your account with the highest security level possible.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 您用于开设AWS账户的电子邮件和密码被称为您的根凭证。它们为您提供了对每个AWS服务的根访问权限，这意味着对无限资源的无限访问。如果有人未经您的知晓获取了您的根凭证，他们可能会产生高额账单，并且他们可以在您的名义下通过您的账户执行所有类型的活动。强烈建议不要在日常的AWS操作中使用这种根访问权限，并尽可能设置最高安全级别的账户。
- en: Fortunately, AWS offers many ways to control and compartmentalize access to
    your AWS account through users, groups, roles, policies, passwords, and multi-factor
    authentication to reduce risks of unlawful access and fraud. Configuring and managing
    access to your account is done via the **AWS Identity and Access Management (IAM)**
    service. The IAM service is free of charge.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，AWS 提供了许多通过用户、组、角色、策略、密码和多因素认证来控制和隔离对您的 AWS 账户访问的方法，以降低非法访问和欺诈的风险。配置和管理对您账户的访问是通过
    **AWS 身份和访问管理 (IAM)** 服务完成的。IAM 服务是免费的。
- en: The IAM service allows you to create and configure all the access points to
    the different AWS services you plan to use. Having this level of granularity is
    important. You can restrict access by user, by service, by role, or even enable
    temporary access through tokens, which are limited in time. Enabling multi-factor
    authentication is another strongly recommended feature you should enable in order
    to prevent unauthorized access to your AWS account.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: IAM 服务允许您创建和配置您计划使用的所有 AWS 服务的访问点。这种级别的粒度非常重要。您可以通过用户、服务、角色来限制访问，甚至可以通过令牌启用临时访问，这些令牌有时间限制。启用多因素认证是另一个强烈建议您启用的功能，以防止未经授权访问您的
    AWS 账户。
- en: 'In the context of this book, we will create a single user with unlimited access
    to only two services: Amazon ML and S3\. We will extend this user''s access to
    other AWS services as we need them in following chapters.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的上下文中，我们将创建一个具有对仅两个服务（Amazon ML 和 S3）无限制访问的单个用户。随着我们在后续章节中需要时，我们将扩展此用户的访问权限到其他
    AWS 服务。
- en: We won't go through all the features offered by IAM here, but it's strongly
    recommended that you familiarize yourself with the IAM documentation and best
    practices ([http://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html](http://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html)).
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不会在这里详细介绍 IAM 提供的所有功能，但我们强烈建议您熟悉 IAM 文档和最佳实践([http://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html](http://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html))。
- en: Setting up the account
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置账户
- en: When you set up your account for the first time, you are given access to your
    root public and secret access keys. These keys will be useful as you manage data
    on S3 and models in Amazon ML via the command line interface (AWS CLI). These
    two keys will only be available for you to view and copy at the time of creation.
    Once that page in your browser is closed, you can no longer access them and will
    need to create new ones. Creating new root keys is done by accessing My Account
    | Security Credentials. It's worth noting that no one can have access to your
    keys in AWS, not even the administrator of your account.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 当您第一次设置账户时，您将获得访问您的根公共和秘密访问密钥的权限。这些密钥在您通过命令行界面（AWS CLI）管理 S3 上的数据以及 Amazon ML
    中的模型时将非常有用。这两个密钥在创建时将仅对您可用，以便查看和复制。一旦浏览器中的页面关闭，您将无法再访问它们，并将需要创建新的。创建新的根密钥是通过访问“我的账户”|“安全凭证”完成的。值得注意的是，没有人可以访问您的密钥，即使是您账户的管理员也不例外。
- en: We won't go through all the possible actions you can take in IAM to configure,
    manage, and secure access to your account as a full presentation of IAM is beyond
    the scope of this book. Your access management needs and policies will depend
    on the size of your organization and security constraints. We assume here that
    you are a unique individual user of the account and that you do not need to set
    up password policies for other users, groups, or roles. However, we strongly recommend
    you familiarize yourself with IAM documentation and implement the IAM best practice
    ([https://aws.amazon.com/documentation/iam](https://aws.amazon.com/documentation/iam)).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不会在这里详细介绍您可以在 IAM 中采取的所有操作来配置、管理和保护对您账户的访问，因为 IAM 的全面介绍超出了本书的范围。您的访问管理需求和策略将取决于您组织的规模和安全限制。我们假设您是该账户的唯一个人用户，并且您不需要为其他用户、组或角色设置密码策略。然而，我们强烈建议您熟悉
    IAM 文档并实施 IAM 最佳实践([https://aws.amazon.com/documentation/iam](https://aws.amazon.com/documentation/iam))。
- en: We will create a new user whose username is `AML@Packt` and will use this access
    for the rest of the book. The only time when we use the root access (with the
    password you used to create the AWS account in the first place) is when we need
    to add or remove services to and from the `AML@Packt` user, for instance, when
    we want the user to use Amazon Athena for data processing or **Amazon Lambda**
    for scripting.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将创建一个名为`AML@Packt`的新用户，并将在此书的其余部分使用此访问权限。唯一需要使用根访问（即您最初创建AWS账户时使用的密码）的情况是我们需要向`AML@Packt`用户添加或删除服务，例如，当我们需要用户使用Amazon
    Athena进行数据处理或**Amazon Lambda**进行脚本编写时。
- en: 'The IAM dashboard is available at [https://console.aws.amazon.com/iam](https://console.aws.amazon.com/iam/home#/home).
    It displays how many IAM assets you have created (users, roles, groups, and so
    on) as well as your security status as shown by this screenshot:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: IAM仪表板可在[https://console.aws.amazon.com/iam](https://console.aws.amazon.com/iam/home#/home)找到。它显示了您已创建多少个IAM资产（用户、角色、组等），以及如以下截图所示的安全状态：
- en: '![](img/image_03_001.png)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![](img/image_03_001.png)'
- en: 'This screenshot shows that we have implemented the following three items:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 此截图显示了以下三项已实施的内容：
- en: '**Delete your root access keys**: These keys were given to you when you created
    your account. Since they provide unlimited access to your account, you should
    delete them and use only user-based access keys to access your account.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**删除您的根访问密钥**：这些密钥是在您创建账户时分配给您的。由于它们提供了对账户的无限制访问，您应该删除它们，并仅使用基于用户的访问密钥来访问您的账户。'
- en: '**Activate Multi Factor Authentication on your root account:** After you have
    logged in with your login and password, Multi Factor Authentication (MFA) requires
    you to input a six digit code. This code can either be sent to you via text or
    e-mail or made available via an authenticator app installed on your mobile phone.
    MFA is a easy-to-implement and efficient means to secure access to your account.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**在您的根账户上激活多因素认证：**登录并使用您的用户名和密码后，多因素认证（MFA）要求您输入一个六位数的代码。此代码可以通过短信或电子邮件发送给您，或者通过安装在您手机上的认证器应用程序提供。MFA是一种易于实施且高效的账户访问安全保障方式。'
- en: '**Create individual IAM users:** By creating individual users you can restrict,
    manage their access level, and deactivate their account easily.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**创建单个IAM用户**：通过创建单个用户，您可以限制、管理他们的访问级别，并轻松地停用他们的账户。'
- en: You could also create groups to assign permissions to your users and define
    a password policy.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以创建组来分配用户权限并定义密码策略。
- en: Creating a user
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建用户
- en: 'Let''s start by creating your user. Go to the IAM dashboard at [https://console.aws.amazon.com/iam/](https://console.aws.amazon.com/iam/)
    and click on Users on the left sidebar. The user creation process is straightforward:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从创建您的用户开始。转到IAM仪表板[https://console.aws.amazon.com/iam/](https://console.aws.amazon.com/iam/)，然后在左侧侧边栏中单击“用户”。用户创建过程很简单：
- en: Click Create New Users.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“创建新用户”。
- en: Enter your user name. Keep the Generate an access key for each user checkbox
    selected.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入您的用户名。保持为每个用户生成访问密钥的复选框选中。
- en: 'At that point, your user is created and you can choose to view and download
    the user security credentials. One of these two keys, the **Secret Access Key**,
    will no longer be available once you move away from this page. Be sure to copy
    or download the two keys now. If you lose the keys, you can always recreate a
    pair of new keys for that user from the IAM > Users dashboard. This screenshot
    is an example of the two user keys for the `AML@Packt` user we just created. Your
    keys will obviously be different than these ones:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 到那时，您的用户已创建，您可以选择查看和下载用户安全凭证。一旦您离开此页面，这两个密钥中的一个，即**秘密访问密钥**将不再可用。请确保现在复制或下载这两个密钥。如果您丢失了密钥，您始终可以从IAM
    > 用户仪表板为该用户重新创建一对新密钥。此截图是我们刚刚创建的`AML@Packt`用户的两个用户密钥的示例。您的密钥显然与这些不同：
- en: '![](img/image_03_002.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](img/image_03_002.png)'
- en: And that's it! Your `AML@Packt` user has been created. You can use `AML@Packt`'s
    access keys to access and manage AWS services via APIs and the command line. At
    this point, the `AML@Packt` user has unlimited access to all AWS services. In
    order to restrict the access scope of that user, you will need to attach policies
    to the user.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 就这样！您的`AML@Packt`用户已创建。您可以使用`AML@Packt`的访问密钥通过API和命令行访问和管理AWS服务。在此阶段，`AML@Packt`用户对所有AWS服务具有无限访问权限。为了限制该用户的访问范围，您需要将策略附加到该用户。
- en: Defining policies
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 定义策略
- en: Policies declare what services a user or a group can access and the level of
    access (read-only, full access, and so forth). You can define global policies
    that take care of several services at the same time and attach them to groups
    of users, or you can attach specific mono-service policies to your user. This
    is what we'll do now.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 策略声明用户或组可以访问哪些服务以及访问级别（只读、完全访问等）。您可以定义同时照顾几个服务的全局策略，并将它们附加到用户组，或者您可以将特定的单服务策略附加到您的用户。这就是我们现在要做的。
- en: 'Once you have created your user and downloaded its credentials, you end up
    on the IAM user dashboard with a list of all your created users. Select the `AML@Packt`
    user and the permissions tab. Check all the services you know that the user will
    need to access. In our case, we select two services each with full access, which
    will be sufficient to explore the Amazon Machine Learning service:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您创建了用户并下载了其凭证，您将结束在IAM用户仪表板上，列出了您创建的所有用户。选择`AML@Packt`用户和权限选项卡。检查用户将需要访问的所有已知服务。在我们的例子中，我们选择了两个具有完全访问权限的服务，这将足够探索Amazon机器学习服务：
- en: Amazon Machine Learning Full Access
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Amazon机器学习完全访问
- en: Amazon S3 Full Access
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Amazon S3完全访问
- en: We will add other policies to these users to enable other services (Athena,
    RedShift, RDS, and so on) as needed later on.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在需要时为这些用户添加其他策略，以启用其他服务（Athena、RedShift、RDS等）。
- en: Creating login credentials
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建登录凭证
- en: 'Last but not least if we want to use the `AML@Packt` user to log in to the
    AWS console, we must create login credentials for that user. As shown in the next
    screenshot, the Security Credentials tab is where you manage the user access keys,
    sign in credentials, and SSH keys:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 最后但同样重要的是，如果我们想使用`AML@Packt`用户登录AWS控制台，我们必须为该用户创建登录凭证。如图所示，安全凭证选项卡是您管理用户访问密钥、登录凭证和SSH密钥的地方：
- en: '![](img/image_03_003.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_003.png)'
- en: SSH keys are not the same as access keys. SSH keys will let you SSH into certain
    assets, such as *EC2* servers. Many services machine learning included have no
    use for SSH keys. Access keys, on the other hand, are used to programmatically
    manage AWS services. Access keys are necessary for setting the credentials needed
    to use the command line interface (AWS CLI).
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: SSH密钥与访问密钥不同。SSH密钥将允许您SSH进入某些资产，例如*EC2*服务器。许多服务，包括机器学习服务，都不需要SSH密钥。另一方面，访问密钥用于程序化管理AWS服务。访问密钥对于设置使用命令行界面（AWS
    CLI）所需的凭证是必要的。
- en: 'Click on Manage Password and set a password for the user. This is what the
    permission for user `AML@Packt` looks like:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 点击管理密码并为用户设置密码。这是用户`AML@Packt`的权限看起来是这样的：
- en: '![](img/image_03_004.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_004.png)'
- en: 'At this point, our IAM dashboard looks like this:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们的IAM仪表板看起来是这样的：
- en: '![](img/image_03_005.png)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_005.png)'
- en: 'This previous screenshot shows the following:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的截图显示了以下内容：
- en: We have deleted the root access keys. We can no longer programmatically access
    all AWS services in an unlimited fashion via the command line or APIs. We can
    still log in as root to the AWS console to create and manage access for people,
    but these will depend on the policies and access level we provide them with.
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们已删除root访问密钥。我们不能再通过命令行或API以无限的方式程序化访问所有AWS服务。我们仍然可以以root身份登录AWS控制台以创建和管理人员的访问权限，但这些将取决于我们提供的策略和访问级别。
- en: We have activated **Multi Factor Authentication (MFA)**, a simple and very efficient
    way to secure access to AWS Services from your root access credentials.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们已激活**多因素认证（MFA）**，这是一种简单且非常有效的方式来保护从root访问凭证访问AWS服务。
- en: We have created the `AML@Packt` user, which we will use to log in to AWS and
    when using the APIs or the command line.
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们已创建了`AML@Packt`用户，我们将使用该用户登录AWS，并在使用API或命令行时。
- en: We have not created groups or password policies that would further constrain
    the root access as we intend to only access Amazon ML through the `AML@Packt`
    user.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 我们没有创建组或密码策略来进一步限制root访问，因为我们打算只通过`AML@Packt`用户访问Amazon ML。
- en: 'Here is a summary of the different ways you can access and use AWS services:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是您可以访问和使用AWS服务的不同方式的总结：
- en: Log in on the AWS Console with your root password and login using **Multi Factor
    Authentication (MFA)**.
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用您的root密码登录AWS控制台，并使用**多因素认证（MFA）**登录。
- en: Log in with the `AML@Packt` user with that user's login and password using MFA.
    The `AML@Packt` user can only use S3 and Amazon ML services. This is quite restrictive,
    but just the right amount of access for that user, nothing more.
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用带有`AML@Packt`用户的登录名和密码以及多因素认证（MFA）登录。`AML@Packt`用户只能使用S3和亚马逊ML服务。这相当限制性，但对于该用户来说，正是所需的访问量，不多也不少。
- en: Programmatically access S3 and Amazon ML via the S3 and Amazon ML access keys
    using the command line interface or AWS SDKs.
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过命令行界面或AWS SDK使用S3和亚马逊ML访问密钥以编程方式访问S3和亚马逊ML。
- en: We had started with one user, the root user able to access everything AWS can
    offer programmatically and via the console. The new setup is much more secure
    and worth the time it took to set it up. Our newly gained understanding of IAM
    roles and policies will also be helpful later on when we start using different
    AWS services in tandem as the services will need to have appropriate access to
    one another.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 我们最初从一个用户开始，即根用户，可以以编程方式和通过控制台访问AWS提供的一切。新的设置更加安全，并且值得花费设置它的时间。我们对IAM角色和策略的新理解也将有助于我们开始使用不同的AWS服务时，因为服务将需要相互之间适当的访问权限。
- en: Before we dive into the presentation of a standard Amazon ML workflow, we need
    a brief word on regions.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们深入介绍标准亚马逊ML工作流程之前，我们需要简要谈谈区域问题。
- en: Choosing a region
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 选择区域
- en: AWS currently operates data centers in 14 regions across the globe. More regions
    are being frequently opened across the globe ([https://aws.amazon.com/about-aws/global-infrastructure/](https://aws.amazon.com/about-aws/global-infrastructure/)).
    Most AWS services require you to choose a region of operation. The rule of thumb
    is to choose the region that is closest to you or the end-users accessing your
    resources.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: AWS目前在全球14个区域运营数据中心。全球各地正在频繁地开设更多区域([https://aws.amazon.com/about-aws/global-infrastructure/](https://aws.amazon.com/about-aws/global-infrastructure/))。大多数AWS服务要求您选择一个操作区域。一般规则是选择离您或访问您资源的最终用户最近区域。
- en: 'Choosing a region may depend on other factors, which may vary across regions,
    including:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 选择区域可能取决于其他因素，这些因素可能因区域而异，包括：
- en: Latency
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 延迟
- en: Pricing
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定价
- en: Security and compliance rules
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全和合规性规则
- en: Availability of the service
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务的可用性
- en: SLA–Service Level Agreements
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SLA–服务级别协议
- en: Use of renewable energy. At the time of writing, AWS offers two carbon neutral
    regions ([https://aws.amazon.com/about-aws/sustainability/](https://aws.amazon.com/about-aws/sustainability/))
    and is actively creating others .
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可再生能源的使用。在撰写本文时，AWS提供两个碳中和区域([https://aws.amazon.com/about-aws/sustainability/](https://aws.amazon.com/about-aws/sustainability/))，并正在积极创建更多区域。
- en: Amazon ML is only available in Northern Virginia and Ireland. You can check
    the following page for AWS availability per region: [https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/](https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/).
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊ML仅在弗吉尼亚北部和爱尔兰提供。您可以通过以下页面查看AWS在每个区域的可用性：[https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/](https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/)。
- en: '**GovCloud:** From the AWS documentation: The AWS GovCloud (US) is an isolated
    AWS region designed to host sensitive data and regulated workloads in the cloud,
    helping customers support their US government compliance requirements. IAM is
    region free, with the following exception: IAM is available in the US East (N.
    Virginia) region and in the GovCloud region. Users and roles created in the US
    East region can be used in all other regions except the GovCloud region. And GovCloud
    IAM users cannot be used outside of the GovCloud region.'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '**政府云**：根据AWS文档：AWS政府云（美国）是一个隔离的AWS区域，旨在在云中托管敏感数据和受监管的工作负载，帮助客户支持其美国政府的合规性要求。IAM是区域无关的，但有以下例外：IAM在美国东部（弗吉尼亚北部）区域和政府云区域可用。在美国东部区域创建的用户和角色可以在除政府云区域以外的所有其他区域中使用。政府云IAM用户不能在政府云区域之外使用。'
- en: Overview of a standard Amazon Machine Learning workflow
  id: totrans-73
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 标准亚马逊机器学习工作流程概述
- en: 'The Amazon Machine Learning service is available at [https://console.aws.amazon.com/machinelearning/](https://console.aws.amazon.com/machinelearning/).
    The Amazon ML workflow closely follows a standard Data Science workflow with steps:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊机器学习服务可在[https://console.aws.amazon.com/machinelearning/](https://console.aws.amazon.com/machinelearning/)访问。亚马逊ML工作流程紧密遵循标准的科学数据工作流程，步骤包括：
- en: Extract the data and clean it up. Make it available to the algorithm.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提取数据并进行清理。使其可供算法使用。
- en: Split the data into a training and validation set, typically a 70/30 split with
    equal distribution of the predictors in each part.
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据分为训练集和验证集，通常采用70/30的比例，每个部分预测因子的分布相等。
- en: Select the best model by training several models on the training dataset and
    comparing their performances on the validation dataset.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过在训练数据集上训练多个模型并在验证数据集上比较它们的性能来选择最佳模型。
- en: Use the best model for predictions on new data.
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用最佳模型对新数据进行预测。
- en: 'As shown in the following Amazon ML menu, the service is built around four
    objects:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 如以下Amazon ML菜单所示，该服务围绕四个对象构建：
- en: '![](img/image_03_006.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](img/image_03_006.png)'
- en: Datasource
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据源
- en: ML model
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 机器学习模型
- en: Evaluation
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 评估
- en: Prediction
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预测
- en: The Datasource and Model can also be configured and set up in the same flow
    by creating a new Datasource and ML model. Let us take a closer look at each one
    of these steps.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 数据源和模型也可以通过创建新的数据源和机器学习模型在同一流程中进行配置和设置。让我们更详细地看看每个步骤。
- en: The dataset
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据集
- en: For the rest of the chapter, we will use the simple `Predicting Weight by Height
    and Age` dataset (from *Lewis Taylor (1967)*) with 237 samples of children's age,
    weight, height, and gender, which is available at [https://v8doc.sas.com/sashtml/stat/chap55/sect51.htm](https://v8doc.sas.com/sashtml/stat/chap55/sect51.htm).
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的其余部分，我们将使用简单的`通过身高和年龄预测体重`数据集（来自*Lewis Taylor (1967)*），该数据集包含237个儿童的年龄、体重、身高和性别样本，可在[https://v8doc.sas.com/sashtml/stat/chap55/sect51.htm](https://v8doc.sas.com/sashtml/stat/chap55/sect51.htm)找到。
- en: 'This dataset is composed of 237 rows. Each row has the following predictors:
    sex (F, M), age (in *months*), height (in *inches*), and we are trying to predict
    the weight (in *lbs*) of these children. There are no missing values and no outliers.
    The variables are close enough in range and normalization is not required. In
    short, we do not need to carry out any preprocessing or cleaning on the original
    dataset. Age, height, and weight are numerical variables (real-valued), and sex
    is a categorical variable.'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 此数据集由237行组成。每一行有以下预测因子：性别（F，M）、年龄（以*月*为单位）、身高（以*英寸*为单位），我们试图预测这些儿童的体重（以*磅*为单位）。没有缺失值和异常值。变量范围足够接近，不需要归一化。简而言之，我们不需要对原始数据集进行任何预处理或清理。年龄、身高和体重是数值变量（实值），性别是分类变量。
- en: 'We will randomly select 20% of the rows as the held-out subset to use for prediction
    on previously unseen data and keep the other 80% as training and evaluation data.
    This data split can be done in Excel or any other spreadsheet editor:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将随机选择20%的行作为保留子集，用于对先前未见过的数据进行预测，并保留其余80%作为训练和评估数据。这种数据拆分可以在Excel或其他电子表格编辑器中完成：
- en: By creating a new column with randomly generated numbers
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过创建一个包含随机生成数字的新列
- en: Sorting the spreadsheet by that column
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按该列对电子表格进行排序
- en: Selecting 190 rows for training and 47 rows for prediction (roughly a 80/20
    split)
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择190行用于训练，47行用于预测（大约80/20的比例）
- en: Let us name the training set `LT67_training.csv` and the held-out set that we will
    use for prediction `LT67_heldout.csv`, where *LT67* stands for *Lewis and Taylor,*
    the creator of this dataset in 1967.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们命名训练集为`LT67_training.csv`，我们将用于预测的保留集命名为`LT67_heldout.csv`，其中*LT67*代表*Lewis
    and Taylor*，这是1967年创建此数据集的人。
- en: As with all datasets, scripts, and resources mentioned in this book, the training
    and holdout files are available in the GitHub repository at [https://github.com/alexperrier/packt-aml](https://github.com/alexperrier/packt-aml).
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 与本书中提到的所有数据集、脚本和资源一样，训练和保留文件可在GitHub存储库[https://github.com/alexperrier/packt-aml](https://github.com/alexperrier/packt-aml)中找到。
- en: Note that it is important for the distribution in age, sex, height, and weight
    to be similar in both subsets. We want the data on which we will make predictions
    to show patterns that are similar to the data on which we will train and optimize
    our model.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，在年龄、性别、身高和体重方面，两个子集的分布应相似。我们希望用于预测的数据显示出的模式与我们将用于训练和优化模型的数据相似。
- en: 'In the rest of this section, we will do the following:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节的其余部分，我们将执行以下操作：
- en: Load the data on S3.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在S3上加载数据。
- en: Let Amazon ML infer the schema and transform the data.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让Amazon ML推断模式并转换数据。
- en: Create a model.
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建模型。
- en: Evaluate the model's performance.
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 评估模型的性能。
- en: Make a prediction on the held-out dataset.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在保留的测试数据集上进行预测。
- en: Loading the data on S3
  id: totrans-102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在S3上加载数据
- en: 'Follow these stepsto load the training and held-out datasets on S3:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 按以下步骤在S3上加载训练集和保留集：
- en: Go to your s3 console at [https://console.aws.amazon.com/s3](https://console.aws.amazon.com/s3).
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往您的S3控制台[https://console.aws.amazon.com/s3](https://console.aws.amazon.com/s3)。
- en: Create a bucket if you haven't done so already. Buckets are basically folders
    that are uniquely named across all S3\. We created a bucket named `aml.packt`.
    Since that name has now been taken, you will have to choose another bucket name
    if you are following along with this demonstration.
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果尚未创建，请创建一个存储桶。存储桶基本上是跨所有S3唯一命名的文件夹。我们创建了一个名为`aml.packt`的存储桶。由于该名称已被占用，如果您正在跟随此演示，您将不得不选择另一个存储桶名称。
- en: 'Click on the bucket name you created and upload both the `LT67_training.csv`
    and `LT67_heldout.csv` files by selecting Upload from the Actions drop-down menu:'
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击您创建的存储桶名称，并通过从操作下拉菜单中选择“上传”来上传`LT67_training.csv`和`LT67_heldout.csv`文件：
- en: '![](img/image_03_007.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_007.png)'
- en: Both files are small, only a few KB, and hosting costs should remain negligible
    for that exercise.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个文件都很小，只有几KB，因此在此练习中的托管成本应该微乎其微。
- en: Note that for each file, by selecting the Properties tab on the right, you can
    specify how your files are accessed, what user, role, group or AWS service may
    download, read, write, and delete the files, and whether or not they should be
    accessible from the Open Web. When creating the datasource in Amazon ML, you will
    be prompted to grant Amazon ML access to your input data. You can specify the
    access rules to these files now in S3 or simply grant access later on.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，对于每个文件，通过在右侧选择“属性”选项卡，您可以指定如何访问您的文件，哪些用户、角色、组或AWS服务可以下载、读取、写入和删除文件，以及它们是否应该可以从公开网络访问。当在Amazon
    ML中创建数据源时，您将被提示授予Amazon ML访问您的输入数据的权限。您现在可以在S3中指定这些文件的访问规则，或者稍后简单地授予访问权限。
- en: Our data is now in the cloud in an S3 bucket. We need to tell Amazon ML where
    to find that input data by creating a datasource. We will first create the datasource
    for the training file `ST67_training.csv`.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的数据现在存储在云中的S3存储桶中。我们需要通过创建数据源来告诉Amazon ML在哪里可以找到这些输入数据。我们将首先为训练文件`ST67_training.csv`创建数据源。
- en: Declaring a datasource
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 声明数据源
- en: 'Go to the Amazon ML dashboard, and click on Create new... | Datasource and
    ML model. We will use the faster flow available by default:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 前往Amazon ML仪表板，点击“创建新... | 数据源和ML模型”。我们将使用默认的快速流程：
- en: '![](img/image_03_008.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_008.png)'
- en: 'As shown in the following screenshot, you are asked to specify the path to
    the `LT67_training.csv` file `{S3://bucket}{path}{file}`. Note that the S3 location
    field automatically populates with the bucket names and file names that are available
    to your user:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 如以下截图所示，您需要指定`LT67_training.csv`文件的路径`{S3://bucket}{path}{file}`。请注意，S3位置字段会自动填充您用户可用的存储桶名称和文件名称：
- en: '![](img/image_03_009.png)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_009.png)'
- en: 'Specifying a Datasource name is useful to organize your Amazon ML assets. By
    clicking on Verify, Amazon ML will make sure that it has the proper rights to
    access the file. In case it needs to be granted access to the file, you will be
    prompted to do so as shown in the following screenshot:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 指定数据源名称有助于组织您的Amazon ML资产。通过点击“验证”，Amazon ML将确保它有权访问该文件。如果需要授予文件访问权限，您将如以下截图所示被提示进行操作：
- en: '![](img/image_03_010.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_010.png)'
- en: Just click on Yes to grant access. At this point, Amazon ML will validate the
    datasource and analyze its contents.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 只需点击“是”以授予访问权限。此时，Amazon ML将验证数据源并分析其内容。
- en: Creating the datasource
  id: totrans-119
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建数据源
- en: 'An Amazon ML datasource is composed of the following:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 一个Amazon ML数据源由以下组成：
- en: 'The location of the data file: The data file is not duplicated or cloned in
    Amazon ML but accessed from S3'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据文件的位置：数据文件在Amazon ML中不会被复制或克隆，而是从S3访问
- en: 'The schema that contains information onthe type of the variables contained
    in the CSV file:'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包含CSV文件中变量类型信息的模式：
- en: Categorical
  id: totrans-123
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分类
- en: Text
  id: totrans-124
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文本
- en: Numeric (real-valued)
  id: totrans-125
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数值（实值）
- en: Binary
  id: totrans-126
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 二进制
- en: As we will see in [Chapter 4](08d9b49a-a25c-4706-8846-36be9538b087.xhtml), *Loading
    and Preparing the Dataset*, it is possible to supply Amazon ML with your own schema
    or modify the one created by Amazon ML.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们将在[第4章](08d9b49a-a25c-4706-8846-36be9538b087.xhtml)“加载数据集和准备数据”中看到，您可以为Amazon
    ML提供自己的模式或修改由Amazon ML创建的模式。
- en: 'At this point, Amazon ML has a pretty good idea of the type of data in your
    training dataset. It has identified the different types of variables and knows
    how many rows it has:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，Amazon ML对您的训练数据集中的数据类型有了相当好的了解。它已识别不同类型的变量，并知道它有多少行：
- en: '![](img/image_03_011.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_011.png)'
- en: 'Move on to the next step by clicking on Continue, and see what schema Amazon
    ML has inferred from the dataset as shown in the next screenshot:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 通过点击“继续”进入下一步，查看 Amazon ML 从数据集中推断出的模式，如下一张截图所示：
- en: '![](img/image_03_012.png)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_012.png)'
- en: 'Amazon ML needs to know at that point which is the variable you are trying
    to predict. Be sure to tell Amazon ML the following:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 到那时，Amazon ML 需要知道你正在尝试预测哪个变量。务必告诉 Amazon ML 以下信息：
- en: The first line in the CSV file contains te column name
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CSV 文件的第一行包含列名
- en: The target is the `weight`
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 目标是 `重量`
- en: 'We see here that Amazon ML has correctly inferred the following:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 我们看到 Amazon ML 正确推断出以下信息：
- en: '`sex` is categorical'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`性别` 是分类的'
- en: '`age`, `height`, and `weight` are numeric (continuous real values)'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`年龄`, `身高` 和 `体重` 是数值型（连续的实数值）'
- en: 'Since we chose a numeric variable as the target Amazon ML, will use Linear
    Regression as the predictive model. For binary or categorical values, we would
    have used Logistic Regression. This means that Amazon ML will try to find the
    best *a*, *b*, and *c* coefficients so that the weight predicted by the following
    equation is as close as possible to the observed real weight present in the data:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们选择了一个数值型变量作为目标，Amazon ML 将使用线性回归作为预测模型。对于二元或分类值，我们会使用逻辑回归。这意味着 Amazon ML
    将尝试找到最佳的 *a*, *b*, 和 *c* 系数，以便预测的重量尽可能接近数据中观察到的实际重量：
- en: '*predicted weight = a * age + b * height + c * sex*'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '*预测重量 = a * 年龄 + b * 身高 + c * 性别*'
- en: Amazon ML will then ask you if your data contains a row identifier. In our present
    case, it does not. Row identifiers are useful when you want to understand the
    prediction obtained for each row or add an extra column to your dataset later
    on in your project. Row identifiers are for reference purposes only and are not
    used by the service to build the model.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon ML 将询问你的数据是否包含行标识符。在我们的案例中，没有。行标识符在你想了解每行的预测结果或在你项目的后期添加额外的列时很有用。行标识符仅用于参考，服务不会使用它们来构建模型。
- en: You will be asked to review the datasource. You can go back to each one of the
    previous steps and edit the parameters for the schema, the target and the input
    data. Now that the data is known to Amazon ML, the next step is to set up the
    parameters of the algorithm that will train the model.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 你将被要求审查数据源。你可以返回到之前的每个步骤并编辑模式、目标和输入数据的参数。现在数据已告知 Amazon ML，下一步是设置训练模型的算法参数。
- en: The model
  id: totrans-142
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 模型
- en: 'We select the default parameters for the training and evaluation settings.
    Amazon ML will do the following:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 我们为训练和评估设置选择了默认参数。Amazon ML 将执行以下操作：
- en: Create a recipe for data transformation based on the statistical properties
    it has inferred from the dataset
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据从数据集中推断出的统计属性创建数据转换的食谱
- en: Split the dataset (`ST67_training.csv`) into a training part and a validation
    part, with a 70/30 split. The split strategy assumes the data has already been
    shuffled and can be split sequentially.
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将数据集 (`ST67_training.csv`) 分为训练部分和验证部分，比例为 70/30。分割策略假设数据已经打乱，可以顺序分割。
- en: In [Chapter 4](08d9b49a-a25c-4706-8846-36be9538b087.xhtml), *Loading and Preparing
    the Dataset*, we will take the longer road and work directly on the recipes, the
    schemas, and the validation split. On the next page, you are asked to review the
    model you just created.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [第 4 章](08d9b49a-a25c-4706-8846-36be9538b087.xhtml)，*加载数据集和准备数据*，我们将走更长的路，直接在食谱、模式和验证分割上工作。在下一页，你将被要求审查你刚刚创建的模型。
- en: The recipe will be used to transform the data in a similar way for the training
    and the validation datasets. The only transformation suggested by Amazon ML is to
    transform the categorical variable `sex` into a binary variable, where `m = 0`
    and `f = 1` for instance. No other transformation is needed.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 该食谱将用于以类似的方式转换训练集和验证集的数据。Amazon ML 建议的唯一转换是将分类变量 `性别` 转换为二元变量，例如 `m = 0` 和 `f
    = 1`。不需要其他转换。
- en: 'The default advanced settings for the model are shown in the following screenshot:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 模型的默认高级设置如下截图所示：
- en: '![](img/image_03_013.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_013.png)'
- en: We see that Amazon ML will pass over the data 10 times, shuffle splitting the
    data each time. It will use an L2 regularization strategy based on the sum of
    the square of the coefficients of the regression to prevent overfitting. We will
    evaluate the predictive power of the model using our `LT67_heldout.csv` dataset
    later on.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到Amazon ML会遍历数据10次，每次遍历都会打乱数据分割。它将使用基于回归系数平方和的L2正则化策略来防止过拟合。我们将在稍后使用我们的`LT67_heldout.csv`数据集来评估模型的预测能力。
- en: Regularization comes in 3 levels with a *mild* (10^(^-6)), *medium* (10^(^-4)),
    or *aggressive* (10^(^-02)) setting, each value stronger than the previous one.
    The default setting is mild*,* the lowest, with a regularization constant of *0.00001*
    (10^(^-6)) implying that Amazon ML does not anticipate much overfitting on this
    dataset. This makes sense when the number of predictors, three in our case, is
    much smaller than the number of samples (190 for the training set).
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 正则化有3个级别，有*温和*（10的^-6次方）、*中等*（10的^-4次方）或*激进*（10的^-2次方）的设置，每个值比前一个值更强。默认设置是*温和*，*最低的*，正则化常数为*0.00001*（10的^-6次方），这意味着Amazon
    ML不预期在这个数据集上有太多的过拟合。当预测器的数量（在我们的案例中是三个）远小于样本数量（训练集为190个）时，这很有意义。
- en: Clicking on the Create ML model button will launch the model creation. This
    takes a few minutes to resolve, depending on the size and complexity of your dataset.
    You can check its status by refreshing the model page. In the meantime, the model
    status remains pending.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 点击创建ML模型按钮将启动模型创建。这需要几分钟的时间来解析，具体取决于数据集的大小和复杂性。你可以通过刷新模型页面来检查其状态。在此期间，模型状态保持待定。
- en: 'At that point, Amazon ML will split our training dataset into two subsets:
    a training and a validation set. It will use the training portion of the data
    to train several settings of the algorithm and select the best one based on its
    performance on the training data. It will then apply the associated model to the
    validation set and return an evaluation score for that model. By default, Amazon
    ML will sequentially take the first 70% of the samples for training and the remaining
    30% for validation.'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 在那个点上，Amazon ML将我们的训练数据集分成两个子集：一个训练集和一个验证集。它将使用数据的训练部分来训练算法的几个设置，并根据其在训练数据上的性能选择最佳设置。然后，它将相关的模型应用于验证集，并为该模型返回一个评估分数。默认情况下，Amazon
    ML将按顺序取前70%的样本用于训练，剩余的30%用于验证。
- en: 'It''s worth noting that Amazon ML will not create two extra files and store
    them on S3, but instead create two new datasources out of the initial datasource
    we have previously defined. Each new datasource is obtained from the original
    one via a `Data rearrangement` JSON recipe such as the following:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，Amazon ML不会创建两个额外的文件并将它们存储在S3上，而是从我们之前定义的初始数据源中创建两个新的数据源。每个新的数据源都是通过以下`数据重排`JSON配方从原始数据源获得的：
- en: '[PRE0]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'You can see these two new datasources in the Datasource dashboard. Three datasources
    are now available where there was initially only one, as shown by the following
    screenshot:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在数据源仪表板中看到这两个新的数据源。现在有三个数据源可用，而最初只有一个，如下面的截图所示：
- en: '![](img/image_03_014.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_014.png)'
- en: 'While the model is being trained, Amazon ML runs the Stochastic Gradient algorithm
    several times on the training data with different parameters:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 在模型训练过程中，Amazon ML会在训练数据上多次运行随机梯度算法，并使用不同的参数：
- en: 'Varying the learning rate in increments of powers of 10: 0.01, 0.1, 1, 10,
    and 100.'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以10的幂次递增的方式调整学习率：0.01，0.1，1，10和100。
- en: Making several passes over the training data while shuffling the samples before
    each path.
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在每次路径之前，对训练数据进行多次遍历并打乱样本。
- en: At each pass, calculating the prediction error, the **Root Mean Squared Error
    (RMSE)**, to estimate how much of an improvement over the last pass was obtained.
    If the decrease in RMSE is not really significant, the algorithm is considered
    to have converged, and no further pass shall be made.
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在每次遍历中，计算预测误差，即**均方根误差 (RMSE**)，以估计相对于上一次遍历的改进程度。如果RMSE的下降并不真正显著，则认为算法已经收敛，不应再进行进一步的遍历。
- en: At the end of the passes, the setting that ends up with the lowest RMSE wins,
    and the associated model (the weights of the regression) is selected as the best
    version.
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在遍历结束时，具有最低RMSE的设置获胜，并且相关的模型（回归的权重）被选为最佳版本。
- en: Once the model has finished training, Amazon ML evaluates its performance on
    the validation datasource. Once the evaluation itself is also ready, you have
    access to the model's evaluation.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦模型完成训练，Amazon ML就会在验证数据源上评估其性能。一旦评估本身也准备好了，你就可以访问模型的评估结果。
- en: The evaluation of the model
  id: totrans-164
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 模型的评估
- en: 'Amazon ML uses the standard metric RMSE for linear regression. RMSE is defined
    as the sum of the squares of the difference between the real values and the predicted
    values:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon ML使用标准的RMSE指标进行线性回归。RMSE定义为真实值与预测值之间差异的平方和：
- en: '![](img/image_03_015.png)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_015.png)'
- en: Here, *ŷ* is the predicted values, and *y* the real values we want to predict
    (the weight of the children in our case). The closer the predictions are to the
    real values, the lower the RMSE is. A lower RMSE means a better, more accurate
    prediction.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，*ŷ*是预测值，*y*是我们想要预测的真实值（在我们的例子中是孩子的体重）。预测值与真实值越接近，RMSE就越低。较低的RMSE意味着更好的、更准确的预测。
- en: Comparing with a baseline
  id: totrans-168
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 与基线比较
- en: 'The RMSE is a relative quantity and not an absolute one. An RMSE of 100 may
    be good for a certain context, while a RMSE of 10 may be a sign of poor predictions
    in another context. It is, therefore, important to have a baseline that we can
    compare our model to. Each Amazon ML evaluation provides a baseline, which is
    calculated differently depending on the nature of the problem (regression, binary
    or multiclass classification). The baseline is the score we would obtain using
    the most simple and obvious model:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: RMSE是一个相对量，而不是一个绝对量。在某个特定情况下，RMSE为100可能很好，而在另一个情况下，RMSE为10可能表明预测不佳。因此，有一个基线来比较我们的模型是很重要的。每个Amazon
    ML评估都提供了一个基线，这个基线根据问题的性质（回归、二分类或多分类分类）而不同。基线是我们使用最简单和最明显的模型所能获得的分数：
- en: The baseline for regression is given by a model that always predicts the mean
    of the target
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 回归的基线是由一个总是预测目标均值模型的
- en: The baseline for binary classification is an AUC of *0.5*, which is the score
    for a model that randomly assigns 0 or 1
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 二分类的基线是AUC为*0.5*，这是随机分配0或1的模型的分数
- en: The baseline for a multiclass classification problem is the macro average *F1*
    score for a model that would always predict the most common class
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于多分类分类问题，基线是预测最常见类别的模型的宏平均*F1*分数
- en: In our current case, when predicting the weight of students from the height,
    age, and sex, our training dataset has a baseline RMSE of *18.71*, while our model
    gives an RMSE of *14.44*. Our model does 22.8% better than simply predicting the
    average of the weights of all the students.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们当前的情况下，当预测学生的体重时，我们的训练数据集的基线RMSE为*18.71*，而我们的模型给出的RMSE为*14.44*。我们的模型比简单地预测所有学生体重的平均值好22.8%。
- en: 'Another thing to look at in the evaluation is the distribution of the residuals,
    which are defined as the difference between *ŷ* and *y*:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 在评估中还需要关注的是残差的分布，残差定义为*ŷ*和*y*之间的差异：
- en: '![](img/image_03_020.png)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_020.png)'
- en: As we've seen in [Chapter 1](767f8b14-c3f2-4e45-bfcd-bb45ae2b9e65.xhtml), *Introduction
    to Machine Learning and Predictive Analytics*, one of the conditions for a linear
    regression to be considered valid is that the residuals are independent, identically
    distributed, and their distribution follows a **Gaussian distribution** or **Bell-shaped
    curve**. Amazon ML shows a histogram of the residuals that can help us visually
    assess the Gaussian nature of the residuals distribution.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们在[第1章](767f8b14-c3f2-4e45-bfcd-bb45ae2b9e65.xhtml)，“机器学习与预测分析简介”中看到的，线性回归被认为是有效的条件之一是残差是独立、同分布的，并且它们的分布遵循**高斯分布**或**钟形曲线**。Amazon
    ML显示了残差的直方图，这有助于我们直观地评估残差分布的高斯性质。
- en: 'When the shape bends to the right (left), this means that more predictions
    are greater (lower) than their targets. In both cases, the conclusion is that
    there is still some signal in the data that has not been captured by the model.
    When the distribution of residuals is centered on 0, the linear regression is
    considered valid. The following diagram shows the distributions of residuals for
    our current regression model:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 当形状向右（左）弯曲时，这意味着更多的预测值大于（小于）它们的靶值。在这两种情况下，结论是数据中仍有未被模型捕捉到的信号。当残差的分布以0为中心时，线性回归被认为是有效的。以下图表显示了当前回归模型的残差分布：
- en: '![](img/image_03_021.png)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_021.png)'
- en: We can see that our predictions are often larger than the targets, which indicates
    that our model could still be improved. There is information in the data that
    has not been exploited by that model.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，我们的预测通常比目标值要大，这表明我们的模型可能还需要改进。数据中存在一些模型尚未利用的信息。
- en: Note that it may not be possible to extract the information in these patterns
    with a linear regression model. Other more complex models may be more adapted
    to this particular dataset. Transforming the data to create new variables may
    also be the key to a better model. The histogram of residuals is a good, simple
    diagnostic with regard to the quality of our model as it shows us that it could
    be improved in some way.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，可能无法使用线性回归模型提取这些模式中的信息。其他更复杂的模型可能更适合这个特定的数据集。将数据转换为创建新变量也可能是构建更好模型的关键。残差直方图是我们模型质量的良好简单诊断工具，因为它表明模型在某些方面可以改进。
- en: Making batch predictions
  id: totrans-181
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进行批量预测
- en: We now have a model that has been properly trained and selected among other
    models. We can use it to make predictions on new data.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有一个经过适当训练并在其他模型中选出的模型。我们可以用它来对新数据进行预测。
- en: Remember that, at the beginning of this chapter, under the section *Loading
    the Data on S3*, we uploaded two datasets to S3, the training dataset and the
    held-out dataset. We've used the training dataset to create the best model possible.
    We will now apply that model on the held-out dataset.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，在本章的开头，在“在S3上加载数据”部分，我们上传了两个数据集到S3，即训练数据集和保留数据集。我们已经使用训练数据集创建了最佳模型。现在我们将将该模型应用于保留数据集。
- en: A batch prediction consists in applying a model to a datasource in order to
    make predictions on that datasource. We need to tell Amazon ML which model we
    want to apply on which data.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 批量预测包括将模型应用于数据源以对该数据源进行预测。我们需要告诉亚马逊机器学习我们想在哪些数据上应用哪个模型。
- en: Batch predictions are different from streaming predictions. With batch predictions,
    all the data is already made available as a datasource, while for streaming predictions,
    the data will be fed to the model as it becomes available. The dataset is not
    available beforehand in its entirety.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 批量预测与流式预测不同。在批量预测中，所有数据已经作为数据源提供，而对于流式预测，数据将随着其可用性被输入到模型中。数据集在事先并不完整可用。
- en: 'In the Main Menu select Batch Predictions to access the dashboard predictions
    and click on Create a New Prediction:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 在主菜单中选择批量预测以访问仪表板预测，然后点击创建新的预测：
- en: '![](img/image_03_022.png)'
  id: totrans-187
  prefs: []
  type: TYPE_IMG
  zh: '![](img/image_03_022.png)'
- en: 'The first step is to select one of the models available in your model dashboard.
    You should choose the one that has the lowest RMSE:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是选择模型仪表板中可用的一个模型。你应该选择具有最低均方根误差（RMSE）的那个：
- en: '![](img/image_03_023.png)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![](img/image_03_023.png)'
- en: The next step is to associate a datasource to the model you just selected. We
    had uploaded the held-out dataset to S3 at the beginning of this chapter (under
    the *Loading the data on S3* section) but had not used it to create a datasource.
    We will do so now.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是将数据源与您刚刚选择的模型关联起来。在本章的开头（在“在S3上加载数据”部分），我们已经将保留数据集上传到S3，但尚未用它来创建数据源。我们现在将这样做。
- en: 'When asked for a datasource in the next screen, make sure to check My data
    is in S3, and I need to create a datasource, and then select the held-out dataset
    that should already be present in your S3 bucket:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 当在下一屏幕上被要求选择数据源时，请确保勾选“我的数据在S3中，我需要创建数据源”，然后选择应该已经存在于您的S3存储桶中的保留数据集：
- en: '![](img/image_03_024.png)'
  id: totrans-192
  prefs: []
  type: TYPE_IMG
  zh: '![](img/image_03_024.png)'
- en: Don't forget to tell Amazon ML that the first line of the file contains columns.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 不要忘记告诉亚马逊机器学习，文件的第一行包含列。
- en: In our current project, our held-out dataset also contains the true values for
    the weight of the students. This would not be the case for "real" data in a real-world
    project where the real values are truly unknown. However, in our case, this will
    allow us to calculate the RMSE score of our predictions and assess the quality
    of these predictions.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们当前的项目中，我们的保留数据集还包含学生体重的真实值。在现实世界的项目中，这不会是“真实”数据的情况，因为在现实世界的项目中，真实值是真正未知的。然而，在我们的情况下，这将允许我们计算预测的均方根误差（RMSE）分数并评估这些预测的质量。
- en: 'The final step is to click on the Verify button and wait for a few minutes:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一步是点击验证按钮，等待几分钟：
- en: Amazon ML will run the model on the new datasource and will generate predictions
    in the form of a CSV file.
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 亚马逊机器学习将在新的数据源上运行模型，并将预测结果以CSV文件的形式生成。
- en: Contrary to the evaluation and model-building phase, we now have real predictions.
    We are also no longer given a score associated with these predictions.
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与评估和模型构建阶段相反，我们现在有了真实的预测。也不再给出与这些预测相关的分数。
- en: 'After a few minutes, you will notice a new batch-prediction folder in your
    S3 bucket. This folder contains a `manifest` file and a results folder. The manifest
    file is a JSON file with the path to the initial datasource and the path to the
    results file. The results folder contains a gzipped CSV file:'
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 几分钟后，您会在您的S3存储桶中注意到一个新的批量预测文件夹。此文件夹包含一个`manifest`文件和一个结果文件夹。manifest文件是一个JSON文件，包含初始数据源的路径和结果文件的路径。结果文件夹包含一个gzip压缩的CSV文件：
- en: '![](img/image_03_025.png)'
  id: totrans-199
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_025.png)'
- en: 'Uncompressed, the CSV file contains two columns, `trueLabel`, the initial target
    from the held-out set, and `score`, which corresponds to the predicted values.
    We can easily calculate the RMSE for those results directly in the spreadsheet
    through the following steps:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 未压缩的CSV文件包含两列，`trueLabel`，来自保留集的初始目标，以及`score`，对应预测值。我们可以通过以下步骤直接在电子表格中轻松计算这些结果的RMSE：
- en: Creating a new column that holds the square of the difference of the two columns.
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新列，该列包含两个列之间差异的平方。
- en: Summing all the rows.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 求和所有行。
- en: Taking the square root of the result.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对结果取平方根。
- en: 'The following illustration shows how we create a third column `C`, as the squared
    difference between the `trueLabel` column A and the score (or predicted value)
    column B:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 下图展示了我们如何创建第三个列`C`，作为`trueLabel`列A和分数（或预测值）列B之间的平方差：
- en: '![](img/image_03_026.png)'
  id: totrans-205
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_026.png)'
- en: 'As shown in the following screenshot, averaging column `C` and taking the square
    root gives an RMSE of 11.96, which is even significantly better than the RMSE
    we obtained during the evaluation phase (*RMSE 14.4*):'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 如下截图所示，计算列`C`的平均值并取平方根得到RMSE为11.96，这甚至比我们在评估阶段获得的RMSE（*RMSE 14.4*）要好得多：
- en: '![](img/image_03_027.png)'
  id: totrans-207
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_027.png)'
- en: The fact that the RMSE on the held-out set is better than the RMSE on the validation
    set means that our model did not overfit the training data, since it performed
    even better on new data than expected. Our model is robust.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 保留集上的RMSE比验证集上的RMSE好，这意味着我们的模型没有过度拟合训练数据，因为它在新数据上的表现甚至比预期更好。我们的模型是健壮的。
- en: 'The left side of the following graph shows the True (*Triangle*) and Predicted
    (*Circle*) `Weight` values for all the samples in the held-out set. The right
    side shows the histogram of the residuals. Similar to the histogram of residuals
    we had observed on the validation set, we observe that the residuals are not centered
    on *0*. Our model has a tendency to overestimate the weight of the students:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 下图的左侧显示了保留集中所有样本的True（*三角形*）和Predicted（*圆形*）`Weight`值。右侧显示了残差的直方图。与我们在验证集上观察到的残差直方图类似，我们观察到残差没有集中在*0*上。我们的模型有高估学生权重的倾向：
- en: '![](img/image_03_028.png)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/image_03_028.png)'
- en: Summary
  id: totrans-211
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In the first part of this chapter, we went through the Amazon account creation
    and how to properly set up and secure access to your AWS account. Using a combination
    of Multi Factor Authentication and User creation, we were able to quickly reach
    a satisfactory level of safety. AWS is a powerful platform with powerful tools
    and it's important to implement the best access protection possible.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的第一部分，我们介绍了亚马逊账户的创建以及如何正确设置和确保对您的AWS账户的访问安全。通过结合多因素认证和用户创建，我们能够迅速达到令人满意的水平的安全性。AWS是一个功能强大的平台，拥有强大的工具，实施最佳访问保护至关重要。
- en: In the second part, we went through the different steps involved in a simple
    linear regression prediction, from loading the data into S3, making that data
    accessible to Amazon ML via datasources, creating models, interpreting evaluations,
    and making predictions on new data.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 在第二部分，我们介绍了简单线性回归预测中涉及的不同步骤，从将数据加载到S3，通过数据源使数据可访问给亚马逊机器学习，创建模型，解释评估，以及在新的数据上做出预测。
- en: 'The Amazon ML flow is smooth and facilitates the inherent data science loop:
    data, model, evaluation, and prediction.'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 亚马逊机器学习流程顺畅，促进了固有的数据科学循环：数据、模型、评估和预测。
- en: In the following chapter, we will dive further into data preparation and data
    transformation. This time we will use a classic binary classification problem,
    namely, *survival on the Titanic*, which is based on a very interesting dataset.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将进一步探讨数据准备和数据转换。这次我们将使用一个经典的二分类问题，即*泰坦尼克号上的生存*，它基于一个非常有趣的 数据集。
