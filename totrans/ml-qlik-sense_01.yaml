- en: '1'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '1'
- en: Introduction to Machine Learning with Qlik
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Qlik 介绍机器学习
- en: Machine learning and artificial intelligence are two of the most powerful technology
    trends in the 21st century. Usage of these technologies is rapidly growing since
    the need for faster insights and forecasts has become crucial for companies. Qlik
    is a leading vendor in the analytics space and has heavily invested in machine
    learning and AI tools.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习和人工智能是 21 世纪最强大的技术趋势之一。这些技术的使用正在迅速增长，因为对更快洞察和预测的需求已成为公司至关重要的因素。Qlik 是分析领域的领先供应商，并在机器学习和
    AI 工具上进行了大量投资。
- en: This first chapter will introduce the different machine learning tools in the
    Qlik ecosystem and provide basic information about the statistical models and
    principles behind these tools. It will also cover the concepts of correct sample
    size and how to analyze model performance and reliability.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将介绍 Qlik 生态系统中的不同机器学习工具，并提供这些工具背后的统计模型和原理的基本信息。它还将涵盖正确样本大小和如何分析模型性能和可靠性的概念。
- en: 'Here is what we will cover in this first chapter:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下内容：
- en: An overview of the Qlik tools and platform
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Qlik 工具和平台概述
- en: The basic statistical concepts of machine learning
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 机器学习的基本统计概念
- en: Proper sample size and the defining factors of a sample
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正确样本大小和样本定义因素
- en: How to evaluate model performance and reliability
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何评估模型性能和可靠性
- en: Introduction to Qlik tools
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Qlik 工具介绍
- en: Qlik Sense is a leading data analytics and business intelligence platform and
    contains many tools and features for data analytics relating to machine learning.
    In this chapter, we will take a closer look at the key features of the Qlik platform.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: Qlik Sense 是领先的数据分析和商业智能平台，包含许多与机器学习相关的数据分析和功能。在本章中，我们将更深入地了解 Qlik 平台的关键特性。
- en: 'Machine learning and AI capabilities on the Qlik platform can be divided into
    three different components:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Qlik 平台上的机器学习和 AI 功能可以分为三个不同的组件：
- en: Insight Advisor
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Insight Advisor
- en: Qlik AutoML
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Qlik AutoML
- en: Advanced Analytics Integration
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高级分析集成
- en: Insight Advisor
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Insight Advisor
- en: Qlik Insight Advisor is a feature of Qlik Sense that uses **natural language
    processing** (**NLP**) and machine learning to help users explore and analyze
    data more effectively. It allows users to ask questions about their data in natural
    language and to receive insights and recommendations in real time. It also auto-generates
    advanced analytics and visualizations and assists with analytics creation and
    data preparation.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: Qlik Insight Advisor 是 Qlik Sense 的一个功能，它使用自然语言处理（NLP）和机器学习来帮助用户更有效地探索和分析数据。它允许用户用自然语言提出关于他们数据的问题，并实时接收见解和建议。它还自动生成高级分析和可视化，并协助分析和数据准备。
- en: 'Insight Advisor utilizes a combination of Qlik’s associative engine and augmented
    intelligence engine and supports a wide range of use cases, as seen in the following
    figure:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: Insight Advisor 结合了 Qlik 的关联引擎和增强智能引擎，支持广泛的应用场景，如下图所示：
- en: '![Figure 1.1: Qlik Insight Advisor and different scenarios](img/B19863_01_01.jpg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.1：Qlik Insight Advisor 和不同场景](img/B19863_01_01.jpg)'
- en: 'Figure 1.1: Qlik Insight Advisor and different scenarios'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.1：Qlik Insight Advisor 和不同场景
- en: Did you know?
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 你知道吗？
- en: The Qlik associative engine is the core technology that powers the Qlik data
    analytics and business intelligence platform. It is a powerful in-memory engine
    that uses an associative data model, which allows users to explore data in a way
    that is more intuitive and natural than traditional query-based tools.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: Qlik 关联引擎是驱动 Qlik 数据分析和商业智能平台的核心技术。它是一个强大的内存引擎，使用关联数据模型，使用户能够以比传统基于查询的工具更直观、更自然的方式探索数据。
- en: Instead of pre-defined queries or data models, the engine automatically associates
    data across multiple tables and data sources based on common fields or attributes
    and uses a patented indexing technology that stores all the data in memory, enabling
    real-time analysis and exploration of even the largest datasets. It is a powerful
    and innovative technology that underpins the entire Qlik platform.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 与预定义的查询或数据模型不同，该引擎根据常见的字段或属性自动关联多个表和数据源中的数据，并使用一种专利的索引技术将所有数据存储在内存中，从而实现实时分析和探索甚至最大的数据集。这是一项强大且创新的技术，支撑着整个
    Qlik 平台。
- en: 'Insight Advisor has the following key features:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: Insight Advisor 具有以下关键特性：
- en: '**Advanced insight generation**: Insight Advisor provides a way to surface
    new and hidden insights. It uses AI-generated analyses that are delivered in multiple
    forms. Users can select from a full range of analysis types, which are auto-generated.
    These types include visualizations, narrative insights, and entire dashboards.
    Advanced analytics is also supported, and Insight Advisor can generate comparison,
    ranking, trending, clustering, geographical analysis, time series forecasts, and
    more.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高级洞察生成**：Insight Advisor提供了一种揭示新和隐藏洞察的方法。它使用多种形式交付AI生成的分析。用户可以从全系列的分析类型中选择，这些类型是自动生成的。这些类型包括可视化、叙事洞察和整个仪表板。还支持高级分析，Insight
    Advisor可以生成比较、排名、趋势、聚类、地理分析、时间序列预测等。'
- en: '**Search-based visual discovery**: Insight Advisor auto-generates the most
    relevant and impactful visualizations for the users, based on natural language
    queries. It provides a set of charts that users can edit and fine-tune before
    adding to the dashboard. It is context-aware and reflects the selections with
    generated visualizations. It also suggests the most significant data relationships
    to explore further.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基于搜索的视觉发现**：Insight Advisor根据自然语言查询自动生成对用户最相关和最有影响力的可视化。它提供了一套用户可以编辑和微调后添加到仪表板上的图表。它是上下文感知的，并通过生成的可视化反映选择。它还建议探索的最重要数据关系。'
- en: '**Conversational analytics**: Conversational analytics in Insight Advisor allows
    users to interact using natural language. Insight Advisor Chat offers a fully
    conversational analytics experience for the entire Qlik platform. It understands
    user intent and delivers additional insights for deeper understanding.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**会话式分析**：Insight Advisor中的会话式分析允许用户使用自然语言进行交互。Insight Advisor Chat为整个Qlik平台提供完整的会话式分析体验。它理解用户意图，并为更深入的理解提供额外的见解。'
- en: '**Accelerated creation and data preparation**: Accelerated creation and data
    preparation helps users to create analytics using a traditional build process.
    It gives recommendations about associations and relationships in data. It also
    gives chart suggestions and renders the best types of visualizations for each
    use case, which allows non-technical users to get the most out of the analyzed
    data. Part of the data preparation also involves an intelligent profiling that
    provides descriptive statistics about the data.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**加速创建和数据准备**：加速创建和数据准备帮助用户使用传统的构建过程创建分析。它就数据中的关联和关系提供建议。它还提供图表建议，并为每个用例渲染最佳类型的可视化，这使得非技术用户能够充分利用分析数据。数据准备的一部分还涉及智能配置文件，它提供有关数据的描述性统计信息。'
- en: Note
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: A hands-on example with Insight Advisor can be found in [*Chapter 9*](B19863_09.xhtml#_idTextAnchor109),
    where you will be given a practical example of the most important functionalities
    in action.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 在[*第9章*](B19863_09.xhtml#_idTextAnchor109)中可以找到一个使用Insight Advisor的动手示例，其中你将获得一个最重要的功能在实际操作中的实用示例。
- en: Qlik AutoML
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Qlik AutoML
- en: Qlik AutoML is an automated machine learning tool that makes AI-generated machine
    learning models and predictive analytics available for all users. It allows users
    to easily generate machine learning models, make predictions, and plan decisions
    using an intuitive, code-free user interface.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: Qlik AutoML是一个自动化的机器学习工具，它使AI生成的机器学习模型和预测分析对所有用户可用。它允许用户通过直观的、无代码的用户界面轻松生成机器学习模型、进行预测和规划决策。
- en: AutoML connects and profiles data, identifies key drivers in the dataset, and
    generates and refines models. It allows users to create future predictions and
    test what-if scenarios. Results are returned with prediction-influencer data (Shapley
    values) at the record level, which allows users to understand why predictions
    were made. This is critical to take the correct actions based on the outcome.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: AutoML连接并分析数据，识别数据集中的关键驱动因素，并生成和优化模型。它允许用户创建未来预测并测试假设情景。结果以预测影响因素数据（Shapley值）在记录级别返回，使用户能够理解预测的原因。这对于根据结果采取正确的行动至关重要。
- en: Predictive data can be published in Qlik Sense for further analysis and models
    can be integrated using Advanced Analytics Integration for real-time exploratory
    analysis.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 预测数据可以发布到Qlik Sense进行进一步分析，并且可以使用高级分析集成将模型集成以进行实时探索性分析。
- en: 'Using AutoML is simple and does not require comprehensive data science skills.
    Users must first select the target field and then AutoML will run through various
    steps, as seen in the following figure:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 使用AutoML简单易行，不需要全面的数据科学技能。用户必须首先选择目标字段，然后AutoML将运行以下图所示的各个步骤：
- en: '![Figure 1.2: The AutoML process flow](img/B19863_01_02.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![图1.2：AutoML流程](img/B19863_01_02.jpg)'
- en: 'Figure 1.2: The AutoML process flow'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.2：AutoML流程
- en: With the model established and trained, AutoML lets users make predictions on
    current datasets. Deployed models can be used both from Qlik tools and other analytics
    tools. AutoML also provides a REST API to consume the deployed models.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 模型建立和训练完成后，AutoML允许用户对当前数据集进行预测。部署的模型既可以从Qlik工具中，也可以从其他分析工具中使用。AutoML还提供了一个REST
    API来消费部署的模型。
- en: Note
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: More information about AutoML, including hands-on examples, can be found in
    [*Chapter 8*](B19863_08.xhtml#_idTextAnchor101).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 更多关于AutoML的信息，包括实践示例，可以在[*第8章*](B19863_08.xhtml#_idTextAnchor101)中找到。
- en: Advanced Analytics Integration
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 高级分析集成
- en: '**Advanced Analytics Integration** is the ability to integrate advanced analytics
    and machine learning models directly into the Qlik data analytics platform. This
    integration allows users to combine the power of advanced analytics with the data
    exploration and visualization capabilities of Qlik to gain deeper insights from
    their data.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**高级分析集成**是将高级分析和机器学习模型直接集成到Qlik数据分析平台的能力。这种集成使用户能够结合高级分析的力量与Qlik的数据探索和可视化能力，从而从数据中获得更深入的见解。'
- en: 'Advanced Analytics Integration is based on open APIs that provide direct, engine-level
    integration between Qlik’s Associative Engine and third-party data science tools.
    Data is being exchanged and calculations are made in real time as the user interacts
    with the software. Only relevant data is passed from the Associative Engine to
    third-party tools, based on user selections and context. The workflow is explained
    in the following figure:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 高级分析集成基于开放的API，它提供了Qlik关联引擎与第三方数据科学工具之间的直接、引擎级别的集成。当用户与软件交互时，数据正在交换，计算也在实时进行。根据用户的选择和上下文，只有相关的数据从关联引擎传递到第三方工具。工作流程在以下图中解释：
- en: '![Figure 1.3: Advanced analytics integration dataflow](img/B19863_01_03.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![图1.3：高级分析集成数据流](img/B19863_01_03.jpg)'
- en: 'Figure 1.3: Advanced analytics integration dataflow'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.3：高级分析集成数据流
- en: Advanced analytics integration can be used with any external calculation engine,
    but native connectivity is provided for Amazon SageMaker, Amazon Comprehend, Azure
    ML, Data Robot, and custom models made with R and Python. Qlik AutoML can also
    utilize advanced analytics integration.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 高级分析集成可以与任何外部计算引擎一起使用，但为Amazon SageMaker、Amazon Comprehend、Azure ML、Data Robot以及使用R和Python制作的定制模型提供了原生连接。Qlik
    AutoML也可以利用高级分析集成。
- en: Note
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: More information, including practical examples about advanced analytics integration,
    can be found in [*Chapter 7*](B19863_07.xhtml#_idTextAnchor096). Installing the
    needed components for the on-premises environment is described in [*Chapter 5*](B19863_05.xhtml#_idTextAnchor071).
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 更多信息，包括关于高级分析集成的实际示例，可以在[*第7章*](B19863_07.xhtml#_idTextAnchor096)中找到。关于本地环境所需组件的安装在第[*第5章*](B19863_05.xhtml#_idTextAnchor071)中描述。
- en: Basic statistical concepts with Qlik solutions
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Qlik解决方案的基本统计概念
- en: Now that we have been introduced to Qlik tools, we will explore some of the
    statistical concepts that are used with them. Statistical principles play a crucial
    role in the development of machine-learning algorithms. These principles provide
    the mathematical framework for analyzing and modeling data, making predictions,
    and improving the accuracy of machine-learning models over time. In this section,
    we will become familiar with some of the key concepts that will be needed when
    building machine-learning solutions.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经介绍了Qlik工具，我们将探讨一些与它们一起使用的统计概念。统计原理在机器学习算法的开发中起着至关重要的作用。这些原理为分析和建模数据、进行预测以及随着时间的推移提高机器学习模型的准确性提供了数学框架。在本节中，我们将熟悉在构建机器学习解决方案时所需的一些关键概念。
- en: Types of data
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据类型
- en: 'Different data types are handled differently, and each requires different techniques.
    There are two major data types in typical machine-learning solutions: categorical
    and numerical.'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 不同数据类型以不同的方式处理，每种类型都需要不同的技术。在典型的机器学习解决方案中，有两种主要的数据类型：分类和数值。
- en: Categorical data typically defines a group or category using a name or a label.
    Each piece of a categorical dataset is assigned to only one category and each
    category is mutually exclusive. Categorical data can be further divided into nominal
    data and ordinal data. Nominal data is the data category that names or labels
    a category. Ordinal data is constructed from elements with rankings, orders, or
    rating scales. Ordinal data can be ordered or counted but not measured. Some machine-learning
    algorithms can’t handle categorical variables unless these are converted (encoded)
    to numerical values.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 分类数据通常使用名称或标签来定义一个组或类别。分类数据集中的每个数据点只分配给一个类别，并且每个类别是互斥的。分类数据可以进一步分为名义数据和有序数据。名义数据是命名或标记类别的数据类别。有序数据是由具有排名、顺序或评分尺度的元素构成的。有序数据可以排序或计数，但不能测量。一些机器学习算法无法处理分类变量，除非将这些变量（编码）转换为数值。
- en: Numerical data can be divided into discrete data that is countable numerical
    data. It is formed using natural numbers, for example, age, number of employees
    in a company, etc. Another form of numerical data is continuous data. An example
    of this type of data can be a person’s height or a student’s score. One type of
    data to pay attention to is datetime information. Dates and times are typically
    useful in machine-learning models but will require some work to turn them into
    numerical data.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 数值数据可以分为可计数的离散数值数据。它使用自然数形成，例如，年龄、公司员工数量等。数值数据的另一种形式是连续数据。此类数据的例子可以是人的身高或学生的分数。需要注意的一种数据类型是日期时间信息。日期和时间通常在机器学习模型中很有用，但需要一些工作才能将它们转换为数值数据。
- en: Mean, median, and mode
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 平均数、中位数和众数
- en: 'The **mean** is calculated by dividing the sum of all values in a dataset by
    the number of values. The simplified equation can be formed like this:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 平均数是通过将数据集中所有值的总和除以值的数量来计算的。简化的方程可以形成如下：
- en: mean =  Sum of all datapoints  ________________  Number of datapoints
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 平均数 = 数据点总和 __________________ 数量数据点
- en: 'The following is a simple example to calculate the mean of a set of data points:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一个计算数据点集合平均数的简单示例：
- en: '*X = [**5,15,30,45,50]*'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '*X = [**5,15,30,45,50**]*'
- en: '*X*̅ *= (**5+15+30+45+50)/5*'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '*X*̅ *= (*5+15+30+45+50)/5*'
- en: '*X*̅ *=* *29*'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '*X*̅ *=* *29*'
- en: The mean is sensitive to outliers and these can significantly affect its value.
    The mean is typically written as *X*̅*.*
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 平均数对异常值敏感，这些异常值会显著影响其值。平均数通常写作 *X*̅*.*
- en: The **median** is the middle value of the sorted dataset. Using the dataset
    in the previous example, our median is 30\. The main advantage of the median over
    the mean is that the median is less affected by outliers. If there is a high chance
    for outliers, it’s better to use the median instead of the mean. If we have an
    even number of data points in our dataset, the median is the average of two middle
    points.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '**中位数**是排序数据集的中间值。使用前面示例中的数据集，我们的中位数是 30。中位数相对于平均数的主要优点是中位数受异常值的影响较小。如果存在异常值的高概率，最好使用中位数而不是平均数。如果我们数据集中的数据点数量是偶数，则中位数是两个中间点的平均值。'
- en: 'The **mode** represents the most common value in a dataset. It is mostly used
    when there is a need to understand clustering or, for example, encoded categorical
    data. Calculating the mode is quite simple. First, we need to order all values
    and count how many times each value appears in a set. The value that appears the
    most is the mode. Here is a simple example:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '**众数**代表数据集中的最常见值。它主要用于需要理解聚类或，例如，编码的分类数据的情况。计算众数相当简单。首先，我们需要对所有值进行排序，并计算每个值在集合中出现的次数。出现次数最多的值就是众数。以下是一个简单示例：'
- en: '*X = [**1,4,4,5,7,9]*'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '*X = [**1,4,4,5,7,9**]*'
- en: The mode = 4 since it appears two times and all other values appear only one
    time. A dataset can also have multiple modes (multimodal dataset). In this case,
    two or more values occur with the highest frequency.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 众数 = 4，因为它出现了两次，而所有其他值只出现了一次。数据集也可以有多个众数（多众数数据集）。在这种情况下，两个或多个值以最高的频率出现。
- en: Variance
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 方差
- en: '**Variance** (*σ2*) is a statistical measure that describes the degree of variability
    or spread in a set of data. It is the average of the squared differences from
    the mean of the dataset.'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '**方差** (*σ2*) 是一个描述数据集中数据变异程度或分布的统计量。它是数据集平均值与所有值平方差的平均值。'
- en: In other words, variance measures how much each data point deviates from the
    mean of the dataset. A low variance indicates that the data points are closely
    clustered around the mean, while a high variance indicates that the data points
    are more widely spread out from the mean.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，方差衡量每个数据点与数据集平均值偏离的程度。低方差表示数据点紧密围绕平均值聚集，而高方差表示数据点从平均值向外更广泛地分散。
- en: 'The formula for variance is as follows:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 方差的公式如下：
- en: σ 2 =  Σ ( x i − x ̅)² _ n − 1
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: σ² = Σ (xi − x̅)² / (n − 1)
- en: where *σ2* is the variance of the dataset, *n* is the number of data points
    in the set, and *Σ* is the sum of the squared differences between each data point
    (*xi*) and the mean (*x* *̅*). The square root of the variance is the standard
    deviation.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 *σ²* 是数据集的方差，*n* 是集合中的数据点数量，*Σ* 是每个数据点（*xi*）与平均值（*x̅*）之间平方差的和。方差的平方根是标准差。
- en: Variance is an important concept in statistics and machine learning, as it is
    used in the calculation of many other statistical measures, including standard
    deviation and covariance. It is also commonly used to evaluate the performance
    of models and to compare different datasets.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 方差是统计学和机器学习中的一个重要概念，因为它被用于计算许多其他统计量，包括标准差和协方差。它也常用于评估模型性能和比较不同的数据集。
- en: Variance is used to see how individual values relate to each other within a
    dataset. The advantage is that variance treats all deviations from the mean as
    the same, regardless of direction.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 方差用于查看数据集中各个值之间的关系。其优点是方差将所有偏离平均值的差异视为相同，无论方向如何。
- en: Example
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 示例
- en: We have a stock that returns 15% in year 1, 25% in year 2, and -10% in year
    3\. The mean of the returns is 10%. The difference of each year’s return to mean
    is 5%, 15%, and -20%. Squaring these will give 0.25%, 2.25%, and 4%. If we add
    these together, we will get 6.5%. When divided by 2 (3 observations – 1), we get
    a variance of 3.25%.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 我们有一支股票在第一年回报率为15%，第二年回报率为25%，第三年回报率为-10%。回报率的平均值是10%。每年回报率与平均值的差异是5%，15%，和-20%。将这些值平方后得到0.25%，2.25%，和4%。如果我们把这些值加起来，我们会得到6.5%。当除以2（3个观察值-1）时，我们得到方差为3.25%。
- en: Standard deviation
  id: totrans-76
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 标准差
- en: '**Standard deviation** is a statistical measure that quantifies the amount
    of variation or dispersion in a set of data. It measures how much the individual
    data points deviate from the mean of the dataset.'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '**标准差**是一种统计量，它量化了一组数据中的变异或分散程度。它衡量单个数据点与数据集平均值偏离的程度。'
- en: A low standard deviation indicates that the data points are close to the mean,
    while a high standard deviation indicates that the data points are more spread
    out from the mean.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 低标准差表示数据点接近平均值，而高标准差表示数据点从平均值向外更分散。
- en: 'The formula for standard deviation is as follows:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 标准差的公式如下：
- en: σ = √ _  Σ ( x i − x ̅)² _ n − 1
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: σ = √Σ (xi − x̅)² / (n − 1)
- en: where *σ* is the standard deviation, *Σ* is the sum of the squared differences
    between each data point (*xi*), and the mean (*x* *̅*), and *n* is the number
    of data points.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 *σ* 是标准差，*Σ* 是每个数据点（*xi*）与平均值（*x̅*）之间平方差的和，*n* 是数据点的数量。
- en: Example
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 示例
- en: Continuing from our previous example, we got the variance of 3.25% for our stock.
    Taking the square root of the variance yields a standard deviation of 18%.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 继续我们之前的例子，我们得到了我们股票的方差为3.25%。对方差开平方得到标准差为18%。
- en: Standardization
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 标准化
- en: '**Standardization** or **Z-score normalization** is the concept of normalizing
    different variables to the same scale. This method allows comparison of scores
    between different types of variables. Z-score is a fractional representation of
    standard deviations from the mean value. We can calculate the z-score using the
    following formula:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '**标准化**或**Z分数归一化**是将不同变量归一化到相同尺度的概念。这种方法允许比较不同类型变量之间的分数。Z分数是平均值的标准差的分数表示。我们可以使用以下公式来计算z分数：'
- en: z =  x− x ̅ _ σ
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: z = (x − x̅) / σ
- en: In the formula, *x* is the observed value, *x**̅* is the mean, and *σ* is the
    standard deviation of the data.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在公式中，*x* 是观察值，*x̅* 是平均值，*σ* 是数据的标准差。
- en: Basically, the z-score describes how many standard deviations away a specific
    data point is from the mean. If the z-score of a data point is high, it indicates
    that the data point is most likely an outlier. Z-score normalization is one of
    the most popular feature-scaling techniques in data science and is an important
    preprocessing step. Many machine-learning algorithms attempt to find trends in
    data and compare features of data points. It is problematic if features are on
    a different scales, which is why we need standardization.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 基本上，z分数描述了特定数据点与平均值相差多少个标准差。如果一个数据点的z分数较高，这表明该数据点很可能是异常值。Z分数标准化是数据科学中最受欢迎的特征缩放技术之一，并且是一个重要的预处理步骤。许多机器学习算法试图在数据中找到趋势并比较数据点的特征。如果特征处于不同的尺度上，这会成为一个问题，这就是为什么我们需要标准化。
- en: Note
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Standardized datasets will have a mean of 0 and standard deviation of 1, but
    there are no specific boundaries for maximum and minimum values.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 标准化数据集将具有0的平均值和1的标准差，但没有最大值和最小值的具体界限。
- en: Correlation
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 相关性
- en: '**Correlation** is a statistical measure that describes the relationship between
    two variables. It measures the degree to which changes in one variable are associated
    with changes in another variable.'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '**相关性**是一个描述两个变量之间关系的统计量。它衡量一个变量的变化与另一个变量的变化相关联的程度。'
- en: 'There are two types of correlation: positive and negative. Positive correlation
    means that the two variables move in the same direction, while negative correlation
    means that the two variables move in opposite directions. A correlation of 0 indicates
    that there is no relationship between the variables.'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 存在两种类型的关联：正相关和负相关。正相关意味着两个变量向同一方向移动，而负相关意味着两个变量向相反方向移动。相关系数为0表示变量之间没有关系。
- en: The most used measure of correlation is the **Pearson correlation coefficient**,
    which ranges from -1 to 1\. A value of -1 indicates a perfect negative correlation,
    a value of 0 indicates no correlation, and a value of 1 indicates a perfect positive
    correlation.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 最常用的相关性度量是**皮尔逊相关系数**，其范围从-1到1。-1的值表示完全负相关，0的值表示没有相关性，1的值表示完全正相关。
- en: The Pearson correlation coefficient can be used when the relationship of variables
    is linear and both variables are quantitative and normally distributed. There
    should be no outliers in the dataset.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 当变量的关系是线性的，并且两个变量都是定量和正态分布时，可以使用皮尔逊相关系数。数据集中不应存在异常值。
- en: Correlation can be calculated using the `cor()` function in R or the `scipy.stats`
    or `NumPy` libraries in Python.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用R中的`cor()`函数或Python中的`scipy.stats`或`NumPy`库来计算相关性。
- en: Probability
  id: totrans-97
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 概率
- en: '**Probability** is a fundamental concept in machine learning that is used to
    quantify the uncertainty associated with events or outcomes. Basic concepts of
    probability include the following:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '**概率**是机器学习中的一个基本概念，用于量化事件或结果的不确定性。概率的基本概念包括以下内容：'
- en: '**Random variables**: A variable whose value is determined by chance. Random
    variables can be discrete or continuous.'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**随机变量**：其值由机会决定的变量。随机变量可以是离散的或连续的。'
- en: '**Probability distribution**: A function that describes the likelihood of different
    values for a random variable. Common probability distributions include the normal
    distribution, the binomial distribution, and the Poisson distribution.'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**概率分布**：描述随机变量不同值可能性的函数。常见的概率分布包括正态分布、二项分布和泊松分布。'
- en: '**Bayes’ theorem**: A fundamental theorem in probability theory that describes
    the relationship between conditional probabilities. Bayes’ theorem is used in
    many machine-learning algorithms, including naive Bayes classifiers and Bayesian
    networks.'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**贝叶斯定理**：概率论中的一个基本定理，描述了条件概率之间的关系。贝叶斯定理被用于许多机器学习算法中，包括朴素贝叶斯分类器和贝叶斯网络。'
- en: '**Conditional probability**: The probability of an event occurring given that
    another event has occurred. Conditional probability is used in many machine-learning
    algorithms, including decision trees and Markov models.'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**条件概率**：在另一个事件已经发生的情况下，一个事件发生的概率。条件概率被用于许多机器学习算法中，包括决策树和马尔可夫模型。'
- en: '**Expected value**: The average value of a random variable, weighted by its
    probability distribution. Expected value is used in many machine-learning algorithms,
    including reinforcement learning.'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**期望值**：随机变量的平均值，按其概率分布加权。期望值被用于许多机器学习算法中，包括强化学习。'
- en: '**Maximum likelihood estimation**: A method of estimating the parameters of
    a probability distribution based on observed data. Maximum likelihood estimation
    is used in many machine-learning algorithms, including logistic regression and
    hidden Markov models.'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最大似然估计**：一种基于观察数据估计概率分布参数的方法。最大似然估计被用于许多机器学习算法中，包括逻辑回归和隐马尔可夫模型。'
- en: Note
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: Probability is a wide concept on its own and many books have been written about
    this area. In this book, we are not going deeper into the details but it is important
    to understand the terms at a high level.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 概率是一个广泛的概念，关于这个领域已经写了很多书。在这本书中，我们不会深入探讨细节，但了解这些术语在高级别上是很重要的。
- en: We have now investigated the basic principles of the statistics that play a
    crucial role in Qlik tools. Next, we will focus on the concept of defining a proper
    sample size. This is an important step, since we are not always able to train
    our model with all the data and we want our training dataset to represent the
    full data as much as possible.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经调查了在Qlik工具中起关键作用的统计学的基本原则。接下来，我们将关注定义适当样本大小的概念。这是一个重要的步骤，因为我们并不总是能够用所有数据来训练我们的模型，我们希望我们的训练数据集尽可能地代表全部数据。
- en: Defining a proper sample size and population
  id: totrans-108
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 定义适当的样本大小和总体
- en: 'Defining a proper sample size for machine learning is crucial to get accurate
    results. It is also a common problem that we don’t know how much training data
    is needed. Having a correct sample size is important for several reasons:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 定义适当的样本大小对于机器学习来说至关重要，以获得准确的结果。这也是一个常见问题，我们不知道需要多少训练数据。拥有正确的样本大小对于几个原因来说很重要：
- en: '**Generalization:** Machine-learning models are trained on a sample of data
    with the expectation that they will generalize to new, unseen data. If the sample
    size is too small, the model may not capture the full complexity of the problem,
    resulting in poor generalization performance.'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**泛化**：机器学习模型是在数据样本上训练的，预期它们可以推广到新的、未见过的数据。如果样本大小太小，模型可能无法捕捉问题的全部复杂性，从而导致泛化性能差。'
- en: '**Overfitting:** Overfitting occurs when a model fits the training data too
    closely, resulting in poor generalization performance. Overfitting is more likely
    to occur when the sample size is small because the model has fewer examples to
    learn from and may be more likely to fit the noise in the data.'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**过拟合**：当模型与训练数据拟合得太紧密时，就会发生过拟合，导致泛化性能差。当样本大小较小时，过拟合的可能性更大，因为模型有更少的例子可以学习，并且可能更可能拟合数据中的噪声。'
- en: '**Statistical significance:** In statistical inference, sample size is an important
    factor in determining the statistical significance of the results. A larger sample
    size provides more reliable estimates of model parameters and reduces the likelihood
    of errors due to random variation.'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**统计显著性**：在统计推断中，样本大小是确定结果统计显著性的一个重要因素。较大的样本大小提供了对模型参数的更可靠估计，并减少了由于随机变化导致的错误的可能性。'
- en: '**Resource efficiency:** Machine-learning models can be computationally expensive
    to train, especially with large datasets. Having a correct sample size can help
    optimize the use of computing resources by reducing the time and computational
    resources required to train the model.'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**资源效率**：机器学习模型的训练可能计算成本很高，尤其是在大型数据集上。拥有正确的样本大小可以通过减少训练模型所需的时间和计算资源来帮助优化计算资源的使用。'
- en: '**Decision-making:** Machine-learning models are often used to make decisions
    that have real-world consequences. Having a correct sample size ensures that the
    model is reliable and trustworthy, reducing the risk of making incorrect or biased
    decisions based on faulty or inadequate data.'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**决策**：机器学习模型常被用于做出具有现实世界后果的决策。拥有正确的样本大小确保模型可靠且可信，减少基于错误或不充分数据做出错误或偏见的决策的风险。'
- en: Defining a sample size
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 定义样本大小
- en: The sample size depends on several factors, including the complexity of the
    problem, the quality of the data, and the algorithm being used. **“How much training
    data do I need?”** is a common question at the beginning of a machine-learning
    project. Unfortunately, there is no correct answer to that question, since it
    depends on various factors. However, there are some guidelines.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 样本大小取决于几个因素，包括问题的复杂性、数据的质量以及所使用的算法。"我需要多少训练数据？"是机器学习项目开始时常见的问题。不幸的是，这个问题没有正确答案，因为它取决于各种因素。然而，有一些指导原则。
- en: 'Generally, the following factors should be addressed when defining a sample:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，在定义样本时应该考虑以下因素：
- en: '**Have a representative sample**: It is essential to have a representative
    sample of the population to train a machine-learning model. The sample size should
    be large enough to capture the variability in the data and ensure that the model
    is not biased toward a particular subset of the population.'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**拥有代表性样本**：对于训练机器学习模型来说，拥有一个代表总体的样本是至关重要的。样本量应该足够大，以捕捉数据的变异性并确保模型不会偏向于总体的某个特定子集。'
- en: '**Avoid overfitting**: Overfitting occurs when a model is too complex and fits
    the training data too closely. To avoid overfitting, it is important to have a
    sufficient sample size to ensure that the model generalizes well to new data.'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**避免过拟合**：过拟合发生在模型过于复杂且与训练数据拟合得太紧密时。为了避免过拟合，拥有足够的样本量以确保模型能够很好地泛化到新数据是非常重要的。'
- en: '**Consider the number of features**: The number of features or variables in
    the dataset also affects the sample size. As the number of features increases,
    the sample size required to train the model also increases.'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**考虑特征数量**：数据集中特征或变量的数量也会影响样本量。随着特征数量的增加，训练模型所需的样本量也会增加。'
- en: '**Use power analysis**: Power analysis is a statistical technique used to determine
    the sample size required to detect a significant effect. It can be used to determine
    the sample size needed for a machine-learning model to achieve a certain level
    of accuracy or predictive power.'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用功率分析**：功率分析是一种统计技术，用于确定检测显著效应所需的样本量。它可以用来确定机器学习模型达到一定准确度或预测能力所需的样本量。'
- en: '**Cross-validation**: Cross-validation is a technique used to evaluate the
    performance of a machine-learning model. It involves splitting the data into training
    and testing sets and using the testing set to evaluate the model’s performance.
    The sample size should be large enough to ensure that the testing set is representative
    of the population and provides a reliable estimate of the model’s performance.'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**交叉验证**：交叉验证是一种用于评估机器学习模型性能的技术。它涉及将数据分为训练集和测试集，并使用测试集来评估模型的性能。样本量应该足够大，以确保测试集能够代表总体并提供模型性能的可靠估计。'
- en: There are several statistical heuristic methods available to estimate a sample
    size. Let’s take a closer look at some of these.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 有几种统计启发式方法可用于估计样本量。让我们更详细地看看其中的一些。
- en: Power analysis
  id: totrans-124
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 功率分析
- en: '**Power analysis** is one of the key concepts in machine learning. Power analysis
    is mainly used to determine whether a statistical test has sufficient probability
    to find an effect and to estimate the sample size required for an experiment considering
    the significance level, effect size, and statistical power.'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '**功率分析**是机器学习中的一个关键概念。功率分析主要用于确定统计测试是否有足够的概率发现效应，并估计在考虑显著性水平、效应大小和统计功率的情况下，实验所需的样本量。'
- en: The definition of a power in this concept is the probability that a statistical
    test will reject a false null hypothesis (*H0*) or the probability of detecting
    an effect (depending on whether the effect is there). A bigger sample size will
    result in a larger power. The main output of power analysis is the estimation
    of an appropriate sample size.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个概念中，功率的定义是统计测试将拒绝一个错误的零假设（*H0*）或检测到效应的概率（取决于效应是否存在）。更大的样本量将导致更大的功率。功率分析的主要输出是估计适当的样本量。
- en: 'To understand the basics of power analysis, we need to get familiar with the
    following concepts:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解功率分析的基本原理，我们需要熟悉以下概念：
- en: A type I error (*α*) is rejecting a *H0* or a null hypothesis in the data when
    it’s true (false positive).
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第一类错误（*α*）是在数据中错误地拒绝 *H0* 或零假设（假阳性）。
- en: A type II error (*β*) is the failure to reject a false *H0* or, in other words,
    a probability of missing an effect that is in the data (false negative).
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第二类错误（*β*）是未能拒绝一个错误的 *H0* 或换句话说，是错过数据中存在效应的概率（假阴性）。
- en: The power is the probability of detecting an effect that is in the data.
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 功率是检测数据中存在效应的概率。
- en: 'There is a direct relationship between the power and type II error:'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 功率和第二类错误之间存在直接关系：
- en: Power = 1 – β
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 功率 = 1 – β
- en: Generally, *β* should never be more than 20%, which gives us the minimum approved
    power level of 80%.
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 通常，*β* 应该不超过 20%，这给我们带来了最低批准的 80% 功率水平。
- en: The significance level (*α*) is the maximum risk of rejecting a true null hypothesis
    (*H0*) that you are willing to take. This is typically set to 5% (p < 0.05).
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显著性水平（α）**是你愿意承担的最大风险，即拒绝一个真实的零假设（H0）。这通常设置为5%（p < 0.05）。'
- en: The effect size is the measure of the strength of a phenomenon in the dataset
    (independent of sample size). The effect size is typically the hardest to determine.
    An example of an effect size would be the height difference between men and women.
    The greater the effect size, the greater the height difference will be. The effect
    size is typically marked with the letter *d* in formulas.
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 效应量是衡量数据集中现象强度的一个指标（独立于样本大小）。效应量通常是最难确定的。效应量的一个例子是男性和女性之间的身高差异。效应量越大，身高差异就越大。效应量通常在公式中用字母*d*表示。
- en: Now that we have defined the key concepts, let’s look how to use power analysis
    in R and Python to calculate the sample size for an experiment with a simple example.
    In R we will utilize a package called `pwr` and with Python we will utilize the
    `NumPy` and `statsmodels.stats.power` libraries.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经定义了关键概念，让我们看看如何使用R和Python中的功率分析来计算一个简单实验的样本大小。在R中，我们将使用一个名为`pwr`的包，而在Python中，我们将使用`NumPy`和`statsmodels.stats.power`库。
- en: Let’s assume that we would like to create a model of customer behavior. We are
    interested to know whether there is a difference in the mean price of what our
    preferred customers and other customers pay at our online shop. How many transactions
    in each group should we investigate to get the power level of 80%?
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们想要创建一个客户行为的模型。我们想知道在我们的在线商店中，我们偏好的客户和其他客户支付的平均价格是否有差异。我们应该调查每个组中多少笔交易才能得到80%的功率水平？
- en: '**R:**'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '**R：**'
- en: '[PRE0]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The model will give us the following result:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 模型将给出以下结果：
- en: '[PRE1]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: So, we will need a sample of 64 transactions in each group.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们需要每个组中有一个包含64笔交易的样本。
- en: '**Python:**'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '**Python：**'
- en: '[PRE2]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Our Python code will produce the same result as our earlier R code, giving us
    64 transactions in each group.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的Python代码将产生与之前R代码相同的结果，每个组中都有64笔交易。
- en: Note
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Power analysis is a wide and complex topic, but it’s important to understand
    the basics, since it is widely utilized in many machine-learning tools. In this
    chapter, we have only scratched the surface of this topic.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 功率分析是一个广泛且复杂的话题，但了解基础知识很重要，因为它在许多机器学习工具中得到广泛应用。在本章中，我们只是触及了这个话题的表面。
- en: Sampling
  id: totrans-148
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**抽样**'
- en: '**Sampling** is a method that makes it possible to get information about the
    population (dataset) based on the statistics from a subset of population (sample),
    without having to investigate every individual value. Sampling is particularly
    useful if a dataset is large and can’t be analyzed in full. In this case, identifying
    and analyzing a representative sample is important. In some cases, a small sample
    can be enough to reveal the most important information, but generally, using a
    larger sample can increase the likelihood of representing the data as a whole.'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '**抽样**是一种方法，使得我们可以根据来自总体（数据集）的子集（样本）的统计数据来获取关于总体的信息（而不必调查每个个体值）。如果数据集很大且无法进行全面分析，抽样特别有用。在这种情况下，识别和分析一个代表性的样本很重要。在某些情况下，一个小样本可能足以揭示最重要的信息，但通常，使用更大的样本可以增加代表整个数据集的可能性。'
- en: 'When performing sampling, there are some aspects to consider:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行抽样时，有一些方面需要考虑：
- en: '**Sample goal**: A property that you wish to estimate or predict'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**样本目标**：你希望估计或预测的属性'
- en: '**Population**: A domain from which observations are made'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**总体**：一个进行观测的领域'
- en: '**Selection criteria**: A method to determine whether an individual value will
    be accepted as a part of the sample'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**选择标准**：一种确定单个值是否将被接受为样本一部分的方法'
- en: '**Sample size**: The number of data points that will form the final sample
    data'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**样本大小**：将形成最终样本数据的观测值数量'
- en: 'Sampling methods can be divided into two main categories:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 抽样方法可以分为两大类：
- en: '**Probability sampling** is a technique where every element of the dataset
    has an equal chance of being selected. These methods typically give the best chance
    of creating a sample that truly represents the population. Examples of probability
    sampling algorithms are *simple random sampling*, *cluster sampling*, *systematic
    sampling*, and *stratified* *random sampling*.'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '**概率抽样**是一种技术，其中数据集中的每个元素都有同等的机会被选中。这些方法通常提供了创建真正代表总体的样本的最佳机会。概率抽样算法的例子包括*简单随机抽样*、*聚类抽样*、*系统抽样*和*分层随机抽样*。'
- en: '**Non-probability sampling** is a method where all elements are not equally
    qualified for being selected. With these methods, there is a significant risk
    that the sample is non-representative. Examples of non-probability sampling algorithms
    are *convenience sampling*, *selective sampling*, *snowball sampling*, and *quota
    sampling*.'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '**非概率采样**是一种所有元素并不同等适合被选中的方法。使用这些方法，样本非代表性的风险很大。非概率采样算法的例子包括*便利抽样*、*选择抽样*、*滚雪球抽样*和*配额抽样*。'
- en: 'When using sampling as a methodology for training set creation, it is recommended
    to utilize a specialized sampling library in either R or Python. This will automate
    the process and produce a sample based on selected algorithms and specifications.
    In R, we can utilize the standard `sample` library and in Python there is a package
    called `random.sample`. Here is a simple example of random sampling with both
    languages:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用采样作为创建训练集的方法时，建议在R或Python中利用专门的采样库。这将自动化过程，并基于选定的算法和规范生成样本。在R中，我们可以使用标准的`sample`库，而在Python中有一个名为`random.sample`的包。以下是用这两种语言进行随机采样的简单示例：
- en: '**R:**'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '**R:**'
- en: '[PRE3]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The content of the sample frame will look like this:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 样本框架的内容将如下所示：
- en: '[PRE4]'
  id: totrans-162
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Python:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 'Python:'
- en: '[PRE5]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The result of the sample vector will look like the following:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 样本向量的结果将类似于以下内容：
- en: '[PRE6]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Note
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: There is a lot of material covering different sampling techniques and how to
    use those with R and Python on the internet. Take some time to practice these
    techniques with simple datasets.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网上有大量关于不同采样技术以及如何使用R和Python进行采样的材料。花些时间用简单的数据集练习这些技术。
- en: Sampling errors
  id: totrans-169
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 采样误差
- en: 'In all sampling methods, errors are bound to occur. There are two types of
    sampling errors:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 在所有采样方法中，错误是不可避免的。存在两种类型的采样误差：
- en: '**Selection bias** is introduced by the selection of values that are not random
    to be part of the sample. In this case, the sample is not representative of the
    dataset that we are looking to analyze.'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**选择偏差**是由选择非随机值作为样本的一部分而引入的。在这种情况下，样本不能代表我们想要分析的数据库。'
- en: '**Sampling error** is a statistical error that occurs when we don’t select
    the sample that represents the entire population of data. In this case, the results
    of the prediction or model will not represent the actual results that are generalized
    to cover the entire dataset.'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**采样误差**是在我们没有选择代表整个数据集总体样本时发生的一种统计误差。在这种情况下，预测或模型的结果将不会代表实际结果，这些结果被推广以涵盖整个数据集。'
- en: 'Training datasets will always contain a sampling error, since it cannot represent
    the entire dataset. Sample errors in the context of binary classification can
    be calculated using the following simplified formula:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 训练数据集总是会包含采样误差，因为它不能代表整个数据集。在二元分类的背景下，采样误差可以使用以下简化的公式进行计算：
- en: Sample error =  False positive + False negative   ____________________________________________     True
    positive + False positive + True negative + False negative
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 样本误差 = 假阳性 + 假阴性   ____________________________________________     真阳性 + 假阳性
    + 真阴性 + 假阴性
- en: If we have, for example, a dataset containing 45 values and out of these 12
    are false values, we will get a sample error of 12/45 = 26.67%.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果我们有一个包含45个值的数据集，其中12个是错误值，我们将得到样本误差为12/45 = 26.67%。
- en: 'The above formula can be only utilized in context of binary classification.
    When estimating the population mean (*μ*) from a sample mean ( _ x ), the standard
    error is calculated as follows:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 上述公式只能在二元分类的背景下使用。当从样本均值（_x_）估计总体均值（μ）时，标准误差的计算如下：
- en: SE =  σ _ √ _ n
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: SE = σ √n
- en: '**SE (Standard Error)**: The standard error is a measure of the variability
    or uncertainty in a sample statistic. It quantifies how much the sample statistic
    is expected to vary from the true population parameter. In other words, it gives
    you an idea of how reliable or precise your sample estimate is.'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SE (标准误差)**：标准误差是样本统计量变异或不确定性的度量。它量化了样本统计量预期会从真实总体参数中变化的程度。换句话说，它给你一个关于你的样本估计可靠性和精确性的概念。'
- en: '**σ** **(population standard deviation)**: This is the standard deviation of
    the entire population you’re trying to make inferences about. It represents the
    amount of variability or spread in the population data. In practice, the population
    standard deviation is often unknown, so you may estimate it using the sample standard
    deviation (*s*) when working with sample data.'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**σ**（总体标准差）：这是你试图从中进行推断的整个总体的标准差。它表示总体数据的变异性或分布范围。在实践中，总体标准差通常是未知的，因此当处理样本数据时，你可能使用样本标准差（*s*）来估计它。'
- en: '**n (sample size)**: The number of observations or data points in your sample.'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**n（样本大小）**：你样本中的观测值或数据点的数量。'
- en: Example
  id: totrans-181
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 示例
- en: 'We are conducting a survey to estimate the average age (mean) of residents
    in a small town. We collect a random sample of 50 residents and find the following
    statistics:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 我们正在进行一项调查，以估计一个小镇居民的平均年龄（均值）。我们收集了50位居民的随机样本，并找到了以下统计数据：
- en: 'Sample mean ( _ x ): 35 years'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 样本均值（ _ x ）：35年
- en: 'Sample standard deviation (*s*): 10 years (an estimate of the population standard
    deviation)'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 样本标准差（*s*）：10年（对总体标准差的估计）
- en: 'Sample size (*n*): 50 residents'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 样本大小（*n*）：50位居民
- en: SE =  10 _ √ _ 50   = 1.42 years
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: SE = 10 √ 50 = 1.42 years
- en: So, the standard error of the sample mean is approximately 1.42 years. This
    means that if you were to take multiple random samples of the same size from the
    population and calculate the mean for each sample, you would expect those sample
    means to vary around 35 years, with an average amount of variation of 1.42 years.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，样本平均数标准误差大约为1.42年。这意味着，如果你从总体中多次随机抽取相同大小的样本并计算每个样本的平均值，你预期这些样本平均值将围绕35年变化，平均变化量为1.42年。
- en: Standard error is often used to construct confidence intervals. For instance,
    you might use this standard error to calculate a 95% confidence interval for the
    average age of residents in the town, which would allow you to estimate the range
    within which the true population mean age is likely to fall with 95% confidence.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 标准误差常用于构建置信区间。例如，你可能使用这个标准误差来计算城镇居民平均年龄的95%置信区间，这将允许你估计真实人口平均年龄可能落在的95%置信范围。
- en: As we can see, sample error, often referred to as “sampling error,” is not represented
    by a single formula. Instead, it is a concept that reflects the variability or
    uncertainty in the estimates or measurements made on a sample of data when trying
    to infer information about a larger population. The specific formula for sampling
    error depends on the statistic or parameter you are estimating and the characteristics
    of your data. In practice, you would use statistical software or tools to calculate
    the standard error for the specific parameter or estimate you are interested in.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们所见，样本误差，通常被称为“抽样误差”，不是一个单一的公式。相反，它是一个反映在样本数据上进行的估计或测量中的变异性或不确定性的概念。抽样误差的具体公式取决于你正在估计的统计量或参数以及你的数据特征。在实践中，你会使用统计软件或工具来计算你感兴趣的特定参数或估计的标准误差。
- en: Training and test data in machine learning
  id: totrans-190
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 机器学习中的训练数据和测试数据
- en: The preceding methods for defining a sample size will work well if we need to
    define the amount of needed data without a large collection of historic data covering
    the phenomenon that we are investigating. In many cases, we have a large dataset
    and we would like to produce training and test datasets from that historical data.
    Training datasets are used to train our machine-learning model and test datasets
    are used to validate the accuracy of our model. Training and test datasets are
    the key concepts in machine learning.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们不需要大量覆盖我们正在调查现象的历史数据来定义所需的数据量，那么上述定义样本大小的方法将工作得很好。在许多情况下，我们有一个大型数据集，并希望从历史数据中生成训练数据和测试数据集。训练数据集用于训练我们的机器学习模型，测试数据集用于验证我们模型的准确性。训练数据和测试数据集是机器学习中的关键概念。
- en: We can utilize power analysis and sampling to create training and testing datasets,
    but sometimes there is no need to make a complex analysis if our sample is already
    created. The training dataset is the biggest subset of the original dataset and
    will be used to fit the machine-learning model. The test dataset is another subset
    of original data and is always independent of the training dataset.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以利用功效分析和抽样来创建训练集和测试集，但有时如果我们的样本已经创建，就没有必要进行复杂分析。训练集是原始数据集的最大子集，将用于拟合机器学习模型。测试集是原始数据的另一个子集，并且始终独立于训练集。
- en: Test data should be well organized and contain data for each type of scenario
    that the model would be facing in the production environment. Usually it is 20–25%
    of the total original dataset. An exact split can be adjusted based on the requirements
    of a problem or the dataset characteristics.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 测试数据应该组织良好，并包含模型在生产环境中可能遇到的各种场景的数据。通常，它是原始数据集的20-25%。可以根据问题的要求或数据集的特征调整精确分割。
- en: Generating a training and testing dataset from an original dataset can also
    be done using R or Python. Qlik functions can be used to perform this action in
    load script.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 从原始数据集中生成训练集和测试集也可以使用R或Python完成。Qlik函数可以在加载脚本中执行此操作。
- en: Now that we have investigated some of the concepts to define a good sample,
    we can focus on the concepts used to analyze model performance and reliability.
    These concepts are important, since using these techniques allow us to develop
    our model further and make sure that it gives proper results.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经研究了定义良好样本的一些概念，我们可以专注于用于分析模型性能和可靠性的概念。这些概念很重要，因为使用这些技术可以让我们进一步开发我们的模型，并确保它给出正确的结果。
- en: Concepts to analyze model performance and reliability
  id: totrans-196
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分析模型性能和可靠性的概念
- en: Analyzing the performance and reliability of our machine-learning model is an
    important development step and should be done before implementing the model to
    production. There are several metrics that you can use to analyze the performance
    and reliability of a machine learning model, depending on the specific task and
    problem you are trying to solve. In this section, we will cover some of these
    techniques, focusing on ones that Qlik tools are using.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 分析我们机器学习模型的性能和可靠性是一个重要的开发步骤，应该在将模型投入生产之前完成。根据您试图解决的特定任务和问题，您可以使用几个指标来分析机器学习模型的性能和可靠性。在本节中，我们将介绍一些这些技术，重点关注Qlik工具使用的技术。
- en: Regression model scoring
  id: totrans-198
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 回归模型评分
- en: The following concepts can be used to score and verify **regression models**.
    Regression models predict outcomes as a number, indicating the model’s best estimate
    of the target variable. We will learn more about regression models in [*Chapter
    2*](B19863_02.xhtml#_idTextAnchor037).
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 以下概念可用于评分和验证**回归模型**。回归模型预测结果为一个数值，表示模型对目标变量的最佳估计。我们将在[*第2章*](B19863_02.xhtml#_idTextAnchor037)中了解更多关于回归模型的内容。
- en: R2 (R-squared)
  id: totrans-200
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: R2（R-平方）
- en: '**R-squared** is a statistical measure that represents the proportion of the
    variance in a dependent variable that is explained by an independent variable
    (or variables) in a regression model. In other words, it measures the goodness
    of fit of a regression model to the data.'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '**R-平方**是一个统计量，表示回归模型中由自变量（或变量）解释的因变量变异性比例。换句话说，它衡量回归模型与数据的拟合优度。'
- en: R-squared ranges from 0 to 1, where 0 indicates that the model does not explain
    any of the variability in the dependent variable, and 1 indicates that the model
    perfectly explains all the variability in the dependent variable.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: R-平方的范围从0到1，其中0表示模型无法解释因变量的任何变异性，而1表示模型完美地解释了因变量的所有变异性。
- en: 'R-squared is an important measure of the quality of a regression model. A high
    R-squared value indicates that the model fits the data well and that the independent
    variable(s) have a strong relationship with the dependent variable. A low R-squared
    value indicates that the model does not fit the data well and that the independent
    variable(s) do not have a strong relationship with the dependent variable. However,
    it is important to note that a high R-squared value does not necessarily mean
    that the model is the best possible model, so other factors such as overfitting
    should also be taken into consideration when evaluating the performance of a model.
    R-squared is often used together with other metrics and it should be interpreted
    in the context of the problem. The formula for R-squared is the following:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: R平方是衡量回归模型质量的重要指标。高R平方值表明模型很好地拟合了数据，并且自变量与因变量之间有很强的关系。低R平方值表明模型没有很好地拟合数据，并且自变量与因变量之间没有很强的关系。然而，需要注意的是，高R平方值并不一定意味着模型是最佳模型，因此在评估模型性能时，还应考虑其他因素，如过拟合。R平方通常与其他指标一起使用，并且应在问题的背景下进行解释。R平方的公式如下：
- en: R 2 =  Variance explained by the model   _______________________  Total variance
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: R² = 模型解释的方差   _______________________  总方差
- en: There are some limitations for R-squared. It cannot be used to check whether
    the prediction is biased or not and it doesn’t tell us whether the regression
    model has an adequate fit or not. Bias refers to systematic errors in predictions.
    To check for bias, you should analyze residuals (differences between predicted
    and observed values) or use bias-specific metrics such as **Mean Absolute Error**
    (**MAE**) and **Mean Bias Deviation** (**MBD**). R-squared primarily addresses
    model variance, not bias.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: R平方有一些局限性。它不能用来检查预测是否有偏差，并且它不会告诉我们回归模型是否拟合良好。偏差是指预测中的系统性错误。要检查偏差，你应该分析残差（预测值和观察值之间的差异）或使用特定的偏差指标，如**平均绝对误差**（MAE）和**平均偏差偏差**（MBD）。R平方主要解决模型方差，而不是偏差。
- en: Sometimes it is better to utilize **adjusted R-squared**. Adjusted R-squared
    is a modified version of the standard R-squared used in regression analysis. We
    can use adjusted R-squared when dealing with multiple predictors to assess model
    fit, control overfitting, compare models with different predictors, and aid in
    feature selection. It accounts for the number of predictors, penalizing unnecessary
    complexity. However, it should be used alongside other evaluation metrics and
    domain knowledge for a comprehensive model assessment.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 有时使用**调整后的R平方**会更好。调整后的R平方是回归分析中使用的标准R平方的修改版。当我们处理多个预测因子时，可以使用调整后的R平方来评估模型拟合度、控制过拟合、比较具有不同预测因子的模型，并帮助进行特征选择。它考虑了预测因子的数量，对不必要的复杂性进行惩罚。然而，它应该与其他评估指标和领域知识一起使用，以进行全面模型评估。
- en: Root mean squared error (RMSE), mean absolute error (MAE), and mean squared
    error (MSE)
  id: totrans-207
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 均方根误差（RMSE）、平均绝对误差（MAE）和均方误差（MSE）
- en: '**Root mean squared error** is the average difference that can be expected
    between predicted and actual value. It is the standard deviation of the **residuals**
    (prediction errors) and tells us how concentrated the data is around the “line
    of best fit.” It is a standard way to measure the error of a model when predicting
    quantitative data. RMSE is always measured in the same unit as the target value.'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '**均方根误差**是预测值和实际值之间可以预期的平均差异。它是**残差**（预测误差）的标准差，告诉我们数据围绕“最佳拟合线”的集中程度。它是衡量模型在预测定量数据时误差的标准方法。RMSE总是以与目标值相同的单位来衡量。'
- en: As an example of RMSE, if we have a model that predicts house value in a certain
    area and we get an RMSE of 20,000, it means that, on average, the predicted value
    differs 20,000 USD from the actual value.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果我们有一个预测某个地区房屋价值的模型，并且得到一个RMSE为20,000，这意味着平均而言，预测值与实际值相差20,000美元。
- en: '**Mean absolute error** is defined as an average of all absolute prediction
    errors in all data points. In MAE, different errors are not weighted but the scores
    increase linearly with the increase in error. MAE is always a positive value since
    we are using an absolute value of error. MAE is useful when the errors are symmetrically
    distributed and there are no significant outliers.'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '**平均绝对误差**定义为所有数据点中所有绝对预测误差的平均值。在MAE中，不同的误差没有加权，但分数随着误差的增加而线性增加。由于我们使用的是误差的绝对值，MAE始终是正值。当误差对称分布且没有显著异常值时，MAE非常有用。'
- en: '**Mean squared error** is a squared average difference between the predicted
    and actual value. Squaring eliminates the negative values and ensures that MSE
    is always positive or 0\. The smaller the MSE, the closer our model to the “line
    of best fit.” RMSE can be calculated using MSE. RMSE is a square root of MSE.'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '**均方误差**是预测值和实际值之间平方平均差的平方。平方消除了负值并确保MSE始终为正值或0。MSE越小，我们的模型就越接近“最佳拟合线”。RMSE可以使用MSE计算。RMSE是MSE的平方根。'
- en: When to use the above metrics in practice
  id: totrans-212
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 实践中何时使用上述度量
- en: MAE is robust to outliers and provides a straightforward interpretation of the
    average error magnitude.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: MAE对异常值具有鲁棒性，并提供了对平均误差幅度的直接解释。
- en: MSE penalizes large errors more heavily and is suitable when you want to minimize
    the impact of outliers on the error metric.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: MSE对大误差的惩罚更重，适用于您想最小化异常值对误差度量影响的情况。
- en: RMSE is similar to MSE but provides a more interpretable error metric in the
    same units as the target variable.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 均方根误差（RMSE）与均方误差（MSE）类似，但提供了一个与目标变量相同单位的可解释误差度量。
- en: The choice between these metrics should align with your specific problem and
    objectives. Its also good practice to consider the nature of your data and the
    impact of outliers when selecting an error metric. Additionally, you can use these
    metrics in conjunction with other evaluation techniques to get a comprehensive
    view of your model’s performance.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择误差度量时，应与您特定的问题和目标保持一致。同时，考虑数据的性质和异常值对误差度量的影响也是一个好的实践。此外，您可以将这些度量与其他评估技术结合使用，以全面了解模型的性能。
- en: Multiclass classification scoring and binary classification scoring
  id: totrans-217
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 多类分类评分和二类分类评分
- en: The following concepts can be used to score and verify multiclass and binary
    models. Binary classification models distribute outcomes into two categories,
    typically denoted as Yes or No. Multiclass classification models are similar,
    but there are more than two categories as an outcome. We will learn more about
    both models in [*Chapter 2*](B19863_02.xhtml#_idTextAnchor037).
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 以下概念可用于评分和验证多类和二类模型。二类分类模型将结果分为两个类别，通常表示为是或否。多类分类模型类似，但结果类别超过两个。我们将在[*第二章*](B19863_02.xhtml#_idTextAnchor037)中了解更多关于这两种模型的信息。
- en: Recall
  id: totrans-219
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 召回率
- en: Recall measures the percentage of correctly classified positive instances over
    the total number of actual positive instances. In other words, recall represents
    the ability of a model to correctly capture all positive instances.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 召回率衡量的是正确分类的正面实例占总实际正面实例的百分比。换句话说，召回率代表了模型正确捕获所有正面实例的能力。
- en: 'Recall is calculated as follows:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 召回率的计算如下：
- en: Recall =  True positive  ______________________  (True positive + False negative)
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 召回率 =  真正例  ______________________  (真正例 + 假阴性)
- en: A high recall indicates that the model is able to accurately capture all positive
    instances and has a low rate of false negatives. On the other hand, a low recall
    indicates that the model is missing many positive instances, resulting in a high
    rate of false negatives.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 高召回率表明模型能够准确地捕获所有正面实例，并且假阴性率很低。另一方面，低召回率表明模型遗漏了许多正面实例，导致假阴性率很高。
- en: Precision
  id: totrans-224
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 精确度
- en: Precision measures the percentage of correctly classified positive instances
    over the total number of predicted positive instances. In other words, precision
    represents the ability of the model to correctly identify positive instances.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 精确度衡量的是正确分类的正面实例占总预测正面实例的百分比。换句话说，精确度代表了模型正确识别正面实例的能力。
- en: 'Precision is calculated as follows:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 精确度的计算如下：
- en: Precision =  True positive  _____________________  (True positive + False positive)
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 精确度 =  真正例  _____________________  (真正例 + 假正例)
- en: A high precision indicates that the model is able to accurately identify positive
    instances and has a low rate of false positives. On the other hand, a low precision
    indicates that the model is incorrectly classifying many instances as positive,
    resulting in a high rate of false positives.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 高精确度表明模型能够准确识别正例，并且错误分类为正例的实例率很低。另一方面，低精确度表明模型错误地将许多实例分类为正例，导致错误分类的实例率很高。
- en: Precision is particularly useful in situations where false positives are costly
    or undesirable, such as in medical diagnosis or fraud detection. Precision should
    be used in conjunction with other metrics, such as **recall** and **F1 score**,
    to get a more complete picture of the model’s performance.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 精确度在错误分类成本高或不受欢迎的情况下特别有用，例如在医学诊断或欺诈检测中。精确度应与其他指标如**召回率**和**F1 分数**结合使用，以获得模型表现的更全面视图。
- en: F1 score
  id: totrans-230
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: F1 分数
- en: 'The F1 score is defined as the harmonic mean of precision and recall, and it
    ranges from 0 to 1, with higher values indicating better performance. The formula
    for F1 score is as follows:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: F1 分数定义为精确度和召回率的调和平均值，其范围从 0 到 1，值越高表示性能越好。F1 分数的公式如下：
- en: F1 score = 2 *  (precision * recall)  _____________  (precision + recall)
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: F1 分数 = 2 * (精确度 * 召回率) / (精确度 + 召回率)
- en: The F1 score gives equal importance to both precision and recall, making it
    a useful metric for evaluating models when the distribution of positive and negative
    instances is uneven. A high F1 score indicates that the model has a good balance
    between precision and recall and can accurately classify both positive and negative
    instances.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: F1 分数同时考虑了精确度和召回率，使其在正负实例分布不均时评估模型的有用指标。高 F1 分数表明模型在精确度和召回率之间取得了良好的平衡，并能准确地对正负实例进行分类。
- en: In general, the more imbalanced the dataset is, the lower the F1 score is likely
    to be. It’s crucial to recognize that, when dealing with highly imbalanced datasets
    where one class greatly outnumbers the other, the F1 score may be influenced.
    A more imbalanced dataset can result in a reduced F1 score. Being aware of this
    connection can assist in interpreting F1 scores within the context of particular
    data distributions and problem domains. If the F1 value is high, all other metrics
    will be high as well, and if it is low, there is a need for further analysis.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，数据集的不平衡程度越高，F1 分数可能越低。重要的是要认识到，在处理高度不平衡的数据集时，其中一个类别远多于另一个类别，F1 分数可能会受到影响。更不平衡的数据集可能导致
    F1 分数降低。了解这种联系有助于在特定数据分布和问题域的背景下解释 F1 分数。如果 F1 值高，所有其他指标也会很高，如果 F1 值低，则需要进一步分析。
- en: Accuracy
  id: totrans-235
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 准确率
- en: '**Accuracy** measures the percentage of correctly classified instances over
    the total number of instances. In other words, accuracy represents the ability
    of the model to correctly classify both positive and negative instances.'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: '**准确率**衡量的是正确分类的实例占总实例数的百分比。换句话说，准确率代表了模型正确分类正负实例的能力。'
- en: 'Accuracy is calculated in the following way:'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 准确率的计算方法如下：
- en: Accuracy =  (True positive + True negative)   ____________________________________________    (True
    positive + False positive + True negative + False negative)
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 准确率 = (真阳性 + 真阴性) / (真阳性 + 假阳性 + 真阴性 + 假阴性)
- en: A high accuracy indicates that the model is able to accurately classify both
    positive and negative instances and has a low rate of false positives and false
    negatives. However, accuracy can be misleading in situations where the distribution
    of positive and negative instances is uneven. In such cases, other metrics such
    as precision, recall, and F1 score may provide a more accurate representation
    of the model’s performance.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 高准确率表明模型能够准确地对正负实例进行分类，并且错误分类的实例率很低。然而，在正负实例分布不均的情况下，准确率可能会产生误导。在这种情况下，其他指标如精确度、召回率和
    F1 分数可能更能准确地反映模型的表现。
- en: Accuracy can mislead in imbalanced datasets where one class vastly outnumbers
    the others. This is because accuracy doesn’t consider the class distribution and
    can be high even if the model predicts the majority class exclusively. To address
    this, use metrics such as precision, recall, F1-score, **AUC-ROC**, and **AUC-PR**,
    which provide a more accurate evaluation of model performance by focusing on the
    correct identification of the minority class, which is often the class of interest
    in such datasets.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 在类别不平衡的数据集中，准确率可能会误导，其中一类远远多于其他类。这是因为准确率不考虑类别分布，即使模型仅预测多数类别，准确率也可能很高。为了解决这个问题，使用诸如精确率、召回率、F1
    分数、**AUC-ROC** 和 **AUC-PR** 等指标，这些指标通过关注正确识别少数类别（通常此类数据集中的目标类别）来提供对模型性能的更准确评估。
- en: Example scenario
  id: totrans-241
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 示例场景
- en: 'Suppose we are developing a machine-learning model to detect a rare disease
    that occurs in only 1% of the population. We collect a dataset of 10,000 patient
    records:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们正在开发一个机器学习模型来检测仅发生在 1% 的人口中的罕见疾病。我们收集了 10,000 份患者记录的数据集：
- en: 100 patients have the rare disease (positive class)
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 100 名患者患有罕见疾病（正类）
- en: 9,900 patients do not have the disease (negative class)
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 9,900 名患者没有疾病（负类）
- en: 'Now, let’s say our model predicts all 10,000 patients as not having the disease.
    Here’s what happens:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，假设我们的模型预测所有 10,000 名患者都没有疾病。以下是发生的情况：
- en: 'True Positives (correctly predicted patients with the disease): 0'
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 真阳性（正确预测出患有疾病的患者）：0
- en: 'False Positives (incorrectly predicted patients with the disease): 0'
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 假阳性（错误预测出患有疾病的患者）：0
- en: 'True Negatives (correctly predicted patients without the disease): 9,900'
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 真阴性（正确预测出未患有疾病的患者）：9,900
- en: 'False Negatives (incorrectly predicted patients without the disease): 100'
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 假阴性（错误预测出未患有疾病的患者）：100
- en: 'Using accuracy as our evaluation metric produces the following result:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 使用准确率作为我们的评估指标会产生以下结果：
- en: Accuracy =  True positive + True negative  _____________________  Total  =  9900 _ 10000 
    = 99%
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 准确率 = 真阳性 + 真阴性 ___________________ 总数 = 9900 _ 10000 = 99%
- en: Our model appears to have an impressive 99% accuracy, which might lead to the
    misleading conclusion that it’s performing exceptionally well. However, it has
    completely failed to detect any cases of the rare disease (True Positives = 0),
    which is the most critical aspect of the problem.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的模型似乎有令人印象深刻的 99% 准确率，这可能会导致误导性的结论，即它表现异常出色。然而，它完全未能检测到任何罕见疾病的病例（真阳性 = 0），这是问题的最关键方面。
- en: In this example, accuracy doesn’t provide an accurate picture of the model’s
    performance because it doesn’t account for the severe class imbalance and the
    importance of correctly identifying the minority class (patients with the disease).
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，准确率并不能准确反映模型的表现，因为它没有考虑到严重的类别不平衡和正确识别少数类别（患有疾病的患者）的重要性。
- en: Confusion matrix
  id: totrans-254
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 混淆矩阵
- en: A confusion matrix is a table used to evaluate the performance of a classification
    model. It displays the number of true positive, false positive, true negative,
    and false negative predictions made by the model for a set of test data.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 混淆矩阵是用于评估分类模型性能的表格。它显示了模型对一组测试数据做出的真阳性、假阳性、真阴性和假阴性预测的数量。
- en: 'The four elements in the confusion matrix represent the following:'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 混淆矩阵中的四个元素代表以下内容：
- en: True positives (TP) are actual true values that were correctly predicted as
    true
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 真阳性（TP）是实际为真值，且被正确预测为真
- en: False positives (FP) are actual false values that were incorrectly predicted
    as true
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 假阳性（FP）是实际为假值，但被错误地预测为真
- en: False negatives (FN) are actual true values that were incorrectly predicted
    as false
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 假阴性（FN）是实际为真值，但被错误地预测为假
- en: True negatives (TN) are actual false values that were correctly predicted as
    false
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 真阴性（TN）是实际为假值，且被正确预测为假
- en: Qlik AutoML presents a confusion matrix as part of the experiment view. Below
    the numbers in each quadrant, you can also see percentage values for the metrics
    recall (TP), fallout (FP), miss rate (FN), and specificity (TN).
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: Qlik AutoML 在实验视图中呈现混淆矩阵作为一部分。在每个象限下的数字下方，您还可以看到召回率（TP）、漏报率（FP）、误报率（FN）和特异性（TN）的百分比值。
- en: 'An example of the confusion matrix of Qlik AutoML can be seen in the following
    figure:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: Qlik AutoML 的混淆矩阵示例可以在以下图中看到：
- en: '![Figure 1.4: Confusion matrix as seen in Qlik AutoML](img/B19863_01_04.jpg)'
  id: totrans-263
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.4：Qlik AutoML 中看到的混淆矩阵](img/B19863_01_04.jpg)'
- en: 'Figure 1.4: Confusion matrix as seen in Qlik AutoML'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.4：Qlik AutoML 中看到的混淆矩阵
- en: By analyzing the confusion matrix, we can calculate various performance metrics
    such as accuracy, precision, recall, and F1 score, which can help us understand
    how well the model is performing on the test data. The confusion matrix can also
    help us identify any patterns or biases in the model’s predictions and adjust
    the model accordingly.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 通过分析混淆矩阵，我们可以计算各种性能指标，如准确率、精确率、召回率和F1分数，这有助于我们了解模型在测试数据上的表现。混淆矩阵还可以帮助我们识别模型预测中的任何模式或偏差，并据此调整模型。
- en: Matthews Correlation Coefficient (MCC)
  id: totrans-266
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 马修斯相关系数 (MCC)
- en: '**The Matthews Correlation Coefficient** metric can be used to evaluate the
    performance of a binary classification model, particularly when dealing with imbalanced
    data.'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: '**马修斯相关系数**指标可以用来评估二元分类模型的表现，尤其是在处理不平衡数据时。'
- en: MCC takes into account all four elements of the confusion matrix (true positives,
    false positives, true negatives, and false negatives) to provide a measure of
    the quality of a binary classifier’s predictions. It ranges between -1 and +1,
    with a value of +1 indicating perfect classification performance, 0 indicating
    a random classification, and -1 indicating complete disagreement between predicted
    and actual values.
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: MCC考虑了混淆矩阵的所有四个元素（真正例、假正例、真负例和假负例），以提供二元分类器预测质量的一个度量。它的值介于-1和+1之间，+1表示完美的分类性能，0表示随机分类，-1表示预测值与实际值完全不一致。
- en: 'The formula for MCC is as follows:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: MCC的公式如下：
- en: MCC =  (TP x TN − FP x FN)   ________________________________    √ _____________________________________    ((TP
    + FP) x (TP + FN) x (TN + FP) x (TN + FN))
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: MCC =  (TP x TN − FP x FN)   ________________________________    √ _____________________________________    ((TP
    + FP) x (TP + FN) x (TN + FP) x (TN + FN))
- en: MCC is particularly useful when dealing with imbalanced datasets where the number
    of positive and negative instances is not equal. It provides a better measure
    of classification performance than accuracy in such cases, since accuracy can
    be biased toward the majority class.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: MCC在处理不平衡数据集时特别有用，其中正负实例的数量不相等。在这种情况下，它比准确率提供了更好的分类性能度量，因为准确率可能会偏向多数类。
- en: AUC and ROC curve
  id: totrans-272
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: AUC和ROC曲线
- en: '**The ROC** (**Receiver Operating Characteristic**) **curve** is a graphical
    representation of the performance of a binary classification model that allows
    us to evaluate and compare different models based on their ability to discriminate
    between positive and negative classes. AUC describes the area under the curve.'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: '**ROC**（**接收者操作特征**）**曲线**是二元分类模型性能的图形表示，它使我们能够根据模型区分正负类的能力来评估和比较不同的模型。AUC描述了曲线下的面积。'
- en: An ROC curve plots the **True Positive Rate** (**TPR**) against the **False
    Positive Rate** (**FPR**) at various classification thresholds. The TPR is the
    ratio of true positive predictions to the total number of actual positive instances,
    while the FPR is the ratio of false positive predictions to the total number of
    actual negative instances.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: ROC曲线（接受者操作特征曲线）显示了在各个分类阈值下**真正例率**（**TPR**）与**假正例率**（**FPR**）的关系。TPR是真正例预测数与实际正例总数的比率，而FPR是假正例预测数与实际负例总数的比率。
- en: By varying the classification threshold, we can obtain different TPR and FPR
    pairs and plot them on the ROC curve. The area under the ROC curve (AUC-ROC) is
    used as a performance metric for binary classification models, with higher AUC-ROC
    indicating better performance.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 通过改变分类阈值，我们可以获得不同的TPR和FPR对，并将它们绘制在ROC曲线上。ROC曲线下的面积（AUC-ROC）被用作二元分类模型的性能指标，AUC-ROC值越高，表示性能越好。
- en: A perfect classifier would have an AUC-ROC of 1.0, indicating that it has a
    high TPR and low FPR across all possible classification thresholds. A random classifier
    would have an AUC-ROC of 0.5, indicating that its TPR and FPR are equal and its
    performance is no better than chance.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 一个完美的分类器会有1.0的AUC-ROC，这意味着它在所有可能的分类阈值下都有高TPR和低FPR。一个随机分类器会有0.5的AUC-ROC，这意味着它的TPR和FPR相等，其表现并不比随机更好。
- en: The ROC curve and AUC-ROC are useful for evaluating and comparing binary classification
    models, especially when the positive and negative classes are imbalanced or when
    the cost of false positive and false negative errors is different.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: ROC曲线和AUC-ROC曲线对于评估和比较二元分类模型非常有用，尤其是在正负类不平衡或错误成本不同的情况下。
- en: The following figure represents an ROC curve as seen in Qlik AutoML. The figure
    shows a pretty good ROC curve (it is good since the curve should be as close to
    1 as possible). The dotted line is 50:50 random chance.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 下图展示了在Qlik AutoML中看到的ROC曲线。该图显示了一个相当好的ROC曲线（曲线应该尽可能接近1，因此它是好的）。虚线是50:50的随机机会。
- en: '![Figure 1.5: ROC curve for a good model in Qlik AutoML](img/B19863_01_05.jpg)'
  id: totrans-279
  prefs: []
  type: TYPE_IMG
  zh: '![图1.5：Qlik AutoML中良好模型的ROC曲线](img/B19863_01_05.jpg)'
- en: 'Figure 1.5: ROC curve for a good model in Qlik AutoML'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.5：Qlik AutoML中良好模型的ROC曲线
- en: Threshold
  id: totrans-281
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 阈值
- en: In binary classification, a **threshold** is a value that is used to decide
    whether an instance should be classified as positive or negative by a model.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 在二元分类中，**阈值**是一个用于决定模型是否将实例分类为正类或负类的值。
- en: When a model makes a prediction, it generates a probability score between 0
    and 1 that represents the likelihood of an instance belonging to the positive
    class. If the score is above a certain threshold value, the instance is classified
    as positive, and if it is below the threshold, it is classified as negative.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 当一个模型做出预测时，它会生成一个介于0和1之间的概率分数，该分数代表一个实例属于正类的可能性。如果分数高于某个特定的阈值值，则该实例被分类为正类，如果低于阈值，则被分类为负类。
- en: The choice of threshold can significantly impact the performance of a classification
    model. If the threshold is set too high, the model may miss many positive instances,
    leading to a low recall and high precision. Conversely, if the threshold is set
    too low, the model may classify many negative instances as positive, leading to
    a high recall and low precision.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 阈值的选择可以显著影响分类模型的表现。如果阈值设置得太高，模型可能会错过许多正类实例，导致召回率低而精确度高。相反，如果阈值设置得太低，模型可能会将许多负类实例错误地分类为正类，导致召回率高而精确度低。
- en: Therefore, selecting an appropriate threshold for a classification model is
    important in achieving the desired balance between precision and recall. The optimal
    threshold depends on the specific application and the cost of false positive and
    false negative errors.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，为分类模型选择一个合适的阈值对于实现所需精度和召回率之间的平衡非常重要。最佳阈值取决于具体的应用和错误分类的成本。
- en: Qlik AutoML computes the precision and recall for hundreds of possible threshold
    values from 0 to 1\. A threshold achieving the highest F1 score is chosen. By
    selecting a threshold, the produced predictions are more robust for imbalanced
    datasets.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: Qlik AutoML计算从0到1的数百个可能阈值值的精确度和召回率。选择实现最高F1分数的阈值。通过选择阈值，生成的预测对不平衡数据集更加稳健。
- en: Feature importance
  id: totrans-287
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 特征重要性
- en: '**Feature importance** is a measure of the contribution of each input variable
    (feature) in a model to the output variable (prediction). It is a way to understand
    which features have the most impact on the model’s prediction, and which features
    can be ignored or removed without significantly affecting the model’s performance.'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: '**特征重要性**是衡量模型中每个输入变量（特征）对输出变量（预测）贡献的度量。它是一种了解哪些特征对模型的预测影响最大，哪些特征可以忽略或删除而不会显著影响模型性能的方法。'
- en: 'Feature importance can be computed using various methods, depending on the
    type of model used. Some common methods for calculating feature importance include
    the following:'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 特征重要性可以使用各种方法计算，具体取决于所使用的模型类型。计算特征重要性的常见方法包括以下几种：
- en: '**Permutation importance:** This method involves shuffling the values of each
    feature in the test data, one at a time, and measuring the impact on the model’s
    performance. The features that cause the largest drop in performance when shuffled
    are considered more important.'
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**置换重要性**：这种方法涉及逐个随机打乱测试数据集中每个特征的值，并测量对模型性能的影响。当打乱时导致性能下降最大的特征被认为更重要。'
- en: '**Feature importance from tree-based models:** In decision tree-based models
    such as Random Forest or Gradient Boosting, feature importance can be calculated
    based on how much each feature decreases the impurity of the tree. The features
    that reduce impurity the most are considered more important.'
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基于树的模型特征重要性**：在随机森林或梯度提升等基于决策树的模型中，特征重要性可以根据每个特征减少树的不纯度的程度来计算。减少不纯度最多的特征被认为更重要。'
- en: '**Coefficient magnitude:** In linear models such as Linear Regression or Logistic
    Regression, feature importance can be calculated based on the magnitude of the
    coefficients assigned to each feature. The features with larger coefficients are
    considered more important.'
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**系数大小**：在线性模型（如线性回归或逻辑回归）中，特征重要性可以根据分配给每个特征的系数的大小来计算。系数较大的特征被认为更重要。'
- en: Feature importance can help in understanding the relationship between the input
    variables and the model’s prediction and can guide feature selection and engineering
    efforts to improve the model’s performance. It can also provide insights into
    the underlying problem and the data being used and can help in identifying potential
    biases or data quality issues.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 特征重要性有助于理解输入变量与模型预测之间的关系，并可以指导特征选择和工程努力以提升模型性能。它还可以提供对潜在问题和所使用数据的洞察，并有助于识别潜在的偏差或数据质量问题。
- en: In Qlik AutoML, the permutation importance of each feature is represented as
    a graph. This can be used to estimate feature importance. Another method that
    is visible in AutoML is SHAP importance values. The next section will cover the
    principles of SHAP importance values.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 在Qlik AutoML中，每个特征置换重要性以图形表示。这可以用来估计特征重要性。在AutoML中还可以看到另一种方法，即SHAP重要性值。下一节将介绍SHAP重要性值的原则。
- en: SHAP values
  id: totrans-295
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: SHAP值
- en: '**SHAP** (**SHapley Additive exPlanations**) **values** are a technique for
    interpreting the output of machine-learning models by assigning an importance
    score to each input feature.'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: '**SHAP**（**SHapley Additive exPlanations**）**值**是一种通过为每个输入特征分配重要性分数来解释机器学习模型输出的技术。'
- en: SHAP values are based on game theory and the concept of Shapley values, which
    provide a way to fairly distribute the value of a cooperative game among its players.
    In the context of machine learning, the game is the prediction task, and the players
    are the input features. The SHAP values represent the contribution of each feature
    to the difference between a specific prediction and the expected value of the
    output variable.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: SHAP值基于博弈论和Shapley值的概念，它提供了一种在合作游戏中公平分配玩家价值的方法。在机器学习的背景下，游戏是预测任务，玩家是输入特征。SHAP值表示每个特征对特定预测与输出变量期望值之间差异的贡献。
- en: The SHAP values approach involves computing the contribution of each feature
    by evaluating the model’s output for all possible combinations of features, with
    and without the feature of interest. The contribution of the feature is the difference
    in the model’s output between the two cases averaged over all possible combinations.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: SHAP值方法涉及通过评估所有可能的特征组合（包括和不包括感兴趣的特定特征）的模型输出，来计算每个特征的贡献。特征的贡献是两种情况下模型输出差异的平均值。
- en: SHAP values provide a more nuanced understanding of the relationship between
    the input features and the model’s output than other feature importance measures,
    as they account for interactions between features and the potential correlation
    between them.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: SHAP值提供了比其他特征重要性度量更细致的理解，因为它们考虑了特征之间的交互作用以及它们之间的潜在相关性。
- en: SHAP values can be visualized using a SHAP plot, which shows the contribution
    of each feature to the model’s output for a specific prediction. This plot can
    help in understanding the relative importance of each feature and how they are
    influencing the model’s prediction.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: SHAP值可以使用SHAP图进行可视化，该图显示了每个特征对特定预测模型输出的贡献。此图有助于理解每个特征的相对重要性以及它们如何影响模型的预测。
- en: Difference between SHAP and permutation importance
  id: totrans-301
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: SHAP与置换重要性的区别
- en: Permutation importance and SHAP are alternative ways of measuring feature importance.
    The main difference between the two is that permutation importance is based on
    the decrease in model performance. It is a simpler and more computationally efficient
    approach to compute feature importance but may not accurately reflect the true
    importance of features in complex models.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 置换重要性和SHAP是衡量特征重要性的替代方法。两者之间的主要区别在于，置换重要性基于模型性能的下降。这是一种更简单、计算效率更高的计算特征重要性的方法，但可能无法准确反映复杂模型中特征的真实重要性。
- en: SHAP importance is based on the magnitude of feature attributions. SHAP values
    provide a more nuanced understanding of feature importance but can be computationally
    expensive and may not be feasible for very large datasets or complex models.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: SHAP重要性基于特征归因的幅度。SHAP值提供了对特征重要性的更细致的理解，但可能计算成本高昂，并且可能不适合非常大的数据集或复杂的模型。
- en: 'Permutation importance can be used to do the following:'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 排列重要性可用于以下方面：
- en: Understand which features to keep and which to abandon
  id: totrans-305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解哪些特征需要保留，哪些需要放弃
- en: Understand the feature importance for model accuracy
  id: totrans-306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解特征重要性对模型准确性的影响
- en: Understand if there is a data leakage, meaning information from outside the
    training dataset is used to create or evaluate a model, resulting in over-optimistic
    performance estimates or incorrect predictions
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解是否存在数据泄露，即使用训练数据集以外的信息来创建或评估模型，导致过度乐观的性能估计或错误的预测
- en: 'SHAP importance can be used to do the following:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: SHAP重要性可用于以下方面：
- en: Understand which features have greatest influence to the predicted outcome
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解哪些特征对预测结果影响最大
- en: Understand how the different values of the feature affect the model prediction
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解不同特征的值如何影响模型预测
- en: Understand what the most influential rows are in the dataset
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解数据集中最具影响力的行
- en: 'We can see an example of a permutation importance graph and SHAP graph in the
    following figure, as seen in Qlik AutoML:'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以在以下图中看到一个排列重要性和SHAP图的示例，如图1.6所示，如Qlik AutoML所示：
- en: '![Figure 1.6: Permutation importance and SHAP importance graphs](img/B19863_01_06.jpg)'
  id: totrans-313
  prefs: []
  type: TYPE_IMG
  zh: '![图1.6：排列重要性和SHAP重要性图](img/B19863_01_06.jpg)'
- en: 'Figure 1.6: Permutation importance and SHAP importance graphs'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.6：排列重要性和SHAP重要性图
- en: Note
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: We will utilize both permutation importance and SHAP importance in our hands-on
    examples later in this book.
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书后面的实践示例中，我们将利用排列重要性和SHAP重要性。
- en: Summary
  id: totrans-317
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we first got an introduction of Qlik tools for machine learning.
    We discovered the key features of the platform and how different components can
    be utilized. Understanding the key components is important since we will be utilizing
    Insight Advisor, AutoML, and Advanced Analytics Integration later in this book.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们首先介绍了Qlik工具的机器学习功能。我们发现了平台的关键特性以及如何利用不同的组件。理解关键组件很重要，因为我们将在本书后面的部分使用Insight
    Advisor、AutoML和高级分析集成。
- en: We also discovered some of the key concepts of statistics. Understanding the
    basics of the underlying mathematics is crucial to understanding the models. We
    only scratched the surface of the mathematics, but this should be enough to familiarize
    you with the terminology. We also touched on the important topic of sample and
    sample size. When creating a model, we need to train it with training data. Determining
    a reasonable sample size will help us to get an accurate model without wasting
    resources.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还发现了统计学的一些关键概念。理解基础数学原理对于理解模型至关重要。我们对数学只是略作了解，但这应该足以让你熟悉术语。我们还触及了样本和样本大小这个重要话题。在创建模型时，我们需要用训练数据来训练它。确定合理的样本大小将帮助我们获得准确模型而不会浪费资源。
- en: At the end of this chapter, we got familiar with some of the techniques to validate
    the model’s performance and reliability. These are important concepts, since Qlik
    tools are using the introduced methods to communicate the metrics of the model.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章末尾，我们熟悉了一些验证模型性能和可靠性的技术。这些概念非常重要，因为Qlik工具正在使用这些引入的方法来传达模型的指标。
- en: In the next chapter, we will augment our background knowledge by getting familiar
    with some of the most common machine-learning algorithms. These algorithms will
    be used in later parts of this book.
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将通过熟悉一些最常用的机器学习算法来增强我们的背景知识。这些算法将在本书的后续部分中使用。
