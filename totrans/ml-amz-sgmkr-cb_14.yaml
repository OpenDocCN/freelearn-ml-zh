- en: '*Chapter 11*: Working with Geospatial Data, NLP, and Image Processing'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第11章*：处理地理空间数据、NLP和图像处理'
- en: In this book thus far, we have focused mainly on numeric and categorical features.
    This is not always the case in big data, as with big data comes an increasing
    data variety. Image, text, and geospatial data is becoming increasingly valuable
    in gaining insight and providing solutions to the most complex problems. Recently,
    for instance, **location-based** data has been used to improve the effectiveness
    of advertising campaigns. For example, different ads can be shown to users according
    to their location; if they are coffee lovers and close to coffee shops, push notifications
    could be sent to their mobile devices. In other cases, chatbots, based on advanced
    text analytics or natural language processing, provide businesses with an efficient
    and effective avenue to solve customer problems. What is most interesting and
    an emerging approach to solving commercial problems is the use of **multimodal**
    datasets, which combine different variable types in the same project.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，本书主要关注数值和分类特征。在大数据中，情况并不总是如此，因为大数据带来了数据种类的增加。图像、文本和地理空间数据在洞察力和解决最复杂问题方面变得越来越有价值。例如，最近，**基于位置**的数据已被用于提高广告活动的有效性。例如，可以根据用户的位置显示不同的广告；如果他们是咖啡爱好者并且靠近咖啡馆，可以向他们的移动设备发送推送通知。在其他情况下，基于高级文本分析或自然语言处理的聊天机器人为商业提供了高效有效的途径来解决客户问题。最有趣且新兴的解决商业问题的方法是使用**多模态**数据集，这些数据集在同一项目中结合了不同的变量类型。
- en: 'Understandably, the topic of analyzing different variable types is enough to
    be covered in a book in its own right. Yet providing an overview of the analysis
    of different variable types is key in grounding the use of DataRobot in building
    multimodal models that involve text, image, and location data. With that foremost
    in mind, in this chapter, we will delve into the definitions and approaches to
    analytics with text, image, and geospatial data. Thereafter, we will use DataRobot
    to build and make predictions with a model that capitalizes on the uniqueness
    of a multimodal dataset in predicting house prices. As such, the topics that will
    be covered are as follows:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，分析不同变量类型的话题本身就可以写成一本书。然而，概述不同变量类型的分析对于在构建涉及文本、图像和位置数据的多模态模型中应用DataRobot至关重要。考虑到这一点，在本章中，我们将深入探讨文本、图像和地理空间数据的定义和分析方法。之后，我们将使用DataRobot构建和利用多模态数据集的独特性来预测房价的模型进行预测。因此，以下将涵盖的主题包括：
- en: A conceptual introduction to geospatial, text, and image data
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 地理空间、文本和图像数据的概念介绍
- en: Defining and setting up multimodal data in DataRobot
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在DataRobot中定义和设置多模态数据
- en: Building models using a multimodal dataset in DataRobot
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在DataRobot中使用多模态数据集构建模型
- en: Making predictions using multimodal datasets in DataRobot
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在DataRobot中使用多模态数据集进行预测
- en: Technical requirements
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: Most of the analysis and modeling carried out in this chapter requires access
    to the DataRobot software. Some manipulations were carried out using other tools,
    including MS Excel. The dataset utilized in this chapter is the House Dataset.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 本章中进行的分析和建模大多需要访问DataRobot软件。一些操作使用了其他工具，包括MS Excel。本章使用的数据集是房屋数据集。
- en: House Dataset
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 房屋数据集
- en: The House Dataset can be accessed at Eman Hamed Ahmed's GitHub account ([https://github.com/emanhamed](https://github.com/emanhamed)).
    Each row in this dataset represents a specific house. The initial feature set
    describes its characteristics, price, zip code, images of the bedroom, bathroom,
    kitchen, and frontal view. There was no missing data. We went on to develop text
    descriptions for each house, based on the number of bedrooms, bathrooms, city,
    country, state, and actual size of the property. Elsewhere, the ZIP codes were
    converted into latitude and longitude, which were added to the dataset as columns.
    More information on the base features is provided at the GitHub link and the data
    is provided in `.csv` format.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 房屋数据集可以在Eman Hamed Ahmed的GitHub账户中访问（[https://github.com/emanhamed](https://github.com/emanhamed)）。数据集中的每一行代表一栋特定的房屋。初始特征集描述了其特征、价格、邮编、卧室、浴室、厨房和正面的图像。没有缺失数据。我们继续为每栋房屋开发基于卧室数量、浴室、城市、国家、州和实际财产大小的文本描述。在其他地方，ZIP代码被转换为纬度和经度，作为列添加到数据集中。有关基本特征的更多信息可在GitHub链接中找到，数据以`.csv`格式提供。
- en: Dataset Citation
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集引用
- en: '*House Price Estimation from Visual and Textual Features. In Proceedings of
    the 8th International Joint Conference on Computational Intelligence*, *H. Ahmed
    E. and Moustafa M.* *(2016). (IJCCI 2016) ISBN 978-989-758-201-1, pages 62–68\.
    DOI: 10.5220/0006040700620068*'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '*《基于视觉和文本特征的房价估算。在第八届国际联合计算智能会议论文集》，*H. Ahmed E. 和 Moustafa M.* *(2016)。IJCCI
    2016，ISBN 978-989-758-201-1，第62-68页。DOI: 10.5220/0006040700620068*'
- en: A conceptual introduction to geospatial, text, and image data
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 地理空间、文本和图像数据的概念性介绍
- en: Just like we use different senses to holistically understand objects around
    us, a **machine learning** (**ML**) model also benefits from data coming from
    different types of sensors and sources. Having only one type of data (for instance,
    numeric or categorical) limits the level of understanding, predictability, and
    robustness of a model. In this section, we will present a more in-depth discussion
    of the business importance of different data types in building models, the associated
    challenges, and the preprocessing steps necessary to mitigate these challenges.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们使用不同的感官来全面理解周围的物体一样，一个**机器学习**（**ML**）模型也受益于来自不同类型传感器和来源的数据。仅有一种类型的数据（例如，数值或分类）会限制模型的理解、可预测性和鲁棒性水平。在本节中，我们将更深入地讨论不同数据类型在构建模型中的商业重要性、相关挑战以及必要的预处理步骤，以减轻这些挑战。
- en: Geospatial AI
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 地理空间人工智能
- en: Geospatial understanding has had long-standing implications for decision-making
    in certain industries, including mineral exploitation, insurance, retail, and
    real estate. While the commercial importance of data science is well established,
    location-based AI is just beginning to gain recognition. The use of ML in improving
    business performance has brought to the fore the importance of augmenting datasets
    with location-based information and features in building predictive models.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 地理空间理解对某些行业的决策制定有着长期的影响，包括矿产开发、保险、零售和房地产。虽然数据科学的商业重要性已经确立，但基于位置的人工智能才刚刚开始获得认可。在提高业务绩效中使用机器学习凸显了在构建预测模型时，通过添加基于位置的信息和特征来增强数据集的重要性。
- en: Typical ML models built mainly from categorical and numeric data have contributed
    immensely to realizing business goals, but decisions are governed by more than
    numeric and categorical information. Indeed, the events take place at certain
    locations. ML models need location-based information in order for the location
    context to effectively present commercial insight and predictions. What works
    in one geography may not work in another.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 主要由分类数据和数值数据构建的典型机器学习（ML）模型对实现商业目标做出了巨大贡献，但决策不仅仅受数值和分类信息的影响。实际上，事件发生在特定的地点。为了使位置上下文有效地呈现商业洞察和预测，机器学习模型需要基于位置的信息。一种地理区域有效的方法可能在另一个地理区域不适用。
- en: 'The potential commercial impact of using ML and location-based information
    comes with several challenges:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 使用机器学习和基于位置的信息的商业影响潜力伴随着几个挑战：
- en: A lack of datasets, tools, and people skills.
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集、工具和人员技能的缺乏。
- en: Connecting ML pipelines to native location-based analysis techniques is not
    straightforward.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将机器学习管道与原生基于位置的分析技术连接起来并不简单。
- en: Only a few R and Python packages have geospatial capabilities.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 只有少数R和Python包具有地理空间功能。
- en: Understanding these capabilities requires further education and training for
    analysts.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解这些能力需要分析师进行进一步的教育和培训。
- en: DataRobot's location AI capability helps alleviate some of these challenges.
    The location AI capability complements the existing AutoML experience by adding
    in a repertoire of geospatial analytic and modeling tools. With DataRobot, location
    features could be selected from the dataset, but the location AI capability enables
    the platform to automatically recognize geospatial data and create geospatial
    features. A variety of geospatial data file formats can be uploaded. These include
    GeoJSON, Esri shapefiles, and geodatabases, PostGIS tables, as well as traditional
    latitude and longitude data.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: DataRobot的位置人工智能能力有助于缓解这些挑战。该位置人工智能能力通过增加一系列地理空间分析和建模工具来补充现有的AutoML体验。使用DataRobot，可以从数据集中选择位置特征，但位置人工智能能力使平台能够自动识别地理空间数据并创建地理空间特征。可以上传多种地理空间数据文件格式。这些包括GeoJSON、Esri形状文件和地理数据库、PostGIS表，以及传统的纬度和经度数据。
- en: Natural language processing
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 自然语言处理
- en: As humans, we communicate effectively via a vast range of words with or without
    limitations on the volume of words to use. More than words, body language, tonality,
    and words' context are crucial to effective communication. For example, using
    the same set of words, *the cat is bigger than the dog* has a different meaning
    to *the dog is bigger than the cat*. Naturally, humans understand, draw conclusions,
    and make predictions of the future based on free text. The use of free text comes
    with valuable information and rich insights can be harvested from it. Yet, since
    free text fails to follow a consistent structure, they pose challenges to being
    processed by machines.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 作为人类，我们通过大量词汇进行有效沟通，无论是否对使用的词汇量有限制。除了词汇之外，肢体语言、语调和词汇的上下文对于有效沟通至关重要。例如，使用相同的词汇组，*猫比狗大*与*狗比猫大*具有不同的含义。自然地，人类根据自由文本进行理解、得出结论和预测未来。自由文本的使用带来了有价值的信息，从中可以挖掘出丰富的见解。然而，由于自由文本缺乏一致的结构，它们对机器处理构成了挑战。
- en: Conversations and other forms of free text are messy and unstructured as they
    do not fit neatly into traditional tables with rows and columns. **Natural Language
    Processing** (**NLP**) sits at the intersection of data science and linguistics
    and involves the systematic use of advanced processes for analysis, understanding,
    and the extraction of data from free text. Through NLP, scientists can leverage
    free text to generate valuable insight, which is then integrated as features in
    building better-performing models. Text mining allows the identification of unique
    words or groups of words that are associated with certain outcomes. For example,
    in the house price prediction case, the description of the house improves the
    predictability of the models in estimating the house price. Thinking about it,
    the description also contributes to an individuals' decision of buying a house.
    Individuals' propensity to buy houses influences property pricing. NLP algorithms
    can identify the effect of word sequencing and influence words or phrases, and
    a word's context within sentences.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 对话和其他形式的自由文本是杂乱无章且无结构的，因为它们无法整齐地放入传统的行和列的表格中。**自然语言处理（NLP**）位于数据科学和语言学的交汇点，涉及系统地使用高级过程进行分析、理解和从自由文本中提取数据。通过NLP，科学家可以利用自由文本生成有价值的见解，这些见解随后被集成到构建性能更好的模型中。文本挖掘允许识别与某些结果相关的独特词汇或词汇组。例如，在房价预测案例中，房屋的描述提高了模型在估计房价方面的可预测性。考虑到这一点，描述也影响了个人购买房屋的决定。个人购买房屋的倾向影响了房地产定价。NLP算法可以识别词汇顺序的影响、影响词汇或短语以及词汇在句子中的上下文。
- en: NLP is key to machines being able to extract important information from text.
    Consequently, NLP allows machines to decide feelings described in free text by
    giving a number score to a text, indicating its sentiment to a topic or event.
    Similarly, it aids in the identification of classes that certain words most likely
    belong to. This capability has given birth to several applications, including
    text classification, named entity recognition, sentiment analysis, and summarization
    of text.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 自然语言处理（NLP）是机器能够从文本中提取重要信息的关键。因此，NLP允许机器通过给文本一个数字分数来决定自由文本中描述的情感，表示其对主题或事件的情感。同样，它有助于识别某些词汇最有可能属于的类别。这种能力催生了包括文本分类、命名实体识别、情感分析和文本摘要在内的多种应用。
- en: 'To get free text to provide useful insight or be integrated into models is
    not an easy task. As earlier alluded to, raw text has no structure, so structure
    needs to be introduced. Also, numerous words have the same meaning and you could
    have the same word mean different things in different contexts. In a typical analytics
    process, there are numerous steps taken to normalize free text. At least four
    steps are required:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 使自由文本提供有用的见解或集成到模型中并非易事。正如之前所提到的，原始文本没有结构，因此需要引入结构。此外，许多词汇具有相同的意义，同一个词在不同的上下文中可能有不同的含义。在典型的分析过程中，需要采取许多步骤来规范化自由文本。至少需要以下四个步骤：
- en: The first step in most text processing is splitting text corpus into separate
    words. This step, also called **tokenization**, enables the identification of
    keywords and phrases. The separated words are referred to as tokens. N-grams are
    the basic units for text analytics.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 文本处理的第一步是将文本语料库分割成单独的单词。这一步骤也称为**分词**，它使得识别关键词和短语成为可能。分割后的单词被称为标记。N-gram是文本分析的基本单元。
- en: Next, there are certain words that contribute little or nothing to the meaning
    of a text. These are generally common words; for instance, in the English language,
    we have words such as *the*, *that*, *is*, and *these*. Within the context of
    text mining, these words are referred to as noise or are sometimes called stop
    words. So, this step is called **noise removal**.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，有一些单词对文本的意义贡献很小或没有贡献。这些通常是常见单词；例如，在英语中，我们有像 *the*、*that*、*is* 和 *these*
    这样的单词。在文本挖掘的上下文中，这些单词被称为噪声或有时被称为停用词。因此，这一步被称为**噪声去除**。
- en: After that, words are converted to their root meanings. There are a few approaches
    to this. As an illustration, **stemming** typically converts to the root word
    stem by eliminating certain letters. So, words like *happy*, *happiness*, *happily*,
    and *happiest* will all be returned to the root word *happ*. Because the same
    words could have multiple meanings, disambiguation of words becomes crucial in
    text processing. Whereas stemming returns words to their roots by cutting off
    their prefix or suffix, **lemmatization** examines the context of words to ensure
    stemmed words are converted to logical bases called **lemma**. For example, the
    word *anticipate* when stemmed might be returned to *ant*. Within the context,
    however, *ant* would not make sense; as such, lemming will ensure that the word
    *anticipate* is retained.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 之后，单词会被转换成它们的词根意义。这有几个方法。作为一个例子，**词干提取**通常通过删除某些字母将单词转换成词根词干。所以，像 *happy*、*happiness*、*happily*
    和 *happiest* 这样的单词都会被转换回词根词 *happ*。因为相同的单词可能有多种含义，所以在文本处理中，单词的消歧变得至关重要。而词干提取通过截断前缀或后缀将单词返回到它们的词根，**词形还原**则检查单词的上下文，以确保提取的词干被转换成逻辑基础，称为**词元**。例如，单词
    *anticipate* 在词干提取后可能被转换回 *ant*。然而，在上下文中，*ant* 并没有意义；因此，词形还原将确保单词 *anticipate*
    被保留。
- en: A final, yet important, step is the process of `0` and `255`, referred to as
    `0` is shown as completely black, while completely white gives `255`. On the other
    hand, color images have 3D arrays with blue, green, and red layers. Like black
    on the grayscale images, each of those layers has its own values from `0` to `255`,
    where the final color is a combination of corresponding values on each of the
    three layers.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，但同样重要的是，有一个过程被称为 `0` 和 `255`，其中 `0` 表示完全黑色，而完全白色表示 `255`。另一方面，彩色图像有包含蓝色、绿色和红色层的3D数组。就像灰度图像中的黑色一样，这些层的每个都有自己的值，范围从
    `0` 到 `255`，最终的色彩是这三个层对应值的组合。
- en: 'Image processing typically follows predefined steps in extracting useful and
    consistent features from images that align with the purpose of extraction. `.csv`
    file sitting next to the image folder. Four new image columns were created for
    the bedroom, bathroom, frontal view, and kitchen. As such, each data row on the
    `.csv` file had paths to their images, as shown in *Table 11.2*. The paths point
    to locations on the corresponding image file in the ZIP file. Within the ZIP file,
    the `.csv` file with the tabular features sits needs to the folder, containing
    all the images. Each image has a unique name that is consistent with the image
    path columns on the `.csv` file. The setup for the ZIP file and `HousePrice` folder
    is shown in *Figure 11.1*. That said, the dataset could still be ingested using
    the AI Catalog. This also gives DataRobot the ability to connect to other data
    sources for the images. Furthermore, the Paxata tool can be deployed in the data
    preprocessing if you have access to that tool:'
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图像处理通常遵循预定义的步骤，从图像中提取有用和一致的特征，这些特征与提取的目的相一致。位于图像文件夹旁边的 `.csv` 文件。为卧室、浴室、正面视图和厨房创建了四个新的图像列。因此，`.csv`
    文件上的每一行数据都有其图像的路径，如 *表 11.2* 所示。这些路径指向 ZIP 文件中相应图像文件的位置。在 ZIP 文件中，包含表格特征的 `.csv`
    文件位于包含所有图像的文件夹中。每个图像都有一个独特的名称，与 `.csv` 文件上的图像路径列保持一致。ZIP 文件和 `HousePrice` 文件夹的设置如图
    *图 11.1* 所示。话虽如此，数据集仍然可以通过 AI 目录进行摄取。这也给了 DataRobot 连接到其他图像数据源的能力。此外，如果您有权访问 Paxata
    工具，可以在数据预处理中部署该工具：
- en: '![Figure 11.3 – Data setup for the ZIP file (left) and image folder (right)'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 11.3 – ZIP 文件（左）和图像文件夹（右）的数据设置]'
- en: '](img/B17159_11_03.jpg)'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 11.3 – ZIP 文件（左）和图像文件夹（右）的数据设置](img/B17159_11_03.jpg)'
- en: Figure 11.3 – Data setup for the ZIP file (left) and image folder (right)
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 11.3 – ZIP 文件（左）和图像文件夹（右）的数据设置
- en: The image on the left of *Figure 11.1* shows how the ZIP file is set up. The
    folder containing the image files, `Houses Dataset`, is next to the `HousePrice.csv`
    file. The image on the right presents image files within the `Houses Dataset`
    folder. Here, the images are labeled, with the locations, consistent with cells
    on data, `HousePrice.csv` (as shown in *Table 11.2*). With the data completely
    set up, the next step is to commence model development.
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图11.1* 左侧的图像展示了ZIP文件的设置方式。包含图像文件的文件夹`Houses Dataset`紧邻`HousePrice.csv`文件。右侧的图像展示了`Houses
    Dataset`文件夹内的图像文件。在此，图像被标记，位置与数据中的单元格`HousePrice.csv`（如*表11.2*所示）一致。数据完全设置好后，下一步是开始模型开发。'
- en: Building models using multimodal datasets in DataRobot
  id: totrans-38
  prefs:
  - PREF_IND
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在DataRobot中使用多模态数据集构建模型
- en: 'Having fully set up our ZIP file with the multimodal dataset, we proceed into
    initiating the project within DataRobot. The data ingestion using the drag and
    drop method is like the earlier project, except in this case we upload the ZIP
    file. Following the upload of the ZIP file, the price is selected as the target
    variable. DataRobot automatically detects the text, image, and geospatial fields
    (see *Figure 11.2*). The geometry feature is a location-based feature made up
    of the latitude and longitude variables in the original dataset. Apart from latitude
    and longitude coordinates, location features can be formed from other native geospatial
    formats, such as Esri shapefiles, GeoJSON, and PostGIS databases. These can be
    uploaded using drag and drop, AI Catalog, or URL methods:'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在我们的ZIP文件中完全设置好多模态数据集后，我们进入DataRobot中启动项目。使用拖放方法的数据导入与早期项目类似，只是在这种情况下我们上传ZIP文件。在ZIP文件上传后，选择价格作为目标变量。DataRobot自动检测文本、图像和地理空间字段（见*图11.2*）。几何特征是由原始数据集中的纬度和经度变量组成的基于位置的属性。除了纬度和经度坐标外，位置特征还可以由其他原生地理空间格式形成，例如Esri形状文件、GeoJSON和PostGIS数据库。这些可以通过拖放、AI目录或URL方法上传：
- en: '![Figure 11.4 – Feature Name list'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图11.4 – 特征名称列表'
- en: '](img/B17159_11_04.jpg)'
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17159_11_04.jpg)'
- en: Figure 11.4 – Feature Name list
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图11.4 – 特征名称列表
- en: The location-based visual representation of the listing price can be viewed
    by selecting the `Price` option in the `Feature Name` list. This `Geospatial Map`
    tab and clicking on the `Compute feature over map` button. As seen in *Figure
    11.3*, the `Geospatial Maps` window offers a location-based analytics visualization
    of the dataset. It shows the distribution of properties over space – the number
    of houses in each area and their average prices:![Figure 11.5 – Geospatial Map
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过选择`Feature Name`列表中的`Price`选项，可以查看基于位置的列表价格的可视表示。通过点击`Geospatial Map`标签和`Compute
    feature over map`按钮。如*图11.3*所示，`Geospatial Maps`窗口提供了基于位置的数据集分析可视化。它显示了空间上房产的分布——每个区域的房屋数量及其平均价格：![图11.5
    – 地理空间地图
- en: '](img/B17159_11_05.jpg)'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/B17159_11_05.jpg)'
- en: Figure 11.5 – Geospatial Map
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图11.5 – 地理空间地图
- en: The map legend offers vital information about the map. It highlights that the
    color of the hexagon shows the average house prices within the location. Elsewhere,
    it presents the frequency of cases by the height of the hexagons. This ESDA feature
    shows not only the visual distribution of house prices across the map but also
    an illustration of house counts in differing areas. Similar geospatial analysis
    can be conducted for other features, such as house area variables and bedrooms.
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 地图图例提供了关于地图的重要信息。它强调六边形的颜色表示该位置的平均房价。在其他地方，它通过六边形的高度表示案例的频率。这种ESDA功能不仅显示了地图上房价的视觉分布，还展示了不同区域的房屋数量。对于其他特征，如房屋面积变量和卧室数量，也可以进行类似的地理空间分析。
- en: This preliminary examination of image features can be conducted by selecting
    any of the image variables. This shows a sample of images within the **Feature
    Name** list. Here, differing image features can be seen and organized by house
    price ranges.
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这种对图像特征的初步检查可以通过选择任意的图像变量进行。这显示了**特征名称**列表中的图像样本。在此，可以看到并按房价范围组织不同的图像特征。
- en: To further explore the image features at a property level, we click on `.csv`
    file with image paths, the images are integrated into the dataset (see *Figure
    11.4*). For each of the rows, the images are clearly displayed. A further scroll
    will show the free text description of the listed properties. This multimodal
    dataset of text, location, and image features can now be used to build a more
    robust model and make predictions of house prices:![Figure 11.6 – The DataRobot
    view of the multimodal data
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了进一步探索物业级别的图像特征，我们点击包含图像路径的`.csv`文件，图像被集成到数据集中（见*图11.4*）。对于每一行，图像都清晰显示。进一步滚动将显示所列物业的自由文本描述。现在，这个包含文本、位置和图像特征的多模态数据集可以用来构建更稳健的模型并预测房价：![图11.6
    – DataRobot对多模态数据的视图
- en: '](img/B17159_11_06.jpg)'
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B17159_11_06.jpg)'
- en: Figure 11.6 – The DataRobot view of the multimodal data
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图11.6 – DataRobot对多模态数据的视图
- en: As with earlier projects, we click on **Start** to commence the model-building
    process. On completion of the modeling process, the models are evaluated using
    the **RMSE metric**. The leaderboard shows DataRobot has built 36 models in total.
    The top-performing is the **Nystroem Kernel SVM Regressor** model.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与早期项目一样，我们点击**开始**以启动模型构建过程。建模过程完成后，使用**RMSE指标**对模型进行评估。排行榜显示DataRobot总共构建了36个模型。表现最好的是**Nystroem核SVM回归器**模型。
- en: 'As can be seen in *Figure 11.5*, opening the model presents its blueprint,
    outlining all the steps necessary to make the data ready for this model. Because
    of the multimodal nature of the data, the preprocessing steps are quite complex.
    DataRobot conducted geospatial processing, which was integrated with some numeric
    variables and high-level image and text processing (the latter not visible in
    *Figure 11.5*). For more information on each step, a click on the step box provides
    some insight on the modeling step and a link to comprehensive documentation on
    the step:'
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如*图11.5*所示，打开模型会展示其蓝图，概述了使数据为该模型准备所需的全部步骤。由于数据的多模态特性，预处理步骤相当复杂。DataRobot进行了地理空间处理，并将其与一些数值变量以及高级图像和文本处理（后者在*图11.5*中不可见）集成。有关每个步骤的更多信息，点击步骤框可以提供有关建模步骤的一些见解，并链接到该步骤的全面文档：
- en: '![Figure 11.7 – The model blueprint for multimodal data modeling'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图11.7 – 多模态数据建模的模型蓝图'
- en: '](img/B17159_11_07.jpg)'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图片](img/B17159_11_07.jpg)'
- en: Figure 11.7 – The model blueprint for multimodal data modeling
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图11.7 – 多模态数据建模的模型蓝图
- en: 'Within the `Area` is the most impactful feature of the house; next is the `FullDescription`
    text feature. Thereafter, the `Bedrooms` and `Image_kitchen` features follow suit.
    What is rather interesting is the fact that `Image_bathroom` seems to have a negative
    impact on the model accuracy. This suggests that insights from these images lead
    the model away from actual house prices:'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`区域`内是房屋最具有影响力的特征；其次是`FullDescription`文本特征。之后，`Bedrooms`和`Image_kitchen`特征依次排列。相当有趣的是，`Image_bathroom`似乎对模型准确性有负面影响。这表明这些图像的见解将模型引向实际房价：
- en: '![Figure 11.8 – Feature Impact for multimodal models'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.8 – 多模态模型的特征影响'
- en: '](img/B17159_11_08.jpg)'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B17159_11_08.jpg)'
- en: Figure 11.8 – Feature Impact for multimodal models
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.8 – 多模态模型的特征影响
- en: 'For this reason, leading the model away from improved performance, we use the
    `bathroom` images to make predictions. By doing so, we will use the `bathroom`
    feature to demonstrate the image feature exploration capabilities available in
    DataRobot. DataRobot conducts unsupervised learning to cluster images according
    to their similarity. Still within the `bathroom` views. We can see DataRobot clusters
    similar images together. It seems that images that are dominantly white goods
    are presented in the right-hand and upper parts of the visualization. We can filter
    the visualization in accordance with house prices:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这个原因，为了避免模型向改进性能发展，我们使用`卫生间`图像进行预测。通过这样做，我们将使用`卫生间`特征来展示DataRobot中可用的图像特征探索能力。DataRobot通过根据图像的相似性进行无监督学习来聚类图像。仍然在`卫生间`视图内。我们可以看到DataRobot将相似图像聚在一起。似乎主要显示白色商品的图像位于可视化图的右侧和上部。我们可以根据房价来过滤可视化：
- en: '![Figure 11.9 – Image embedding'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.9 – 图像嵌入'
- en: '](img/B17159_11_09.jpg)'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/B17159_11_09.jpg)'
- en: Figure 11.9 – Image embedding
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.9 – 图像嵌入
- en: '`image_bathroom` variable. It appears the model makes its predictions mainly
    from white fixtures in the bathroom. This might offer insight into why `image_bathroom`
    is seen as having a negative impact on the model performance. It is possible that
    this extraction from white fixtures misleads the model:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '`image_bathroom` 变量。看起来模型主要从浴室的白色装置中进行预测。这可能会提供关于为什么 `image_bathroom` 被视为对模型性能有负面影响的原因。有可能从白色装置中提取的信息误导了模型：'
- en: '![Figure 11.10 – Activation map'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.10 – 激活图'
- en: '](img/B17159_11_10.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B17159_11_10.jpg](img/B17159_11_10.jpg)'
- en: Figure 11.10 – Activation map
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.10 – 激活图
- en: 'Location-based information comes with significant information complementing
    other data types. However, some models struggle in certain geographical areas.
    Inspecting the performance of models and considering locations empowers the analyst
    in taking actions on model performance improvement. DataRobot''s **Accuracy Over
    Space** capability presents a spatial representation of a models'' residual at
    differing locations (see *Figure 11.9* for an example). This chart could lead
    the analyst into considering the rationale behind higher residuals in certain
    areas:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 基于位置的信息伴随着对其他数据类型的重要补充。然而，一些模型在特定地理区域表现不佳。检查模型性能并考虑位置使分析师能够采取行动以改进模型性能。DataRobot
    的 **空间精度** 功能展示了模型残差在不同位置的时空表示（例如，见 *图 11.9*）。此图表可能引导分析师考虑某些区域高残余背后的原因：
- en: '![Figure 11.11 – Accuracy Over Space'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.11 – 空间精度'
- en: '](img/B17159_11_11.jpg)'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B17159_11_11.jpg](img/B17159_11_11.jpg)'
- en: Figure 11.11 – Accuracy Over Space
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.11 – 空间精度
- en: For instance, as evident in *Figure 11.9*, the Phoenix area has a higher average
    residual price of over $380k than most places. This area might for instance be
    considered an area of low income. This visualization could point the data scientist
    toward including features around localized economic indices. This might provide
    an explanation for the high residual. Including such features could therefore
    improve the overall performance of the model. The data partition for measuring
    accuracy could be set by altering between the validation, cross-validation, or
    holdout partitions. Also, the accuracy metric type and aggregation can be adjusted
    in accordance with the user's requirements.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如 *图 11.9* 所示，凤凰城地区的平均残余价格超过 $380k，比大多数地区都要高。这个区域可能被认为是低收入地区。这种可视化可能将数据科学家引导到包括本地化经济指数的特征。这可能会为高残余提供解释。因此，包括这样的特征可能会提高模型的总体性能。用于测量精度的数据分区可以通过在验证、交叉验证或保留分区之间切换来设置。此外，可以根据用户的要求调整精度指标类型和聚合方式。
- en: 'Complementing its location-based features engineering, DataRobot''s location-based
    analytics capabilities can exploit its location awareness to create `eXtreme Gradient
    Boosted Trees Regressor (Gamma Loss)` model''s fourth most important feature,
    `GEO_KNL_K10_LAG1_Price`, is one such feature (see *Figure 11.10*). This feature
    describes the spatial dependence structure for price using a kernel size augmented
    by distance. The **k-nearest neighbor** approach can also be deployed:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 补充其基于位置的特征工程，DataRobot 的基于位置的统计分析能力可以利用其位置感知来创建 `eXtreme Gradient Boosted Trees
    Regressor (Gamma Loss)` 模型的第四个最重要的特征，`GEO_KNL_K10_LAG1_Price`，这是一个这样的特征（见 *图 11.10*）。该特征使用通过距离增加的核大小来描述价格的空间依赖结构。**k-最近邻**方法也可以部署：
- en: '![Figure 11.12 – Spatial lag features'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 11.12 – 空间滞后特征'
- en: '](img/B17159_11_12.jpg)'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B17159_11_12.jpg](img/B17159_11_12.jpg)'
- en: Figure 11.12 – Spatial lag features
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.12 – 空间滞后特征
- en: Text analytics information such as the Word Cloud is not available within the
    `FullDescription` text feature, which is indeed one of the most impactful features
    of this model. Though not visible on the model blueprint (*Figure 11.10*), the
    text variable was scored using another model, `Auto-Tuned Word N-Gram Text Modeler
    using token occurrences – FullDescription`, which essentially develops scores
    using `FullDescription` feature was converted into tokens for a differing number
    of words (as *N* in *N-grams*) and scored. Thereafter, this feature was transformed
    on the link scale and standardized. For text-related insights, we turn to the
    **Insights** view, offering two important text insight capabilities, **Word Cloud**
    and **text mining**.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 文本分析信息，如词云，在`FullDescription`文本功能中不可用，这确实是该模型最具影响力的功能之一。尽管在模型蓝图（*图11.10*）中不可见，但文本变量是通过另一个模型评分的，即`使用标记发生频率的自动调优词N-gram文本模型器
    – FullDescription`，该模型本质上使用`FullDescription`功能转换成标记（作为*N*在*N-gram*中）并评分。之后，该特征在链接尺度上进行了转换并标准化。对于与文本相关的见解，我们转向**见解**视图，提供两种重要的文本见解能力，**词云**和**文本挖掘**。
- en: 'The `FullDescription` feature in influencing the house price. The size of the
    words, as shown in *Figure 11.11*, highlights the frequency of the tokens, while
    the color suggests its effect coefficient. This coefficient is standardized typically
    between -1.5 and 1.5\. The closer the color of the words is to red, the greater
    the coefficient and, consequently, the greater the house price is:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '`FullDescription`特征影响房价。如图*图11.11*所示，单词的大小突出了标记的频率，而颜色表示其影响系数。这个系数通常标准化在-1.5到1.5之间。单词的颜色越接近红色，系数就越大，因此房价也就越高：'
- en: '![Figure 11.13 – Word Cloud for a multimodal dataset'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.13 – 多模态数据集的词云'
- en: '](img/B17159_11_13.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17159_11_13.jpg)'
- en: Figure 11.13 – Word Cloud for a multimodal dataset
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.13 – 多模态数据集的词云
- en: We can assume that when the `FullDescription` variable contains words in orange,
    **alameda county**, and big, the prices are likely to be high. Similarly, with
    small-sized words, and **city riverside**, a lower price is expected. The text
    mining capability displays similar information to the Word Cloud using a bar graph.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以假设，当`FullDescription`变量包含橙色单词、**阿拉米达县**和大的单词时，价格很可能是高的。同样，对于小型单词和**城市河畔**，预期价格会较低。文本挖掘能力使用条形图显示与词云类似的信息。
- en: Now that we have been able to build models using multimodal datasets, conduct
    analysis on their features, and evaluate the performance of those models, we will
    next focus on making predictions with models.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经能够使用多模态数据集构建模型，对其特征进行分析，并评估这些模型的性能，接下来我们将专注于使用模型进行预测。
- en: Making predictions using a multimodal dataset on DataRobot
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在DataRobot上使用多模态数据集进行预测
- en: 'After building a model, there are many ways to make predictions on a DataRobot.
    For this use case, we will illustrate the prediction capability using the `Make
    Prediction` method, which is available within the **Predict** tab. We initially
    create a prediction ZIP file dataset using the step outline in the *Defining and
    setting up multimodal data in DataRobot* section of this chapter. The developed
    prediction dataset is either dragged and dropped into the highlighted area or
    locally imported. As seen in *Figure 11.12*, we select the features we are interested
    in, including the prediction dataset:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在构建模型后，在DataRobot上有很多方式进行预测。对于此用例，我们将使用**预测**选项卡中的`Make Prediction`方法来展示预测能力。我们最初使用本章中*定义和设置DataRobot中的多模态数据*部分中的步骤概述创建一个预测ZIP文件数据集。开发的预测数据集可以通过拖放或本地导入到高亮区域。如*图11.12*所示，我们选择我们感兴趣的属性，包括预测数据集：
- en: '![Figure 11.14 – Making a prediction from multimodal datasets'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '![图11.14 – 从多模态数据集中进行预测'
- en: '](img/B17159_11_14.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17159_11_14.jpg)'
- en: Figure 11.14 – Making a prediction from multimodal datasets
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.14 – 从多模态数据集中进行预测
- en: 'In this illustration, we selected `House_id`, `FullDescription`, `Bedrooms`,
    `City`, and `State`. We can also see that the prediction dataset has 400 houses.
    Finally, `.csv` file, which has all the requested columns (see *Table 11.3*):'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个示例中，我们选择了`House_id`、`FullDescription`、`Bedrooms`、`City`和`State`。我们还可以看到预测数据集有400套房子。最后，`.csv`文件包含了所有请求的列（见*表11.3*）：
- en: '![Table 11.15 – A prediction table from a multimodal dataset'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '![表11.15 – 多模态数据集的预测表'
- en: '](img/B17159_11_15.jpg)'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17159_11_15.jpg)'
- en: Table 11.15 – A prediction table from a multimodal dataset
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 表11.15 – 多模态数据集的预测表
- en: The **Prediction** column presents the predicted price for each row. This finalizes
    the process of making predictions with multimodal datasets. As expected, after
    models made from multimodal datasets have been deployed, predictions can be made
    against them.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '**预测**列显示了每行的预测价格。这完成了使用多模态数据集进行预测的过程。正如预期的那样，一旦从多模态数据集构建的模型被部署，就可以针对它们进行预测。'
- en: Summary
  id: totrans-94
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we have explored how insights can be generated from an image,
    location, and free text. In so doing, we highlighted the benefits that these data
    types present, as well as the challenges that come with each of them. We also
    pointed out how these are typically addressed in the mainstream. We proceeded
    to build models with a multimodal dataset using DataRobot and make predictions
    from the model. We also looked at a variety of ways to derive insights from the
    location, free text, and image aspects of the models. By demonstrating the process
    of model building using a multimodal dataset, we showed how DataRobot simplifies
    the handling of the challenges different data types pose.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们探讨了如何从图像、位置和自由文本中生成洞察。通过这样做，我们强调了这些数据类型带来的好处，以及每个数据类型带来的挑战。我们还指出了这些通常是如何在主流中解决的。我们继续使用DataRobot构建多模态数据集的模型并进行预测。我们还研究了从模型的位置、自由文本和图像方面获取洞察的多种方式。通过展示使用多模态数据集构建模型的过程，我们展示了DataRobot如何简化处理不同数据类型带来的挑战。
- en: Having said that, it is important to draw attention to the fact that DataRobot
    appears to have some limitations in terms of free text processing. Whilst the
    platform significantly simplifies the process of text processes, at the time of
    this publication, we are unsure of the extent to which domain-specific stop words
    can be included in the DataRobot process. It appears generic stop words are dropped,
    but sometimes there are domain-specific stop words that need to be accounted for.
    Elsewhere, within the context of multimodal modeling, we are unsure whether the
    text aspects of models could be tuned to include and alter the methods of stemming
    and lemming. It is therefore recommended that you perform your own text processing
    and feature engineering before feeding text into DataRobot to achieve better results.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 话虽如此，重要的是要指出，DataRobot在处理自由文本方面似乎存在一些限制。虽然该平台显著简化了文本处理的过程，但在本出版物发布时，我们尚不清楚特定领域停用词在DataRobot处理过程中的包含程度。似乎通用停用词被删除了，但有时需要考虑特定领域的停用词。在其他方面，在多模态建模的背景下，我们不确定模型中的文本方面是否可以调整以包含和改变词干提取和词元还原的方法。因此，建议在将文本输入DataRobot之前，您自行进行文本处理和特征工程，以获得更好的结果。
- en: In this chapter, as well as the previous ones, we have interfaced with DataRobot
    using the platform. Although the platform comes with numerous capabilities, these
    capabilities come with some limitations. These limitations, together with how
    they can be alleviated using programmatic access to the platform, are extensively
    covered in [*Chapter 12*](B17159_12_Final_NM_ePub.xhtml#_idTextAnchor176)*, DataRobot
    Python API*.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章以及之前各章中，我们使用平台与DataRobot进行了交互。尽管该平台具有众多功能，但这些功能也带来了一些限制。这些限制以及如何通过平台编程访问来缓解这些限制，在[*第12章*](B17159_12_Final_NM_ePub.xhtml#_idTextAnchor176)*，DataRobot
    Python API*中得到了广泛讨论。
