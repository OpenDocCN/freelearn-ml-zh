- en: Chapter 3. R and Statistics
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 3 章 R 和统计学
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Understanding data sampling in R
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解 R 中的数据抽样
- en: Operating a probability distribution in R
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 R 中操作概率分布
- en: Working with univariate descriptive statistics in R
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 R 中使用单变量描述性统计
- en: Performing correlations and multivariate analysis
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行相关性和多元分析
- en: Operating linear regression and a multivariate analysis
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 操作线性回归和多元分析
- en: Conducting an exact binomial test
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行精确二项检验
- en: Performing student's t-test
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行学生 t 检验
- en: Performing the Kolmogorov-Smirnov test
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行 Kolmogorov-Smirnov 测试
- en: Understanding the Wilcoxon Rank Sum and Signed Rank test
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解 Wilcoxon 秩和检验和符号秩检验
- en: Working with Pearson's Chi-squared test
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Pearson 的卡方检验进行操作
- en: Conducting a one-way ANOVA
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行单因素方差分析
- en: Performing a two-way ANOVA
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行双因素方差分析
- en: Introduction
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: The R language, as the descendent of the statistics language, S, has become
    the preferred computing language in the field of statistics. Moreover, due to
    its status as an active contributor in the field, if a new statistical method
    is discovered, it is very likely that this method will first be implemented in
    the R language. As such, a large quantity of statistical methods can be fulfilled
    by applying the R language.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: R 语言作为统计语言 S 的后代，已成为统计学领域的首选计算语言。此外，由于其在该领域的活跃贡献者地位，如果发现新的统计方法，它很可能首先在 R 语言中实现。因此，通过应用
    R 语言可以满足大量的统计方法。
- en: 'To apply statistical methods in R, the user can categorize the method of implementation
    into descriptive statistics and inferential statistics:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 要在 R 中应用统计方法，用户可以将实现方法分为描述性统计和推断性统计：
- en: '**Descriptive statistics**: These are used to summarize the characteristics
    of the data. The user can use mean and standard deviation to describe numerical
    data, and use frequency and percentages to describe categorical data.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述性统计**：这些用于总结数据的特征。用户可以使用平均值和标准差来描述数值数据，并使用频率和百分比来描述分类数据。'
- en: '**Inferential statistics**: Based on the pattern within a sample data, the
    user can infer the characteristics of the population. The methods related to inferential
    statistics are for hypothesis testing, data estimation, data correlation, and
    relationship modeling. Inference can be further extended to forecasting, prediction,
    and estimation of unobserved values either in or associated with the population
    being studied.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**推断性统计**：基于样本数据中的模式，用户可以推断总体的特征。与推断性统计相关的方法包括假设检验、数据估计、数据相关性和关系建模。推断还可以进一步扩展到预测、预测和估计与被研究总体相关或未观察到的值。'
- en: In the following recipe, we will discuss examples of data sampling, probability
    distribution, univariate descriptive statistics, correlations and multivariate
    analysis, linear regression and multivariate analysis, Exact Binomial Test, student's
    t-test, Kolmogorov-Smirnov test, Wilcoxon Rank Sum and Signed Rank test, Pearson's
    Chi-squared Test, One-way ANOVA, and Two-way ANOVA.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下食谱中，我们将讨论数据抽样、概率分布、单变量描述性统计、相关性和多元分析、线性回归和多元分析、精确二项检验、学生 t 检验、Kolmogorov-Smirnov
    检验、Wilcoxon 秩和检验和符号秩检验、Pearson 的卡方检验、单因素方差分析（ANOVA）和双因素方差分析（ANOVA）的示例。
- en: Understanding data sampling in R
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解 R 中的数据抽样
- en: Sampling is a method to select a subset of data from a statistical population,
    which can use the characteristics of the population to estimate the whole population.
    The following recipe will demonstrate how to generate samples in R.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 抽样是从统计总体中选择数据子集的一种方法，可以利用总体的特征来估计整个总体。以下食谱将演示如何在 R 中生成样本。
- en: Getting ready
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Make sure that you have an R working environment for the following recipe.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您为以下食谱有一个 R 工作环境。
- en: How to do it...
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Perform the following steps to understand data sampling in R:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以了解 R 中的数据抽样：
- en: 'In order to generate random samples of a given population, the user can simply
    use the `sample` function:'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了生成给定总体的随机样本，用户可以简单地使用 `sample` 函数：
- en: '[PRE0]'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'To specify the number of items returned, the user can set the assigned value
    to the `size` argument:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要指定返回的项目数，用户可以将分配的值设置为 `size` 参数：
- en: '[PRE1]'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Moreover, the sample can also generate Bernoulli trials by specifying `replace
    = TRUE` (default is `FALSE`):'
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，通过指定 `replace = TRUE`（默认为 `FALSE`），样本还可以生成伯努利试验：
- en: '[PRE2]'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: How it works...
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: As we saw in the preceding demonstration, the `sample` function can generate
    random samples from a specified population. The returned number from records can
    be designated by the user simply by specifying the argument of `size`. Assigning
    the `replace` argument to `TRUE`, you can generate Bernoulli trials (a population
    with `0` and `1` only).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所示，`sample` 函数可以从指定的总体中生成随机样本。用户可以通过指定 `size` 参数来指定记录返回的数字。将 `replace` 参数赋值为
    `TRUE`，可以生成伯努利试验（只有 `0` 和 `1` 的总体）。
- en: See also
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'In R, the default package provides another sample method, `sample.int`, where
    both n and size must be supplied as integers:'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 R 中，默认包提供了一个另一个样本方法，`sample.int`，其中 n 和 size 都必须以整数形式提供：
- en: '[PRE3]'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Operating a probability distribution in R
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在 R 中操作概率分布
- en: Probability distribution and statistics analysis are closely related to each
    other. For statistics analysis, analysts make predictions based on a certain population,
    which is mostly under a probability distribution. Therefore, if you find that
    the data selected for prediction does not follow the exact assumed probability
    distribution in experiment design, the upcoming results can be refuted. In other
    words, probability provides the justification for statistics. The following examples
    will demonstrate how to generate probability distribution in R.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 概率分布和统计分析密切相关。对于统计分析，分析师基于某个总体进行预测，该总体通常位于概率分布下。因此，如果您发现用于预测的数据在实验设计中并不遵循假设的概率分布，则可以反驳即将到来的结果。换句话说，概率为统计学提供了依据。以下示例将演示如何在
    R 中生成概率分布。
- en: Getting ready
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Since most distribution functions originate from the `stats` package, make sure
    the library `stats` are loaded.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 由于大多数分布函数都源自 `stats` 包，请确保已加载 `stats` 库。
- en: How to do it...
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Perform the following steps:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'For a normal distribution, the user can use `dnorm`, which will return the
    height of a normal curve at `0`:'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于正态分布，用户可以使用 `dnorm`，它将返回正态曲线在 `0` 处的高度：
- en: '[PRE4]'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Then, the user can change the mean and the standard deviation in the argument:'
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，用户可以在参数中更改均值和标准差：
- en: '[PRE5]'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Next, plot the graph of a normal distribution with the `curve` function:'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，使用 `curve` 函数绘制正态分布的图形：
- en: '[PRE6]'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '![How to do it...](img/00049.jpeg)'
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何做...](img/00049.jpeg)'
- en: Standard normal distribution
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 标准正态分布
- en: 'In contrast to `dnorm`, which returns the height of a normal curve, the `pnorm`
    function can return the area under a given value:'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与返回正态曲线高度的 `dnorm` 相比，`pnorm` 函数可以返回给定值下的面积：
- en: '[PRE7]'
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Alternatively, to get the area above a certain value, you can specify the option,
    `lower.tail`, to `FALSE`:'
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 或者，要获取某个值以上的面积，可以将选项 `lower.tail` 指定为 `FALSE`：
- en: '[PRE8]'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'To plot the graph of `pnorm`, the user can employ a `curve` function:'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要绘制 `pnorm` 的图形，用户可以使用 `curve` 函数：
- en: '[PRE9]'
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '![How to do it...](img/00050.jpeg)'
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何做...](img/00050.jpeg)'
- en: Cumulative density function (pnorm)
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 累积密度函数（pnorm）
- en: 'To calculate the quantiles for a specific distribution, you can use `qnorm`.
    The function, `qnorm,` can be treated as the inverse of `pnorm`, which returns
    the Z-score of a given probability:'
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要计算特定分布的分位数，可以使用 `qnorm`。函数 `qnorm` 可以被视为 `pnorm` 的逆函数，它返回给定概率的 Z 分数：
- en: '[PRE10]'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'To generate random numbers from a normal distribution, one can use the `rnorm`
    function and specify the number of generated numbers. Also, one can define optional
    arguments, such as the mean and standard deviation:'
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要从正态分布生成随机数，可以使用 `rnorm` 函数并指定生成的数字数量。此外，还可以定义可选参数，例如均值和标准差：
- en: '[PRE11]'
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '![How to do it...](img/00051.jpeg)'
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何做...](img/00051.jpeg)'
- en: Histogram of a normal distribution
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 正态分布的直方图
- en: 'To calculate the uniform distribution, the `runif` function generates random
    numbers from a uniform distribution. The user can specify the range of the generated
    numbers by specifying variables, such as the minimum and maximum. For the following
    example, the user generates 100 random variables from `0` to `5`:'
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要计算均匀分布，`runif` 函数会生成均匀分布的随机数。用户可以通过指定变量，如最小值和最大值，来指定生成的数字的范围。以下示例中，用户生成了从 `0`
    到 `5` 的 100 个随机变量：
- en: '[PRE12]'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '![How to do it...](img/00052.jpeg)'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何做...](img/00052.jpeg)'
- en: Histogram of a uniform distribution
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 均匀分布的直方图
- en: 'Lastly, if you would like to test the normality of the data, the most widely
    used test for this is the Shapiro-Wilks test. Here, we demonstrate how to perform
    a test of normality on both samples from the normal and uniform distributions,
    respectively:'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，如果您想测试数据的正态性，最常用的测试方法是 Shapiro-Wilks 测试。在这里，我们演示如何分别对正态分布和均匀分布的样本进行正态性测试：
- en: '[PRE13]'
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: How it works...
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: In this recipe, we first introduce `dnorm`, a probability density function,
    which returns the height of a normal curve. With a single input specified, the
    input value is called a standard score or a z-score. Without any other arguments
    specified, it is assumed that the normal distribution is in use with a mean of
    zero and a standard deviation of one. We then introduce three ways to draw standard
    and normal distributions.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们首先介绍 `dnorm`，这是一个概率密度函数，它返回正态曲线的高度。如果指定单个输入，则该输入值被称为标准分数或 z 分数。如果没有指定其他参数，则默认使用均值为零、标准差为一的正态分布。然后，我们介绍三种绘制标准正态分布的方法。
- en: After this, we introduce `pnorm`, a cumulative density function. The function,
    `pnorm`, can generate the area under a given value. In addition to this, `pnorm`
    can be also used to calculate the p-value from a normal distribution. One can
    get the p-value by subtracting 1 from the number, or assigning True to the option,
    `lower.tail`. Similarly, one can use the `plot` function to plot the cumulative
    density.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在此之后，我们介绍 `pnorm`，这是一个累积密度函数。该函数 `pnorm` 可以生成给定值下的面积。除此之外，`pnorm` 还可以用来从正态分布中计算
    p 值。可以通过从数字中减去 1 或将 `lower.tail` 选项赋值为 True 来获取 p 值。同样，可以使用 `plot` 函数来绘制累积密度图。
- en: In contrast to `pnorm`, `qnorm` returns the z-score of a given probability.
    Therefore, the example shows that the application of a `qnorm` function to a `pnorm`
    function will produce the exact input value.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 与 `pnorm` 不同，`qnorm` 返回给定概率的 z 分数。因此，示例表明将 `qnorm` 函数应用于 `pnorm` 函数将产生确切的输入值。
- en: Next, we show you how to use the `rnrom` function to generate random samples
    from a normal distribution, and the `runif` function to generate random samples
    from the uniform distribution. In the function, `rnorm`, one has to specify the
    number of generated numbers and we may also add optional augments, such as the
    mean and standard deviation. Then, by using the `hist` function, one should be
    able to find a bell-curve in figure 3\. On the other hand, for the `runif` function,
    with the minimum and maximum specifications, one can get a list of sample numbers
    between the two. However, we can still use the `hist` function to plot the samples.
    It is clear that the output figure (shown in the preceding figure) is not in a
    bell-shape, which indicates that the sample does not come from the normal distribution.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们向您展示如何使用 `rnorm` 函数从正态分布中生成随机样本，以及如何使用 `runif` 函数从均匀分布中生成随机样本。在 `rnorm`
    函数中，必须指定生成的数字数量，我们还可以添加可选参数，如均值和标准差。然后，通过使用 `hist` 函数，应该能够在图 3 中找到一个钟形曲线。另一方面，对于
    `runif` 函数，通过指定最小值和最大值，可以得到两个值之间的样本数字列表。然而，我们仍然可以使用 `hist` 函数来绘制样本。很明显，输出图（如前图所示）不是钟形，这表明样本不是来自正态分布。
- en: Finally, we demonstrate how to test data normality with the Shapiro-Wilks test.
    Here, we conduct the normality test on both the normal and uniform distribution
    samples, respectively. In both outputs, one can find the p-value in each test
    result. The p-value shows the changes, which show that the sample comes from a
    normal distribution. If the p-value is higher than 0.05, we can conclude that
    the sample comes from a normal distribution. On the other hand, if the value is
    lower than 0.05, we conclude that the sample does not come from a normal distribution.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们演示如何使用 Shapiro-Wilks 测试来测试数据正态性。在这里，我们对正态分布和均匀分布的样本分别进行正态性测试。在两个输出中，可以在每个测试结果中找到
    p 值。p 值显示了变化，表明样本来自正态分布。如果 p 值高于 0.05，我们可以得出结论，样本来自正态分布。另一方面，如果值低于 0.05，我们得出结论，样本不是来自正态分布。
- en: There's more...
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'Besides the normal distribution, you can obtain a t distribution, binomial
    distribution, and Chi-squared distribution by using the built-in functions of
    R. You can use the `help` function to access further information about this:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 除了正态分布之外，您还可以通过使用 R 的内置函数来获得 t 分布、二项分布和卡方分布。您可以使用 `help` 函数来获取更多相关信息：
- en: 'For a t distribution:'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 t 分布：
- en: '[PRE14]'
  id: totrans-80
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'For a binomial distribution:'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于二项分布：
- en: '[PRE15]'
  id: totrans-82
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'For the Chi-squared distribution:'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于卡方分布：
- en: '[PRE16]'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'To learn more about the distributions in the package, the user can access the
    `help` function with the keyword `distributions` to find all related documentation
    on this:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解包中的分布，用户可以使用关键字`distributions`访问`help`函数，以找到所有相关文档：
- en: '[PRE17]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Working with univariate descriptive statistics in R
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在R中使用单变量描述性统计
- en: Univariate descriptive statistics describes a single variable for unit analysis,
    which is also the simplest form of quantitative analysis. In this recipe, we introduce
    some basic functions used to describe a single variable.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 单变量描述性统计描述了用于单元分析的单个变量，这也是定量分析的最简单形式。在本菜谱中，我们介绍了一些用于描述单个变量的基本函数。
- en: Getting ready
  id: totrans-89
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: We need to apply descriptive statistics to a sample data. Here, we use the built-in
    `mtcars` data as our example.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要对样本数据进行描述性统计分析。在这里，我们使用内置的`mtcars`数据作为示例。
- en: How to do it...
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'First, load the `mtcars` data into a data frame with a variable named `mtcars`:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，将`mtcars`数据加载到名为`mtcars`的数据框中：
- en: '[PRE18]'
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'To obtain the vector range, the `range` function will return the lower and
    upper bound of the vector:'
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取向量范围，`range`函数将返回向量的下界和上界：
- en: '[PRE19]'
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Compute the length of the variable:'
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算变量的长度：
- en: '[PRE20]'
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Obtain the mean of mpg:'
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取mpg的平均值：
- en: '[PRE21]'
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Obtain the median of the input vector:'
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取输入向量的中位数：
- en: '[PRE22]'
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'To obtain the standard deviation of the input vector:'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取输入向量的标准差：
- en: '[PRE23]'
  id: totrans-104
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'To obtain the variance of the input vector:'
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取输入向量的方差：
- en: '[PRE24]'
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'The variance can also be computed with the square of standard deviation:'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 方差也可以通过标准差的平方来计算：
- en: '[PRE25]'
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'To obtain the **Interquartile Range** (**IQR**):'
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取**四分位距**（**IQR**）：
- en: '[PRE26]'
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'To obtain the quantile:'
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取分位数：
- en: '[PRE27]'
  id: totrans-112
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'To obtain the maximum of the input vector:'
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取输入向量的最大值：
- en: '[PRE28]'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'To obtain the minima of the input vector:'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取输入向量的最小值：
- en: '[PRE29]'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'To obtain a vector with elements that are the cumulative maxima:'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取包含累积最大值的向量：
- en: '[PRE30]'
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'To obtain a vector with elements that are the cumulative minima:'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取包含累积最小值的向量：
- en: '[PRE31]'
  id: totrans-120
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'To summarize the dataset, you can apply the `summary` function:'
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要总结数据集，你可以应用`summary`函数：
- en: '[PRE32]'
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'To obtain a frequency count of the categorical data, take `cyl` of `mtcars`
    as an example:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取分类数据的频率计数，以`mtcars`中的`cyl`为例：
- en: '[PRE33]'
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'To obtain a frequency count of numerical data, you can use a stem plot to outline
    the data shape; `stem` produces a stem-and-leaf plot of the given values:'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取数值数据的频率计数，你可以使用茎叶图来概述数据形状；`stem`生成给定值的茎叶图：
- en: '[PRE34]'
  id: totrans-126
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'You can use a histogram of ggplot to plot the same stem-and-leaf figure:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以使用ggplot的直方图来绘制相同的茎叶图：
- en: '[PRE35]'
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '![How to do it...](img/00053.jpeg)'
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/00053.jpeg)'
- en: Histogram of mpg of mtcars
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: mtcars中mpg的直方图
- en: How it works...
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Univariate descriptive statistics generate the frequency distribution of datasets.
    Moreover, they can be used to identify the obvious patterns in the data and the
    characteristics of the variates to provide a better understanding of the data
    from a holistic viewpoint. Additionally, they can provide information about the
    central tendency and descriptors of the skewness of individual cases. Therefore,
    it is common to see that univariate analysis is conducted at the beginning of
    the data exploration process.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 单变量描述性统计生成数据集的频率分布。此外，它们可以用来识别数据中的明显模式和变量的特征，从而从整体视角更好地理解数据。此外，它们还可以提供关于个别案例的中心趋势和偏度描述符的信息。因此，在数据探索过程的开始阶段进行单变量分析是很常见的。
- en: To begin the exploration of data, we first load the dataset, `mtcars`, to an
    R session. From the data, we apply `range`, `length`, `mean`, `median`, `sd`,
    `var`, `IQR`, `quantile`, `min`, `max`, `cumin`, and `cumax` to obtain the descriptive
    statistic of the attribute, `mpg`. Then, we use the `summary` function to obtain
    summary information about `mtcars`.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始探索数据，我们首先将数据集`mtcars`加载到R会话中。从数据中，我们应用`range`、`length`、`mean`、`median`、`sd`、`var`、`IQR`、`quantile`、`min`、`max`、`cumin`和`cumax`来获取属性`mpg`的描述性统计量。然后，我们使用`summary`函数来获取关于`mtcars`的摘要信息。
- en: Next, we obtain a frequency count of the categorical data (`cyl`). To obtain
    a frequency count of the numerical data, we use a stem plot to outline the data
    shape. Lastly, we use a histogram with the `binwidth` argument in `2` to generate
    a plot similar to the stem-and-leaf plot.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们获取分类数据（`cyl`）的频率计数。为了获取数值数据的频率计数，我们使用茎叶图来概述数据形状。最后，我们使用带有`binwidth`参数的直方图，在`2`中生成一个类似于茎叶图的图表。
- en: There's more...
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多内容...
- en: 'One common scenario in univariate descriptive statistics is to find the mode
    of a vector. In R, there is no built-in function to help the user obtain the mode
    of the data. However, one can implement the mode function by using the following
    code:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 在单变量描述性统计中，一个常见的场景是找到一个向量的众数。在R中，没有内置的函数来帮助用户获取数据的众数。然而，可以通过以下代码实现众数函数：
- en: '[PRE36]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'By applying the `mode` function on the vector, `mtcars$mpg`, you can find the
    most frequently occurring numeric value or category of a given vector:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 通过对向量`mtcars$mpg`应用`mode`函数，您可以找到给定向量中最频繁出现的数值或类别：
- en: '[PRE37]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: Performing correlations and multivariate analysis
  id: totrans-140
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 执行相关性和多元分析
- en: To analyze the relationship of more than two variables, you would need to conduct
    multivariate descriptive statistics, which allows the comparison of factors. Additionally,
    it prevents the effect of a single variable from distorting the analysis. In this
    recipe, we will discuss how to conduct multivariate descriptive statistics using
    a correlation and covariance matrix.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 要分析两个以上变量的关系，您需要进行多元描述性统计，这允许比较因素。此外，它防止单个变量的影响扭曲分析。在本菜谱中，我们将讨论如何使用相关性和协方差矩阵进行多元描述性统计。
- en: Getting ready
  id: totrans-142
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that `mtcars` has already been loaded into a data frame within an R session.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 确保在R会话中已经将`mtcars`加载到数据框中。
- en: How to do it...
  id: totrans-144
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Perform the following steps:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'Here, you can get the covariance matrix by inputting the first three variables
    in `mtcars` to the `cov` function:'
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这里，您可以通过将`mtcars`中的前三个变量输入到`cov`函数中来获取协方差矩阵：
- en: '[PRE38]'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'To obtain a correlation matrix of the dataset, we input the first three variables
    of `mtcars` to the `cor` function:'
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取数据集的相关矩阵，我们将`mtcars`的前三个变量输入到`cor`函数中：
- en: '[PRE39]'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE39]'
- en: How it works...
  id: totrans-150
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: In this recipe, we have demonstrated how to apply correlation and covariance
    to discover the relationship between multiple variables.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在本菜谱中，我们已经展示了如何应用相关性和协方差来发现多个变量之间的关系。
- en: First, we compute a covariance matrix of the first three `mtcars` variables.
    Covariance can measure how variables are linearly related. Thus, a positive covariance
    (for example, `cyl` versus `mpg`) indicates that the two variables are positively
    linearly related. On the other hand, a negative covariance (for example, `mpg`
    versus `disp`) indicates the two variables are negatively linearly related. However,
    due to the variance of different datasets, the covariance score of these datasets
    is not comparable. As a result, if you would like to compare the strength of the
    linear relation between two variables in a different dataset, you should use the
    normalized score, that is, the correlation coefficient instead of covariance.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们计算前三个`mtcars`变量的协方差矩阵。协方差可以衡量变量之间的线性关系。因此，正协方差（例如，`cyl`与`mpg`）表示两个变量呈正线性相关。另一方面，负协方差（例如，`mpg`与`disp`）表示两个变量呈负线性相关。然而，由于不同数据集的方差不同，这些数据集的协方差分数是不可比较的。因此，如果您想比较不同数据集中两个变量之间线性关系的强度，您应该使用归一化分数，即相关系数，而不是协方差。
- en: Next, we apply a `cor` function to obtain a correlation coefficient matrix of
    three variables within the `mtcars` dataset. In the correlation coefficient matrix,
    the numeric element of the matrix indicates the strength of the relationship between
    the two variables. If the correlation coefficient of a variable against itself
    scores `1`, the variable has a positive relationship against itself. The `cyl`
    and `mpg` variables have a correlation coefficient of -0.85, which means they
    have a strong, negative relationship. On the other hand, the `disp` and `cyl`
    variables score 0.90, which may indicate that they have a strong, positive relationship.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们应用`cor`函数来获取`mtcars`数据集中三个变量的相关系数矩阵。在相关系数矩阵中，矩阵的数值元素表示两个变量之间关系的强度。如果一个变量与其自身的相关系数得分为`1`，则该变量与其自身有正相关关系。`cyl`和`mpg`变量的相关系数为-0.85，这意味着它们有强烈的负相关关系。另一方面，`disp`和`cyl`变量的得分为0.90，这可能表明它们有强烈的正相关关系。
- en: See also
  id: totrans-154
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参阅
- en: 'You can use `ggplot` to plot the heatmap of the correlation coefficient matrix:'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以使用`ggplot`绘制相关系数矩阵的热图：
- en: '[PRE40]'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE40]'
- en: '![See also](img/00054.jpeg)'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![另请参阅](img/00054.jpeg)'
- en: The correlation coefficient matrix heatmap
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 相关系数矩阵热图
- en: Operating linear regression and multivariate analysis
  id: totrans-159
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 操作线性回归和多元分析
- en: Linear regression is a method to assess the association between dependent and
    independent variables. In this recipe, we will cover how to conduct linear regression
    for multivariate analysis.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 线性回归是一种评估因变量和自变量之间关联的方法。在本教程中，我们将介绍如何进行多元分析的线性回归。
- en: Getting ready
  id: totrans-161
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that `mtcars` has already been loaded into a data frame within an R session.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 确保在R会话中已经将`mtcars`数据框加载到数据中。
- en: How to do it...
  id: totrans-163
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'To fit variables into a linear model, you can use the `lm` function:'
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将变量拟合到线性模型中，您可以使用`lm`函数：
- en: '[PRE41]'
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'To get detailed information on the fitted model, you can use the `summary`
    function:'
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要获取拟合模型的详细信息，您可以使用`summary`函数：
- en: '[PRE42]'
  id: totrans-168
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'To create an analysis of a variance table, one can employ the `anova` function:'
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建一个方差分析表，可以使用`anova`函数：
- en: '[PRE43]'
  id: totrans-170
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'To plot the regression line on a scatter plot of two variables, you first plot
    `cyl` against `mpg` in it, then use the `abline` function to add a regression
    line on the plot:'
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要在两个变量的散点图上绘制回归线，您首先在图中绘制`cyl`对`mpg`，然后使用`abline`函数在图上添加回归线：
- en: '[PRE44]'
  id: totrans-172
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE44]'
- en: '![How to do it...](img/00055.jpeg)'
  id: totrans-173
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/00055.jpeg)'
- en: The regression plot of cyl against mpg
  id: totrans-174
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: cyl与mpg的回归图
- en: How it works...
  id: totrans-175
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: In this recipe, we apply the linear model function, `lm`, which builds a linear
    fitted model of two variables and returns the formula and coefficient. Next, we
    apply the `summary` function to retrieve the detailed information (including F-statistic
    and P-value) of the model. The purpose of F-statistic is to test the statistical
    significance of the model. It produces an F-value, which is the ratio of the model
    mean square to the error mean square. Thus, a large F-value indicates that more
    of the total variability is accounted for by the regression model. Then, we can
    use the F-value to support or reject the null hypothesis that all of the regression
    coefficients are equal to zero. In other words, the null hypothesis is rejected
    if the F-value is large and shows that the regression model has a predictive capability.
    On the other hand, P-values of each attribute test the null hypothesis that the
    coefficient is equal to zero (no effect on the response variable). In other words,
    a low p-value can reject a null hypothesis and indicates that a change in the
    predictor's value is related to the value of the response variable.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 在本教程中，我们应用线性模型函数`lm`，它构建两个变量的线性拟合模型并返回公式和系数。接下来，我们应用`summary`函数来检索模型的详细信息（包括F统计量和P值）。F统计量的目的是测试模型的统计显著性。它产生一个F值，即模型均方与误差均方的比率。因此，大的F值表明回归模型解释了更多的总变异性。然后，我们可以使用F值来支持或拒绝所有回归系数都等于零的零假设。换句话说，如果F值大且显示回归模型具有预测能力，则拒绝零假设。另一方面，每个属性的P值测试系数等于零的零假设（对响应变量没有影响）。换句话说，低P值可以拒绝零假设，并表明预测变量的值的变化与响应变量的值有关。
- en: Next, we apply the `anova` function on the fitted model to determine the variance.
    The function outputs the sum of squares, which stands for the variability of the
    model's predicted value. Further, to visualize the linear relationship between
    two variables, the `abline` function can add a regression line on a scatter plot
    of `mpg` against `cyl`. From the preceding figure, it is obvious that the `mpg`
    and `cyl` variables are negatively related.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将 `anova` 函数应用于拟合的模型以确定方差。该函数输出平方和，代表模型预测值的变异性。此外，为了可视化两个变量之间的线性关系，`abline`
    函数可以在 `mpg` 对 `cyl` 的散点图上添加回归线。从前面的图中可以看出，`mpg` 和 `cyl` 变量呈负相关。
- en: See also
  id: totrans-178
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参考内容
- en: For more information on how to perform linear and nonlinear regression analysis,
    please refer to the [Chapter 4](part0046_split_000.html#page "Chapter 4. Understanding
    Regression Analysis"), *Understanding Regression Analysis*
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有关如何进行线性和非线性回归分析的更多信息，请参阅第 4 章[理解回归分析](part0046_split_000.html#page "第 4 章。理解回归分析")，*理解回归分析*
- en: Conducting an exact binomial test
  id: totrans-180
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进行精确的二项式检验
- en: 'While making decisions, it is important to know whether the decision error
    can be controlled or measured. In other words, we would like to prove that the
    hypothesis formed is unlikely to have occurred by chance, and is statistically
    significant. In hypothesis testing, there are two kinds of hypotheses: null hypothesis
    and alternative hypothesis (or research hypothesis). The purpose of hypothesis
    testing is to validate whether the experiment results are significant. However,
    to validate whether the alternative hypothesis is acceptable, it is deemed to
    be true if the null hypothesis is rejected.'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 在做决策时，了解决策错误是否可以控制或衡量是很重要的。换句话说，我们希望证明形成的假设不太可能偶然发生，并且具有统计学意义。在假设检验中，有两种假设：零假设和备择假设（或研究假设）。假设检验的目的是验证实验结果是否具有显著性。然而，为了验证备择假设是否可接受，如果零假设被拒绝，则认为它是真实的。
- en: In the following recipes, we will discuss some common statistical testing methods.
    First, we will cover how to conduct an exact binomial test in R.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的食谱中，我们将讨论一些常见的统计检验方法。首先，我们将介绍如何在 R 中进行精确的二项式检验。
- en: Getting ready
  id: totrans-183
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Since the `binom.test` function originates from the `stats` package, make sure
    the `stats` library is loaded.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 `binom.test` 函数来自 `stats` 包，请确保已加载 `stats` 库。
- en: How to do it...
  id: totrans-185
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following step:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'Assume there is a game where a gambler can win by rolling the number-six-on
    a dice. As part of the rules, gamblers can bring their own dice. If a gambler
    tried to cheat in a game, he would use a loaded dice to increase his chance of
    winning. Therefore, if we observe that the gambler won 92 out of 315 games, we
    could determine whether the dice was fair by conducting an exact binomial test:'
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 假设有一个游戏，赌徒可以通过掷出骰子的六点来赢得游戏。作为规则的一部分，赌徒可以携带自己的骰子。如果一个赌徒试图在游戏中作弊，他会使用一个加重的骰子来增加他赢得游戏的几率。因此，如果我们观察到赌徒在
    315 场游戏中赢了 92 场，我们可以通过进行精确的二项式检验来确定骰子是否公平：
- en: '[PRE45]'
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE45]'
- en: How it works...
  id: totrans-189
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: 'A binomial test uses the binomial distribution to find out whether the true
    success rate is likely to be *P* for *n* trials with the binary outcome. The formula
    of the probability, *P*, can be defined in following equation:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 二项式检验使用二项分布来确定在具有二元结果的 *n* 次试验中，真正的成功率是否可能是 *P*。概率 *P* 的公式可以定义为以下方程：
- en: '![How it works...](img/00056.jpeg)'
  id: totrans-191
  prefs: []
  type: TYPE_IMG
  zh: '![它是如何工作的...](img/00056.jpeg)'
- en: Here, *X* denotes the random variables, counting the number of outcomes of the
    interest; *n* denotes the number of trials; *k* indicates the number of successes;
    *p* indicates the probability of success; and *q* denotes the probability of failure.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，*X* 表示随机变量，计算感兴趣的结果的数量；*n* 表示试验次数；*k* 表示成功的次数；*p* 表示成功的概率；*q* 表示失败的概率。
- en: After we have computed the probability, *P*, we can then perform a sign test
    to determine whether the success probability is similar to what we expected. If
    the probability is not equal to what we expected, we can reject the null hypothesis.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们计算出概率 *P* 之后，我们可以进行符号检验，以确定成功概率是否与我们预期的相似。如果概率不等于我们预期的，我们可以拒绝零假设。
- en: 'By definition, the null hypothesis is a skeptical perspective or a statement
    about the population parameter that will be tested. The null hypothesis is denoted
    by H0\. An alternative hypothesis is represented by a range of population values,
    which are not included in the null hypothesis. The alternative hypothesis is denoted
    by H1\. In this case, the null and alternative hypothesis, respectively, are illustrated
    as:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 根据定义，零假设是对将要测试的总体参数的怀疑观点或陈述。零假设用H0表示。备择假设表示一系列不包含在零假设中的总体值。备择假设用H1表示。在这种情况下，零假设和备择假设分别表示如下：
- en: '**H0 (null hypothesis)**: The true probability of success is equal to what
    we expected'
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**H0 (零假设)**: 成功的真实概率等于我们预期的'
- en: '**H1 (alternative hypothesis)**: The true probability of success is not equal
    to what we expected'
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**H1 (备择假设)**: 成功的真实概率不等于我们预期的'
- en: In this example, we demonstrate how to use a binomial test to determine the
    number of times the dice is rolled, the frequency of rolling the number six, and
    the probability of rolling a six from an unbiased dice. The result of the t-test
    shows that the p-value = 3.458e-08 (lower than 0.05). For significance, at the
    five percent level, the null hypothesis (the dice is unbiased) is rejected as
    too many sixes were rolled (the probability of success = 0.2920635).
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 在本例中，我们演示如何使用二项检验来确定骰子被掷出的次数、掷出六的频率以及从无偏骰子掷出六的概率。t检验的结果显示p值=3.458e-08（低于0.05）。在5%的显著性水平下，由于掷出了过多的六（成功概率=0.2920635），零假设（骰子无偏）被拒绝。
- en: See also
  id: totrans-198
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'To read more about the usage of the exact binomial test, please use the `help`
    function to view related documentation on this:'
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要了解更多关于精确二项检验的使用方法，请使用`help`函数查看相关文档：
- en: '[PRE46]'
  id: totrans-200
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE46]'
- en: Performing student's t-test
  id: totrans-201
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 执行学生t检验
- en: A one sample t-test enables us to test whether two means are significantly different;
    a two sample t-test allows us to test whether the means of two independent groups
    are different. In this recipe, we will discuss how to conduct one sample t-test
    and two sample t-tests using R.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 单样本t检验使我们能够测试两个均值是否显著不同；双样本t检验使我们能够测试两个独立组的均值是否不同。在本配方中，我们将讨论如何使用R进行单样本t检验和双样本t检验。
- en: Getting ready
  id: totrans-203
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that `mtcars` has already been loaded into a data frame within an R session.
    As the `t.test` function originates from the `stats` package, make sure the library,
    `stats`, is loaded.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 确保在R会话中已经将`mtcars`加载到数据框中。由于`t.test`函数来自`stats`包，请确保已加载库`stats`。
- en: How to do it...
  id: totrans-205
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Perform the following steps:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'First, we visualize the attribute, `mpg`, against `am` using a boxplot:'
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们使用箱线图可视化属性`mpg`与`am`的关系：
- en: '[PRE47]'
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE47]'
- en: '![How to do it...](img/00057.jpeg)'
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何做...](img/00057.jpeg)'
- en: The boxplot of mpg of the overall population and automobiles
  id: totrans-210
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 总体和汽车mpg的箱线图
- en: 'We then perform a statistical procedure to validate whether the average `mpg`
    of automobiles is lower than the average of the overall `mpg`:'
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们随后执行一个统计程序来验证汽车的平均`mpg`是否低于总体`mpg`的平均值：
- en: '[PRE48]'
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'We begin visualizing the data by plotting a boxplot:'
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们开始通过绘制箱线图来可视化数据：
- en: '[PRE49]'
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE49]'
- en: '![How to do it...](img/00058.jpeg)'
  id: totrans-215
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何做...](img/00058.jpeg)'
- en: The boxplot of mpg of automatic and manual transmission cars
  id: totrans-216
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 自动和手动变速汽车的mpg箱线图
- en: 'The preceding figure reveals that the mean mpg of automatic transmission cars
    is lower than the average mpg of manual transmission vehicles:'
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前面的图显示，自动变速汽车的均值mpg低于手动变速车辆的均值mpg：
- en: '[PRE50]'
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE50]'
- en: How it works...
  id: totrans-219
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Student's t-test is where the test statistic follows a normal distribution (the
    student's t distribution) if the null hypothesis is true. It can be used to determine
    whether there is a difference between two independent datasets. Student's t-test
    is best used with the problems associated with an inference based on small samples.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 学生t检验是在零假设为真时，检验统计量遵循正态分布（学生t分布）的情况。它可以用来确定两个独立数据集之间是否存在差异。学生t检验最适合用于基于小样本推断的问题。
- en: In this recipe, we discuss one sample student's t-test and two sample student's
    t-tests. In the one sample student's t-test, a research question often asked is,
    "Is the mean of the population different from the null hypothesis?" Thus, in order
    to test whether the average mpg of automobiles is lower than the overall average
    mpg, we first use a boxplot to view the differences between populations without
    making any assumptions. From the preceding figure, it is clear that the mean of
    mpg of automobiles (the blue line) is lower than the average mpg (red line) of
    the overall population. Then, we apply one sample t-test; the low p-value of 0.003595
    (< 0.05) suggests that we should reject the null hypothesis that the mean mpg
    for automobiles is less than the average mpg of the overall population.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 在本例中，我们讨论单样本学生 t 检验和双样本学生 t 检验。在单样本学生 t 检验中，常被提出的研究问题是，“总体均值是否与零假设不同？”因此，为了测试汽车的平均油耗是否低于总体平均油耗，我们首先使用箱线图来观察总体之间的差异，而不做任何假设。从前面的图中可以看出，汽车的平均油耗（蓝色线）低于总体平均油耗（红色线）。然后，我们应用单样本
    t 检验；低 p 值 0.003595（< 0.05）表明我们应该拒绝零假设，即汽车的平均油耗低于总体平均油耗。
- en: As a one sample t-test enables us to test whether two means are significantly
    different, a two sample t-test allows us to test whether the means of two independent
    groups are different. Similar to a one sample t-test, we first use a boxplot to
    see the differences between populations and then apply a two-sample t-test. The
    test results shows the p-value = 0.01374 (p< 0.05). In other words, the test provides
    evidence that rejects the null hypothesis, which shows the mean mpg of cars with
    automatic transmission differs from the cars with manual transmission.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 由于单样本 t 检验使我们能够测试两个均值是否有显著差异，双样本 t 检验则允许我们测试两个独立组的均值是否不同。与单样本 t 检验类似，我们首先使用箱线图来观察总体之间的差异，然后应用双样本
    t 检验。测试结果显示 p 值为 0.01374（p< 0.05）。换句话说，测试提供了拒绝零假设的证据，表明自动挡汽车的均值油耗与手动挡汽车的均值油耗不同。
- en: See also
  id: totrans-223
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 相关内容
- en: 'To read more about the usage of student''s t-test, please use the `help` function
    to view related documents:'
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要了解更多关于学生 t 检验的使用方法，请使用 `help` 函数查看相关文档：
- en: '[PRE51]'
  id: totrans-225
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE51]'
- en: Performing the Kolmogorov-Smirnov test
  id: totrans-226
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 执行 Kolmogorov-Smirnov 测试
- en: A one-sample Kolmogorov-Smirnov test is used to compare a sample with a reference
    probability. A two-sample Kolmogorov-Smirnov test compares the cumulative distributions
    of two datasets. In this recipe, we will demonstrate how to perform the Kolmogorov-Smirnov
    test with R.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 单样本 Kolmogorov-Smirnov 测试用于比较一个样本与参考概率。双样本 Kolmogorov-Smirnov 测试比较两个数据集的累积分布。在本例中，我们将展示如何使用
    R 执行 Kolmogorov-Smirnov 测试。
- en: Getting ready
  id: totrans-228
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that `mtcars` has already been loaded into a data frame within an R session.
    As the `ks.test` function is originated from the `stats` package, make sure the
    `stats` library is loaded.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 确保在 R 会话中已经将 `mtcars` 数据集加载到一个数据框中。由于 `ks.test` 函数源自 `stats` 包，请确保已加载 `stats`
    库。
- en: How to do it...
  id: totrans-230
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'Validate whether the dataset, x (generated with the `rnorm` function), is distributed
    normally with a one-sample Kolmogorov-Smirnov test:'
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用单样本 Kolmogorov-Smirnov 测试验证数据集 x（使用 `rnorm` 函数生成）是否呈正态分布：
- en: '[PRE52]'
  id: totrans-233
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'Next, you can generate uniformly distributed sample data:'
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您可以生成均匀分布的样本数据：
- en: '[PRE53]'
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'We first plot `ecdf` of two generated data samples:'
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们首先绘制两个生成数据样本的 `ecdf`：
- en: '[PRE54]'
  id: totrans-237
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE54]'
- en: '![How to do it...](img/00059.jpeg)'
  id: totrans-238
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/00059.jpeg)'
- en: The ecdf plot of two generated data samples
  id: totrans-239
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 两个生成数据样本的 ecdf 图
- en: 'Finally, we apply a two-sample Kolmogorov-Smirnov test on two groups of data:'
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，我们对两组数据应用双样本 Kolmogorov-Smirnov 测试：
- en: '[PRE55]'
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE55]'
- en: How it works...
  id: totrans-242
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: 'The **Kolmogorov-Smirnov test** (**K-S test**) is a nonparametric and statistical
    test, used for the equality of continuous probability distributions. It can be
    used to compare a sample with a reference probability distribution (a one sample
    K-S test), or it can directly compare two samples (a two sample K-S test). The
    test is based on the empirical distribution function (ECDF). Let ![How it works...](img/00060.jpeg)
    be a random sample of size, n; the empirical distribution function, ![How it works...](img/00061.jpeg),
    is defined as:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '**Kolmogorov-Smirnov 测试**（**K-S 测试**）是一种非参数统计测试，用于检验连续概率分布的相等性。它可以用来比较一个样本与参考概率分布（单样本
    K-S 测试），或者直接比较两个样本（双样本 K-S 测试）。该测试基于经验分布函数（ECDF）。设 ![如何工作...](img/00060.jpeg)
    为大小为 n 的随机样本；经验分布函数 ![如何工作...](img/00061.jpeg)，定义为：'
- en: '![How it works...](img/00062.jpeg)'
  id: totrans-244
  prefs: []
  type: TYPE_IMG
  zh: '![如何工作...](img/00062.jpeg)'
- en: Here, ![How it works...](img/00063.jpeg) is the indicator function. If ![How
    it works...](img/00064.jpeg), the function equals to 1\. Otherwise, the function
    equals to 0.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，![如何工作...](img/00063.jpeg) 是指示函数。如果 ![如何工作...](img/00064.jpeg)，则函数等于 1。否则，函数等于
    0。
- en: 'The Kolmogorov-Smirnov statistic (D) is based on the greatest (where supx denotes
    the supremum) vertical difference between F(x) and Fn(x). It is defined as:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: Kolmogorov-Smirnov 统计量（D）基于 F(x) 和 Fn(x) 之间最大的（其中 supx 表示上确界）垂直差异。它定义为：
- en: '![How it works...](img/00065.jpeg)'
  id: totrans-247
  prefs: []
  type: TYPE_IMG
  zh: '![如何工作...](img/00065.jpeg)'
- en: H[0] is the sample follows the specified distribution. H[1] is the sample does
    not follow the specified distribution.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: H[0] 是样本遵循指定的分布。H[1] 是样本不遵循指定的分布。
- en: If Dn is greater than the critical value obtained from a table, then we reject
    H[0] at the level of significance α.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 Dn 大于从表中获得的临界值，则我们在显著性水平 α 上拒绝 H[0]。
- en: We first test whether a random number generated from a normal distribution is
    normally distributed. At the 5 percent significance level, the p-value of 0.0994
    indicates that the input is normally distributed.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先测试从正态分布生成的随机数是否正态分布。在 5% 的显著性水平下，p 值为 0.0994 表明输入是正态分布的。
- en: Then, we plot an empirical cumulative distribution function (`ecdf`) plot to
    show how a two-sample test calculates the maximum distance D (showing 0.3), and
    apply the two-sample Kolmogorov-Smirnov test to discover whether the two input
    datasets possibly come from the same distribution.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们绘制一个经验累积分布函数（`ecdf`）图来展示双样本测试如何计算最大距离 D（显示为 0.3），并应用双样本 Kolmogorov-Smirnov
    测试来发现两个输入数据集是否可能来自同一分布。
- en: The p-value is above 0.05, which does not reject the null hypothesis. In other
    words, it means the two datasets are possibly from the same distribution.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: p 值大于 0.05，不拒绝零假设。换句话说，这意味着两个数据集可能来自同一分布。
- en: See also
  id: totrans-253
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'To read more about the usage of the Kolmogorov-Smirnov test, please use the
    `help` function to view related documents:'
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 想要了解更多关于 Kolmogorov-Smirnov 测试的用法，请使用 `help` 函数查看相关文档：
- en: '[PRE56]'
  id: totrans-255
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'As for the definition of an empirical cumulative distribution function, please
    refer to the help page of `ecdf`:'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于经验累积分布函数的定义，请参阅 `ecdf` 的帮助页面：
- en: '[PRE57]'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE57]'
- en: Understanding the Wilcoxon Rank Sum and Signed Rank test
  id: totrans-258
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解 Wilcoxon 秩和检验和符号秩检验
- en: The Wilcoxon Rank Sum and Signed Rank test (or Mann-Whitney-Wilcoxon) is a nonparametric
    test of the null hypothesis, which shows that the population distribution of two
    different groups are identical without assuming that the two groups are normally
    distributed. This recipe will show how to conduct the Wilcoxon Rank Sum and Signed
    Rank test in R.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: Wilcoxon 秩和检验和符号秩检验（或 Mann-Whitney-Wilcoxon）是一种非参数的零假设检验，表明两个不同群体的总体分布是相同的，而不假设两个群体是正态分布的。本食谱将展示如何在
    R 中进行 Wilcoxon 秩和检验和符号秩检验。
- en: Getting ready
  id: totrans-260
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that `mtcars` has already been loaded into a data frame within an R session.
    As the `wilcox.test` function is originated from the `stats` package, make sure
    the library, `stats`, is loaded.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 确保在 R 会话中已经将 `mtcars` 数据集加载到一个数据框中。由于 `wilcox.test` 函数源自 `stats` 包，请确保已加载 `stats`
    库。
- en: How to do it...
  id: totrans-262
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps:'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'We first plot the data of `mtcars` with the `boxplot` function:'
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们首先使用 `boxplot` 函数绘制 `mtcars` 的数据：
- en: '[PRE58]'
  id: totrans-265
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE58]'
- en: '![How to do it...](img/00066.jpeg)'
  id: totrans-266
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/00066.jpeg)'
- en: The boxplot of mpg of automatic cars and manual transmission cars
  id: totrans-267
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 自动挡汽车和手动挡汽车的 mpg 箱线图
- en: 'Next, we still perform a Wilcoxon Rank Sum test to validate whether the distribution
    of automatic transmission cars is identical to that of manual transmission cars:'
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们仍然执行Wilcoxon秩和检验，以验证自动变速汽车的分布是否与手动变速汽车相同：
- en: '[PRE59]'
  id: totrans-269
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE59]'
- en: How it works...
  id: totrans-270
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: In this recipe, we discuss a nonparametric test method, the Wilcoxon Rank Sum
    test (also known as the Mann-Whitney U-test). For student's t-test, it is assumed
    that the differences between the two samples are normally distributed (and it
    also works best when the two samples are normally distributed). However, when
    the normality assumption is uncertain, one can adopt the Wilcoxon Rank Sum Test
    to test a hypothesis.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 在本教程中，我们讨论了一种非参数检验方法，即Wilcoxon秩和检验（也称为Mann-Whitney U检验）。对于学生t检验，假设两个样本之间的差异是正态分布的（当两个样本都是正态分布时，效果最好）。然而，当正态性假设不确定时，可以采用Wilcoxon秩和检验来检验假设。
- en: Here, we used a Wilcoxon Rank Sum test to determine whether the mpg of automatic
    and manual transmission cars in the dataset, `mtcars`, is distributed identically.
    From the test result, we see that the p-value = 0.001871 (< 0.05) rejects the
    null hypothesis, and also reveals that the distribution of mpg in automatic and
    manual transmission cars is not identical. When performing this test, you may
    receive the warning message, "cannot compute exact p-value with ties", which indicates
    that there are duplicate values within the dataset. The warning message will be
    cleared once the duplicate values are removed.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们使用Wilcoxon秩和检验来确定数据集`mtcars`中自动和手动变速汽车的mpg是否分布相同。从测试结果来看，p值=0.001871（<0.05）拒绝零假设，同时也表明自动和手动变速汽车的mpg分布并不相同。在执行此测试时，您可能会收到警告信息“无法计算具有重复值的精确p值”，这表明数据集中存在重复值。一旦删除重复值，警告信息将清除。
- en: See also
  id: totrans-273
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'To read more about the usage of the Wilcoxon Rank Sum and Signed Rank Test,
    please use the `help` function to view the concerned documents:'
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要了解更多关于Wilcoxon秩和检验和符号秩检验的使用方法，请使用`help`函数查看相关文档：
- en: '[PRE60]'
  id: totrans-275
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE60]'
- en: Working with Pearson's Chi-squared test
  id: totrans-276
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用皮尔逊卡方检验
- en: In this recipe, we introduce Pearson's Chi-squared test, which is used to examine
    whether the distributions of categorical variables of two groups differ. We will
    discuss how to conduct Pearson's Chi-squared Test in R.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 在本教程中，我们介绍了皮尔逊卡方检验，该检验用于检验两组分类变量的分布是否不同。我们将讨论如何在R中执行皮尔逊卡方检验。
- en: Getting ready
  id: totrans-278
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that `mtcars` has already been loaded into a data frame within an R session.
    Since the `chisq.test` function is originated from the `stats?` package, make
    sure the library, `stats,` is loaded.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 确保在R会话中已经将`mtcars`加载到数据框中。由于`chisq.test`函数源自`stats?`包，请确保已加载库`stats`。
- en: How to do it
  id: totrans-280
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作
- en: 'Perform the following steps:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'To make the counting table, we first use the contingency table built with the
    inputs of the transmission type and number of forward gears:'
  id: totrans-282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要制作计数表，我们首先使用包含变速类型和前进档位数的输入构建的列联表：
- en: '[PRE61]'
  id: totrans-283
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'We then plot the mosaic plot of the contingency table:'
  id: totrans-284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们接着绘制列联表的mosaic图：
- en: '[PRE62]'
  id: totrans-285
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE62]'
- en: '![How to do it](img/00067.jpeg)'
  id: totrans-286
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作](img/00067.jpeg)'
- en: Number of forward gears in automatic and manual cars
  id: totrans-287
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 自动和手动汽车前进档位数
- en: 'Next, we perform the Pearson''s Chi-squared test on the contingency table to
    test whether the numbers of gears in automatic and manual transmission cars is
    the same:'
  id: totrans-288
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们对列联表执行皮尔逊卡方检验，以检验自动和手动变速汽车的档位数是否相同：
- en: '[PRE63]'
  id: totrans-289
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE63]'
- en: How it works...
  id: totrans-290
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: 'Pearson''s Chi-squared test is a statistical test used to discover whether
    there is a relationship between two categorical variables. It is best used for
    unpaired data from large samples. If you would like to conduct Pearson''s Chi-squared
    test, you need to make sure that the input samples satisfy two assumptions: firstly,
    the two input variables should be categorical. Secondly, the variable should include
    two or more independent groups.'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 皮尔逊卡方检验是一种统计检验，用于发现两个分类变量之间是否存在关系。它最适合用于来自大样本的非配对数据。如果您想进行皮尔逊卡方检验，需要确保输入样本满足两个假设：首先，两个输入变量应该是分类变量。其次，变量应包括两个或更多独立组。
- en: 'In Pearson''s Chi-squared test, the assumption is that we have two variables,
    A and B; we can illustrate the null and alternative hypothesis in the following
    statements:'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 在皮尔逊卡方检验中，假设我们有两个变量A和B；我们可以在以下陈述中说明零假设和备择假设：
- en: 'H[0]: Variable A and variable B are independent'
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'H[0]: 变量A和变量B是独立的'
- en: 'H[1]: Variable A and variable B are not independent'
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'H[1]: 变量A和变量B不独立'
- en: To test whether the null hypothesis is correct or incorrect, the Chi-squared
    test takes these steps.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试零假设是否正确或错误，卡方检验采取以下步骤。
- en: 'It calculates the Chi-squared test statistic, ![How it works...](img/00068.jpeg):'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 它计算卡方检验统计量，![如何工作...](img/00068.jpeg)：
- en: '![How it works...](img/00069.jpeg)'
  id: totrans-297
  prefs: []
  type: TYPE_IMG
  zh: '![如何工作...](img/00069.jpeg)'
- en: Here, r is the number of rows in the contingency table, c is the number of columns
    in the contingency table, O[i,j] is the observed frequency count, E[i,j] is the
    expected frequency count.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，r 是列联表的行数，c 是列联表的列数，O[i,j] 是观察到的频率计数，E[i,j] 是期望频率计数。
- en: 'It determines the degrees of freedom, `df`, of that statistic. The degree of
    freedom is equal to:'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 它确定该统计量的自由度，`df`。自由度等于：
- en: '![How it works...](img/00070.jpeg)'
  id: totrans-300
  prefs: []
  type: TYPE_IMG
  zh: '![如何工作...](img/00070.jpeg)'
- en: Here, r is the number of levels for one variable, and c is the number of levels
    for another variable.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，r 是一个变量的水平数，c 是另一个变量的水平数。
- en: It compares ![How it works...](img/00071.jpeg) to the critical value from the
    Chi-squared distribution with the degrees of freedom.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 它将![如何工作...](img/00071.jpeg)与具有自由度的卡方分布的临界值进行比较。
- en: In this recipe, we use a contingency table and mosaic plot to illustrate the
    differences in count numbers. It is obvious that the number of forward gears is
    less in automatic transmission cars than in manual transmission cars.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 在本菜谱中，我们使用列联表和镶嵌图来展示计数数的差异。很明显，自动变速汽车的档位数比手动变速汽车少。
- en: Then, we perform the Pearson's Chi-squared test on the contingency table to
    determine whether the gears in automatic and manual transmission cars are the
    same. The output, p-value = 2.831e-05 (< 0.05), refutes the null hypothesis and
    shows the number of forward gears is different in automatic and manual transmission
    cars. However, the output message contains a warning message that Chi-squared
    approximation may be incorrect, which is because the number of samples in the
    contingency table is less than five.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们在列联表上执行皮尔逊卡方检验，以确定自动和手动变速汽车的齿轮是否相同。输出结果，p值 = 2.831e-05（< 0.05），反驳了零假设，表明自动和手动变速汽车的档位数不同。然而，输出信息中包含一个警告信息，即卡方近似可能不正确，这是因为列联表中的样本数量少于五个。
- en: There's more...
  id: totrans-305
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多...
- en: 'To read more about the usage of the Pearson''s Chi-squared test, please use
    the `help` function to view the related documents:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解更多关于皮尔逊卡方检验的使用信息，请使用`help`函数查看相关文档：
- en: '[PRE64]'
  id: totrans-307
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'Besides some common hypothesis testing methods mentioned in previous examples,
    there are other hypothesis methods provided by R:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 除了之前示例中提到的常见假设检验方法外，R还提供了其他假设检验方法：
- en: 'The Proportional test (`prop.test`): It is used to test whether the proportions
    in different groups are the same'
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比例检验（`prop.test`）：它用于测试不同组之间的比例是否相同
- en: 'The Z-test (`simple.z.test` in the UsingR package): It compares the sample
    mean with the population mean and standard deviation'
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Z检验（`UsingR`包中的`simple.z.test`）：它比较样本均值与总体均值和标准差
- en: 'The Bartlett Test (`bartlett.test`): It is used to test whether the variance
    of different groups is the same'
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 巴特利特检验（`bartlett.test`）：它用于测试不同组的方差是否相同
- en: 'The Kruskal-Wallis Rank Sum Test (`kruskal.test`): It is used to test whether
    the distribution of different groups is identical without assuming that they are
    normally distributed'
  id: totrans-312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 克鲁斯卡尔-沃利斯秩和检验（`kruskal.test`）：它用于测试不同组的分布是否相同，而不假设它们是正态分布的
- en: 'The Shapiro-Wilk test (`shapiro.test`): It is used test for normality'
  id: totrans-313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 夏皮罗-威尔克检验（`shapiro.test`）：它用于测试正态性
- en: Conducting a one-way ANOVA
  id: totrans-314
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进行单因素方差分析
- en: '**Analysis of** **variance** (**ANOVA**) investigates the relationship between
    categorical independent variables and continuous dependent variables. It can be
    used to test whether the means of several groups are equal. If there is only one
    categorical variable as an independent variable, you can perform a one-way ANOVA.
    On the other hand, if there are more than two categorical variables, you should
    perform a two-way ANOVA. In this recipe, we discuss how to conduct a one-way ANOVA
    with R.'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: '**方差分析**（**ANOVA**）研究分类自变量与连续因变量之间的关系。它可以用来测试几个组的均值是否相等。如果只有一个分类变量作为自变量，则可以执行单因素方差分析。另一方面，如果有超过两个分类变量，则应执行双因素方差分析。在本菜谱中，我们讨论如何使用R进行单因素方差分析。'
- en: Getting ready
  id: totrans-316
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that `mtcars` has already been loaded into a data frame within an R session.
    Since the `oneway.test` and `TukeyHSD` functions originated from the `stats` package,
    make sure the library, `stats`, is loaded.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 确保在R会话中已经将`mtcars`数据集加载到一个数据框中。由于`oneway.test`和`TukeyHSD`函数源自`stats`包，请确保已加载库`stats`。
- en: How to do it...
  id: totrans-318
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps:'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'We begin exploring by visualizing the data with a boxplot:'
  id: totrans-320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们开始通过使用箱线图可视化数据来探索：
- en: '[PRE65]'
  id: totrans-321
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE65]'
- en: '![How to do it...](img/00072.jpeg)'
  id: totrans-322
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/00072.jpeg)'
- en: Comparison of mpg of different numbers of forward gears
  id: totrans-323
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 不同档位数量汽车mpg的比较
- en: 'Next, we conduct a one-way ANOVA to examine whether the mean of `mpg` changes
    with different numbers of forward gears. We use the function, `oneway.test`:'
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们进行单因素ANOVA来检验`mpg`的平均值是否随着不同档位数量的变化而变化。我们使用函数`oneway.test`：
- en: '[PRE66]'
  id: totrans-325
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'In addition to `oneway.test`, a standard function, `aov`, is used for the ANOVA
    analysis:'
  id: totrans-326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 除了标准函数`oneway.test`外，还使用`aov`函数进行ANOVA分析：
- en: '[PRE67]'
  id: totrans-327
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'The model generated by the `aov` function can also generate a summary as a
    fitted table:'
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由`aov`函数生成的模型也可以生成一个拟合表格的摘要：
- en: '[PRE68]'
  id: totrans-329
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'For the `aov` model, one can use `TukeyHSD` for a post hoc comparison test:'
  id: totrans-330
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于`aov`模型，可以使用`TukeyHSD`进行事后比较检验：
- en: '[PRE69]'
  id: totrans-331
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE69]'
- en: Further, we can visualize the differences in mean level with a `plot` function:![How
    to do it...](img/00073.jpeg)
  id: totrans-332
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，我们可以使用`plot`函数可视化平均水平的差异：![如何操作...](img/00073.jpeg)
- en: The Tukey mean-difference plot of groups with different numbers of gears
  id: totrans-333
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 不同档位数量组的Tukey均值差异图
- en: How it works...
  id: totrans-334
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: In order to understand whether cars with a different number of forward gears
    have different means in mpg, we first plot the boxplot of mpg by the numbers of
    forward gears. This offers a simple indication if cars with a different number
    of forward gears have different means of mpg. We then perform the most basic form
    of ANOVA, a one-way ANOVA, to test whether the populations have different means.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 为了了解不同档位数量的汽车在mpg（每加仑英里数）上是否有不同的平均值，我们首先绘制了以档位数量为依据的mpg箱线图。这提供了一个简单的指示，如果不同档位数量的汽车在mpg的平均值上有所不同。然后，我们执行最基本形式的方差分析（ANOVA），即单因素ANOVA，以检验总体是否有不同的平均值。
- en: 'In R, there are two functions to perform the ANOVA test: `oneway.test` and
    `aov`. The advantage of `oneway.test` is that the function applies a Welch correction
    to address the nonhomogeneity of a variance. However, it does not provide as much
    information as `aov`, and it does not offer a post hoc test. Next, we perform
    `oneway.test` and `aov` on the independent variable, `gear`, with regard to the
    dependent variable, `mpg`. Both test results show a small p-value, which rejects
    the null hypothesis that the mean between cars with a different number of forward
    gears have the same `mpg` mean.'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 在R中，有两个函数可以执行ANOVA测试：`oneway.test`和`aov`。`oneway.test`的优点是该函数应用Welch校正来解决方差的非齐性。然而，它提供的信息不如`aov`多，并且不提供事后检验。接下来，我们对自变量`gear`和因变量`mpg`执行`oneway.test`和`aov`。这两个测试的结果都显示了一个小的p值，这拒绝了不同档位数量的汽车在mpg均值之间没有差异的零假设。
- en: As the results of ANOVA only suggest that there is a significant difference
    in the means within overall populations, you may not know which two populations
    differ in terms of their mean. Therefore, we apply the `TukeyHSD` post hoc comparison
    test on our ANOVA model. The result shows that cars with four forward gears and
    cars with three gears have the largest difference, as their confidence interval
    is the furthest to the right within the plot.
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 由于ANOVA的结果仅表明总体均值之间存在显著差异，你可能不知道哪些总体在均值方面有所不同。因此，我们在ANOVA模型上应用`TukeyHSD`事后比较检验。结果显示，具有四个前进档位的汽车和具有三个档位的汽车之间的差异最大，因为它们的置信区间在图中最靠右。
- en: There's more...
  id: totrans-338
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多内容...
- en: ANOVA relies on an F-distribution as the basis of all probability distribution.
    An F score is obtained by dividing the between-group variance by the in-group
    variance. If the overall F test was significant, you can conduct a post hoc test
    (or multiple comparison tests) to measure the differences between groups. The
    most commonly used post hoc tests are Scheffé's method, the Tukey-Kramer method,
    and the Bonferroni correction.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: ANOVA依赖于F分布作为所有概率分布的基础。F分数是通过将组间方差除以组内方差得到的。如果整体F检验是显著的，你可以进行事后检验（或多重比较检验）来衡量组之间的差异。最常用的事后检验方法是Scheffé方法、Tukey-Kramer方法和Bonferroni校正。
- en: 'In order to interpret the output of ANOVA, you need to have a basic understanding
    of certain terms, including the degrees of freedom, the sum of square total, the
    sum of square groups, the sum of square errors, the mean square errors, and the
    F statistic. If you require more information about these terms, you may refer
    to *Using multivariate statistics* (Fidell, L. S., & Tabachnick, B. G. (2006)
    *Boston: Allyn & Bacon*.), or refer to the Wikipedia entry of Analysis of variance
    ([http://en.wikipedia.org/wiki/Analysis_of_variance#cite_ref-31](http://en.wikipedia.org/wiki/Analysis_of_variance#cite_ref-31)).'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: '为了解释ANOVA的输出，您需要对某些术语有基本的了解，包括自由度、总平方和、组平方和、误差平方和、均方误差和F统计量。如果您需要更多关于这些术语的信息，您可以参考*使用多元统计*（Fidell,
    L. S. & Tabachnick, B. G. (2006) *Boston: Allyn & Bacon*），或者参考分析方差（[http://en.wikipedia.org/wiki/Analysis_of_variance#cite_ref-31](http://en.wikipedia.org/wiki/Analysis_of_variance#cite_ref-31)）的维基百科条目。'
- en: Performing a two-way ANOVA
  id: totrans-341
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 执行双向方差分析
- en: A two-way ANOVA can be viewed as the extension of a one-way ANOVA, for the analysis
    covers more than two categorical variables rather than one. In this recipe, we
    will discuss how to conduct a two-way ANOVA in R.
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 双向方差分析可以看作是一元方差分析的扩展，因为分析覆盖了超过两个分类变量而不是一个。在本菜谱中，我们将讨论如何在R中执行双向方差分析。
- en: Getting ready
  id: totrans-343
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that `mtcars` has already been loaded into a data frame within an R session.
    Since the `twoway.test`, `TukeyHSD` and `interaction.plot` functions are originated
    from the `stats` package, make sure the library, `stats`, is loaded.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 确保在R会话中已经将`mtcars`加载到数据框中。由于`twoway.test`、`TukeyHSD`和`interaction.plot`函数源自`stats`包，请确保已加载库`stats`。
- en: How to do it...
  id: totrans-345
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Perform the following steps:'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤：
- en: 'First we plot the two boxplots of factor gears in regard to mpg, with the plot
    separated from the transmission type:'
  id: totrans-347
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们绘制了关于mpg的因子齿轮的两个箱线图，并将图表与传动类型分开：
- en: '[PRE70]'
  id: totrans-348
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE70]'
- en: '![How to do it...](img/00074.jpeg)'
  id: totrans-349
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何做...](img/00074.jpeg)'
- en: The boxplots of mpg by the gear group and the transmission type
  id: totrans-350
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 根据齿轮组和传动类型绘制的mpg箱线图
- en: 'Also, you may produce a boxplot of mpg by the number of forward gears `*` transmission
    type, with the use of the `*` operation in the `boxplot` function:'
  id: totrans-351
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此外，您可以使用`boxplot`函数中的`*`操作来根据前进档数`*`传动类型生成mpg的箱线图：
- en: '[PRE71]'
  id: totrans-352
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE71]'
- en: '![How to do it...](img/00075.jpeg)'
  id: totrans-353
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何做...](img/00075.jpeg)'
- en: The boxplot of mpg by the gear * transmission type
  id: totrans-354
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 根据齿轮和传动类型绘制mpg的箱线图
- en: 'Next, we use an interaction plot to characterize the relationship between variables:'
  id: totrans-355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们使用交互图来描述变量之间的关系：
- en: '[PRE72]'
  id: totrans-356
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE72]'
- en: '![How to do it...](img/00076.jpeg)'
  id: totrans-357
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何做...](img/00076.jpeg)'
- en: Interaction between the transmission type and the number of gears with the main
    effects, mpg
  id: totrans-358
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 传动类型和齿轮数之间的交互作用以及主要效应mpg
- en: 'We then perform a two-way ANOVA on mpg with a combination of the gear and transmission-type
    factors:'
  id: totrans-359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，我们对mpg执行双向方差分析，结合齿轮和传动类型因素：
- en: '[PRE73]'
  id: totrans-360
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE73]'
- en: 'Similar to a one-way ANOVA, we can perform a post hoc comparison test to see
    the results of the two-way ANOVA model:'
  id: totrans-361
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与一元方差分析类似，我们可以执行事后比较测试来查看双向方差分析模型的结果：
- en: '[PRE74]'
  id: totrans-362
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'We then visualize the differences in mean levels with the `plot` function:'
  id: totrans-363
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，我们使用`plot`函数可视化均值水平的差异：
- en: '[PRE75]'
  id: totrans-364
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE75]'
- en: '![How to do it...](img/00077.jpeg)'
  id: totrans-365
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何做...](img/00077.jpeg)'
- en: The comparison plot of differences in mean levels by the transmission type and
    the number of gears
  id: totrans-366
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 通过传动类型和档位数比较均值水平的差异图
- en: How it works...
  id: totrans-367
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: In this recipe, we perform a two-way ANOVA to examine the influences of the
    independent variables, `gear` and `am`, on the dependent variable, `mpg`. In the
    first step, we use a boxplot to examine the mean of mpg by the number of gears
    and the transmission type. Secondly, we apply an interaction plot to visualize
    the change in mpg through the different numbers of gears with lines separated
    by the transmission type.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 在本菜谱中，我们执行双向方差分析来检验独立变量`gear`和`am`对因变量`mpg`的影响。在第一步中，我们使用箱线图来检查齿轮数和传动类型下的mpg均值。其次，我们应用交互图来可视化通过不同数量的齿轮和传动类型分离的mpg变化。
- en: The resulting plot shows that the number of gears does have an effect on the
    mean of mpg, but does not show a positive relationship either. Thirdly, we perform
    a two-way ANOVA with the `aov` function. The output shows that the p-value of
    the `gear` factor rejects the null hypothesis, while the factor, `transmission
    type`, does not reject the null hypothesis. In other words, cars with different
    numbers of gears are more likely to have different means of mpg. Finally, in order
    to examine which two populations have the largest differences, we perform a post
    hoc analysis, which reveals that cars with four gears and three gears, respectively,
    have the largest difference in terms of the mean, mpg.
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 结果图显示，齿轮数量确实对平均mpg值有影响，但并未显示出正相关关系。第三，我们使用`aov`函数进行双向方差分析。输出结果显示，`gear`因子的p值拒绝了零假设，而`transmission
    type`因子没有拒绝零假设。换句话说，不同齿轮数量的汽车更有可能具有不同的平均mpg值。最后，为了检验哪两个群体之间的差异最大，我们进行了事后分析，结果显示，四档和三档汽车的均值mpg差异最大。
- en: See also
  id: totrans-370
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'For multivariate analysis of variances, the function, `manova`, can be used
    to examine the effect of multiple independent variables on multiple dependent
    variables. Further information about MANOVA is included within the `help` function
    in R:'
  id: totrans-371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于多元方差分析，可以使用`manova`函数来检验多个自变量对多个因变量的影响。关于MANOVA的更多信息可以在R的`help`函数中找到：
- en: '[PRE76]'
  id: totrans-372
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE76]'
