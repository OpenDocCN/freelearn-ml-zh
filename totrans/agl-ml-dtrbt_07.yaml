- en: '*Chapter 5*: Exploratory Data Analysis with DataRobot'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第5章*：使用 DataRobot 进行探索性数据分析'
- en: In this chapter, we will cover tasks related to exploring and analyzing your
    dataset with DataRobot. DataRobot performs many functions that you will need to
    perform this analysis, but it is still up to you to make sense of it.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍与使用 DataRobot 探索和分析您的数据集相关的任务。DataRobot 执行许多您需要执行此分析的功能，但您仍然需要自己理解这些内容。
- en: 'By the end of this chapter, you will have learned how to utilize DataRobot
    to perform **exploratory data analysis** (**EDA**). In this chapter, we''re going
    to cover the following main topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，您将学会如何利用 DataRobot 进行**探索性数据分析**（**EDA**）。在本章中，我们将涵盖以下主要内容：
- en: Data ingestion and data cataloging
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据摄入和数据目录
- en: Data quality assessment
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据质量评估
- en: EDA
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索性数据分析（EDA）
- en: Setting the target feature and correlation analysis
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置目标特征和相关性分析
- en: Feature selection
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 特征选择
- en: Data ingestion and data cataloging
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据摄入和数据目录
- en: Now that we have our datasets ready, we have two choices to bring them into
    DataRobot. We can go to either the **Create New Project / Drag Dataset** page
    (*Figure 1.5*) or the **AI Catalog** page (*Figure 1.17*). If the dataset is relatively
    small, we may prefer to start with the **Create New Project** method. After a
    few iterations, when the dataset has stabilized, you can move it into the **AI
    Catalog** page so that it can be reused in other projects.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经准备好了数据集，我们有两种选择将它们带入 DataRobot。我们可以访问**创建新项目/拖放数据集**页面（*图1.5*）或**AI 目录**页面（*图1.17*）。如果数据集相对较小，我们可能更喜欢从**创建新项目**方法开始。经过几次迭代后，当数据集稳定下来，您可以将其移动到**AI
    目录**页面，以便在其他项目中重用。
- en: 'Let''s start by uploading our automobile dataset as a local file that we created
    in [*Chapter 4*](B17159_04_Final_NM_ePub.xhtml#_idTextAnchor087), *Preparing Data
    for DataRobot*. You can name the project `Automobile Example 1`, as shown in the
    following screenshot:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从上传我们创建的本地文件开始，该文件位于[*第4章*](B17159_04_Final_NM_ePub.xhtml#_idTextAnchor087)，*为
    DataRobot 准备数据*。您可以将项目命名为`Automobile Example 1`，如下面的截图所示：
- en: '![Figure 5.1 – Uploading dataset for a new project'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 5.1 – Uploading dataset for a new project'
- en: '](img/Figure_5.1_B17159.jpg)'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/Figure_5.1_B17159.jpg]'
- en: Figure 5.1 – Uploading dataset for a new project
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: Figure 5.1 – Uploading dataset for a new project
- en: You will notice that DataRobot automatically starts analyzing the data and performs
    a quick exploratory analysis. You can see that it found `30` features and `205`
    rows of data.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 您会注意到 DataRobot 自动开始分析数据并执行快速探索性分析。您可以看到它找到了`30`个特征和`205`行数据。
- en: Note
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 备注
- en: If you are using an Excel file that has multiple sheets, make sure that the
    data you want is in the first sheet.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用的是具有多个工作表的 Excel 文件，请确保您想要的数据在第一个工作表中。
- en: Data quality assessment
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据质量评估
- en: 'DataRobot will also perform a data quality assessment and notify you if it
    finds any data issues, as shown in the following screenshot:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: DataRobot 也会进行数据质量评估，并在发现任何数据问题时通知您，如下面的截图所示：
- en: '![Figure 5.2 – Data quality issues'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 5.2 – Data quality issues'
- en: '](img/Figure_5.2_B17159.jpg)'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/Figure_5.2_B17159.jpg]'
- en: Figure 5.2 – Data quality issues
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.2 – 数据质量问题
- en: In this case, it has found outliers in eight features. You can look into the
    details to see if these look acceptable or if you need to drop or otherwise fix
    these outliers. We will do this as we explore and analyze each of these features
    in the following section.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个案例中，它已经在八个特征中发现了异常值。您可以查看详细信息，看看这些是否看起来可以接受，或者您是否需要删除或以其他方式修复这些异常值。我们将在下一节探索和分析这些特征时进行此操作。
- en: Notice that it also looked for any disguised missing values or excess zeros
    in any feature. These can be hard to detect manually and can be problematic for
    your models, so it is important to fix these issues if they come up. For example,
    you saw in [*Chapter 4*](B17159_04_Final_NM_ePub.xhtml#_idTextAnchor087), *Preparing
    Data for DataRobot,* that we already fixed the issue of excess zeros in the `normalized-losses`
    feature. If we had not done that previously, DataRobot would alert us to fix this
    or filter out those rows before proceeding. It will also perform additional analysis
    once a target feature is selected.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，它还寻找了任何特征中的任何隐藏的缺失值或过多的零。这些可能难以手动检测，并且可能对您的模型造成问题，因此如果出现这些问题，修复这些问题很重要。例如，您在[*第4章*](B17159_04_Final_NM_ePub.xhtml#_idTextAnchor087)，*为
    DataRobot 准备数据*中看到，我们已经修复了`normalized-losses`特征中过多零的问题。如果我们之前没有这样做，DataRobot 会提醒我们修复此问题或过滤掉这些行再继续。它还会在选择目标特征后进行额外的分析。
- en: You will carry out the same process with the Appliances Energy dataset.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 您将对 Appliances Energy 数据集执行相同的流程。
- en: EDA
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: EDA
- en: 'As you saw in the previous section, DataRobot automatically performed an initial
    analysis of the dataset. Let''s see how we will review this data and gain insights
    from it. If you scroll down the page, you will see a table of features and an
    overview of their characteristics, as shown in the following screenshot:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 如您在上一节所见，DataRobot 自动对数据集进行了初步分析。让我们看看我们将如何审查这些数据并从中获得洞察。如果您向下滚动页面，您将看到一个特征表及其特性的概述，如下面的截图所示：
- en: '![Figure 5.3 – Data analysis overview'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.3 – 数据分析概述](img/Figure_5.3_B17159.jpg)'
- en: '](img/Figure_5.3_B17159.jpg)'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.3 – 数据分析概述](img/Figure_5.3_B17159.jpg)'
- en: Figure 5.3 – Data analysis overview
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.3 – 数据分析概述
- en: You can see that in this table, DataRobot has computed and listed any data quality
    concerns regarding a feature, what type of variable it is, how many unique values
    are in the dataset, and how many values are missing. These are all very important
    characteristics, and you need to review all of them to make sure that you understand
    what they are telling you.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以看到，在这个表中，DataRobot 已经计算并列出了关于一个特征的任何数据质量担忧，它是什么类型的变量，数据集中有多少唯一值，以及有多少值是缺失的。这些都是非常重要的特征，您需要审查所有这些以确保您理解它们在告诉您什么。
- en: For example, is the variable type selected by DataRobot what you expected? If
    you look at `num_of_doors`, you will notice that this is categorical. Even though
    this is correct because the data contained is in the form of text, you know that
    this is really numbers. You might want to fix this (just as we did for `num_of_cylinders`
    in [*Chapter 4*](B17159_04_Final_NM_ePub.xhtml#_idTextAnchor087), *Preparing Data
    for DataRobot*). Doing this ahead of time will reduce rework and wasted effort
    downstream. Similarly, you will notice that `num_of_doors` has two missing values.
    If this number were higher, we would have tried to address the missing values,
    as discussed in [*Chapter 4*](B17159_04_Final_NM_ePub.xhtml#_idTextAnchor087),
    *Preparing Data for DataRobot*. Also, pay attention to unique values. For some
    features, we expect many unique values, while for others, we do not. Check if
    what DataRobot found is consistent with your expectations. If not, try to determine
    the reason for this. Pay special attention when a categorical variable has a large
    number of unique values. We will soon discuss how to address this issue.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，DataRobot 选择的变量类型是否如您所期望？如果您查看 `num_of_doors`，您会注意到这是一个分类变量。尽管这是正确的，因为数据是以文本形式存在的，但您知道这实际上是数字。您可能想要修复这个问题（就像我们在[*第4章*](B17159_04_Final_NM_ePub.xhtml#_idTextAnchor087)，*为DataRobot准备数据*中所做的那样）。提前这样做将减少后续的重工作和浪费精力。同样，您会注意到
    `num_of_doors` 有两个缺失值。如果这个数字更高，我们会尝试解决缺失值问题，如[*第4章*](B17159_04_Final_NM_ePub.xhtml#_idTextAnchor087)，*为DataRobot准备数据*中所述。此外，请注意唯一值。对于某些特征，我们期望有许多唯一值，而对于其他特征，我们则不期望。检查DataRobot发现的内容是否与您的期望一致。如果不一致，尝试确定原因。当分类变量具有大量唯一值时，请特别注意。我们很快将讨论如何解决这个问题。
- en: 'For numeric features, you will also see summary statistics such as **Mean**,
    **Median**, **Std Dev** (for standard deviation), **Min**, and **Max**. Review
    these for each feature to see if they all look reasonable. If you click on any
    feature row, it will expand and show more detail, as shown in the following screenshot:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 对于数值特征，您还将看到诸如**平均值**、**中位数**、**标准差**（标准差）、**最小值**和**最大值**之类的汇总统计信息。请为每个特征进行审查，看看它们是否都看起来合理。如果您点击任何特征行，它将展开并显示更多详细信息，如下面的截图所示：
- en: '![Figure 5.4 – Feature details for "symboling"'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.4 – "symboling"特征详情](img/Figure_5.4_B17159.jpg)'
- en: '](img/Figure_5.4_B17159.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.4 – "symboling"特征详情](img/Figure_5.4_B17159.jpg)'
- en: Figure 5.4 – Feature details for "symboling"
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.4 – "symboling"特征详情
- en: 'Here, you can see a histogram of all the values. You can now see how this data
    is distributed. One aspect to pay special attention to is the area where you don''t
    have much data. For example, you can see that the amount of training data available
    for the value `-2` is very limited, so we should expect there to be problems trying
    to predict these values. Now, let''s look at the details of `normalized_losses`
    in the following screenshot:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您可以查看所有值的直方图。现在您可以看到这些数据是如何分布的。需要特别注意的一个方面是您数据较少的区域。例如，您可以看到用于值 `-2` 的训练数据量非常有限，因此我们应预计在尝试预测这些值时会出现问题。现在，让我们看看以下截图中的
    `normalized_losses` 的详细信息：
- en: '![Figure 5.5 – Feature details for "normalized_losses"'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.5 – "normalized_losses"特征详情](img/Figure_5.3_B17159.jpg)'
- en: '](img/Figure_5.5_B17159.jpg)'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.5 – "normalized_losses"特征详情](img/Figure_5.5_B17159.jpg)'
- en: Figure 5.5 – Feature details for "normalized_losses"
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.5 – "normalized_losses"特征详情
- en: 'In this view, we can see that there seem to be very few losses around `make`
    feature to see how it is distributed:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个视图中，我们可以看到似乎在`make`特征周围几乎没有损失，我们可以看到它是如何分布的：
- en: '![Figure 5.6 – Feature details for "make"'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.6 – “make”特征的细节'
- en: '](img/Figure_5.6_B17159.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_5.6_B17159.jpg)'
- en: Figure 5.6 – Feature details for "make"
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.6 – “make”特征的细节
- en: 'Since `make` is a categorical feature, you can see how frequently each value
    shows up. Remember that we had already consolidated some car types that had very
    little data into `other`. If we hadn''t done that, we would notice here that some
    types have very few data points and need to be addressed or they will not do well
    during training. Let''s look at `fuel_type` to see what we can glean from this
    data, as shown in the following screenshot:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 由于`make`是一个分类特征，你可以看到每个值出现的频率。记住，我们之前已经将一些数据非常少的车型合并到了`other`中。如果我们没有这样做，我们会在这里注意到一些类型的数据点非常少，需要解决，否则它们在训练过程中表现不佳。让我们看看`fuel_type`，看看我们能从这些数据中提取什么，如图下所示：
- en: '![Figure 5.7 – Feature details for "fuel_type"'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.7 – “fuel_type”特征的细节'
- en: '](img/Figure_5.7_B17159.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_5.7_B17159.jpg)'
- en: Figure 5.7 – Feature details for "fuel_type"
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.7 – “fuel_type”特征的细节
- en: 'Here, we notice that `diesel` cars are not well represented, and this might
    be normal for cars. Anytime we see such imbalances, we should try to see if they
    can be addressed. Now, when we look at the `engine_location` feature, as shown
    in the following screenshot, we see that we have a problem:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们注意到`diesel`汽车没有得到很好的代表，这可能对汽车来说是正常的。每次我们看到这种不平衡，我们都应该尝试看看是否可以解决。现在，当我们查看`engine_location`特征时，如图下所示，我们发现了一个问题：
- en: '![Figure 5.8 – Feature details for engine_location'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.8 – “engine_location”特征的细节'
- en: '](img/Figure_5.8_B17159.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_5.8_B17159.jpg)'
- en: Figure 5.8 – Feature details for engine_location
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.8 – “engine_location”特征的细节
- en: 'As you can see in the preceding screenshot, the `rear` feature is barely registering
    on the dataset. From a practical standpoint, what this means is that the algorithms
    will ignore this feature. If you did not look carefully, you might assume that
    `engine_location` has no impact on your target, but as you can tell from this
    screenshot, our dataset is not large enough to make that determination. Let''s
    now look in the following screenshot at `engine_type` to see what we find here:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 如您在先前的屏幕截图中所见，`rear`特征在数据集中几乎没有任何记录。从实际的角度来看，这意味着算法将忽略这个特征。如果你没有仔细查看，你可能会认为`engine_location`对你的目标没有影响，但正如您可以从这个屏幕截图中看到的，我们的数据集不足以做出这样的判断。现在，让我们在以下屏幕截图中查看`engine_type`，看看我们在这里发现了什么：
- en: '![Figure 5.9 – Feature details for "engine_type"'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.9 – “engine_type”特征的细节'
- en: '](img/Figure_5.9_B17159.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_5.9_B17159.jpg)'
- en: Figure 5.9 – Feature details for "engine_type"
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.9 – “engine_type”特征的细节
- en: In this case, we find that one type dominates and some of the types are barely
    represented. Looking at this distribution, you might want to create another feature
    where you transform this into a binary value, `ohc` and **1** for every other
    type. This will also create some balance in the dataset.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，我们发现一种类型占主导地位，而某些类型几乎不被代表。观察这个分布，你可能想创建另一个特征，将这个特征转换为二进制值，对于其他类型则为`ohc`和**1**。这也会在数据集中创造一些平衡。
- en: 'Please bear in mind that this might or might not prove to be useful. You have
    to try it out in your models and see what works. Let''s now look in the following
    screenshot at `num_of_cylinders` and `cylinder_count`, a feature that we created
    during data preparation:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，这可能会或可能不会证明是有用的。你必须在你自己的模型中尝试，看看什么有效。现在，让我们在以下屏幕截图中查看`num_of_cylinders`和`cylinder_count`，这是我们数据准备期间创建的一个特征：
- en: '![Figure 5.10 – Feature details for "num_of_cylinders" and "cylinder_count"'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.10 – “num_of_cylinders”和“cylinder_count”特征的细节'
- en: '](img/Figure_5.10_B17159.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_5.10_B17159.jpg)'
- en: Figure 5.10 – Feature details for "num_of_cylinders" and "cylinder_count"
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.10 – “num_of_cylinders”和“cylinder_count”特征的细节
- en: As you can see, even though it is the same data, transforming the values provides
    a different impression compared to what you get when you first look at the histograms.
    The numeric values are a more accurate representation of the data and should result
    in a better model compared to the categorical values.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，尽管数据相同，但转换值与您首次查看直方图时得到的印象不同。数值是对数据的更准确表示，应该比分类值产生更好的模型。
- en: Hopefully, we have highlighted what DataRobot provides automatically and what
    kinds of insights can be gained by looking at the graphs generated by DataRobot.
    We are now ready to set our target feature and do additional analysis.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
- en: Setting the target feature and correlation analysis
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'By the time you reach this stage, you should already have a pretty good idea
    of the problem you are trying to solve and what should be the target feature.
    It is not unusual to use different features as targets for different use cases.
    Also, sometimes you will set a transformed feature as a target (for example, log
    of a feature). For the Automobile dataset, we want to predict the **price** of
    cars. Once you select the target feature, as shown in the following screenshot,
    it will analyze that feature and provide some recommendations:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.11 – Setting target feature'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_5.11_B17159.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
- en: Figure 5.11 – Setting target feature
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: You can see from the preceding screenshot that it is showing how the price is
    distributed. DataRobot also cautions that some of the target values are missing.
    Ideally, we would filter out the rows with missing target values before uploading
    the dataset. You will also notice that DataRobot has characterized this as a regression
    problem. Another thing to note is that it has picked the optimization metric to
    be **Gamma Deviance**. You can read more about this metric in [*Chapter 2*](B17159_02_Final_NM_ePub.xhtml#_idTextAnchor039),
    *Machine Learning Basics*, or you can explore it in more detail in DataRobot's
    help sections. For now, it looks like a good choice, given the wide variance of
    price values.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
- en: Before we click on the **Start** button, we should explore the advanced options.
    The reason for this is that once you click the **Start** button, you cannot make
    changes to the options. Having said that, it is often hard to make all the right
    choices without completely understanding the data. One way to overcome this issue
    is to ignore the advanced options for now and go ahead with the exploration.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: 'Once we know what we want, we can create a new project and select the appropriate
    options. You can see that this is an iterative process, and we will often try
    something and come back and redo some of it. Also, notice that **Modeling Mode**
    in *Figure 5.11* is set to **Quick**. This is normally a good choice to get started.
    With that in mind, we can actually skip the options and go ahead and click the
    **Start** button. You will notice that DataRobot will get started on performing
    additional analysis, as shown in the following screenshot:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.12 – Feature analysis'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_5.12_B17159.jpg)'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: Figure 5.12 – Feature analysis
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
- en: 'You will notice that in addition to performing additional analysis, DataRobot
    will actually start building the models. This might be surprising since we are
    still doing analysis, but fear not—these are not the final models. Let DataRobot
    build these models, as some of these will provide useful insights into our data.
    We will most likely discard these models later on, but they will prove useful
    in our journey. Once DataRobot has finished doing all the tasks, you will see
    an **Autopilot has finished** message, as shown in the following screenshot:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 你会注意到，除了进行额外的分析外，DataRobot实际上已经开始构建模型。这可能令人惊讶，因为我们仍在进行分析，但请放心——这些不是最终模型。让DataRobot构建这些模型，因为其中一些将为我们提供关于数据的有用见解。我们很可能会稍后丢弃这些模型，但它们将在我们的旅程中证明是有用的。一旦DataRobot完成所有任务，你将看到一条**自动驾驶完成**的消息，如下面的截图所示：
- en: '![Figure 5.13 – Initial analysis complete'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.13 – 初始分析完成'
- en: '](img/Figure_5.13_B17159.jpg)'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/Figure_5.13_B17159.jpg)'
- en: Figure 5.13 – Initial analysis complete
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.13 – 初始分析完成
- en: 'You will now notice that DataRobot has populated an **Importance** column for
    all the features. This is the relative importance of a feature in reference to
    the target feature. We can also check to see if there are additional data quality
    issues that have been found. For that, let''s click on the **View info** dropdown
    in the **Data Quality Assessment** box. You will then see the options, as shown
    in the following screenshot:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在会注意到DataRobot为所有特征填充了一个**重要性**列。这是相对于目标特征的特征相对重要性。我们还可以检查是否发现了其他数据质量问题。为此，让我们点击**数据质量评估**框中的**查看信息**下拉菜单。然后你会看到以下截图中的选项：
- en: '![Figure 5.14 – Data Quality Assessment'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.14 – 数据质量评估'
- en: '](img/Figure_5.14_B17159.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/Figure_5.14_B17159.jpg)'
- en: Figure 5.14 – Data Quality Assessment
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.14 – 数据质量评估
- en: 'We saw some of the issues previously, but we now see that there are features
    that potentially have target leakage. If target leakage exists, we will filter
    those features out. By looking at the warning signs associated with each feature,
    we discover that these features are `horsepower` and `engine_size`. Since these
    are important features and have an obvious impact on price, we will retain these
    features. We also see another warning symbol in the header row, as shown in the
    following screenshot:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 我们之前看到了一些问题，但现在我们看到有一些特征可能存在目标泄漏。如果存在目标泄漏，我们将过滤掉这些特征。通过查看与每个特征相关的警告标志，我们发现这些特征是`horsepower`和`engine_size`。由于这些是重要特征，并且对价格有明显的影響，我们将保留这些特征。我们还在表头行中看到了另一个警告符号，如下面的截图所示：
- en: '![Figure 5.15 – Missing target values'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.15 – 缺失的目标值'
- en: '](img/Figure_5.15_B17159.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/Figure_5.15_B17159.jpg)'
- en: Figure 5.15 – Missing target values
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.15 – 缺失的目标值
- en: 'Clicking on the symbol, we see that DataRobot has already filtered out rows
    where the price is missing. This is good, as it means we don''t have to recreate
    our dataset and upload it again into DataRobot. You will also notice in the following
    screenshot that a new tab called **Feature Associations** is now present at the
    top left of the screen. This is a critical tab for our data analysis task. Let''s
    click on this tab to look at what DataRobot has found:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 点击符号，我们看到DataRobot已经过滤掉了价格缺失的行。这是好的，这意味着我们不需要重新创建我们的数据集并将其再次上传到DataRobot。你也会在以下截图中注意到，现在在屏幕的左上角出现了一个新的标签页，称为**特征关联**。这是我们数据分析任务的关键标签页。让我们点击这个标签页来查看DataRobot发现了什么：
- en: '![Figure 5.16 – Feature Association'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.16 – 特征关联'
- en: '](img/Figure_5.16_B17159.jpg)'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/Figure_5.16_B17159.jpg)'
- en: Figure 5.16 – Feature Association
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.16 – 特征关联
- en: DataRobot calls these *associations* instead of *correlations*, and the reason
    is that DataRobot uses `engine` that includes a group of tightly correlated features
    such as `engine_size`, `bore`, `cylinder_size`, and `stroke`. Understanding these
    relationships as a collective can be very important to solving a business problem.
    In this particular case, it tells you that you cannot modify one of these in isolation.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: DataRobot将这些称为*关联*而不是*相关性*，原因在于DataRobot使用`engine`，它包括一组紧密相关的特征，如`engine_size`、`bore`、`cylinder_size`和`stroke`。理解这些关系作为一个整体对于解决商业问题可能非常重要。在这个特定的情况下，它告诉你你不能单独修改这些中的一个。
- en: Changing the bore will affect many other features, even if your model does not
    end up with those features. Ignoring these aspects is what typically leads to
    downstream problems, so please pay special attention to these relationships.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: 'You can gain additional insights by sorting the associations by their importance,
    as shown in the following screenshot:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.17 – Feature associations sorted by importance'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_5.17_B17159.jpg)'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
- en: Figure 5.17 – Feature associations sorted by importance
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
- en: 'The preceding screenshot shows the features sorted by their impact on the target
    feature. This tells you which features are most likely to be prominent in your
    model. One thing to look for is how this lines up with the causal model that you
    built during the problem understanding stage. Is it consistent? If not, where
    are the differences and surprises? These typically lead to new insights into your
    problem. It is also useful to look at the MI values in totality. For this, you
    can click on the `.csv` file. You can then analyze them in tools such as Excel,
    as shown in the following screenshot:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.18 – MI values'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_5.18_B17159.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
- en: Figure 5.18 – MI values
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
- en: 'This gives you a better feel for the relative scale of these values. In this
    view, we can see that aspiration has very little impact on price. This seems a
    little counterintuitive and merits some additional investigation. For this, we
    can look at this association in more detail by clicking on the `price` and `aspiration`
    to see the association details, as shown in the following screenshot:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.19 – Association pair details'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_5.19_B17159.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
- en: Figure 5.19 – Association pair details
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
- en: Here, we can see that for the same value of `aspiration`, the price can vary
    quite a bit. Still, we can see that on average, `turbo` has a higher price. Based
    on this, we will keep it in the mix for modeling. We should also discuss with
    the domain experts to see why it is not correlating in a stronger fashion with
    `price`. These discussions can lead to creating other features that might clarify
    this relationship. On the other hand, the relationship between `price` and `num_of_doors`
    doesn't look very interesting.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
- en: 'It is a good idea to review the association pairs to see what insights can
    be gained. At a minimum, review the ones with very high or very low values. Specifically,
    look for non-linear relationships. For example, let''s look at the association
    between `curb_weight` and `highway_mpg`, as shown in the following screenshot:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.20 – Association between curb_weight and highway_mpg'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
- en: '](img/Figure_5.20_B17159.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
- en: Figure 5.20 – Association between curb_weight and highway_mpg
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
- en: Here, you will notice that as `curb_weight` increases, the **miles per gallon**
    (**MPG**) value decreases, which makes intuitive sense. We also see that the curve
    starts flattening at higher weights. This could be due to many reasons, as other
    factors affecting MPG do not increase with weight.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
- en: 'Note that while this may or may not affect the predictive accuracy of the model,
    understanding these relationships is key to determining actions to be taken based
    on the model. For example, weight reduction might not provide much MPG benefit
    for weights larger than `curb_weight` and `drive _wheels`, as shown in the following
    screenshot:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，虽然这可能会或可能不会影响模型的预测准确性，但理解这些关系是确定基于模型采取的行动的关键。例如，对于大于 `curb_weight` 和 `drive_wheels`
    的重量，减重可能不会为 MPG 带来很多好处，如下面的截图所示：
- en: '![Figure 5.21 – Association between curb_weight and drive_wheels'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 5.21 – curb_weight 和 drive_wheels 之间的关联'
- en: '](img/Figure_5.21_B17159.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_5.21_B17159.jpg)'
- en: Figure 5.21 – Association between curb_weight and drive_wheels
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.21 – curb_weight 和 drive_wheels 之间的关联
- en: In the preceding screenshot, we can see that `curb_weight` is impacted by the
    choice of `drive_wheels`. It is possible that if we use both these features in
    our model, the model will give a much higher preference to `curb_weight` and might
    find not much value in using `drive_wheels`. Business users might therefore interpret
    `drive_wheels` as not very important.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的截图中，我们可以看到 `curb_weight` 受 `drive_wheels` 选择的影响。可能的情况是，如果我们在这两个特征中同时使用我们的模型，模型可能会给予
    `curb_weight` 更高的优先级，并且可能发现 `drive_wheels` 的价值不大。因此，商业用户可能会将 `drive_wheels` 解释为不太重要。
- en: As you can see, this is not true since `curb_weight` is itself influenced by
    `drive_wheels`. It has been observed that an accurate model can sometimes give
    a false impression if you are not careful. DataRobot can do this analysis and
    produce these graphs, but it is up to you to understand and interpret these correctly.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，这并不正确，因为 `curb_weight` 本身受到 `drive_wheels` 的影响。已经观察到，如果不小心，一个精确的模型有时会给出错误的印象。DataRobot
    可以进行这种分析并生成这些图表，但正确理解和解释这些图表的责任在于您。
- en: 'Let''s look again at some of the individual feature graphs we looked at before.
    For this, let''s look at the feature details shown in *Figure 5.13* and click
    on `curb_weight`. This will show us details about the feature, as shown in the
    following screenshot:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们再次查看之前看过的某些单个特征图。为此，让我们查看 *图 5.13* 中显示的特征细节并点击 `curb_weight`。这将显示关于该特征的详细信息，如下面的截图所示：
- en: '![Figure 5.22 – Feature details for curb_weight'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 5.22 – curb_weight 特征细节'
- en: '](img/Figure_5.22_B17159.jpg)'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_5.22_B17159.jpg)'
- en: Figure 5.22 – Feature details for curb_weight
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.22 – curb_weight 特征细节
- en: 'You will notice that we now have some more information in this graph. Specifically,
    we can now see how price varies with `curb_weight` as well as how the `curb_weight`
    value is distributed. Looking at these relationships can give you additional insights
    into your problem, especially when the relationship is non-linear. For example,
    let''s look at the details for `highway_mpg` in the following screenshot:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 您会注意到我们现在在这个图表中有更多信息。具体来说，我们现在可以看到价格如何随 `curb_weight` 变化，以及 `curb_weight` 值的分布情况。查看这些关系可以为您提供关于您问题的额外见解，尤其是在关系非线性时。例如，让我们查看以下截图中的
    `highway_mpg` 的详细信息：
- en: '![Figure 5.23 – Feature details for highway_mpg'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 5.23 – highway_mpg 特征细节'
- en: '](img/Figure_5.23_B17159.jpg)'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_5.23_B17159.jpg)'
- en: Figure 5.23 – Feature details for highway_mpg
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.23 – highway_mpg 特征细节
- en: As you can see, the price drops exponentially as the MPG value increases. Given
    this non-linearity, which also seems to be present in other features, it might
    be useful to try creating a new target feature by taking a log of the price. Similarly,
    by looking at the other features, you can get ideas on feature transformations
    that might prove beneficial. Some of you might be wondering why we should do this
    since the new algorithms can handle non-linearity. While that is true, it is still
    better to transform your non-linear problems if it makes sense from a business-understanding
    perspective. Also, it allows the algorithm to focus its computational energy in
    other areas that might otherwise be overlooked.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，价格随着 MPG 值的增加而指数级下降。鉴于这种非线性，这在其他特征中似乎也存在，尝试通过取价格的对数来创建一个新的目标特征可能是有用的。同样，通过查看其他特征，您可以获得有关可能有益的特征转换的想法。有些人可能会想知道为什么我们应该这样做，因为新的算法可以处理非线性。虽然这是真的，但如果从业务理解的角度来看是有意义的，仍然最好将您的非线性问题进行转换。此外，这也允许算法将计算能量集中在其他可能被忽视的领域。
- en: Now that we have understood the features and have transformed them as needed,
    we can focus on selecting a feature set to start the modeling process.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经理解了特征并且根据需要进行了转换，我们可以专注于选择一个特征集来开始建模过程。
- en: Feature selection
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 特征选择
- en: 'The basic idea behind feature selection is to select features that show high
    importance for the target. In addition, we want to remove any features that are
    highly cross-correlated (or have high MI values) to other features. The selected
    set of features are represented as feature lists in DataRobot. If you click on
    the **Feature Lists** menu on the top left of the page, as shown in the following
    screenshot, you will see the feature lists that DataRobot has created for the
    dataset:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 特征选择的背后基本思想是选择对目标具有高重要性的特征。此外，我们还想删除与其他特征高度交叉相关（或具有高 MI 值）的任何特征。所选特征集在 DataRobot
    中表示为特征列表。如果您点击页面左上角的 **特征列表** 菜单，如图下所示，您将看到 DataRobot 为数据集创建的特征列表：
- en: '![Figure 5.24 – Feature Lists'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 5.24 – 特征列表'
- en: '](img/Figure_5.24_B17159.jpg)'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure_5.24_B17159.jpg]'
- en: Figure 5.24 – Feature Lists
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.24 – 特征列表
- en: 'Here, you will see a list that contains all the raw features, ones that have
    selections based on univariate analysis (that is, analysis of features one at
    a time), and also ones that have the most important features. The **DR Reduced
    Features M8** list or the **Univariate Selections** list look like good starting
    points. Click on the **Project Data** menu to go back to the data view. Now, let''s
    inspect the univariate list by selecting **Univariate Selections** from the **Feature
    List** dropdown, as illustrated in the following screenshot:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您将看到一个包含所有原始特征、基于单变量分析（即逐个分析特征）的选择以及最重要的特征的列表。**DR Reduced Features M8**
    列表或 **Univariate Selections** 列表看起来是良好的起点。点击 **项目数据** 菜单返回数据视图。现在，让我们通过从 **特征列表**
    下拉菜单中选择 **Univariate Selections** 来检查单变量列表，如图下所示：
- en: '![Figure 5.25 – Selecting a feature list'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure 5.25 – 选择特征列表'
- en: '](img/Figure_5.25_B17159.jpg)'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '![Figure_5.25_B17159.jpg]'
- en: Figure 5.25 – Selecting a feature list
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.25 – 选择特征列表
- en: You can now inspect the list of features that have been selected. You can modify
    this list and create new feature lists by dropping any features that you do not
    want to include in this list. As you can see, DataRobot has done much of the feature
    selection for you to get things started. You can remove some more now, or you
    can remove them in the next iteration after you have built an initial set of models.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在可以检查已选定的特征列表。您可以通过删除任何不想包含在此列表中的特征来修改此列表并创建新的特征列表。如您所见，DataRobot 已经为您做了大部分特征选择，以便开始工作。您现在可以删除更多，或者您可以在构建了一组初始模型之后，在下一轮迭代中删除它们。
- en: Interestingly, DataRobot has already built some models with some of these lists,
    which we will explore in the next chapter.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 有趣的是，DataRobot 已经使用其中一些列表构建了一些模型，我们将在下一章中探讨这一点。
- en: Summary
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we learned how to bring data into DataRobot. We learned how
    to assess data quality and to perform EDA by using DataRobot's features. We saw
    how DataRobot makes it very easy to explore data, set up target features, and
    perform correlation (or, more accurately, association analysis).
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们学习了如何将数据带入 DataRobot。我们学习了如何使用 DataRobot 的功能来评估数据质量并执行 EDA（探索性数据分析）。我们看到了
    DataRobot 如何使探索数据、设置目标特征和执行相关性分析（或更准确地说，关联分析）变得非常容易。
- en: We learned how to leverage DataRobot's output to gain a better understanding
    of our problem and dataset, and then how to create feature lists to be used in
    model building. You could do these tasks in Python or R and they are not very
    difficult, but they do consume some time. This time is better served in focusing
    on understanding the problem and the dataset.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 我们学习了如何利用 DataRobot 的输出更好地理解我们的问题和数据集，然后如何创建用于模型构建的特征列表。您可以在 Python 或 R 中执行这些任务，它们并不困难，但确实需要一些时间。这段时间最好用于专注于理解问题和数据集。
- en: 'In the next chapter, we will jump into something that most of you must be waiting
    for: building models.'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将进入大家可能都在期待的事情：构建模型。
