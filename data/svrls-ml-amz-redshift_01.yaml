- en: '1'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '1'
- en: Introduction to Amazon Redshift Serverless
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 亚马逊Redshift无服务器简介
- en: '*“Hey, what’s a data warehouse?”* John Doe, CEO and co-founder of Red.wines,
    a fictional specialty wine e-commerce company, asked Tathya Vishleshak*, the company’s
    CTO. John, who owned a boutique winery, had teamed up with Tathya for the project.
    The company’s success surged during the pandemic, driven by social media and the
    stay-at-home trend. John wanted detailed data analysis to align inventory and
    customer outreach. However, there was a problem – producing this analysis was
    slowing down their **online transaction processing** (**OLTP**) database.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '*“嗨，什么是数据仓库？”* 约翰·多伊，虚构的葡萄酒电子商务公司Red.wines的CEO和联合创始人，问塔西亚·维什莱斯克，公司的CTO。拥有精品酒庄的约翰与塔西亚合作了这个项目。公司在疫情期间的成功得益于社交媒体和居家趋势。约翰希望进行详细的数据分析，以调整库存和客户接触。然而，有一个问题——产生这种分析正在减缓他们的**在线事务处理**（**OLTP**）数据库。'
- en: '*“A data warehouse is like a big database where we store different data for
    a long time to find insights and make decisions,”* Tathya explained.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '*“数据仓库就像一个大型数据库，我们在这里长期存储不同的数据，以便发现洞察和做出决策，”塔西亚解释道。*'
- en: John had a concern, *“Sounds expensive; we’re already paying for unused warehouse
    space. Can we* *afford it?”*
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 约翰有所顾虑，*“听起来很贵；我们已经在为未使用的仓库空间付费了。我们负担得起吗？”*
- en: Tathya reassured him, *“You’re right, but there are cloud data warehouses such
    as Amazon Redshift Serverless that let you pay as* *you use.”*
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 塔西亚安慰他说，*“你说得对，但是有像亚马逊Redshift无服务器这样的云数据仓库，让你按使用付费。”*
- en: Expanding on this, this chapter introduces data warehousing and Amazon Redshift.
    We’ll cover Amazon Redshift Serverless basics, such as namespaces and workgroups,
    and guide you in creating a data warehouse. Amazon Redshift can gather data from
    various sources, mainly Amazon **Simple Storage** **Service** (**S3**).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在此基础上，本章介绍了数据仓库和亚马逊Redshift。我们将涵盖亚马逊Redshift无服务器基础，例如命名空间和工作组，并指导您创建数据仓库。亚马逊Redshift可以从各种来源收集数据，主要是亚马逊**简单存储服务**（**S3**）。
- en: As we go through this chapter, you’ll learn about a crucial aspect of this,
    the AWS **Identity and Access Management** (**IAM**) role, needed for loading
    data from S3\. This role connects to your Serverless namespace for smooth data
    transfer. You’ll also learn how to load sample data and run queries using Amazon
    Redshift query editor. Our goal is to make it simple and actionable, so you’re
    confident in navigating this journey.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们阅读本章的过程中，您将了解这一关键方面，即从S3加载数据所需的AWS **身份和访问管理**（**IAM**）角色。此角色连接到您的无服务器命名空间，以便顺利传输数据。您还将了解如何使用亚马逊Redshift查询编辑器加载数据样本并运行查询。我们的目标是使其简单易行，以便您在这次旅程中充满信心。
- en: Tathya Vishleshak
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: Tathya Vishleshak
- en: The phrase 'Tathya Vishleshak' can be loosely interpreted to reflect the concept
    of a data analyst in Sanskrit/Hindi. However, it's important to note that this
    is not a precise or established translation, but rather an attempt to convey a
    similar meaning based on the individual meanings of the words 'Tathya' and 'Vishleshak'
    in Sanskrit.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: “Tathya Vishleshak”这个短语可以大致理解为梵文/印地语中数据分析师的概念。然而，重要的是要注意，这并不是一个精确或已建立的翻译，而是一种尝试，基于梵文中“Tathya”和“Vishleshak”的个别含义传达相似的意义。
- en: Additionally, Amazon Redshift is used to analyze structured and unstructured
    data in data warehouses, operational databases, and data lakes. It’s employed
    for traditional data warehousing, business intelligence, real-time analytics,
    and machine learning/predictive analytics. Data analysts and developers use Redshift
    data with **machine learning** (**ML**) models for tasks such as predicting customer
    behavior. Amazon Redshift ML streamlines this process using familiar SQL commands.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，亚马逊Redshift用于分析数据仓库、操作数据库和数据湖中的结构化和非结构化数据。它用于传统数据仓库、商业智能、实时分析和机器学习/预测分析。数据分析师和开发人员使用带有**机器学习**（**ML**）模型的Redshift数据执行预测客户行为等任务。亚马逊Redshift
    ML通过使用熟悉的SQL命令简化了这一过程。
- en: The book delves into ML, explaining supervised and unsupervised training. You’ll
    learn about problem-solving with binary classification, multi-class classification,
    and regression using real-world examples. You’ll also discover how to create deep
    learning models and custom models with XGBoost, as well as use time series forecasting.
    The book also covers in-database and remote inferences using existing models,
    applying ML for predictive analytics, and operationalizing machine learning models.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 本书深入探讨机器学习（ML），解释了监督学习和无监督学习。您将通过实际案例学习如何使用二分类、多分类和回归进行问题解决。您还将了解如何使用XGBoost创建深度学习模型和自定义模型，以及如何使用时间序列预测。本书还涵盖了使用现有模型在数据库和远程进行推理，应用机器学习进行预测分析，以及实现机器学习模型。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: What is Amazon Redshift?
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 什么是Amazon Redshift？
- en: Getting started with Amazon Redshift Serverless
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开始使用Amazon Redshift Serverless
- en: Connecting to your data warehouse
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 连接到您的数据仓库
- en: This chapter requires a web browser and access to an AWS account.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 本章需要网络浏览器和AWS账户访问权限。
- en: What is Amazon Redshift?
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是Amazon Redshift？
- en: Organizations churn out vast troves of customer data along with insights into
    these customers’ interactions with the business. This data gets funneled into
    various applications and stashed away in disconnected systems. A conundrum arises
    when attempting to decipher these data silos – a formidable challenge that hampers
    the derivation of meaningful insights essential for organizational clarity. Adding
    to this complexity, security and performance considerations typically muzzle business
    analysts from accessing data within OLTP systems.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 组织会产生大量客户数据，以及这些客户与业务互动的见解。这些数据被导入各种应用程序并存储在孤立的系统中。当试图解读这些数据孤岛时，会出现一个难题——这是一个巨大的挑战，阻碍了获取对组织清晰度至关重要的有意义的见解。更复杂的是，安全和性能考虑通常使商业分析师无法访问OLTP系统中的数据。
- en: The hiccup is that intricate analytical queries weigh down OLTP databases, casting
    a shadow over their core operations. Here, the solution is the **data warehouse**,
    which is a central hub of curated data, used by business analysts and data scientists
    to make informed decisions by employing the business intelligence and machine
    learning tools at their disposal. These users make use of **Structured Query Language**
    (**SQL**) to derive insights from this data trove. From operational systems, application
    logs, and social media streams to the influx of IoT device-generated data, customers
    channel structured and semi-structured data into organizations’ data warehouses,
    as depicted in *Figure 1**.1*, showcasing the classic architecture of a conventional
    data warehouse.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 但问题是复杂的分析查询会拖累OLTP数据库，给其核心操作蒙上阴影。在这里，解决方案是**数据仓库**，这是一个经过精心整理的数据中心，由商业分析师和数据科学家使用，他们通过利用可用的商业智能和机器学习工具来做出明智的决策。这些用户利用**结构化查询语言**（**SQL**）从这些数据宝库中提取洞察。从运营系统、应用程序日志和社交媒体流到物联网设备生成数据的涌入，客户将结构化和半结构化数据导入组织的数据库仓库，如图*图1.1*所示，展示了传统数据仓库的经典架构。
- en: '![Figure 1.1 – Data warehouse](img/B19071_01_01.jpg)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![图1.1 – 数据仓库](img/B19071_01_01.jpg)'
- en: Figure 1.1 – Data warehouse
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.1 – 数据仓库
- en: Here’s where Amazon Redshift Serverless comes in. It’s a key option within Amazon
    Redshift, a well-managed cloud data warehouse offered by **Amazon Web Services**
    (**AWS**). With cloud-based ease, Amazon Redshift Serverless lets you set up your
    data storage without infrastructure hassles or cost worries. You pay based on
    what you use for compute and storage.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 正是在这里，Amazon Redshift Serverless发挥了作用。它是Amazon Redshift中的一个关键选项，由**亚马逊网络服务**（**AWS**）提供的由云管理的数据仓库。凭借基于云的便捷性，Amazon
    Redshift Serverless让您无需基础设施烦恼或成本担忧即可设置数据存储。您根据使用的计算和存储付费。
- en: 'Amazon Redshift Serverless goes beyond convenience, propelling modern data
    applications that seamlessly connect to the data lake. Enter the data lake – a
    structure that gathers all data strands under one roof, providing limitless space
    to store data at any scale, cost-effectively. Alongside other data repositories
    such as data warehouses, data lakes redefine how organizations handle data. And
    this is where it all comes together – the following diagram shows how Amazon Redshift
    Serverless injects SQL-powered queries into the data lake, driving a dynamic data
    flow:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon Redshift Serverless不仅提供了便利，还推动了现代数据应用，这些应用可以无缝连接到数据湖。进入数据湖——一个结构，它将所有数据流汇聚在一起，提供无限空间以任何规模、经济高效地存储数据。与其他数据存储库，如数据仓库一样，数据湖重新定义了组织处理数据的方式。这正是所有这一切汇聚的地方——以下图表显示了Amazon
    Redshift Serverless如何将SQL驱动的查询注入数据湖，驱动动态数据流：
- en: '![Figure 1.2 – Data lake and data warehouse](img/B19071_01_02.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![图1.2 – 数据湖和数据仓库](img/B19071_01_02.jpg)'
- en: Figure 1.2 – Data lake and data warehouse
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.2 – 数据湖和数据仓库
- en: So, let’s get started on creating our first data warehouse in the cloud!
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，让我们开始创建我们第一个云数据仓库吧！
- en: Getting started with Amazon Redshift Serverless
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 开始使用Amazon Redshift Serverless
- en: 'You can create your data warehouse with Amazon Redshift Serverless using the
    `Redshift` in the top bar, as shown in *Figure 1**.3*:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用顶栏中的`Redshift`创建您的数据仓库，如图*图1.3*所示：
- en: '![Figure 1.3 – AWS console page showing services filtered by our search for
    Redshift](img/B19701_01_03.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![图1.3 – AWS控制台页面显示通过我们的Redshift搜索过滤出的服务](img/B19701_01_03.jpg)'
- en: Figure 1.3 – AWS console page showing services filtered by our search for Redshift
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.3 – AWS控制台页面显示通过我们的Redshift搜索过滤出的服务
- en: 'Click on **Amazon Redshift**, which will take you to the home page for the
    Amazon Redshift console, as shown in *Figure 1**.4*. To help get you started,
    Amazon provides free credit for first-time Redshift Serverless customers. So,
    let’s start creating your trial data warehouse by clicking on **Try Amazon Redshift
    Serverless**. If you or your organization has tried Amazon Redshift Serverless
    before, you will have to pay for the service based on your usage:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**Amazon Redshift**，这将带您到Amazon Redshift控制台的主页，如图*图1.4*所示。为了帮助您开始，Amazon为首次使用Redshift
    Serverless的客户提供免费信用额度。因此，让我们通过点击**尝试Amazon Redshift Serverless**来开始创建您的试用数据仓库。如果您或您的组织之前已经尝试过Amazon
    Redshift Serverless，您将需要根据您的使用情况支付服务费用：
- en: '![Figure 1.4 – Amazon Redshift service page in the AWS console](img/B19701_01_04.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![图1.4 – AWS控制台中的Amazon Redshift服务页面](img/B19701_01_04.jpg)'
- en: Figure 1.4 – Amazon Redshift service page in the AWS console
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.4 – AWS控制台中的Amazon Redshift服务页面
- en: 'If you have free credit available, it will be indicated at the top of your
    screen, as in *Figure 1**.5*:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你有可用的免费信用额度，它将在屏幕顶部显示，如图*图1.5*所示：
- en: '![Figure 1.5 – AWS console showing the Redshift Serverless Get started page](img/B19701_01_05.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![图1.5 – AWS控制台显示Redshift Serverless入门页面](img/B19701_01_05.jpg)'
- en: Figure 1.5 – AWS console showing the Redshift Serverless Get started page
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.5 – AWS控制台显示Redshift Serverless入门页面
- en: You can either choose the defaults or use the customized settings to create
    your data warehouse. The customized settings give you more control, allowing you
    to specify many additional parameters for your compute configuration including
    the workgroup, data-related settings such as the namespace, and advanced security
    settings. We will use the customized settings, which will help us customize the
    namespace settings for our Serverless data warehouse. A namespace combined with
    a workgroup is what makes a data warehouse with Redshift Serverless, as we will
    now see in more detail.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以选择默认设置或使用自定义设置来创建您的数据仓库。自定义设置为您提供更多控制权，允许您为计算配置指定许多其他参数，包括工作组、与数据相关的设置，如命名空间，以及高级安全设置。我们将使用自定义设置，这将帮助我们自定义Serverless数据仓库的命名空间设置。命名空间与工作组的结合是Redshift
    Serverless数据仓库的要素，正如我们现在将更详细地看到的那样。
- en: What is a namespace?
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 命名空间是什么？
- en: Amazon Redshift Serverless provides a separation of storage and compute for
    a data warehouse. A **namespace** is a collection of all your data stored in the
    database such as your tables, views, database users, and their privileges. You
    are separately charged for storage based on the size of the data stored in your
    data warehouse. For compute, you are charged for the capacity used over a given
    duration in **Redshift processing hours** (**RPU**) on a per second-basis. The
    storage capacity is billed as **Redshift managed storage** (**RMS**) and is billed
    by GB/month. You can view [https://aws.amazon.com/redshift/pricing/](https://aws.amazon.com/redshift/pricing/)
    for detailed pricing for your AWS Region.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: Amazon Redshift Serverless 为数据仓库提供了存储和计算的分离。**命名空间** 是您在数据库中存储的所有数据的集合，例如您的表、视图、数据库用户及其权限。您将根据存储在您的数据仓库中数据的存储大小分别计费。对于计算，您将根据在
    **Redshift 处理小时**（**RPU**）中使用的容量按秒计费。存储容量按 **Redshift 管理存储**（**RMS**）计费，并按 GB/月计费。您可以在
    [https://aws.amazon.com/redshift/pricing/](https://aws.amazon.com/redshift/pricing/)
    查看您 AWS 区域的详细定价信息。
- en: 'As a data warehouse admin, you can change the name of your data warehouse namespace
    while creating the namespace. You can also change your encryption settings, audit
    logging, and AWS IAM permissions, as shown in *Figure 1**.6*. The primary reason
    we are going to use customized settings is to associate an IAM role with the namespace:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 作为数据仓库管理员，您可以在创建命名空间时更改您的数据仓库命名空间名称。您还可以更改您的加密设置、审计日志和 AWS IAM 权限，如图 *图 1**.6*
    所示。我们将使用自定义设置的主要原因是为了将 IAM 角色与命名空间关联：
- en: '![Figure 1.6 – Namespace configuration](img/B19701_01_06.jpg)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.6 – 命名空间配置](img/B19701_01_06.jpg)'
- en: Figure 1.6 – Namespace configuration
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.6 – 命名空间配置
- en: AWS IAM allows you to specify which users or services can access other services
    and resources in AWS. We will use that role for loading data from **S3** and training
    a machine learning model with Redshift ML that accesses **Amazon SageMaker**.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: AWS IAM 允许您指定哪些用户或服务可以访问 AWS 中的其他服务和资源。我们将使用该角色从 **S3** 加载数据，并使用 Redshift ML
    训练机器学习模型，该模型访问 **Amazon SageMaker**。
- en: 'If you have already created an IAM role earlier, you can associate with that
    IAM role. If you have not created an IAM role, do so now by selecting the **Manage
    IAM roles** option, as shown in *Figure 1**.7*:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您之前已经创建了一个 IAM 角色，您可以将它关联到该 IAM 角色。如果您还没有创建 IAM 角色，请现在通过选择如图 *图 1**.7* 所示的
    **“管理 IAM 角色”** 选项来创建它：
- en: '![Figure 1.7 – Creating an IAM role and associating it via the AWS console](img/B19701_01_07.jpg)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.7 – 通过 AWS 控制台创建 IAM 角色并将其关联](img/B19701_01_07.jpg)'
- en: Figure 1.7 – Creating an IAM role and associating it via the AWS console
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.7 – 通过 AWS 控制台创建 IAM 角色并将其关联
- en: 'Then, select the **Create IAM role** option, as shown in *Figure 1**.8*:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，选择如图 *图 1**.8* 所示的 **“创建 IAM 角色”** 选项：
- en: '![Figure 1.8 – Selecting the “Create IAM role” option](img/B19701_01_08.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.8 – 选择“创建 IAM 角色”选项](img/B19701_01_08.jpg)'
- en: Figure 1.8 – Selecting the “Create IAM role” option
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.8 – 选择“创建 IAM 角色”选项
- en: 'You can then create a default IAM role and provide appropriate permissions
    to the IAM role to allow it to access S3 buckets, as shown in *Figure 1**.9*:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，您可以创建一个默认 IAM 角色并为 IAM 角色提供适当的权限，以便它能够访问 S3 存储桶，如图 *图 1**.9* 所示：
- en: '![Figure 1.9 – Granting S3 permissions to the IAM role](img/B19701_01_09.jpg)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.9 – 授予 IAM 角色S3权限](img/B19701_01_09.jpg)'
- en: Figure 1.9 – Granting S3 permissions to the IAM role
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.9 – 授予 IAM 角色S3权限
- en: As shown in the preceding figure, select **Any S3 bucket** to enable Redshift
    to read data from and write data to all S3 buckets you have created. Then, select
    **Create IAM role as default** to create the role and set it as the default IAM
    role.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 如前图所示，选择 **任何 S3 存储桶** 以启用 Redshift 从您创建的所有 S3 存储桶中读取和写入数据。然后，选择 **创建 IAM 角色作为默认角色**
    以创建角色并将其设置为默认 IAM 角色。
- en: '![Figure 1.10 – An IAM role was created but is not yet applied](img/B19701_01_10.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.10 – 已创建 IAM 角色，但尚未应用](img/B19701_01_10.jpg)'
- en: Figure 1.10 – An IAM role was created but is not yet applied
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.10 – 已创建 IAM 角色，但尚未应用
- en: As shown in *Figure 1**.10*, we created the IAM role and associated it with
    the namespace as a default role. Let’s next proceed to create a workgroup, wherein
    we will set up the compute configuration for the data warehouse.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 如 *图 1**.10* 所示，我们已创建 IAM 角色并将其作为默认角色关联到命名空间。接下来，我们将继续创建一个工作组，在该工作组中我们将设置数据仓库的计算配置。
- en: What is a workgroup?
  id: totrans-57
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作组是什么？
- en: As we discussed earlier, a namespace combined with a workgroup is what makes
    a Redshift Serverless data warehouse. A **workgroup** provides the compute resources
    required to process your data. It also provides the endpoint for you to connect
    to the warehouse. As an admin, you need to configure the compute settings such
    as the network and security configuration for the workgroup.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们之前讨论的，命名空间与工作组的组合构成了 Redshift Serverless 数据仓库。**工作组**提供了处理您的数据所需的计算资源。它还提供了您连接到仓库的端点。作为管理员，您需要配置工作组的计算设置，例如网络和安全配置。
- en: 'We will not do any customization at this time and simply select the default
    settings instead, including the VPC and associated subnets for the workgroup,
    as shown in the following screenshot:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在不会进行任何自定义，而是简单地选择默认设置，包括工作组的 VPC 和相关子网，如图所示：
- en: '![Figure 1.11 – Default settings and associated subnets for the workgroup](img/B19701_01_11.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.11 – 工作组默认设置和相关子网](img/B19701_01_11.jpg)'
- en: Figure 1.11 – Default settings and associated subnets for the workgroup
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.11 – 工作组默认设置和相关子网
- en: 'Click on the **Save configuration** button to create your Redshift Serverless
    instance, and your first data warehouse will be ready in a few minutes:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 点击 **保存配置** 按钮以创建您的 Redshift Serverless 实例，您的第一个数据仓库将在几分钟内准备就绪：
- en: '![Figure 1.12 – Redshift Serverless creation progress](img/B19701_01_12.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.12 – Redshift Serverless 创建进度](img/B19701_01_12.jpg)'
- en: Figure 1.12 – Redshift Serverless creation progress
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.12 – Redshift Serverless 创建进度
- en: 'Once your data warehouse is ready, you will be redirected to your Serverless
    dashboard, as shown in *Figure 1**.13*:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您的数据仓库准备就绪，您将被重定向到您的 Serverless 仪表板，如图 *图 1**.13* 所示：
- en: '![Figure 1.13 – Serverless dashboard showing your namespace and workgroup](img/B19701_01_13.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.13 – 显示您的命名空间和工作组的服务器无仪表板](img/B19701_01_13.jpg)'
- en: Figure 1.13 – Serverless dashboard showing your namespace and workgroup
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.13 – 显示您的命名空间和工作组的服务器无仪表板
- en: Now that we have created our data warehouse, we will connect to the data warehouse,
    load some sample data, and run some queries.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经创建了我们的数据仓库，我们将连接到数据仓库，加载一些示例数据，并运行一些查询。
- en: Connecting to your data warehouse
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 连接到您的数据仓库
- en: Your data warehouse with Redshift Serverless is now ready. You can connect to
    your data warehouse using third-party tools via JDBC/ODBC/Python drivers. Other
    options include the **Data API** or the embedded **Redshift query** **editor v2**.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Redshift Serverless 的您的数据仓库现在已准备就绪。您可以通过 JDBC/ODBC/Python 驱动程序使用第三方工具连接到您的数据仓库。其他选项包括
    **数据 API** 或内嵌的 **Redshift 查询编辑器 v2**。
- en: Using Amazon Redshift query editor v2
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用 Amazon Redshift 查询编辑器 v2
- en: Now that your data warehouse is ready; let’s navigate to the query editor to
    load some sample data and run some queries. Select the **Query data** option from
    your dashboard, as shown in *Figure 1**.13,* and you will be navigated to the
    query editor, as shown in *Figure 1**.14*.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您的数据仓库已准备就绪；让我们导航到查询编辑器，加载一些示例数据并运行一些查询。从您的仪表板中选择 **查询数据** 选项，如图 *图 1**.13*
    所示，您将被导航到查询编辑器，如图 *图 1**.14* 所示。
- en: '![Figure 1.14 – Query editor](img/B19701_01_14.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.14 – 查询编辑器](img/B19701_01_14.jpg)'
- en: Figure 1.14 – Query editor
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.14 – 查询编辑器
- en: In the Redshift query editor v2 console, on the left pane, you will see the
    data warehouses, such as the **Serverless:default** workgroup, that you have access
    to. Click on the workgroup (**Serverless:default**) to connect to the data warehouse.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Redshift 查询编辑器 v2 控制台中，在左侧面板中，您将看到您有权访问的数据仓库，例如 **Serverless:default** 工作组。点击工作组（**Serverless:default**）以连接到数据仓库。
- en: '![Figure 1.15 – Creating a connection to your workgroup](img/B19701_01_15.jpg)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.15 – 创建到您工作组的连接](img/B19701_01_15.jpg)'
- en: Figure 1.15 – Creating a connection to your workgroup
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.15 – 创建到您工作组的连接
- en: 'As shown in the preceding screenshot, select **Federated user** if you did
    not specify any database credentials while creating the namespace, and then click
    **Create connection**. You can leave the database name as **dev**. You will be
    prompted to create a connection only when connecting to the data warehouse for
    the first time. If you have created the connection, you will be connected automatically
    when you click on the workgroup. Once you are connected, you will see the databases
    in the navigator, as shown in *Figure 1**.16*:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 如前述截图所示，如果在创建命名空间时未指定任何数据库凭据，请选择**联邦用户**，然后点击**创建连接**。您可以将数据库名称保留为**dev**。您只需在首次连接到数据仓库时创建连接。如果您已创建连接，则在点击工作组时将自动连接。一旦连接，您将在导航器中看到数据库，如图
    *图 1**.16* 所示：
- en: '![Figure 1.16 – List of databases](img/B19701_01_16.jpg)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.16 – 数据库列表](img/B19701_01_16.jpg)'
- en: Figure 1.16 – List of databases
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.16 – 数据库列表
- en: Since we just created our data warehouse for the first time, there is no data
    present in it, so let’s load some sample data into the data warehouse now.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们刚刚首次创建了数据仓库，其中没有数据，所以现在让我们将一些样例数据加载到数据仓库中。
- en: Loading sample data
  id: totrans-82
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 加载样例数据
- en: 'On the left pane, click on the **sample_data_dev** database to expand the available
    database:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在左侧面板中，单击**sample_data_dev**数据库以展开可用的数据库：
- en: '![Figure 1.17 – The Redshift query editor v2 navigator that shows the sample
    data available](img/B19701_01_17.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.17 – 显示可用样例数据的 Redshift 查询编辑器 v2 导航器](img/B19701_01_17.jpg)'
- en: Figure 1.17 – The Redshift query editor v2 navigator that shows the sample data
    available
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.17 – 显示可用样例数据的 Redshift 查询编辑器 v2 导航器
- en: 'As you can see from the preceding screenshot, three sample datasets are available
    for you to load into your data warehouse. Click on the icon showing the folder
    with an arrow located to the right of your chosen sample data notebook to load
    and open it, as shown in *Figure 1**.18*:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 如前述截图所示，有三个样例数据集可供您加载到您的数据仓库中。单击您选择的样例数据笔记本右侧带有箭头的文件夹图标以加载和打开它，如图 *图 1**.18*
    所示：
- en: '![Figure 1.18 – List of sample databases](img/B19701_01_18.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.18 – 样例数据库列表](img/B19701_01_18.jpg)'
- en: Figure 1.18 – List of sample databases
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.18 – 样例数据库列表
- en: 'You will be prompted to create your sample database. Click on **Create** to
    get started, as shown in *Figure 1**.19*:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 您将被提示创建您的样例数据库。单击**创建**以开始，如图 *图 1**.19* 所示：
- en: '![Figure 1.19 – Creating a sample database](img/B19701_01_19.jpg)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.19 – 创建样例数据库](img/B19701_01_19.jpg)'
- en: Figure 1.19 – Creating a sample database
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.19 – 创建样例数据库
- en: 'The sample data will be loaded in a few seconds and presented in a notebook
    with SQL queries for the dataset that you can explore, as shown in *Figure 1**.20*:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 样例数据将在几秒钟内加载，并以 SQL 查询笔记本的形式呈现，您可以探索数据集，如图 *图 1**.20* 所示：
- en: '![Figure 1.20 – Notebook with sample queries for the tickit database](img/B19701_01_20.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.20 – tickit 数据库的样例查询笔记本](img/B19701_01_20.jpg)'
- en: Figure 1.20 – Notebook with sample queries for the tickit database
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.20 – tickit 数据库的样例查询笔记本
- en: You can expand the navigation tree on the left side of the query editor to view
    schemas and database objects, such as tables and views in your schema, as shown
    in *Figure 1**.21*.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以展开查询编辑器左侧的导航树以查看架构和数据库对象，例如您架构中的表和视图，如图 *图 1**.21* 所示。
- en: '![Figure 1.21 – Expanding the navigation tree to view schemas and database
    objects](img/B19701_01_21.jpg)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.21 – 展开导航树以查看架构和数据库对象](img/B19701_01_21.jpg)'
- en: Figure 1.21 – Expanding the navigation tree to view schemas and database objects
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.21 – 展开导航树以查看架构和数据库对象
- en: 'You can click on a table to view the table definitions, as shown in *Figure
    1**.22*:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以单击表以查看表定义，如图 *图 1**.22* 所示：
- en: '![Figure 1.22 – Table definitions](img/B19701_01_22.jpg)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.22 – 表定义](img/B19701_01_22.jpg)'
- en: Figure 1.22 – Table definitions
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.22 – 表定义
- en: 'Right-clicking on a table provides additional **Select table**, **Show table
    definition**, and **Delete** options, as shown in *Figure 1**.23*:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 右键单击表提供额外的**选择表**、**显示表定义**和**删除**选项，如图 *图 1**.23* 所示：
- en: "![Figure 1.23 – Right-click\uFEFFing on a table to view more options](img/B19701_01_23.jpg)"
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.23 – 右键单击表以查看更多选项](img/B19701_01_23.jpg)'
- en: Figure 1.23 – Right-clicking on a table to view more options
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.23 – 右键单击表以查看更多选项
- en: You can click **Run all,** as shown in *Figure 1**.24,* to run all the queries
    in the sample notebook. The query editor provides a notebook interface to add
    annotation, and SQL cells organize your queries in a single document. You can
    use annotations for documentation purposes.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以点击**运行全部**，如图*图1.24*所示，来运行示例笔记本中的所有查询。查询编辑器提供了一个笔记本界面来添加注释，SQL单元格将你的查询组织在一个文档中。你可以用于文档目的的注释。
- en: '![Figure 1.24 – The “Run all” option](img/B19701_01_24.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![图1.24 – “运行全部”选项](img/B19701_01_24.jpg)'
- en: Figure 1.24 – The “Run all” option
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.24 – “运行全部”选项
- en: 'You will see the results of your queries for each cell. You can download the
    results as JSON or CSV files to your desktop, as shown in *Figure 1**.25*:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 你将看到每个单元格的查询结果。你可以将结果下载为JSON或CSV文件到你的桌面，如图*图1.25*所示：
- en: '![Figure 1.25 – Options to download query results](img/B19701_01_25.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![图1.25 – 下载查询结果选项](img/B19701_01_25.jpg)'
- en: Figure 1.25 – Options to download query results
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.25 – 下载查询结果选项
- en: Let’s author our first query.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们编写我们的第一个查询。
- en: Running your first query
  id: totrans-111
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 运行你的第一个查询
- en: 'We want to find out the top 10 events by sales in the `tickit` database. We
    will run the following SQL statement in the data warehouse:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 我们想要找出`tickit`数据库中按销售额排名前10的事件。我们将在数据仓库中运行以下SQL语句：
- en: '[PRE0]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'In the query editor, add a new query by clicking on the **+** sign and selecting
    **Editor** from the menu that appears. If you wanted to create a new notebook,
    you could click on **Notebook** instead, as shown in *Figure 1**.26*:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在查询编辑器中，通过点击**+**符号并从出现的菜单中选择**编辑器**来添加一个新的查询。如果你想要创建一个新的笔记本，你可以点击**笔记本**，如图*图1.26*所示：
- en: '![Figure 1.26 – Creating a new query](img/B19701_01_26.jpg)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![图1.26 – 创建新查询](img/B19701_01_26.jpg)'
- en: Figure 1.26 – Creating a new query
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.26 – 创建新查询
- en: 'Now, type the preceding SQL query in the editor and then click on **Run**.
    You will get the results as shown in the following screenshot:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在编辑器中输入前面的SQL查询，然后点击**运行**。你将得到以下截图所示的结果：
- en: '![Figure 1.27 – Query with results](img/B19701_01_27.jpg)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![图1.27 – 带结果的查询](img/B19701_01_27.jpg)'
- en: Figure 1.27 – Query with results
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.27 – 带结果的查询
- en: 'As the saying goes, *“A picture is worth a thousand words,”* and query editor
    allows you to visualize the results to gain faster insight. You can create a chart
    easily by clicking on the **Chart** option and then selecting the chart you want.
    Let’s select a scatter plot, as shown in *Figure 1**.28*:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 正如俗话所说，“一图胜千言”，查询编辑器允许你可视化结果以获得更快的洞察。你可以通过点击**图表**选项然后选择你想要的图表来轻松创建图表。让我们选择一个散点图，如图*图1.28*所示：
- en: '![Figure 1.28 – Using charts in Redshift query editor v2](img/B19701_01_28.jpg)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![图1.28 – 在Redshift查询编辑器v2中使用图表](img/B19701_01_28.jpg)'
- en: Figure 1.28 – Using charts in Redshift query editor v2
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.28 – 在Redshift查询编辑器v2中使用图表
- en: 'You can add a chart name and notations for the *X* and *Y* axes and export
    the chart as PNG or JPG to put in your presentation or to share with your business
    partners:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以为X轴和Y轴添加图表名称和注释，并将图表导出为PNG或JPG格式，用于演示文稿或与业务伙伴分享：
- en: '![Figure 1.29 – Charting options in query editor v2](img/B19701_01_29.jpg)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![图1.29 – 查询编辑器v2中的图表选项](img/B19701_01_29.jpg)'
- en: Figure 1.29 – Charting options in query editor v2
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.29 – 查询编辑器v2中的图表选项
- en: As you have now seen, you can use Redshift query editor v2 to create your own
    database, create tables, load data, and run and author queries and notebooks.
    You can share your queries and notebooks with your team members.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，你可以使用Redshift查询编辑器v2创建自己的数据库，创建表，加载数据，运行和编写查询和笔记本。你可以与团队成员分享你的查询和笔记本。
- en: Summary
  id: totrans-127
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned about cloud data warehouses and Amazon Redshift
    Serverless. You created your first data warehouse powered by Redshift Serverless
    and loaded some sample data using the query editor. You also learned how to use
    the query editor to run queries and visualize data to produce insights.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了关于云数据仓库和Amazon Redshift Serverless的内容。你创建了第一个由Redshift Serverless提供动力的数据仓库，并使用查询编辑器加载了一些示例数据。你还学习了如何使用查询编辑器运行查询和可视化数据以产生洞察。
- en: In [*Chapter 2*](B19071_02.xhtml#_idTextAnchor027), you will learn the best
    techniques for loading data and performing analytics in your Amazon Redshift Serverless
    data warehouse.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 在[*第二章*](B19071_02.xhtml#_idTextAnchor027)中，你将学习在Amazon Redshift Serverless数据仓库中加载数据和执行分析的最佳技术。
