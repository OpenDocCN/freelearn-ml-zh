- en: Chapter 5. Data Preparation
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第5章 数据准备
- en: 'In practical scenarios, most of the time you would find that the data available
    for predictive analysis is not fit for the purpose. This is primarily because
    of two reasons:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在实际场景中，大多数时候你会发现，用于预测分析的数据不适合这个目的。这主要是由于两个原因：
- en: In the real world, data is always messy. It usually has lots of unwanted items,
    such as missing values, duplicate records, data in different formats, data scattered
    all around, and so on.
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在现实世界中，数据总是杂乱的。它通常有很多不希望出现的项目，如缺失值、重复记录、不同格式的数据、散布在各个地方的数据等等。
- en: Quite often, data is either required in a proper format or needs some preprocessing
    so that it is ready before we apply machine learning algorithms to it for predictive
    analysis.
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 很常见，数据要么需要以适当的格式提供，要么需要一些预处理，以便在我们应用机器学习算法进行预测分析之前准备好。
- en: So, you need to prepare your data or transform your data to make it fit for
    the required analysis. ML Studio comes with different options to prepare your
    data, and in this chapter, you will explore options to preprocess data for some
    of the common scenarios and ways to prepare data when necessary modules are not
    readily available with ML Studio. This chapter aims to familiarize you with these
    options to provide you with an overview of the practical use of most of these
    options, which you will find in the subsequent chapters.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，你需要准备你的数据或转换你的数据，使其适合所需的分析。ML Studio提供了不同的数据准备选项，在本章中，你将探索为一些常见场景预处理数据的方法，以及当必要的模块在ML
    Studio中不可用时的数据准备方式。本章旨在使你熟悉这些选项，为你提供一个关于这些选项实际应用的概述，这些选项你将在随后的章节中找到。
- en: Data manipulation
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据操作
- en: You may need to manipulate data to transform it to the required format. The
    following are some of the frequently used scenarios and modules available.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能需要操作数据以将其转换为所需的格式。以下是一些常用的场景和可用的模块。
- en: Clean Missing Data
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 清理缺失数据
- en: Clean missing data and missing values in data are probably the most common problems
    you need to fix before data analysis. When missing values are present, certain
    algorithms may not work or you may not have the desired result. So, you need to
    get rid of the missing values either by replacing them with some logical values
    or by removing the existing row(s) or column(s).
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 清理缺失数据和缺失值可能是你在数据分析之前需要解决的最常见问题。当存在缺失值时，某些算法可能无法工作，或者你可能无法得到期望的结果。因此，你需要通过用一些逻辑值替换它们，或者删除现有的行或列来消除缺失值。
- en: 'ML Studio comes with a module, **Clean Missing Data**, to solve this exact
    problem. It lets you either remove the rows or columns that have missing values
    or lets you replace the values in the rows and columns with one of the these:
    mean, median, mode, custom values, a value that uses the probabilistic form of
    **Principal Component Analysis** (**PCA**), or **Multiple Imputation by Chained
    Equations** (**MICE**). MICE is a statistical technique that updates each column
    using an appropriate algorithm after initializing the missing entries with a default
    value. These updates are repeated a number of times and are specified by the `Number
    of Iterations` parameter. The default option is to replace the values of the rows
    and columns with a custom value, where you can specify a placeholder value, such
    as `0` or `NA` that is applied to all missing values. You should be careful that
    the value you specify matches the data type of the column.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ML Studio提供了一个名为**清理缺失数据**的模块，用于解决这个确切问题。它允许你删除具有缺失值的行或列，或者允许你用以下之一替换行和列中的值：平均值、中位数、众数、自定义值、使用**主成分分析**（**PCA**）的概率形式或**链式方程多重插补**（**MICE**）的值。MICE是一种统计技术，它使用适当的算法在用默认值初始化缺失条目后更新每一列。这些更新会重复多次，并由`迭代次数`参数指定。默认选项是用自定义值替换行和列的值，你可以指定一个占位符值，例如`0`或`NA`，该值应用于所有缺失值。你应该小心，你指定的值与列的数据类型相匹配。
- en: The first output of the module is the cleaned dataset while the second one outputs
    the transformation that is to be passed to the module to clean new data. You can
    find the **Clean Missing Data** module under **Data Transformation** | **Manipulation**
    in the module palette.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 模块的第一个输出是清理后的数据集，第二个输出是要传递给模块以清理新数据的转换。你可以在模块调色板中的**数据转换** | **操作**下找到**清理缺失数据**模块。
- en: '![Clean Missing Data](img/0792EN_05_01.jpg)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![清理缺失数据](img/0792EN_05_01.jpg)'
- en: In the last parameter, if you select the check box for **Generate missing value
    indicator column**, then it will add a new column for each column containing missing
    values and will indicate the same for each row it finds a missing value for.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在最后一个参数中，如果您勾选了**生成缺失值指示列**的复选框，那么它将为每个包含缺失值的列添加一个新列，并且对于它找到的每个缺失值行，都会进行相同的指示。
- en: Removing duplicate rows
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 移除重复行
- en: You use the **Remove** **Duplicate Rows** module to remove duplicate rows from
    the input dataset based on the list of columns you specify. Two rows are considered
    duplicates if the values of all the included columns are equal. This module also
    takes an input, that is, the **Retain first duplicate row** checkbox, as an indicator
    that specifies whether to keep the first row of a set of duplicates and discard
    others or to keep the last duplicate row encountered and discard the rest.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 您使用**移除重复行**模块根据您指定的列列表从输入数据集中移除重复行。如果所有包含的列的值都相等，则认为两行是重复的。此模块还接受一个输入，即**保留第一个重复行**复选框，作为指示符，指定是否保留一组重复的第一行并丢弃其他行，或者保留遇到的最后一个重复行并丢弃其余行。
- en: '![Removing duplicate rows](img/0792EN_05_14.jpg)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![移除重复行](img/0792EN_05_14.jpg)'
- en: Project columns
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 项目列
- en: You can use the **Project** **Columns** module when you have to choose specific
    columns in a dataset for your analysis. Based on your requirements, you can do
    this either by excluding all columns and including a few columns. Alternatively,
    you can start with including all the columns and excluding a few.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 当您需要在数据集中选择特定列进行分析时，可以使用**项目列**模块。根据您的需求，您可以通过排除所有列并包含几个列来实现这一点。或者，您可以从包含所有列开始，然后排除几个列。
- en: '![Project columns](img/0792EN_05_02.jpg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![项目列](img/0792EN_05_02.jpg)'
- en: The preceding screenshot illustrates how the **Projects Columns** module just
    excludes one column from the given dataset. Also notice that you can tick the
    checkbox on the top, if you like, to keep the duplicate rows' and columns' order
    in the selection.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的截图说明了**项目列**模块是如何从给定的数据集中排除一个列的。同时请注意，如果您喜欢，可以勾选顶部的复选框，以保持选择中重复行和列的顺序。
- en: The Metadata Editor module
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 元数据编辑器模块
- en: 'The **Metadata Editor** module allows you to change the metadata of one or
    more columns in a dataset. You can change the following for a given dataset:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '**元数据编辑器**模块允许您更改数据集中一个或多个列的元数据。对于给定的数据集，您可以更改以下内容：'
- en: You can change the Datatype of columns; for example, string to integer
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以更改列的数据类型；例如，从字符串更改为整数
- en: You can change the type of columns to categorical or noncategorical; for example,
    one column may contain user IDs, which are integers, but you may consider them
    as categorical
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以将列的类型更改为分类或非分类；例如，一个列可能包含用户ID，它们是整数，但您可能认为它们是分类的
- en: You can change the consideration of column(s) as features or a label; for example,
    if one dataset has a column that contains income of a population you are interested
    making a prediction, you may want to consider it as a label or target variable
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以更改列的考虑方式，将其视为特征或标签；例如，如果一个数据集有一个包含您感兴趣进行预测的群体收入的列，您可能希望将其视为标签或目标变量
- en: You can change the name of a column
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以更改列的名称
- en: 'Let''s take a look at the following screenshot which explains the various functions
    provided by the **Metadata Editor** module:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看以下截图，它解释了**元数据编辑器**模块提供的各种功能：
- en: '![The Metadata Editor module](img/0792EN_05_03.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![元数据编辑器模块](img/0792EN_05_03.jpg)'
- en: The Add Columns module
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**添加列**模块'
- en: The **Add Columns** module takes two datasets as input and concatenates both
    by combining all columns from the two datasets to create a single dataset. The
    resulting dataset will have the sum of the columns of both input datasets.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '**添加列**模块接受两个数据集作为输入，并通过组合两个数据集的所有列来连接它们，以创建一个单一的数据集。结果数据集将包含两个输入数据集列的总和。'
- en: 'To add columns of two datasets to a single dataset, you need to keep in mind
    the following:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 要将两个数据集的列添加到单一数据集中，您需要记住以下几点：
- en: The columns in each dataset must have the same number of rows.
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个数据集中的列必须具有相同数量的行。
- en: All the columns from each dataset are concatenated when you use the **Add Columns**
    option. If you want to add only a subset of the columns, use the **Project Columns**
    module on the result set to create a dataset with the columns you want.
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当您使用**添加列**选项时，将连接每个数据集中的所有列。如果您只想添加列的子集，请使用结果集上的**项目列**模块来创建包含您想要的列的数据集。
- en: If there are two columns with the same name, then a numeric suffix will be added
    to the column name that comes from the right-hand side input.![The Add Columns
    module](img/0792EN_05_04.jpg)
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果有两个具有相同名称的列，则将从右侧输入的列名称添加一个数字后缀。![添加列模块](img/0792EN_05_04.jpg)
- en: The Add Rows module
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**添加行**模块'
- en: The **Add Rows** module takes two datasets as input and concatenates them by
    appending the rows of the second dataset after the first dataset.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**添加行**模块接受两个数据集作为输入，并通过在第一个数据集之后附加第二个数据集的行来连接它们。'
- en: 'To add rows of two datasets to a single dataset, you need keep in mind of the
    following:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 要将两个数据集的行添加到单个数据集中，您需要记住以下事项：
- en: Both the datasets must have the same number of columns
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两个数据集必须具有相同数量的列
- en: 'The resulted dataset will have the sum of the number of rows of both the input
    datasets:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 结果数据集将包含两个输入数据集行数的总和：
- en: '![The Add Rows module](img/0792EN_05_05.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![添加行模块](img/0792EN_05_05.jpg)'
- en: The Join module
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**Join**模块'
- en: 'The **Join** module lets you join two datasets. If you are familiar with RDBMS,
    then you may find it similar to SQL-like join operations; however, no SQL knowledge
    is required to use it. You can perform the following kinds of join operation:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**Join**模块允许您合并两个数据集。如果您熟悉RDBMS，那么您可能会发现它与类似SQL的连接操作相似；然而，使用它不需要SQL知识。您可以执行以下类型的连接操作：'
- en: '**Inner Join**: This is a typical join operation. It returns the combined rows
    only when the values of the key columns match.'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**内连接**：这是一个典型的连接操作。只有当键列的值匹配时，它才返回组合行。'
- en: '**Left Outer Join**: This returns the joined rows for all the rows from the
    left-hand side table. When a row in the left-hand side table has no matching rows
    in the right-hand side table, the returned row contains the missing values of
    all the columns coming from the right-hand side table.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**左外连接**：此操作返回左侧表中的所有行的连接行。当左侧表中的某一行在右侧表中没有匹配行时，返回的行包含来自右侧表的所有列的缺失值。'
- en: '**Full Outer Join**: This returns the joined rows from both datasets with first
    the result from the **Inner Join** operation and then appends the rows with a
    mismatch.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**全外连接**：此操作返回两个数据集的连接行，首先是**内连接**操作的结果，然后附加不匹配的行。'
- en: '**Left Semi-Join**: This returns just the row from the left-hand side table
    when the values of the key column(s) match.![The Join module](img/0792EN_05_06.jpg)'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**左半连接**：当键列（复数）的值匹配时，它仅返回左侧表中的行。![Join模块](img/0792EN_05_06.jpg)'
- en: Splitting data
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据拆分
- en: 'Quite often, you would need to split your dataset; most commonly, you would
    need to split a given dataset for analysis into train and test dataset. ML Studio
    comes with a **Split** module for this purpose. It lets you split your dataset
    into two datasets based on a specified fraction. So, if you choose **0.8**, it
    outputs the first dataset with 80 percent of the input dataset, and the rest 20
    percent as second output. You also have an option to split the data randomly.
    You can specify a random seed value other than 0 if you need to get the same result
    in a random split every time you run it. You can find the **Split** module under
    **Data Transformation** | **Sample**, and then Split it in the module palette:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 很常见，您需要拆分您的数据集；最常见的是，您需要将给定的数据集拆分为用于分析的训练集和测试集。ML Studio为此目的提供了一个**拆分**模块。它允许您根据指定的分数将数据集拆分为两个数据集。因此，如果您选择**0.8**，则输出第一个数据集，包含输入数据集的80%，其余20%作为第二个输出。您还可以选择随机拆分数据。如果您需要在每次运行时都获得相同的结果，则可以指定一个非0的随机种子值。您可以在**数据转换**
    | **样本**下找到**拆分**模块，然后在模块调色板中拆分它：
- en: '![Splitting data](img/0792EN_05_07.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![数据拆分](img/0792EN_05_07.jpg)'
- en: Notice that the last parameter, **Stratified split**, is **False** by default,
    and you make it **True** only when you go for a stratified split, which means
    it groups first and then randomly selects rows from each strata (group). In this
    case, you need to specify the **Stratification key** column based on which grouping
    will be made.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，最后一个参数**分层拆分**默认为**False**，只有当您进行分层拆分时才将其设置为**True**，这意味着它首先分组，然后从每个组（层）中随机选择行。在这种情况下，您需要根据**分层键**列指定分组依据。
- en: 'You can also specify different Splitting modes as the parameter instead of
    specifying default split rows, such as:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以指定不同的拆分模式作为参数，而不是指定默认的拆分行数，例如：
- en: '**The Recommender Split**: You can choose this when you need to split data
    to use it as train and test data in a recommendation model.'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**推荐拆分**：当您需要将数据拆分以在推荐模型中使用作为训练和测试数据时，可以选择此选项。'
- en: '**The Regular Expression**: You can use this option to specify a regular expression
    to split the dataset into two sets of rows—rows with values matching the expression
    and all the remaining rows. The regular expression is applied only to the specified
    column in the dataset. This splitting option is helpful for a variety of pre-preprocessing
    and filtering tasks. For example, you can apply a filter on all rows containing
    the text *Social* by applying the following regular expression to a string column
    *text Social*.'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**正则表达式**：你可以使用此选项指定正则表达式，将数据集分成两行集——匹配表达式的行和所有剩余的行。正则表达式仅应用于数据集中的指定列。此拆分选项对于各种预预处理和过滤任务很有帮助。例如，你可以通过将以下正则表达式应用于字符串列
    *text Social* 来过滤包含文本 *Social* 的所有行。'
- en: '**The Relative Expression**: You can use this option and create relational
    expressions that act as filters on numerical columns; for example, the following
    expression selects all rows where the values in the column are greater than 2000,
    such as *ColumnName>2000*.'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**相对表达式**：你可以使用此选项创建作为数值列过滤器的关联表达式；例如，以下表达式选择所有列值大于 2000 的行，如*ColumnName>2000*。'
- en: Do it yourself
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 自己动手做
- en: 'Start a new experiment and drag the sample dataset, the **Adult Census Income
    Binary Classification** dataset, from the module palette under the **Saved Datasets**
    group. Then, do the following:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 开始一个新的实验，并将来自**保存的数据集**组下的**成人人口普查收入二分类**数据集拖到模块调色板中。然后，执行以下操作：
- en: Visualize the dataset and find out all the columns that have missing values
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可视化数据集并找出所有具有缺失值的列
- en: Use the **Clean Missing Data** module to replace the missing values with 0
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用**清理缺失数据**模块用 0 替换缺失值
- en: On the result dataset of the previously used **Metadata Editor** module, select
    all the columns except income and identify them as feature fields
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在之前使用的**元数据编辑器**模块的结果数据集中，选择除收入外的所有列，并将它们识别为特征字段
- en: On the result dataset of the previously used the **Split** module, split the
    dataset into 80 percent and 20 percent using the same module
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在之前使用的**分割**模块的结果数据集中，使用相同的模块将数据集分成 80% 和 20%
- en: Run the experiment and visualize the dataset from both the output ports of the
    **Split** module
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行实验并从**分割**模块的输出端口可视化数据集
- en: 'Your experiment may look like the following:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 你的实验可能看起来像以下这样：
- en: '![Do it yourself](img/0792EN_05_13.jpg)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![自己动手做](img/0792EN_05_13.jpg)'
- en: The Apply SQL Transformation module
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**应用 SQL 转换**模块'
- en: The **Apply SQL Transformation** module lets you run a SQL query on the input
    dataset(s) and get the desired result. You can find it under **Data Transformation**
    | **Manipulation** in the module palette. The module can take one, two, or three
    datasets as inputs. The dataset coming from input 1 can be referenced as **t1**.
    Similarly, you can refer to datasets from input 2 and input 3 as **t2** and **t3**,
    respectively. On the properties of the module, the **Apply SQL Transformation**
    module takes only a parameter as a SQL query. The syntax of the SQL it supports
    is based on the SQLite standard.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '**应用 SQL 转换**模块允许你在输入数据集上运行 SQL 查询并获取所需的结果。你可以在模块调色板中的**数据转换** | **操作**下找到它。该模块可以接受一个、两个或三个数据集作为输入。来自输入
    1 的数据集可以引用为**t1**。同样，你可以将来自输入 2 和输入 3 的数据集分别引用为**t2**和**t3**。在模块属性中，**应用 SQL 转换**模块只接受一个参数作为
    SQL 查询。它支持的 SQL 语法基于 SQLite 标准。'
- en: In the following illustration, the module takes data from two datasets, joins
    them, and selects fewer columns. It also generates calculated columns by applying
    an aggregation function, AVG.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下示例中，该模块从两个数据集中获取数据，将它们连接起来，并选择较少的列。它还通过应用聚合函数 AVG 生成计算列。
- en: '![The Apply SQL Transformation module](img/0792EN_05_15.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![应用 SQL 转换模块](img/0792EN_05_15.jpg)'
- en: If you are already familiar with SQL, you may find this module very handy for
    data transformation.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你已经熟悉 SQL，你可能会觉得这个模块在数据转换方面非常实用。
- en: Advanced data preprocessing
  id: totrans-68
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 高级数据预处理
- en: ML Studio also comes with advanced data processing options. The following are
    some of the common options that are discussed in brief.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: ML Studio 还提供了高级数据处理选项。以下是一些简要讨论的常见选项。
- en: Removing outliers
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 移除异常值
- en: Outliers are data points that are distinctly separate from the rest of the data.
    Outliers, if present in your dataset, may cause problems by distorting your predictive
    model that may result in an unreliable prediction of the data. In many cases,
    it is a good idea to clip or remove the outliers.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 异常值是与数据中的其他数据点明显不同的数据点。如果您的数据集中存在异常值，它们可能会通过扭曲您的预测模型而导致不可靠的数据预测。在许多情况下，剪裁或删除异常值是一个好主意。
- en: ML Studio comes with the **Clip Values** module, which detects outliers and
    lets you clip or replace values with a threshold, mean, median, or missing value.
    By default, it is applied to all the numeric columns, but you can select one or
    more columns. You can find it by navigating to **Data Transformation** | **Scale**
    and then **Reduce** in the module palette.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: ML Studio附带**剪裁值**模块，该模块检测异常值，并允许您使用阈值、平均值、中位数或缺失值剪裁或替换值。默认情况下，它应用于所有数值列，但您可以选择一个或多个列。您可以通过导航到**数据转换**|**缩放**然后**减少**在模块调色板中找到它。
- en: '![Removing outliers](img/0792EN_05_08.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![移除异常值](img/0792EN_05_08.jpg)'
- en: Data normalization
  id: totrans-74
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据归一化
- en: 'Often, different columns in a dataset come in different scales; for example,
    you may have a dataset with two columns: age, with values ranging from 15 to 95,
    and annual income, with values ranging from $30,000 to $300,000\. This may be
    problematic in some cases where certain machine algorithms require data to be
    in the same scale.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，数据集中的不同列具有不同的尺度；例如，您可能有一个包含两个列的数据集：年龄，其值范围从15到95，以及年收入，其值范围从$30,000到$300,000。在某些情况下，这可能会成为问题，因为某些机器算法要求数据具有相同的尺度。
- en: 'ML Studio comes with the **Normalize Data** module, which applies a mathematical
    function to numeric data to make dataset values conform to a common scale; for
    example, transforming all numeric columns to have values between 0 to 1\. By default,
    the module is applied to all numeric columns, but you can select one or more columns.
    Also, you can choose from the following mathematical functions:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: ML Studio附带**归一化数据**模块，该模块将数学函数应用于数值数据，使数据集的值符合一个共同的尺度；例如，将所有数值列的值转换为介于0到1之间。默认情况下，该模块应用于所有数值列，但您可以选择一个或多个列。您还可以从以下数学函数中选择：
- en: Z-Score
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Z分数
- en: Min-max
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最小-最大
- en: Logistic
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逻辑回归
- en: Log-normal
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对数正态
- en: Tanh![Data normalization](img/0792EN_05_09.jpg)
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tanh![数据归一化](img/0792EN_05_09.jpg)
- en: The Apply Math Operation module
  id: totrans-82
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 应用数学运算模块
- en: Sometimes, you may need to perform a mathematical operation on your dataset
    as a part of your data preparation. In ML Studio, you can use the **Apply Math
    Operation** module, which takes a dataset as input and returns a data table where
    elements of the selected columns have been transformed by the specified math operation.
    For unary operations, such as Abs(x), the operation is applied to each of the
    elements. For binary operations, such as Subtract(x, y), two selections of columns
    are required and the result is computed over pairs of elements between columns.
    It gives you a range of mathematical functions grouped under different categories.
    By default, it is applied to all numeric columns, but you can select one or more
    columns. You can find it under the **Statistical Functions** module in the module
    palette.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，您可能需要将数学运算应用于数据集作为数据准备的一部分。在ML Studio中，您可以使用**应用数学运算**模块，该模块接受数据集作为输入，并返回一个数据表，其中所选列的元素已通过指定的数学运算进行转换。对于一元运算，如Abs(x)，运算应用于每个元素。对于二元运算，如Subtract(x,
    y)，需要选择两列，并在列之间的元素对上计算结果。它提供了一系列分组在不同类别下的数学函数。默认情况下，它应用于所有数值列，但您可以选择一个或多个列。您可以在模块调色板中的**统计函数**模块下找到它。
- en: '![The Apply Math Operation module](img/0792EN_05_10.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![应用数学运算模块](img/0792EN_05_10.jpg)'
- en: Feature selection
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 特征选择
- en: Not all features or columns in a dataset have the same predictive power. There
    are times when data contains many redundant or irrelevant features. Redundant
    features provide no additional information than the currently selected features,
    and irrelevant features provide no useful information in any context. So, it's
    ideal to get rid of redundant or irrelevant features from the dataset before applying
    predictive analysis.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集中的不是所有特征或列都具有相同的预测能力。有时数据中包含许多冗余或不相关的特征。冗余特征不比当前选定的特征提供更多信息，而不相关的特征在任何上下文中都不提供有用信息。因此，在应用预测分析之前，从数据集中去除冗余或不相关的特征是理想的。
- en: ML Studio comes with the following two modules for feature selection, which
    takes an input dataset and result dataset with filtered columns or features.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: ML Studio附带以下两个用于特征选择的模块，它们接受一个输入数据集和一个带有过滤列或特征的输出数据集。
- en: The Filter Based Feature Selection module
  id: totrans-88
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**基于过滤的特征选择**模块'
- en: 'The **Filter** **Based Feature** **Selection** module uses different statistical
    tests to determine a subset of features with the highest predictive power. You
    can find it under **Feature Selection** in the module palette. It takes a dataset
    as input that contains two or more feature columns. The first output is a dataset
    containing the top N predictive-powered features (columns). The second output
    is a dataset containing the scores assigned to the selected columns (scalars).
    This module selects the important features from a dataset based on the following
    heuristic option that you''ve chosen:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '**基于过滤的特征选择**模块使用不同的统计测试来确定具有最高预测能力的特征子集。您可以在模块调色板中的**特征选择**下找到它。它接受一个包含两个或更多特征列的数据集作为输入。第一个输出是一个包含前N个预测能力强的特征（列）的数据集。第二个输出是一个包含分配给所选列的分数（标量）的数据集。此模块根据您选择的以下启发式选项从数据集中选择重要特征：'
- en: Pearson's correlation option
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 皮尔逊相关选项
- en: Mutual information option
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 互信息选项
- en: Kendall's correlation option
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kendall相关选项
- en: Spearman's correlation option
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Spearman相关选项
- en: Chi squared option
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 卡方选项
- en: Fisher score option
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 费舍尔评分选项
- en: Count based option
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于计数的选项
- en: Pearson's correlation is the default option in the **Filter Based Feature Selection**
    module. It works with numeric, logical, and categorical string columns. You should
    note that all the heuristics or scoring methods don't work with all types of data.
    So, your selection of the scoring method depends, in part, on the type of data
    you have. For more details on these scoring methods, you may refer to the product
    documentation.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 皮尔逊相关系数是**基于过滤的特征选择**模块的默认选项。它与数值、逻辑和分类字符串列一起工作。请注意，所有启发式或评分方法并不适用于所有类型的数据。因此，您选择的评分方法部分取决于您拥有的数据类型。有关这些评分方法的更多详细信息，您可以参考产品文档。
- en: '![The Filter Based Feature Selection module](img/0792EN_05_11.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![基于过滤的特征选择模块](img/0792EN_05_11.jpg)'
- en: The Fisher Linear Discriminant Analysis module
  id: totrans-99
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**费舍尔线性判别分析**模块'
- en: The **Fisher** **Linear Discriminant** **Analysis** module finds a linear combination
    of features that characterizes or separates two or more classes of objects or
    events. The resulting combination is usually used for dimensionality reduction
    before or after the classification. You can find it under **Feature Selection**
    in the module palette.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '**费舍尔** **线性判别分析**模块找到一组特征线性组合，该组合表征或区分两个或多个对象或事件类别。得到的组合通常用于在分类前后进行降维。您可以在模块调色板中的**特征选择**下找到它。'
- en: '![The Fisher Linear Discriminant Analysis module](img/0792EN_05_12.jpg)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![费舍尔线性判别分析模块](img/0792EN_05_12.jpg)'
- en: Data preparation beyond ready-made modules
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 超出现成模块的数据准备
- en: Though ML Studio comes with many data preprocessing modules, you may come across
    situations when the available modules don't solve your needs. These are the times
    you may need to write code in R or Python, run them in ML Studio, and make this
    part of your experiment. You can find more information on how to write code and
    extend ML Studio in [Chapter 10](ch10.html "Chapter 10. Extensibility with R and
    Python"), *Extensibility with R and Python*.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然ML Studio附带了许多数据预处理模块，但您可能会遇到可用模块无法满足您需求的情况。在这些时候，您可能需要用R或Python编写代码，在ML Studio中运行它们，并将这部分作为您的实验的一部分。您可以在[第10章](ch10.html
    "第10章。使用R和Python进行扩展") *使用R和Python进行扩展*中找到有关如何编写代码和扩展ML Studio的更多信息。
- en: It is recommended, as of now, that you do any data preparation inside ML Studio
    if your data size is within a couple of gigabytes (GB). If you are dealing with
    more data, then you should prepare your data outside ML Studio, say, using an
    SQL database or using big data technologies, such as Microsoft's cloud-based Hadoop
    service **HDInsight**. Then, you should consume the prepared data inside ML Studio
    for predictive analytics.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 目前建议，如果您的数据大小在几GB以内，您应该在ML Studio内部进行任何数据准备。如果您处理的数据更多，那么您应该在ML Studio外部准备数据，例如使用SQL数据库或使用大数据技术，如微软基于云的Hadoop服务**HDInsight**。然后，您应该在ML
    Studio内部消费准备好的数据进行预测分析。
- en: Summary
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In any data analysis task, data preparation consumes most of your time. In this
    chapter, you learned about different data preparation options in ML Studio, starting
    with exploring the importance of data preparation. Then, you familiarized yourself
    with some of the very common data transformation tasks, such as dealing with missing
    values, duplicate values, concatenating rows or columns of two datasets, SQL-like
    joining datasets, selecting columns in a dataset, and splitting a dataset. You
    also learned how to apply SQL queries to transform datasets. You explored some
    of the advanced options of transforming a dataset by applying math functions,
    normalization, and feature selection.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何数据分析任务中，数据准备占据了您大部分的时间。在本章中，您了解了ML Studio中不同的数据准备选项，从探索数据准备的重要性开始。然后，您熟悉了一些非常常见的数据转换任务，例如处理缺失值、重复值、合并两个数据集的行或列、类似SQL的数据集连接、在数据集中选择列以及分割数据集。您还学习了如何应用SQL查询来转换数据集。您还探索了通过应用数学函数、归一化和特征选择来转换数据集的一些高级选项。
- en: In the next chapter, you can start applying the machine learning algorithm and,
    in particular, the regression algorithms that come with ML Studio.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，你可以开始应用机器学习算法，特别是ML Studio附带回归算法。
