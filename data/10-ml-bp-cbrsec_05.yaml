- en: '4'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '4'
- en: Detecting Fake Reviews
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检测虚假评论
- en: Reviews are an important element in online marketplaces as they convey the customer
    experience and their opinions on products. Customers heavily depend upon reviews
    to determine the quality of a product, the truth about various claims in the description,
    and the experiences of other fellow customers. However, in recent times, the number
    of fake reviews has increased. Fake reviews are misleading and fraudulent and
    cause harm to consumers. They are prevalent not only on shopping sites but also
    on any site where there is a notion of reputation through reviews, such as Google
    Maps, Yelp, Tripadvisor, and even the Google Play Store.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 评论是在线市场中的一个重要元素，因为它们传达了顾客的体验和对产品的看法。顾客高度依赖评论来确定产品的质量、描述中各种声明的真实性，以及其他顾客的体验。然而，在最近一段时间里，虚假评论的数量有所增加。虚假评论具有误导性和欺诈性，对消费者造成伤害。它们不仅存在于购物网站上，还存在于任何有通过评论建立信誉概念的地方，如谷歌地图、Yelp、Tripadvisor，甚至谷歌应用商店。
- en: Fraudulent reviews harm the integrity of the platform and allow scammers to
    profit, while genuine users (sellers and customers) are harmed. As data scientists
    in the security space, understanding reputation manipulation and how it presents
    itself, as well as techniques for detecting it, is essential. This chapter focuses
    on examining reputation manipulation through fake reviews.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 欺诈性评论损害了平台的完整性，并允许骗子获利，而真正的用户（卖家和顾客）则受到伤害。作为安全领域的数据科学家，了解信誉操纵及其表现形式，以及检测它的技术是至关重要的。本章重点在于通过虚假评论来考察信誉操纵。
- en: 'In this chapter, we will cover the following main topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主要内容：
- en: Reviews and integrity
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 评论与诚信
- en: Statistical analysis
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 统计分析
- en: Modeling fake reviews with regression
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用回归模型建模虚假评论
- en: By the end of this chapter, you will have a clear understanding of reputation
    manipulation through fake reviews and how they can be detected. You will also
    learn about statistical tests and how to apply them for analysis and how the reviews
    data can be modeled using regression.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将清楚地了解通过虚假评论进行的信誉操纵以及如何检测它们。你还将了解统计测试及其在分析和如何使用回归模型对评论数据进行建模的应用。
- en: Technical requirements
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: You can find the code files for this chapter on GitHub at [https://github.com/PacktPublishing/10-Machine-Learning-Blueprints-You-Should-Know-for-Cybersecurity/tree/main/Chapter%204](https://github.com/PacktPublishing/10-Machine-Learning-Blueprints-You-Should-Know-for-Cybersecurity/tree/main/Chapter%204).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在GitHub上找到本章的代码文件，网址为[https://github.com/PacktPublishing/10-Machine-Learning-Blueprints-You-Should-Know-for-Cybersecurity/tree/main/Chapter%204](https://github.com/PacktPublishing/10-Machine-Learning-Blueprints-You-Should-Know-for-Cybersecurity/tree/main/Chapter%204)。
- en: Reviews and integrity
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 评论与诚信
- en: Let us first look at the importance of online reviews and why fake reviews exist.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们先看看在线评论的重要性以及虚假评论存在的原因。
- en: Why fake reviews exist
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 虚假评论存在的原因
- en: 'E-commerce websites always have reviews for products. Reviews play an important
    role in the online world. Reviews allow consumers to post their experiences and
    facilitate peer-to-peer reputation building. Reviews are important on online platforms
    for several reasons:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 电子商务网站总是对产品有评论。评论在在线世界中扮演着重要角色。评论允许消费者发布他们的体验，并促进同侪间的信誉建立。评论在在线平台上之所以重要，有以下几个原因：
- en: Online reviews provide valuable information to potential customers about the
    quality and performance of a product or service. Customers can read about other
    people’s experiences with a product or service before deciding whether to buy
    it or not.
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在线评论为潜在顾客提供了关于产品或服务质量和性能的有价值信息。顾客在决定是否购买之前，可以阅读其他人关于产品或服务的体验。
- en: Reviews from other customers help build trust between the seller and the buyer.
    Positive reviews can reassure potential customers that a product or service is
    worth buying, while negative reviews can warn them about potential problems.
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 其他顾客的评论有助于建立卖家和买家之间的信任。正面评论可以安慰潜在顾客，让他们相信产品或服务值得购买，而负面评论则可以警告他们可能存在的问题。
- en: Online reviews can provide businesses with valuable feedback about their products
    and services. This feedback can help businesses improve their offerings and customer
    service.
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在线评论可以为商家提供关于其产品和服务有价值的反馈。这种反馈可以帮助商家改进他们的产品和服务。
- en: Online reviews can also help businesses improve their search engine rankings.
    Search engines such as Google take into account the number and quality of reviews
    when ranking websites in search results.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在线评论还可以帮助企业改善其搜索引擎排名。搜索引擎如谷歌在搜索结果中对网站的评论数量和质量进行考量。
- en: It is therefore natural that better reviews imply better sales and more profit
    for the seller. The seller has an incentive to have as many great reviews for
    their product as possible, and this has led to the problem of fake reviews.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，更好的评论意味着更好的销售和更高的利润，这对于卖家来说是自然的。卖家有动力尽可能多地获得关于他们产品的优秀评价，这导致了虚假评论的问题。
- en: 'Fake reviews are reviews that are deliberately written to mislead or deceive
    readers. They can be positive or negative and are usually written by individuals
    or companies who have a vested interest in manipulating the reputation of a product
    or service. Here are some common types of fake reviews:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 虚假评论是有意编写来误导或欺骗读者的评论。它们可以是正面的或负面的，通常由对操纵产品或服务声誉有既得利益的个人或公司编写。以下是一些常见的虚假评论类型：
- en: '**Paid reviews**: Some individuals or companies pay people to write positive
    reviews about their products or services, even if they haven’t used them'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**付费评论**：一些个人或公司支付他人撰写关于他们产品或服务的正面评论，即使他们没有使用过这些产品或服务'
- en: '**Fake negative reviews**: Competitors or individuals with a grudge may write
    fake negative reviews to harm the reputation of a business or product'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**虚假负面评论**：竞争对手或怀有怨恨的个人可能会写虚假负面评论来损害企业或产品的声誉'
- en: '**Review swaps**: Some individuals or companies offer to exchange positive
    reviews with other businesses or individuals to boost their own ratings'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**评论交换**：一些个人或公司提供与其他企业或个人交换正面评论，以提升自己的评分'
- en: '**Review bots**: Some businesses use automated software programs to generate
    large numbers of fake reviews quickly'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**评论机器人**：一些企业使用自动化软件程序快速生成大量虚假评论'
- en: Fake reviews are problematic because they can mislead potential customers into
    making poor purchasing decisions. They can also harm the reputation of businesses
    that rely on genuine customer feedback to improve their products and services.
    Many online platforms have policies in place to detect and remove fake reviews
    to protect the integrity of their review systems. For example, Amazon explicitly
    bans reviewers from receiving any compensation or free products in exchange for
    reviews.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '虚假评论是有问题的，因为它们可能会误导潜在客户做出糟糕的购买决定。它们还可能损害依赖真实客户反馈来改进其产品和服务的企业。许多在线平台都有政策来检测和删除虚假评论，以保护其评论系统的完整性。例如，亚马逊明确禁止评论者因评论而获得任何补偿或免费产品。 '
- en: Evolution of fake reviews
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 虚假评论的演变
- en: The problem of fake reviews and reputation manipulation is not a new one – it
    has existed for decades. However, the nature of fake reviews has changed significantly,
    from bot-generated reviews to crowdsourced reviews and then to incentivized reviews.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 虚假评论和声誉操纵的问题并非新问题——它已经存在了几十年。然而，虚假评论的性质已经发生了显著变化，从机器人生成的评论到众包评论，再到激励性评论。
- en: Bot-generated reviews
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 机器人生成的评论
- en: 'These were the very first form of fake reviews that could be onboarded by sellers
    at scale. Bot-generated reviews are reviews that are created using automated software
    programs, also known as review bots. These bots are designed to generate and post
    a large number of reviews quickly, without any human intervention. These reviews
    have several tell-tale signs:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是卖家可以大规模上线的第一种虚假评论形式。机器人生成的评论是使用自动化软件程序创建的评论，也称为评论机器人。这些机器人被设计成快速生成和发布大量评论，而不需要任何人为干预。这些评论有几个明显的特征：
- en: They are usually generic and lack specific details about the product or service
    being reviewed
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它们通常是通用的，缺乏关于被评论的产品或服务的具体细节
- en: They may use similar language and sentence structures and often have a high
    number of positive ratings
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 他们可能使用类似的语言和句子结构，并且通常拥有很高的正面评价数量
- en: They also exhibit similarities in terms of the IP addresses, subnets, and networks
    that they come from
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它们也表现出来自相同IP地址、子网和网络的特点
- en: Many online platforms have implemented measures to detect and remove bot-generated
    reviews to maintain the integrity of their review systems. Some of these measures
    include using machine learning algorithms to identify patterns in the reviews,
    monitoring for suspicious IP addresses and activity, and requiring reviewers to
    verify their identities.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 许多在线平台已经实施了检测和移除机器人生成评论的措施，以维护其评论系统的完整性。这些措施包括使用机器学习算法来识别评论中的模式，监控可疑的IP地址和活动，以及要求评论者验证其身份。
- en: Crowdsourced reviews
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 群智评论
- en: Knowing that bot-generated reviews were easy to detect by flagging IP addresses
    and other symptoms of automated activity, malicious sellers turned to crowdsourced
    reviews. With this kind of fake reviews, crowd workers are hired simply to write
    hundreds of reviews for products. These individuals are often part of online marketplaces
    or platforms that offer payment in exchange for writing positive reviews about
    products or services. Crowd workers may not have actually used the product or
    service being reviewed and may simply be provided with basic information to write
    a review. Sourced on freelancing and crowd-working websites such as Amazon MTurk
    or Fiverr, these crowd workers work on a commission basis and earn a fee for every
    review they post. Notably, these reviews have certain peculiar characteristics
    as well. As many reviews are written by the same user, they show very high inter-review
    similarity. They also show high burstiness (that is, a sudden spike in the number
    of reviews, corresponding to the time when the crowd worker was hired). These
    signals can be used as features to detect this type of reviews.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 了解机器人生成评论很容易通过标记IP地址和其他自动化活动的症状来检测后，恶意卖家转向了群智评论。这种类型的虚假评论是通过雇佣众包工作者简单地为他们撰写数百条产品评论。这些个人通常是网络市场或平台的成员，这些平台提供以换取撰写关于产品或服务的正面评论的报酬。众包工作者可能实际上并没有使用被评论的产品或服务，他们可能只是被提供基本信息来撰写评论。这些众包工作者在自由职业和众包工作网站上，如Amazon
    MTurk或Fiverr上工作，他们按佣金制度工作，并为每条发布的评论收取费用。值得注意的是，这些评论也有某些特殊特征。由于许多评论是由同一用户撰写的，它们显示出非常高的评论间相似性。它们还显示出高度突发性（即，评论数量的突然增加，对应于众包工作者被雇佣的时间）。这些信号可以用作特征来检测这种类型的评论。
- en: Incentivized reviews
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 激励性评论
- en: These are the latest trend in online fake reviews. Incentivized reviews are
    reviews written by customers who have received some form of compensation or reward
    in exchange for their reviews. This compensation can come in various forms, such
    as free products, discounts, gift cards, refunds, or other incentives. Incentivized
    reviews are often used by companies as a marketing strategy to increase positive
    reviews and ratings of their products or services. By providing incentives to
    customers, companies hope to encourage them to write positive reviews, which can
    then be used to attract more customers and boost sales.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是当前在线虚假评论的最新趋势。激励性评论是由收到某种形式的补偿或奖励以换取其评论的客户撰写的评论。这种补偿可以以各种形式出现，例如免费产品、折扣、礼品卡、退款或其他激励措施。激励性评论通常被公司用作营销策略，以提高其产品或服务的正面评论和评分。通过向客户提供激励，公司希望鼓励他们撰写正面评论，从而吸引更多客户并促进销售。
- en: However, incentivized reviews can be controversial because they can create a
    bias toward positive reviews and may not accurately reflect the true opinions
    of customers. This is because customers who receive incentives may feel obligated
    to write a positive review, even if they did not have a positive experience with
    the product or service. As a result, many review platforms and websites have strict
    policies against incentivized reviews and may remove them from their platforms
    to ensure the integrity of their review system.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，激励性评论可能会引起争议，因为它们可能会产生对正面评论的偏见，并且可能无法准确反映客户的真实意见。这是因为收到激励的客户可能会觉得有义务写一个正面评论，即使他们并没有与产品或服务有愉快的体验。因此，许多评论平台和网站都有严格的反激励性评论政策，并可能将其从其平台上移除，以确保其评论系统的完整性。
- en: Compared to bot-generated or crowdsourced reviews, incentivized reviews are
    less easy to detect. These are written by human users and hence do not show the
    symptoms of automated activity as bots do. As these are real users and not crowd
    workers, these reviews also show less similarity.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 与机器人生成或群智评论相比，激励性评论更难检测。这些评论是由人类用户撰写的，因此不会显示出机器人活动的症状。由于这些是真实用户而不是众包工作者，这些评论也显示出较少的相似性。
- en: Statistical analysis
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 统计分析
- en: In this section, we will try to understand some review data and check whether
    there are any differences between genuine and fake reviews. We will use the Amazon
    fake reviews dataset that Amazon has published on Kaggle. It is a set of around
    20,000 reviews with associated labels (real or fake) as labeled by domain experts
    at Amazon.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将尝试理解一些评论数据，并检查真实评论和虚假评论之间是否存在任何差异。我们将使用亚马逊在Kaggle上发布的亚马逊虚假评论数据集。这是一个大约有20,000条评论的数据集，这些评论由亚马逊领域的专家标注为真实或虚假。
- en: Exploratory data analysis
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 探索性数据分析
- en: We will first load up the data and take a first pass over it to understand the
    features and their distribution.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先加载数据，并对它进行初步浏览，以了解特征及其分布。
- en: 'We begin by importing the necessary libraries:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先导入必要的库：
- en: '[PRE0]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'We will then read the `reviews` data. Although it is a text file, it is structured
    and therefore can be read with the `read_csv` function in Pandas:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们将读取`reviews`数据。尽管它是一个文本文件，但由于它是结构化的，因此可以使用Pandas中的`read_csv`函数读取：
- en: '[PRE1]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'This is what the output should look like:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 这应该是输出应该看起来像的：
- en: '![Figure 4.1 – A glimpse of the reviews dataset](img/B19327_04_01.jpg)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![图4.1 – 评论数据集的概览](img/B19327_04_01.jpg)'
- en: Figure 4.1 – A glimpse of the reviews dataset
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.1 – 评论数据集的概览
- en: Notice the **LABEL** column in the data. Rather than a simple label, it has
    labels of **__label1__** and **__label2__**. Looking at the documentation for
    this dataset, we can see that **__label1__** corresponds to real reviews, and
    **__label2__** to fake ones.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 注意数据中的**标签**列。它不仅仅是一个简单的标签，而是有**__label1__**和**__label2__**这样的标签。查看这个数据集的文档，我们可以看到**__label1__**对应真实评论，而**__label2__**对应虚假评论。
- en: 'For easier understanding, we will transform these labels. We want `0` to correspond
    to a real review, and `1` to a fake one. The following code snippet does this
    for us:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更容易理解，我们将转换这些标签。我们希望`0`对应真实评论，而`1`对应虚假评论。以下代码片段为我们完成了这项工作：
- en: '[PRE2]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The output of this code is as follows. You can see that a new column, **FRAUD_LABEL**,
    with **0** and **1** values has been created.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码的输出如下。您可以看到创建了一个新的列，**FRAUD_LABEL**，其值为**0**和**1**。
- en: '![Figure 4.2 – Dataset with clear labels added](img/B19327_04_02.jpg)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![图4.2 – 添加了清晰标签的数据集](img/B19327_04_02.jpg)'
- en: Figure 4.2 – Dataset with clear labels added
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.2 – 添加了清晰标签的数据集
- en: First, we want to look at the distribution of real and fake reviews. This will
    tell us whether the dataset is balanced. If it is an imbalanced dataset, we may
    have problems in building a classifier. If it is highly imbalanced (such as only
    1% of the reviews being fake), we may want to move from classification to an anomaly
    detection approach.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们想查看真实和虚假评论的分布情况。这将告诉我们数据集是否平衡。如果数据集不平衡，我们可能在构建分类器时遇到问题。如果高度不平衡（例如只有1%的评论是虚假的），我们可能希望从分类转向异常检测方法。
- en: Note that there is a product category feature in the dataset. We want to examine
    how reviews are distributed across categories. We do this because different kinds
    of products may have different kinds of reviews. The nature of fake reviews for
    home apparel might be different from the ones for electronics products. We want
    to look at the distribution to anticipate any bias or generalization concerns.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 注意数据集中有一个产品类别特征。我们想检查评论在不同类别中的分布情况。我们这样做是因为不同类型的产品可能会有不同类型的评论。家居服装的虚假评论的性质可能与电子产品不同。我们想查看分布情况，以预测任何偏差或泛化问题。
- en: 'To do so, we will group the reviews by category, and count the number of reviews
    per category. The result in the form of a bar graph will show us the distribution:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 为了做到这一点，我们将按类别对评论进行分组，并计算每个类别的评论数量。以条形图形式的输出将显示分布：
- en: '[PRE3]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: The output should be as follows. We can see that there are ~30 categories of
    products, and each one has 350 real and 350 fake reviews. This dataset is therefore
    well balanced and we do not need to worry about bias coming from the review category
    feature.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 输出应该如下所示。我们可以看到有大约30个产品类别，每个类别都有350条真实和350条虚假评论。因此，这个数据集是平衡的，我们不需要担心来自评论类别特征的偏差。
- en: '![Figure 4.3 – Review distribution across categories](img/B19327_04_03.jpg)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![图4.3 – 评论在不同类别中的分布](img/B19327_04_03.jpg)'
- en: Figure 4.3 – Review distribution across categories
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.3 – 评论在不同类别中的分布
- en: Next, we want to check how the real and fake reviews are distributed across
    ratings. This is an important factor to consider, and failing to do so can result
    in a biased model. For example, if the dataset is set up so that the fake reviews
    are all 4-star and 5-star and all the real reviews are 1-star and 2-star, our
    model will learn to detect sentiment instead of review authenticity. The sentiment
    will introduce bias into our model and this beats the actual purpose of building
    the model itself.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们想要检查真实和虚假评论在评分上的分布情况。这是一个重要的考虑因素，未能做到这一点可能会导致模型有偏差。例如，如果数据集被设置为所有虚假评论都是四星和五星，而所有真实评论都是一星和二星，那么我们的模型将学会检测情感而不是评论的真实性。情感将引入偏差到我们的模型中，这违背了建立模型本身的实际目的。
- en: 'We will group the reviews by rating and calculate the number of real and fake
    reviews for every rating. Note that this is feasible because there are only five
    classes of ratings and they are discrete:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将按评分对评论进行分组，并计算每个评分的真实和虚假评论数量。请注意，这是可行的，因为评分只有五个类别，它们是离散的：
- en: '[PRE4]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The output is shown as follows. We can see that there is some disparity in the
    number of reviews by rating class (there are only 2,000 1-star reviews whereas
    there are around 12,000 5-star reviews). However, within each class, the number
    of real and fake reviews is roughly equal. Therefore, the data is well distributed
    on the rating front as well.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下所示。我们可以看到，在评分类别（只有 2,000 条一星评论，而大约有 12,000 条五星评论）的数量上存在一些差异。然而，在每个类别中，真实和虚假评论的数量大致相等。因此，数据在评分方面也分布得很好。
- en: '![Figure 4.4 – Review distribution across ratings](img/B19327_04_04.jpg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.4 – 评论在不同评分中的分布](img/B19327_04_04.jpg)'
- en: Figure 4.4 – Review distribution across ratings
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.4 – 评论在不同评分中的分布
- en: 'Finally, we will review the distribution of real and fake reviews by whether
    they are verified or not. A review being verified means that the e-commerce platform
    guarantees that the product was actually purchased by the reviewer, typically
    on the platform itself. We can observe the distribution with the following code
    snippet:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们将根据评论是否经过验证来审查真实和虚假评论的分布。一个评论被验证意味着电子商务平台保证评论者确实购买了该产品，通常是在平台本身上。我们可以通过以下代码片段来观察分布：
- en: '[PRE5]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The output is shown in the following bar plot:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下所示，以下条形图显示了结果：
- en: '![Figure 4.5 – Review distribution across the verified label](img/B19327_04_05.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.5 – 评论在不同验证标签中的分布](img/B19327_04_05.jpg)'
- en: Figure 4.5 – Review distribution across the verified label
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.5 – 评论在不同验证标签中的分布
- en: 'Looking at it, we observe two interesting occurrences:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 观察它，我们发现两个有趣的现象：
- en: In the verified reviews, the percentage of genuine (real) reviews is higher
    than the fake ones. There are almost 9,000 real reviews, but only around 3,000
    fake ones. This means that only 25% of verified reviews are fake.
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在验证评论中，真实（真实）评论的百分比高于虚假评论。有近 9,000 条真实评论，但只有大约 3,000 条虚假评论。这意味着只有 25% 的验证评论是虚假的。
- en: In the non-verified reviews, we see that the trend is reversed. There are almost
    7,000 fake reviews and approximately 1,800 real reviews. Therefore, almost 80%
    of non-verified reviews are fake.
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在非验证评论中，我们看到趋势是相反的。有近 7,000 条虚假评论和大约 1,800 条真实评论。因此，几乎 80% 的非验证评论是虚假的。
- en: This trend is natural. It is simpler for a bot or review service to trivially
    generate non-verified reviews. However, generating a verified review involves
    actually buying the product, which incurs additional expenses.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 这种趋势是自然的。对于机器人或评论服务来说，简单地生成非验证评论要简单得多。然而，生成一个验证评论实际上需要购买产品，这会产生额外的费用。
- en: Feature extraction
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 特征提取
- en: In this section, we will extract some features from the `reviews` data. The
    goal is to characterize fake reviews by certain signals or trends they may exhibit.
    Here, we build these features using our intuition, as well as leveraging prior
    research in the field.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将从 `reviews` 数据中提取一些特征。目标是通过对某些信号或趋势的特征化来表征虚假评论。在这里，我们利用直觉以及该领域的先前研究来构建这些特征。
- en: 'First, we will write a function to extract the length of the review. This function
    first checks whether the review text is empty. If so, it returns `0`. If not,
    it returns the number of words in the review:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将编写一个函数来提取评论的长度。这个函数首先检查评论文本是否为空。如果是，则返回 `0`。如果不是，则返回评论中的单词数量：
- en: '[PRE6]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Next, we will write a function to compute the average word length in the review.
    To do so, we will split the review into individual words, add up their lengths,
    and divide by the total number of words to compute the mean. Of course, we must
    first check that the review is not empty:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将编写一个函数来计算评论中平均单词长度。为此，我们将评论拆分成单个单词，将它们的长度相加，然后除以单词总数来计算平均值。当然，我们必须首先检查评论是否为空：
- en: '[PRE7]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Another feature we will derive is the number of words spelled incorrectly in
    the review. We will use the `enchant` Python library for this. The `enchant` Python
    library is a module that provides an interface to the `enchant` spellchecking
    system. `enchant` is a C/C++ library that provides a unified interface for several
    different spellchecking engines, including Aspell, Hunspell, and MySpell. `enchant`
    can be used from within your Python code to perform spellchecking on text. `enchant`
    provides a number of useful features for spellchecking, including suggestions
    for misspelled words, the ability to add and remove words from a user dictionary,
    and the ability to work with multiple languages.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将推导出的另一个特征是评论中拼写错误的单词数量。我们将使用`enchant` Python库来完成这项工作。`enchant` Python库是一个模块，它提供了一个到`enchant`拼写检查系统的接口。`enchant`是一个C/C++库，它为几个不同的拼写检查引擎提供了一个统一的接口，包括Aspell、Hunspell和MySpell。`enchant`可以从你的Python代码中用来对文本进行拼写检查。`enchant`为拼写检查提供了一些有用的功能，包括对拼写错误的单词的建议、能够从用户字典中添加和删除单词，以及能够处理多种语言。
- en: To use `enchant` in your Python code, you first need to install the `enchant`
    library on your system. This can be done using the Python `pip` utility. Once
    installed, you can import the `enchant` module into your Python code and use the
    provided functions to perform spell checking.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的Python代码中使用`enchant`，首先需要在你的系统上安装`enchant`库。这可以通过Python的`pip`工具完成。安装完成后，你可以将`enchant`模块导入到你的Python代码中，并使用提供的函数来执行拼写检查。
- en: 'To derive our feature, we will split the review into words, and count the number
    of words that are incorrectly spelled:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 为了推导我们的特征，我们将评论拆分成单词，并计算拼写错误的单词数量：
- en: '[PRE8]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Finally, now that we have defined the functions to extract features, it is time
    to put them to use. We will efficiently compute the features for each review in
    our DataFrame using the `apply()` function in Pandas.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，现在我们已经定义了提取特征的功能，是时候将它们投入使用。我们将使用Pandas库中的`apply()`函数高效地计算DataFrame中每个评论的特征。
- en: The `apply()` function in the pandas library is used to apply a given function
    to every element of a pandas DataFrame, Series, or column. It can be used to transform,
    filter, or aggregate the data in the DataFrame, and is a powerful tool for data
    manipulation.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: pandas库中的`apply()`函数用于将给定的函数应用于pandas DataFrame、Series或列中的每个元素。它可以用来转换、过滤或聚合DataFrame中的数据，是数据操作的一个强大工具。
- en: The `apply()` function takes a function as an argument, which is applied to
    every element in the DataFrame. The function can be defined by the user or can
    be a built-in Python function. In this case, we will use the custom functions
    we defined earlier. The `apply()` function also has some optional arguments that
    can be used to customize its behavior, such as its axis (to specify whether to
    apply the function row-wise or column-wise) and arguments (to pass additional
    arguments to the function).
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '`apply()`函数接受一个函数作为参数，该函数应用于DataFrame中的每个元素。该函数可以由用户定义，也可以是内置的Python函数。在这种情况下，我们将使用我们之前定义的自定义函数。`apply()`函数还有一些可选参数，可以用来自定义其行为，例如其轴（指定是按行还是按列应用函数）和参数（向函数传递额外的参数）。'
- en: 'Here is how we will use it:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我们将如何使用它的方法：
- en: '[PRE9]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: This completes our feature-engineering code. You can, of course, add more features
    if you wish to experiment!
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 这完成了我们的特征工程代码。当然，如果你想进行实验，你可以添加更多特征！
- en: Statistical tests
  id: totrans-95
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 统计测试
- en: Now that we have our features, we want to check whether they differ between
    real and fake reviews. The process of testing for differences is known as hypothesis
    testing.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了我们的特征，我们想要检查它们在真实和虚假评论之间是否有差异。测试差异的过程被称为假设检验。
- en: Hypothesis testing
  id: totrans-97
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 假设检验
- en: Hypothesis testing is a statistical method used to determine whether a claim
    or hypothesis about a population parameter is supported by the evidence provided
    by a sample of data. In other words, it is a way to test the validity of a hypothesis
    or claim about a population based on a sample of data.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 假设检验是一种统计方法，用于确定关于总体参数的声明或假设是否得到样本数据的证据支持。换句话说，这是一种基于样本数据测试关于总体的假设或声明的有效性的方法。
- en: The hypothesis being tested is typically called the null hypothesis (H0), and
    the alternative hypothesis (H1) is the hypothesis that is considered as an alternative
    to the null hypothesis. The null hypothesis usually represents the status quo
    or the default assumption, and the alternative hypothesis represents the hypothesis
    that the researcher is trying to support.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 被测试的假设通常被称为零假设（H0），而备择假设（H1）是作为零假设的替代假设。零假设通常代表现状或默认假设，而备择假设代表研究者试图支持的假设。
- en: 'From the previous section, we have data belonging to two different groups:
    real reviews and fake reviews. Here is how the process of hypothesis testing will
    work for us:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 从上一节中，我们有属于两个不同组的数据：真实评论和假评论。以下是假设检验过程将如何为我们工作：
- en: '**Formulating the null and alternative hypotheses**: The null hypothesis represents
    the status quo or the default assumption, and the alternative hypothesis represents
    the hypothesis that the researcher is trying to support. In this case, the null
    hypothesis would be that there is no difference between the features of the group
    of fake reviews and the group of real reviews. The alternative hypothesis would
    be that there is a difference between the features of the two groups.'
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**制定零假设和备择假设**：零假设代表现状或默认假设，而备择假设代表研究者试图支持的假设。在这种情况下，零假设将是假评论组和真实评论组之间的特征没有差异。备择假设将是两组之间的特征存在差异。'
- en: '**Collecting and analyzing data**: A sample of data is collected, and descriptive
    statistics and inferential statistics are used to analyze the data. A sample of
    reviews is collected, including both fake and real reviews. The feature of interest
    (such as the length or average word length) is computed for each review in the
    sample, and descriptive statistics are calculated for each group of reviews, including
    the mean and standard deviation of the feature.'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**收集和分析数据**：收集一组数据，并使用描述性统计和推断统计来分析数据。收集一组评论样本，包括假评论和真实评论。对样本中的每个评论计算感兴趣的特征（如长度或平均词长），并对每个评论组计算描述性统计，包括特征的均值和标准差。'
- en: '**Choosing the level of significance**: The level of significance represents
    the probability that we will reject the null hypothesis even when it is true.
    The lower the significance level, the lower the chances of falsely rejecting the
    null hypothesis, which means higher confidence in our estimate. The most commonly
    used level of significance is 0.05, which means that there is a 5% chance of rejecting
    the null hypothesis when it is actually true.'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**选择显著性水平**：显著性水平代表我们在零假设实际上为真时拒绝零假设的概率。显著性水平越低，错误拒绝零假设的可能性就越低，这意味着我们对估计的信心更高。最常用的显著性水平是0.05，这意味着当零假设实际上为真时，有5%的概率会拒绝零假设。'
- en: '**Calculating the test statistic**: A test statistic is calculated based on
    the sample data, which measures how far the sample statistic is from the null
    hypothesis. The test statistic depends on the type of test being performed. For
    example, if we are comparing the means of the two groups, we can use a t-test
    to calculate the t-value, which measures the difference between the means of the
    fake reviews and the real reviews relative to the variability of the data.'
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**计算检验统计量**：根据样本数据计算检验统计量，该统计量衡量样本统计量与零假设的距离。检验统计量取决于所进行的测试类型。例如，如果我们正在比较两组的均值，我们可以使用t检验来计算t值，该值衡量假评论和真实评论的均值差异相对于数据的变异性。'
- en: '**Determining the p-value**: The p-value is the probability of obtaining a
    test statistic as extreme or more extreme than the one observed, assuming that
    the null hypothesis is true. In this case, the null hypothesis is that there is
    no difference between the features of the group of fake reviews and the group
    of real reviews. If the p-value is less than 0.05, we reject the null hypothesis
    and conclude that there is a significant difference between the features of the
    two groups. If the p-value is greater than or equal to 0.05, we fail to reject
    the null hypothesis and conclude that there is not enough evidence to conclude
    that there is a significant difference. Note that we can simply reject or not
    reject the null hypothesis - we can never conclude that we accept the alternate
    hypothesis.'
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**确定p值**：p值是在零假设为真的情况下，获得一个与观察到的测试统计量一样极端或更极端的统计量的概率。在这种情况下，零假设是虚假评论组和真实评论组的特征之间没有差异。如果p值小于0.05，我们拒绝零假设，并得出结论，两组特征之间存在显著差异。如果p值大于或等于0.05，我们未能拒绝零假设，并得出结论，没有足够的证据来得出存在显著差异的结论。请注意，我们只能简单地拒绝或不拒绝零假设——我们永远不能得出接受备择假设的结论。'
- en: '**Making a decision**: Based on the p-value and the level of significance,
    a decision is made on whether to reject the null hypothesis or not. If the p-value
    is less than 0.05, we reject the null hypothesis and conclude that there is a
    significant difference between the features of the group of fake reviews and the
    group of real reviews. If the p-value is greater than or equal to 0.05, we fail
    to reject the null hypothesis and conclude that there is not enough evidence to
    conclude that there is a significant difference.'
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**做出决定**：根据p值和显著性水平，决定是否拒绝零假设。如果p值小于0.05，我们拒绝零假设，并得出结论，虚假评论组和真实评论组特征之间存在显著差异。如果p值大于或等于0.05，我们未能拒绝零假设，并得出结论，没有足够的证据来得出存在显著差异的结论。'
- en: '**Drawing conclusions**: The final step is to draw conclusions based on the
    results of the hypothesis test and to determine whether the evidence supports
    the alternative hypothesis or not. In this case, if we reject the null hypothesis,
    we conclude that there is a significant difference between the features of the
    group of fake reviews and the group of real reviews. If we fail to reject the
    null hypothesis, we conclude that there is not enough evidence to conclude that
    there is a significant difference between the features of the two groups.'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**得出结论**：最后一步是根据假设检验的结果得出结论，并确定证据是否支持备择假设。在这种情况下，如果我们拒绝零假设，我们得出结论，虚假评论组和真实评论组特征之间存在显著差异。如果我们未能拒绝零假设，我们得出结论，没有足够的证据来得出两组特征之间存在显著差异的结论。'
- en: Overall, hypothesis testing is a powerful statistical method used to test claims
    about populations using sample data. By following these given steps, we can make
    informed decisions based on data and draw valid conclusions about whether there
    is a significant difference between the features of the group of fake reviews
    and the group of real reviews.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 总的来说，假设检验是一种强大的统计方法，用于使用样本数据来测试关于总体的声明。通过遵循这些给定的步骤，我们可以根据数据做出明智的决定，并得出关于虚假评论组和真实评论组特征之间是否存在显著差异的有效结论。
- en: Note that here we have used real and fake reviews as an example. In theory,
    this experiment can be repeated for any two groups and any features. In the chapters
    to come, we will see several examples of varied datasets (containing images, text,
    video, and malware). We will also collect different kinds of features (image feature
    vectors, linguistic features, and API call sequences). While we will not conduct
    hypothesis testing every time, you are highly encouraged to do so in order to
    strengthen your understanding of the concepts.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，在这里我们使用了真实和虚假评论作为例子。从理论上讲，这个实验可以针对任何两组数据和任何特征进行重复。在接下来的章节中，我们将看到包含图像、文本、视频和恶意软件等不同数据集的几个示例。我们还将收集不同种类的特征（图像特征向量、语言特征和API调用序列）。虽然我们不会每次都进行假设检验，但我们强烈鼓励您这样做，以加强您对概念的理解。
- en: 'Now that we have defined clearly the steps involved in hypothesis testing,
    let us look at the most crucial part of it: the actual tests being conducted.'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们已经清楚地定义了假设检验中涉及的步骤，让我们来看看其最关键的部分：实际进行的测试。
- en: T-tests
  id: totrans-111
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: t检验
- en: T-tests are a statistical method used to compare the means of two groups and
    determine whether there is a statistically significant difference between them.
    The t-test is a hypothesis test that is based on the t-distribution, which is
    similar to the normal distribution but with a heavier tail.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: t检验是一种用于比较两组均值并确定它们之间是否存在统计学上显著差异的统计方法。t检验是基于t分布的假设检验，与正态分布类似，但尾部更重。
- en: 'There are two main types of t-tests:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: t检验主要有两种类型：
- en: '**Independent samples t-test**: This test is used when we want to compare the
    means of two independent groups, such as a treatment group and a control group,
    or a group of men and a group of women. The null hypothesis is that there is no
    difference in the means of the two groups.'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**独立样本t检验**：此检验用于当我们想要比较两个独立组（如治疗组和对照组，或男性和女性组）的均值时。零假设是两组均值的差异不存在。'
- en: '**Paired samples t-test**: This test is used when we want to compare the means
    of two related groups, such as before-and-after measurements for the same individuals,
    or measurements taken from two matched groups. The null hypothesis is that there
    is no difference between the means of the two related groups.'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**配对样本t检验**：此检验用于当我们想要比较两个相关组（如同一个体的前后测量，或来自两个匹配组的测量）的均值时。零假设是两个相关组的均值之间没有差异。'
- en: The t-test calculates a t-value, which is a measure of how different the means
    of the two groups are, relative to the variability within each group. The t-value
    is calculated by dividing the difference between the means of the two groups by
    the standard error of the difference. The standard error of the difference takes
    into account both the sample sizes and the variances of the two groups.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: t检验计算t值，这是衡量两组均值差异相对于每组内部变异性的度量。t值是通过将两组均值之间的差异除以差异的标准误来计算的。差异的标准误考虑了两组的样本量和方差。
- en: 'T-tests can be one-sided or two-sided:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: t检验可以是单侧的或双侧的：
- en: '**One-sided t-test**: A one-sided t-test, also known as a directional t-test,
    is used when we have a specific hypothesis about the direction of the difference
    between the means of the two groups. For example, we might hypothesize that the
    mean of one group is greater than the mean of the other group. In this case, we
    would use a one-sided t-test to test this hypothesis. The null hypothesis for
    a one-sided t-test is that there is no difference between the means of the two
    groups in the hypothesized direction.'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**单侧t检验**：单侧t检验，也称为方向性t检验，在我们对两组均值之间差异的方向有特定假设时使用。例如，我们可能假设一个组的均值大于另一个组的均值。在这种情况下，我们会使用单侧t检验来检验这个假设。单侧t检验的零假设是在假设的方向上两组均值的差异不存在。'
- en: '**Two-sided t-test**: A two-sided t-test, also known as a non-directional t-test,
    is used when we do not have a specific hypothesis about the direction of the difference
    between the means of the two groups. For example, we might simply want to test
    whether the means of the two groups are different. In this case, we would use
    a two-sided t-test. The null hypothesis for a two-sided t-test is that there is
    no difference between the means of the two groups.'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**双侧t检验**：双侧t检验，也称为非方向性t检验，在我们对两组均值之间差异的方向没有特定假设时使用。例如，我们可能只想检验两组均值是否不同。在这种情况下，我们会使用双侧t检验。双侧t检验的零假设是两组均值的差异不存在。'
- en: Once the t-value is calculated, we can determine the p-value, which is the probability
    of obtaining a t-value as extreme or more extreme than the one observed, assuming
    that the null hypothesis is true. If the p-value is less than the level of significance
    (usually 0.05), we reject the null hypothesis and conclude that there is a statistically
    significant difference between the means of the two groups.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦计算出t值，我们可以确定p值，这是在零假设为真的情况下，获得一个与观察到的t值一样极端或更极端的t值的概率。如果p值小于显著性水平（通常为0.05），我们拒绝零假设，并得出结论，两组均值之间存在统计学上显著的差异。
- en: T-tests are commonly used in many fields, such as psychology, biology, economics,
    and engineering, to compare the means of two groups and make statistical inferences.
    Note that in t-tests, we always decide on whether the null hypothesis is to be
    rejected based on the p-value. If the p-value is higher than our chosen threshold,
    we never say that we *accept* the alternate hypothesis; we simply say that we
    *failed to reject* the null hypothesis.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: t检验在许多领域中被广泛使用，如心理学、生物学、经济学和工程学，用于比较两组的平均值并做出统计推断。请注意，在t检验中，我们总是根据p值来决定是否拒绝零假设。如果p值高于我们选择的阈值，我们永远不会说我们*接受*备择假设；我们只是说我们*未能拒绝*零假设。
- en: Conducting t-tests
  id: totrans-122
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 进行t检验
- en: 'We will now see how the t-test is actually conducted in Python and what information
    it gives us. Let us use the t-test to compare the distribution of the *review
    text length* feature in the fake and real reviews group. Therefore, our hypotheses
    are as follows:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将看到如何在Python中实际进行t检验以及它提供了哪些信息。我们将使用t检验来比较虚假和真实评论组中*评论文本长度*特征的分部。因此，我们的假设如下：
- en: The null hypothesis (H0) is that the mean review length is the same for real
    and fake reviews
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 零假设（H0）是真实和虚假评论的平均评论长度相同
- en: The alternate hypothesis (H1) is that the mean review length between the two
    groups is different
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 备择假设（H1）是两组之间的平均评论长度不同
- en: 'Note that this is an unpaired t-test as samples in both groups are independent.
    This is also a two-tailed t-test as our hypothesis is not directional. Let us
    first plot the distribution of the review length for the two groups. We will obtain
    an array representing the review lengths within the two groups separately, and
    then plot their histograms on the same grid:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，这是一个非配对t检验，因为两组的样本都是独立的。这也是一个双尾t检验，因为我们的假设不是方向性的。让我们首先绘制两组评论长度的分布图。我们将获得一个表示两组中评论长度的数组，然后在同一网格上绘制它们的直方图：
- en: '[PRE10]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Here is the output:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是输出结果：
- en: '![Figure 4.6 – Review length distribution across real and fake reviews](img/B19327_04_06.jpg)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![图4.6 – 真实和虚假评论的评论长度分布](img/B19327_04_06.jpg)'
- en: Figure 4.6 – Review length distribution across real and fake reviews
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.6 – 真实和虚假评论的评论长度分布
- en: So we can see that there are some distributional differences between the two
    groups. The real reviews have a sharp peak at the lower values of the feature
    while the fake reviews have several intermediate peaks. Now we will do a t-test
    to see whether the difference is statistically significant. We will use the `scipy`
    module in Python to do this.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们可以看到两组之间存在一些分布差异。真实评论在特征的较低值处有一个尖锐的峰值，而虚假评论有几个中间峰值。现在我们将进行t检验，以查看这种差异是否具有统计学意义。我们将使用Python中的`scipy`模块来完成这项工作。
- en: '`scipy` is a powerful and widely used scientific computing library for the
    Python programming language. It provides a broad range of functionality for scientific
    and technical computing, including optimization, integration, interpolation, linear
    algebra, signal and image processing, and more. It is built on top of the `NumPy`
    library, which provides support for large, multi-dimensional arrays and matrices,
    and extends its capabilities to higher-level mathematical functions.'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '`scipy`是Python编程语言的一个强大且广泛使用的科学计算库。它为科学和技术计算提供了广泛的功能，包括优化、积分、插值、线性代数、信号和图像处理等。它建立在`NumPy`库之上，该库为大型、多维数组和矩阵提供支持，并扩展了其高级数学函数的能力。'
- en: 'One of the key strengths of `scipy` is its sub-modules, which provide specialized
    functionality for different areas of scientific computing:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '`scipy`的一个关键优势是其子模块，它们为科学计算的不同领域提供了专门的功能：'
- en: The `optimization` sub-module provides functions for finding the minimum or
    maximum of a function, root-finding, curve-fitting, and more
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`optimization`子模块提供了寻找函数最小值或最大值、根查找、曲线拟合等功能'
- en: The `integration` sub-module provides functions for numerical integration and
    solving differential equations
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`integration`子模块提供了数值积分和求解微分方程的函数'
- en: The `interpolate` sub-module provides functions for interpolating and smoothing
    data
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`interpolate`子模块提供了插值和平滑数据的函数'
- en: The `linalg` sub-module provides functions for linear algebra, including matrix
    decompositions, solving linear systems of equations, and more
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`linalg`子模块提供了线性代数函数，包括矩阵分解、求解线性方程组等'
- en: The `signal` sub-module provides functions for signal processing, including
    filtering, Fourier transforms, and more
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`signal` 子模块提供了信号处理的功能，包括滤波、傅里叶变换等'
- en: The `sparse` sub-module provides sparse matrix implementations and related operations
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sparse` 子模块提供了稀疏矩阵实现和相关操作'
- en: 'The following code will conduct the t-test and print out some statistics from
    it:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码将执行 t-test 并打印出一些统计数据：
- en: '[PRE11]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'After running this, you will see the following output:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 运行此操作后，你将看到以下输出：
- en: '[PRE12]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'This tells us a couple of things:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 这告诉我们一些事情：
- en: The mean review length in the fake reviews is 59.62 while in the real reviews,
    it is 80.63\. Therefore, the average fake review is nearly 21 words shorter than
    the average real review.
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虚假评论中的平均评论长度为 59.62，而在真实评论中为 80.63。因此，平均虚假评论比平均真实评论短近 21 个单词。
- en: Our p-value comes out to be 1.447e-68, which is of the order of 10-68 and is
    therefore very small. As this value is much smaller than 0.05, we can conclude
    that the difference we saw previously was statistically significant.
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的 p 值为 1.447e-68，这个值在 10-68 的数量级，因此非常小。由于这个值远小于 0.05，我们可以得出结论，我们之前看到的差异在统计学上是显著的。
- en: As p < 0.05, this implies that the null hypothesis can be rejected. Therefore,
    we can conclude that the mean review length differs between real and fake reviews
    and this difference is statistically significant.
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于 p < 0.05，这意味着我们可以拒绝零假设。因此，我们可以得出结论，真实评论和虚假评论的平均评论长度之间存在差异，并且这种差异在统计学上是显著的。
- en: 'We can repeat this exercise for any feature of our choice. For example, here
    is how we do it for the number of words misspelled. The code is more or less the
    same, but note the change in the bins. The bins depend on the range of the feature
    under consideration. To plot the data, we use the following code:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以为任何我们选择的特征重复这个练习。例如，以下是我们是怎样对拼写错误的单词数量进行操作的。代码大致相同，但请注意bins的变化。bins取决于考虑中的特征的取值范围。为了绘制数据，我们使用以下代码：
- en: '[PRE13]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'This shows us the distribution as follows:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 这显示了以下分布：
- en: '![Figure 4.7 – Distribution of misspelled words across real and fake reviews](img/B19327_04_07.jpg)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![图 4.7 – 真实评论和虚假评论中拼写错误单词的分布](img/B19327_04_07.jpg)'
- en: Figure 4.7 – Distribution of misspelled words across real and fake reviews
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4.7 – 真实评论和虚假评论中拼写错误单词的分布
- en: 'The distribution looks pretty similar. Let’s do the t-test:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 分布看起来相当相似。让我们进行 t-test：
- en: '[PRE14]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Here’s what we see:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是我们看到的内容：
- en: '[PRE15]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: So this shows us that there are statistically significant differences between
    these two features as well.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，这也表明这两个特征之间也存在统计学上的显著差异。
- en: Hypothesis testing is a useful tool that helps us examine signals that differentiate
    between groups, and the statistical significance of those signals. It helps data
    scientists and statisticians make claims about the data and give them mathematical
    backing.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 假设检验是一个有用的工具，它帮助我们检查区分组之间的信号，以及这些信号的统计显著性。它帮助数据科学家和统计学家对数据进行声明，并为他们提供数学支持。
- en: A note on ANOVA tests
  id: totrans-159
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 关于 ANOVA 测试的说明
- en: In the previous section, we learned how t-tests can help compare the means of
    two dependent or independent groups. This is helpful when you have a clean binary
    class problem. However, there often may be multiple classes. For example, there
    could be real reviews, bot reviews, incentivized reviews, and crowdsourced reviews
    all labeled separately. In such cases, we compare the means using an **Analysis
    of Variance (****ANOVA)** test.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一节中，我们学习了如何使用 t-test 来比较两组相关或不相关的平均值。当你有一个干净的二元分类问题时，这很有帮助。然而，通常可能有多个类别。例如，可能有真实评论、机器人评论、激励评论和众包评论，都被单独标记。在这种情况下，我们使用方差分析（**ANOVA**）测试来比较平均值。
- en: '**ANOVA** is a statistical method used to test the hypothesis that there is
    no significant difference between the means of two or more groups. ANOVA compares
    the variation within groups to the variation between groups to determine whether
    there is a significant difference in means. There are several types of ANOVA,
    but the most common is one-way ANOVA. One-way ANOVA is used to compare the means
    of two or more independent groups. For example, you might use one-way ANOVA to
    compare the average test scores of students in three different classes.'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '**ANOVA** 是一种统计方法，用于测试两个或多个组之间均值没有显著差异的假设。ANOVA 比较组内变异和组间变异，以确定均值之间是否存在显著差异。ANOVA
    有几种类型，但最常见的是单因素 ANOVA。单因素 ANOVA 用于比较两个或多个独立组的均值。例如，你可能会使用单因素 ANOVA 来比较三个不同班级学生的平均考试成绩。'
- en: 'The basic idea behind ANOVA is to partition the total variation in the data
    into two sources: variation due to differences between groups and variation due
    to differences within groups. The ratio of these two sources of variation is then
    used to determine whether the means of the groups are significantly different.
    The results of ANOVA are typically reported as an F-statistic, which is a measure
    of the ratio of the between-group variation to the within-group variation. If
    the F-statistic is large enough (that is, if the between-group variation is much
    larger than the within-group variation), then the null hypothesis of no difference
    between the groups is rejected, and it can be concluded that there is a significant
    difference between the means of the groups.'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 方差分析（ANOVA）背后的基本思想是将数据的总变异分为两个来源：组间差异引起的变异和组内差异引起的变异。然后，使用这两个变异来源的比率来确定组均值之间是否存在显著差异。ANOVA的结果通常报告为F统计量，它是组间变异与组内变异比率的度量。如果F统计量足够大（即，如果组间变异远大于组内变异），则拒绝组间无差异的零假设，可以得出结论，组均值之间存在显著差异。
- en: As we only have two classes here, we will not be implementing ANOVA or seeing
    it in practice. However, the `scipy` library contains implementations for ANOVA
    just like it does for t-tests, and I encourage you to go through it.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们这里只有两个类别，我们不会实现方差分析（ANOVA）或看到它在实践中。然而，`scipy`库包含了ANOVA的实现，就像它对t检验一样，我鼓励你亲自去了解它。
- en: Now that we have seen how to examine feature differences, let us turn toward
    modeling our data with the most fundamental machine learning algorithm – linear
    regression.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经看到了如何检查特征差异，让我们转向使用最基础的机器学习算法——线性回归来模拟我们的数据。
- en: Modeling fake reviews with regression
  id: totrans-165
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用回归模型模拟虚假评论
- en: In this section, we will use the features we examined to attempt to model our
    data with linear regression.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将使用我们考察的特征，尝试用线性回归来模拟我们的数据。
- en: Ordinary Least Squares regression
  id: totrans-167
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 普通最小二乘法回归
- en: '**Ordinary Least Squares** (**OLS**) linear regression is a statistical method
    used to model the relationship between a dependent variable and one or more independent
    variables. The goal of OLS is to find the linear function that best fits the data
    by minimizing the sum of squared errors between the observed values and the predicted
    values of the dependent variable.'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: '**普通最小二乘法**（**OLS**）线性回归是一种统计方法，用于模拟因变量与一个或多个自变量之间的关系。OLS的目标是通过最小化观测值与因变量预测值之间的平方误差之和，找到最佳拟合数据的线性函数。'
- en: 'The linear function is typically expressed as:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 线性函数通常表示为：
- en: Y = β 0+ β 1 X 1+ β 2 X 2+ ... + β n X n+ ε
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: Y = β 0+ β 1 X 1+ β 2 X 2+ ... + β n X n+ ε
- en: where *Y* is the dependent variable, X1, X2, ..., Xn are the independent variables,
    β0, β1, β2, ..., βn are the coefficients (or parameters) that measure the effect
    of each independent variable on the dependent variable, and ε is the error term
    (or residual) that captures the part of the dependent variable that is not explained
    by the independent variables.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，*Y* 是因变量，X1, X2, ..., Xn 是自变量，β0, β1, β2, ..., βn 是系数（或参数），它们衡量每个自变量对因变量的影响，ε
    是误差项（或残差），它捕捉了因变量中未被自变量解释的部分。
- en: 'The OLS method estimates the coefficients by finding the values that minimize
    the sum of squared errors:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: OLS方法通过找到最小化平方误差之和的值来估计系数：
- en: Loss = Σ( y i − ŷ i)²
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 损失 = Σ( y i − ŷ i)²
- en: where yi is the observed value of the dependent variable, ŷi is the predicted
    value of the dependent variable based on the linear function, and the sum is taken
    over all the observations in the sample.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 其中，yi 是因变量的观测值，ŷi 是基于线性函数的因变量预测值，求和是对样本中所有观测值进行的。
- en: Once the values of the coefficients have been estimated, they can be plugged
    back into the equation to compute the predicted output value based on the defined
    equation. In this section, we will explore how linear regression can be used to
    detect whether a given review is fake or not.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦估计了系数的值，可以将它们代入方程中，根据定义的方程计算基于预测的输出值。在本节中，我们将探讨如何使用线性回归来检测给定的评论是否为虚假评论。
- en: OLS assumptions
  id: totrans-176
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: OLS假设
- en: 'OLS regression makes several assumptions about the data, and violating these
    assumptions can lead to biased or inefficient estimates of the regression coefficients.
    Here are the main assumptions of OLS regression:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: OLS回归对数据做出了一些假设，违反这些假设可能导致回归系数的估计有偏或效率低下。以下是OLS回归的主要假设：
- en: '**Linearity**: The relationship between the dependent variable and the independent
    variables is linear. This means that the effect of each independent variable on
    the dependent variable is constant across the range of values of the independent
    variable. In the context of fake review detection, this assumption would mean
    that the relationship between the textual features (such as sentiment scores or
    word frequencies) and the likelihood of a review being fake is linear.'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**线性**：因变量与自变量之间的关系是线性的。这意味着每个自变量对因变量的影响在自变量值的范围内是恒定的。在虚假评论检测的背景下，这个假设意味着文本特征（如情感得分或词频）与评论为虚假的可能性之间的关系是线性的。'
- en: '**Independence**: The observations are independent of each other, meaning that
    the value of one observation does not depend on the value of another observation.
    For example, in fake review detection, this assumption would mean that the reviews
    are not systematically related to each other, such as being written by the same
    person or being about the same product.'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**独立性**：观测值之间相互独立，意味着一个观测值的值不依赖于另一个观测值的值。例如，在虚假评论检测中，这个假设意味着评论不是系统性地相互关联的，例如不是由同一个人撰写或关于同一产品。'
- en: '**Homoscedasticity**: The variance of the errors (residuals) is constant across
    all values of the independent variables. This means that the spread of the residuals
    does not change as the values of the independent variables change. In the context
    of fake review detection, this assumption would mean that the variability in the
    likelihood of a review being fake is the same for all levels of the textual features.'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**同方差性**：误差（残差）的方差在所有自变量值上都是恒定的。这意味着残差的分布不会随着自变量值的改变而改变。在虚假评论检测的背景下，这个假设意味着评论为虚假的可能性的变化在所有文本特征水平上是相同的。'
- en: '**Normality**: The errors are normally distributed with a mean of zero. This
    means that the distribution of the residuals is symmetrical around 0 and follows
    a bell-shaped curve. In the context of fake review detection, this assumption
    would mean that the errors in the predicted probabilities of a review being fake
    are normally distributed.'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**正态性**：误差是均值为零的正态分布。这意味着残差的分布围绕0对称，并遵循钟形曲线。在虚假评论检测的背景下，这个假设意味着预测评论为虚假的概率的误差是正态分布的。'
- en: '**No multicollinearity**: There is no perfect correlation between any pair
    of independent variables. This means that the independent variables are not redundant
    or highly correlated with each other. In the context of fake review detection,
    this assumption would mean that the textual features are not too similar to each
    other, as this could lead to multicollinearity and make it difficult to identify
    which features are driving the probability of a review being fake.'
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**无多重共线性**：任何一对自变量之间没有完美的相关性。这意味着自变量不是冗余的或彼此高度相关的。在虚假评论检测的背景下，这个假设意味着文本特征之间不太相似，因为这可能导致多重共线性并使识别哪些特征在驱动评论为虚假的概率变得困难。'
- en: To ensure that these assumptions are met in practice, it is important to carefully
    preprocess the data and to check for violations of these assumptions during and
    after the modeling process. For example, in the context of fake review detection,
    we might check for independence by removing reviews written by the same person
    or about the same product, and we might check for normality by plotting the residuals
    and checking for a normal distribution.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保这些假设在实践中得到满足，重要的是要仔细预处理数据，并在建模过程中及之后检查这些假设的违反情况。例如，在虚假评论检测的背景下，我们可能会通过删除由同一个人或关于同一产品撰写的评论来检查独立性，我们可能会通过绘制残差并检查正态分布来检查正态性。
- en: Interpreting OLS regression
  id: totrans-184
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 解释OLS回归
- en: In this section, we will look at the metrics we use to evaluate the OLS regression
    model, namely the **R-squared** (**R²**), F-statistic, and regression coefficients.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将探讨我们用来评估OLS回归模型的指标，即**决定系数**（**R-squared**，**R²**）、F统计量和回归系数。
- en: R2
  id: totrans-186
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: R²
- en: In OLS linear regression, R² is a statistical measure that represents the proportion
    of variance in the dependent variable that can be explained by the independent
    variables in the model. It provides a measure of how well the regression line
    fits the data. R² takes values between 0 and 1, with 0 indicating that none of
    the variation in the dependent variable is explained by the independent variables,
    and 1 indicating that all of the variation in the dependent variable is explained
    by the independent variables.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在 OLS 线性回归中，R² 是一个统计量，表示模型中自变量可以解释的因变量方差的比例。它提供了回归线拟合数据的度量。R² 的值介于 0 和 1 之间，0
    表示因变量的变化没有由自变量解释，而 1 表示因变量的所有变化都由自变量解释。
- en: 'Adjusted R² is a modified version of the R² value in OLS linear regression
    that takes into account the number of independent variables in the model. It is
    calculated using the following formula:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 调整后的 R² 是 OLS 线性回归中 R² 值的修改版，它考虑了模型中的自变量数量。它是使用以下公式计算的：
- en: Adj(R 2) = 1−  (1 − R 2)(n − 1) ___________ n − k − 1
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: Adj(R²) = 1− (1 − R²)(n − 1) / (n − k − 1)
- en: Here, *n* is the number of observations in the sample and *k* is the number
    of independent variables in the model. The adjusted R² value provides a more conservative
    estimate of the goodness of fit of the model than the R² value. Unlike the R²
    value, which increases as the number of independent variables in the model increases,
    the adjusted R² value penalizes models that have additional independent variables
    that do not significantly improve the fit of the model.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，*n* 是样本中的观测数，*k* 是模型中的自变量数。调整后的 R² 值比 R² 值提供了更保守的模型拟合优度估计。与 R² 值不同，R² 值随着模型中自变量数量的增加而增加，而调整后的
    R² 值惩罚那些具有额外自变量但并未显著改善模型拟合的模型。
- en: The F-statistic
  id: totrans-191
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: F 统计量
- en: The F-statistic is a statistical test used in OLS regression to determine whether
    the overall regression model is statistically significant or not. It is calculated
    by comparing the variance explained by the regression model to the variance not
    explained by the model. In particular, the F-statistic measures the ratio of the
    **mean square of the regression** (**MSR**) to the **mean squared error** (**MSE**).
    The MSR represents the variation in the dependent variable that is explained by
    the independent variables in the model, while the MSE represents the unexplained
    variation in the dependent variable that is not accounted for by the model.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: F 统计量是 OLS 回归中用于确定整体回归模型是否在统计上显著的统计检验。它是通过比较回归模型解释的方差与模型未解释的方差来计算的。特别是，F 统计量衡量的是回归均方（**MSR**）与均方误差（**MSE**）的比率。MSR
    代表由模型中的自变量解释的因变量的变化，而 MSE 代表模型未解释的因变量的未解释变化。
- en: A high F-statistic with a low associated p-value suggests that the regression
    model as a whole is statistically significant and that at least one of the independent
    variables in the model is related to the dependent variable. In contrast, a low
    F-statistic with a high associated p-value suggests that the model is not statistically
    significant and that the independent variables do not significantly explain the
    variation in the dependent variable.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 一个高 F 统计量伴随着低的相关 p 值表明，回归模型整体上在统计上显著，并且模型中至少有一个自变量与因变量相关。相反，一个低 F 统计量伴随着高的相关
    p 值表明，模型在统计上不显著，并且自变量没有显著解释因变量的变化。
- en: Regression coefficients
  id: totrans-194
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 回归系数
- en: Regression coefficients represent the change in the dependent variable for a
    one-unit change in the independent variable, holding all other independent variables
    constant. More specifically, in linear regression, the coefficients indicate the
    slope of the regression line, which represents the relationship between the independent
    variable and the dependent variable. A positive coefficient means that as the
    independent variable increases, the dependent variable also increases. A negative
    coefficient means that as the independent variable increases, the dependent variable
    decreases. The size of the coefficient indicates the magnitude of the effect of
    the independent variable on the dependent variable. Larger coefficients indicate
    a stronger relationship between the independent variable and the dependent variable,
    while smaller coefficients indicate a weaker relationship.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 回归系数表示在保持所有其他自变量不变的情况下，因变量因自变量单位变化而产生的变化。更具体地说，在线性回归中，系数表示回归线的斜率，这代表了自变量和因变量之间的关系。正系数意味着随着自变量的增加，因变量也增加。负系数意味着随着自变量的增加，因变量减少。系数的大小表示自变量对因变量影响的大小。较大的系数表示自变量和因变量之间有更强的关系，而较小的系数表示较弱的关系。
- en: It is important to note that the interpretation of coefficients may be affected
    by the scaling of the variables. For example, if one independent variable is measured
    in dollars and another independent variable is measured in percentages, the coefficients
    cannot be directly compared, as they are not on the same scale. Additionally,
    coefficients may also be affected by collinearity among the independent variables,
    which can make it difficult to distinguish the unique effect of each independent
    variable on the dependent variable. Therefore, when interpreting regression coefficients,
    it is important to consider the scale of the variables, the context of the study,
    and potential confounding factors.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的是，系数的解释可能受到变量缩放的影响。例如，如果一个自变量以美元为单位测量，而另一个自变量以百分比为单位测量，由于它们不在同一尺度上，因此系数不能直接比较。此外，系数也可能受到自变量之间的共线性影响，这可能会使得区分每个自变量对因变量的独特影响变得困难。因此，在解释回归系数时，重要的是要考虑变量的尺度、研究的背景和潜在的混杂因素。
- en: Implementing OLS regression
  id: totrans-197
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 实施OLS回归
- en: We will attempt to model the fake reviews problem with an OLS regression model
    using the `statsmodels` package, which is a comprehensive Python package that
    provides a wide range of statistical tools and models for data analysis. It is
    designed to be used in conjunction with other scientific computing libraries such
    as `NumPy`, `sciPy`, and `pandas`. One of the key features of `statsmodels` is
    its ability to estimate statistical models for different types of data. For example,
    it provides a range of models for linear regression, generalized linear models,
    time-series analysis, and multilevel models. These models can be used for a variety
    of tasks such as prediction, classification, and inference.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将尝试使用`statsmodels`包来构建一个OLS回归模型来模拟虚假评论问题，`statsmodels`是一个提供广泛数据分析统计工具和模型的综合Python包。它旨在与其他科学计算库如`NumPy`、`sciPy`和`pandas`一起使用。`statsmodels`的一个关键特性是其能够估计不同类型数据的统计模型。例如，它提供了一系列线性回归、广义线性模型、时间序列分析和多层次模型的模型。这些模型可用于各种任务，如预测、分类和推断。
- en: In addition to its model estimation capabilities, `statsmodels` also includes
    a range of statistical tests and diagnostics. These tools can be used to assess
    the quality of a model and determine whether its assumptions are being violated.
    Some of the statistical tests provided by `statsmodels` include hypothesis tests,
    goodness-of-fit tests, and tests for stationarity and cointegration. `statsmodels`
    also includes a range of visualization tools for exploring data and model results.
    These tools can help users gain insights into their data and communicate their
    findings effectively. Some of the visualization tools provided by `statsmodels`
    include scatter plots, line plots, histograms, and QQ plots.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 除了模型估计能力之外，`statsmodels`还包括一系列的统计测试和诊断工具。这些工具可以用来评估模型的质量，并确定其假设是否被违反。`statsmodels`提供的统计测试包括假设检验、拟合优度检验以及平稳性和协整性检验。`statsmodels`还包括一系列可视化工具，用于探索数据和模型结果。这些工具可以帮助用户深入了解他们的数据，并有效地传达他们的发现。`statsmodels`提供的可视化工具包括散点图、折线图、直方图和QQ图。
- en: 'In order to implement OLS regression, you specify a formula that indicates
    the dependent variable and the independent variables we want to model it on. Here
    is how it can be done in the `statsmodels` library:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现OLS回归，你需要指定一个公式，该公式表明了因变量以及我们想要建模的独立变量。以下是在`statsmodels`库中如何实现的方法：
- en: '[PRE16]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'The output is as follows:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.8 – OLS regression results](img/B19327_04_08.jpg)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![图4.8 – OLS回归结果](img/B19327_04_08.jpg)'
- en: Figure 4.8 – OLS regression results
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.8 – OLS回归结果
- en: 'Let us interpret these results:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来解释这些结果：
- en: The R-squared value of 0.017 indicates that only 1.7% of the variance in the
    dependent variable (**FRAUD_LABEL**) is explained by the independent variables
    (**Review_Text_Length**, **Num_Misspelling**, and **Avg_Word_Len**). This means
    that the model is not very effective in predicting fraud based on the provided
    independent variables. In general, a higher R-squared value is better.
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: R-squared值为0.017，这表明只有1.7%的因变量（**FRAUD_LABEL**）的方差可以通过独立变量（**Review_Text_Length**、**Num_Misspelling**和**Avg_Word_Len**）来解释。这意味着该模型在根据提供的独立变量预测欺诈方面并不十分有效。一般来说，R-squared值越高越好。
- en: The coefficients for the independent variables give an indication of how each
    variable affects the dependent variable. The coefficient for **Review_Text_Length**
    is negative, but not statistically significant (P>|t| = 0.081). This suggests
    that there may be a weak negative relationship between the length of the review
    text and the likelihood of fraud, but this relationship is not strong enough to
    be statistically significant.
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 独立变量的系数可以表明每个变量如何影响因变量。**Review_Text_Length**的系数为负值，但并不具有统计学意义（P>|t| = 0.081）。这表明，评论文本的长度与欺诈的可能性之间可能存在弱负相关关系，但这种关系并不足够强，以至于具有统计学意义。
- en: The coefficient for **Num_Misspelling** is negative and statistically significant
    (P>|t| = 0.000). This suggests that there is a strong negative relationship between
    the number of misspellings in a review and the likelihood of fraud. Specifically,
    for each additional misspelling, the likelihood of fraud decreases by 0.0044.
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Num_Misspelling**的系数为负值，且具有统计学意义（P>|t| = 0.000）。这表明，在评论中的拼写错误数量与欺诈的可能性之间存在强烈的负相关关系。具体来说，每增加一个拼写错误，欺诈的可能性会降低0.0044。'
- en: The coefficient for **Avg_Word_Len** is positive and statistically significant
    (P>|t| = 0.027). This suggests that there is a weak positive relationship between
    the average word length in a review and the likelihood of fraud. Specifically,
    for each additional unit of average word length, the likelihood of fraud increases
    by 0.0023.
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Avg_Word_Len**的系数为正值，且具有统计学意义（P>|t| = 0.027）。这表明，在评论中平均单词长度与欺诈的可能性之间存在弱正相关关系。具体来说，每增加一个平均单词长度的单位，欺诈的可能性会增加0.0023。'
- en: The Omnibus test shows that the residuals are not normally distributed (Prob(Omnibus)
    < 0.05), which suggests that the normality assumption of the model may not hold.
    The Durbin-Watson value of 0.033 indicates that there may be autocorrelation in
    the residuals, while the Jarque-Bera test suggests that there may be some small
    deviation from normality in the residuals. These results should be investigated
    further to determine whether they are problematic for the analysis.
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Omnibus测试表明，残差不是正态分布的（Omnibus概率 < 0.05），这表明模型的正态性假设可能不成立。Durbin-Watson值为0.033，表明残差中可能存在自相关，而Jarque-Bera测试表明残差可能存在一些小的正态性偏差。这些结果应进一步调查，以确定它们是否对分析造成问题。
- en: Overall, the regression model suggests that the number of misspellings in a
    review is the most important predictor of fraud, while the length of the review
    text and the average word length are weaker predictors. However, the R² value
    is low, indicating that the model is not a strong predictor of fraud in general.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 总体而言，回归模型表明，评论中的拼写错误数量是欺诈的最重要预测因素，而评论文本长度和平均单词长度是较弱的预测因素。然而，R²值较低，表明该模型在总体上不是欺诈的强预测因素。
- en: 'In our previous example, we used only continuous features that we had derived.
    However, it is possible to use categorical features as well. The formula that
    we pass to the OLS regression function can be amended as follows:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们之前的例子中，我们只使用了我们推导出的连续特征。然而，也可以使用分类特征。我们传递给OLS回归函数的公式可以修改如下：
- en: '[PRE17]'
  id: totrans-213
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'And you see the following result:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到以下结果：
- en: '![Figure 4.9 – OLS regression with categorical features](img/B19327_04_09.jpg)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![图4.9 – 带有分类特征的OLS回归](img/B19327_04_09.jpg)'
- en: Figure 4.9 – OLS regression with categorical features
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 图4.9 – 带有分类特征的OLS回归
- en: From this output, we can see that the R² is now 0.359, which indicates that
    the independent variables explain about 36% of the variation in the dependent
    variable. This is an improvement over our previous model, where the independent
    variables could explain less than 2% of the variance in the dependent variables.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 从这个输出中，我们可以看到R²现在是0.359，这表明独立变量解释了因变量变化的约36%。这比我们之前的模型有所改进，之前的模型中独立变量只能解释因变量变化的不到2%。
- en: While the interpretation for the other variables (review text length, average
    word length, and number of misspellings) remains the same, we have also added
    categorical variables to our analysis. In this OLS regression model, the coefficients
    for **RATING** and **VERIFIED_PURCHASE** correspond to the estimated difference
    in the mean value of the dependent variable, **FRAUD_LABEL**, for the corresponding
    category and the reference category.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管其他变量（如评论文本长度、平均单词长度和拼写错误数量）的解释保持不变，但我们也在分析中增加了分类变量。在这个OLS回归模型中，**RATING**和**VERIFIED_PURCHASE**的系数对应于对应类别和参考类别中因变量**FRAUD_LABEL**的均值估计差异。
- en: 'For **RATING**, the reference category is assumed to be the lowest rating (1).
    The estimated coefficients for **RATING** suggest that, compared to the lowest
    rating, the mean value of **FRAUD_LABEL** is as follows:'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 对于**RATING**，参考类别假定是最低评分（1）。**RATING**的估计系数表明，与最低评分相比，**FRAUD_LABEL**的均值如下：
- en: 0.0086 units lower for a rating of 2 (not significant, p > 0.05)
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 评分为2时，比平均值低0.0086个单位（不显著，p > 0.05）
- en: 0.0316 units lower for a rating of 3 (significant, p < 0.05)
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 评分为3时，比平均值低0.0316个单位（显著，p < 0.05）
- en: 0.0086 units lower for a rating of 4 (not significant, p > 0.05)
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 评分为4时，比平均值低0.0086个单位（不显著，p > 0.05）
- en: 0.0520 units higher for a rating of 5 (significant, p < 0.05)
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 评分为5时，比平均值高0.0520个单位（显著，p < 0.05）
- en: For **VERIFIED_PURCHASE**, the reference category is assumed to be a non-verified
    purchase (N). The estimated coefficient for **VERIFIED_PURCHASE** indicates that
    the mean value of **FRAUD_LABEL** is 0.5951 units lower for verified purchases
    (significant, p < 0.05) compared to non-verified purchases. This suggests that
    verified purchases are associated with a lower probability of fraud.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 对于**VERIFIED_PURCHASE**，参考类别假定是非验证购买（N）。**VERIFIED_PURCHASE**的估计系数表明，与未验证购买相比，验证购买的**FRAUD_LABEL**均值低0.5951个单位（显著，p
    < 0.05）。这表明验证购买与较低的欺诈概率相关。
- en: It’s worth noting that the coefficients for categorical variables in this model
    are estimated relative to the reference category. Therefore, if you were to change
    the reference category for **RATING** or **VERIFIED_PURCHASE**, the estimated
    coefficients would change, but the overall model fit and significance levels would
    remain the same.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，该模型中分类变量的系数是相对于参考类别进行估计的。因此，如果你要更改**RATING**或**VERIFIED_PURCHASE**的参考类别，估计的系数将会改变，但整体模型的拟合度和显著性水平将保持不变。
- en: Summary
  id: totrans-226
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we examined the problem of fake reviews on e-commerce platforms
    through the lens of statistical and machine learning models. We began by understanding
    the review ecosystem and the nature of fake reviews, including their evolution
    over time. We then explored a dataset of fake reviews and conducted statistical
    tests to determine whether they show characteristics significantly different from
    genuine reviews. Finally, we modeled the review integrity using OLS regression
    and examined how various factors affect the likelihood that a review is fake.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们通过统计和机器学习模型的角度来审视电子商务平台上虚假评论的问题。我们首先理解了评论生态系统和虚假评论的本质，包括它们随时间的变化。然后，我们探索了一个虚假评论的数据集，并进行了统计测试，以确定它们是否显示出与真实评论显著不同的特征。最后，我们使用OLS回归模型来模拟评论的完整性，并考察了各种因素如何影响评论是虚假的可能性。
- en: This chapter introduced you to the foundations of data science, including exploratory
    data analysis, statistics, and the beginnings of machine learning.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 本章向您介绍了数据科学的基础，包括探索性数据分析、统计学和机器学习的初步知识。
- en: In the next chapter, we will discuss techniques for detecting deepfakes, which
    plague the internet and social media today.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将讨论检测深度伪造的技术，这些技术目前困扰着互联网和社交媒体。
