- en: Organizing Data with Datasets
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用数据集组织数据
- en: 'In his story “The Adventure of the Copper Breeches”, Arthur Conan Doyle has
    Sherlock Holmes shout “*Data! Data! Data! I cannot make bricks without clay*”—and
    this mindset, which served the most famous detective in literature so well, should
    be adopted by every data scientist. For that reason, we begin the more technical
    part of this book with a chapter dedicated to data: specifically, in the Kaggle
    context, leveraging the power of Kaggle Datasets functionality for our purposes.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在他的故事《铜色短裤奇案》中，亚瑟·柯南·道尔让福尔摩斯喊道“*数据！数据！数据！没有粘土我无法制造砖块*”——这种心态，对文学中最著名的侦探来说效果非常好，每个数据科学家都应该采纳。因此，我们以一个专门介绍数据的章节开始这本书的技术部分：具体来说，在Kaggle的背景下，利用Kaggle数据集功能来满足我们的目的。
- en: Setting up a dataset
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置数据集
- en: 'In principle, any data you can use (subject to limitations—see the legal caveats
    section below), you can upload to Kaggle. The specific limits at the time of writing
    this book are: 20 gigabytes per dataset and 100 gb total quota. Keep in mind that
    the size limit per single dataset is calculated uncompressed—uploading compressed
    versions speeds up the transfer but does not help against the limits. You can
    check the most recent documentation of the datasets at this link:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在原则上，你可以使用任何数据（受限于以下法律注意事项），你可以上传到Kaggle。本书撰写时的具体限制是：每个数据集20吉字节，总配额100吉字节。请注意，单个数据集的大小限制是计算未压缩的——上传压缩版本可以加快传输速度，但不会帮助克服限制。你可以通过此链接检查数据集的最新文档：
- en: '[https://www.kaggle.com/docs/datasets](https://www.kaggle.com/docs/datasets)'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://www.kaggle.com/docs/datasets](https://www.kaggle.com/docs/datasets)'
- en: 'Kaggle promotes itself as a “home of open data science” and the impressive
    collection of datasets available from the site certainly lends some credence to
    that claim: before uploading the data for your project into a dataset, make sure
    to check the existing content—for several popular applications, there is a chance
    it has already been stored there:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Kaggle将自己宣传为“开放数据科学的家园”，并且从该网站提供的令人印象深刻的数据集集合确实为这一说法增添了一些可信度：在将你的项目数据上传到数据集之前，请确保检查现有内容——对于几个流行的应用，它可能已经被存储在那里：
- en: '![](img/file1.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/file1.png)'
- en: 'For the sake of this introduction, let us assume the kind of data you will
    be using in your project is not already there—so you need to create a new one.
    When you head to the menu with three lines on the left-hand side and click on
    **Data** you will be redirected to the dataset page:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 为了介绍的目的，让我们假设你将在项目中使用的数据类型尚未存在——因此你需要创建一个新的。当你点击左侧带有三条线的菜单并点击**数据**时，你将被重定向到数据集页面：
- en: '![](img/file2.png)'
  id: totrans-8
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/file2.png)'
- en: 'When you click on **New Dataset** you will be prompted for the basics: uploading
    the actual data and giving it a title:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 当你点击**新建数据集**时，你将被提示输入基本信息：上传实际数据和给它一个标题：
- en: '![](img/file3.png)'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/file3.png)'
- en: Keep in mind that Kaggle is a popular platform, so numerous people upload their
    data there—including private (not publicly visible) ones—so try to think of a
    non-generic title.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，Kaggle是一个流行的平台，所以很多人上传他们的数据到那里——包括私有的（不可公开查看）——所以尽量想一个非通用标题。
- en: 'Voila! Your first dataset is ready. You can then head to the **Data** tab:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 哇！你的第一个数据集已经准备好了。然后你可以转到**数据**标签：
- en: '![](img/file4.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/file4.png)'
- en: 'In principle you do not have to fill out all the fields—your newly created
    dataset is perfectly usable without them (and if it is a private one, you probably
    do not care—after all you know what is in it). However, the community etiquette
    would suggest filling the info for the ones you make public: the more you specify,
    the more usable the data will be to others (and measured by the usability score,
    displayed in the upper right corner).'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在原则上，你不必填写所有字段——你新创建的数据集在没有它们的情况下也可以完美使用（如果它是私有的，你可能也不在乎——毕竟你知道里面有什么）。然而，社区礼仪会建议填写你公开的信息：你指定得越多，数据对其他人就越有用（并且通过可用性评分来衡量，显示在上右角）。
- en: Gathering the data
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 收集数据
- en: 'Apart from legal aspect (see the last section of this chapter), there is no
    real limit on the kind of content you can store in the datasets: tabular data,
    images, text—if you fit within the size requirements, you can store it. This includes
    data harvested from other sources: tweets by hashtag or topic are among the popular
    datasets at the time of writing:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 除了法律方面（见本章最后部分）之外，在数据集中存储的内容类型实际上没有限制：表格数据、图像、文本——如果你符合大小要求，你可以存储它。这包括从其他来源收集的数据：在撰写本文时，按标签或主题收集的推文是流行的数据集之一：
- en: '![](img/file5.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![](img/file5.png)'
- en: Discussion of the different frameworks for harvesting data from social media
    (Twitter, Reddit etc) is outside the scope of this book.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 讨论从社交媒体（Twitter、Reddit等）收集数据的不同框架超出了本书的范围。
- en: Using the Kaggle datasets outside of Kaggle
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在 Kaggle 之外使用 Kaggle 数据集
- en: 'Kaggle kernels are free to use, but not without limits (more on that in *Chapter
    4*)—and the first one you are likely to hit is the time limit of 8 hours. A popular
    alternative is to move to Google Colab a free Jupyter notebook environment that
    runs entirely in the cloud:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: Kaggle 内核免费使用，但并非没有限制（更多内容请见*第4章*）——您可能首先遇到的是8小时的时限。一个流行的替代方案是迁移到完全在云端运行的免费
    Jupyter 笔记本环境 Google Colab：
- en: '[https://colab.research.google.com](https://colab.research.google.com)'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://colab.research.google.com](https://colab.research.google.com)'
- en: But even once we move the computations there, we might still want to have access
    to the Kaggle datasets—so importing them into Colab is a rather handy feature.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 但即使我们将计算移动到那里，我们可能仍然希望访问 Kaggle 数据集——因此将它们导入 Colab 是一个相当方便的功能。
- en: 'The first thing we do—since you are reading this, we assume you already are
    registered on Kaggle—is head to the account page to generate the API token:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先做的事情——既然您正在阅读这篇文章，我们假设您已经在 Kaggle 上注册——是前往账户页面生成 API 令牌：
- en: Go to “your account” and click on **Create New API Token**
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 前往“您的账户”并点击**创建新的API令牌**
- en: A file named `kaggle.json` containing your username and token will be created
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将包含您的用户名和令牌的名为 `kaggle.json` 的文件创建
- en: '![](img/file6.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![](img/file6.png)'
- en: Next step is to create a folder named “`Kaggle`” in your drive and upload the
    `.json` there
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是在您的驱动器中创建一个名为“`Kaggle`”的文件夹并将`.json`文件上传到那里
- en: '![](img/file7.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](img/file7.png)'
- en: 'Once done, you need to create a new Colab notebook and mount your drive:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，您需要创建一个新的 Colab 笔记本并将您的驱动器挂载：
- en: '![](img/file8.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](img/file8.png)'
- en: 'Get the authorization code from the URL prompt and provide in the empty box,
    then execute the following code to prove the path to the `.json` config:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 从URL提示中获取授权代码并在空框中提供，然后执行以下代码以证明到`.json`配置文件的路径：
- en: '![](img/file9.png)![](img/file10.png)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![](img/file9.png)![](img/file10.png)'
- en: 'We can download the dataset now: begin by going to Kaggle and copying the API
    command:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在可以下载数据集：首先前往 Kaggle 并复制 API 命令：
- en: '![](img/file11.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![](img/file11.png)'
- en: 'Run the code:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 运行代码：
- en: '![](img/file12.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](img/file12.png)'
- en: The dataset will be downloaded as a `.zip` archive—unpack it and you are good
    to go.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集将以`.zip`存档的形式下载——解压后即可使用。
- en: Building around datasets
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 围绕数据集构建
- en: 'Once you have created a dataset, you probably want to use in your analysis.
    You can start a kernel using your dataset as a primary source: go to the **Activity**
    tab in the upper menu of your dataset page and scroll to this block:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦创建了数据集，您可能希望将其用于分析。您可以使用数据集作为主要来源启动内核：前往数据集页面顶部菜单中的**活动**标签并滚动到该块：
- en: '![](img/file13.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![](img/file13.png)'
- en: Alternatively, you can start a conversation around the data by clicking on **Create
    a discussion**.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，您可以通过点击**创建讨论**来围绕数据开始对话。
- en: Legal caveats
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 法律注意事项
- en: 'Just because you can put some data on Kaggle does not necessarily mean that
    you should—excellent example would be the “People of Tinder dataset”: in 2017,
    a developer used the Tinder API to scrape the website for semi-private profiles
    and uploaded the data on Kaggle. After the issue became known, Kaggle ended up
    taking the dataset down. You can read the full story here:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 仅因为您可以将一些数据上传到 Kaggle，并不意味着您应该这样做——一个很好的例子是“Tinder People”数据集：2017年，一位开发者使用
    Tinder API 爬取网站上的半私密资料，并将数据上传到 Kaggle。问题曝光后，Kaggle 最终撤下了该数据集。您可以在此处阅读完整故事：
- en: '[https://www.forbes.com/sites/janetwburns/2017/05/02/tinder-profiles-have-been-looted-again-this-time-for-teaching-ai-to-genderize-faces/?sh=1afb86b25454](https://www.forbes.com/sites/janetwburns/2017/05/02/tinder-profiles-have-been-looted-again-this-time-for-teaching-ai-to-genderize-faces/?sh=1afb86b25454)'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://www.forbes.com/sites/janetwburns/2017/05/02/tinder-profiles-have-been-looted-again-this-time-for-teaching-ai-to-genderize-faces/?sh=1afb86b25454](https://www.forbes.com/sites/janetwburns/2017/05/02/tinder-profiles-have-been-looted-again-this-time-for-teaching-ai-to-genderize-faces/?sh=1afb86b25454)'
- en: 'In general, before you upload anything to Kaggle ask yourself two questions:
    is it legal (from a copyright standpoint—always check the licenses) and are there
    any risks associated with this dataset (privacy or otherwise).'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，在您上传任何内容到 Kaggle 之前，请问自己两个问题：这是否合法（从版权角度来看——始终检查许可证）以及此数据集是否存在任何风险（隐私或其他）。
