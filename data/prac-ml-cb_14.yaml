- en: Chapter 14. Case Study - Forecast of Electricity Consumption
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第14章. 案例研究 - 电力消费预测
- en: Introduction
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: Electricity is the only commodity that is produced and consumed simultaneously;
    therefore, a perfect balance between supply and consumption in the electricity
    power market must always be maintained. Forecasting electricity consumption is
    of national interest to any country since electricity is a key source of energy.
    A reliable forecast of energy consumption, production, and distribution meets
    the stable and long-term policy. The presence of economies of scale, focus on
    environmental concerns, regulatory requirements, and a favorable public image,
    coupled with inflation, rapidly rising energy prices, the emergence of alternative
    fuels and technologies, changes in life styles, and so on, has generated the need
    to use modeling techniques which capture the effect of factors such as prices,
    income, population, technology, and other economic, demographic, policy, and technological
    variables.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 电力是唯一一种生产和消费同时进行的商品；因此，在电力市场必须始终保持供应和消费之间的完美平衡。对于任何国家来说，预测电力消费都是国家利益所在，因为电力是能源的关键来源。可靠的能源消费、生产和分配预测符合稳定和长期的政策。规模经济、关注环境问题、监管要求、良好的公众形象，以及通货膨胀、能源价格快速上涨、替代燃料和技术的出现、生活方式的变化等，都产生了使用建模技术的需求，这些技术可以捕捉价格、收入、人口、技术以及其他经济、人口、政策和技术变量的影响。
- en: Underestimation could lead to under-capacity utilization, which would result
    in poor quality of service including localized brownouts, or even blackouts. While
    on the other hand, an overestimation could lead to the authorization of a plant
    that may not be needed for several years. The requirement is to ensure optimal
    phasing of investments, a long-term consideration, and rationalizing pricing structures
    and designing demand-side management programs, to meet the nature of short- or
    medium-term needs. The forecast further drives various plans and decisions on
    investment, construction, and conservation.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 低估可能导致产能利用率不足，这会导致服务质量下降，包括局部停电，甚至停电。而另一方面，高估可能导致授权一个可能在未来几年内不需要的工厂。要求是确保投资的最佳时机，这是一个长期考虑，合理化定价结构并设计需求管理计划，以满足短期或中期需求的特点。预测进一步推动各种投资、建设和保护计划。
- en: Getting ready
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: In order to carry out forecasting of electricity consumption, we shall be using
    a dataset collected on smart meter data with time series aggregated by four located
    industries.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 为了进行电力消费预测，我们将使用一个收集于智能电表数据的数据集，该数据集按四个位于不同行业的行业进行时间序列汇总。
- en: Step 1 - collecting and describing data
  id: totrans-6
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第1步 - 收集和描述数据
- en: 'The dataset titled `DT_4_ind` shall be used. The numeric variable is as follows:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 应使用名为 `DT_4_ind` 的数据集。数值变量如下：
- en: '`value`'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`value`'
- en: 'The non-numeric variables are as follows:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 非数值变量如下：
- en: '`date_time`'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`date_time`'
- en: '`week`'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`week`'
- en: '`date`'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`date`'
- en: '`type`'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`type`'
- en: How to do it...
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Let's get into the details.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们深入了解。
- en: Step 2 - exploring data
  id: totrans-16
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第2步 - 探索数据
- en: 'The following packages need to be loaded as a first step to be carried out:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 以下包需要在第一步加载：
- en: '[PRE0]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Note
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'Version info: Code for this page was tested in R version 3.2.2'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 版本信息：本页面的代码在 R 版本 3.2.2 中进行了测试
- en: Let's explore the data and understand the relationships between the variables.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们探索数据并了解变量之间的关系。
- en: 'Checking whether an object is `as.data.table()`: Binary columnar serialization
    for data frames is carried out using `feather`. In order to share, read, and write
    data across data analysis languages easily, `feather` is used. The `read_feather()`
    function is used to read feather files.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 检查对象是否为 `as.data.table()`：数据框的二进制列式序列化使用 `feather` 实现。为了方便在不同数据分析语言之间共享、读取和写入数据，使用
    `feather`。使用 `read_feather()` 函数读取 feather 文件。
- en: 'We''ll begin by importing the `DT_4_ind` dataset. We will be saving the data
    to the `AggData` data frame:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先导入 `DT_4_ind` 数据集。我们将把数据保存到 `AggData` 数据框中：
- en: '[PRE1]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Exploring the internal structure of the `AggData` data frame: The `str()` function
    displays the internal structure of the data frame. `AggData` is passed as an R
    object to the `str()` function:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 探索 `AggData` 数据框的内部结构：`str()` 函数显示数据框的内部结构。`AggData` 作为 R 对象传递给 `str()` 函数：
- en: '[PRE2]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The result is as follows:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 2 - exploring data](img/image_14_001.jpg)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![第2步 - 探索数据](img/image_14_001.jpg)'
- en: 'Printing the `AggData` frame. The `head()` function returns the first part
    of the base data frame. The `AggData` data frame is passed as an input parameter:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 打印 `AggData` 数据框。`head()` 函数返回基本数据框的前部分。将 `AggData` 数据框作为输入参数传递：
- en: '[PRE3]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The result is as follows:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 2 - exploring data](img/image_14_002.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 2 - 探索数据](img/image_14_002.jpg)'
- en: Plotting the aggregated time series data of electricity consumption by industry.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 绘制按行业汇总的电力消耗时间序列数据。
- en: 'The `ggplot()` function declares the input data frame for a graphic and specifies
    the set of plot aesthetics intended to be common throughout. `data = AggData`
    is the dataset to be used for plotting while `aes()` describes how variables in
    the data are mapped to visual properties. `geom_line()` produces the single line
    that tries to connect all the observations:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '`ggplot()` 函数声明用于图形的数据框，并指定在整个图形中要共同使用的绘图美学集。`data = AggData` 是用于绘图的数据库集，而
    `aes()` 描述了数据中的变量如何映射到视觉属性。`geom_line()` 生成尝试连接所有观察值的单条线：'
- en: '[PRE4]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The result is as follows:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 2 - exploring data](img/image_14_003.jpg)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 2 - 探索数据](img/image_14_003.jpg)'
- en: Note
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: It is important to note that the consumption of the industry Food Sales & Storage
    does not change much during holidays compared to others.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的一点是，与其它行业相比，食品销售与储存行业的消费在假日期间变化不大。
- en: Step 3 - time series - regression analysis
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 步骤 3 - 时间序列 - 回归分析
- en: 'The regression model is formulated as follows:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 回归模型如下所示：
- en: '![Step 3 - time series - regression analysis](img/image_14_004.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 3 - 时间序列 - 回归分析](img/image_14_004.jpg)'
- en: Variables (inputs) are of two types of seasonal dummy variables--daily ![Step
    3 - time series - regression analysis](img/image_14_005.jpg) and weekly ![Step
    3 - time series - regression analysis](img/image_14_006.jpg) .  ![Step 3 - time
    series - regression analysis](img/image_14_007.jpg) is the electricity consumption
    at the time *i* , where ![Step 3 - time series - regression analysis](img/image_14_008.jpg) are the
    regression coefficients to be estimated.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 变量（输入）有两种类型的季节性虚拟变量--每日 ![步骤 3 - 时间序列 - 回归分析](img/image_14_005.jpg) 和每周 ![步骤
    3 - 时间序列 - 回归分析](img/image_14_006.jpg) 。 ![步骤 3 - 时间序列 - 回归分析](img/image_14_007.jpg)
    是时间 *i* 时的电力消耗，其中 ![步骤 3 - 时间序列 - 回归分析](img/image_14_008.jpg) 是要估计的回归系数。
- en: 'Printing the contents of the `AggData` data frame:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 打印 `AggData` 数据框的内容：
- en: '[PRE5]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The result is as follows:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 3 - time series - regression analysis](img/image_14_009.jpg)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 3 - 时间序列 - 回归分析](img/image_14_009.jpg)'
- en: 'Transforming the characters of weekdays to integers: The `as.factor()` function
    is used to encode a vector as a factor. The `as.integer()` function creates the
    `AggData[, week]` object of the integer type:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 将工作日的字符转换为整数：使用 `as.factor()` 函数将向量编码为因子。`as.integer()` 函数创建 `AggData[, week]`
    的整数类型对象：
- en: '[PRE6]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Printing the contents of the `AggData` data frame after the change:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 打印更改后的 `AggData` 数据框内容：
- en: '[PRE7]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'The result is as follows:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 3 - time series - regression analysis](img/image_14_010.jpg)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 3 - 时间序列 - 回归分析](img/image_14_010.jpg)'
- en: 'Extracting unique industry types from the `AggData` data frame using the following:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下方法从 `AggData` 数据框中提取唯一的行业类型：
- en: '[PRE8]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Printing the contents of the data frame `n_type` after the change:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 打印更改后的数据框 `n_type` 内容：
- en: '[PRE9]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The result is as follows:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 3 - time series - regression analysis](img/image_14_011.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 3 - 时间序列 - 回归分析](img/image_14_011.jpg)'
- en: 'Extracting unique dates from the `AggData` data frame using the following:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下方法从 `AggData` 数据框中提取唯一日期：
- en: '[PRE10]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Extracting unique weekdays from the `AggData` data frame using the following:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下方法从 `AggData` 数据框中提取唯一的工作日：
- en: '[PRE11]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Setting the `period` value using the following:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下方法设置 `period` 值：
- en: '[PRE12]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Performing regression analysis on a sample dataset.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在样本数据集上执行回归分析。
- en: 'We extract education (schools) buildings over a period of 2 weeks. The result
    is stored in the `data_reg` data frame. `n_type[2]`represents education buildings
    and `n_date[57:70]`denotes a 2-week period:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在两周的时间内提取教育（学校）建筑。结果存储在 `data_reg` 数据框中。`n_type[2]` 代表教育建筑，而 `n_date[57:70]`
    表示两周的时间段：
- en: '[PRE13]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Printing the contents of the `data_reg` data frame after the change:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 打印更改后的 `data_reg` 数据框内容：
- en: '[PRE14]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'The result is as follows:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 3 - time series - regression analysis](img/image_14_012.jpg)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 3 - 时间序列 - 回归分析](img/image_14_012.jpg)'
- en: Plotting the sample dataset of education (school buildings) over a period of
    2 weeks (February 27 to March 12)
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在 2 周期间（2 月 27 日至 3 月 12 日）绘制教育（学校建筑）样本数据集：
- en: 'The `ggplot()` function declares the input data frame for a graphic and specifies
    the set of plot aesthetics intended to be common throughout. `data_reg` is the
    dataset to be used for plotting while `aes()` describes how variables in the data
    are mapped to visual properties. `geom_line()` produces the single line that tries
    to connect all the observations:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '`ggplot()` 函数声明了图形的输入数据框并指定了在整个图形中要通用的绘图美学集。`data_reg` 是用于绘图的数据库，而 `aes()`
    描述了数据中的变量如何映射到视觉属性。`geom_line()` 生成单条线，试图连接所有观测值：'
- en: '[PRE15]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'The result is as follows:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 3 - time series - regression analysis](img/image_14_013.jpg)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![第 3 步 - 时间序列 - 回归分析](img/image_14_013.jpg)'
- en: 'Extracting the number of rows from the `data_reg` data frame:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 从 `data_reg` 数据框中提取行数：
- en: '[PRE16]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Calculating the number of days in the training set:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 计算训练集中的天数：
- en: '[PRE17]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Creating independent seasonal dummy variables--daily  ![Step 3 - time series
    - regression analysis](img/image_14_014.jpg) and weekly ![Step 3 - time series
    - regression analysis](img/image_14_015.jpg) . The daily seasonal value is extracted
    from *1,.....period, 1,.......period* for 48 vectors of daily variables. The weekly
    value is extracted from `week_num` . The result is then stored in one vector,
    `matrix_train` :'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 创建独立的季节性虚拟变量--每日 ![第 3 步 - 时间序列 - 回归分析](img/image_14_014.jpg) 和每周 ![第 3 步 -
    时间序列 - 回归分析](img/image_14_015.jpg) 。每日季节性值从 *1,.....period, 1,.......period* 中提取
    48 个每日变量的向量。每周值从 `week_num` 中提取。然后将结果存储在一个向量 `matrix_train` 中：
- en: '[PRE18]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Printing the contents of the `matrix_train` data frame after the change:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在更改后打印 `matrix_train` 数据框的内容：
- en: '[PRE19]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'The result is as follows:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 3 - time series - regression analysis](img/image_14_016.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![第 3 步 - 时间序列 - 回归分析](img/image_14_016.jpg)'
- en: 'Creating a linear model. The `lm()` function fits the linear models: `Load
    ~ 0 + .` is the formula. Since `lm()` automatically adds to the linear model intercept,
    we define it now as `0`. `data = matrix_train` defines the data frame which contains
    the data:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 创建线性模型。`lm()` 函数拟合线性模型：`Load ~ 0 + .` 是公式。由于 `lm()` 自动添加到线性模型的截距，我们将其现在定义为 `0`。`data
    = matrix_train` 定义了包含数据的数据框：
- en: '[PRE20]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Printing the contents of the `linear_model_1` data frame after the change:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 在更改后打印 `linear_model_1` 数据框的内容：
- en: '[PRE21]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'The result is as follows:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 3 - time series - regression analysis](img/image_14_017.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![第 3 步 - 时间序列 - 回归分析](img/image_14_017.jpg)'
- en: 'Producing result summaries of the model `linear_model_1`:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 生成模型 `linear_model_1` 的结果摘要：
- en: '[PRE22]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Printing the contents of the `summary_1` data frame after the change:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 在更改后打印 `summary_1` 数据框的内容：
- en: '[PRE23]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'The result is as follows:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 3 - time series - regression analysis](img/image_14_018.jpg)![Step 3
    - time series - regression analysis](img/image_14_019.jpg)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![第 3 步 - 时间序列 - 回归分析](img/image_14_018.jpg)![第 3 步 - 时间序列 - 回归分析](img/image_14_019.jpg)'
- en: 'Extracting the coefficient of determination using the `r.squared` attribute
    from the `summary_1` data frame:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `summary_1` 数据框中的 `r.squared` 属性提取决定系数：
- en: '[PRE24]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '![Step 3 - time series - regression analysis](img/image_14_020.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![第 3 步 - 时间序列 - 回归分析](img/image_14_020.jpg)'
- en: 'Creating one `data.table` from a list of `data_reg` and `linear_model_1` :'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 从 `data_reg` 列表创建一个 `data.table`：
- en: '[PRE25]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Printing the contents of the `datas` data frame after the change:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 在更改后打印 `datas` 数据框的内容：
- en: '[PRE26]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'The result is as follows:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 3 - time series - regression analysis](img/image_14_021.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![第 3 步 - 时间序列 - 回归分析](img/image_14_021.jpg)'
- en: Plotting fitted values for `linear_model_1` .
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 绘制 `linear_model_1` 的拟合值。
- en: '`data = datas` is the dataset to be used for plotting while `aes()` describes
    how variables in the data are mapped to visual properties. `geom_line()` produces
    the single line that tries to connect all the observations:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '`data = datas` 是用于绘图的数据库，而 `aes()` 描述了数据中的变量如何映射到视觉属性。`geom_line()` 生成单条线，试图连接所有观测值：'
- en: '[PRE27]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'The result is as follows:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 3 - time series - regression analysis](img/image_14_022.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![第 3 步 - 时间序列 - 回归分析](img/image_14_022.jpg)'
- en: Plotting fitted values versus residual values.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 绘制拟合值与残差值的关系图。
- en: '`data` is the dataset to be used for plotting while `aes()` describes how variables
    in the data are mapped to visual properties:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '`data` 是用于绘图的数据库，而 `aes()` 描述了数据中的变量如何映射到视觉属性：'
- en: '[PRE28]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'The result is as follows:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 3 - time series - regression analysis](img/image_14_023.jpg)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 3 - 时间序列 - 回归分析](img/image_14_023.jpg)'
- en: 'The function first gives the standardized residual from the linear model. It
    then calculates the `1Q` and `4Q` lines. Then, the quantile distribution is generated
    from the normal distribution. The slope and intercept is then calculated which
    is then plotted:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 函数首先给出线性模型的标准化残差。然后计算`1Q`和`4Q`线。接着，从正态分布生成分位数分布。然后计算斜率和截距，并将其绘制出来：
- en: '[PRE29]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'We can plot Q-Q with the following command:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用以下命令绘制Q-Q图：
- en: '[PRE30]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'The result is as follows:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 3 - time series - regression analysis](img/image_14_024.jpg)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 3 - 时间序列 - 回归分析](img/image_14_024.jpg)'
- en: As is clearly visible, the points are not normal as they are away from the red
    line. The measurements during the day were moved constantly by the estimated coefficient
    of the week variable, but the behavior during the day wasn't captured. We need
    to capture this behavior because weekends, especially, behave absolutely differently.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 如清晰可见，点不在红色线上，它们不正常。由于周变量的估计系数，白天的测量值不断移动，但白天的行为没有被捕捉到。我们需要捕捉这种行为，因为周末的行为尤其不同。
- en: Step 4 - time series - improving regression analysis
  id: totrans-126
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 步骤 4 - 时间序列 - 改进回归分析
- en: 'Creating a linear model: The `lm()` function fits the linear models. `Load
    ~ 0 + Daily + Weekly + Daily:Weekly` is the new formula. Since `lm()` automatically
    adds to the linear model intercept, we define it now as `0`. `data = matrix_train` defines
    the data frame which contains the data:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 创建线性模型：`lm()`函数拟合线性模型。`Load ~ 0 + Daily + Weekly + Daily:Weekly`是新的公式。由于`lm()`自动添加到线性模型的截距，我们将其现在定义为`0`。`data
    = matrix_train`定义了包含数据的数据框：
- en: '[PRE31]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Printing the contents of the `linear_model_2` data frame after the change:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 在更改后打印`linear_model_2`数据框的内容：
- en: '[PRE32]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'The result is as follows:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 4 - time series - improving regression analysis](img/image_14_025.jpg)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 4 - 时间序列 - 改进回归分析](img/image_14_025.jpg)'
- en: 'Comparing R-squared values from the summaries of the `linear_model_1` and `linear_model_2`
    models:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 比较来自`linear_model_1`和`linear_model_2`模型摘要的R-squared值：
- en: '[PRE33]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'The result is as follows:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 4 - time series - improving regression analysis](img/image_14_026.jpg)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 4 - 时间序列 - 改进回归分析](img/image_14_026.jpg)'
- en: There is a significant improvement in the R-squared value of the second model.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个模型的R-squared值有显著提高。
- en: 'Comparing the residuals of the `linear_model_1` and `linear_model_2` models
    graphically:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 图形比较`linear_model_1`和`linear_model_2`模型的残差。
- en: '[PRE34]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'The result is as follows:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 4 - time series - improving regression analysis](img/image_14_027.jpg)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 4 - 时间序列 - 改进回归分析](img/image_14_027.jpg)'
- en: Details of residuals of `linear_model_1`.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '`linear_model_1`的残差细节。'
- en: 'The result is as follows:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 4 - time series - improving regression analysis](img/image_14_028.jpg)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 4 - 时间序列 - 改进回归分析](img/image_14_028.jpg)'
- en: Details of residuals of `linear_model_2`.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '`linear_model_2`的残差细节。'
- en: 'The result is as follows:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 4 - time series - improving regression analysis](img/image_14_029.jpg)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 4 - 时间序列 - 改进回归分析](img/image_14_029.jpg)'
- en: 'Creating one `data.table` from a list of `data_reg` and `linear_model_2` :'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 从`data_reg`和`linear_model_2`的列表中创建一个`data.table`：
- en: '[PRE35]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Printing the contents of the `datas` data frame after the change:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 在更改后打印`datas`数据框的内容：
- en: '[PRE36]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'The result is as follows:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 4 - time series - improving regression analysis](img/image_14_030.jpg)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 4 - 时间序列 - 改进回归分析](img/image_14_030.jpg)'
- en: 'Adding `Real` and `Fitted` columns to `datas`:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 向`datas`添加`Real`和`Fitted`列：
- en: '[PRE37]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Printing the contents of the `datas` data frame after the change:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在更改后打印`datas`数据框的内容：
- en: '[PRE38]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'The result is as follows:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 4 - time series - improving regression analysis](img/image_14_031.jpg)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 4 - 时间序列 - 改进回归分析](img/image_14_031.jpg)'
- en: Plotting fitted values for `linear_model_2` .
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 绘制`linear_model_2`的拟合值。
- en: '`data = datas` is the dataset to be used for plotting while `aes()` describes
    how variables in the data are mapped to visual properties. `geom_line()` produces
    the single line that tries to connect all the observations:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '`data = datas`是用于绘图的数据库集，而`aes()`描述了数据中的变量如何映射到视觉属性。`geom_line()`生成试图连接所有观察值的单一线条：'
- en: '[PRE39]'
  id: totrans-162
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'The result is as follows:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 4 - time series - improving regression analysis](img/image_14_032.jpg)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 4 - 时间序列 - 改进回归分析](img/image_14_032.jpg)'
- en: The fitted and real values closely match compared to the earlier plot of `linear_model_1`.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 与之前 `linear_model_1` 的绘图相比，拟合值和实际值非常接近。
- en: 'Plotting fitted values versus residual values. `Data` is the dataset to be
    used for plotting while `aes()` describes how variables in the data are mapped
    to visual properties:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 绘制拟合值与残差值的关系图。`Data` 是用于绘图的数据库，而 `aes()` 描述了数据中的变量如何映射到视觉属性：
- en: '[PRE40]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'The result is as follows:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 4 - time series - improving regression analysis](img/image_14_033.jpg)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 4 - 时间序列 - 改进回归分析](img/image_14_033.jpg)'
- en: The plots appear to be closer to the residual line compared to the earlier plot
    of `linear_model_1`.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 与之前 `linear_model_1` 的绘图相比，这些图看起来更接近残差线。
- en: 'We can plot Plotting Q-Q using the following:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用以下方式绘制 Q-Q 图：
- en: '[PRE41]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'The result is as follows:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 4 - time series - improving regression analysis](img/image_14_034.jpg)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 4 - 时间序列 - 改进回归分析](img/image_14_034.jpg)'
- en: Step 5 - building a forecasting model
  id: totrans-175
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 步骤 5 - 构建预测模型
- en: 'We can define a function to return the forecast for a 1 week ahead prediction.
    The input parameters are `data` and `set_of_date`:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以定义一个函数来返回一周前预测的预测结果。输入参数是 `data` 和 `set_of_date`：
- en: '[PRE42]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'Defining the mean absolute percentage error for evaluating the forecast:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 定义评估预测的平均绝对百分比误差：
- en: '[PRE43]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'Setting the training set of the length for 2 weeks, therefore deducting 2\.
    A forecast for 50 weeks will be produced. Using a sliding window approach for
    training forecasting is done for every type of industry:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 将训练集长度设置为 2 周，因此减去 2。将生成 50 周的预测。使用滑动窗口方法进行训练预测，为每种行业进行预测：
- en: '[PRE44]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'Printing the number of weeks:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 打印周数：
- en: '[PRE45]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'The result is as follows:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 5 - building a forecasting model](img/image_14_035.jpg)'
  id: totrans-185
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 5 - 构建预测模型](img/image_14_035.jpg)'
- en: Calculating the forecast for each type of industry for 1 week ahead.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 计算每种行业一周前预测的预测结果。
- en: 'Calling the function to return the forecast for a 1 week ahead prediction for
    the `AggData` commercial property and dataset:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 调用函数返回 `AggData` 商业地产和数据集一周前预测的预测结果：
- en: '[PRE46]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'Calling the function to return the forecast for a 1 week ahead prediction for
    the `AggData` - education and date set:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 调用函数返回 `AggData` - 教育和日期集一周前预测的预测结果：
- en: '[PRE47]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'Calling the function to return the forecast for a 1 week ahead prediction for
    the `AggData` food and sales and date set:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 调用函数返回 `AggData` 食品和销售以及日期集一周前预测的预测结果：
- en: '[PRE48]'
  id: totrans-192
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'Calling the function to return the forecast for a 1 week ahead prediction for
    the `AggData` lighting industry and date set:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 调用函数返回 `AggData` 照明行业和日期集一周前预测的预测结果：
- en: '[PRE49]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'Calculate the mean absolute percentage error for each type of industry for
    evaluating the forecasts. Call the function to return the mean absolute percentage.
    Calculate the error for evaluating the forecast for the `AggData` lighting industry
    and date set:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 计算每种行业的平均绝对百分比误差以评估预测。调用函数返回平均绝对百分比。计算评估 `AggData` 照明行业和日期集预测的误差：
- en: '[PRE50]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'Printing the `lm_err_mape_1` data frame:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 打印 `lm_err_mape_1` 数据框：
- en: '[PRE51]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'The result is as follows:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 5 - building a forecasting model](img/image_14_036.jpg)'
  id: totrans-200
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 5 - 构建预测模型](img/image_14_036.jpg)'
- en: 'Calling the function to return the mean absolute percentage error for evaluating
    the forecast for the `AggData` education and date set:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 调用函数返回评估 `AggData` 教育和日期集预测的平均绝对百分比误差：
- en: '[PRE52]'
  id: totrans-202
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'Printing `lm_err_mape_2` data frame:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 打印 `lm_err_mape_2` 数据框：
- en: '[PRE53]'
  id: totrans-204
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'The result is as follows:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 5 - building a forecasting model](img/image_14_037.jpg)'
  id: totrans-206
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 5 - 构建预测模型](img/image_14_037.jpg)'
- en: 'Calling the function to return the mean absolute percentage error for evaluating
    the forecast for the `AggData` food and sales and date set:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 调用函数返回评估 `AggData` 食品和销售以及日期集预测的平均绝对百分比误差：
- en: '[PRE54]'
  id: totrans-208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'Printing the `lm_err_mape_3` data frame:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 打印 `lm_err_mape_3` 数据框：
- en: '[PRE55]'
  id: totrans-210
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'The result is as follows:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 5 - building a forecasting model](img/image_14_038.jpg)'
  id: totrans-212
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 5 - 构建预测模型](img/image_14_038.jpg)'
- en: 'Calling the function to return the mean absolute percentage error for evaluating
    the forecast for the `AggData` lighting industry and date set:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 调用函数返回评估 `AggData` 照明行业和日期集预测的平均绝对百分比误差：
- en: '[PRE56]'
  id: totrans-214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'Printing the `lm_err_mape_4data` frame:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 打印 `lm_err_mape_4data` 数据框：
- en: '[PRE57]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'The result is as follows:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 5 - building a forecasting model](img/image_14_039.jpg)'
  id: totrans-218
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 5 - 构建预测模型](img/image_14_039.jpg)'
- en: Step 6 - plotting the forecast for a year
  id: totrans-219
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 步骤 6 - 绘制一年的预测图
- en: 'Plotting the results:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 绘制结果：
- en: Note
  id: totrans-221
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: You need to have ImageMagick-7.0.4-Q16 installed for `saveGIF` to work.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要安装 ImageMagick-7.0.4-Q16 以使 `saveGIF` 功能正常工作。
- en: '[PRE58]'
  id: totrans-223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'The result is as follows:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如下：
- en: '![Step 6 - plotting the forecast for a year](img/image_14_040.jpg)![Step 6
    - plotting the forecast for a year](img/image_14_041.jpg)![Step 6 - plotting the
    forecast for a year](img/image_14_042.jpg)![Step 6 - plotting the forecast for
    a year](img/image_14_043.jpg)![Step 6 - plotting the forecast for a year](img/image_14_044.jpg)![Step
    6 - plotting the forecast for a year](img/image_14_045.jpg)![Step 6 - plotting
    the forecast for a year](img/image_14_046.jpg)![Step 6 - plotting the forecast
    for a year](img/image_14_047.jpg)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
  zh: '![步骤 6 - 绘制一年的预测图](img/image_14_040.jpg)![步骤 6 - 绘制一年的预测图](img/image_14_041.jpg)![步骤
    6 - 绘制一年的预测图](img/image_14_042.jpg)![步骤 6 - 绘制一年的预测图](img/image_14_043.jpg)![步骤
    6 - 绘制一年的预测图](img/image_14_044.jpg)![步骤 6 - 绘制一年的预测图](img/image_14_045.jpg)![步骤
    6 - 绘制一年的预测图](img/image_14_046.jpg)![步骤 6 - 绘制一年的预测图](img/image_14_047.jpg)'
- en: The preceding results prove that the consumption of the electricity pattern
    is based on external factors such as holidays, weather, nature of property, and
    so on. The consumption pattern is very stochastic in nature.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的结果证明，电力消耗模式是基于外部因素，如假日、天气、物业性质等。消耗模式在本质上是非常随机的。
- en: Note
  id: totrans-227
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The aim is to introduce to the reader the application of multiple linear regressions
    for forecasting double seasonal time series. It is very effective to include interactions
    of independent variables to ensure the effectiveness of the model.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 目标是向读者介绍如何应用多重线性回归来预测双季节时间序列。包含独立变量的交互作用以确保模型的有效性是非常有效的。
