- en: '5'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '5'
- en: Non-Parametric Tests
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 非参数检验
- en: In the previous chapter, we discussed parametric tests. Parametric tests are
    useful when test assumptions are met. However, there are cases where those assumptions
    are not met. In this chapter, we will discuss several non-parametric alternatives
    to the parametric tests presented in the previous chapter. We start by introducing
    the concept of a non-parametric test. Then, we will discuss several non-parametric
    tests that can be used when t-test or z-test assumptions are not met.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们讨论了参数检验。参数检验在满足测试假设时是有用的。然而，也存在一些情况，这些假设并不成立。在本章中，我们将讨论几种非参数检验，这些检验可以作为上一章中介绍的参数检验的替代方案。我们首先介绍非参数检验的概念。然后，我们将讨论几种在t检验或z检验假设不满足时可以使用的非参数检验。
- en: 'In this chapter, we’re going to cover the following main topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主要主题：
- en: When parametric test assumptions are violated
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当违反参数检验假设时
- en: The rank-sum test
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 秩和检验
- en: The signed-rank test
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有符号秩检验
- en: The Kruskal-Wallis test
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 克鲁斯卡尔-沃利斯检验
- en: The chi-square test
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 卡方检验
- en: Spearman’s correlation analysis
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 斯皮尔曼相关分析
- en: Chi-square power analysis
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 卡方功效分析
- en: When parametric test assumptions are violated
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 当违反参数检验假设时
- en: In the previous chapter, we discussed parametric tests. Parametric tests have
    strong statistical power but also require adherence to strong assumptions. When
    the assumptions are not satisfied, the test results are not valid. Fortunately,
    we have alternative tests that can be used when the assumptions of a parametric
    test are not satisfied. These tests are called **non-parametric** tests, meaning
    that they make *no assumptions about the underlying distribution of the data*.
    While non-parametric tests do not require distributional assumptions, these *tests
    will still require the samples to* *be independent*.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们讨论了参数检验。参数检验具有强大的统计功效，但也需要遵守严格的假设。当假设不满足时，测试结果无效。幸运的是，我们有替代测试可以在参数检验的假设不满足时使用。这些测试被称为**非参数**测试，这意味着它们对数据的潜在分布**不做任何假设**。虽然非参数测试不需要分布假设，但这些**测试仍然要求样本**是独立的。
- en: Permutation tests
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 排列检验
- en: 'For the first non-parametric test, let’s look more deeply at the definition
    of a p-value. A p-value is the *probability of obtaining a test statistic at least
    as extreme as the observed value* under the assumption of the null hypothesis.
    Then, to calculate a p-value, we need the null distribution and an observed statistic.
    The p-value is the proportion of samples with a test statistic more extreme than
    the observed statistic. It turns out that we can construct the null distribution
    using permutations from data. Let’s see how to construct the null distribution
    using the following dataset. This dataset could represent counts of machine failures
    at low and high temperatures. We assume that the samples are independent:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 对于第一个非参数测试，让我们更深入地看看p值的定义。p值是在零假设的假设下，获得至少与观察值一样极端的测试统计量的**概率**。然后，为了计算p值，我们需要零分布和观察到的统计量。p值是具有比观察到的统计量更极端的测试统计量的样本比例。结果是我们可以使用数据排列来构建零分布。让我们看看如何使用以下数据集构建零分布。这个数据集可以代表低温和高温下的机器故障计数。我们假设样本是独立的：
- en: '[PRE0]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'To construct the null hypothesis, we first need to decide on a statistical
    measure. In this case, we will look for a difference in the mean of the two distributions.
    So, our statistical measure will be as follows:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 为了构建零假设，我们首先需要确定一个统计量。在这种情况下，我们将寻找两个分布的均值差异。因此，我们的统计量将如下所示：
- en: _ x  lowtemp −  _ x  hightemp
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: _ x  lowtemp −  _ x  hightemp
- en: Now, to calculate the distribution values, calculate the statistical measure
    for all permutations of the dataset. Here are a couple of examples of the permutations
    of the dataset.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，为了计算分布值，计算数据集所有排列的统计量。这里有几个数据集排列的例子。
- en: '| **Label** | **Observed** | **P1** | **P2** | **P3** | **P4** | **P5** | **…**
    |'
  id: totrans-19
  prefs: []
  type: TYPE_TB
  zh: '| **标签** | **观察值** | **P1** | **P2** | **P3** | **P4** | **P5** | **…** |'
- en: '| low | 0 | 1 | 0 | 1 | 0 | 1 | … |'
  id: totrans-20
  prefs: []
  type: TYPE_TB
  zh: '| 低 | 0 | 1 | 0 | 1 | 0 | 1 | … |'
- en: '| low | 0 | 1 | 3 | 0 | 3 | 0 | … |'
  id: totrans-21
  prefs: []
  type: TYPE_TB
  zh: '| 低 | 0 | 1 | 3 | 0 | 3 | 0 | … |'
- en: '| low | 0 | 0 | 0 | 1 | 1 | 3 | … |'
  id: totrans-22
  prefs: []
  type: TYPE_TB
  zh: '| 低 | 0 | 0 | 0 | 1 | 1 | 3 | … |'
- en: '| low | 0 | 1 | 1 | 0 | 2 | 0 | … |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
  zh: '| 低 | 0 | 1 | 1 | 0 | 2 | 0 | … |'
- en: '| low | 0 | 0 | 1 | 2 | 0 | 1 | … |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
  zh: '| 低 | 0 | 0 | 1 | 2 | 0 | 1 | … |'
- en: '| low | 1 | 1 | 1 | 3 | 0 | 1 | … |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '| 低 | 1 | 1 | 1 | 3 | 0 | 1 | … |'
- en: '| low | 1 | 0 | 1 | 1 | 1 | 0 | … |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| 低 | 1 | 0 | 1 | 1 | 1 | 0 | … |'
- en: '| high | 1 | 0 | 2 | 0 | 1 | 2 | … |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| 高 | 1 | 0 | 2 | 0 | 1 | 2 | … |'
- en: '| high | 2 | 3 | 0 | 0 | 0 | 1 | … |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| 高 | 2 | 3 | 0 | 0 | 0 | 1 | … |'
- en: '| high | 3 | 0 | 0 | 1 | 1 | 0 | … |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| 高 | 3 | 0 | 0 | 1 | 1 | 0 | … |'
- en: '| high | 1 | 2 | 0 | 0 | 0 | 0 | … |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '| 高 | 1 | 2 | 0 | 0 | 0 | 0 | … |'
- en: '| mean difference | -1.46 | -0.68 | 0.5 | 0.89 | 0.5 | 0.11 | … |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| 平均差值 | -1.46 | -0.68 | 0.5 | 0.89 | 0.5 | 0.11 | … |'
- en: Figure 5.1 – First five permutations of the observed data and the mean difference
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.1 – 观察数据的头五个排列及平均差值
- en: The table shows the observed data with five randomly generated permutations
    of the values. We calculate the difference in the mean for each permutation. The
    differences in means are the values of the null distribution. Once we have the
    distribution, we can calculate the p-value as the proportion of values more extreme
    than the observed value.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 表格显示了带有五个随机生成的值排列的观察数据。我们计算每个排列的平均差值。平均差值是零分布的值。一旦我们有了分布，我们就可以计算 p 值，作为比观察值更极端的值的比例。
- en: Scaling of permutation calculations
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 排列计算的缩放
- en: In general, permutation tests can be expensive to calculate because the number
    of permutations grows quickly with the size of the distribution. For example,
    dataset sizes of 3, 5, and 7 samples correspond to permutation sizes of 6, 120,
    and 5,040\. The dataset shown here has more than 39 million permutations! The
    runtime performance of a permutation test on a large dataset will likely be slow
    due to the number of permutations necessary to compute the null distribution.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，由于分布的大小与排列的数量迅速增长，排列检验的计算可能非常昂贵。例如，3、5 和 7 个样本大小的数据集对应于 6、120 和 5,040 个排列大小。这里所示的数据集有超过
    3,900 万个排列！在大型数据集上进行排列检验的运行性能可能会因为计算零分布所需的排列数量而变得缓慢。
- en: 'We can perform a permutation test in Python using the `permutation_test` function
    from `scipy`. This function calculates the test statistic, the null distribution,
    and the p-value:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用 `scipy` 中的 `permutation_test` 函数在 Python 中执行排列检验。此函数计算检验统计量、零分布和 p 值：
- en: '[PRE1]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This function produces the following distribution from the dataset.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 此函数从数据集中生成以下分布。
- en: '![Figure 5.2 – Null distribution from the permutation test](img/B18253_05_002.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.2 – 偶然检验的零分布](img/B18253_05_002.jpg)'
- en: Figure 5.2 – Null distribution from the permutation test
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.2 – 排列检验的零分布
- en: The null distribution from the permutation test and the observed difference
    in the mean of the two groups is shown in *Figure 5**.2*. The p-value from the
    permutation test is 0.036\. The permutation test is the first of several non-parametric
    tests that will be covered in this section. Again, these types of tests are useful
    when the assumptions for parametric tests are not met. *However, if a parametric
    test can be used, it should be used*; non-parametric tests should not be used
    as default methods.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 排列检验的零分布和两组平均差值从 *图 5.2* 中显示。排列检验的 p 值为 0.036。排列检验是本节将要介绍的非参数检验中的第一个。再次强调，当不满足参数检验的假设时，这些类型的检验是有用的。*然而，如果可以使用参数检验，则应使用它*；非参数检验不应作为默认方法。
- en: In this section, we introduced non-parametric tests with permutation tests.
    The permutation test is a widely applicable non-parametric test, but the computations
    for permutations grow quickly with the size of the dataset, which may make its
    use impractical in some situations. In the following sections, we will cover several
    other non-parametric tests that do not require computing a null distribution.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们介绍了使用排列检验的非参数检验。排列检验是一种广泛适用的非参数检验，但随着数据集大小的增加，排列的计算量会迅速增长，这可能在某些情况下使其使用变得不切实际。在接下来的几节中，我们将介绍其他几种不需要计算零分布的非参数检验。
- en: The Rank-Sum test
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 排序和总和检验
- en: When the assumptions of the t-test are not met, the Rank-Sum test is often a
    good non-parametric alternative test. While the t-test can be used to test for
    the *difference between the means of two distributions*, the Rank-Sum test is
    used to test for the *difference between the locations of two distributions*.
    This difference in the test utility is due to the lack of parametric assumptions
    in the Rank-Sum test. The null hypothesis of the Rank-Sum test is that the distribution
    underlying the first sample is the same as the second sample. If the sample distributions
    appear to be similar, this allows us to use the Rank-Sum test to test for the
    difference in the locations of the two samples. As stated, the Rank-Sum test cannot
    specifically be used for testing the difference between means because it does
    not require assumptions about the sample distributions.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 当t检验的假设不成立时，Rank-Sum检验通常是一个很好的非参数替代检验。虽然t检验可以用来检验两个分布的*均值差异*，但Rank-Sum检验用于检验两个分布的*位置差异*。这种检验效用上的差异是由于Rank-Sum检验中缺乏参数假设。Rank-Sum检验的零假设是第一个样本的分布与第二个样本相同。如果样本分布看起来相似，这允许我们使用Rank-Sum检验来检验两个样本的位置差异。如前所述，Rank-Sum检验不能专门用于检验均值差异，因为它不需要关于样本分布的假设。
- en: The test statistic procedure
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 检验统计量程序
- en: 'The test procedure is straightforward. The process is outlined here and an
    example is shown in the following table:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 检验程序很简单。过程在此概述，以下表格中展示了示例：
- en: Combine all sample values into one set and sort the samples in ascending order,
    keeping track of their labels.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将所有样本值合并成一个集合，并按升序排序样本，同时记录它们的标签。
- en: Assign ranks to all samples starting with rank 1 for the lowest sample value.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将排名分配给所有样本，从最低样本值开始，排名为1。
- en: Where ties occur, replace the rank of the tied values with the mean rank of
    the tied values.
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当出现平局时，将平局值的排名替换为平局值的平均排名。
- en: Sum the ranks for the smallest sample group, which is the test statistic T.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将最小样本组的排名求和，该样本组是检验统计量T。
- en: Once the test statistic is calculated, the p-value can be calculated. The p-value
    can be done with a normal approximation or with an exact method. Generally, the
    exact method is only used when the sample size is small (less than 8 samples).
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦计算出检验统计量，就可以计算p值。p值可以通过正态近似法或精确方法来计算。通常，精确方法仅在样本量较小（小于8个样本）时使用。
- en: Normal approximation
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 正态近似
- en: 'Once the T statistic is calculated for the Rank-Sum test, we can determine
    a p-value with an exact method or with a normal approximation. We will cover the
    approximation method here as the exact method requires a permutation test, which
    will require the use of software. We approximate the p-value with a z-score (recall
    the z-score from [*Chapter 3*](B18945_03.xhtml#_idTextAnchor055)*,* *Hypothesis
    Testing*):'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦计算出Rank-Sum检验的T统计量，我们就可以使用精确方法或正态近似法来确定p值。在这里，我们将介绍近似方法，因为精确方法需要使用排列检验，这将需要使用软件。我们将使用z分数来近似p值（回忆一下[*第3章*](B18945_03.xhtml#_idTextAnchor055)*,*
    *假设检验*）：
- en: Z =  T − Mean(T) _ STDEV(T)
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: Z = T - Mean(T) * STDEV(T)
- en: where
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 其中
- en: Mean(T) = n T _ R
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: Mean(T) = n * T * R
- en: and
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: and
- en: STDEV(T) = s R √ _  n T n O _ n T + n O
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: STDEV(T) = s * R / √(n * T * n * O + n * T + n * O)
- en: In the equations here, n T is the number of samples in the group used to calculate
    T, n O is the number of samples in the other group,  _ R  is the mean of the corrected
    ranks, and s Ris the standard deviation of the corrected ranks. Once Z is calculated,
    the corresponding p-value can be looked up for the z-distribution. Having described
    the method, let’s look at an example. The data shown in the following table can
    be found in the accompanying Jupyter notebook.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里的方程中，n * T是用于计算T的组中样本的数量，n * O是另一组中的样本数量，_R是修正排名的平均值，s * R是修正排名的标准差。一旦计算出Z，就可以在z分布中查找相应的p值。在描述了方法之后，让我们来看一个例子。以下表格中的数据可以在附带的Jupyter笔记本中找到。
- en: Rank-Sum example
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Rank-Sum示例
- en: The following table shows this process performed on a set of data for two groups
    labeled with “L” and “H,” where a Rank-Sum test will be used to test for the difference
    in location of the two sample distributions. The test statistic for this table
    is 42.5, which is the sum of the corrected ranks of group L. This test statistic
    corresponds to an approximate p-value of 0.00194 (a two-sided test). The data
    for this table was downloaded from [https://github.com/OpenIntroStat/openintro/raw/master/data/gpa_iq.rda](https://github.com/OpenIntroStat/openintro/raw/master/data/gpa_iq.rda).
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 下表展示了在两组标记为“L”和“H”的数据集上执行此过程，将使用秩和检验来检验两组样本分布的位置差异。此表的检验统计量为42.5，即组L校正秩的和。此检验统计量对应于约0.00194的近似p值（双尾检验）。此表的数据是从[https://github.com/OpenIntroStat/openintro/raw/master/data/gpa_iq.rda](https://github.com/OpenIntroStat/openintro/raw/master/data/gpa_iq.rda)下载的。
- en: '| **IQ** | **Group** | **Rank** | **Corrected Rank** |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '| **IQ** | **Group** | **Rank** | **Corrected Rank** |'
- en: '| 77 | L | 1 | 1 |'
  id: totrans-63
  prefs: []
  type: TYPE_TB
  zh: '| 77 | L | 1 | 1 |'
- en: '| 79 | L | 2 | 2 |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
  zh: '| 79 | L | 2 | 2 |'
- en: '| 93 | L | 3 | 3 |'
  id: totrans-65
  prefs: []
  type: TYPE_TB
  zh: '| 93 | L | 3 | 3 |'
- en: '| 96 | L | 4 | 4 |'
  id: totrans-66
  prefs: []
  type: TYPE_TB
  zh: '| 96 | L | 4 | 4 |'
- en: '| 104 | L | 5 | 5 |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '| 104 | L | 5 | 5 |'
- en: '| 105 | H | 6 | 6 |'
  id: totrans-68
  prefs: []
  type: TYPE_TB
  zh: '| 105 | H | 6 | 6 |'
- en: '| 106 | H | 7 | 7 |'
  id: totrans-69
  prefs: []
  type: TYPE_TB
  zh: '| 106 | H | 7 | 7 |'
- en: '| 107 | L | 8 | 8 |'
  id: totrans-70
  prefs: []
  type: TYPE_TB
  zh: '| 107 | L | 8 | 8 |'
- en: '| 109 | L | 9 | 9 |'
  id: totrans-71
  prefs: []
  type: TYPE_TB
  zh: '| 109 | L | 9 | 9 |'
- en: '| **IQ** | **Group** | **Rank** | **Corrected Rank** |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
  zh: '| **IQ** | **Group** | **Rank** | **Corrected Rank** |'
- en: '| 111 | H | 10 | 10.5 |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
  zh: '| 111 | H | 10 | 10.5 |'
- en: '| 111 | L | 11 | 10.5 |'
  id: totrans-74
  prefs: []
  type: TYPE_TB
  zh: '| 111 | L | 11 | 10.5 |'
- en: '| 112 | H | 12 | 12 |'
  id: totrans-75
  prefs: []
  type: TYPE_TB
  zh: '| 112 | H | 12 | 12 |'
- en: '| 116 | H | 13 | 13 |'
  id: totrans-76
  prefs: []
  type: TYPE_TB
  zh: '| 116 | H | 13 | 13 |'
- en: '| 118 | H | 14 | 14 |'
  id: totrans-77
  prefs: []
  type: TYPE_TB
  zh: '| 118 | H | 14 | 14 |'
- en: '| 124 | H | 15 | 15 |'
  id: totrans-78
  prefs: []
  type: TYPE_TB
  zh: '| 124 | H | 15 | 15 |'
- en: '| 126 | H | 16 | 16 |'
  id: totrans-79
  prefs: []
  type: TYPE_TB
  zh: '| 126 | H | 16 | 16 |'
- en: '| 127 | H | 17 | 17 |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| 127 | H | 17 | 17 |'
- en: '| 128 | H | 18 | 18.5 |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| 128 | H | 18 | 18.5 |'
- en: '| 128 | H | 19 | 18.5 |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| 128 | H | 19 | 18.5 |'
- en: Figure 5.3 – Corrected ranks for Rank-Sum test
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.3 – 秩和检验的校正秩
- en: 'We can also perform this test with software using `mannwhitenyu` from `scipy`.
    For the following code sample, the values corresponding to L and H from the preceding
    table are contained in the `lower_score_iqs` and `higher_score_iqs` variables,
    respectively:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 我们也可以使用软件通过`mannwhitenyu`从`scipy`执行此测试。对于以下代码示例，前表中对应于L和H的值包含在`lower_score_iqs`和`higher_score_iqs`变量中，分别：
- en: '[PRE2]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: In this section, we discussed the Rank-Sum test, which is a non-parametric alternative
    to the t-test. The Rank-Sum test is used to test for a difference in the locations
    of two distributions of sample data. In the next section, we will look at a similar
    rank-based test, which is used to compare paired data like the paired t-test from
    [*Chapter 4*](B18945_04.xhtml#_idTextAnchor070)*,* *Parametric Tests*.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们讨论了秩和检验，它是一种非参数的t检验替代方法。秩和检验用于检验两组样本数据的分布位置是否存在差异。在下一节中，我们将探讨一种类似的基于秩的检验，该检验用于比较配对数据，例如来自[*第4章*](B18945_04.xhtml#_idTextAnchor070)*，*参数检验*中的配对t检验。
- en: The Signed-Rank test
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 符号秩检验
- en: The Wilcoxon Signed-Rank test is a non-parametric alternative version of the
    paired t-test that is used when the assumption of normality is violated. This
    test is robust to outliers because of the use of ranks and medians instead of
    means in the null and alternative hypotheses. As indicated by the name of the
    test, it uses the magnitudes of differences between two stages and their signs.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: Wilcoxon符号秩检验是非参数配对t检验的替代版本，当违反正态性假设时使用。由于在零假设和备择假设中使用秩和中位数而不是均值，因此该检验对异常值具有鲁棒性。正如检验的名称所示，它使用两个阶段之间差异的幅度及其符号。
- en: In research, a null hypothesis considers that the median difference between
    stage 1 and stage 2 is zero. Similarly, as in a paired t-test, for the alternative
    hypothesis, for a two-tailed test, the median difference between Stage 1 and Stage
    2 is considered not to be zero, or for a one-tailed test, the median difference
    between Stage 1 and Stage 2 is greater (or less) than zero.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 在研究中，零假设考虑阶段1和阶段2之间的中位数差异为零。同样，在配对t检验中，对于备择假设，对于双尾检验，阶段1和阶段2之间的中位数差异被认为不是零，或者对于单尾检验，阶段1和阶段2之间的中位数差异大于（或小于）零。
- en: Though the normality requirement is relaxed, the test requires independence
    between paired observations and these observations to be from the same population.
    In addition, the dependent variable is required to be continuous.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然正态性要求放宽，但该检验要求配对观测值之间相互独立，并且这些观测值来自同一总体。此外，要求因变量是连续的。
- en: 'To compute the test statistic, there are the following procedures:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 为了计算检验统计量，有以下步骤：
- en: Calculate the differences in each pair between the two stages.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算两个阶段之间每对的差异。
- en: Drop pairs with zero difference, if they exist.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果存在，则删除差值为零的配对。
- en: Take the absolute difference between each pair and rank them from smallest to
    largest.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算每对之间的绝对差值，并按从小到大的顺序对它们进行排序。
- en: Calculate the signed-rank statistic S by summing the ranks with a positive sign.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过对具有正号的秩求和来计算符号秩统计量 S。
- en: Let us consider the simple example that follows. We consider generic data for
    two stages (before and after the treatment) of nine samples.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑以下简单示例。我们考虑两个阶段（治疗前后）的九个样本的通用数据。
- en: '| **Pair** | **Before** **the treatment** | **After** **the treatment** | **Absolute**
    **difference** | **Sign** | **Rank** |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '| **配对** | **治疗前的** | **治疗后的** | **绝对差值** | **符号** | **秩** |'
- en: '| 1 | 37 | 38 | 1 | - | 1 |'
  id: totrans-98
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 37 | 38 | 1 | - | 1 |'
- en: '| 2 | 14 | 17 | 3 | - | 2.5 |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 14 | 17 | 3 | - | 2.5 |'
- en: '| 3 | 22 | 19 | 3 | + | 2.5 |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 22 | 19 | 3 | + | 2.5 |'
- en: '| 4 | 12 | 7 | 5 | + | 4 |'
  id: totrans-101
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 12 | 7 | 5 | + | 4 |'
- en: '| 5 | 24 | 15 | 9 | + | 5 |'
  id: totrans-102
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 24 | 15 | 9 | + | 5 |'
- en: '| 6 | 35 | 25 | 10 | + | 6 |'
  id: totrans-103
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 35 | 25 | 10 | + | 6 |'
- en: '| 7 | 35 | 24 | 11 | + | 7 |'
  id: totrans-104
  prefs: []
  type: TYPE_TB
  zh: '| 7 | 35 | 24 | 11 | + | 7 |'
- en: '| 8 | 51 | 38 | 13 | + | 8 |'
  id: totrans-105
  prefs: []
  type: TYPE_TB
  zh: '| 8 | 51 | 38 | 13 | + | 8 |'
- en: '| 9 | 39 | 19 | 20 | + | 9 |'
  id: totrans-106
  prefs: []
  type: TYPE_TB
  zh: '| 9 | 39 | 19 | 20 | + | 9 |'
- en: Figure 5.4 – Demonstration of rank calculation for sign-rank test
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.4 – 符号秩检验的秩计算演示
- en: 'By observing the preceding table, we can see the second and the third pairs
    have the same absolute difference. Therefore, their ranks are computed by averaging
    their original rank, (2+3)/2 = 2.5\. The null and alternative hypotheses for a
    one-sided test are as follows:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 通过观察前面的表格，我们可以看到第二对和第三对具有相同的绝对差值。因此，它们的秩通过平均原始秩来计算，(2+3)/2 = 2.5\. 单侧检验的零假设和备择假设如下：
- en: 'H 0 : The median difference between before and after treatment is zero'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 'H 0 : 治疗前后中位数差异为零'
- en: 'H a : The median difference between before treatment and after treatment is
    positive'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 'H a : 治疗前后中位数差异为正'
- en: 'The signed-rank statistic is the sum of ranks for positive differences and
    it is given as follows:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 符号秩统计量是正差分的秩之和，如下所示：
- en: S = 2.5 + 4 + 5 + 6 + 7 + 8 + 9 = 41.5.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: S = 2.5 + 4 + 5 + 6 + 7 + 8 + 9 = 41.5.
- en: 'The mean of S is:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: S 的均值为：
- en: Mean(S) =  n(n + 1) _ 4  =  9.10 _ 4  = 22.5
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: Mean(S) =  n(n + 1) _ 4  =  9.10 _ 4  = 22.5
- en: 'And the standard deviation of S is:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: S 的标准差为：
- en: SD(S) = √ ____________   n(n + 1)(2n + 1)  ____________ 24   = √ _  9 * 10 *
    19 _ 24   = 8.44.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: SD(S) = √ ____________   n(n + 1)(2n + 1)  ____________ 24   = √ _  9 * 10 *
    19 _ 24   = 8.44.
- en: 'Then, the test statistic is calculated by the following formula:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，通过以下公式计算检验统计量：
- en: Z statistic = S − Mean(S) _ SD(S)  = 41.5 − 22.5 _ 8.44  = 2.2511.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: Z 统计量 = S − Mean(S) _ SD(S)  = 41.5 − 22.5 _ 8.44  = 2.2511.
- en: Referring to [*Chapter 3*](B18945_03.xhtml#_idTextAnchor055)*, Hypothesis Testing*,
    we could use `scipy.stats.norm.sf()` to calculate the approximate one-sided `p-value
    0.012` using the Z statistic.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 参考[*第 3 章*](B18945_03.xhtml#_idTextAnchor055)*，假设检验*，我们可以使用 `scipy.stats.norm.sf()`
    通过 Z 统计量计算近似单侧 `p-value 0.012`。
- en: 'At α = 0.05 – level of significance – with `p-value <` α, we reject the null
    hypothesis. There is strong evidence that the median before the treatment is greater
    than the median after the treatment. In Python, it is simple to implement the
    test as follows:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 在 α = 0.05 – 显著性水平 – `p-value <` α 的条件下，我们拒绝零假设。有强有力的证据表明，治疗前的中位数大于治疗后的中位数。在
    Python 中，实现该测试很简单，如下所示：
- en: '[PRE3]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The documentation for this test can be found at the following link:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 该测试的文档可以在以下链接找到：
- en: '[https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.wilcoxon.xhtml](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.wilcoxon.xhtml)'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.wilcoxon.xhtml](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.wilcoxon.xhtml)'
- en: The Kruskal-Wallis test
  id: totrans-124
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Kruskal-Wallis 检验
- en: 'Another non-parametric test we will now discuss is the Kruskal-Wallis test.
    It is an alternative to the one-way ANOVA test when the normality assumption is
    not satisfied. It uses the medians instead of the means to test whether there
    are statistically significant differences between two or more independent groups.
    Let us consider a generic example of three independent groups:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种我们现在将讨论的非参数检验是 Kruskal-Wallis 检验。当不满足正态性假设时，它是单因素方差分析测试的替代方案。它使用中位数而不是均值来检验两个或更多独立组之间是否存在统计上显著差异。让我们考虑三个独立组的通用示例：
- en: '[PRE4]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The null and alternative hypotheses are stated as follows.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 如下所述，陈述了零假设和备择假设。
- en: 'H 0 : The medians are equal among these three groups'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 'H 0 : 这三个组的中位数相等'
- en: 'H a : The medians are not equal among these three groups'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 'H a : 这三个组的中位数不相等'
- en: 'In Python, it is easy to implement by using the `scipy.stats.kruskal` function.
    The documentation can be found at the following link:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在Python中，通过使用`scipy.stats.kruskal`函数很容易实现。文档可以在以下链接中找到：
- en: '[https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kruskal.xhtml](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kruskal.xhtml)'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kruskal.xhtml](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kruskal.xhtml)'
- en: '[PRE5]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The output of the preceding code is as follows:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码的输出如下：
- en: '`KruskalResult(statistic=5.7342701722574905, pvalue=0.056861597028239855)`'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '`KruskalResult(statistic=5.7342701722574905, pvalue=0.056861597028239855)`'
- en: As α = 0.05 – the level of significance – with `p-value >` α, we fail to reject
    the null hypothesis. There is no strong evidence to show that the medians are
    not equal across these three groups.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 由于α = 0.05 – 显著性水平 – 且`p-value >` α，我们未能拒绝零假设。没有强有力的证据表明这三个组的中位数不相等。
- en: Chi-square distribution
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 卡方分布
- en: 'Researchers are often faced with the need to test hypotheses on categorical
    data. The parametric tests covered in [*Chapter 4*](B18945_04.xhtml#_idTextAnchor070)*,
    Parametric Tests*, are often not very helpful for this type of analysis. In the
    last chapter, we discussed using an F-test to compare sample variances. Extending
    that concept, we can consider the non-parametric and non-symmetric chi-square
    probability distribution, which is a distribution useful for comparing the means
    of sampling distribution variances to their population variances, specifically
    when the mean of a sampling distribution of sample variances is expected to equal
    the population variance under the null hypothesis. Because variance cannot be
    negative, the distribution starts at an origin of 0\. Here, we can see the **chi-square
    distribution**:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 研究人员经常面临需要对分类数据进行假设检验的需求。在[*第4章*](B18945_04.xhtml#_idTextAnchor070)*，参数检验*中涵盖的参数检验通常对这类分析帮助不大。在上一章中，我们讨论了使用F检验来比较样本方差。扩展这个概念，我们可以考虑非参数和非对称的卡方概率分布，这是一种有用的分布，用于比较样本方差抽样分布的均值与总体方差，特别是在假设检验下，预期样本方差抽样分布的均值等于总体方差的情况下。因为方差不能为负，所以分布从0开始。在这里，我们可以看到**卡方分布**：
- en: '![Figure 5.5 – Chi-square distribution with seven degrees of freedom](img/B18253_05_005.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![图5.5 – 具有七个自由度的卡方分布](img/B18253_05_005.jpg)'
- en: Figure 5.5 – Chi-square distribution with seven degrees of freedom
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.5 – 具有七个自由度的卡方分布
- en: 'The shape of the chi-square distribution does not represent an assumption that
    percentiles are fixed to standard deviations, as with standard normal distribution;
    it is expected to change with each additional sample variance calculated. When
    the original population data from which the sampling distribution of variances
    is calculated can be assumed to be normally distributed, the chi-square standardized
    test statistic is calculated as:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 卡方分布的形状不代表百分位数固定在标准差上，就像标准正态分布那样；它预期会随着每个额外样本方差的计算而变化。当可以假设用于计算方差抽样分布的原始总体数据是正态分布时，卡方标准化检验统计量计算如下：
- en: χ 2 =  (n − 1) s 2 _ σ 2
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: χ² = (n - 1) s² / σ²
- en: 'Where (n-1) is used to calculate the degrees of freedom, which are used to
    explain errors in sampling when building the test statistic. The critical values
    are based on table lookups using degrees of freedom and desired levels of significance.
    The null hypothesis is always H 0 : σ χ 2 = σ 0 2, where σ χ 2 is the observed
    distribution variance and σ 0 2 is the expected variance. The alternative hypothesis
    for a one-tailed test is H a : σ χ 2 ≥ σ 0 2 when testing the right tail and H a
    : σ χ 2 ≤ σ 0 2 when testing the left tail. The alternative hypothesis for a two-tailed
    test is H a : σ χ 2 ≠ σ 0 2\. This test, when the population data can be assumed
    to be normally distributed, is similar to the F-test in that the two variances
    are being compared and the result is 1 when both are the same. The difference
    is that the chi-square test statistic factors in the degrees of freedom and is
    therefore less sensitive to differences.'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '其中(n-1)用于计算自由度，这些自由度用于解释在构建统计量时样本误差。临界值基于使用自由度和所需显著性水平的表格查找。零假设始终是H0: σχ² =
    σ0²，其中σχ²是观察到的分布方差，σ0²是期望方差。对于单尾检验的备择假设是，当测试右尾时H1: σχ² ≥ σ0²，当测试左尾时H1: σχ² ≤ σ0²。对于双尾检验的备择假设是H1:
    σχ² ≠ σ0²。当总体数据可以假设为正态分布时，这个测试与F测试相似，因为两个方差正在被比较，当两者都相同时结果为1。区别在于，卡方检验统计量考虑了自由度，因此对差异的敏感性较低。'
- en: Understanding how this test is useful for comparing variances is helpful for
    understanding how the chi-square distribution also relates to frequencies of occurrences
    of categorical data. In the preceding chi-square statistic, we can relate the
    sample statistic for variance as an observed value whereas the population parameter
    for variance is what we expect to occur. When determining whether there is statistical
    significance in the occurrence of categorical factor levels, we can *compare the
    observed occurrences to expected occurrences*. We will illustrate examples for
    arguably the two most widely used versions of this test, the **chi-square goodness-of-fit
    test** and the **chi-square test of independence**, in the following sections.
    These tests are considered non-parametric as they do not require the assumptions
    stated in the first section of [*Chapter 4*](B18945_04.xhtml#_idTextAnchor070)*,*
    *Parametric Tests*.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 理解这个测试如何用于比较方差对于理解卡方分布如何与分类数据的出现频率相关是有帮助的。在前面的卡方统计量中，我们可以将样本统计量作为观察值，而方差的总参数是我们期望发生的。在确定分类因素水平出现的统计显著性时，我们可以*比较观察到的发生次数与期望的发生次数*。在接下来的几节中，我们将举例说明这个测试的两个最广泛使用的版本，即**卡方拟合优度检验**和**卡方独立性检验**。这些测试被认为是非参数的，因为它们不需要在[*第4章*](B18945_04.xhtml#_idTextAnchor070)*，*参数检验*中所述的假设。
- en: Tailedness of chi-square goodness-of-fit and independence tests
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 卡方拟合优度和独立性检验的尾性
- en: The chi-square goodness-of-fit test and chi-square test of independence in the
    following two sections are always right-tailed tests. The null hypothesis in these
    tests states a difference of zero between the observed and expected frequencies.
    The alternative hypothesis is that the observed and expected frequencies are not
    the same. The closer to 0 the χ 2 test statistic, the more likely the observed
    and expected frequencies approximate each other.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的两节中，卡方拟合优度检验和卡方独立性检验总是右尾检验。这些测试中的零假设陈述观察频率和期望频率之间的差异为零。备择假设是观察频率和期望频率不相同。χ²检验统计量越接近0，观察频率和期望频率越可能接近。
- en: Chi-square goodness-of-fit
  id: totrans-146
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 卡方拟合优度
- en: 'The **chi-square goodness-of-fit test** compares the count of occurrences of
    multiple factor levels for a single variable (factor) to determine whether the
    levels are statistically equal. For example, a vendor offers three models of phones
    – three levels (brands) of the single factor (phone) – to customers, who purchase
    in total an average of 90 phones per week. We can say the expected frequency is
    1/3 – so, 30 phones of each model are sold per week, on average. Pearson’s chi-square
    test statistic, which is calculated by measuring the observed frequencies against
    expected frequencies, is the test statistic used for the chi-square goodness-of-fit
    test. The linear equation for this test statistic is as follows:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '**卡方拟合优度检验**比较单个变量（因素）多个因素水平的出现次数，以确定这些水平是否在统计学上相等。例如，一个供应商向客户提供三种手机型号——单个因素（手机）的三个水平（品牌）——客户每周总共购买平均90台手机。我们可以这样说，预期的频率是1/3——因此，平均每周每种型号销售30台手机。皮尔逊卡方检验统计量，通过测量观察到的频率与预期频率之间的差异来计算，是卡方拟合优度检验中使用的检验统计量。此检验统计量的线性方程如下：'
- en: χ 2 = ∑ (O i − E i) 2 _ E i , degrees of freedom = k-1
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: χ 2 = ∑ (O i − E i) 2 _ E i , 自由度 = k-1
- en: 'Where O i is the observed frequency, E i, is the expected frequency, and *k*
    is the number of factor levels. Using our phone example, we learn from the vendor
    the expected frequency of 1/3 is not actually what is observed; the vendor sells
    an average of 45, 30, and 15 phones of models A, B, and C, respectively. Suppose
    we want to know whether this observed frequency differs with statistical significance
    from the expected frequency. The null hypothesis is that the frequencies are equal.
    We formulate the **Pearson’s chi-square test statistic** as follows:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 其中O i是观察到的频率，E i是预期的频率，*k*是因素水平的数量。以我们的手机为例，我们从供应商那里了解到预期的频率1/3实际上并不是观察到的；供应商平均销售45、30和15台A、B和C型号的手机。假设我们想知道观察到的频率是否与预期的频率有统计学上的显著差异。零假设是频率相等。我们以下列方式制定**皮尔逊卡方检验统计量**：
- en: χ2 =  (45 − 30) 2 _ 30  +  (30 − 30) 2 _ 30  +  (15 − 30) 2 _ 30  = 15
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: χ2 =  (45 − 30) 2 _ 30  +  (30 − 30) 2 _ 30  +  (15 − 30) 2 _ 30  = 15
- en: 'Suppose we want to use a hypothesis test (right-tailed) with a 0.05 level of
    significance, thus forming the alternative hypothesis that the observed and expected
    frequencies are not equal. The chi-square critical value table shows that for
    a level of significance of 0.05 with df : 3 − 1 = 2 degrees of freedom, the critical
    value is 5.9915\. Because 15 > 5.9915, we may conclude to reject the null hypothesis
    based on the critical value test.'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '假设我们想使用显著性水平为0.05的假设检验（右侧尾），从而形成观察到的频率和预期的频率不相等的备择假设。卡方临界值表显示，对于显著性水平为0.05，df
    : 3 − 1 = 2个自由度，临界值是5.9915。因为15 > 5.9915，我们可以根据临界值测试得出拒绝零假设的结论。'
- en: 'To perform this operation in Python, we can use the `statsmodels.stats.gof`
    module’s `chisquare` function. Each group volume needs to be passed into a list
    or array, both for the observed frequencies and the expected frequencies. The
    `statsmodels` `chisquare` test will automatically calculate the k-1 degrees of
    freedom based on the counts of values in the observed (`f_obs`) list, but the
    degrees of freedom must be provided for the `scipy chi2.ppf` function, which provides
    the critical value, bypassing the need for a manual table lookup:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 在Python中执行此操作，我们可以使用`statsmodels.stats.gof`模块的`chisquare`函数。每个组体积需要传递到一个列表或数组中，包括观察到的频率和预期的频率。`statsmodels`的`chisquare`测试将自动根据观察到的（`f_obs`）列表中的值计数来计算k-1个自由度，但必须为`scipy
    chi2.ppf`函数提供自由度，该函数提供临界值，从而避免了手动查找表格的需要：
- en: '[PRE6]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'As noted previously, since the p-value is below the 0.05 level of significance
    and the test statistic is larger than the critical value, we can assume we have
    a reasonable amount of evidence to reject the null hypothesis and conclude we
    have statistical significance indicating the phone models are not purchased in
    equal quantities:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，由于p值低于0.05的显著性水平，并且检验统计量大于临界值，我们可以假设我们有足够的证据来拒绝零假设，并得出统计显著性结论，表明手机型号不是以相等的数量购买的：
- en: '`Chi-Square Test` `Statistic: 15.0000`'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '`Chi-Square Test` `Statistic: 15.0000`'
- en: '`Chi-Square Critical` `Value: 5.9915`'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '`Chi-Square Critical` `Value: 5.9915`'
- en: '`P-Value: 0.0006`'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '`P-Value: 0.0006`'
- en: We could then rerun the test for two frequencies at that point, comparing 45
    to 30 or 45 to 15, for example, with expected frequencies of 37.5 and 37.5 or
    30 and 30, respectively, to identify which phone may be the largest influencer
    on sales imbalance.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们可以重新运行该测试，比较两个频率，例如 45 与 30 或 45 与 15，期望频率分别为 37.5 和 37.5 或 30 和 30，以确定哪部电话可能是销售不平衡的最大影响因素。
- en: Chi-square test of independence
  id: totrans-159
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 独立性卡方检验
- en: 'Suppose we have a dataset of observed vehicle crashes in the state of Texas
    in 2021, *Restraint Use by Injury Severity and Seat Position* ([https://www.txdot.gov/data-maps/crash-reports-records/motor-vehicle-crash-statistics.xhtml](https://www.txdot.gov/data-maps/crash-reports-records/motor-vehicle-crash-statistics.xhtml)),
    and want to know whether using a seat belt resulted in a statistically significant
    difference in fatalities. We have the table of observed values as follows:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们有一个德克萨斯州 2021 年观察到的车辆事故数据集，*Restraint Use by Injury Severity and Seat Position*
    ([https://www.txdot.gov/data-maps/crash-reports-records/motor-vehicle-crash-statistics.xhtml](https://www.txdot.gov/data-maps/crash-reports-records/motor-vehicle-crash-statistics.xhtml))，并想知道使用安全带是否导致了死亡率在统计学上的显著差异。我们有以下观察值表：
- en: '|  | **Restrained** | **Unrestrained** | **Total** |'
  id: totrans-161
  prefs: []
  type: TYPE_TB
  zh: '|  | **受限制** | **不受限制** | **总计** |'
- en: '| Fatal | 1,429 | 1,235 | 2,664 |'
  id: totrans-162
  prefs: []
  type: TYPE_TB
  zh: '| 致命 | 1,429 | 1,235 | 2,664 |'
- en: '| Not Fatal | 1,216,934 | 22,663 | 1,239,597 |'
  id: totrans-163
  prefs: []
  type: TYPE_TB
  zh: '| 非致命 | 1,216,934 | 22,663 | 1,239,597 |'
- en: '| Total | 1,218,363 | 23,898 | 1,242,261 |'
  id: totrans-164
  prefs: []
  type: TYPE_TB
  zh: '| 总计 | 1,218,363 | 23,898 | 1,242,261 |'
- en: Figure 5.6 – Chi-square test of independence “observed” table
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.6 – 独立性卡方检验“观察”表
- en: 'Let us now create a table of expected values using this equation:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们现在使用此方程创建一个期望值表：
- en: E ij =  T i T j _ N
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: E_ij =  T_i * T_j / N
- en: 'Where T i is the total in the *i*th row, T j is the total in the *j*th column,
    and N is the total number of observations. This yields the following:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 T_i 是第 *i* 行的总数，T_j 是第 *j* 列的总数，N 是观察总数。这得出以下结果：
- en: '|  | **Restrained** | **Unrestrained** | **Total** |'
  id: totrans-169
  prefs: []
  type: TYPE_TB
  zh: '|  | **受限制** | **不受限制** | **总计** |'
- en: '| Fatal | (2,664 *1,218,363)/1,242,261 = 2,612.75 | (2,664 *23,898)/1,242,261
    = 51.25 | 2,664 |'
  id: totrans-170
  prefs: []
  type: TYPE_TB
  zh: '| 致命 | (2,664 *1,218,363)/1,242,261 = 2,612.75 | (2,664 *23,898)/1,242,261
    = 51.25 | 2,664 |'
- en: '| Not Fatal | (1,216,934* 1,239,597) / 1,242,261 = 1,214,324.31 | (1,239,597
    * 23,898) / 1,242,261 = 23,846.75 | 1,239,597 |'
  id: totrans-171
  prefs: []
  type: TYPE_TB
  zh: '| 非致命 | (1,216,934* 1,239,597) / 1,242,261 = 1,214,324.31 | (1,239,597 * 23,898)
    / 1,242,261 = 23,846.75 | 1,239,597 |'
- en: '| Total | 1,218,363 | 23,898 | 1,242,261 |'
  id: totrans-172
  prefs: []
  type: TYPE_TB
  zh: '| 总计 | 1,218,363 | 23,898 | 1,242,261 |'
- en: Figure 5.7 – Chi-square test of independence “expected” table
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.7 – 独立性卡方检验“期望”表
- en: 'The modified version of the Pearson’s chi-square test statistic we used in
    the goodness-of-fit test that extends to the chi-square test of independence follows:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 在拟合优度检验中，我们使用的修改版皮尔逊卡方检验统计量，扩展到独立性卡方检验，如下所示：
- en: χ 2 = ∑ (O ij − E ij) 2 _ E ij , degrees of freedom = (r-1)(c-1)
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: χ² = ∑ (O_ij − E_ij)² / E_ij，自由度 = (r-1)(c-1)
- en: The subscript *j* corresponds to columnar data and the subscript *i* corresponds
    to the row data for the observed and expected values, denoted as *O* and *E*,
    respectively. The values *r* and *c* in the degrees of freedom calculation correspond
    to the number of rows and the number of columns in the table (this is 2x2, so
    the degrees of freedom will equal (2-1)(2-1)=1.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 下标 *j* 对应于列数据，下标 *i* 对应于观察值和期望值的行数据，分别表示为 *O* 和 *E*。在自由度计算中的 *r* 和 *c* 值对应于表格中的行数和列数（这是
    2x2，因此自由度将等于 (2-1)(2-1)=1。
- en: 'Using the values from the observed and expected tables, we find the chi-square
    test statistic to equal the following:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 使用观察值和期望值表中的值，我们找到卡方检验统计量等于以下值：
- en: χ 2 =  (1,429 − 2,612.75) 2  ______________ 2,612.75  +  (1,216,934 − 1,214,324.31) 2  ____________________  1,214,324.31 
    +  (1,235 − 51.25) 2  ____________ 51.25  +
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: χ² =  (1,429 − 2,612.75)² / 2,612.75 + (1,216,934 − 1,214,324.31)² / 1,214,324.31
    + (1,235 − 51.25)² / 51.25 +
- en: (22, 663 − 23,846.75) 2  ________________  23,846.75  = 27,942.43
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: (22,663 − 23,846.75)² / 23,846.75 = 27,942.43
- en: The table lookup test statistic using the one degree of freedom calculated here
    is 3.84\. We can reasonably conclude that since the test statistic of 27,942.43
    is greater than the critical value of 3.84, we can conclude that in the state
    of Texas in 2021, there was a statistically significant difference in the rate
    of fatalities in vehicle crashes where safety restraints were used compared to
    where they were not used.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 使用此处计算的 1 个自由度计算出的查表检验统计量为 3.84。我们可以合理地得出结论，因为检验统计量 27,942.43 大于临界值 3.84，因此我们可以得出结论，在
    2021 年德克萨斯州，使用安全带与未使用安全带相比，在车辆事故中的死亡率存在统计学上的显著差异。
- en: Chi-square contingency tables
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 卡方列联表
- en: The test we performed uses two 2x2 tables called contingency tables. The chi-square
    test of independence is frequently referred to as the **chi-squared contingency
    test**. The failure to reject the null hypothesis is **contingent** upon the observed
    table’s values matching the expected table’s values within a level of statistical
    confidence. However, the chi-square test of independence can be extended to **tables
    of any combination of rows and columns**. However, as the rows and columns increase
    in value, the tables may be less useful to interpret.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 我们进行的测试使用了两个2x2的列联表。卡方独立性检验通常被称为**卡方列联检验**。拒绝零假设的失败取决于观察到的表格值在统计置信水平内与预期表格值的匹配。然而，卡方独立性检验可以扩展到**任何行和列组合的表格**。然而，随着行和列值的增加，表格可能对解释不那么有用。
- en: 'To perform this test in Python, we can use the `chi2_contingency` function
    from the `scipy` `stats` module. Inputting only the observed frequencies as a
    2x2 `numpy` array, the `chi2_contingency` test provides the expected frequencies
    should the null hypothesis be true– the p-value, degrees of freedom used, and
    the chi-square test statistic:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 要在Python中执行此测试，我们可以使用来自`scipy` `stats`模块的`chi2_contingency`函数。仅输入作为2x2 `numpy`数组的观察频率，`chi2_contingency`测试提供如果零假设为真时的预期频率——p值、使用的自由度以及卡方检验统计量：
- en: '[PRE7]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Here, we see the chi-square test statistic is much larger than the chi-square
    critical value at the 0.05 level of significance and the p-value is significant
    at p < 0.0000\. Therefore, we can conclude there is strong statistical evidence
    to suggest a large difference in car crash fatalities when using a safety restraint
    compared to not using one:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们可以看到卡方检验统计量在0.05的显著性水平上远大于卡方临界值，p值在p < 0.0000时显著。因此，我们可以得出结论，使用安全带与不使用安全带相比，在汽车碰撞死亡人数方面存在很大的统计学差异：
- en: '`Chi-Square Test` `Statistic: 27915.1221`'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '`卡方检验` `统计量：27915.1221`'
- en: '`Chi-Square Critical` `Value: 3.8415`'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '`卡方临界值：3.8415`'
- en: '`P-Value: 0.0000`'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '`P值：0.0000`'
- en: Yates’ continuity correction
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: Yates连续性校正
- en: An additional argument can optionally be added to the `chi2_contingency` test
    with the `correction` `=` argument and a bool (`True` or `False`) input. This
    applies Yates’ continuity correction, which, per the `scipy.stats` documentation,
    adjusts each observed value by 0.5 toward the corresponding expected value. The
    purpose of the adjustment is to avoid incorrectly detecting the presence of statistical
    significance due to small expected sample sizes. Subjectively, this is useful
    for less than 10 samples in an expected frequency cell. However, many practitioners
    and researchers argue against its use.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 可以选择性地向`chi2_contingency`测试添加一个额外的参数，即带有`correction` `=`参数和一个布尔值（`True`或`False`）的输入。这应用了Yates连续性校正，根据`scipy.stats`文档，将每个观察值调整0.5个单位，以接近相应的预期值。调整的目的在于避免由于预期样本量小而错误地检测到统计显著性。主观上，这对于预期频率单元格中的样本量少于10的情况是有用的。然而，许多实践者和研究人员反对使用它。
- en: Chi-square goodness-of-fit test power analysis
  id: totrans-191
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 卡方拟合优度检验功效分析
- en: Let’s use an example where a phone vendor sells four popular models of phones,
    models A, B, C, and D. We want to determine how many samples are required to produce
    a power of 0.8 so we can understand whether there is a statistically significant
    difference between the popularity of different phones so the vendor can more properly
    invest in phone acquisitions. In this case, the null hypothesis asserts that 25%
    of phones from each model were sold. In reality, 20% of phones sold were model
    A, 30% were model B, 19% were model C, and 31% were model D phones.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们用一个例子来说明，一个手机销售商销售四种流行的手机型号，型号A、B、C和D。我们想要确定需要多少样本才能产生0.8的功效，以便我们可以了解不同手机流行度之间是否存在统计学上的显著差异，这样销售商就可以更恰当地投资于手机采购。在这种情况下，零假设断言每个型号的手机中有25%被售出。实际上，售出的手机中有20%是型号A，30%是型号B，19%是型号C，31%是型号D。
- en: 'Testing different values for the `nobs` argument (number of observations),
    we find that a minimum of 224 samples produces a power just greater than 0.801\.
    Adding more samples will only improve this. If the true distribution were more
    divergent from the hypothesized 25% even split, fewer samples would be required.
    However, since the splits are relatively close to 25%, a high volume of samples
    is needed:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 测试`nobs`（观测数）参数的不同值，我们发现至少需要224个样本才能产生略大于0.801的效力。增加更多样本只会提高这一点。如果真实分布与假设的25%的均等分割差异更大，则可能需要更少的样本。然而，由于分割相对接近25%，需要大量的样本：
- en: '[PRE8]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Spearman’s rank correlation coefficient
  id: totrans-195
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 斯皮尔曼等级相关系数
- en: 'In [*Chapter 4*](B18945_04.xhtml#_idTextAnchor070)*, Parametric Tests*, we
    looked at the parametric correlation coefficient, Pearson’s correlation, where
    the coefficient is calculated from independently sampled, continuous data. However,
    **when we have ranked, ordinal data**, such as that from a satisfaction survey,
    we would not want to use Pearson’s correlation as it cannot be assumed to guarantee
    the preservation of order. As with Pearson’s correlation coefficient, **Spearman’s
    correlation coefficient** results in a coefficient, *r*, that ranges from -1 to
    1, with -1 being a strong inverse correlation and 1 being a strong direct correlation.
    Spearman’s is derived by dividing the covariance of the two variables’ ranks by
    the product of their standard deviations. The equation for the correlation coefficient,
    *r*, is as follows:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 在[*第4章*](B18945_04.xhtml#_idTextAnchor070)*，参数检验*中，我们研究了参数相关性系数，皮尔逊相关系数，其中系数是从独立采样的连续数据中计算得出的。然而，**当我们有排名的有序数据**，例如满意度调查中的数据时，我们不想使用皮尔逊相关系数，因为它不能保证保持顺序。与皮尔逊相关系数一样，**斯皮尔曼相关系数**也产生一个系数，*r*，其范围从-1到1，-1表示强烈的负相关，1表示强烈的正相关。斯皮尔曼相关系数是通过将两个变量等级的协方差除以它们标准差的乘积得到的。相关性系数*r*的方程如下：
- en: r s =  S xy _ √ _ S xx S yy
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: r s =  S xy _ √ _ S xx S yy
- en: Where
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 其中
- en: S xy = ∑     (x i −  _ x )(y i −  _ y )
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: S xy = ∑ (x i −  _ x )(y i −  _ y )
- en: S xx = ∑     (x i −  _ x ) 2
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: S xx = ∑ (x i −  _ x )²
- en: S yy = ∑     (y i −  _ y ) 2
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: S yy = ∑ (y i −  _ y )²
- en: 'The preceding correlation equation is safe to use under all ranking scenarios.
    However, when there are no ties or a minimal proportion of ties compared to the
    overall sample volume, the following equation may be used:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的相关性方程中，在所有排名场景下都是安全的。然而，当没有平局或与总体样本量相比平局比例极低时，可以使用以下方程：
- en: r s =  6∑ d i 2 _ n(n 2 − 1), where d i = (x i − y i)
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: r s =  6∑ d i² _ n(n² − 1)，其中 d i = (x i − y i)
- en: However, we will perform this test in Python. Therefore, the more complex and
    less error-prone formula will be applied regardless since computational power
    enables us to bypass the manual process entirely.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我们将使用Python进行此测试。因此，无论公式多么复杂、错误率多么低，都将应用该公式，因为计算能力使我们能够完全绕过手动过程。
- en: 'Suppose we have students being judged in a competition by two judges and there
    is a concern that one of the judges may be biased toward some of the participants
    based on confounding factors, such as family ties, rather than performance alone.
    We decide to run a correlation analysis on the scores to test the hypothesis the
    two judges scored similarly for each contestant:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们在比赛中由两位评委对学生进行评判，并且担心其中一位评委可能基于混淆因素（如家庭关系）而不是仅基于表现对某些参赛者存在偏见。我们决定对分数进行相关性分析，以检验两位评委对每个参赛者的评分相似的假设：
- en: '[PRE9]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'We have the following table of contestants:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 我们有以下参赛者的表格：
- en: '|  | **Student 1** | **Student 2** | **Student 3** | **Student 4** | **Student
    5** | **Student 6** | **Student 7** |'
  id: totrans-208
  prefs: []
  type: TYPE_TB
  zh: '|  | **学生1** | **学生2** | **学生3** | **学生4** | **学生5** | **学生6** | **学生7** |'
- en: '| Judge A | 1 | 3 | 5 | 7 | 8 | 3 | 9 |'
  id: totrans-209
  prefs: []
  type: TYPE_TB
  zh: '| 判定者A | 1 | 3 | 5 | 7 | 8 | 3 | 9 |'
- en: '| Judge B | 2 | 5 | 3 | 9 | 6 | 1 | 7 |'
  id: totrans-210
  prefs: []
  type: TYPE_TB
  zh: '| 判定者B | 2 | 5 | 3 | 9 | 6 | 1 | 7 |'
- en: Figure 5.8 – Judge rankings of student contestants for Spearman’s correlation
    analysis
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.8 – 斯皮尔曼相关性分析中评委对学生参赛者的排名
- en: '[PRE10]'
  id: totrans-212
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Based on the p-value of 0.04 here, which is less than a significance level
    of 0.05, we can say the correlation produced is significant beyond a degree of
    random chance. Had the p-value been greater than 0.05, we could say with a 95%
    level of confidence that the correlation may have been purely spurious and may
    not have enough statistical evidence to support determinism. Spearman’s correlation
    (r) is 0.7748\. `r_squared` is therefore approximately 0.6003, meaning approximately
    60.3% of the variation in the score is determined by the judge’s scoring:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 根据这里的p值为0.04，小于0.05的显著性水平，我们可以说产生的相关性在随机程度之外是显著的。如果p值大于0.05，我们可以以95%的置信水平说，相关性可能是完全虚假的，可能没有足够的统计证据来支持确定性。Spearman的相关系数（r）为0.7748。因此，`r_squared`大约为0.6003，这意味着大约60.3%的分数变化是由评委的评分决定的：
- en: '`Spearman Correlation` `Coefficient: 0.7748`'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: '`Spearman相关系数：0.7748`'
- en: '`P-Value: 0.0408`'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '`P-值：0.0408`'
- en: Since the p-value is significant and the correlation coefficient is 0.77 – and
    a strong correlation coefficient starts at approximately 0.7 – we may conclude
    that the judges’ scores are directly correlated enough to assume there is no bias
    in scoring present, assuming a relatively objective method for ranking exists;
    something more subjective may not be as suitable for correlation analysis.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 由于p值显著且相关系数为0.77 – 而一个强相关系数大约从0.7开始 – 我们可以得出结论，评委的评分与直接相关性足够强，可以假设在存在相对客观的排名方法的情况下，评分中没有偏见；更主观的方法可能不适合相关性分析。
- en: Summary
  id: totrans-217
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we discussed some of the most commonly used non-parametric
    hypothesis tests performed when required assumptions for parametric hypothesis
    testing cannot be prudently guaranteed. We discussed two-sample Wilcoxon Rank-Sum
    – also called Mann-Whitney U – tests to draw inferences from medians when two-sample
    t-testing cannot be performed. Next, we walked through the Wilcoxon Sign-Rank
    test’s paired comparison of medians when a paired t-test comparison of means cannot
    be performed. After, we looked at the non-parametric chi-square goodness-of-fit
    test and the chi-square Test of independence for comparing observed frequencies
    against expected frequencies, both useful for identifying the presence of statistically
    significant differences in counts of categorical data. Additionally, we discussed
    the Kruskal-Wallis test, a non-parametric alternative to the analysis of variance
    (ANOVA). Finally, we discussed Spearman’s correlation coefficient and how to derive
    correlation based on rank when parametric assumptions cannot safely support using
    Pearson’s correlation. Closing out the chapter, we provided an example of using
    power analysis for the chi-square test.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们讨论了在无法谨慎保证参数假设测试所需假设时，最常用的非参数假设检验。我们讨论了双样本Wilcoxon秩和检验（也称为Mann-Whitney
    U检验），当无法进行双样本t检验时，用于从中位数中得出推论。接下来，我们介绍了当无法进行配对t检验比较均值时，Wilcoxon符号秩检验的中位数配对比较。之后，我们研究了非参数卡方拟合优度检验和卡方独立性检验，用于比较观察频率与期望频率，两者都用于识别分类数据计数中存在统计显著差异的情况。此外，我们还讨论了Kruskal-Wallis检验，它是方差分析（ANOVA）的非参数替代方法。最后，我们讨论了Spearman相关系数以及如何在参数假设无法安全支持使用Pearson相关系数时，根据排名推导相关性。在本章结束时，我们提供了一个使用卡方检验的功率分析示例。
- en: In the next chapter, we will begin our discussion of predictive analytics, starting
    with simple linear regression. There, we will discuss methods for fitting a model,
    interpreting linear coefficients, understanding the required assumptions of linear
    regression, assessing model performance, and considering modified versions of
    linear regression.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将开始讨论预测分析，从简单的线性回归开始。在那里，我们将讨论拟合模型的方法、解释线性系数、理解线性回归所需的假设、评估模型性能以及考虑线性回归的修改版本。
- en: Part 2:Regression Models
  id: totrans-220
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第二部分：回归模型
- en: In this part, we discuss the types of problems that can be solved with regression,
    coefficients of correlation and determination, multivariate modeling, model selection
    and variable adjustment with regularization.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 在本部分，我们讨论了可以使用回归、相关系数和确定系数、多元建模、模型选择和正则化变量调整解决的问题。
- en: 'It includes the following chapters:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 它包括以下章节：
- en: '[*Chapter 6*](B18945_06.xhtml#_idTextAnchor104), *Simple Linear Regression*'
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第6章*](B18945_06.xhtml#_idTextAnchor104)，*简单线性回归*'
- en: '[*Chapter 7*](B18945_07.xhtml#_idTextAnchor118), *Multiple Linear Regression*'
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第7章*](B18945_07.xhtml#_idTextAnchor118)，*多元线性回归*'
