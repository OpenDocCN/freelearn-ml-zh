- en: '1'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '1'
- en: Sampling and Generalization
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 采样和泛化
- en: In this chapter, we will describe the concept of populations and sampling from
    populations, including some common strategies for sampling. The discussion of
    sampling will lead to a section that will describe generalization. Generalization
    will be discussed as it relates to using samples to make conclusions about their
    respective populations. When modeling for statistical inference, it is necessary
    to ensure that samples can be generalized to populations. We will provide an in-depth
    overview of this bridge through the subjects in this chapter.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将描述种群的概念以及从种群中进行采样的方法，包括一些常见的采样策略。关于采样的讨论将引出描述泛化的部分。泛化将讨论其与使用样本对其各自种群做出结论的关系。在统计推断建模时，确保样本可以推广到种群是必要的。我们将通过本章的主题深入概述这一桥梁。
- en: 'We will cover the following main topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将涵盖以下主要主题：
- en: Software and environment setup
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 软件和环境设置
- en: Population versus sample
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 总体与样本
- en: Population inference from samples
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从样本中进行总体推断
- en: Sampling strategies – random, systematic, and stratified
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 采样策略 – 随机、系统性和分层
- en: Software and environment setup
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 软件和环境设置
- en: '**Python** is one of the most popular programming languages for data science
    and machine learning thanks to the large open source community that has driven
    the development of these libraries. Python’s ease of use and flexible nature made
    it a prime candidate in the data science world, where experimentation and iteration
    are key features of the development cycle. While there are new languages in development
    for data science applications, such as **Julia**, Python currently remains the
    key language for data science due to its wide breadth of open source projects,
    supporting applications from statistical modeling to deep learning. We have chosen
    to use Python in this book due to its positioning as an important language for
    data science and its demand in the job market.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**Python** 是数据科学和机器学习中最受欢迎的编程语言之一，这得益于推动这些库发展的庞大开源社区。Python 的易用性和灵活性使其成为数据科学领域的首选语言，在数据科学领域，实验和迭代是开发周期的关键特征。尽管有新的语言正在开发中用于数据科学应用，例如
    **Julia**，但由于其广泛的开源项目，支持从统计建模到深度学习等应用，Python 目前仍然是数据科学的关键语言。我们选择在本书中使用 Python，因为它在数据科学中的地位重要，并且在就业市场上需求量大。'
- en: 'Python is available for all major operating systems: Microsoft Windows, macOS,
    and Linux. Additionally, the installer and documentation can be found at the official
    website: [https://www.python.org/](https://www.python.org/).'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: Python 可用于所有主要操作系统：Microsoft Windows、macOS 和 Linux。此外，安装程序和文档可在官方网站找到：[https://www.python.org/](https://www.python.org/)。
- en: This book is written for Python version 3.8 (or higher). It is recommended that
    you use whatever recent version of Python that is available. It is not likely
    that the code found in this book will be compatible with Python 2.7, and most
    active libraries have already started dropping support for Python 2.7 since official
    support ended in 2020.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 本书是为 Python 3.8 版本（或更高版本）编写的。建议您使用可用的最新 Python 版本。本书中的代码不太可能与 Python 2.7 兼容，并且大多数活跃的库已经从
    2020 年官方支持结束以来开始停止对 Python 2.7 的支持。
- en: 'The libraries used in this book can be installed with the Python package manager,
    `pip`, which is part of the standard Python library in contemporary versions of
    Python. More information about `pip` can be found here: [https://docs.python.org/3/installing/index.xhtml](https://docs.python.org/3/installing/index.xhtml).
    After `pip` is installed, packages can be installed using `pip` on the command
    line. Here is basic usage at a glance:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 本书使用的库可以使用 Python 包管理器 `pip` 安装，它是当代 Python 标准库的一部分。有关 `pip` 的更多信息，请参阅此处：[https://docs.python.org/3/installing/index.xhtml](https://docs.python.org/3/installing/index.xhtml)。安装
    `pip` 后，可以在命令行中使用 `pip` 安装包。以下是一些基本用法：
- en: 'Install a new package using the latest version:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 使用最新版本安装新包：
- en: '[PRE0]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Install the package with a specific version, version `2.1` in this example:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 使用特定版本安装包，例如本例中的版本 `2.1`：
- en: '[PRE1]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'A package that is already installed can be upgraded with the `--``upgrade`
    flag:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 已安装的包可以使用 `--upgrade` 标志进行升级：
- en: '[PRE2]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'In general, it is recommended to use Python virtual environments between projects
    and to keep project dependencies separate from system directories. Python provides
    a virtual environment utility, `venv`, which, like `pip`, is part of the standard
    library in contemporary versions of Python. Virtual environments allow you to
    create individual binaries of Python, where each binary of Python has its own
    set of installed dependencies. Using virtual environments can prevent package
    version issues and conflict when working on multiple Python projects. Details
    on setting up and using virtual environments can be found here: [https://docs.python.org/3/library/venv.xhtml](https://docs.python.org/3/library/venv.xhtml).'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 通常情况下，建议在项目之间使用 Python 虚拟环境，并将项目依赖项与系统目录分开。Python 提供了一个虚拟环境工具 `venv`，它像 `pip`
    一样是 Python 当代版本标准库的一部分。虚拟环境允许您创建独立的 Python 二进制文件，其中每个 Python 二进制文件都有其自己的安装依赖项集。使用虚拟环境可以防止在处理多个
    Python 项目时出现包版本问题和冲突。有关设置和使用虚拟环境的详细信息，请参阅：[https://docs.python.org/3/library/venv.xhtml](https://docs.python.org/3/library/venv.xhtml)。
- en: 'While we recommend the use of Python and Python’s virtual environments for
    environment setups, a highly recommended alternative is **Anaconda**. Anaconda
    is a free (enterprise-ready) analytics-focused distribution of Python by Anaconda
    Inc. (previously Continuum Analytics). Anaconda distributions come with many of
    the core data science packages, common IDEs (such as **Jupyter** and **Visual
    Studio Code**), and a graphical user interface for managing environments. Anaconda
    can be installed using the installer found at the Anaconda website here: [https://www.anaconda.com/products/distribution](https://www.anaconda.com/products/distribution).'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然我们推荐使用 Python 和 Python 的虚拟环境进行环境设置，但一个高度推荐的替代方案是 **Anaconda**。Anaconda 是由
    Anaconda Inc.（之前为 Continuum Analytics）提供的免费（企业级）分析型 Python 发行版。Anaconda 发行版包含了许多核心数据科学包、常见的
    IDE（如 **Jupyter** 和 **Visual Studio Code**）以及用于管理环境的图形用户界面。Anaconda 可以通过在 Anaconda
    网站上找到的安装程序进行安装：[https://www.anaconda.com/products/distribution](https://www.anaconda.com/products/distribution)。
- en: Anaconda comes with its own package manager, `conda`, which can be used to install
    new packages similarly to `pip`.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: Anaconda 自带其自己的包管理器 `conda`，它可以像 `pip` 一样用于安装新包。
- en: 'Install a new package using the latest version:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 使用最新版本安装新包：
- en: '[PRE3]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Upgrade a package that is already installed:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 升级已安装的包：
- en: '[PRE4]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Throughout this book, we will make use of several core libraries in the Python
    data science ecosystem, such as `NumPy` for array manipulations, `pandas` for
    higher-level data manipulations, and `matplotlib` for data visualization. The
    package versions used for this book are contained in the following list. Please
    ensure that the versions installed in your environment are equal to or greater
    than the versions listed. This will help ensure that the code examples run correctly:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的整个过程中，我们将使用 Python 数据科学生态系统中的一些核心库，例如 `NumPy` 用于数组操作，`pandas` 用于高级数据操作，以及
    `matplotlib` 用于数据可视化。本书使用的包版本包含在以下列表中。请确保您环境中安装的版本等于或高于列表中列出的版本。这将有助于确保代码示例能够正确运行：
- en: '`statsmodels 0.13.2`'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`statsmodels 0.13.2`'
- en: '`Matplotlib 3.5.2`'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Matplotlib 3.5.2`'
- en: '`NumPy 1.23.0`'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`NumPy 1.23.0`'
- en: '`SciPy 1.8.1`'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SciPy 1.8.1`'
- en: '`scikit-learn 1.1.1`'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`scikit-learn 1.1.1`'
- en: '`pandas 1.4.3`'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pandas 1.4.3`'
- en: The packages used for the code in this book are shown here in *Figure 1**.1*.
    The `__version__` method can be used to print the package version in code.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 本书代码中使用的包在此处以 *图 1**.1* 的形式展示。可以使用 `__version__` 方法在代码中打印包版本。
- en: '![Figure 1.1 – Package versions used in this book](img/B18945_01_001.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.1 – 本书使用的包版本](img/B18945_01_001.jpg)'
- en: Figure 1.1 – Package versions used in this book
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.1 – 本书使用的包版本
- en: Having set up the technical environment for the book, let’s get into the statistics.
    In the next sections, we will discuss the concepts of population and sampling.
    We will demonstrate sampling strategies with code implementations.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在为本书搭建好技术环境之后，让我们进入统计学的讨论。在接下来的章节中，我们将讨论总体和抽样的概念。我们将通过代码实现来演示抽样策略。
- en: Population versus sample
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总体与样本
- en: In general, the goal of statistical modeling is to answer a question about a
    group by making an inference about that group. The group we are making an inference
    on could be machines in a production factory, people voting in an election, or
    plants on different plots of land. The entire group, every individual item or
    entity, is referred to as the **population**. In most cases, the population of
    interest is so large that it is not practical or even possible to collect data
    on every entity in the population. For instance, using the voting example, it
    would probably not be possible to poll every person that voted in an election.
    Even if it was possible to reach all the voters for the election of interest,
    many voters may not consent to polling, which would prevent collection on the
    entire population. An additional consideration would be the expense of polling
    such a large group. These factors make it practically impossible to collect population
    statistics in our example of vote polling. These types of prohibitive factors
    exist in many cases where we may want to assess a population-level attribute.
    Fortunately, we do not need to collect data on the entire population of interest.
    Inferences about a population can be made using a subset of the population. This
    subset of the population is called a **sample**. This is the main idea of statistical
    modeling. A model will be created using a sample and inferences will be made about
    the population.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，统计模型的目标是通过对该群体进行推断来回答关于该群体的问题。我们进行推断的群体可能是生产工厂中的机器、选举中投票的人，或者不同地块上的植物。整个群体，每个单独的项目或实体，被称为**总体**。在大多数情况下，感兴趣的总体非常大，以至于收集总体中每个实体的数据既不实际也不可能。例如，使用投票的例子，可能无法对选举中投票的每个人进行调查。即使有可能接触到感兴趣的选举的所有选民，许多选民可能不会同意调查，这将阻止对整个总体的收集。另一个考虑因素是调查如此大群体的费用。这些因素使得在我们的投票调查示例中收集总体统计数据实际上是不可能的。在我们可能想要评估总体属性的情况下，存在许多这类禁止性因素。幸运的是，我们不需要收集感兴趣总体中的所有数据。可以使用总体的一部分来进行关于总体的推断。这个总体的子集被称为**样本**。这是统计模型的主要思想。将使用样本创建模型，并对总体进行推断。
- en: In order to make valid inferences about the population of interest using a sample,
    the sample must be *representative* of the population of interest, meaning that
    the sample should contain the variation found in the population. For example,
    if we were interested in making an inference about plants in a field, it is unlikely
    that samples from one corner of the field would be sufficient for inferences about
    the larger population. There would likely be variations in plant characteristics
    over the entire field. We could think of various reasons why there might be variation.
    For this example, we will consider some examples from *Figure 1**.2*.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使用样本对感兴趣的总体进行有效的推断，样本必须代表感兴趣的总体，这意味着样本应该包含在总体中发现的变异。例如，如果我们对田野中的植物感兴趣，那么来自田野一个角落的样本可能不足以对更大的总体进行推断。整个田野中植物特征可能会有所不同。我们可以考虑各种可能存在变异的原因。对于这个例子，我们将考虑来自*图
    1.2*的一些例子。
- en: '![Figure 1.2 – Field of plants](img/B18945_01_002.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.2 – 植物田地](img/B18945_01_002.jpg)'
- en: Figure 1.2 – Field of plants
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.2 – 植物田地
- en: The figure shows that **Sample A** is near a forest. This sample area may be
    affected by the presence of the forest; for example, some of the plants in that
    sample may receive less sunlight than plants in the other sample. **Sample B**
    is shown to be in between the main irrigation lines. It’s conceivable that this
    sample receives more water on average than the other two samples, which may have
    an effect on the plants in this sample. The final **Sample C** is near a road.
    This sample may see other effects that are not seen in **Sample A** or **B**.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 该图显示**样本 A**靠近森林。这个样本区域可能受到森林存在的影响；例如，该样本中的一些植物可能比其他样本中的植物接收到的阳光更少。**样本 B**显示位于主要灌溉线之间。可以想象这个样本平均接收到的水可能比其他两个样本多，这可能会影响这个样本中的植物。最后的**样本
    C**靠近道路。这个样本可能看到在**样本 A**或**样本 B**中看不到的其他影响。
- en: If samples were only taken from one of those sections, the inferences from those
    samples would be *biased* and would not provide valid references about the population.
    Thus, samples would need to be taken from across the entire field to create a
    sample that is more likely to be representative of the population of plants. When
    taking samples from populations, it is critical to ensure the sampling method
    is robust to possible issues, such as the influence of irrigation and shade in
    the previous example. Whenever taking a sample from a population, it’s important
    to identify and mitigate possible influences of bias because biases in data will
    affect your model and skew your conclusions.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如果样本只从这些部分中的一个抽取，那么从这些样本中得出的推断将会是*有偏的*，并且不会提供关于人群的有效参考。因此，需要从整个领域抽取样本，以创建一个更有可能代表植物人群的样本。在从人群抽取样本时，确保抽样方法对可能的问题具有鲁棒性，例如前例中灌溉和遮荫的影响，是至关重要的。每次从人群抽取样本时，都重要的是要识别和减轻可能的偏差影响，因为数据中的偏差会影响你的模型并歪曲你的结论。
- en: In the next section, various methods for sampling from a dataset will be discussed.
    An additional consideration is the sample size. The sample size impacts the type
    of statistical tools we can use, the distributional assumptions that can be made
    about the sample, and the confidence of inferences and predictions. The impact
    of sample size will be explored in depth in [*Chapter 2*](B18945_02.xhtml#_idTextAnchor029)*,
    Distributions of Data* and[*Chapter 3*](B18945_03.xhtml#_idTextAnchor055)*,* *Hypothesis
    Testing*.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，将讨论从数据集中进行抽样的各种方法。另一个考虑因素是样本大小。样本大小影响我们可以使用的统计工具类型，关于样本的分布假设，以及推断和预测的置信度。样本大小的影响将在[*第二章*](B18945_02.xhtml#_idTextAnchor029)*，数据分布*和[*第三章*](B18945_03.xhtml#_idTextAnchor055)*，*假设检验*中深入探讨。
- en: Population inference from samples
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从样本中进行人群推断
- en: When using a statistical model to make inferential conclusions about a population
    from a sample subset of that population, the study design must account for similar
    degrees of uncertainty in its variables as those in the population. This is the
    variation mentioned earlier in this chapter. To appropriately draw inferential
    conclusions about a population, any statistical model must be structured around
    a chance mechanism. Studies structured around these chance mechanisms are called
    **randomized experiments** and provide an understanding of both correlation and
    causation.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用统计模型从该人群的样本子集中对人群进行推断性结论时，研究设计必须考虑到其变量与人群中的变量具有相似的不确定性程度。这就是本章前面提到的变异。为了适当地对人群进行推断性结论，任何统计模型都必须围绕一个随机机制来构建。围绕这些随机机制构建的研究被称为**随机实验**，并提供了对相关性和因果关系的理解。
- en: Randomized experiments
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 随机实验
- en: 'There are two primary characteristics of a randomized experiment:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 随机实验有两个主要特征：
- en: Random sampling, colloquially referred to as random selection
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 随机抽样，俗称随机选择
- en: Random assignment of treatments, which is the nature of the study
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 治疗的随机分配，这是研究的本质
- en: Random sampling
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 随机抽样
- en: Random sampling (also called random selection) is designed with the intent of
    creating a sample representative of the overall population so that statistical
    models generalize the population well enough to assign cause-and-effect outcomes.
    In order for random sampling to be successful, the population of interest must
    be well defined. All samples taken from the population must have a chance of being
    selected. In considering the example of polling voters, all voters must be willing
    to be polled. Once all voters are entered into a lottery, random sampling can
    be used to subset voters for modeling. Sampling from only voters who are willing
    to be polled introduces sampling bias into statistical modeling, which can lead
    to skewed results. The sampling method in the scenario where only some voters
    are willing to participate is called **self-selection**. Any information obtained
    and modeled from self-selected samples – or any non-random samples – cannot be
    used for inference.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 随机抽样（也称为随机选择）旨在创建一个代表总体人口的样本，以便统计模型能够足够好地推广总体，从而分配因果关系的结果。为了使随机抽样成功，感兴趣的总体必须定义良好。从总体中抽取的所有样本都必须有被选中的机会。在考虑民意调查选民的情况时，所有选民都必须愿意接受调查。一旦所有选民都进入彩票，就可以使用随机抽样来对选民进行子集建模。仅从愿意接受调查的选民中进行抽样会引入统计模型中的抽样偏差，这可能导致结果偏斜。只有一些选民愿意参与的情景中的抽样方法被称为**自我选择**。从自我选择的样本——或任何非随机样本——中获得并建模的信息不能用于推断。
- en: Random assignment of treatments
  id: totrans-53
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 治疗的随机分配
- en: 'The random assignment of treatments refers to two motivators:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 治疗的随机分配涉及两个动机：
- en: The first motivator is to gain an understanding of specific input variables
    and their influence on the response – for example, understanding whether assigning
    treatment A to a specific individual may produce more favorable outcomes than
    a placebo.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第一个动机是了解特定的输入变量及其对响应的影响——例如，了解将治疗A分配给特定个体是否可能比安慰剂产生更理想的结果。
- en: The second motivator is to remove the impact of external variables on the outcomes
    of a study. These external variables, called **confounding variables** (or **confounders**),
    are important to remove as they often prove difficult to control. They may have
    unpredictable values or even be unknown to the researcher. The consequence of
    including confounders is that the outcomes of a study may not be replicable, which
    can be costly. While confounders can influence outcomes, they can also influence
    input variables, as well as the relationships between those variables.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第二个动机是消除外部变量对研究结果的影响。这些被称为**混杂变量**（或**混杂因素**）的外部变量很重要，因为它们往往难以控制。它们可能具有不可预测的值，甚至可能对研究者来说是未知的。包括混杂变量的后果是，研究的结果可能无法复制，这可能是代价高昂的。虽然混杂变量可以影响结果，但它们也可以影响输入变量，以及这些变量之间的关系。
- en: Referring back to the example in the earlier section, *Population versus sample*,
    consider a farmer who decides to start using pesticides on his crops and wants
    to test two different brands. The farmer knows there are three distinct areas
    of the land; plot A, plot B, and plot C. To determine the success of the pesticides
    and prevent damage to the crops, the farmer randomly chooses 60 plants from each
    plot (this is called **stratified random sampling** where random sampling is stratified
    across each plot) for testing. This selection is representative of the population
    of plants. From this selection, the farmer labels his plants (labeling doesn’t
    need to be random). For each plot, the farmer shuffles the labels into a bag,
    to randomize them, and begins selecting 30 plants. The first 30 plants get one
    of two treatments and the other 30 are given the other treatment. This is a *random
    assignment of treatment*. Assuming the three separate plots represent a distinct
    set of confounding variables on crop yield, the farmer will have enough information
    to obtain an inference about the crop yield for each pesticide brand.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 回顾前一小节中的例子，即*总体与样本*，考虑一位农民决定开始在他的作物上使用杀虫剂，并想要测试两种不同的品牌。这位农民知道土地上有三个不同的区域；地块A、地块B和地块C。为了确定杀虫剂的成功率并防止作物受损，农民从每个地块随机选择60株植物进行测试（这被称为**分层随机抽样**，即在每个地块上进行分层随机抽样）。这个选择代表了植物总体。从这个选择中，农民对他的植物进行标记（标记不需要是随机的）。对于每个地块，农民将标签随机放入袋子中，以随机化它们，然后开始选择30株植物。前30株植物接受一种处理，另外30株接受另一种处理。这是*随机分配的处理*。假设三个单独的地块代表了一组不同的混杂变量对作物产量的影响，农民将拥有足够的信息来对每个杀虫剂品牌的作物产量进行推断。
- en: Observational study
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 观察性研究
- en: 'The other type of statistical study often performed is an **observational study**,
    in which the researcher seeks to learn through observing data that already exists.
    An observational study can aid in the understanding of input variables and their
    relationships to both the target and each other, but cannot provide cause-and-effect
    understanding as a randomized experiment can. An observational study may have
    one of the two components of a randomized experiment – either random sampling
    or random assignment of treatment – but without both components, will not directly
    yield inference. There are many reasons why an observational study may be performed
    versus a randomized experiment, such as the following:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 常见的另一种统计研究类型是**观察性研究**，其中研究人员通过观察已有的数据来寻求了解。观察性研究有助于理解输入变量及其与目标和彼此之间的关系，但不能像随机实验那样提供因果关系理解。观察性研究可能具有随机实验的两个组成部分之一——要么是随机抽样，要么是随机分配的处理——但没有这两个组成部分，将不会直接产生推断。有许多原因可能导致进行观察性研究而不是随机实验，例如以下情况：
- en: A randomized experiment being too costly
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 随机实验成本过高
- en: Ethical constraints for an experiment (for example, an experiment to determine
    the rate of birth defects caused by smoking while pregnant)
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实验的伦理限制（例如，确定怀孕期间吸烟导致出生缺陷发生率的实验）
- en: Using data from prior randomized experiments, which thus removes the need for
    another experiment
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用先前随机实验的数据，从而消除了进行另一项实验的需要
- en: One method for deriving some causality from an observational study is to perform
    random sampling and repeated analysis. Repeated random sampling and analysis can
    help minimize the impact of confounding variables over time. This concept plays
    a huge role in the usefulness of *big data* and *machine learning*, which has
    gained a lot of importance in many industries within this century. While almost
    any tool that can be used for observational analysis can also be used for a randomized
    experiment, this book focuses primarily on tools for observational analysis, as
    this is more common in most industries.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 从观察性研究中推导出一些因果关系的 一种方法是进行随机抽样和重复分析。重复随机抽样和分析可以帮助最小化混杂变量随时间的影响。这个概念在*大数据*和*机器学习*的有用性中扮演着巨大的角色，这两者在本世纪许多行业中都获得了很大的重视。虽然几乎任何可以用于观察性分析的工具也可以用于随机实验，但本书主要关注的是观察性分析的工具，因为在大多数行业中这更为常见。
- en: It can be said that statistics is a science for helping make the best decisions
    when there are quantifiable uncertainties. All statistical tests contain a null
    hypothesis and an alternative hypothesis. That is to say, an assumption that there
    is no statistically significant difference between data (the null hypothesis)
    or that there is a statistically significant difference between data (the alternative
    hypothesis). The term statistically significant difference implies the existence
    of a benchmark – or threshold – beyond which a measure takes place and indicates
    significance. This benchmark is called the **critical value**.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 可以说，统计学是一门帮助在存在可量化不确定性时做出最佳决策的科学。所有统计检验都包含一个零假设和一个备择假设。也就是说，一个假设数据之间没有统计学上显著的差异（零假设）或者数据之间存在统计学上显著的差异（备择假设）。统计学上显著差异这一术语意味着存在一个基准——或阈值——超过这个基准，一个度量就会发生并表明其显著性。这个基准被称为**临界值**。
- en: The measure that is applied against this critical value is called the **test
    statistic**. The critical value is a static value quantified based on behavior
    in the data, such as the average and variation, and is based on the hypothesis.
    If there are two possible routes by which a null hypothesis may be rejected –
    for example, we believe some output is either less than or more than the average
    – there will be two critical values (this test is called a **two-tailed** hypothesis
    test), but if there is only one argument against the null hypothesis, there will
    be only one critical value (this is called a **one-tailed** hypothesis test).
    Regardless of the number of critical values, there will always only be one test
    statistic measurement for each group within a given hypothesis test. If the test
    statistic exceeds the critical value, there is a statistically significant reason
    to support rejecting the null hypothesis and concluding there is a statistically
    significant difference in the data.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 应用到这个临界值上的度量被称为**检验统计量**。临界值是基于数据中的行为（如平均值和变异）量化的静态值，并基于假设。如果有两条可能的路径可以拒绝零假设——例如，我们相信某些输出要么小于平均值，要么大于平均值——将有两个临界值（这种检验称为**双尾**假设检验），但如果只有一条反对零假设的论据，则只有一个临界值（这称为**单尾**假设检验）。无论临界值的数量有多少，在给定的假设检验中，每个组内都只有一个检验统计量度量。如果检验统计量超过临界值，就有统计学上显著的依据来支持拒绝零假设，并得出数据之间存在统计学上显著差异的结论。
- en: 'It is useful to understand that a hypothesis test can test the following:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 有必要理解假设检验可以检验以下内容：
- en: One variable against another (such as in a t-test)
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个变量对另一个变量（例如，在t检验中）
- en: Multiple variables against one variable (for example, linear regression)
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多个变量对一个变量（例如，线性回归）
- en: Multiple variables against multiple variables (for example, MANOVA)
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多个变量对多个变量（例如，多变量方差分析）
- en: In the following figure, we can see visually the relationship between the test
    statistic and critical values in a two-tailed hypothesis test.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的图中，我们可以直观地看到检验统计量与双尾假设检验中的临界值之间的关系。
- en: '![Figure 1.3 – Critical values versus a test statistic in a two-tailed hypothesis
    test](img/B18945_01_003.jpg)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![图1.3 – 双尾假设检验中临界值与检验统计量之间的关系](img/B18945_01_003.jpg)'
- en: Figure 1.3 – Critical values versus a test statistic in a two-tailed hypothesis
    test
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.3 – 双尾假设检验中临界值与检验统计量之间的关系
- en: Based on the figure, we now have a visual idea of how a test statistic exceeding
    the critical value suggests rejecting the null hypothesis.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 根据图示，我们现在对检验统计量超过临界值表明拒绝零假设有了直观的认识。
- en: One concern with using only the approach of measuring test statistics against
    critical values in the hypothesis, however, is that test statistics can be impractically
    large. This is likely to occur when there may be a wide range of results that
    are not considered to fall within the bounds of a treatment effect. It is uncertain
    whether a result as extreme as or more extreme than the test statistic is possible.
    To prevent misleadingly rejecting the null hypothesis, a **p-value** is used.
    The p-value represents the probability that chance alone resulted in a value as
    extreme as the one observed (the one that suggests rejecting the null hypothesis).
    If a p-value is low, relative to the level of significance, the null hypothesis
    can be rejected. Common levels of significance are 0.01, 0.05, and 0.10\. It is
    beneficial to confirm prior to making a decision on a hypothesis to assess both
    the critical value’s relationship to the test statistic and the p-value. More
    will be discussed in [*Chapter 3*](B18945_03.xhtml#_idTextAnchor055)*, Hypothesis
    Testing*, when we begin discussing hypothesis testing.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，仅使用将测试统计量与假设中的临界值进行比较的方法，存在一个担忧，即测试统计量可能过大，不切实际。这种情况可能发生在结果范围很广，而这些结果被认为不属于治疗效果范围时。是否可能得到与测试统计量一样极端或更极端的结果尚不确定。为了防止错误地拒绝零假设，使用了**p值**。p值表示仅凭偶然导致观察到的值（表明拒绝零假设的值）的概率。如果p值相对于显著性水平较低，则可以拒绝零假设。常见的显著性水平为0.01、0.05和0.10。在做出关于假设的决定之前，评估临界值与测试统计量之间的关系以及p值是有益的。更多内容将在[*第3章*](B18945_03.xhtml#_idTextAnchor055)*，假设检验*中讨论，当我们开始讨论假设检验时。
- en: Sampling strategies – random, systematic, stratified, and clustering
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 抽样策略 – 随机、系统、分层和聚类
- en: In this section, we will discuss the different sampling methods used in research.
    Broadly speaking, in the real world, it is not easy or possible to get the whole
    population data for many reasons. For instance, the costs of gathering data are
    expensive in terms of money and time. Collecting all the data is impractical in
    many cases and ethical issues are also considered. Taking samples from the population
    can help us overcome these problems and is a more efficient way to collect data.
    By collecting an appropriate sample for a study, we can draw statistical conclusions
    or statistical inferences about the population properties. Inferential statistical
    analysis is a fundamental aspect of statistical thinking. Different sampling methods
    from probability strategies to non-probability strategies used in research and
    industry will be discussed in this section.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将讨论在研究中使用的不同抽样方法。总的来说，在现实世界中，由于许多原因，很难或不可能获取整个总体数据。例如，收集数据的成本在金钱和时间上都很昂贵。在许多情况下，收集所有数据是不切实际的，而且还要考虑伦理问题。从总体中抽取样本可以帮助我们克服这些问题，并且是收集数据的一种更有效的方法。通过为研究收集适当的样本，我们可以对总体属性进行统计结论或统计推断。推断性统计分析是统计思维的基本方面。本节将讨论从概率策略到在研究和工业中使用的非概率策略的不同抽样方法。
- en: 'There are essentially two types of sampling methods:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上存在两种类型的抽样方法：
- en: Probability sampling
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 概率抽样
- en: Non-probability sampling
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 非概率抽样
- en: Probability sampling
  id: totrans-80
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 概率抽样
- en: In *probability sampling*, a sample is chosen from a population based on the
    theory of probability, or it is chosen randomly using random selection. In *random
    selection*, the chance of each member in a population being selected is equal.
    For example, consider a game with 10 similar pieces of paper. We write numbers
    1 through 10, with a separate piece of paper for each number. The numbers are
    then shuffled in a box. The game requires picking three of these ten pieces of
    paper randomly. Because the pieces of paper have been prepared using the same
    process, the chance of any piece of paper being selected (or the numbers one through
    ten) is equal for each piece. Collectively, the 10 pieces of paper are considered
    a population and the 3 selected pieces of paper constitute a random sample. This
    example is one approach to the probability sampling methods we will discuss in
    this chapter.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在*概率抽样*中，样本是根据概率理论从总体中选择的，或者是通过随机选择随机选择的。在*随机选择*中，总体中每个成员被选中的机会是相等的。例如，考虑一个有10张相似纸张的游戏。我们写上数字1到10，每张纸对应一个数字。然后这些数字在一个盒子里被打乱。游戏要求随机挑选这三张纸张中的三张。因为纸张是使用相同的过程准备的，所以任何一张纸张被选中的机会（或数字1到10）对每一张都是相等的。总的来说，这10张纸张被视为一个总体，而选出的3张纸张构成一个随机样本。这个例子是我们将在本章讨论的概率抽样方法之一。
- en: '![Figure 1.4 – A random sampling example](img/B18945_01_004.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![图1.4 – 随机抽样示例](img/B18945_01_004.jpg)'
- en: Figure 1.4 – A random sampling example
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.4 – 随机抽样示例
- en: 'We can implement the sampling method described before (and shown in *Figure
    1**.4*) with `numpy`. We will use the `choice` method to select three samples
    from the given population. Notice that `replace==False` is used in the choice.
    This means that once a sample is chosen, it will not be considered again. Note
    that the random generator is used in the following code for reproducibility:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用之前描述的（并在*图1.4**.4*中展示的）抽样方法，使用`numpy`实现。我们将使用`choice`方法从给定的人口中选取三个样本。注意在`choice`中使用`replace==False`。这意味着一旦一个样本被选中，它将不会再次被考虑。注意，在以下代码中使用随机生成器是为了可重复性：
- en: '[PRE5]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The purpose of random selection is to avoid a biased result when some units
    of a population have a lower or higher probability of being chosen in a sample
    than others. Nowadays, a random selection process can be done by using computer
    randomization programs.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 随机选择的目的在于避免当人口中的某些单位在样本中被选中的概率低于或高于其他单位时，产生偏差的结果。如今，可以通过使用计算机随机化程序来完成随机选择过程。
- en: 'Four main types of the probability sampling methods that will be discussed
    here are as follows:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 这里将要讨论的四种主要类型的概率抽样方法如下：
- en: Simple random sampling
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 简单随机抽样
- en: Systematic sampling
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统抽样
- en: Stratified sampling
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分层抽样
- en: Cluster sampling
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 群体抽样
- en: Let’s look at each one of them.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们逐一来看它们。
- en: Simple random sampling
  id: totrans-93
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 简单随机抽样
- en: First, simple random sampling is a method to select a sample randomly from a
    population. Every member of the subset (or the sample) has an equal chance of
    being chosen through an unbiased selection method. This method is used when all
    members of a population have similar properties related to important variables
    (important features) and it is the most direct approach to probability sampling.
    The advantages of this method are to minimize bias and maximize representativeness.
    However, while this method helps limit a biased approach, there is a risk of errors
    with simple random sampling. This method also has some limitations. For instance,
    when the population is very large, there can be high costs and a lot of time required.
    Sampling errors need to be considered when a sample is not representative of the
    population and the study needs to perform this sampling process again. In addition,
    not every member of a population is willing to participate in the study voluntarily,
    which makes it a big challenge to obtain good information representative of a
    large population. The previous example of choosing 3 pieces of paper from 10 pieces
    of paper is a simple random sample.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，简单随机抽样是从人口中随机选择样本的方法。通过无偏选择方法，子集（或样本）中的每个成员都有相同的机会被选中。当人口中的所有成员都与重要变量（重要特征）有相似的性质时，这种方法被使用，并且这是概率抽样的最直接方法。这种方法的优势在于最小化偏差并最大化代表性。然而，虽然这种方法有助于限制偏差的方法，但简单随机抽样存在错误的风险。这种方法也有一些局限性。例如，当人口非常大时，可能需要很高的成本和大量时间。当样本不能代表人口且研究需要再次进行此抽样过程时，需要考虑抽样误差。此外，并不是人口中的每个成员都愿意自愿参与研究，这使得获取代表大量人口的良好信息成为一个巨大的挑战。选择10张纸中的3张纸的先前例子是一个简单随机样本。
- en: Systematic sampling
  id: totrans-95
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 系统抽样
- en: 'Here, members of a population are selected at a random starting point with
    a fixed sampling interval. We first choose a fixed sampling interval by dividing
    the number of members in a population by the number of members in a sample that
    the study conducts. Then, a random starting point between the number one and the
    number of members in the sampling interval is selected. Finally, we choose subsequent
    members by repeating this sampling process until enough samples have been collected.
    This method is faster and preferable than simple random sampling when cost and
    time are the main factors to be considered in the study. On the other hand, while
    in simple random sampling, each member of a population has an equal chance of
    being selected, in systematic sampling, a sampling interval rule is used to choose
    a member from a population in a sample for a study. It can be said that systematic
    sampling is less random than simple random sampling. Similarly, as in simple random
    sampling, member properties of a population are similarly related to important
    variables/features. Let us discuss how we perform systematic sampling through
    the following example. In a class at one high school in Dallas, there are 50 students
    but only 10 books to give to these students. The sampling interval is fixed by
    dividing the number of students in the class by the number of books (50/10 = 5).
    We also need to generate a random number between one and 50 as a random starting
    point. For example, take the number 18\. Hence, the 10 students selected to get
    the books will be as follows:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，人口中的成员以固定的采样间隔在随机起点被选中。我们首先通过将人口中的成员数除以研究中进行的样本成员数来选择一个固定的采样间隔。然后，在采样间隔的成员数之间选择一个介于第一个成员和成员数之间的随机起点。最后，通过重复此采样过程来选择后续成员，直到收集到足够的样本。当成本和时间是研究需要考虑的主要因素时，这种方法比简单的随机抽样更快、更可取。另一方面，在简单随机抽样中，每个成员被选中的机会是均等的，而在系统抽样中，使用采样间隔规则从样本中选择一个成员进行研究。可以说，系统抽样比简单随机抽样更不随机。同样，在简单随机抽样中，成员属性与重要变量/特征的相关性也类似。让我们通过以下例子来讨论我们如何进行系统抽样。在德克萨斯州达拉斯的一所高中的班级中，有50名学生，但只有10本书要分给这些学生。通过将班级中的学生数除以书籍数（50/10
    = 5）来固定采样间隔。我们还需要生成一个介于1和50之间的随机数作为随机起点。例如，取数字18。因此，被选中获得书籍的10名学生如下：
- en: 18, 23, 28, 33, 38, 43, 48, 3, 8, 13
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 18, 23, 28, 33, 38, 43, 48, 3, 8, 13
- en: 'The natural question arises as to whether the interval sampling is a fraction.
    For example, if we have 13 books, then the sampling interval will be 50/13 ~ 3.846\.
    However, we cannot choose this fractional number as a sampling interval that represents
    the number of students. In this situation, we could choose number 3 or 4, alternatively,
    as the sampling intervals (we could also choose either 3 or 4 as the sampling
    interval). Let us assume that a random starting point generated is 17\. Then,
    the 13 selected students are these:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 自然会提出一个问题，即区间抽样是否是一个分数。例如，如果我们有13本书，那么采样间隔将是50/13 ~ 3.846。然而，我们不能选择这个分数作为代表学生数量的采样间隔。在这种情况下，我们可以选择数字3或4作为采样间隔（我们也可以选择3或4作为采样间隔）。让我们假设生成的随机起始点是17。那么，选出的13名学生是这些：
- en: 17, 20, 24, 27, 31, 34, 38, 41, 45, 48, 2, 5, 9
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 17, 20, 24, 27, 31, 34, 38, 41, 45, 48, 2, 5, 9
- en: Observing the preceding series of numbers, after reaching the number 48, since
    adding 4 will produce a number greater than the count of students (50 students),
    the sequence restarts at 2 (48 + 4 = 52, but since 50 is the maximum, we restart
    at 2). Therefore, the last three numbers in the sequence are 2, 5, and 9, with
    the sampling intervals 4, 3, and 4, respectively (passing the number 50 and back
    to the number 1 until we have 13 selected students for the systematic sample).
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 观察前面的数字序列，在达到数字48之后，由于加上4会产生一个大于学生人数（50名学生）的数字，因此序列从2重新开始（48 + 4 = 52，但由于50是最大值，所以我们从2重新开始）。因此，序列中的最后三个数字是2、5和9，分别对应4、3和4的采样间隔（通过数字50并返回到数字1，直到我们选出13名学生进行系统抽样）。
- en: With systematic sampling, there is a biased risk when the list of members of
    a population is organized to match the sampling interval. For example, going back
    to the case of 50 students, researchers want to know how students feel about mathematics
    classes. However, if the best students in math correspond to numbers 2, 12, 22,
    32, and 42, then the survey could be biased if conducted when the random starting
    point is 2 and the sampling interval is 10.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在系统抽样中，当人口成员的列表组织以匹配采样间隔时，存在偏差风险。例如，回到50名学生的案例，研究人员想知道学生对数学课的看法。然而，如果数学成绩最好的学生对应于数字2、12、22、32和42，那么如果随机起始点是2且采样间隔是10，调查可能会存在偏差。
- en: Stratified sampling
  id: totrans-102
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分层抽样
- en: 'It is a probability sampling method based on dividing a population into homogeneous
    subpopulations called **strata**. Each stratum splits based on distinctly different
    properties, such as gender, age, color, and so on. These subpopulations must be
    distinct so that every member in each stratum has an equal chance of being selected
    by using simple random sampling. *Figure 1**.5* illustrates how stratified sampling
    is performed to select samples from two subpopulations (a set of numbers and a
    set of letters):'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个基于将人口划分为同质子种群称为**层**的概率抽样方法。每个层根据明显不同的属性进行划分，例如性别、年龄、颜色等。这些子种群必须是不同的，以便每个层中的每个成员都有相同的机会被简单随机抽样选中。*图1.5*说明了如何从两个子种群（一组数字和一组字母）中进行分层抽样以选择样本：
- en: '![Figure 1.5 – A stratified sample example](img/B18945_01_005.jpg)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![图1.5 – 分层抽样示例](img/B18945_01_005.jpg)'
- en: Figure 1.5 – A stratified sample example
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.5 – 分层抽样示例
- en: 'The following code sample shows how to implement stratified sampling with `numpy`
    using the example shown in *Figure 1**.5*. First, the instances are split into
    the respective strata: numbers and letters. Then, we use `numpy` to take random
    samples from each stratum. Like in the previous code example, we utilize the `choice`
    method to take the random sample, but the sample size for each stratum is based
    on the total number of instances in each stratum rather than the total number
    of instances in the entire population; for example, sampling 50% of the numbers
    and 50% of the letters:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码示例展示了如何使用*图1.5*中的示例通过`numpy`实现分层抽样。首先，实例被分割到相应的层：数字和字母。然后，我们使用`numpy`从每个层中抽取随机样本。就像之前的代码示例一样，我们利用`choice`方法抽取随机样本，但每个层的样本大小是基于每个层中实例的总数，而不是整个种群中的总数；例如，抽取数字的50%和字母的50%：
- en: '[PRE6]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The main advantage of this method is that key population characteristics in
    a sample better represent the population that is studied and are also proportional
    to the overall population. This method helps to reduce sample selection bias.
    On the other hand, when classifying each member of a population into distinct
    subpopulations is not obvious, this method becomes unusable.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 这种方法的主要优势是，样本中的关键群体特征更好地代表了所研究的群体，并且与整体群体成比例。这种方法有助于减少样本选择偏差。另一方面，当将群体中的每个成员分类到不同的子群体中不明显时，这种方法变得不可用。
- en: Cluster sampling
  id: totrans-109
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 聚类抽样
- en: Here, a population is divided into different subgroups called clusters. Each
    cluster has homogeneous characteristics. Instead of randomly selecting individual
    members in each cluster, entire clusters are randomly chosen and each of these
    clusters has an equal chance of being selected as part of a sample. If clusters
    are large, then we can conduct a **multistage sampling** by using one of the previous
    sampling methods to select individual members within each cluster. A cluster sampling
    example is discussed now. A local pizzeria plans to expand its business in the
    neighborhood. The owner wants to know how many people order pizzas from his pizzeria
    and what the preferred pizzas are. He then splits the neighborhood into different
    areas and selects clients randomly to form cluster samples. A survey is sent to
    the selected clients for his business study. Another example is related to multistage
    cluster sampling. A retail chain store conducts a study to see the performance
    of each store in the chain. The stores are divided into subgroups based on location,
    then samples are randomly selected to form clusters, and the sample cluster is
    used as a performance study of his stores. This method is easy and convenient.
    However, the sample clusters are not guaranteed to be representative of the whole
    population.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，一个群体被划分为不同的子群体，称为**聚类**。每个聚类具有同质特征。不是在每个聚类中随机选择个别成员，而是随机选择整个聚类，并且这些聚类有同等的机会被选中作为样本的一部分。如果聚类很大，那么我们可以通过使用之前提到的抽样方法之一来选择每个聚类内的个别成员，从而进行**多阶段抽样**。现在讨论一个聚类抽样的例子。一家当地比萨饼店计划在其社区内扩展业务。店主想知道有多少人从他的比萨饼店订购比萨饼，以及最受欢迎的比萨饼是什么。然后他将社区划分为不同的区域，并随机选择客户形成聚类样本。他向选定的客户发送调查问卷以进行其业务研究。另一个例子与多阶段聚类抽样相关。一家连锁零售店进行一项研究，以查看连锁店中每家店铺的表现。店铺根据位置划分为子群体，然后随机选择样本形成聚类，并将样本聚类用作其店铺的表现研究。这种方法既简单又方便。然而，样本聚类并不保证能代表整个群体。
- en: Non-probability sampling
  id: totrans-111
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 非概率抽样
- en: The other type of sampling method is non-probability sampling, where some or
    all members of a population do not have an equal chance of being selected as a
    sample to participate in the study. This method is used when random probability
    sampling is impossible to conduct and it is faster and easier to obtain data compared
    to the probability sampling method. One of the reasons to use this method is due
    to cost and time considerations. It allows us to collect data easily by using
    a non-random selection based on convenience or certain criteria. This method can
    lead to a higher-biased risk than the probability sampling method. The method
    is often used in exploratory and qualitative research. For example, if a group
    of researchers wants to understand clients’ opinions of a company related to one
    of its products, they send a survey to the clients who bought and used the product.
    It is a convenient way to get opinions, but these opinions are only from clients
    who already used the product. Therefore, the sample data is only representative
    of one group of clients and cannot be generalized as the opinions of all the clients
    of the company.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种抽样方法是**非概率抽样**，在这种方法中，一个群体中的某些或所有成员没有平等的机会被选中作为样本参与研究。当无法进行随机概率抽样，且与概率抽样方法相比，这种方法更快、更容易获取数据时，会使用这种方法。使用这种方法的一个原因是因为成本和时间考虑。它允许我们通过基于便利性或某些标准进行非随机选择来轻松收集数据。这种方法可能导致比概率抽样方法更高的偏差风险。这种方法通常用于探索性和定性研究。例如，如果一组研究人员想要了解客户对其产品相关公司意见，他们会向购买并使用该产品的客户发送调查问卷。这是一种获取意见的便捷方式，但这些意见仅来自已经使用过产品的客户。因此，样本数据仅代表一组客户，不能作为公司所有客户的意见进行推广。
- en: '![Figure 1.6 – A survey study example](img/B18945_01_006.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![图1.6 – 一项调查研究的示例](img/B18945_01_006.png)'
- en: Figure 1.6 – A survey study example
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.6 – 一项调查研究的示例
- en: The previous example is one of two types of non-probability sampling methods
    that we want to discuss here. This method is **convenience sampling**. In convenience
    sampling, researchers choose members the most accessible to the researchers from
    a population to form a sample. This method is easy and inexpensive but generalizing
    the results obtained to the whole population is questionable.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的例子是我们想要在此处讨论的两种非概率抽样方法之一。这种方法是**便利抽样**。在便利抽样中，研究人员从总体中选择最易于接触的成员来形成一个样本。这种方法简单且成本低，但将获得的结果推广到整个总体是有疑问的。
- en: '**Quota sampling** is another type of non-probability sampling where a sample
    group is selected to be representative of a larger population in a non-random
    way. For example, recruiters with limited time can use the quota sampling method
    to search for potential candidates from professional social networks (LinkedIn,
    Indeed.com, etc.) and interview them. This method is cost-effective and saves
    time but presents bias during the selection process.'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '**配额抽样**是另一种非概率抽样，其中通过非随机方式选择一个样本组，使其代表更大的总体。例如，时间有限的招聘人员可以使用配额抽样方法从专业社交网络（LinkedIn、Indeed.com等）中寻找潜在候选人并进行面试。这种方法既经济又节省时间，但在选择过程中存在偏差。'
- en: In this section, we provided an overview of probability and non-probability
    sampling. Each strategy has advantages and disadvantages, but they help us to
    minimize risks, such as bias. A well-planned sampling strategy will also help
    reduce errors in predictive modeling.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们概述了概率抽样和非概率抽样。每种策略都有其优势和劣势，但它们有助于我们最小化风险，例如偏差。一个精心规划的抽样策略还将有助于减少预测模型中的错误。
- en: Summary
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we discussed installing and setting up the Python environment
    to run the `Statsmodels` API and other requisite open-source packages. We also
    discussed populations versus samples and the requirements to gain inference from
    samples. Finally, we explained several different common sampling methods used
    in statistical and machine learning models.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们讨论了安装和设置Python环境以运行`Statsmodels` API和其他必需的开源软件包。我们还讨论了总体与样本以及从样本中获得推断的要求。最后，我们解释了在统计和机器学习模型中常用的几种不同抽样方法。
- en: In the next chapter, we will begin a discussion on statistical distributions
    and their implications for building statistical models. In [*Chapter 3*](B18945_03.xhtml#_idTextAnchor055)*,
    Hypothesis Testing*, we will begin discussing hypothesis testing in depth, expanding
    on the concepts discussed in the *Observational study* section of this chapter.
    We will also discuss power analysis, which is a useful tool for determining the
    sample size based on existing sample data parameters and the desired levels of
    statistical significance.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将开始讨论统计分布及其对构建统计模型的影响。在[*第3章*](B18945_03.xhtml#_idTextAnchor055)*假设检验*中，我们将深入讨论假设检验，扩展本章*观察性研究*部分讨论的概念。我们还将讨论功效分析，这是一种基于现有样本数据参数和所需统计显著性水平的工具，用于确定样本量。
