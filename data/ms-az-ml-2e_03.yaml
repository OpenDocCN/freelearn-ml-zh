- en: '*Chapter 2*: Choosing the Right Machine Learning Service in Azure'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第二章*: 在 Azure 中选择正确的机器学习服务'
- en: In the previous chapter, we learned about the end-to-end ML process and all
    the required steps, from data exploration to data preprocessing, training, optimization,
    deployment, and operation. Understanding the whole process will better help us
    in choosing the right service for building cloud-based ML services.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们学习了端到端的机器学习过程以及所有必需的步骤，从数据探索到数据预处理、训练、优化、部署和运营。了解整个过程将更好地帮助我们选择构建基于云的机器学习服务的正确服务。
- en: In this chapter, we will help you navigate the different Azure AI services and
    show you how to select the right service for your ML task. First, we will classify
    the different services by service abstraction and application domain, and then
    look at the different trade-offs and benefits of the different services.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将帮助您了解不同的 Azure 人工智能服务，并展示如何为您的机器学习任务选择正确的服务。首先，我们将根据服务抽象和应用领域对不同的服务进行分类，然后探讨不同服务的不同权衡和益处。
- en: In the next section, we will focus on managed services and jump right into Azure
    Cognitive Services, multiple pre-trained ML services for general tasks and domains.
    We will then cover customized Cognitive Services, which is a way to fine-tune
    a Cognitive Service for a specific task or domain, and end the section by looking
    into applied AI services.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将重点关注托管服务，并直接进入 Azure 认知服务，这是针对一般任务和领域的多个预训练机器学习服务。然后，我们将介绍定制认知服务，这是一种针对特定任务或领域微调认知服务的方法，并在本节结束时探讨应用人工智能服务。
- en: In the following section, we will discuss custom ML services in Azure, such
    as Azure Automated Machine Learning, Azure Machine Learning designer, and the
    Azure Machine Learning service – the service that we will use throughout this
    book.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将讨论 Azure 中的定制机器学习服务，例如 Azure 自动机器学习、Azure 机器学习设计器和 Azure 机器学习服务——本书中将使用该服务。
- en: In the last section, we will look into custom compute services, such as Azure
    Databricks, Azure Batch, and Data Science Virtual Machines, for building custom
    ML solutions.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一节中，我们将探讨定制计算服务，例如 Azure Databricks、Azure Batch 和数据科学虚拟机，用于构建定制的机器学习解决方案。
- en: At the end of this chapter, you will know how to navigate the Azure AI landscape
    and understand why Azure Machine Learning is the preferred service to build custom
    ML solutions.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章结束时，您将了解如何导航 Azure 人工智能领域，并理解为什么 Azure 机器学习是构建定制机器学习解决方案的首选服务。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Choosing an Azure service for ML
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择 Azure 机器学习服务
- en: Managed ML services
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管理机器学习服务
- en: Custom ML services
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定制机器学习服务
- en: Custom compute services for ML
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定制计算服务
- en: Choosing an Azure service for ML
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 选择 Azure 机器学习服务
- en: Azure provides more than 200 services, of which more than 30 services are targeted
    for building solutions for AI and ML. This vast number of services often makes
    it difficult for someone new to Azure to choose the right service for a specific
    task. Choosing the right service for your ML task is the most important decision
    you will have to make when starting with ML in Azure. In this section, we will
    provide clear guidance about how to choose the right ML and compute services in
    Azure.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: Azure 提供了超过 200 个服务，其中超过 30 个服务针对构建人工智能和机器学习解决方案。如此众多的服务往往使得 Azure 新手难以选择针对特定任务的正确服务。在
    Azure 中开始机器学习时，为您的机器学习任务选择正确的服务是您必须做出的最重要的决定。在本节中，我们将提供关于如何在 Azure 中选择正确的机器学习和计算服务的明确指导。
- en: The right service with the right layer of abstraction could save you months
    if not years of time to market your ML-based product or feature. It could help
    you avoid tedious time-consuming tasks such as improving model performance through
    transfer learning, re-training, managing, and re-deploying ML models, or monitoring,
    scaling, and operating inference services and endpoints.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 选择正确的服务以及适当的抽象层可以为您节省数月甚至数年的时间来推广基于机器学习的产品或功能。它可以帮助您避免诸如通过迁移学习、重新训练、管理、重新部署机器学习模型，或监控、扩展和操作推理服务和端点等繁琐且耗时的任务。
- en: Choosing the wrong service could mean that you start producing results quickly,
    but it might become impossible to improve model performance for a specific domain
    or extend a model for other tasks. Therefore, having a basic understanding of
    the different Azure AI and ML services will help you to make the right trade-offs
    and choose the right service for your use case. In the next section, we will help
    you navigate the many Azure services and Azure AI landscape to identify the right
    ML service for your use case.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 选择错误的服务可能会导致你快速开始产生结果，但可能变得无法提高特定领域的模型性能或扩展模型以用于其他任务。因此，对不同的Azure AI和ML服务有一个基本的了解将帮助你做出正确的权衡，并为你的用例选择正确的服务。在下一节中，我们将帮助你导航众多的Azure服务和Azure
    AI景观，以确定适合你用例的正确ML服务。
- en: Navigating the Azure AI landscape
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 导航Azure AI景观
- en: 'For many cloud-based services, such as compute, storage, database, or analytics,
    the most important choice is the service level abstraction – **Infrastructure
    as a Service** (**IaaS**), **Platform as a Service** (**PaaS**), or **Software
    as a Service** (**SaaS**). *Figure 2.1* shows the difference between the self-managed
    and managed parts of the application stack for cloud services:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 对于许多基于云的服务，如计算、存储、数据库或分析，最重要的选择是服务级别抽象——**基础设施即服务**（**IaaS**）、**平台即服务**（**PaaS**）或**软件即服务**（**SaaS**）。*图2.1*显示了云服务中自管理部分和管理部分之间的区别：
- en: '![Figure 2.1 – An IaaS versus PaaS versus SaaS comparison for cloud services
    ](img/B17928_02_01.jpg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![图2.1 – 云服务的IaaS与PaaS与SaaS比较](img/B17928_02_01.jpg)'
- en: Figure 2.1 – An IaaS versus PaaS versus SaaS comparison for cloud services
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.1 – 云服务的IaaS与PaaS与SaaS比较
- en: 'Let''s compare the different types of abstractions and responsibilities presented
    in the previous figure. The application stack is built from left to right, starting
    with a *data center* (building, cooling, power, and so on) that contains *hardware*
    (computers, disks, network cards, switches, and so on). Each machine is powered
    by an *operating system* (Linux or Windows) and runs specific *services* (web
    server, database, cache, and so on) and *applications* (for example, WordPress),
    which store and serve your *data* (for example, your custom website):'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们比较前图中展示的不同类型的抽象和责任。应用堆栈是从左到右构建的，从包含*硬件*（计算机、磁盘、网络卡、交换机等）的*数据中心*（建筑、冷却、电力等）开始。每台机器由一个*操作系统*（Linux或Windows）供电，并运行特定的*服务*（Web服务器、数据库、缓存等）和*应用程序*（例如，WordPress），这些应用程序存储和提供你的*数据*（例如，你的自定义网站）：
- en: With on-premises compute, you own and manage everything – from the building,
    cooling, power, physical servers, network connections, switches, and BIOS, up
    to the operating system, services, applications, and data. If a disk, network
    interface, or power connection fails, you need to get it changed.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在本地计算中，你拥有并管理一切——从建筑、冷却、电力、物理服务器、网络连接、交换机，到操作系统、服务、应用程序和数据。如果硬盘、网络接口或电源连接出现故障，你需要更换它们。
- en: With *IaaS* services, you consume infrastructure from your cloud provider such
    as a **Virtual Machine** (**VM**). You choose the number of CPUs, memory, disks,
    network interfaces, and so on, which will all be managed for you, but you need
    to manage the OS as well as all the services, applications, and data yourself.
    If there is an important kernel security update, you need to get it installed.
    IaaS services are the fundamental building blocks for all other services.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在*IaaS*服务中，你从你的云提供商那里消费基础设施，例如**虚拟机**（**VM**）。你选择CPU数量、内存、磁盘、网络接口等，所有这些都将为你管理，但你需要自己管理操作系统以及所有服务、应用程序和数据。如果有一个重要的内核安全更新，你需要安装它。IaaS服务是所有其他服务的基本构建块。
- en: '*PaaS* services let you focus purely on your application. A typical example
    is so-called *serverless compute* such as Azure Functions. Here, you can choose
    your JVM version to deploy a Java-based application, but you don''t need to worry
    about patching your operating system, your service runtime, or the underlying
    hardware. PaaS services often provide a good trade-off between ownership, customization,
    and cost. Most cloud services fall into this category.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*PaaS*服务让你可以纯粹关注你的应用程序。一个典型的例子是所谓的*无服务器计算*，如Azure Functions。在这里，你可以选择你的JVM版本来部署基于Java的应用程序，但你不需要担心修补你的操作系统、你的服务运行时或底层硬件。PaaS服务通常在所有权、定制和成本之间提供良好的权衡。大多数云服务都属于这一类别。'
- en: Lastly, *SaaS* services are whole applications that are designed, implemented,
    and managed by the cloud provider. You usually interact with these services through
    a website or API endpoint, without even knowing what operating system or service
    runtime is used or what the application code or data model looks like. SaaS services
    can be compared with popular web services that we use every day, such as Facebook,
    Netflix, Spotify, or YouTube. Cloud providers often build these services for specific
    use cases, such as IoT, genomics, computer vision, and others.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最后，*SaaS*服务是由云服务提供商设计、实施和管理的完整应用程序。您通常通过网站或API端点与这些服务交互，甚至不知道使用了什么操作系统或服务运行时，也不知道应用程序代码或数据模型的样子。SaaS服务可以与我们在日常生活中使用的流行网络服务相提并论，例如Facebook、Netflix、Spotify或YouTube。云服务提供商通常为特定的用例构建这些服务，例如物联网、基因组学、计算机视觉等。
- en: 'In conclusion, all Azure services can be placed somewhere on the IaaS, PaaS,
    and SaaS scale based on the level of service abstraction. We can use this scale
    to categorize all Azure AI services into three groups:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 总之，所有Azure服务都可以根据服务抽象级别在IaaS、PaaS和SaaS规模上定位。我们可以使用这个规模将所有Azure AI服务分为三类：
- en: Managed ML services (SaaS)
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管理型机器学习服务（SaaS）
- en: Custom ML services (PaaS)
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定制ML服务（PaaS）
- en: Custom compute services for ML (IaaS)
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 机器学习定制计算服务（IaaS）
- en: Therefore, your first step in choosing an ML service in Azure is to determine
    the right service-level abstraction for your use case – by choosing the right
    trade-off between flexibility, ownership, skills, time, and cost.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在Azure中选择ML服务的第一步是确定适合您用例的正确服务级别抽象——通过选择正确的灵活性、所有权、技能、时间和成本之间的权衡。
- en: However, choosing an ML service is a bit more nuanced than differentiating only
    between managed and custom services. Especially for managed ML services, we also
    need to compare the different application domains and levels of customization
    and specialization.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，选择ML服务比仅仅区分托管和定制服务要复杂得多。特别是对于托管ML服务，我们还需要比较不同的应用领域和定制及专业化的水平。
- en: Azure provides many pre-trained domain-specific models and services, such as
    object detection, sentiment analysis, recommendation engines, and document parsing.
    Depending on your application domain, you could choose an ML service that includes
    a pre-trained model. For example, if you need a general face-recognition model,
    you could consume this as a managed service from Azure. This means that you don't
    need any training data at all for building such a feature. The decision of using
    a pre-trained model has a huge impact on your project timeline, as acquiring,
    cleaning, and labeling training data is one of the most tedious and time-consuming
    steps in the ML process.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: Azure提供了许多预训练的特定领域模型和服务，例如目标检测、情感分析、推荐引擎和文档解析。根据您的应用领域，您可以选择包含预训练模型的ML服务。例如，如果您需要一个通用的面部识别模型，您可以从Azure中作为托管服务来使用它。这意味着您根本不需要任何训练数据来构建这样的功能。使用预训练模型的决定对您的项目时间表有巨大影响，因为获取、清理和标记训练数据是ML过程中最繁琐且耗时的工作之一。
- en: However, many ML applications are built for highly specialized domains such
    as medical data analysis, forensic analysis, and the legal profession. If you
    are building ML-based applications or features for such a domain, a pre-trained
    model without any customization for the application domain might not be the right
    fit. In this case, you can choose a managed ML service that provides customization
    capabilities – a way to use training data to fine-tune a pre-trained model for
    a custom domain. This process is also referred to as transfer learning and supported
    by some managed Azure Machine Learning services.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，许多ML应用是为高度专业化的领域构建的，例如医学数据分析、法医分析和法律职业。如果您正在为这样的领域构建基于ML的应用或功能，没有针对应用领域进行定制的预训练模型可能并不合适。在这种情况下，您可以选择提供定制功能的托管ML服务——一种使用训练数据来微调预训练模型以适应定制领域的方法。这个过程也被称为迁移学习，并得到一些托管Azure机器学习服务的支持。
- en: Some domains or ML-based applications don't fit into this category and can't
    easily be fine-tuned for a different application domain. For example, it's not
    practical to pre-train a recommendation engine on someone else's ratings, transfer
    text-to-speech features to a generative model for classical music, or fine-tune
    a two-dimensional model with three-dimensional image data. In these cases, you
    have no other choice but to create your own models using your own training data.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 一些领域或基于ML的应用不适合这个类别，并且不能轻易地针对不同的应用领域进行微调。例如，在别人的评分上预训练推荐引擎、将文本到语音功能转移到古典音乐的生成模型，或者用三维图像数据微调二维模型并不实用。在这些情况下，你除了使用自己的训练数据创建自己的模型外别无选择。
- en: 'Using the preceding examples, we can sub-divide the managed and custom ML services
    by the amount of required training data and application domain into the following
    groups:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 使用前面的例子，我们可以根据所需训练数据量和应用领域将托管和自定义ML服务细分为以下几组：
- en: No training data required
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不需要训练数据
- en: Some training data required for customization
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 需要一些训练数据用于定制
- en: Training data required
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 需要训练数据
- en: Therefore, the second option to choose a managed or custom ML service is based
    on your application domain and requirements for training data and model specialization.
    Similar to service abstraction, the trade-off is between flexibility (customization),
    ownership, skills, time, and cost.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，选择托管或自定义ML服务的第二个选项取决于你的应用领域以及对训练数据和模型专业化的需求。类似于服务抽象，权衡的是灵活性（定制）、所有权、技能、时间和成本。
- en: 'Let''s compare these requirements and look at a similar IaaS, PaaS, and SaaS
    comparison specifically for cloud-based ML services in *Figure 2.2*:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们比较这些需求，并查看*图2.2*中专门针对基于云的ML服务的IaaS、PaaS和SaaS比较：
- en: '![Figure 2.2 – An IaaS versus PaaS versus SaaS comparison for ML services ](img/B17928_02_02.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![图2.2 – IaaS与PaaS与SaaS在ML服务中的比较](img/B17928_02_02.jpg)'
- en: Figure 2.2 – An IaaS versus PaaS versus SaaS comparison for ML services
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.2 – IaaS与PaaS与SaaS在ML服务中的比较
- en: As you can see in the preceding figure, you can evaluate the preferred service
    abstraction for your ML service along similar dimensions as any other cloud service
    – depending on which part of the stack you want to manage yourself. The table
    contains a few adjustments specifically for ML applications, such as *libraries*
    (ML frameworks, tools, and runtimes) instead of services and a *model* instead
    of an application. SaaS services for ML can either allow customization, which
    means you can bring your own data, or don't allow customization, which means you
    don't have to provide any training data at all.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 如前图所示，你可以根据与其他云服务类似的维度评估你ML服务的首选服务抽象——取决于你想要自己管理堆栈的哪一部分。该表包含了一些针对ML应用的特定调整，例如用*库*（ML框架、工具和运行时）代替服务，用*模型*代替应用。ML的SaaS服务可以允许定制，这意味着你可以自带数据，或者不允许定制，这意味着你根本不需要提供任何训练数据。
- en: Armed with this knowledge about service abstractions (IaaS versus PaaS versus
    SaaS) as well as application domain and required training data (no training data
    versus data for customization through transfer learning versus training data),
    we can start dissecting the Azure Machine Learning landscape.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 带着关于服务抽象（IaaS与PaaS与SaaS）以及应用领域和所需训练数据（无训练数据与通过迁移学习进行定制的训练数据）的知识，我们可以开始剖析Azure机器学习领域。
- en: Consuming a managed AI service
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 消耗托管AI服务
- en: Consuming a managed AI service through an API is the easiest and quickest way
    to build ML-based features or applications. It's simple because you don't have
    to clean the training data and train the model, you don't have to manage compute
    clusters for training or inferencing, and you don't have to monitor and scale
    your model deployment for making batch predictions.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 通过API消耗托管AI服务是构建基于ML的功能或应用最快、最简单的方式。这是因为你不需要清理训练数据或训练模型，你不需要管理用于训练或推理的计算集群，也不需要监控和扩展你的模型部署以进行批量预测。
- en: For many managed AI services in Azure, all you need is to call a web service
    with your API key and your data, and the API will respond with the corresponding
    prediction, which is often a combination of multiple model scores. The Azure Cognitive
    Services API for understanding images, for example, will return predictions for
    object detection, image tagging, adult content classification, gory and racy classification,
    face detection, gender and age detection, image description, and more within a
    single API call.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Azure中的许多托管AI服务，您只需要使用您的API密钥和数据调用一个网络服务，API将响应相应的预测，这通常是多个模型分数的组合。例如，Azure认知服务API用于理解图像，将返回对象检测、图像标记、成人内容分类、血腥和色情分类、人脸检测、性别和年龄检测、图像描述等预测，所有这些都在单个API调用中完成。
- en: If you are dealing with a general ML problem and a general domain – such as
    image tagging, text extraction, speech-to-text, and translation – you are lucky
    enough to be able to choose such a managed AI service for your application. Image
    analysis for general image domains (such as photos), text analysis, text-to-speech
    and speech-to-text, language, and translation services are common ML problems
    that can take advantage of an off-the-shelf ML solution. We will explore the different
    APIs and services for managed pre-trained AI services later, in the *Azure Cognitive
    Services* section.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您处理的是一个一般机器学习问题和一般领域——例如图像标记、文本提取、语音转文本和翻译——那么您很幸运，能够为您的应用程序选择这样的托管AI服务。对于通用图像领域（如照片）的图像分析、文本分析、文本到语音和语音到文本、语言和翻译服务是常见的机器学习问题，可以利用现成的机器学习解决方案。我们将在*Azure认知服务*部分稍后探讨不同的API和服务，用于托管预训练AI服务。
- en: A downside of managed AI services is that they all ship with pre-trained black-box
    models that we can't see, interpret, analyze, or optimize. This makes it infeasible
    to use these APIs for highly specific domains. If you work with MRI images for
    cancer detection, you won't find Azure's general object detection algorithm very
    useful.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 托管AI服务的一个缺点是，它们都配备了预训练的黑盒模型，我们无法看到、解释、分析或优化。这使得在高度特定的领域使用这些API变得不可行。如果您使用MRI图像进行癌症检测，您会发现Azure的一般对象检测算法不太有用。
- en: For these specific cases – general ML problems with custom application domains
    – Azure provides customizable managed AI services. One such example is the Azure
    Custom Vision service, which lets you fine-tune a pre-trained model for common
    image recognition tasks. What sets these services apart is that you can provide
    your own training data to fine-tune a model for a custom application domain, while
    benefiting from the advantages of using a managed service.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这些特定情况——具有自定义应用域的一般机器学习问题——Azure提供了可定制的托管AI服务。一个这样的例子是Azure自定义视觉服务，它允许您微调一个预训练模型以用于常见的图像识别任务。这些服务与众不同的地方在于，您可以提供自己的训练数据来微调一个模型以用于自定义应用域，同时享受使用托管服务的优势。
- en: Another such example is **Azure Form Recognizer**, a tool that allows you to
    extract printed and handwritten text from a structured document. It can be fine-tuned
    to detect custom text formats used in your application domain. We will take a
    look at all of these customizable managed services later, in the *Custom cognitive
    services* and *Azure applied services* sections.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个这样的例子是**Azure表单识别器**，这是一个允许您从结构化文档中提取打印和手写文本的工具。它可以微调以检测您应用程序领域使用的自定义文本格式。我们将在*自定义认知服务*和*Azure应用服务*部分稍后查看所有这些可定制的托管服务。
- en: However, if you need the flexibility of choosing a specific model or algorithm
    that is not supported as a service (for example, image segmentation), then you
    don't have a choice but to implement your own model and build your own AI solution.
    We will dive deeper into this topic in the next section.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果您需要选择一个不支持作为服务的特定模型或算法（例如，图像分割）的灵活性，那么您别无选择，只能实现自己的模型并构建自己的AI解决方案。我们将在下一节更深入地探讨这个话题。
- en: Let's end this section with important advice for developing cloud- and ML-based
    features or applications – if possible, opt for a managed service with a pre-trained
    model over building a custom ML solution. Consuming a pre-trained model through
    an API is often magnitudes easier, faster, and cheaper than training, deploying,
    and operating your own ML service. Many practical applications can take advantage
    of generalized pre-trained models or fine-tuned customized models, and the list
    of provided models, services, and domains is constantly growing.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们以开发基于云和ML的功能或应用的重要建议结束本节——如果可能的话，选择具有预训练模型的托管服务，而不是构建自定义ML解决方案。通过API消耗预训练模型通常比训练、部署和运营自己的ML服务容易、快、成本低得多。许多实际应用可以利用通用的预训练模型或微调的定制模型，并且提供的模型、服务和领域列表不断增长。
- en: Throughout this book, we will help you to master the skill of building custom
    ML applications in Azure, to cover all use cases where consuming a managed AI
    service is not possible.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 在整本书中，我们将帮助您掌握在Azure中构建自定义ML应用的能力，涵盖所有无法使用托管AI服务的情况。
- en: Building a custom AI service
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 构建自定义AI服务
- en: If you can't consume a managed AI service either because there is no model or
    service available for your use case, or the fine-tuning capabilities are not sufficient
    for your application domain, you have no other choice but to build a custom AI
    solution.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您无法使用托管AI服务，要么是因为没有适用于您的用例的模型或服务，要么是因为微调能力不足以满足您的应用领域，您别无选择，只能构建自定义AI解决方案。
- en: You can choose either PaaS or IaaS services to build a custom AI solution in
    Azure. Both types of services will give you a similar flexibility in choosing
    your own ML ingredients, such as picking your preferred programming language and
    libraries for implementing and training ML models, choosing your own data sources
    and formats as training data, and choosing specific deployment strategies, such
    as optimization for batch prediction or low-latency on-device inferencing.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以选择在Azure中构建自定义AI解决方案的PaaS或IaaS服务。这两种类型的服务都将为您提供类似的选择灵活性，例如选择您偏好的编程语言和库来实现和训练ML模型，选择您自己的数据源和格式作为训练数据，以及选择特定的部署策略，例如针对批量预测的优化或低延迟的设备端推理。
- en: 'However, this flexibility comes at a cost, which is usually significantly higher
    than consuming a pre-trained or customized AI service. The higher costs are a
    result of the additional tasks, skills, and investments required for successfully
    building and operating an ML service. The most important differences for building
    a custom AI solution over consuming an AI service are the following:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这种灵活性是有代价的，通常比消耗预训练或定制AI服务高得多。更高的成本是成功构建和运营ML服务所需的额外任务、技能和投资的结果。与消耗AI服务相比，构建自定义AI解决方案最重要的差异如下：
- en: Collecting, preprocessing, and labeling training data
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 收集、预处理和标注训练数据
- en: Building infrastructure and automation for training and inferencing
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建用于训练和推理的基础设施和自动化
- en: The modeling, training, and optimization of ML models
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ML模型的建模、训练和优化
- en: Operating the ML service in production
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在生产中运营ML服务
- en: It's easy to see that the additional complexity doesn't only come from training
    a custom model but from many other tasks in the end-to-end ML process. The availability
    of a sufficient amount of training data, the quality of the data and the availability
    of people for labeling this data are the major blockers to build a high-performing
    custom AI solutions. Therefore, you need to make sure that training data is available
    before the start of the project or can be acquired during the project.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 很容易看出，额外的复杂性不仅来自于训练自定义模型，还来自于端到端ML过程中的许多其他任务。足够的训练数据可用性、数据质量和为数据标注人员可用性是构建高性能自定义AI解决方案的主要障碍。因此，您需要在项目开始之前确保训练数据可用，或者可以在项目期间获取。
- en: The second most important additional cost and resources are related to infrastructure.
    Modeling, training, and optimizing is an ongoing iterative process for the lifetime
    of an ML service. After a deployment, we often collect more training data, record
    model metrics, measure the model drift, and repeat the whole process over and
    over. Therefore, even for smaller ML projects, investments in infrastructure are
    significant but essential for the long-term success of the project.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个最重要的额外成本和资源与基础设施相关。建模、训练和优化是ML服务生命周期中持续迭代的流程。部署后，我们通常会收集更多训练数据，记录模型指标，测量模型漂移，并反复重复整个过程。因此，即使是较小的ML项目，对基础设施的投资也是显著的，但对于项目的长期成功至关重要。
- en: Larger companies even split these responsibilities into different teams to address
    the need for different skillsets for both areas – one for building and maintaining
    the ML infrastructure and one for ML modeling, training, and optimization. This
    clearly shows that both infrastructure and modeling are equally important for
    developing successful ML projects.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 大型公司甚至将这些责任分割成不同的团队，以满足这两个领域不同技能集的需求——一个用于构建和维护ML基础设施，另一个用于ML建模、训练和优化。这清楚地表明，基础设施和建模对于开发成功的ML项目同等重要。
- en: The best trade-off in terms of flexibility and ownership for building a cloud-based
    custom AI service is to choose a PaaS-based ML platform. Therefore, a great custom
    ML platform supports you with all these infrastructure setups and operations,
    facilitates your modeling and optimization tasks, provides abstractions to encapsulate
    repetitive workloads, and offers automation to minimize manual effort during the
    project life cycle. On top, a custom ML service provides you with the flexibility
    to choose any ML framework, any modeling technique and training algorithm, and
    any data source and format to build a fully custom AI solution.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 在灵活性和所有权方面，构建基于云的定制AI服务的最佳权衡是选择基于PaaS的ML平台。因此，一个优秀的定制ML平台会支持您进行所有这些基础设施设置和操作，简化您的建模和优化任务，提供抽象来封装重复性工作负载，并在项目生命周期中提供自动化以最小化人工努力。此外，定制ML服务还为您提供灵活性，选择任何ML框架、任何建模技术和训练算法、任何数据源和格式来构建一个完全定制的AI解决方案。
- en: Azure Machine Learning is a great example of a PaaS-based service for building
    custom ML solutions and for optimizing the whole end-to-end life cycle of ML projects.
    We will take a closer look at Azure Machine Learning and compare its capabilities
    with other custom ML services later, in the *Custom ML services* section, and
    cover it in much more detail in the subsequent chapters.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: Azure机器学习是构建定制ML解决方案和优化ML项目全生命周期的一种基于PaaS的服务的好例子。我们将在“定制ML服务”部分更详细地探讨Azure机器学习，并将其功能与其他定制ML服务进行比较。
- en: In this book, we will give you all the required skills to build your own custom
    ML service from start to finish, using Azure Machine Learning as your managed
    ML service of choice.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我们将为您提供从零开始构建自己的定制ML服务所需的所有技能，使用Azure机器学习作为您首选的托管ML服务。
- en: However, it's worth noting that in order to build custom AI services, you don't
    necessarily need a platform to register your models, to define your datasets,
    or to track your training scores. You can simply pick your favorite compute service
    (for example, Azure Kubernetes Service), your favorite storage service (for example,
    Azure Data Lake Storage), and your favorite database service (for example, Azure
    Cosmos DB) and build your own custom solution. In fact, you can use any compute
    service to build your custom IaaS-based ML application in Azure.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，值得注意的是，为了构建定制AI服务，您不一定需要一个平台来注册您的模型、定义您的数据集或跟踪您的训练分数。您只需选择您最喜欢的计算服务（例如，Azure
    Kubernetes服务），您最喜欢的存储服务（例如，Azure Data Lake Storage），以及您最喜欢的数据库服务（例如，Azure Cosmos
    DB），然后构建自己的定制解决方案。实际上，您可以使用任何计算服务在Azure中构建基于IaaS的定制ML应用程序。
- en: Choosing IaaS services to build your own ML applications gives you the most
    flexibility in terms of choosing any infrastructure component during your ML process.
    On the other hand, it also means that you need to manually set up, configure,
    and integrate these services as well as setting up identities, authentication,
    and access control, which results in a higher upfront investment, higher infrastructure
    development costs, and the need for a specific skillset.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 选择IaaS服务来构建自己的机器学习应用程序，在ML过程中选择任何基础设施组件时，你将拥有最大的灵活性。另一方面，这也意味着你需要手动设置、配置和集成这些服务，以及设置身份、认证和访问控制，这导致前期投资增加、基础设施开发成本上升，以及需要特定的技能集。
- en: Azure provides excellent IaaS compute services to build custom ML solutions.
    You can choose from simple VMs, VMs with pre-installed ML images, batch computation
    services and services for scalable distributed computing. We will see a few service
    examples later, in the *Custom compute services for ML* section.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: Azure提供了优秀的IaaS计算服务来构建自定义机器学习解决方案。你可以从简单的虚拟机、预装ML镜像的虚拟机、批量计算服务以及可扩展的分布式计算服务中进行选择。我们将在“自定义计算服务”部分看到一些服务示例。
- en: What is the Azure Machine Learning service?
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 什么是Azure机器学习服务？
- en: Before we start looking into the specific managed and custom ML services, we
    want to clear some confusion around the term **Azure Machine Learning**, which
    is not only prominent on the cover of this book but also a popular ML service
    in Azure, a workspace for other ML services, and a popular keyword across the
    internet, blogs, and books.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始探讨具体的托管和自定义机器学习服务之前，我们想要澄清一些关于**Azure Machine Learning**术语的混淆，这个术语不仅出现在本书的封面上，而且在Azure中也是一个流行的机器学习服务，是其他机器学习服务的空间，也是互联网、博客和书籍中的热门关键词。
- en: First and foremost, the term *Azure Machine Learning* stands for a popular Azure
    service ([https://docs.microsoft.com/en-us/azure/machine-learning/overview-what-is-azure-machine-learning](https://docs.microsoft.com/en-us/azure/machine-learning/overview-what-is-azure-machine-learning))
    that provides capabilities for building custom ML solutions. The service contains
    different components to manage resources (such as compute clusters and data storage)
    and assets (such as datasets, experiments, models, pipelines, Docker environments,
    and endpoints), as well as access to these resources and assets, all within the
    same workspace.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，术语*Azure Machine Learning*代表一个流行的Azure服务([https://docs.microsoft.com/en-us/azure/machine-learning/overview-what-is-azure-machine-learning](https://docs.microsoft.com/en-us/azure/machine-learning/overview-what-is-azure-machine-learning))，它提供了构建自定义机器学习解决方案的能力。该服务包含不同的组件来管理资源（如计算集群和数据存储）和资产（如数据集、实验、模型、管道、Docker环境以及端点），以及访问这些资源和资产，所有这些都在同一个工作空间内。
- en: This is the service that we will use throughout this book to build an end-to-end
    pipeline for training, deploying, and operating custom ML models. You will start
    by creating your first Azure Machine Learning workspace in the next chapter.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我们将在本书中使用的服务，用于构建训练、部署和操作自定义机器学习模型的端到端管道。你将在下一章中开始创建你的第一个Azure机器学习工作空间。
- en: In order to build custom ML models, you will create training clusters, track
    experiments, register data as datasets, store trained models, manage Docker images
    for training and inferencing, and configure endpoints, all within Azure Machine
    Learning.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 为了构建自定义机器学习模型，你将创建训练集群，跟踪实验，将数据注册为数据集，存储训练好的模型，管理用于训练和推理的Docker镜像，以及配置端点，所有这些操作都在Azure机器学习内完成。
- en: Throughout this book, we will mostly use the Python APIs ([https://docs.microsoft.com/en-us/python/api/overview/azure/ml/?view=azure-ml-py](https://docs.microsoft.com/en-us/python/api/overview/azure/ml/?view=azure-ml-py))
    to interact with Azure Machine Learning. However, you can also use a UI portal
    to access and manage the resources and assets, create experiments, submit training
    jobs, visualize training results, create Docker environments, and deploy inference
    clusters.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，我们将主要使用Python API([https://docs.microsoft.com/en-us/python/api/overview/azure/ml/?view=azure-ml-py](https://docs.microsoft.com/en-us/python/api/overview/azure/ml/?view=azure-ml-py))与Azure机器学习进行交互。然而，你也可以使用UI门户来访问和管理资源及资产，创建实验，提交训练作业，可视化训练结果，创建Docker环境，以及部署推理集群。
- en: The UI to interact with Azure Machine Learning is called **Azure Machine Learning
    studio** ([https://docs.microsoft.com/en-us/azure/machine-learning/overview-what-is-machine-learning-studio](https://docs.microsoft.com/en-us/azure/machine-learning/overview-what-is-machine-learning-studio)).
    This name is not to be confused with an older Azure service, Azure Machine Learning
    Studio – a GUI-based service to create and deploy ML services through a block-based
    drag-and-drop interface, which is now called **Azure Machine Learning Studio (classic)**
    ([https://studio.azureml.net/](https://studio.azureml.net/)).
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 与Azure机器学习交互的UI称为**Azure机器学习工作室**([https://docs.microsoft.com/en-us/azure/machine-learning/overview-what-is-machine-learning-studio](https://docs.microsoft.com/en-us/azure/machine-learning/overview-what-is-machine-learning-studio))。这个名字不要与一个较老的Azure服务混淆，即Azure机器学习工作室——一个基于GUI的服务，通过基于块的拖放界面创建和部署机器学习服务，现在称为**Azure机器学习工作室（经典）**([https://studio.azureml.net/](https://studio.azureml.net/))。
- en: The Azure Machine Learning service also provides access to other ML services
    that share the same resources and assets through the ML workspace. This includes
    services such as Azure Automated Machine Learner, the Azure Machine Learning designer
    – the new GUI-based experience for Azure Machine Learning, a data labeling tool,
    and an integrated notebook server for Azure Machine Learning (not to be confused
    with the discontinued `https://notebooks.azure.com/experience`), which all can
    be created within a workspace in Azure Machine Learning. Therefore, Azure Machine
    Learning is sometimes referred to as the Azure Machine Learning service or the
    Azure Machine Learning workspace ([https://docs.microsoft.com/en-us/azure/machine-learning/concept-workspace](https://docs.microsoft.com/en-us/azure/machine-learning/concept-workspace)).
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: Azure机器学习服务还提供了通过机器学习工作区访问其他共享相同资源和资产的其他机器学习服务。这包括Azure自动化机器学习、Azure机器学习设计器——Azure机器学习的新基于GUI的体验、一个数据标注工具，以及Azure机器学习的集成笔记本服务器（不要与已停用的`https://notebooks.azure.com/experience`混淆），所有这些都可以在Azure机器学习的工作区中创建。因此，Azure机器学习有时也被称为Azure机器学习服务或Azure机器学习工作区([https://docs.microsoft.com/en-us/azure/machine-learning/concept-workspace](https://docs.microsoft.com/en-us/azure/machine-learning/concept-workspace))。
- en: Knowing these subtle differences about the different terms and services for
    Azure Machine Learning, you are ready to learn more about the different managed
    and custom ML services in Azure.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 了解这些关于Azure机器学习不同术语和服务的微妙差异后，你就可以准备学习更多关于Azure中不同托管和自定义机器学习服务的内容了。
- en: Managed ML services
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 托管机器学习服务
- en: If you are dealing with a well-defined general-purpose ML problem in the domain
    of text, image, video, language, or documents, then the chances are high that
    Azure already provides a managed ML service for this problem.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在处理文本、图像、视频、语言或文档领域的明确定义的一般用途机器学习问题，那么Azure很可能已经为这个问题提供了一个托管机器学习服务。
- en: Managed ML services are very easy to use, quick to embed into an application,
    and usually don't require any operational overhead. This makes them perfect for
    creating AI-based applications or features without the need for collecting training
    data, training models, and operating model deployments in production. Most importantly,
    managed ML services don't require any ML expertise to build ML-based applications.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 托管机器学习服务非常易于使用，快速嵌入到应用程序中，通常不需要任何运营开销。这使得它们非常适合创建不需要收集训练数据、训练模型和在生产中部署模型部署的基于AI的应用程序或功能。最重要的是，托管机器学习服务不需要任何机器学习专业知识来构建基于机器学习的应用程序。
- en: Some examples of well-defined ML problems are image classification, image tagging,
    object detection, face detection, handwriting recognition, speech-to-text and
    text-to-speech conversion, speaker recognition, translation, spell-checking, keywords
    and entity extraction, sentiment analysis, adult content filtering, and document
    parsing.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 一些明确定义的机器学习问题的例子包括图像分类、图像标记、目标检测、人脸检测、手写识别、语音转文本和文本转语音转换、说话人识别、翻译、拼写检查、关键词和实体提取、情感分析、成人内容过滤和文档解析。
- en: Managed ML services are usually used with pre-trained models that sometimes
    can be trained or fine-tuned for a specific application domain. Using customized
    models in managed ML services combines the benefits of managed services with the
    flexibility of custom application domains.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 托管机器学习服务通常与预训练模型一起使用，这些模型有时可以针对特定应用程序领域进行训练或微调。在托管机器学习服务中使用定制模型结合了托管服务的优势与自定义应用程序领域的灵活性。
- en: In this section, we will look into Azure Cognitive Services, customizable AI
    services, and Azure Applied AI Services.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将探讨Azure认知服务、可定制的AI服务以及Azure应用AI服务。
- en: Azure Cognitive Services
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Azure认知服务
- en: Let's start with Azure's most popular service for managed AI capabilities, Azure
    Cognitive Services. **Azure Cognitive Services** is a collection of APIs containing
    multiple pre-trained ML models for well-defined common problems across the following
    categories – vision, language, speech, and decision.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从Azure最受欢迎的托管AI能力服务——Azure认知服务开始。**Azure认知服务**是一组API，包含多个预训练的ML模型，用于解决以下类别中定义良好的常见问题——视觉、语言、语音和决策。
- en: 'Azure Cognitive Services models are very easy to use and can be integrated
    by a single REST API call from within any programming language. This makes Cognitive
    Services a popular choice for adding ML capabilities to existing applications.
    Some examples of popular Cognitive Services are the following:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: Azure认知服务模型非常易于使用，可以通过任何编程语言中的单个REST API调用进行集成。这使得认知服务成为向现有应用程序添加机器学习能力的流行选择。以下是一些流行的认知服务示例：
- en: '*Vision*: Computer Vision and Face API'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*视觉*：计算机视觉和面部API'
- en: '*Language*: Text analytics and translator service'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*语言*：文本分析和翻译服务'
- en: '*Speech*: Text analytics, speech-to-text, text-to-speech, and speech translation'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*语音*：文本分析、语音转文本、文本转语音和语音翻译'
- en: '*Decision*: Anomaly detection and content moderation'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*决策*：异常检测和内容审核'
- en: Most of the Cognitive Services APIs work very similarly. You first deploy a
    specific Cognitive Service (for example, Computer Vision and text analytics) or
    a Cognitive Services multi-service account in Azure. Once the service is deployed,
    you can retrieve the API endpoint and access key from the service and call the
    Cognitive Service API with your data and API key. This is all you have to do to
    enrich an existing application with AI capabilities.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数认知服务API的工作方式非常相似。您首先在Azure中部署特定的认知服务（例如，计算机视觉和文本分析）或认知服务多服务帐户。一旦服务部署完成，您可以从服务中检索API端点和访问密钥，并使用您的数据和API密钥调用认知服务API。这就是您需要做的所有事情，以丰富现有应用程序的AI能力。
- en: 'To give you a taste of how these services are used, we will walk you through
    an example of the Cognitive Service for Computer Vision. We will embed the functionality
    in a simple Python application. The following code is an example for calling the
    Cognitive Services API for computer vision. We will use the Analyze Image API
    with the free F0 tier to extract categories, tags, and a description from a sample
    image. Let''s start with some setup code so that we can later use the `requests`
    library and fetch predictions from the Cognitive Services API:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让您了解这些服务是如何使用的，我们将通过计算机视觉认知服务的示例来引导您。我们将将其功能嵌入到一个简单的Python应用程序中。以下代码是调用计算机视觉认知服务API的示例。我们将使用免费F0层级的`Analyze
    Image API`从样本图像中提取类别、标签和描述。让我们从一些设置代码开始，以便我们稍后可以使用`requests`库并从认知服务API获取预测：
- en: '[PRE0]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'In the previous code snippet, we defined the region, language, API version,
    and access key for the Cognitive Services API. You can find these details on the
    **Service overview** or **Properties** tab in the Azure portal. We will use these
    components to build the service endpoint. Next, let''s define the parameters for
    the API call, including a URL to an image of the Eiffel Tower:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的代码片段中，我们定义了区域、语言、API版本和认知服务API的访问密钥。您可以在Azure门户的**服务概述**或**属性**选项卡中找到这些详细信息。我们将使用这些组件来构建服务端点。接下来，让我们定义API调用的参数，包括指向埃菲尔铁塔图片的URL：
- en: '[PRE1]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The only thing that is left is calling requests with all the parameters and
    the image URL. We get back a JSON response containing the scores of multiple models:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 剩下的唯一事情就是用所有参数和图片URL调用请求。我们得到一个包含多个模型得分的JSON响应：
- en: '[PRE2]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'As you can see in the preceding code example, using Cognitive Services boils
    down to sending an HTTP request. In Python, this is straightforward, using the
    `requests` library. The response body contains standard JSON and encodes the results
    of the Cognitive Services API. The resulting JSON output from the API will have
    the following structure:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 如前述代码示例所示，使用认知服务归结为发送一个HTTP请求。在Python中，这很简单，使用`requests`库。响应体包含标准JSON并编码了认知服务API的结果。API的JSON输出将具有以下结构：
- en: '[PRE3]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The `categories` key contains object categories and derived classifications,
    such as a landmark detection result, including a confidence score. In the example
    of the Eiffel Tower image, the Cognitive Service detected a building with a score
    of almost 95% and identified it as a landmark with almost 100% confidence:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '`categories`键包含对象类别及其派生分类，例如地标检测结果，包括置信度分数。在埃菲尔铁塔图像的例子中，认知服务检测到一个得分为95%的建筑，并几乎以100%的置信度将其识别为地标：'
- en: '[PRE4]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'The `tags` key shows you multiple tags that are relevant for the whole image.
    In addition, each tag comes with a confidence score. As we can see in the response
    of the API, the model is confident that the picture was taken outdoors:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '`tags`键显示了与整个图像相关的多个标签。此外，每个标签都附带一个置信度分数。正如我们在API的响应中可以看到的，模型对图片是在户外拍摄的非常有信心：'
- en: '[PRE5]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Finally, the `description` tag gives you more tags and an auto-generated image
    caption. This is cool, isn''t it? Imagine how fast you could implement a tag-based
    image search by simply extracting image tags using Azure Cognitive Services and
    indexing the tags for each image URL:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，`description`标签为你提供了更多标签和自动生成的图像标题。这很酷，不是吗？想象一下，仅通过使用Azure认知服务提取图像标签并对每个图像URL的标签进行索引，你可以多快地实现基于标签的图像搜索：
- en: '[PRE6]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The result of the Cognitive Services computer vision API is just one example
    of how this service can be used. We requested the image features of categories,
    tags, and description from the API, which are returned as keys of the JSON object.
    Each of the category and tag predictions returns the top results in combination
    with a confidence value. Some categories might trigger other detection models,
    such as faces, handwritten text recognition, and OCR.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 认知服务计算机视觉API的结果只是这个服务如何被使用的例子之一。我们从API请求了类别、标签和描述的图像特征，这些特征作为JSON对象的键返回。每个类别和标签预测都返回结合置信度值的前几项结果。某些类别可能会触发其他检测模型，例如人脸、手写文本识别和OCR。
- en: Important Note
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: 'You can explore and test many of the other Azure Cognitive Services APIs by
    visiting the respective service websites. Here are a few examples:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过访问相应服务网站来探索和测试许多其他Azure认知服务API。以下是一些示例：
- en: '[https://azure.microsoft.com/en-us/services/cognitive-services/computer-vision/](https://azure.microsoft.com/en-us/services/cognitive-services/computer-vision/)'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://azure.microsoft.com/en-us/services/cognitive-services/computer-vision/](https://azure.microsoft.com/en-us/services/cognitive-services/computer-vision/)'
- en: '[https://azure.microsoft.com/en-us/services/cognitive-services/language-service/](https://azure.microsoft.com/en-us/services/cognitive-services/language-service/)'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://azure.microsoft.com/en-us/services/cognitive-services/language-service/](https://azure.microsoft.com/en-us/services/cognitive-services/language-service/)'
- en: '[https://azure.microsoft.com/en-us/services/cognitive-services/speech-to-text/](https://azure.microsoft.com/en-us/services/cognitive-services/speech-to-text/)'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://azure.microsoft.com/en-us/services/cognitive-services/speech-to-text/](https://azure.microsoft.com/en-us/services/cognitive-services/speech-to-text/)'
- en: 'Using the preceding example, calling Azure Cognitive Service with `requests`,
    you can implement a method that automatically adds image captions to your product
    images in a retail application by wrapping the preceding snippet in an `analyze()`
    method and applying it to all images in your dataset:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 使用前面的示例，通过`requests`调用Azure认知服务，你可以实现一个方法，通过将前面的代码片段包装在`analyze()`方法中并应用于数据集中的所有图像，自动为零售应用程序中的产品图像添加图像标题：
- en: '[PRE7]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: You can see that this is the quickest way to integrate a scalable deep learning-based
    image analysis service (such as creating a caption for an image) into your custom
    application. If you find this interesting, it is time to also experiment with
    the other Cognitive Services APIs.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到，这是将可扩展的基于深度学习的图像分析服务（例如为图像创建标题）集成到自定义应用程序中的最快方式。如果你对此感兴趣，那么是时候也尝试其他认知服务API了。
- en: All Azure Cognitive Services have one thing in common – they use a pre-trained
    black-box ML model to perform predictions of the individual ML tasks. This is
    fine when we are dealing with faces or photos but can be problematic when dealing
    with a specific application domain, such as medical images. In this case, you
    will be delighted to hear that you can fine-tune some of the Cognitive Services
    for your custom application domain by providing custom training data. Let's take
    a closer look at these customizable services in the next section.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 所有Azure认知服务都有一个共同点——它们使用预训练的黑色盒机器学习模型来执行单个机器学习任务的预测。当我们处理人脸或照片时，这是可以的，但当处理特定应用领域，如医学图像时，可能会出现问题。在这种情况下，您会很高兴地听到，您可以通过提供定制训练数据来微调一些认知服务以适应您的定制应用领域。让我们在下一节中更详细地探讨这些可定制服务。
- en: Custom Cognitive Services
  id: totrans-118
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 定制认知服务
- en: One major downside with Cognitive Services is that you can only use the functionalities
    that are provided by the API. This means you can't customize the labels or tags
    in the image classification API or, for example, use the model to classify different
    types of materials. To do so, you would need to customize the model in the Cognitive
    Services API – and this is exactly what some **custom Cognitive Services** allow
    you to do.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 认知服务的一个主要缺点是您只能使用API提供的功能。这意味着您不能自定义图像分类API中的标签或标记，或者例如使用模型来分类不同类型的材料。要这样做，您需要在认知服务API中自定义模型——这正是某些**定制认知服务**允许您做的。
- en: 'Here is a list of popular customizable Cognitive Service APIs that can be fine-tuned
    to a specific application domain using your own training data:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是一个流行的可定制认知服务API列表，您可以使用自己的训练数据将其微调到特定的应用领域：
- en: '*Vision*: Azure Custom Vision'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*愿景*：Azure Custom Vision'
- en: '*Language*: Language Understanding and QnA Maker'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*语言*：语言理解和QnA Maker'
- en: '*Speech*: Custom speech-to-text'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*语音*：定制语音到文本'
- en: '*Speech*: Custom text-to-speech'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*语音*：定制文本到语音'
- en: '*Speech*: Speaker recognition'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*语音*：说话人识别'
- en: '*Decision*: Azure Personalizer'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*决策*：Azure Personalizer'
- en: Each of the preceding services provides an interface to train or customize a
    built-in ML model with your own domain-specific training data. We won't go into
    details for each of these services in this book but rather look at two examples
    of these customizable Cognitive Services – Azure Personalizer and Custom Vision.
    Azure Personalizer is an interesting service that lets you optimize an online
    recommendation engine through reinforcement learning. We will take a closer look
    at Azure Personalizer in [*Chapter 13*](B17928_13_ePub.xhtml#_idTextAnchor202),
    *Building a Recommendation Engine in Azure*, and compare it to other state-of-the-art
    recommendation systems.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 前述的每个服务都提供了一个接口，用于使用您自己的领域特定训练数据来训练或定制内置的机器学习模型。在这本书中，我们不会详细介绍这些服务中的每一个，而是将关注这些可定制认知服务的两个示例——Azure
    Personalizer和Custom Vision。Azure Personalizer是一个有趣的服务，它允许您通过强化学习来优化在线推荐引擎。我们将在[*第13章*](B17928_13_ePub.xhtml#_idTextAnchor202)“在Azure中构建推荐引擎”中更详细地探讨Azure
    Personalizer，并将其与其他最先进的推荐系统进行比较。
- en: Let's look into the Azure Custom Vision service as an example of a customizable
    managed AI service in Azure in this chapter. Azure Custom Vision lets you fine-tune
    a pre-trained ML model on your own training data. This process is called transfer
    learning and is often used in ML to transfer previously learned feature extraction
    capabilities to a new objective or domain.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，让我们以Azure Custom Vision服务为例，探讨Azure中可定制的托管AI服务。Azure Custom Vision允许您使用自己的训练数据微调预训练的机器学习模型。这个过程被称为迁移学习，通常在机器学习中用于将先前学习的特征提取能力转移到新的目标或领域。
- en: 'Azure Custom Vision provides a UI to upload and classify your images (or tag
    your objects) and subsequently train the model, using a state-of-the-art computer
    vision model through the press of a button. *Figure 2.3* shows the finished training
    for an object detection model in the Azure Custom Vision service:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Custom Vision提供了一个用户界面来上传和分类您的图像（或标记您的对象），然后通过按按钮使用最先进的计算机视觉模型来训练模型。*图2.3*显示了Azure
    Custom Vision服务中对象检测模型的完成训练：
- en: '![Figure 2.3 – Azure Custom Vision training results ](img/B17928_02_003.jpg)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![图2.3 – Azure Custom Vision训练结果](img/B17928_02_003.jpg)'
- en: Figure 2.3 – Azure Custom Vision training results
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.3 – Azure Custom Vision训练结果
- en: You can see in the preceding figure that training is as easy as clicking the
    **Train** button with the **Quick Test** option enabled at the top right, or customizing
    the training process using the advanced option. You don't have to write any code
    or select an error metric to be optimized; it's all managed for you. In the screenshot,
    you can see the result of training, with three metrics that are automatically
    computed on a validation set. By moving the classification probability threshold
    at the top left, you can even shift the weight toward higher precision or higher
    recall, depending on whether you want to avoid false positives or maximize true
    positives.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在前面的图中看到，训练过程就像点击右上角的**训练**按钮一样简单，此时已启用**快速测试**选项，或者使用高级选项自定义训练过程。您无需编写任何代码或选择要优化的错误度量标准；所有这些都将由系统为您管理。在屏幕截图中，您可以查看训练结果，其中包括在验证集上自动计算的三个指标。通过移动左上角的分类概率阈值，您甚至可以调整权重，以实现更高的精确度或更高的召回率，具体取决于您是想避免误报还是最大化真阳性。
- en: 'This gives you the power of a pre-trained managed Cognitive Service with the
    flexibility of a custom application domain. Once the model is trained and published,
    it can be consumed using a REST API as we did with Cognitive Services. Click the
    `requests` library:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 这为您提供了预训练托管认知服务的功能，同时具有自定义应用领域的灵活性。一旦模型训练并发布，就可以像我们使用认知服务一样使用REST API。点击`requests`库：
- en: '[PRE8]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'In the preceding code, we implement a function that looks very similar to the
    one we used with Cognitive Services. In fact, only the endpoints and `requests`
    parameter have changed. We can now call the function as before:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的代码中，我们实现了一个与我们在认知服务中使用过的函数非常相似的功能。实际上，只有端点和`requests`参数发生了变化。我们现在可以像以前一样调用该函数：
- en: '[PRE9]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The response is also a JSON object and now looks like the following:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 响应也是一个JSON对象，现在看起来如下所示：
- en: '[PRE10]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: The preceding response now contains a `Predictions` key with all the predicted
    categories and confidence values from Custom Vision. As you can see, the example
    looks very similar to the Cognitive Services example. However, we need to pass
    arguments to specify the project and published iteration of the trained model.
    Using this built-in serving API, we save ourselves a lot of effort in implementing
    and operating a deployment infrastructure. If we want to use the trained model
    somewhere else (for example, in an iPhone or Android application, or in a Kubernetes
    cluster), we can export the model in many different formats, such as TensorFlow,
    TensorFlow.js, Core ML, and ONNX.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的响应现在包含一个`Predictions`键，其中包含来自自定义视觉的所有预测类别和置信度值。如您所见，示例看起来与认知服务示例非常相似。然而，我们需要传递参数来指定训练模型的项目和发布迭代。使用这个内置的托管API，我们节省了大量实现和运营部署基础设施的努力。如果我们想在其他地方使用训练好的模型（例如，在iPhone或Android应用程序中，或在Kubernetes集群中），我们可以以许多不同的格式导出模型，例如TensorFlow、TensorFlow.js、Core
    ML和ONNX。
- en: Custom Cognitive Services are a fantastic way to efficiently test or showcase
    an ML model for a custom application domain when dealing with a well-defined ML
    problem. You can use either the GUI or API to interact with these services and
    consume the models through a managed API or export them to any device platform.
    Another benefit is that you don't need deep ML expertise to apply the transfer
    learning algorithm and can simply use the predefined models and error metrics.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 自定义认知服务是高效测试或展示针对特定应用领域的机器学习模型的一个绝佳方式，尤其是在处理定义明确的机器学习问题时。您可以使用GUI或API与这些服务交互，并通过托管API消费模型或将它们导出到任何设备平台。另一个好处是，您不需要深厚的机器学习专业知识来应用迁移学习算法，只需简单地使用预定义的模型和错误度量标准即可。
- en: Azure Applied AI Services
  id: totrans-141
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Azure应用人工智能服务
- en: In the previous sections, we saw examples for Azure Cognitive Services for both
    fully pre-trained models and for customizable models. In this section, we will
    extend the list of customizable managed AI services to all services grouped under
    the name **Azure Applied AI Services**. These Applied AI Services are – like custom
    Cognitive Services – pre-trained customizable AI services loosely grouped under
    a common name to build specialized services.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的章节中，我们展示了Azure认知服务的示例，包括完全预训练的模型和可定制的模型。在本节中，我们将扩展可定制的托管人工智能服务的列表，包括所有归入**Azure应用人工智能服务**名称下的服务。这些应用人工智能服务——就像自定义认知服务一样——是预训练的可定制人工智能服务，它们以一个共同名称松散地分组，以构建专业服务。
- en: 'These Applied AI Services are all services that have been developed by Microsoft
    on top of Cognitive Services due to strong demand from large enterprise customers
    for these exact services. The following services are currently part of Applied
    AI Services, but unlike Cognitive Services, they don''t fit neatly into categories.
    Here is a list of Applied AI Services that you can use to build your own custom
    models for specific applications:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 这些应用人工智能服务都是由于大型企业客户对这些特定服务有强烈需求，由微软在认知服务之上开发的服务。以下服务目前是应用人工智能服务的一部分，但与认知服务不同，它们并没有很好地归类。以下是可以用来为特定应用构建自定义模型的适用人工智能服务列表：
- en: '*Conversations*: Azure Bot Service'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*对话*：Azure机器人服务'
- en: '*Documents*: Azure Form Recognizer'
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*文档*：Azure表单识别器'
- en: '*Search*: Azure Cognitive Search'
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*搜索*：Azure认知搜索'
- en: '*Monitoring*: Azure Metrics Advisor'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*监控*：Azure度量顾问'
- en: '*Videos*: Azure Video Analyzer'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*视频*：Azure视频分析器'
- en: '*Accessibility*: Azure Immersive Reader'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*无障碍*：Azure沉浸式阅读器'
- en: We will not go into much detail about every service in this list, but we encourage
    you to look into them in more detail if some of them made you curious. You can
    find detailed information and examples in the Azure documentation ([https://docs.microsoft.com/en-us/azure/applied-ai-services/](https://docs.microsoft.com/en-us/azure/applied-ai-services/))
    or the Azure product page for Applied AI Services ([https://azure.microsoft.com/en-us/product-categories/applied-ai-services](https://azure.microsoft.com/en-us/product-categories/applied-ai-services)).
    Both Azure Form Recognizer and Azure Cognitive Search use the Cognitive Service
    image APIs to extract text and handwritten notes from documents. While the former
    helps you to parse this data from structured documents, the latter creates a search
    index on all extracted data and provides a full-text search over unstructured
    documents, including handwritten documents.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不会详细介绍这个列表中的每个服务，但如果其中一些服务让你感到好奇，我们鼓励你深入了解。你可以在Azure文档（[https://docs.microsoft.com/en-us/azure/applied-ai-services/](https://docs.microsoft.com/en-us/azure/applied-ai-services/)）或Azure应用人工智能服务产品页（[https://azure.microsoft.com/en-us/product-categories/applied-ai-services](https://azure.microsoft.com/en-us/product-categories/applied-ai-services)）中找到详细信息和示例。Azure表单识别器和Azure认知搜索都使用认知服务图像API从文档中提取文本和手写笔记。前者帮助你从结构化文档中解析这些数据，而后者在所有提取的数据上创建搜索索引，并提供了对非结构化文档的全文搜索，包括手写文档。
- en: As you can see, if you have these exact same problems, then it is easy to use
    these Applied AI Services and integrate them into your application. While the
    application domain is limited, you can greatly accelerate any project that deals
    with these use cases.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，如果你有这些相同的问题，那么使用这些应用人工智能服务并将其集成到你的应用中很容易。虽然应用领域有限，但你可以在处理这些用例的任何项目中大大加速项目。
- en: If you require full customization of the algorithms, models, and error metrics,
    you need to implement the model and ML pipeline on your own. In the following
    sections, we will discuss how this can be done in Azure using custom ML services.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你需要完全自定义算法、模型和错误度量，你需要自己实现模型和机器学习管道。在接下来的章节中，我们将讨论如何在Azure中使用自定义机器学习服务来实现这一点。
- en: Custom ML services
  id: totrans-153
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 自定义ML服务
- en: Azure provides many PaaS services for different specialized domains. Platform
    services are built on top of IaaS services and implement useful abstractions and
    functionalities commonly used for the relevant domain. One such domain is ML,
    where you will find various services for building custom ML models. In this section,
    we will take a look at the most popular custom ML PaaS services.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: Azure为不同的专业领域提供了许多PaaS服务。平台服务建立在IaaS服务之上，并实现了相关领域常用的一些有用的抽象和功能。ML就是一个这样的领域，在那里你可以找到用于构建自定义ML模型的各种服务。在本节中，我们将查看最受欢迎的自定义ML
    PaaS服务。
- en: We will start first with the GUI-based solutions Azure Machine Learning Studio
    (classic) and Azure Machine Learning designer, and then switch to the GUI and
    API-based Azure Automated Machine Learning. Finally, we will take a look at Azure
    Machine Learning, the service that provides the workspaces for resources and assets
    for both previous services.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先介绍基于GUI的解决方案Azure机器学习工作室（经典）和Azure机器学习设计器，然后切换到基于GUI和API的Azure自动化机器学习。最后，我们将查看Azure机器学习，这是为前两种服务提供资源和资产工作空间的服务。
- en: Azure Machine Learning will help us to create notebook instances for authoring,
    train clusters for training, upload and register datasets, track experiments and
    trained models, as well as to track our Conda/PIP environments and Docker images.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: Azure机器学习将帮助我们创建用于编写的笔记本实例，训练用于训练的集群，上传和注册数据集，跟踪实验和训练好的模型，以及跟踪我们的Conda/PIP环境和Docker镜像。
- en: Azure Machine Learning Studio (classic)
  id: totrans-157
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Azure机器学习工作室（经典版）
- en: '**Azure Machine Learning Studio (classic)** is a widely adopted tool in Azure
    to build, train, optimize, and deploy ML models using a GUI and drag and drop,
    block-based programming model. It''s one of the oldest managed cloud services
    for ML in Azure and provides a robust and large number of features, algorithms,
    and extensions through R and Python support. The service provides built-in building
    blocks for clustering, regression, classification, anomaly detection, and recommendation,
    as well as data and statistical and text analysis. You can also extend the functionality
    of Azure Machine Learning Studio by using custom code blocks for Python or R.'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '**Azure机器学习工作室（经典版）**是Azure中广泛采用的一个工具，用于使用GUI和拖放、基于块的编程模型构建、训练、优化和部署ML模型。它是Azure中最早的托管云服务之一，通过R和Python支持提供强大的功能和大量特性、算法和扩展。该服务提供了用于聚类、回归、分类、异常检测和推荐的内置构建块，以及数据、统计和文本分析。你还可以通过使用Python或R的自定义代码块来扩展Azure机器学习工作室的功能。'
- en: Important Note
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Azure Machine Learning Studio (classic) will be retired by August 31, 2024,
    and customers will have to transition to Azure Machine Learning. Therefore, we
    strongly recommend starting any new projects in Azure Machine Learning.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: Azure机器学习工作室（经典版）将于2024年8月31日退役，客户将不得不过渡到Azure机器学习。因此，我们强烈建议在Azure机器学习中开始任何新的项目。
- en: '*Figure 2.4* shows an overview of the main drag and drop GUI of Azure Machine
    Learning Studio (classic):'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2.4*展示了Azure机器学习工作室（经典版）主要拖放GUI的概述：'
- en: '![Figure 2.4 – Azure Machine Learning Studio (classic)  ](img/B17928_02_004.jpg)'
  id: totrans-162
  prefs: []
  type: TYPE_IMG
  zh: '![图2.4 – Azure机器学习工作室（经典版）](img/B17928_02_004.jpg)'
- en: Figure 2.4 – Azure Machine Learning Studio (classic)
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.4 – Azure机器学习工作室（经典版）
- en: Functional blocks can be chosen from the catalog on the left, dropped onto the
    canvas on the right, and connected to form a complex computational graph. Each
    block can define input and output data, which is passed along through the connections
    from other blocks.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 可以从左侧的目录中选择功能块，将其拖放到右侧的画布上，并连接起来形成一个复杂的计算图。每个块都可以定义输入和输出数据，这些数据通过其他块的连接传递。
- en: Azure Machine Learning Studio (classic) lets you import data from many different
    sources, such as CSV files from Azure Blob storage or direct imports from SQL
    Server, Azure Cosmos DB, or Apache Hive. It also provides many built-in blocks
    for the conversion of common data formats and data types, normalization, and cleaning.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: Azure机器学习工作室（经典版）允许你从许多不同的来源导入数据，例如来自Azure Blob存储的CSV文件或直接从SQL Server、Azure
    Cosmos DB或Apache Hive导入。它还提供了许多内置块用于转换常见的数据格式和数据类型、归一化和清理。
- en: One of the reasons why Azure Machine Learning Studio (classic) was very popular
    lies in its deployment capabilities. If you have created a data pipeline and trained
    a model, you can save the trained model within Machine Learning Studio (classic).
    Now, within a few clicks, you can create a web service using the trained model
    to deploy a scoring service. The user input is defined through the very same data
    import block that was used for the training data. It can be connected to pipe
    user input to the pipeline or return the model predictions to the web service.
    With another click, you can deploy the pipeline to production using a web service
    plan.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: Azure机器学习工作室（经典版）之所以非常受欢迎，其中一个原因在于其部署能力。如果你已经创建了一个数据管道并训练了一个模型，你可以在机器学习工作室（经典版）中保存训练好的模型。现在，只需几点击，你就可以使用训练好的模型创建一个Web服务来部署评分服务。用户输入是通过用于训练数据的相同数据导入块定义的。它可以连接到将用户输入传递到管道或返回模型预测到Web服务的管道。再点击一下，你就可以使用Web服务计划将管道部署到生产环境中。
- en: While Azure Machine Learning Studio was a very popular GUI-based tool for building
    ML pipelines – and to build simple web-based ML applications – it is not the tool
    of choice for writing custom ML applications. The workspace can get convoluted
    very quickly, which will make it difficult to follow the data flow through the
    pipeline. Another drawback is that the organization of custom code within blocks
    becomes difficult for larger pipelines, and that there are a limited number of
    integrations into other Azure services. And finally, after many years in service,
    Azure Machine Learning (classic) will be discontinued by 2024.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 Azure Machine Learning Studio 是一个基于GUI的、用于构建ML管道和简单基于Web的ML应用的非常受欢迎的工具，但它并不是编写自定义ML应用的首选工具。工作区可能会很快变得复杂，这将使得跟踪数据流通过管道变得困难。另一个缺点是，对于更大的管道，块内自定义代码的组织变得困难，并且与其他Azure服务的集成有限。最后，经过多年的服务，Azure
    Machine Learning（经典版）将在2024年停止使用。
- en: If you are looking for a similar type of block-based programming, with better
    support for code organization and pipelines and better integration into Azure,
    then you should look into Azure Machine Learning designer.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在寻找类似类型的基于块的编程，具有更好的代码组织和管道支持，以及更好的Azure集成，那么你应该考虑Azure Machine Learning设计师。
- en: Azure Machine Learning designer
  id: totrans-169
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Azure Machine Learning设计师
- en: While Azure Machine Learning Studio (classic) was very popular and feature-rich,
    its integration into other Azure services has always been limited. Ingesting and
    pre processing data from different data sources is not easy, managing access and
    sharing datasets is difficult, and customizations are limited to Azure Machine
    Learning Studio (classic). However, with the creation of Azure Machine Learning,
    Microsoft also revamped the old Studio and created a new version inside Azure
    Machine Learning called the designer.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 Azure Machine Learning Studio（经典版）非常受欢迎且功能丰富，但其与其他Azure服务的集成一直有限。从不同的数据源中摄取和预处理数据并不容易，管理访问和共享数据集很困难，而且定制仅限于Azure
    Machine Learning Studio（经典版）。然而，随着Azure Machine Learning的创建，微软也对旧的Studio进行了翻新，并在Azure
    Machine Learning内部创建了一个名为设计师的新版本。
- en: '**Azure Machine Learning designer** is fully integrated with Azure Machine
    Learning and therefore has access to and can share all resources and assets within
    the workspace. It allows the GUI-based creation of ML pipelines while collaborating
    with other data engineers and data scientists in the same workspace. They all
    can share the same compute resources that automatically scale up and down to the
    needs of the developers.'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '**Azure Machine Learning设计师** 与Azure Machine Learning完全集成，因此可以访问并共享工作区内的所有资源和资产。它允许基于GUI创建ML管道，同时与其他数据工程师和数据科学家在同一工作区中进行协作。他们都可以共享相同的计算资源，这些资源会根据开发者的需求自动扩展和缩减。'
- en: '*Figure 2.5* shows the UI of the designer, which is based on the same block-based,
    drag and drop UI as Azure Machine Learning Studio (classic):'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2.5* 展示了设计师的用户界面，它与Azure Machine Learning Studio（经典版）相同的基于块、拖放的用户界面：'
- en: '![Figure 2.5 – The Azure Machine Learning designer UI ](img/B17928_02_005.jpg)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![图2.5 – Azure Machine Learning设计师用户界面](img/B17928_02_005.jpg)'
- en: Figure 2.5 – The Azure Machine Learning designer UI
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.5 – Azure Machine Learning设计师用户界面
- en: As you can see in the previous figure, creating ML processes through graphical
    dataflows still has the same disadvantages as discussed previously. However, we
    can at least share data ingestion, preprocessing, cleaning, and feature extraction
    stages with other users in the workspace and focus solely on ML tasks in the designer.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 如前图所示，通过图形数据流创建ML过程仍然具有之前讨论过的相同缺点。然而，我们至少可以与其他工作区用户共享数据摄取、预处理、清洗和特征提取阶段，并专注于设计师中的ML任务。
- en: GUIs to create block-based ML training pipelines are not for everyone. However,
    if you prefer a block-based, drag and drop environment, then Azure Machine Learning
    designer is the right choice for you. On top, all your work is stored in the Azure
    Machine Learning workspace, which means you can easily extend or migrate parts
    of your GUI-based pipeline to a code-based version and vice versa. Overall, it's
    a good choice to start your ML project in Azure Machine Learning using the designer.
    However, if you want to build a scalable ML project that allows the collaboration
    of multiple teams, it's recommended to use a non-GUI service such as the Azure
    Machine Learning workspace, which we will use throughout this book.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 用于创建基于块的机器学习训练管道的图形用户界面并不适合所有人。然而，如果你更喜欢基于块的拖放环境，那么Azure机器学习设计器就是你的正确选择。更重要的是，你所有的作品都存储在Azure机器学习工作区中，这意味着你可以轻松地将基于GUI的管道的部分扩展或迁移到基于代码的版本，反之亦然。总的来说，使用设计器在Azure机器学习中开始你的机器学习项目是一个不错的选择。然而，如果你想构建一个可扩展的机器学习项目，允许多个团队协作，建议使用非GUI服务，如我们将在整本书中使用的Azure机器学习工作区。
- en: Azure Automated Machine Learning
  id: totrans-177
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Azure 自动化机器学习
- en: Every user should be given the possibility to create predictive models and turn
    conforming datasets into ML models. This is the democratization of AI, where every
    user who can use a spreadsheet application has the possibility to *create* ML
    models out of data in spreadsheets without any ML expertise.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 每个用户都应有机会创建预测模型并将符合条件的数据集转换为机器学习模型。这是人工智能的民主化，任何能够使用电子表格应用程序的用户都有可能从电子表格中的数据创建机器学习模型，而无需任何机器学习专业知识。
- en: This is where **Azure Automated Machine Learning** comes into play! Azure Automated
    Machine Learning is a no-code tool that lets you specify a dataset, a target column,
    and ML tasks to train an ML model from a spreadsheet. It is a great abstraction
    for a user who just wants to fit training data to a target variable without the
    knowledge about feature extraction, modeling, training, and optimization. Similar
    to Azure Machine Learning designer, Automated ML is a service that can be created
    from the Azure Machine Learning workspace and, therefore, has access to all resources
    and assets defined in the workspace.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是**Azure自动化机器学习**发挥作用的地方！Azure自动化机器学习是一个无代码工具，允许你指定数据集、目标列和机器学习任务，从电子表格中训练机器学习模型。对于只想将训练数据拟合到目标变量而无需了解特征提取、建模、训练和优化的用户来说，这是一个很好的抽象。类似于Azure机器学习设计器，自动化机器学习是一个可以从Azure机器学习工作区创建的服务，因此可以访问工作区中定义的所有资源和资产。
- en: It's worth noting that the typical spreadsheet user is not the only target group
    for using Automated ML to automatically train, optimize, and stack ML models.
    Automated ML is a natural extension of hyperparameter tuning, where the model
    architecture and preprocessing itself become hyperparameters. We will take a closer
    look at this field of application and its Python API in [*Chapter 11*](B17928_11_ePub.xhtml#_idTextAnchor178),
    *Hyperparameter Tuning and Automated Machine Learning*.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，典型的电子表格用户并不是唯一的目标群体，他们使用自动化机器学习来自动训练、优化和堆叠机器学习模型。自动化机器学习是超参数调整的自然扩展，其中模型架构和预处理本身也成为超参数。我们将在[*第11章*](B17928_11_ePub.xhtml#_idTextAnchor178)“超参数调整和自动化机器学习”中更详细地探讨这个应用领域及其Python
    API。
- en: '*Figure 2.6* shows the last step in the Automated ML interface, where the user
    needs to choose the ML task to be solved for the specified data:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2.6*显示了自动化机器学习界面的最后一步，用户需要为指定数据选择要解决的机器学习任务：'
- en: '![Figure 2.6 – Automated ML ](img/B17928_02_006.jpg)'
  id: totrans-182
  prefs: []
  type: TYPE_IMG
  zh: '![图2.6 – 自动化机器学习](img/B17928_02_006.jpg)'
- en: Figure 2.6 – Automated ML
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.6 – 自动化机器学习
- en: As we can see in the previous figure, Automated Machine Learning currently supports
    classification, regression, and time-series forecasting tasks. Together with the
    informative explanations for each task, this is something we can put into the
    hands of Excel users and can help ML engineers to quickly build and deploy a great
    baseline model.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 如前图所示，自动化机器学习目前支持分类、回归和时间序列预测任务。结合每个任务的详细说明，这是我们可以交给Excel用户并帮助机器学习工程师快速构建和部署优秀基线模型的东西。
- en: 'In addition, Automated Machine Learning gives you access to all training runs,
    all trained models, and their training scores, as well as useful built-in metrics,
    visualization, and insights. In *Figure 2.7*, we can see the ROC curve as one
    example of many built-in visualizations of the training runs:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，自动机器学习还为您提供了访问所有训练运行、所有训练模型及其训练分数，以及有用的内置指标、可视化和洞察的机会。在 *图 2.7* 中，我们可以看到
    ROC 曲线作为训练运行许多内置可视化中的一个示例：
- en: '![Figure 2.7 – The Receiver Operating Characteristic (ROC) curve for the Automated
    ML result ](img/B17928_02_007.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![图 2.7 – 自动机器学习结果的接收者操作特征 (ROC) 曲线](img/B17928_02_007.jpg)'
- en: Figure 2.7 – The Receiver Operating Characteristic (ROC) curve for the Automated
    ML result
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.7 – 自动机器学习结果的接收者操作特征 (ROC) 曲线
- en: Important Note
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: 'Automated Machine Learning can also be accessed programmatically directly from
    your authoring environment through the Azure Machine Learning SDK. You can find
    more information about the Automated ML feature in the Azure Machine Learning
    Python SDK in the Microsoft documentation: [https://docs.microsoft.com/en-us/python/api/azureml-automl-core/azureml.automl.core?view=azure-ml-py](https://docs.microsoft.com/en-us/python/api/azureml-automl-core/azureml.automl.core?view=azure-ml-py).'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以通过 Azure 机器学习 SDK 直接从您的创作环境以编程方式访问自动机器学习。您可以在 Microsoft 文档中找到有关自动机器学习功能的更多信息：[https://docs.microsoft.com/en-us/python/api/azureml-automl-core/azureml.automl.core?view=azure-ml-py](https://docs.microsoft.com/en-us/python/api/azureml-automl-core/azureml.automl.core?view=azure-ml-py)。
- en: Automated Machine Learning is a great service, providing a true ML-as-a-service
    platform with a reasonable abstraction for non-experienced and highly skilled
    users. This service empowers every developer to take advantage of ML and will
    power the AI capabilities of future products.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 自动机器学习是一项出色的服务，提供了一个真正的机器学习即服务平台，为非经验丰富的和技能高超的用户提供了合理的抽象。这项服务使每位开发者都能利用机器学习，并将为未来产品的
    AI 功能提供动力。
- en: Azure Machine Learning workspace
  id: totrans-191
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Azure 机器学习工作区
- en: '**Azure Machine Learning** is Azure''s flagship ML service to implement and
    automize all steps of the end-to-end ML process for building custom ML applications.
    It was initially built to combine all other ML services under a single workspace
    and facilitate the sharing of resources, assets, and permissions – therefore,
    is also often referred to as the Azure Machine Learning workspace.'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '**Azure 机器学习** 是 Azure 的旗舰机器学习服务，用于实现和自动化构建定制机器学习应用程序的端到端机器学习过程的全部步骤。它最初是为了将所有其他机器学习服务组合在一个工作区下，并促进资源、资产和权限的共享——因此，也常被称为
    Azure 机器学习工作区。'
- en: Currently, Azure Machine Learning provides, combines, and abstracts many important
    ML infrastructure services and functionalities, such as tracking experiment runs
    and training jobs, a model registry, an environment and container registry based
    on conda/pip and Docker, a dataset registry, pipelines, and compute and storage
    infrastructure. It also implements a common set of identities and permissions
    to facilitate access to these individual components from within the Azure workspace.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，Azure 机器学习提供了、组合并抽象了许多重要的机器学习基础设施服务和功能，例如跟踪实验运行和训练作业、基于 conda/pip 和 Docker
    的模型注册、环境和容器注册、数据集注册、管道以及计算和存储基础设施。它还实现了一套通用的身份和权限，以方便从 Azure 工作区内部访问这些单个组件。
- en: Besides all the infrastructure services, it also integrates Azure Automated
    Machine Learning, Azure Machine Learning designer (the new Azure Machine Learning
    Studio (classic)), and a data-labeling service in a single workspace. All the
    services in the workspace can access and share resources and assets. Azure Machine
    Learning provides many useful abstractions and functionalities to develop custom
    ML applications and has a great trade-off in flexibility, ease of use, and price.
    Therefore, it is also our service of choice for building custom ML solutions in
    Azure, and we will use it throughout this book.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 除了所有基础设施服务之外，它还将在单个工作区中集成 Azure 自动机器学习、Azure 机器学习设计器（新的 Azure 机器学习工作室（经典））以及一个数据标注服务。工作区中的所有服务都可以访问和共享资源。Azure
    机器学习提供了许多有用的抽象和功能，以开发定制的机器学习应用程序，并在灵活性、易用性和价格之间取得了很好的平衡。因此，它也是我们在 Azure 中构建定制机器学习解决方案的首选服务，我们将在整本书中使用它。
- en: '*Figure 2.8* shows Azure Machine Learning Studio, the UI of Azure Machine Learning.
    As mentioned previously, the name is not to be confused with Azure Machine Learning
    Studio (classic), which is the old GUI- and block-based ML service.'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 2.8* 展示了 Azure 机器学习工作室，这是 Azure 机器学习的用户界面。如前所述，这个名字不要与 Azure 机器学习工作室（经典）混淆，后者是旧的基于
    GUI 和块的 ML 服务。'
- en: '![Figure 2.8 – Azure Machine Learning Studio  ](img/B17928_02_008.jpg)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: '![图 2.8 – Azure 机器学习工作室](img/B17928_02_008.jpg)'
- en: Figure 2.8 – Azure Machine Learning Studio
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.8 – Azure 机器学习工作室
- en: 'As you can see in the previous figure, we can manage different resources and
    assets in the Azure Machine Learning workspace. All these resources can not only
    be accessed through the UI but also through the SDK and the Azure Machine Learning
    CLI. Throughout this book, we will mostly use the Python SDK for Azure Machine
    Learning. You can find more information about the Azure Machine Learning Python
    SDK in the Microsoft documentation: [https://docs.microsoft.com/en-us/python/api/overview/azure/ml/?view=azure-ml-py](https://docs.microsoft.com/en-us/python/api/overview/azure/ml/?view=azure-ml-py).'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 正如前一个图所示，我们可以在 Azure 机器学习工作区中管理不同的资源和资产。所有这些资源不仅可以通过 UI 访问，还可以通过 SDK 和 Azure
    机器学习 CLI 访问。在这本书中，我们将主要使用 Azure 机器学习的 Python SDK。您可以在 Microsoft 文档中找到有关 Azure
    机器学习 Python SDK 的更多信息：[https://docs.microsoft.com/en-us/python/api/overview/azure/ml/?view=azure-ml-py](https://docs.microsoft.com/en-us/python/api/overview/azure/ml/?view=azure-ml-py)。
- en: 'Throughout the book, we will use three types of compute resources for the different
    steps in the ML process. We can create these resources directly from within Azure
    Machine Learning with a couple of lines of code and the Azure Machine Learning
    SDK:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我们将使用三种类型的计算资源来处理 ML 流程中的不同步骤。我们可以使用几行代码和 Azure 机器学习 SDK 直接在 Azure 机器学习中创建这些资源：
- en: '**A compute instance for the authoring runtime and Jupyter**: This is a compute
    instance with pre-installed and pre-configured ML libraries and the Azure Machine
    Learning SDK optimized for authoring and experimentation.'
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用于编写运行时和 Jupyter 的计算实例**：这是一个预安装和预配置了 ML 库以及针对编写和实验优化的 Azure 机器学习 SDK 的计算实例。'
- en: '**A training cluster for the ML execution runtime during training**: This is
    an auto-scalable compute cluster with pre-installed and pre-configured ML libraries
    and the Azure Machine Learning SDK optimized for large- scale training and optimization.'
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**训练期间用于 ML 执行运行时的训练集群**：这是一个自动可扩展的计算集群，预安装和预配置了 ML 库以及针对大规模训练和优化的 Azure 机器学习
    SDK。'
- en: '**An inferencing cluster for the execution runtime during scoring**: This is
    a managed Kubernetes cluster using Azure Kubernetes Service.'
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**评分期间用于执行运行时的推理集群**：这是一个使用 Azure Kubernetes 服务管理的托管 Kubernetes 集群。'
- en: Besides compute, we will also use Azure Machine Learning to create storage resources
    that serve as storage for authoring and application code, job logs and output,
    visualization, trained models, dataset snapshots, and so on. We can use the ML
    SDK to manage Azure Blob storage containers in the ML workspace and to write the
    output and assets of jobs directly to the storage.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 除了计算资源，我们还将使用 Azure 机器学习创建存储资源，这些资源作为编写和应用程序代码、作业日志和输出、可视化、训练模型、数据集快照等的存储。我们可以使用
    ML SDK 来管理 ML 工作区中的 Azure Blob 存储容器，并将作业的输出和资产直接写入存储。
- en: Besides managing infrastructure, Azure Machine Learning can do a lot more for
    us. Most importantly, it can track our experiment runs and collect output files,
    graphs, artifacts, logs, and custom metrics, such as training loss. This is also
    by far the most powerful gateway to enter the Azure Machine Learning platform.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 除了管理基础设施，Azure 机器学习还能为我们做更多的事情。最重要的是，它可以跟踪我们的实验运行并收集输出文件、图表、工件、日志和自定义指标，例如训练损失。这到目前为止也是进入
    Azure 机器学习平台最强大的门户。
- en: By simply annotating your existing ML project, you can track all your model
    scores, stream your log output, collect all your output images, and store the
    best model for each iteration or run. All you need is a few simple lines of code
    to never lose track of a model for a particular training run ever again, or to
    keep track of your training scores, graphs, and artifacts. All this can be done
    without changing anything about your ML setup; your experiments can run on a local
    machine and your training runs can be scheduled on AWS.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 通过简单地注释你的现有机器学习项目，你可以跟踪所有你的模型得分，流式传输你的日志输出，收集所有你的输出图像，并存储每个迭代或运行的最好模型。你所需要的只是一些简单的代码行，以防止再次丢失特定训练运行的模型，或者跟踪你的训练得分、图表和工件。所有这些都可以在不改变你的机器学习设置的情况下完成；你的实验可以在本地机器上运行，你的训练运行可以安排在AWS上。
- en: Besides tracking job artifacts, you can also track dataset versions, environments,
    and models in Azure Machine Learning using only a few lines of code. This gives
    you the benefit of being able to keep a predictable history of changes in your
    workspace. By doing this, you can create repeatable experiments that always read
    the same data snapshot for a training run, use the same specified Conda or PIP
    environment, and update the trained model in the model history and artifact store.
    This brings you on track toward a **Continuous Integration/Continuous Deployment**
    (**CI/CD**) approach for your training pipeline. We will discuss this approach
    in more detail in [*Chapter 16*](B17928_16_ePub.xhtml#_idTextAnchor252), *Bringing
    Models into Production with MLOps*.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 除了跟踪作业工件外，你还可以使用几行代码在Azure机器学习中跟踪数据集版本、环境和模型。这让你能够保持工作区中变化的可预测历史记录。通过这样做，你可以创建可重复的实验，这些实验总是为训练运行读取相同的数据快照，使用相同的指定Conda或PIP环境，并在模型历史和工件存储中更新训练模型。这使你朝着**持续集成/持续部署**（**CI/CD**）方法前进。我们将在[*第16章*](B17928_16_ePub.xhtml#_idTextAnchor252)中更详细地讨论这种方法，*使用MLOps将模型投入生产*。
- en: Speaking of pipelines, Azure Machine Learning lets you abstract your authoring
    code into pipelines. A pipeline can trigger or run data preparation jobs in parallel,
    create and start training clusters, execute a training script on the cluster,
    or initiate and perform blue/green deployments. You can see how everything guides
    you toward a repeatable, versioned, end-to-end pipeline for your training process.
    The greatest part, however, is that you don't have to go all in to benefit from
    Azure Machine Learning.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 说到管道，Azure机器学习让你可以将你的编写代码抽象成管道。一个管道可以并行触发或运行数据准备作业，创建并启动训练集群，在集群上执行训练脚本，或者启动和执行蓝/绿部署。你可以看到所有这些是如何引导你走向一个可重复、版本化的端到端管道，用于你的训练过程。然而，最棒的部分是，你不必全力以赴就能从Azure机器学习中受益。
- en: Instead, you can start little by little, adding more and more useful functionalities
    to your existing training process and then gradually move an existing or new ML
    project to the Azure Machine Learning workspace. You will get your feet wet and
    set up your Azure Machine Learning workspace in the next chapter. This will show
    you how easy it is to get started, to integrate with existing ML projects, and
    how to set up your authoring and training environment for new projects.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，你可以逐步开始，逐渐将更多有用的功能添加到现有的训练过程中，然后将现有或新的机器学习项目逐步迁移到Azure机器学习工作区。你将在下一章中了解如何入门，如何与现有的机器学习项目集成，以及如何为新项目设置编写和训练环境。
- en: Azure Machine Learning is the best PaaS service for building custom ML applications
    in Azure. However, if you prefer tinkering with VMs, debugging distributed job
    executions, and setting up MPI for distributed training jobs, you should take
    a closer look at the next section, where will learn more about custom compute
    services commonly used for ML.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: Azure机器学习是Azure中构建自定义机器学习应用的最好PaaS服务。然而，如果你更喜欢在虚拟机上动手，调试分布式作业执行，并为分布式训练作业设置MPI，你应该仔细阅读下一节，我们将了解更多关于常用作机器学习的自定义计算服务。
- en: Custom compute services for ML
  id: totrans-210
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 机器学习自定义计算服务
- en: So far, we have had a look at services offering managed pre-trained ML models
    with and without some degree of customization, as well as custom ML services,
    including Azure Machine Learning. Azure Machine Learning is our service of choice
    for developing custom ML applications, due to the great trade-off between flexibility,
    functionality, and comfort.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经查看了一些提供带或不带一定程度的定制化管理的预训练机器学习模型的服务，以及包括Azure机器学习在内的定制机器学习服务。由于在灵活性、功能性和舒适性之间取得了很好的平衡，Azure机器学习成为了我们开发定制机器学习应用的首选服务。
- en: However, we understand that these trade-offs might not work for everyone and
    that some people want the highest flexibility for building custom ML applications
    using only IaaS services. These are the same services that build the foundation
    for any other PaaS service in Azure, including Azure Machine Learning. Hence,
    as a final step, we will delve into options where you can use custom compute services
    in Azure to build flexible ML solutions.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我们理解这些权衡可能并不适用于每个人，有些人可能希望仅使用IaaS服务来构建定制机器学习应用时拥有最高的灵活性。这些服务正是构建Azure中任何其他PaaS服务（包括Azure机器学习）基础的服务。因此，作为最后一步，我们将深入了解您可以使用Azure中的自定义计算服务来构建灵活机器学习解决方案的选项。
- en: Azure Databricks
  id: totrans-213
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Azure Databricks
- en: '**Azure Databricks** is a managed service on Azure, offering the Databricks
    platform as a completely integrated solution. Azure Databricks is, therefore,
    a so-called first-class citizen in Azure. This means, compared to other third-party
    solutions, a user can deploy from the Azure Marketplace, and it is fully integrated
    with Azure Active Directory, allowing Azure administrators to treat this service
    the same way as any other Microsoft managed service on the platform.'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: '**Azure Databricks** 是Azure上的一个托管服务，提供Databricks平台作为一个完全集成的解决方案。因此，Azure Databricks在Azure中被称为一等公民。这意味着，与其他第三方解决方案相比，用户可以从Azure
    Marketplace部署，并且与Azure Active Directory完全集成，允许Azure管理员以与其他平台上的任何其他Microsoft托管服务相同的方式处理此服务。'
- en: The Databricks platform itself is a big data analytics platform utilizing Apache
    Spark. The company behind this platform is also called Databricks ([https://databricks.com/](https://databricks.com/))
    and was founded by the original creators of Spark to offer this ever-changing
    open source technology as a ready-made product to customers.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: Databricks平台本身是一个利用Apache Spark的大数据分析平台。该平台的背后公司也称为Databricks([https://databricks.com/](https://databricks.com/))，由Spark的原始创造者创立，旨在将这种不断变化的开源技术作为现成的产品提供给客户。
- en: To understand how to perform ML in Azure Databricks, we will first have a look
    at the underlying technology for distributed computing that powers all computation
    and processing – Apache Spark.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解如何在Azure Databricks中执行机器学习，我们首先将查看所有计算和处理的底层分布式计算技术——Apache Spark。
- en: Distributed computing using Apache Spark
  id: totrans-217
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用Apache Spark进行分布式计算
- en: Apache Spark is a distributed in-memory analytical engine, taking its roots
    from the Apache Hadoop framework. The main idea behind it is to distribute a graph
    of computations to the cluster's worker nodes. Think of these nodes as different
    independent servers, possibly even in different physical locations, that all together
    work on the same job, or – to be more precise – on their own part of the job.
    They are, in turn, controlled and orchestrated by a primary node that keeps an
    eye on scheduling, resource availability, and wiring up data streams.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: Apache Spark是一个分布式内存分析引擎，其根源来自Apache Hadoop框架。其背后的主要思想是将计算图分布到集群的工作节点。将这些节点想象成不同的独立服务器，甚至可能位于不同的物理位置，它们共同完成同一项工作，或者更准确地说，完成各自的工作部分。它们反过来又由一个主节点控制和管理，该节点负责监控调度、资源可用性和数据流的连接。
- en: '*Figure 2.9* shows the most important components of Apache Spark. In the middle,
    we can see the main compute engine called Spark Core. Spark Core oversees job
    scheduling and monitoring, interaction with the underlying storage system, memory
    management on the nodes, and general fault tolerance for the overall cluster.
    For the scheduling, it either uses its own scheduler called **Spark Scheduler**
    or can run on other scheduling options, namely **Apache YARN** or **Apache Mesos**.
    When using Apache Spark in Azure Databricks, the job scheduling engine is part
    of the managed service and managed by Databricks:'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2.9*展示了Apache Spark最重要的组件。在中间，我们可以看到主计算引擎，称为Spark Core。Spark Core负责作业调度和监控、与底层存储系统的交互、节点上的内存管理以及整个集群的通用容错。对于调度，它要么使用自己的调度器，即**Spark调度器**，要么可以在其他调度选项上运行，即**Apache
    YARN**或**Apache Mesos**。当在Azure Databricks中使用Apache Spark时，作业调度引擎是托管服务的一部分，由Databricks管理：'
- en: '![Figure 2.9 – The Apache Spark framework ](img/B17928_02_09.jpg)'
  id: totrans-220
  prefs: []
  type: TYPE_IMG
  zh: '![图2.9 – Apache Spark框架](img/B17928_02_09.jpg)'
- en: Figure 2.9 – The Apache Spark framework
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.9 – Apache Spark框架
- en: As a storage system, it supports a myriad of options, from standard local storage
    and the **Hadoop Distributed File System** (**HDFS**) to Azure Data Lake and Amazon
    S3 storage, and even has direct access to **Relational Database Management Systems**
    (**RDBMS**) and documents from NoSQL systems.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 作为存储系统，它支持众多选项，从标准的本地存储和**Hadoop分布式文件系统**（**HDFS**）到Azure Data Lake和Amazon S3存储，甚至可以直接访问**关系型数据库管理系统**（**RDBMS**）和NoSQL系统的文档。
- en: Finally, to define and dispatch jobs, the end user can utilize different programming
    languages, such as Scala, Python and R, to define the computational graphs that
    will be executed via Apache Spark. In addition to all available libraries and
    frameworks, Apache Spark provides a few built-in libraries to facilitate both
    data access and manipulation via Spark SQL, as well as distributed computations
    via Spark Streaming, MLlib, and GraphX.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，为了定义和调度作业，最终用户可以利用不同的编程语言，如Scala、Python和R，来定义将通过Apache Spark执行的计算图。除了所有可用的库和框架之外，Apache
    Spark还提供了一些内置库，以方便通过Spark SQL进行数据访问和处理，以及通过Spark Streaming、MLlib和GraphX进行分布式计算。
- en: ML libraries for Azure Databricks
  id: totrans-224
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Azure Databricks的机器学习库
- en: To train ML models on Spark and consequently on Azure Databricks, we require
    libraries that, on the one hand, implement the relevant ML algorithms and numerical
    functions and, on the other hand, understand the Spark framework to take advantage
    of the distributed computation primitives.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 要在Spark和随后在Azure Databricks上训练机器学习模型，我们需要库，这些库一方面实现了相关的机器学习算法和数值函数，另一方面理解Spark框架以利用分布式计算原语。
- en: Apache Spark comes with such a built-in ML library called MLlib. This library
    is designed to implement traditional ML algorithms, such as different clustering
    and embedding techniques, logistic regression, random forest, gradient boosting,
    and **Alternating Least Squares** (**ALS**) matrix factorization for recommendations,
    while taking advantage of the distributed computation capabilities of Apache Spark.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: Apache Spark自带一个名为MLlib的内置机器学习库。这个库旨在实现传统的机器学习算法，例如不同的聚类和嵌入技术、逻辑回归、随机森林、梯度提升以及用于推荐的**交替最小二乘法**（**ALS**）矩阵分解，同时利用Apache
    Spark的分布式计算能力。
- en: Thanks to the supported languages, you can also use all other popular ML libraries
    in Apache Spark on Azure Databricks, such as TensorFlow, XGBoost, scikit-learn,
    PyTorch, Horovod, and many other well-known libraries (see [https://databricks.com/product/machine-learning-runtime](https://databricks.com/product/machine-learning-runtime)).
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 由于支持的语言，您还可以在Azure Databricks上使用Apache Spark中的所有其他流行机器学习库，如TensorFlow、XGBoost、scikit-learn、PyTorch、Horovod以及许多其他知名库（见[https://databricks.com/product/machine-learning-runtime](https://databricks.com/product/machine-learning-runtime)）。
- en: Azure Databricks also supports MLflow, an open source framework for automating
    the end-to-end ML process, which we will see in action in [*Chapter 16*](B17928_16_ePub.xhtml#_idTextAnchor252),
    *Bringing Models into Production with MLOps*, as well as their own version of
    AutoML, and a notebook server.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Databricks还支持MLflow，这是一个开源框架，用于自动化端到端的机器学习过程，我们将在[*第16章*](B17928_16_ePub.xhtml#_idTextAnchor252)中看到其实际应用，*使用MLOps将模型投入生产*，以及他们自己的AutoML版本和笔记本服务器。
- en: However, large-scale distributed compute engines usually don't come without
    any downsides, and the same is true for Apache Spark and Databricks. While Databricks
    did a great job of hiding most of the complexity and made it easy to get up and
    running with Spark, the complexity is not gone. Monitoring jobs and utilized cluster
    resources, debugging, and optimizing jobs, as well as reading and understanding
    logs becomes very complex without in-depth knowledge about Spark.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，大规模分布式计算引擎通常不会没有缺点，Apache Spark和Databricks也是如此。虽然Databricks在隐藏大部分复杂性并使Spark易于启动和运行方面做得很好，但复杂性并未消失。没有深入了解Spark，监控作业和利用集群资源、调试和优化作业，以及阅读和理解日志变得非常复杂。
- en: Simply put, in addition to understanding machine learning processes and algorithms,
    the user also has to understand the internals of Spark and its distributed job
    scheduling and execution model. This adds another layer of complexity for running,
    debugging, and optimizing ML jobs, which makes the whole experience a lot more
    difficult.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，除了理解机器学习过程和算法之外，用户还必须了解Spark的内部结构和其分布式作业调度和执行模型。这为运行、调试和优化机器学习作业增加了另一层复杂性，使得整个过程变得更加困难。
- en: Moreover, not all ML libraries and algorithms are easily capable of distributing
    the workload to different nodes, which often leads to suboptimal utilization of
    the cluster resources. Why use a complex framework for distributed computing and
    pay a premium for primary orchestration nodes when the underlying algorithms are
    executed on a single worker node?
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，并非所有机器学习库和算法都易于将工作负载分配到不同的节点，这通常会导致集群资源利用率不佳。为什么要在单个工作节点上执行底层算法时，还要使用复杂的分布式计算框架并支付主要编排节点的额外费用？
- en: Azure Databricks is a good choice when migrating on-premises Spark-based services
    to Azure, or building big data analytics, transformation, or recommendation services.
    However, it's complexity and premium price make it most often a poor choice for
    ML projects.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 当将本地Spark服务迁移到Azure或构建大数据分析、转换或推荐服务时，Azure Databricks是一个不错的选择。然而，其复杂性和高昂的价格使其通常不是机器学习项目的最佳选择。
- en: Azure Batch
  id: totrans-233
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Azure Batch
- en: Azure Batch is a very mature and flexible batch-processing and scheduling framework
    for running massive parallel workloads in Azure. It lets you define custom applications
    and jobs that can be scheduled and executed on a pool of VMs. It processes data
    stored in Azure Storage and can dynamically scale the compute resources for you
    to up to tens of thousands of VMs. **Azure Batch** is the foundation for Azure
    Machine Learning training clusters and, hence, is a great solution if you want
    to build your own custom ML service.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Batch是一个非常成熟且灵活的批处理和调度框架，用于在Azure中运行大规模并行工作负载。它允许您定义可以在虚拟机池上调度和执行的自定义应用程序和作业。它处理存储在Azure存储中的数据，并可以为您动态扩展计算资源，最多可达数万台虚拟机。**Azure
    Batch**是Azure机器学习训练集群的基础，因此如果您想构建自己的定制机器学习服务，这是一个很好的解决方案。
- en: Azure Batch is usually used for *embarrassing parallel* workloads, namely work
    that can be easily parallelized across multiple machines without the need for
    any orchestration. This makes Azure Batch less flexible than Azure Databricks,
    which provides primitives for distributed coordination, but therefore is also
    less complicated for end users. Typical applications are computing 3D renderings,
    video and image processing, compute-intensive simulations, or general batch computations,
    such as computing recommendation results or batch-scoring ML models.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Batch通常用于*尴尬的并行*工作负载，即可以轻松地在多台机器上并行化，而无需任何编排的工作。这使得Azure Batch比提供分布式协调原语的Azure
    Databricks更不灵活，但因此对最终用户来说也更简单。典型应用包括计算3D渲染、视频和图像处理、计算密集型模拟或一般批处理计算，例如计算推荐结果或批评分机器学习模型。
- en: Batch jobs will be executed on compute pools or custom VMs, which means Azure
    Batch supports many *exotic* compute instances, including high-performance compute
    instances, memory-optimized and GPU-enabled VMs, just to name a few. It also supports
    multi-instance workloads using a **Message Passing Interface** (**MPI**) and **Remote
    Direct Memory Access** (**RDMA**).
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 批处理作业将在计算池或自定义虚拟机上执行，这意味着Azure Batch支持许多*异构*计算实例，包括高性能计算实例、内存优化和GPU启用虚拟机，仅举几例。它还支持使用**消息传递接口**（**MPI**）和**远程直接内存访问**（**RDMA**）的多实例工作负载。
- en: If you are building your custom ML solution and want to avoid the comfort and
    flexibility of Azure Machine Learning, then Azure Batch is a great choice for
    you. It gives you all the flexibility to choose custom instances, frameworks,
    libraries, and data formats. However, Azure Machine Learning is – in almost every
    aspect – a better, easier, and more integrated solution, specifically for building
    ML applications.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在构建你的定制ML解决方案并希望避免Azure机器学习的舒适性和灵活性，那么Azure批处理是你一个很好的选择。它为你提供了所有选择自定义实例、框架、库和数据格式的灵活性。然而，Azure机器学习在几乎每个方面都是一个更好、更简单、更集成的解决方案，特别是用于构建ML应用。
- en: Data Science Virtual Machines
  id: totrans-238
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据科学虚拟机
- en: It doesn't require a separate section to explain that you can use traditional
    VMs in Azure for building a custom cloud-based ML service on top of IaaS services.
    This would be as low-level as it gets within a cloud service, where you have full
    control over every network interface, disk configuration, and user permission
    on the VM. You can use any instance type available in your region that fits any
    of your memory, compute, or graphics needs and requirements.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 不需要单独的章节来解释，你可以在Azure中使用传统的虚拟机（VM）来在IaaS服务之上构建定制的基于云的机器学习（ML）服务。这将是云服务中最低级别的，在这里你可以完全控制每个网络接口、磁盘配置以及VM上的用户权限。你可以使用你所在区域提供的任何实例类型，以满足你的内存、计算或图形需求。
- en: However, if you are looking for a VM to be your cloud-based ML workstation –
    for example, to take advantage of flexible cloud compute, to run your ML experiments,
    or to perform on-demand GPU-accelerated training – there is a better choice than
    using a standard VM, namely **Data Science Virtual Machines** (**DSVMs**).
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果你正在寻找一个作为你的云上ML工作站的VM——例如，为了利用灵活的云计算、运行你的ML实验或执行按需GPU加速训练——使用标准VM之外还有更好的选择，那就是**数据科学虚拟机**（DSVM）。
- en: A DSVM is a pre-built pre-configured VM optimized for data science and ML applications.
    It comes with many of the popular ML libraries pre-installed and supports Windows
    and Linux. Pre-installed libraries and services include CUDA and cuDNN, NVIDIA
    drivers and system management interfaces (`nvidia-smi`), CRAN-R, Julia, Python,
    Jupyter, TensorFlow, PyTorch, Horovod, XGBoost, LightGBM, OpenCV, and ONNX. You
    can start a DSVM on many different instance types, including GPU-accelerated instances.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: DSVM是一种预先构建和预配置的VM，针对数据科学和ML应用进行了优化。它预装了许多流行的ML库，并支持Windows和Linux。预装的库和服务包括CUDA和cuDNN、NVIDIA驱动程序和系统管理接口（`nvidia-smi`）、CRAN-R、Julia、Python、Jupyter、TensorFlow、PyTorch、Horovod、XGBoost、LightGBM、OpenCV和ONNX。你可以在许多不同的实例类型上启动DSVM，包括GPU加速实例。
- en: A DSVM is your service of choice whenever you need a carefree VM with your popular
    ML tools pre-installed and pre-configured. However, it is worth noting that you
    probably don't need a DSVM when working in an Azure Machine Learning workspace,
    as you can create compute instances and training clusters to run your ML experiments
    and training. Nevertheless, it's a great alternative ML experimentation environment.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 当你需要一个预装和预配置了流行ML工具的无忧VM时，DSVM是你的首选服务。然而，值得注意的是，当你在一个Azure机器学习工作区工作时，你可能不需要DSVM，因为你可以创建计算实例和训练集群来运行你的ML实验和训练。尽管如此，它仍然是一个出色的ML实验环境替代方案。
- en: Summary
  id: totrans-243
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned how to navigate the Azure AI landscape and choose
    the right ML service for your application and domain. While IaaS services give
    you great flexibility, PaaS services often provide useful abstractions and manage
    complex integrations for you. SaaS applications are great if they are designed
    for your application domain or can be customized.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了如何导航Azure AI景观并选择适合你的应用程序和领域的正确ML服务。虽然IaaS服务为你提供了很大的灵活性，但PaaS服务通常提供了有用的抽象，并为你管理复杂的集成。如果它们是为你的应用程序领域设计的或可以定制，SaaS应用是非常好的。
- en: We investigated Azure services for building ML applications in each of the preceding
    categories, such as Azure Cognitive Services (SaaS), Azure Machine Learning (PaaS),
    and Azure Batch (IaaS). Azure Machine Learning is not only the most comprehensive
    and integrated ML service in Azure but also provides a good trade-off between
    flexibility, functionality, and comfort. Therefore, we will use Azure Machine
    Learning throughout this book to develop an end-to-end custom ML solution.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 我们调查了Azure服务，用于构建每个先前类别中的ML应用，例如Azure认知服务（SaaS）、Azure机器学习（PaaS）和Azure批处理（IaaS）。Azure机器学习不仅是Azure中最全面和集成的ML服务，而且提供了灵活性、功能性和舒适性的良好平衡。因此，我们将在这本书中使用Azure机器学习来开发端到端的定制ML解决方案。
- en: If you really want to build your own ML infrastructure from scratch and not
    rely on any managed ML service, you should look into custom compute services that
    are optimized for large computational workloads, such as Azure Databricks or Azure
    Batch. If you simply need a VM ready for ML experiments without any pre-built
    service integrations or model and experiment tracking, you can choose a DSVM.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你真的想从头开始构建自己的机器学习基础设施，而不依赖任何托管机器学习服务，你应该考虑那些针对大型计算工作负载进行优化的自定义计算服务，例如Azure
    Databricks或Azure Batch。如果你只需要一个用于机器学习实验的VM，且不需要任何预构建的服务集成或模型和实验跟踪，你可以选择DSVM。
- en: In the next chapter, we will continue our journey by setting up an Azure Machine
    Learning workspace. In order to do this, we will first learn how to deploy resources
    in Azure programmatically; we will then have an in-depth look at the ML workspace
    itself, at how we can use notebooks and incorporate compute nodes for model training,
    and finally, we will run our first little experiment.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将继续我们的旅程，通过设置Azure机器学习工作区来展开。为了做到这一点，我们首先将学习如何以编程方式在Azure中部署资源；然后我们将深入探讨机器学习工作区本身，了解我们如何使用笔记本并集成计算节点进行模型训练，最后，我们将运行我们的第一个小实验。
