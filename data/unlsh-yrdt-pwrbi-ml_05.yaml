- en: '5'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '5'
- en: Discovering Features Using Analytics and AI Visuals
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用分析和AI可视化发现特征
- en: In [*Chapter 4*](B19500_04.xhtml#_idTextAnchor062), you discovered features
    within the FAA Wildlife Strike data to be tested with Power BI ML to see whether
    they are good predictive features, built out queries in Power Query to structure
    those features into tables, and completed the foundation of your high-level data
    architecture. You are ready to take a deep dive into analytics and prep for ML
    in Power BI.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在[*第4章*](B19500_04.xhtml#_idTextAnchor062)中，你发现了FAA野生动物撞击数据中的特征，并使用Power BI
    ML进行测试，以查看它们是否是好的预测特征，在Power Query中构建查询以将这些特征结构化为表格，并完成了你高级数据架构的基础。你现在可以深入分析并准备在Power
    BI中进行机器学习。
- en: In this chapter, you will continue to build out your Power BI analytical reports
    as you explore data and discover trends. You will also try a few of the Power
    BI AI visuals to see if you can uncover additional features that could be added
    to your machine learning efforts. At the end of this chapter, you will have a
    more complete analytical report and more robust data to build, train, and test
    your Power BI ML models.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将继续构建Power BI分析报告，同时探索数据和发现趋势。你还将尝试一些Power BI AI可视化，看看你是否可以揭示可以添加到你的机器学习努力中的额外特征。在本章结束时，你将拥有一个更完整的分析报告和更丰富的数据，用于构建、训练和测试你的Power
    BI ML模型。
- en: Technical requirements
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'For this chapter, you’ll need the following:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本章，你需要以下内容：
- en: Power BI Desktop April 2023 or later (no licenses required)
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Power BI桌面版2023年4月或更高版本（无需许可证）
- en: 'FAA Wildlife Strike data files from either the FAA website or the Packt GitHub
    site at this link: [https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI](https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI)'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从FAA网站或此链接的Packt GitHub站点获取FAA野生动物撞击数据文件：[https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI](https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI)
- en: Identifying features in Power BI using a report
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用报告在Power BI中识别特征
- en: Now that you’ve built out the base queries for Predict Damage, Predict Size,
    and Predict Height, you can add additional features to evaluate in each of the
    queries that will be used for Power BI ML. Features to evaluate the ML models
    will be added to each ML query. Building the ML models in Power BI will allow
    you to narrow down the list of features to those that are most useful. In order
    to make the chapter easy to read, you can take a look at potential new features
    one by one as they pertain to the three queries for Power BI ML. When training
    and testing your ML models in Power BI, the predictive value of each feature will
    be evaluated when you build the ML models. Therefore, if a feature is in question,
    you’re better off keeping it in the query and then removing it later on if it
    turns out to provide little value.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经为预测损坏、预测大小和预测高度构建了基础查询，你可以在每个查询中添加额外的特征来评估，这些特征将被用于Power BI ML。评估ML模型的特征将被添加到每个ML查询中。在Power
    BI中构建ML模型将允许你缩小特征列表，使其包含最有用的特征。为了使章节易于阅读，你可以逐个查看与Power BI ML的三个查询相关的潜在新特征。在Power
    BI中训练和测试你的ML模型时，每个特征的预测价值将在构建ML模型时进行评估。因此，如果一个特征存在问题，你最好将其保留在查询中，然后在它显示出提供很少价值时再将其删除。
- en: 'Note that if you don’t want to build all of these Power BI report pages as
    part of your journey through this book, the completed PBIT template is available
    at this link: [https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-05](https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-05).'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，如果你不希望在本书的旅程中构建所有这些Power BI报告页面，完整的PBIT模板可在以下链接获取：[https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-05](https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-05)。
- en: Number Struck
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 受击数量
- en: '**Number Struck** is a column of data that represents five options for the
    number of animals involved for each wildlife strike incident: **1**, **2-10**,
    **11-100**, **More than 100**, or the text value **NULL**. You copy and paste
    the **Line and stacked column chart** on the **Predict Damage** page, and replace
    **Year** with **Number Struck** on the *x* axis. The text value **NULL** likely
    contains incidents that represent all four of the other categories. Aside from
    **Null**, as the **Number Struck** value increases, the likelihood of damage also
    appears to increase and could represent a correlation between the number of animals
    struck and the likelihood of damage. The number of incidents also increases as
    the number of animals struck increases:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '**撞击次数**是一列数据，代表每次野生动物撞击事件中涉及的动物数量的五种选择：**1**，**2-10**，**11-100**，**超过100**，或文本值**NULL**。您将**折线图和堆积柱状图**复制粘贴到**预测损伤**页面，并将**年份**在**x**轴上替换为**撞击次数**。文本值**NULL**可能包含代表其他四个类别所有事件的案例。除了**NULL**之外，随着**撞击次数**的增加，损伤的可能性似乎也在增加，这可能代表了动物撞击次数与损伤可能性之间的相关性。随着动物撞击次数的增加，事件数量也在增加：'
- en: '![Figure 5.1 – Damage likelihood increases with Number Struck](img/B19500_05_001.jpg)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![图5.1 – 撞击可能性随撞击次数增加而增加](img/B19500_05_001.jpg)'
- en: Figure 5.1 – Damage likelihood increases with Number Struck
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.1 – 撞击可能性随撞击次数增加而增加
- en: 'Now take a look at how **Number Struck** relates to the **Predict Size** use
    case. Remember, **Size** refers to the size of the animals striking the aircraft.
    Copy and paste the **Line and stacked column chart** on that page, replace **Month
    Num** with **Number Struck**, and change the chart to a **100% Stacked column
    chart**. You discover an unexpected distribution in the **NULL** column. Many
    of those incidents were classified as **Large** in size. You don’t know the reasons
    for this finding, but here are a few possibilities:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 现在看看**撞击次数**与**预测大小**用例之间的关系。记住，**大小**指的是撞击飞机的动物的大小。将**折线图和堆积柱状图**复制粘贴到该页面，将**月份编号**在**x**轴上替换为**撞击次数**，并将图表更改为**100%堆积柱状图**。您在**NULL**列中发现了一个意外的分布。许多这些事件被归类为**大型**。您不知道这个发现的原因，但这里有一些可能性：
- en: If one large animal struck the aircraft, it is possible that the **Number Struck**
    field was sometimes skipped.
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果一只大型动物撞击了飞机，那么**撞击次数**字段有时可能被跳过。
- en: If the strike wasn’t witnessed maybe **NULL** actually means unknown.
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果撞击未被目击，那么**NULL**实际上可能意味着未知。
- en: Strike damage discovered after a flight might be assumed to be a large animal,
    but the number was not known.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 飞行后发现的撞击损伤可能被认为是大型动物造成的，但具体数量并不清楚。
- en: "![Figure 5.2 – The size of wildlife strike is distributed differently when\
    \ broken \uFEFFdown by Number Struck](img/B19500_05_002.jpg)"
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![图5.2 – 当按撞击次数分解时，野生动物撞击的大小分布不同](img/B19500_05_002.jpg)'
- en: Figure 5.2 – The size of wildlife strike is distributed differently when broken
    down by Number Struck
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.2 – 当按撞击次数分解时，野生动物撞击的大小分布不同
- en: 'Finally, you take a look at the **Predict Height** page to see if **Number
    Struck** has some interesting patterns. You copy and paste the **Line and stacked
    column chart** on the **Predict Damage** page to the **Predict Height** page,
    and replace **Year** with **Number Struck** on the *x* axis. Add **Average Height**
    and **Median Height** to the *y* axis. Incidents with smaller numbers of animals
    appear to happen at higher heights:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，您查看**预测高度**页面，看看**撞击次数**是否有任何有趣的模式。您将**预测损伤**页面上的**折线图和堆积柱状图**复制粘贴到**预测高度**页面，并在**x**轴上将**年份**替换为**撞击次数**。将**平均高度**和**中位数高度**添加到**y**轴。动物数量较少的事件似乎发生在较高的高度：
- en: '![Figure 5.3 – Strikes of one animal appear to have higher height metrics](img/B19500_05_003.jpg)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![图5.3 – 单一动物的撞击似乎具有更高的高度指标](img/B19500_05_003.jpg)'
- en: Figure 5.3 – Strikes of one animal appear to have higher height metrics
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.3 – 单一动物的撞击似乎具有更高的高度指标
- en: Your efforts with analytics validate that Number Struck could possibly provide
    value to all three ML feature sets. Later in this chapter, you will add it to
    the queries.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 您通过分析验证了**撞击次数**可能为所有三个机器学习特征集提供价值。在本章的后面部分，您将将其添加到查询中。
- en: Aircraft Mass Code
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 飞机质量代码
- en: 'Based upon the `read_me.xls` documentation, the Aircraft Mass Code values indicate
    the following mass values for the aircraft involved in a wildlife strike:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 根据`read_me.xls`文档，飞机质量代码值表示参与野生动物撞击的飞机的以下质量值：
- en: '**1**: 2,250 kg or less'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 2,250公斤或以下'
- en: '**2**: 2,251–5,700 kg'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 2,251–5,700公斤'
- en: '**3**: 5,701–27,000 kg'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 5,701–27,000公斤'
- en: '**4**: 27,001–272,000 kg'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**：27,001–272,000 kg'
- en: '**5**: above 272,000 kg'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**5**：超过 272,000 kg'
- en: The text value `NULL` is not in the documentation, but most likely indicates
    that the size of the aircraft was unknown. You create a similar **100% Stacked
    column chart** for **Aircraft Mass Code** as you did for **Number Struck** above
    for the **Predict Damage** page. You can see from *Figure 5**.4* that smaller
    aircraft appear to have higher damage percentages versus larger aircraft, which
    would make sense from a common sense perspective.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 文本值 `NULL` 不在文档中，但很可能表示飞机的大小未知。您可以为 **飞机质量代码** 创建一个与上面用于 **被击中数量** 的相同的 **100%
    堆积柱状图**，用于 **预测损坏** 页面。您可以从 *图 5**.4* 中看到，较小的飞机似乎比较大的飞机有更高的损坏百分比，这在常识角度上是合理的。
- en: '![Figure 5.4 – Smaller aircraft appear to have higher rates of damage](img/B19500_05_004.jpg)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.4 – 较小的飞机似乎有更高的损坏率](img/B19500_05_004.jpg)'
- en: Figure 5.4 – Smaller aircraft appear to have higher rates of damage
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.4 – 较小的飞机似乎有更高的损坏率
- en: 'Now you can take a look at **Aircraft Mass Code** for **Predict Size** by copying
    and pasting the **100% Stacked column chart** and replacing **Number Struck**
    with **Aircraft Mass Code**. The differences are noticeable but do not stand out:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您可以通过复制和粘贴 **100% 堆积柱状图** 并将 **被击中数量** 替换为 **飞机质量代码** 来查看 **预测大小** 的 **飞机质量代码**。差异是明显的，但并不突出：
- en: '![Figure 5.5 – Slight differences in Size due to Aircraft Mass Code](img/B19500_05_005.jpg)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.5 – 由于飞机质量代码导致的尺寸略有差异](img/B19500_05_005.jpg)'
- en: Figure 5.5 – Slight differences in Size due to Aircraft Mass Code
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.5 – 由于飞机质量代码导致的尺寸略有差异
- en: 'Repeat the same process for **Aircraft Mass Code** on the **Predict Height**
    page using a **Line and stacked column chart**. **Average Height** and **Median
    Height** are the lines on the *y* axis:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 **折线图和堆积柱状图** 对 **预测高度** 页面上的 **飞机质量代码** 重复相同的操作。**平均高度** 和 **中位数高度** 是 *y*
    轴上的线条：
- en: '![Figure 5.6 – Height metrics appear to trend up slightly with larger aircraft](img/B19500_05_006.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.6 – 高度指标似乎随着飞机尺寸的增大而略有上升](img/B19500_05_006.jpg)'
- en: Figure 5.6 – Height metrics appear to trend up slightly with larger aircraft
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.6 – 高度指标似乎随着飞机尺寸的增大而略有上升
- en: '**Aircraft Mass Code** will be added to all three ML queries later, in the
    *Adding new features to the ML queries in Power Query* section of this chapter.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**飞机质量代码** 将在本章的 *在 Power Query 中添加新特征到机器学习查询* 部分中添加到所有三个机器学习查询中。'
- en: Month Num (Number)
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 月份编号（数字）
- en: '**Month Num**, which is the numerical representation of the month, was added
    to the **Predict Size ML** query in the last chapter. You decide to evaluate it
    for the other two ML queries, starting with Predict Damage. On the **Predict Damage**
    page, do the following:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**月份编号**，即月份的数值表示，在上章中添加到 **预测大小机器学习** 查询中。您决定对其他两个机器学习查询进行评估，从 **预测损坏** 开始。在
    **预测损坏** 页面上，执行以下操作：'
- en: Highlight the existing **Incidents and Indicated Damage % by** **Year** chart.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 高亮显示现有的 **按年分的** **事故和指示损坏百分比** 图表。
- en: Drag **Month Num** to **Visualizations** **| X-axis**, underneath **Year**.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 **月份编号** 拖到 **可视化** **| X 轴**，在 **年份** 之下。
- en: You can now drill down into the **Incidents and Indicated Damage % by Year**
    chart and view **Month Num** on the *x* axis.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您现在可以深入到 **按年分的** **事故和指示损坏百分比** 图表，并在 *x* 轴上查看 **月份编号**。
- en: 'Notice that damage likelihood seems to decrease during the summer months (June
    through September in North America):'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 注意到在夏季月份（北美的六月到九月）损坏可能性似乎有所下降：
- en: '![Figure 5.7 – Damage likelihood appears to fluctuate seasonally](img/B19500_05_007.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.7 – 损坏可能性似乎呈季节性波动](img/B19500_05_007.jpg)'
- en: Figure 5.7 – Damage likelihood appears to fluctuate seasonally
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.7 – 损坏可能性似乎呈季节性波动
- en: You’ll be adding **Month Num** as a feature to the **Predict Damage** ML query
    at the end of this chapter.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 您将在本章末尾将 **月份编号** 作为特征添加到 **预测损坏** 机器学习查询中。
- en: Number of Engines
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 发动机数量
- en: 'As with the previous examples, you take a look at **Number of Engines** for
    the other two ML queries, starting with **Predict Damage**. Copy and paste a **Line
    and stacked column chart**, and then add **Number of Engines** to the *x* axis.
    It appears that single-engine aircraft have a higher likelihood of reporting damage
    after a strike:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 与前面的例子一样，您查看其他两个机器学习查询的 **发动机数量**，从 **预测损坏** 开始。复制并粘贴一个 **折线图和堆积柱状图**，然后在 *x*
    轴上添加 **发动机数量**。似乎单引擎飞机在遭受打击后有更高的报告损坏的可能性：
- en: '![Figure 5.8 – Single-engine aircraft appear to have a higher likelihood of
    damage after a strike](img/B19500_05_008.jpg)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![图5.8 – 单发动机飞机在撞击后似乎有更高的损坏可能性](img/B19500_05_008.jpg)'
- en: Figure 5.8 – Single-engine aircraft appear to have a higher likelihood of damage
    after a strike
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.8 – 单发动机飞机在撞击后似乎有更高的损坏可能性
- en: 'Now you copy and paste one of the 100% stacked bar charts from the **Predict
    Size** page and put **Number of Engines** on the *x* axis. While not profound,
    there appears to be a difference in the distribution of animal size based on the
    number of engines:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 现在从**预测规模**页面复制粘贴一个100%堆叠条形图，并将**发动机数量**放在*x*轴上。虽然不是特别深刻，但似乎根据发动机数量动物大小的分布存在差异：
- en: '![Figure 5.9 – Slight changes in animal size distribution based on the number
    of engines](img/B19500_05_009.jpg)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![图5.9 – 根据发动机数量动物大小分布的微小变化](img/B19500_05_009.jpg)'
- en: Figure 5.9 – Slight changes in animal size distribution based on the number
    of engines
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.9 – 根据发动机数量动物大小分布的微小变化
- en: You note that there are additional variables in determining the size of the
    strike, per the `read_me.xls` documentation. This categorization is a subjective
    value and factors such as pilot experience, geographical cultural differences,
    and more could lead to variability. In particular, this chart makes you wonder
    whether private pilots might describe wildlife strikes differently than experienced
    professional pilots who work for large airlines and fly large aircraft with multiple
    engines. Maybe that’s research that a data scientist could undertake another day.
    Nonetheless, you will be adding **Number of Engines** to both the **Predict Damage**
    and **Predict Size** ML queries.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 你会注意到根据`read_me.xls`文档，确定撞击规模大小的变量还有其他一些。这种分类是一个主观值，飞行员经验、地理文化差异等因素可能导致变化。特别是，这张图表让你怀疑私人飞行员是否可能比为大型航空公司工作的经验丰富的专业飞行员描述野生动物撞击的方式不同。也许这是数据科学家可以在另一天进行的研究。尽管如此，你将把**发动机数量**添加到**预测损坏**和**预测规模**的机器学习查询中。
- en: Percentage of engines struck, ingested wildlife, and were damaged
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 被击中、吞入野生动物和损坏的发动机百分比
- en: While **Number of Engines** is a column in the source database, you’ll need
    to do some work to find out how many engines were struck, ingested wildlife, and
    were damaged by the strike. Taking into consideration **Number of Engines**, having
    two engines struck could also be a very different scenario for a two-engine aircraft
    versus a four-engine aircraft. **Number of Engines** will be a feature in your
    ML queries, but separate features for the percentage of engines that were struck,
    ingested wildlife, and were damaged could also be interesting.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然**发动机数量**是源数据库中的一列，但你还需要做一些工作来找出有多少发动机被击中、吞入野生动物以及被击中损坏。考虑到**发动机数量**，两台发动机被击中对于双发动机飞机和四发动机飞机来说可能是一个非常不同的场景。**发动机数量**将是你的机器学习查询中的一个特征，但分别针对被击中、吞入野生动物和损坏的发动机百分比的独立特征也可能很有趣。
- en: 'The `TRUE`, and then dividing that number by **Number of Engines**. Open up
    Power Query and follow these steps to add a new column for **Number of** **Engines
    Struck**:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 将`TRUE`，然后除以**发动机数量**。打开Power Query并按照以下步骤添加一个用于**被击中发动机数量**的新列：
- en: Highlight **Strike Reports** in the **Curated Reporting** **Queries** group.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**定制报告查询**组中突出显示**撞击报告**。
- en: Add a new custom column from the Power Query ribbon and name it **Number of**
    **Engines Struck**.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从Power Query功能区添加一个新的自定义列，并将其命名为**被击中发动机数量**。
- en: 'Add the following M code:'
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加以下M代码：
- en: '[PRE0]'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[PRE2]'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '[PRE3]'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Once your screen looks like the following screenshot, click **OK**:'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你的屏幕看起来像以下截图时，点击**确定**：
- en: '![Figure 5.10 – New column to count the number of engines that were struck
    for each wildlife strike](img/B19500_05_010.jpg)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![图5.10 – 新列用于计算每次野生动物撞击中发动机被击中的数量](img/B19500_05_010.jpg)'
- en: Figure 5.10 – New column to count the number of engines that were struck for
    each wildlife strike
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.10 – 新列用于计算每次野生动物撞击中发动机被击中的数量
- en: Now create another column to calculate the percentage of engines struck for
    each event.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 现在创建另一个列来计算每次事件中被击中发动机的百分比。
- en: Highlight **Strike Reports** in the **Curated Reporting** **Queries** group.
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**定制报告查询**组中突出显示**撞击报告**。
- en: Add a new custom column from the Power Query ribbon and name it **Percentage
    of** **Engines Struck**.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从Power Query功能区添加一个新的自定义列，并将其命名为**发动机被击中百分比**。
- en: 'Add the following M code (note that `NULL` instead of a number, so a conversion
    is made):'
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加以下M代码（注意，这里使用`NULL`而不是数字，因此需要进行转换）：
- en: '[PRE4]'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[PRE5]'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Your Strike Reports query should now look like this:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 您的**打击报告**查询现在应该看起来像这样：
- en: '![Figure 5.11 – Two new columns added to the curated query will propagate to
    the layers for a Power BI dataset and ML queries](img/B19500_05_011.jpg)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.11 – 新增的两列将传播到 Power BI 数据集和 ML 查询的层中](img/B19500_05_011.jpg)'
- en: Figure 5.11 – Two new columns added to the curated query will propagate to the
    layers for a Power BI dataset and ML queries
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.11 – 新增的两列将传播到 Power BI 数据集和 ML 查询的层中
- en: Change the data type of **Number for Engines Struck** to **Integer**, and **Percentage
    of Engines Struck** to **Percentage**.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 将**被击中发动机的数量**的数据类型更改为**整数**，将**被击中发动机的百分比**更改为**百分比**。
- en: 'Adding new columns for Number of Engines Ingested, Percentage of Engines Ingested,
    Number of Engines Damaged, and Percentage of Engines Damaged will follow the exact
    same pattern:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 为吸入发动机数量、吸入发动机百分比、损坏发动机数量和损坏发动机百分比添加新列将遵循完全相同的模式：
- en: Use **Ingested Engine 1**, **Ingested Engine 2**, **Ingested Engine 3**, and
    **Ingested Engine 4** for **Number of Engines Ingested** and **Percentage of**
    **Engines Ingested**.
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用**吸入发动机 1**、**吸入发动机 2**、**吸入发动机 3**和**吸入发动机 4**来表示**吸入发动机的数量**和**吸入发动机的百分比**。
- en: Use **Damaged** **Engine 1**, **Damaged Engine 2**, **Damaged Engine 3**, and
    **Damaged Engine 4** for **Number of Engines Damaged** and **Percentage of** **Engines
    Damaged**.
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用**损坏发动机 1**、**损坏发动机 2**、**损坏发动机 3**和**损坏发动机 4**来表示**损坏发动机的数量**和**损坏发动机的百分比**。
- en: 'Here’s a snapshot of all six new columns in the Strikes Report query:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 这是打击报告查询中所有六个新列的快照：
- en: '![Figure 5.12 – Six new columns to analyze the number and percentage of engines
    struck, ingested, and damaged](img/B19500_05_012.jpg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.12 – 新增六列以分析被击中、吸入和损坏的发动机数量和百分比](img/B19500_05_012.jpg)'
- en: Figure 5.12 – Six new columns to analyze the number and percentage of engines
    struck, ingested, and damaged
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.12 – 新增六列以分析被击中、吸入和损坏的发动机数量和百分比
- en: Now you can click **Close and Apply** and refresh the dataset with the new columns.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您可以点击**关闭并应用**，并使用新列刷新数据集。
- en: 'For the **Predict Damage** page, you add a new Matrix visual with **Number
    of Engines** on rows, **Percentage of Engines Struck** on columns, and **Indicated
    Damage %** in values. The likelihood of damage appears to change depending on
    the number of total engines and the number of engines struck:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 对于**预测损坏**页面，您添加一个新的矩阵视觉，其中**发动机数量**在行上，**被击中发动机的百分比**在列上，**指示损坏百分比**在值中。损坏的可能性似乎会根据总发动机数量和被击中发动机的数量而变化：
- en: '![Figure 5.13 – Damage likelihood changes based on the total number of engines
    and the percentage of engines struck](img/B19500_05_013.jpg)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![图 5.13 – 根据发动机总数和被击中发动机的百分比，损坏的可能性变化](img/B19500_05_013.jpg)'
- en: Figure 5.13 – Damage likelihood changes based on the total number of engines
    and the percentage of engines struck
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.13 – 根据发动机总数和被击中发动机的百分比，损坏的可能性变化
- en: You decide to add all of these new features to the `TRUE` means that damage
    was already observed.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 您决定将所有这些新功能添加到`TRUE`表示已经观察到损坏。
- en: Identifying additional features using the key influencers visual in Power BI
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Power BI 中的关键影响因素视觉识别其他特征
- en: Power BI has a built-in AI visual called **key influencers** that can be used
    to discover interesting patterns in data. You will now take a look at some additional
    columns from the FAA Wildlife Strikes data and explore how they influence the
    likelihood of damage and the size of the animals.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: Power BI 有一个内置的 AI 视觉称为**关键影响因素**，可以用来发现数据中的有趣模式。您现在将查看一些来自 FAA 野生动物打击数据的附加列，并探索它们如何影响损坏的可能性和动物的大小。
- en: 'Start by duplicating the **Predict Damage** page and renaming the copied version
    to **Predict Damage Key Influencers**. By adding a duplicate page, you preserve
    the filters in the **Filter** panel. Delete all of the visuals on the page. In
    the **Visualizations** pane, add the **Key influencers** visual to the page. Now
    follow these steps:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，复制**预测损坏**页面，并将复制的版本重命名为**预测损坏关键影响因素**。通过添加一个副本页面，您保留了**筛选器**面板中的筛选器。删除页面上的所有视觉元素。在**可视化**面板中，将**关键影响因素**视觉添加到页面。现在按照以下步骤操作：
- en: With the **Key influencers** visual highlighted, add the **Indicated Damage**
    field to **Analyze**.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当**关键影响因素**视觉突出显示时，将**指示损坏**字段添加到**分析**中。
- en: Add the **Phase of Flight**, **Precipitation**, **Sky**, and **Effect on Flight**
    fields to **Explain by**.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**飞行阶段**、**降水**、**天空**和**对飞行的影响**字段添加到**解释**中。
- en: Set the selection at the top of the visual for `True`.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将视觉上方的选择设置为`True`。
- en: 'You notice that many different selections from those fields appear to correlate
    with damage and that the filter context is maintained:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 您会注意到许多来自这些字段的选项似乎与损坏相关，并且过滤器上下文得到保持：
- en: '![Figure 5.14 – Different field selections correlate to an outcome of damage](img/B19500_05_014.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![图5.14 – 不同字段选择与损坏结果相关](img/B19500_05_014.jpg)'
- en: Figure 5.14 – Different field selections correlate to an outcome of damage
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.14 – 不同字段选择与损坏结果相关
- en: You can even add additional filters to the page, and the filter selections will
    result in a recalculated key influencers visual. You can take a deep dive into
    the data and relationships between different features.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 您甚至可以向页面添加额外的过滤器，并且过滤器选择将导致重新计算的关键影响因素视觉。您可以深入了解数据以及不同特征之间的关系。
- en: 'As a result of feature discovery, you will be adding the following features
    to the ML queries:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 由于特征发现，您将以下功能添加到机器学习查询中：
- en: '| **Feature** | **Predict Damage** | **Predict Size** | **Predict Height**
    |'
  id: totrans-104
  prefs: []
  type: TYPE_TB
  zh: '| **特征** | **预测损坏** | **预测大小** | **预测高度** |'
- en: '| Number Struck | Yes | Yes | Yes |'
  id: totrans-105
  prefs: []
  type: TYPE_TB
  zh: '| 被击中数量 | 是 | 是 | 是 |'
- en: '| Aircraft Mass Code | Yes | Yes | Yes |'
  id: totrans-106
  prefs: []
  type: TYPE_TB
  zh: '| 飞机质量代码 | 是 | 是 | 是 |'
- en: '| Month Num | Yes | Already there | Yes |'
  id: totrans-107
  prefs: []
  type: TYPE_TB
  zh: '| 月份编号 | 是 | 已存在 | 是 |'
- en: '| Number of Engines | Yes | Yes | Yes |'
  id: totrans-108
  prefs: []
  type: TYPE_TB
  zh: '| 发动机数量 | 是 | 是 | 是 |'
- en: '| Number of Engines Struck | Yes | Yes | Yes |'
  id: totrans-109
  prefs: []
  type: TYPE_TB
  zh: '| 被击中发动机数量 | 是 | 是 | 是 |'
- en: '| Percentage of Engines Struck | Yes | Yes | Yes |'
  id: totrans-110
  prefs: []
  type: TYPE_TB
  zh: '| 被击中发动机百分比 | 是 | 是 | 是 |'
- en: '| Number of Engines Ingested | Yes | Yes | Yes |'
  id: totrans-111
  prefs: []
  type: TYPE_TB
  zh: '| 吞入发动机数量 | 是 | 是 | 是 |'
- en: '| Percentage of Engines Ingested | Yes | Yes | Yes |'
  id: totrans-112
  prefs: []
  type: TYPE_TB
  zh: '| 吞入发动机百分比 | 是 | 是 | 是 |'
- en: '| Number of Engines Damaged | No | Yes | Yes |'
  id: totrans-113
  prefs: []
  type: TYPE_TB
  zh: '| 损坏发动机数量 | 否 | 是 | 是 |'
- en: '| Percentage of Engines Damaged | No | Yes | Yes |'
  id: totrans-114
  prefs: []
  type: TYPE_TB
  zh: '| 发动机损坏百分比 | 否 | 是 | 是 |'
- en: '| Phase of Flight | Yes | Yes | Yes |'
  id: totrans-115
  prefs: []
  type: TYPE_TB
  zh: '| 飞行阶段 | 是 | 是 | 是 |'
- en: '| Precipitation | Yes | Yes | Yes |'
  id: totrans-116
  prefs: []
  type: TYPE_TB
  zh: '| 降水 | 是 | 是 | 是 |'
- en: '| Sky | Yes | Yes | Yes |'
  id: totrans-117
  prefs: []
  type: TYPE_TB
  zh: '| 天空 | 是 | 是 | 是 |'
- en: '| Effect on Flight | Yes | Yes | Yes |'
  id: totrans-118
  prefs: []
  type: TYPE_TB
  zh: '| 对飞行的影响 | 是 | 是 | 是 |'
- en: Figure 5.15 – Features to be added to the ML queries in Power Query
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.15 – 要添加到Power Query中机器学习查询的功能
- en: Having discovered many new features for your ML queries, you can now add them
    to Power Query!
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 在发现了许多新的机器学习查询功能之后，您现在可以将它们添加到Power Query中！
- en: Adding new features to the ML queries in Power Query
  id: totrans-121
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 向Power Query中的机器学习查询添加新功能
- en: Back in Power Query, you will now add the new features that were discussed in
    this chapter to the ML queries. Looking through the list, `Date.Month([Incident
    Date])` M code for a custom column.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 在Power Query中，您现在将添加本章讨论的新功能到机器学习查询中。查看列表，`Date.Month([Incident Date])` M代码用于自定义列。
- en: 'Starting with Predict Damage highlighted in the group ML queries, follow these
    steps:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 从突出显示在组机器学习查询中的**预测损坏**开始，按照以下步骤操作：
- en: Double-click on **Remove Other Columns** under **Applied Steps**.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**应用步骤**下双击**移除其他列**。
- en: Add each of the features in the table shown in *Figure 5**.16* (including **Incident
    Date** to be converted into **Month Num**).
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**图5**.16中显示的表格中的每个功能都要添加。16*（包括需要转换为**月份编号**的**事故日期**）。
- en: 'Your screen should look like this:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 您的屏幕应该看起来像这样：
- en: '![Figure 5.16 – Select the columns to be added to the ML query](img/B19500_05_016.jpg)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![图5.16 – 选择要添加到机器学习查询的列](img/B19500_05_016.jpg)'
- en: Figure 5.16 – Select the columns to be added to the ML query
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.16 – 选择要添加到机器学习查询的列
- en: Click **OK**.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**确定**。
- en: '`empty`.'
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`empty`。'
- en: After adding a new column for **Month Num**, you can remove the **Incident**
    **Date** column.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在添加新的**月份编号**列之后，您可以删除**事故** **日期**列。
- en: Repeat these steps for the **Predict Size** and **Predict Height** ML queries
    and the new features in *Figure 5**.16*. Your ML queries are now becoming much
    more robust with data that you have reason to believe may provide predictive value
    when used with Power BI ML.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 重复这些步骤为**预测大小**和**预测高度**机器学习查询以及**图5**.16中的新功能。现在，您的机器学习查询正在变得更具鲁棒性，因为您有理由相信这些数据与Power
    BI ML结合使用时可能具有预测价值。
- en: Summary
  id: totrans-133
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you discovered new features and added them to pages of your
    Power BI report. You also used the Power BI key influencers visual to explore
    the FAA Wildlife Strike data to find interesting correlations. You then added
    the new features to your **Predict Damage**, **Predict Size**, and **Predict Height**
    ML queries. Finally, you ensured that the ML queries were cleaned up and ready
    for Power BI ML.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你发现了新的功能并将它们添加到了你的 Power BI 报告的页面中。你还使用了 Power BI 的关键影响因素视觉工具来探索 FAA 野生动物撞击数据，以寻找有趣的关联。然后，你将这些新功能添加到了你的
    **预测损害**、**预测大小** 和 **预测高度** 机器学习查询中。最后，你确保了机器学习查询已经清理完毕，并准备好用于 Power BI 机器学习。
- en: In the next chapter, you will continue to explore the FAA Wildlife Strike data
    using different types of capabilities in Power BI such as R and Python visuals.
    Newly discovered features will then be added to your ML queries as you finish
    them up and prepare to graduate to the Power BI cloud service.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，你将继续使用 Power BI 中的不同类型功能，如 R 和 Python 视觉工具，来探索 FAA 野生动物撞击数据。在你完成它们并准备迁移到
    Power BI 云服务时，新发现的功能将被添加到你的机器学习查询中。
