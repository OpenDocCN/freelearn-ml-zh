- en: '*Appendix*'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*附录*'
- en: About
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 关于
- en: This section is included to assist the students to perform the activities present
    in the book. It includes detailed steps that are to be performed by the students
    to complete and achieve the objectives of the book.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本节内容旨在帮助学生完成书中列出的活动。它包括学生需要执行的详细步骤，以完成并实现书中的目标。
- en: 'Chapter 1: Introduction to Clustering'
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 1 章：聚类介绍
- en: 'Activity 1: Implementing k-means Clustering'
  id: totrans-4
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 1：实现 k-means 聚类
- en: 'Solution:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Load the Iris data file using pandas, a package that makes data wrangling much
    easier through the use of DataFrames:'
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 pandas 加载 Iris 数据文件，pandas 是一个通过使用 DataFrame 使数据处理变得更加容易的包：
- en: '[PRE0]'
  id: totrans-7
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Separate out the `X` features and the provided `y` species labels, since we
    want to treat this as an unsupervised learning problem:'
  id: totrans-8
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `X` 特征和提供的 `y` 物种标签分开，因为我们希望将其视为无监督学习问题：
- en: '[PRE1]'
  id: totrans-9
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Get an idea of what our features look like:'
  id: totrans-10
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 了解我们的特征是什么样的：
- en: '[PRE2]'
  id: totrans-11
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The output is as follows:'
  id: totrans-12
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 1.22: First five rows of the data'
  id: totrans-13
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 1.22：数据的前五行'
- en: '](img/C12626_01_22.jpg)'
  id: totrans-14
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_01_22.jpg)'
- en: 'Figure 1.22: First five rows of the data'
  id: totrans-15
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1.22：数据的前五行
- en: 'Bring back the `k_means` function we made earlier for reference:'
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将我们之前创建的 `k_means` 函数拿出来参考：
- en: '[PRE3]'
  id: totrans-17
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Convert our Iris `X` feature DataFrame to a `NumPy` matrix:'
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将我们的 Iris `X` 特征 DataFrame 转换为 `NumPy` 矩阵：
- en: '[PRE4]'
  id: totrans-19
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Run our `k_means` function on the Iris matrix:'
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在鸢尾矩阵上运行我们的 `k_means` 函数：
- en: '[PRE5]'
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'See what labels we get by looking at just the list of predicted species per
    sample:'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看我们通过查看每个样本的预测物种列表得到的标签：
- en: '[PRE6]'
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'The output is as follows:'
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 1.23: List of predicted species'
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 1.23：预测物种列表'
- en: '](img/C12626_01_23.jpg)'
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_01_23.jpg)'
- en: 'Figure 1.23: List of predicted species'
  id: totrans-27
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1.23：预测物种列表
- en: 'Visualize how our k-means implementation performed on the dataset:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可视化我们在数据集上实现的 k-means 方法：
- en: '[PRE7]'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'The output is as follows:'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 1.24: Plot of performed k-means implementation'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 1.24：执行的 k-means 实现的图'
- en: '](img/C12626_01_24.jpg)'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_01_24.jpg)'
- en: 'Figure 1.24: Plot of performed k-means implementation'
  id: totrans-33
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1.24：执行的 k-means 实现的图
- en: 'Visualize the clusters of Iris species as follows:'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如下所示可视化鸢尾物种的簇：
- en: '[PRE8]'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The output is as follows:'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 1.25: Clusters of Iris species'
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 1.25：鸢尾物种的簇'
- en: '](img/C12626_01_25.jpg)'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_01_25.jpg)'
- en: 'Figure 1.25: Clusters of Iris species'
  id: totrans-39
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 1.25：鸢尾物种的簇
- en: 'Calculate the Silhouette Score using scikit-learn implementation:'
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 scikit-learn 实现计算轮廓系数（Silhouette Score）：
- en: '[PRE9]'
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: You will get an SSI roughly equal to 0.369\. Since we are only using two features,
    this is acceptable, combined with the visualization of cluster memberships seen
    in the final plot.
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你将得到一个大约等于 0.369 的 SSI。由于我们只使用了两个特征，这是可以接受的，结合最终图中展示的聚类成员可视化。
- en: 'Chapter 2: Hierarchical Clustering'
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 2 章：层次聚类
- en: 'Activity 2: Applying Linkage Criteria'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 活动 2：应用连接标准
- en: 'Solution:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Visualize the `x` dataset that we created in *Exercise 7*, *Building a Hierarchy*:'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可视化我们在 *练习 7* 中创建的 `x` 数据集，*构建层次结构*：
- en: '[PRE10]'
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'The output is as follows:'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 2.20: A scatter plot of the generated cluster dataset'
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 2.20：生成的簇数据集的散点图'
- en: '](img/C12626_02_20.jpg)'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_02_20.jpg)'
- en: 'Figure 2.20: A scatter plot of the generated cluster dataset'
  id: totrans-51
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2.20：生成的簇数据集的散点图
- en: 'Create a list with all the possible linkage method hyperparameters:'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个包含所有可能连接方法超参数的列表：
- en: '[PRE11]'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Loop through each of the methods in the list that you just created and display
    the effect that they have on the same dataset:'
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 遍历你刚才创建的列表中的每种方法，展示它们在同一数据集上的效果：
- en: '[PRE12]'
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'The output is as follows:'
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 2.21: A scatter plot for all the methods'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.21：所有方法的散点图'
- en: '](img/C12626_02_21.jpg)'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_02_21.jpg)'
- en: 'Figure 2.21: A scatter plot for all the methods'
  id: totrans-59
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2.21：所有方法的散点图
- en: 'Analysis:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 分析：
- en: As you can see from the preceding plots, by simply changing the linkage criteria,
    you can dramatically change the efficacy of your clustering. In this dataset,
    centroid and average linkage work best at finding discrete clusters that make
    sense. This is clear from the fact that we generated a dataset of eight clusters,
    and centroid and average linkage are the only ones that show the clusters that
    are represented using eight different colors. The other linkage types fall short
    – most noticeably, single linkage.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 从前面的图中可以看出，通过简单地更改连接标准，可以显著改变聚类的效果。在这个数据集中，质心法和平均法最适合找到合理的离散簇。这一点从我们生成的八个簇的事实中可以看出，质心法和平均法是唯一显示出使用八种不同颜色表示的簇的算法。其他连接类型则表现不佳，尤其是单链接法。
- en: 'Activity 3: Comparing k-means with Hierarchical Clustering'
  id: totrans-62
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 3：比较 k-means 与层次聚类
- en: 'Solution:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Import the necessary packages from scikit-learn (`KMeans`, `AgglomerativeClustering`,
    and `silhouette_score`), as follows:'
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 scikit-learn 导入必要的包（`KMeans`、`AgglomerativeClustering` 和 `silhouette_score`），如下所示：
- en: '[PRE13]'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Read the wine dataset into the pandas DataFrame and print a small sample:'
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将葡萄酒数据集读入 pandas DataFrame 并打印一个小样本：
- en: '[PRE14]'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'The output is as follows:'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.22: The output of the wine dataset'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 2.22：葡萄酒数据集的输出'
- en: '](img/C12626_02_22.jpg)'
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_02_22.jpg)'
- en: 'Figure 2.22: The output of the wine dataset'
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2.22：葡萄酒数据集的输出
- en: 'Visualize the wine dataset to understand the data structure:'
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可视化葡萄酒数据集以理解数据结构：
- en: '[PRE15]'
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'The output is as follows:'
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.23: A plot of raw wine data'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 2.23：原始葡萄酒数据的聚类图'
- en: '](img/C12626_02_23.jpg)'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_02_23.jpg)'
- en: 'Figure 2.23: A plot of raw wine data'
  id: totrans-77
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2.23：原始葡萄酒数据的聚类图
- en: 'Use the sklearn implementation of k-means on the wine dataset, knowing that
    there are three wine types:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在葡萄酒数据集上使用 sklearn 实现的 k-means，已知有三种葡萄酒类型：
- en: '[PRE16]'
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Use the sklearn implementation of hierarchical clustering on the wine dataset:'
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 sklearn 实现的层次聚类对葡萄酒数据集进行处理：
- en: '[PRE17]'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Plot the predicted clusters from k-means, as follows:'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如下所示，绘制 k-means 预测的聚类：
- en: '[PRE18]'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'The output is as follows:'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.24: A plot of clusters from k-means clustering'
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 2.24：k-means 聚类的聚类图'
- en: '](img/C12626_02_24.jpg)'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_02_24.jpg)'
- en: 'Figure 2.24: A plot of clusters from k-means clustering'
  id: totrans-87
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2.24：k-means 聚类的聚类图
- en: 'Plot the predicted clusters from hierarchical clustering, as follows:'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如下所示，绘制层次聚类预测的聚类：
- en: '[PRE19]'
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'The output is as follows:'
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.25: A plot of clusters from agglomerative clustering'
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 2.25：凝聚聚类的聚类图'
- en: '](img/C12626_02_25.jpg)'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_02_25.jpg)'
- en: 'Figure 2.25: A plot of clusters from agglomerative clustering'
  id: totrans-93
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2.25：凝聚聚类的聚类图
- en: 'Compare the silhouette score of each clustering method:'
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 比较每种聚类方法的轮廓得分：
- en: '[PRE20]'
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'The output will be as follows:'
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 2.26: Silhouette scores for the wine dataset'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 2.26：葡萄酒数据集的轮廓得分'
- en: '](img/C12626_02_26.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_02_26.jpg)'
- en: 'Figure 2.26: Silhouette scores for the wine dataset'
  id: totrans-99
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2.26：葡萄酒数据集的轮廓得分
- en: As you can see from the preceding silhouette metric, agglomerative clustering
    narrowly beats k-means clustering when it comes to separating the clusters by
    mean intra-cluster distance. This is not the case for every version of agglomerative
    clustering, however. Instead, try different linkage types and examine how the
    silhouette score and clustering changes between each!
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 从之前的轮廓得分可以看出，凝聚聚类在分离聚类时，平均簇内距离上略微优于 k-means 聚类。然而，并非所有版本的凝聚聚类都有这个效果。你可以尝试不同的连接类型，观察不同轮廓得分和聚类结果如何变化！
- en: 'Chapter 3: Neighborhood Approaches and DBSCAN'
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 3 章：邻域方法与 DBSCAN
- en: 'Activity 4: Implement DBSCAN from Scratch'
  id: totrans-102
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 4：从零实现 DBSCAN
- en: 'Solution:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Generate a random cluster dataset as follows:'
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 生成一个随机的聚类数据集，如下所示：
- en: '[PRE21]'
  id: totrans-105
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Visualize the generated data:'
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可视化生成的数据：
- en: '[PRE22]'
  id: totrans-107
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'The output is as follows:'
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 3.14: Plot of generated data'
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 3.14：生成数据的聚类图'
- en: '](img/C12626_03_14.jpg)'
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_03_14.jpg)'
- en: 'Figure 3.14: Plot of generated data'
  id: totrans-111
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3.14：生成数据的聚类图
- en: 'Create functions from scratch that allow you to call DBSCAN on a dataset:'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建从零开始的函数，允许你在数据集上调用 DBSCAN：
- en: '[PRE23]'
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Use your created DBSCAN implementation to find clusters in the generated dataset.
    Feel free to use hyperparameters as you see fit, tuning them based on their performance
    in step five:'
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用你创建的 DBSCAN 实现，在生成的数据集中查找聚类。根据第五步中的性能，随意调整超参数：
- en: '[PRE24]'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Visualize the clustering performance of your DBSCAN implementation from scratch:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从零开始可视化你实现的 DBSCAN 聚类性能：
- en: '[PRE25]'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'The output is as follows:'
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 3.15: Plot of DBSCAN implementation'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.15：DBSCAN 实现的聚类图'
- en: '](img/C12626_03_15.jpg)'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_03_15.jpg)'
- en: 'Figure 3.15: Plot of DBSCAN implementation'
  id: totrans-121
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3.15：DBSCAN 实现的聚类图
- en: As you may have noticed, it takes quite some time for a custom implementation
    to run. This is because we explored the non-vectorized version of this algorithm
    for the sake of clarity. Moving forward, you should aim to use the DBSCAN implementation
    provided by scikit-learn, as it is highly optimized.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你可能注意到的，定制实现的运行时间相对较长。这是因为为了清晰起见，我们探索了该算法的非矢量化版本。接下来，你应该尽量使用 scikit-learn
    提供的 DBSCAN 实现，因为它经过高度优化。
- en: 'Activity 5: Comparing DBSCAN with k-means and Hierarchical Clustering'
  id: totrans-123
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 5：比较 DBSCAN 与 k-means 和层次聚类
- en: 'Solution:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Import the necessary packages:'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入必要的包：
- en: '[PRE26]'
  id: totrans-126
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Load the wine dataset from *Chapter 2*, *Hierarchical Clustering* and familiarize
    yourself again with what the data looks like:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从*第2章* *Hierarchical Clustering*加载葡萄酒数据集，并再次熟悉数据的外观：
- en: '[PRE27]'
  id: totrans-128
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'The output is as follows:'
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 3.16: First five rows of wine dataset'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 3.16: 葡萄酒数据集的前五行'
- en: '](img/C12626_03_16.jpg)'
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_03_16.jpg)'
- en: 'Figure 3.16: First five rows of wine dataset'
  id: totrans-132
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 3.16: 葡萄酒数据集的前五行'
- en: 'Visualize the data:'
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可视化数据：
- en: '[PRE28]'
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'The output is as follows:'
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 3.17: Plot of the data'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 3.17: 数据的图'
- en: '](img/C12626_03_17.jpg)'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_03_17.jpg)'
- en: 'Figure 3.17: Plot of the data'
  id: totrans-138
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 3.17: 数据的图'
- en: 'Generate clusters using k-means, agglomerative clustering, and DBSCAN:'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用k-means、凝聚聚类和DBSCAN生成聚类：
- en: '[PRE29]'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Evaluate a few different options for DSBSCAN hyperparameters and their effect
    on the silhouette score:'
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 评估DSBSCAN超参数的几个不同选项及其对轮廓分数的影响：
- en: '[PRE30]'
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'The output is as follows:'
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 3.18: Printing the silhouette score for clusters'
  id: totrans-144
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 3.18: 打印聚类的轮廓分数'
- en: '](img/C12626_03_18.jpg)'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_03_18.jpg)'
- en: 'Figure 3.18: Printing the silhouette score for clusters'
  id: totrans-146
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 3.18: 打印聚类的轮廓分数'
- en: 'Generate the final clusters based on the highest silhouette score (`eps`: 35,
    `min_samples`: 3):'
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '根据最高轮廓分数生成最终聚类 (`eps`: 35, `min_samples`: 3)：'
- en: '[PRE31]'
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Visualize clusters generated using each of the three methods:'
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可视化使用三种方法生成的聚类：
- en: '[PRE32]'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'The output is as follows:'
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 3.19: Plot of clusters using different algorithms'
  id: totrans-152
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 3.19: 使用不同算法绘制聚类图'
- en: '](img/C12626_03_19.jpg)'
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_03_19.jpg)'
- en: 'Figure 3.19: Plot of clusters using different algorithms'
  id: totrans-154
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 3.19: 使用不同算法绘制聚类图'
- en: 'Evaluate the silhouette score of each approach:'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 评估每种方法的轮廓分数：
- en: '[PRE33]'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'The output is as follows:'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 3.20: Silhouette score'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.20: Silhouette分数'
- en: '](img/C12626_03_20.jpg)'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_03_20.jpg)'
- en: 'Figure 3.20: Silhouette score'
  id: totrans-160
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 3.20: Silhouette分数'
- en: As you can see, DBSCAN isn't automatically the best choice for your clustering
    needs. One key trait that makes it different form other algorithms is the use
    of noise as a potential clustering. In some cases, this is great, as it removes
    outliers, however, there may be situations where it is not tuned well enough and
    classifies too many points as noise. Can you improve the silhouette score by tuning
    the hyperparameters?
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，DBSCAN并不总是自动适合您的聚类需求。使其与其他算法不同的一个关键特征是将噪声用作潜在聚类。在某些情况下，这很好，因为它可以去除离群值，但是，可能存在调整不足的情况，会将太多点分类为噪声。您能通过调整超参数来提高轮廓分数吗？
- en: 'Chapter 4: Dimension Reduction and PCA'
  id: totrans-162
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '第4章: 维度缩减和PCA'
- en: 'Activity 6: Manual PCA versus scikit-learn'
  id: totrans-163
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '活动 6: 手动PCA与scikit-learn对比'
- en: Solution
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案
- en: 'Import the `pandas`, `numpy`, and `matplotlib` plotting libraries and the scikit-learn
    `PCA` model:'
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入 `pandas`、`numpy` 和 `matplotlib` 绘图库以及 scikit-learn 的 `PCA` 模型：
- en: '[PRE34]'
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'Load the dataset and select only the sepal features as per the previous exercises.
    Display the first five rows of the data:'
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载数据集，并根据以前的练习选择仅选择萼片特征。显示数据的前五行：
- en: '[PRE35]'
  id: totrans-168
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'The output is as follows:'
  id: totrans-169
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.43: The first five rows of the data'
  id: totrans-170
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 4.43: 数据的前五行'
- en: '](img/C12626_04_43.jpg)'
  id: totrans-171
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_04_43.jpg)'
- en: 'Figure 4.43: The first five rows of the data'
  id: totrans-172
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 4.43: 数据的前五行'
- en: 'Compute the `covariance` matrix for the data:'
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算数据的协方差矩阵：
- en: '[PRE36]'
  id: totrans-174
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'The output is as follows:'
  id: totrans-175
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.44: The covariance matrix for the data'
  id: totrans-176
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 4.44: 数据的协方差矩阵'
- en: '](img/C12626_04_44.jpg)'
  id: totrans-177
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_04_44.jpg)'
- en: 'Figure 4.44: The covariance matrix for the data'
  id: totrans-178
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 4.44: 数据的协方差矩阵'
- en: 'Transform the data using the scikit-learn API and only the first principal
    component. Store the transformed data in the `sklearn_pca` variable:'
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用scikit-learn API转换数据，仅使用第一个主成分。将转换后的数据存储在 `sklearn_pca` 变量中：
- en: '[PRE37]'
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE37]'
- en: Transform the data using the manual PCA and only the first principal component.
    Store the transformed data in the `manual_pca` variable.
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用手动PCA仅使用第一个主成分来转换数据。将转换后的数据存储在 `manual_pca` 变量中。
- en: '[PRE38]'
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Plot the `sklearn_pca` and `manual_pca` values on the same plot to visualize
    the difference:'
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在同一图上绘制 `sklearn_pca` 和 `manual_pca` 的值以可视化差异：
- en: '[PRE39]'
  id: totrans-184
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'The output is as follows:'
  id: totrans-185
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.45: A plot of the data'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 4.45: 数据的图'
- en: '](img/C12626_04_45.jpg)'
  id: totrans-187
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_04_45.jpg)'
- en: 'Figure 4.45: A plot of the data'
  id: totrans-188
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 4.45: 数据的图'
- en: 'Notice that the two plots look almost identical, except that one is a mirror
    image of another and there is an offset between the two. Display the components
    of the `sklearn_pca` and `manual_pca` models:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请注意，两个图几乎完全相同，唯一的区别是一个是另一个的镜像，且两者之间存在偏移。显示`sklearn_pca`和`manual_pca`模型的主成分：
- en: '[PRE40]'
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'The output is as follows:'
  id: totrans-191
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE41]'
  id: totrans-192
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'Now print `P`:'
  id: totrans-193
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在打印`P`：
- en: '[PRE42]'
  id: totrans-194
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'The output is as follows:'
  id: totrans-195
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE43]'
  id: totrans-196
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE43]'
- en: Notice the difference in the signs; the values are identical, but the signs
    are different, producing the mirror image result. This is just a difference in
    convention, nothing meaningful.
  id: totrans-197
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意符号的差异；值是相同的，但符号不同，产生了镜像的结果。这只是约定上的差异，并无实质意义。
- en: 'Multiply the `manual_pca` models by `-1` and re-plot:'
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`manual_pca`模型乘以`-1`并重新绘制：
- en: '[PRE44]'
  id: totrans-199
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'The output is as follows:'
  id: totrans-200
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.46: Re-plotted data'
  id: totrans-201
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 4.46: 重新绘制的数据'
- en: '](img/C12626_04_46.jpg)'
  id: totrans-202
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_04_46.jpg)'
- en: 'Figure 4.46: Re-plotted data'
  id: totrans-203
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 4.46: 重新绘制的数据'
- en: 'Now, all we need to do is deal with the offset between the two. The scikit-learn
    API subtracts the mean of the data prior to the transform. Subtract the mean of
    each column from the dataset before completing the transform with manual PCA:'
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们需要做的就是处理两个之间的偏移。scikit-learn API 在变换之前会减去数据的均值。在使用手动PCA进行变换之前，从数据集中减去每列的均值：
- en: '[PRE45]'
  id: totrans-205
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'Multiply the result by `-1`:'
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将结果乘以`-1`：
- en: '[PRE46]'
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'Re-plot the individual `sklearn_pca` and `manual_pca` values:'
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新绘制单独的`sklearn_pca`和`manual_pca`值：
- en: '[PRE47]'
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'The output is as follows:'
  id: totrans-210
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.47: Re-plotting the data'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 4.47: 重新绘制的数据'
- en: '](img/C12626_04_47.jpg)'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_04_47.jpg)'
- en: 'Figure 4.47: Re-plotting the data'
  id: totrans-213
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 4.47: 重新绘制数据'
- en: The final plot will demonstrate that the dimensionality reduction completed
    by the two methods are, in fact, the same. The differences lie in the differences
    in the signs of the `covariance` matrices, as the two methods simply use a different
    feature as the baseline for comparison. Finally, there is also an offset between
    the two datasets, which is attributed to the mean samples being subtracted before
    executing the transform in the scikit-learn PCA.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 最终的图将展示通过这两种方法完成的降维实际上是相同的。不同之处在于`协方差`矩阵的符号差异，因为这两种方法只是使用了不同的特征作为比较的基准。最后，两数据集之间也存在偏移，这是由于在执行
    scikit-learn PCA 变换之前已将均值样本减去。
- en: 'Activity 7: PCA Using the Expanded Iris Dataset'
  id: totrans-215
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '活动 7: 使用扩展的鸢尾花数据集进行主成分分析（PCA）'
- en: 'Solution:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Import `pandas` and `matplotlib`. To enable 3D plotting, you will also need
    to import `Axes3D`:'
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入`pandas`和`matplotlib`。为了启用 3D 绘图，您还需要导入`Axes3D`：
- en: '[PRE48]'
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'Read in the dataset and select the columns `Sepal Length`, `Sepal Width`, and
    `Petal Width`:'
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 读取数据集并选择`花萼长度`、`花萼宽度`和`花瓣宽度`列：
- en: '[PRE49]'
  id: totrans-220
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'The output is as follows:'
  id: totrans-221
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.48: Sepal Length, Sepal Width, and Petal Width'
  id: totrans-222
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 4.48: 花萼长度、花萼宽度和花瓣宽度'
- en: '](img/C12626_04_48.jpg)'
  id: totrans-223
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_04_48.jpg)'
- en: 'Figure 4.48: Sepal Length, Sepal Width, and Petal Width'
  id: totrans-224
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 4.48: 花萼长度、花萼宽度和花瓣宽度'
- en: 'Plot the data in three dimensions:'
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制三维数据：
- en: '[PRE50]'
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'The output is as follows:'
  id: totrans-227
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.49: Expanded Iris dataset plot'
  id: totrans-228
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 4.49: 扩展的鸢尾花数据集图'
- en: '](img/C12626_04_49.jpg)'
  id: totrans-229
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_04_49.jpg)'
- en: 'Figure 4.49: Expanded Iris dataset plot'
  id: totrans-230
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 4.49: 扩展的鸢尾花数据集图'
- en: 'Create a `PCA` model without specifying the number of components:'
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个`PCA`模型，不指定主成分数：
- en: '[PRE51]'
  id: totrans-232
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'Fit the model to the dataset:'
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将模型拟合到数据集：
- en: '[PRE52]'
  id: totrans-234
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'The output is as follows:'
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.50: The model fitted to the dataset'
  id: totrans-236
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 4.50: 拟合到数据集的模型'
- en: '](img/C12626_04_50.jpg)'
  id: totrans-237
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_04_50.jpg)'
- en: 'Figure 4.50: The model fitted to the dataset'
  id: totrans-238
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 4.50: 拟合到数据集的模型'
- en: 'Display the eigenvalues or `explained_variance_ratio_`:'
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 显示特征值或`explained_variance_ratio_`：
- en: '[PRE53]'
  id: totrans-240
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'The output is as follows:'
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE54]'
  id: totrans-242
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE54]'
- en: We want to reduce the dimensionality of the dataset, but still keep at least
    90% of the variance. What are the minimum number of components required to keep
    90% of the variance?
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们希望减少数据集的维度，但仍保持至少 90% 的方差。为了保持 90% 的方差，所需的最小主成分数是多少？
- en: The first two components are required for at least 90% variance. The first two
    components provide 94.7% of the variance within the dataset.
  id: totrans-244
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 前两个主成分需要至少 90% 的方差。前两个主成分提供了数据集中 94.7% 的方差。
- en: 'Create a new `PCA` model, this time specifying the number of components required
    to keep at least 90% of the variance:'
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新的`PCA`模型，这次指定所需的主成分数，以保持至少 90% 的方差：
- en: '[PRE55]'
  id: totrans-246
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'Transform the data using the new model:'
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用新模型转换数据：
- en: '[PRE56]'
  id: totrans-248
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'Plot the transformed data:'
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制转换后的数据：
- en: '[PRE57]'
  id: totrans-250
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'The output is as follows:'
  id: totrans-251
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.51: Plot of the transformed data'
  id: totrans-252
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 4.51: 转换数据的图'
- en: '](img/C12626_04_51.jpg)'
  id: totrans-253
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_04_51.jpg)'
- en: 'Figure 4.51: Plot of the transformed data'
  id: totrans-254
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图4.51：转换数据的图
- en: 'Restore the transformed data to the original dataspace:'
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将转换后的数据恢复到原始数据空间：
- en: '[PRE58]'
  id: totrans-256
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'Plot the restored data in three dimensions in one subplot and the original
    data in a second subplot to visualize the effect of removing some of the variance:'
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在一个子图中绘制恢复后的三维数据，在第二个子图中绘制原始数据，以可视化去除部分方差的效果：
- en: '[PRE59]'
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'The output is as follows:'
  id: totrans-259
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 4.52: Plot of the expanded and the restored Iris datasets'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '![图4.52：扩展和恢复后的鸢尾花数据集图'
- en: '](img/C12626_04_52.jpg)'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_04_52.jpg)'
- en: 'Figure 4.52: Plot of the expanded and the restored Iris datasets'
  id: totrans-262
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图4.52：扩展和恢复后的鸢尾花数据集图
- en: Looking at *Figure 4.52*, we can see that, as we did with the 2D plots, we have
    removed much of the noise within the data, but retained the most important information
    regarding the trends within the data. It can be seen that in general, the sepal
    length increases with the petal width and that there seems to be two clusters
    of data within the plots, one sitting above the other.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 看看*图4.52*，我们可以看到，就像我们在二维图中做的那样，我们已经去除了数据中的大量噪声，但保留了关于数据趋势的最重要信息。可以看出，通常情况下，花萼长度与花瓣宽度成正比，并且在图中似乎有两个数据簇，一个在另一个上方。
- en: Note
  id: totrans-264
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 注意
- en: When applying PCA, it is important to keep in mind the size of the data being
    modelled, as well as the available system memory. The singular value decomposition
    process involves separating the data into the eigenvalues and eigenvectors, and
    can be quite memory intensive. If the dataset is too large, you may either be
    unable to complete the process, suffer significant performance loss, or lock up
    your system.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 在应用PCA时，重要的是要考虑所建模数据的大小以及可用的系统内存。奇异值分解过程涉及将数据分解为特征值和特征向量，且可能非常占用内存。如果数据集过大，你可能无法完成该过程，或者会遭遇显著的性能损失，甚至可能导致系统崩溃。
- en: 'Chapter 5: Autoencoders'
  id: totrans-266
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第5章：自编码器
- en: 'Activity 8: Modeling Neurons with a ReLU Activation Function'
  id: totrans-267
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动8：使用ReLU激活函数建模神经元
- en: 'Solution:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Import `numpy` and matplotlib:'
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入`numpy`和matplotlib：
- en: '[PRE60]'
  id: totrans-270
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE60]'
- en: 'Allow latex symbols to be used in labels:'
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 允许在标签中使用latex符号：
- en: '[PRE61]'
  id: totrans-272
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'Define the ReLU activation function as a Python function:'
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将ReLU激活函数定义为Python函数：
- en: '[PRE62]'
  id: totrans-274
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'Define the inputs (`x`) and tunable weights (`theta`) for the neuron. In this
    example, the inputs (`x`) will be 100 numbers linearly spaced between -5 and 5\.
    Set `theta = 1`:'
  id: totrans-275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义神经元的输入（`x`）和可调权重（`theta`）。在此示例中，输入（`x`）将是-5到5之间线性间隔的100个数字。设置`theta = 1`：
- en: '[PRE63]'
  id: totrans-276
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'The output is as follows:'
  id: totrans-277
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 5.35: Printing the inputs'
  id: totrans-278
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图5.35：打印输入'
- en: '](img/C12626_05_35.jpg)'
  id: totrans-279
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_05_35.jpg)'
- en: 'Figure 5.35: Printing the inputs'
  id: totrans-280
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5.35：打印输入
- en: 'Compute the output (`y`):'
  id: totrans-281
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算输出（`y`）：
- en: '[PRE64]'
  id: totrans-282
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'Plot the output of the neuron versus the input:'
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制神经元的输出与输入的关系图：
- en: '[PRE65]'
  id: totrans-284
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'The output is as follows:'
  id: totrans-285
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 5.36: Plot of the neuron versus input'
  id: totrans-286
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图5.36：神经元与输入的关系图'
- en: '](img/C12626_05_36.jpg)'
  id: totrans-287
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_05_36.jpg)'
- en: 'Figure 5.36: Plot of the neuron versus input'
  id: totrans-288
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5.36：神经元与输入的关系图
- en: 'Now, set `theta = 5` and recompute and store the output of the neuron:'
  id: totrans-289
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将`theta = 5`并重新计算并存储神经元的输出：
- en: '[PRE66]'
  id: totrans-290
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'Now, set `theta = 0.2` and recompute and store the output of the neuron:'
  id: totrans-291
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将`theta = 0.2`并重新计算并存储神经元的输出：
- en: '[PRE67]'
  id: totrans-292
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'Plot the three different output curves of the neuron (`theta = 1`, `theta =
    5`, `theta = 0.2`) on one graph:'
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在一张图上绘制神经元的三条不同输出曲线（`theta = 1`，`theta = 5`，`theta = 0.2`）：
- en: '[PRE68]'
  id: totrans-294
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'The output is as follows:'
  id: totrans-295
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 5.37: Three output curves of the neuron'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.37：神经元的三条输出曲线'
- en: '](img/C12626_05_37.jpg)'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_05_37.jpg)'
- en: 'Figure 5.37: Three output curves of the neuron'
  id: totrans-298
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5.37：神经元的三条输出曲线
- en: In this activity, we created a model of a ReLU-based artificial neural network
    neuron. We can see that the output of this neuron is very different to the sigmoid
    activation function. There is no saturation region for values greater than 0 because
    it simply returns the input value of the function. In the negative direction,
    there is a saturation region where only 0 will be returned if the input is less
    than 0\. The ReLU function is an extremely powerful and commonly used activation
    function that has shown to be more powerful than the sigmoid function in some
    circumstances. ReLU is often a good first-choice activation function.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个活动中，我们创建了一个基于ReLU的人工神经网络神经元模型。我们可以看到，这个神经元的输出与sigmoid激活函数的输出非常不同。对于大于0的值，没有饱和区域，因为它仅返回函数的输入值。在负方向上，有一个饱和区域，如果输入小于0，则返回0。ReLU函数是一种非常强大且常用的激活函数，在某些情况下，它比sigmoid函数更强大。ReLU通常是一个很好的首选激活函数。
- en: 'Activity 9: MNIST Neural Network'
  id: totrans-300
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 9：MNIST 神经网络
- en: 'Solution:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'In this activity, you will train a neural network to identify images in the
    MNIST dataset and reinforce your skills in training neural networks:'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个活动中，您将训练一个神经网络来识别MNIST数据集中的图像，并强化您的神经网络训练技能：
- en: 'Import `pickle`, `numpy`, `matplotlib`, and the `Sequential` and `Dense` classes
    from Keras:'
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入`pickle`、`numpy`、`matplotlib`，以及从Keras中导入`Sequential`和`Dense`类：
- en: '[PRE69]'
  id: totrans-304
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'Load the `mnist.pkl` file, which contains the first 10,000 images and corresponding
    labels from the MNIST dataset that are available in the accompanying source code.
    The MNIST dataset is a series of 28 x 28 grayscale images of handwritten digits
    0 through 9\. Extract the images and labels:'
  id: totrans-305
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载`mnist.pkl`文件，其中包含来自MNIST数据集的前10,000张图像及其对应的标签，这些数据可以在随附的源代码中找到。MNIST数据集是一系列28
    x 28灰度图像，表示手写数字0到9。提取图像和标签：
- en: '[PRE70]'
  id: totrans-306
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'Plot the first 10 samples along with the corresponding labels:'
  id: totrans-307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制前10个样本及其对应的标签：
- en: '[PRE71]'
  id: totrans-308
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE71]'
- en: 'The output is as follows:'
  id: totrans-309
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 5.38: First 10 samples'
  id: totrans-310
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图5.38：前10个样本'
- en: '](img/C12626_05_38.jpg)'
  id: totrans-311
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_05_38.jpg)'
- en: 'Figure 5.38: First 10 samples'
  id: totrans-312
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5.38：前10个样本
- en: 'Encode the labels using one hot encoding:'
  id: totrans-313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用独热编码对标签进行编码：
- en: '[PRE72]'
  id: totrans-314
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE72]'
- en: 'The output is as follows:'
  id: totrans-315
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 5.39: Result of one hot encoding'
  id: totrans-316
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图5.39：独热编码结果'
- en: '](img/C12626_05_39.jpg)'
  id: totrans-317
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_05_39.jpg)'
- en: 'Figure 5.39: Result of one hot encoding'
  id: totrans-318
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5.39：独热编码结果
- en: 'Prepare the images for input into a neural network. As a hint, there are two
    separate steps in this process:'
  id: totrans-319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为神经网络输入准备图像。提示：此过程包含两个独立的步骤：
- en: '[PRE73]'
  id: totrans-320
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE73]'
- en: 'Construct a neural network model in Keras that accepts the prepared images,
    has a hidden layer of 600 units with a ReLU activation function, and an output
    of the same number of units as classes. The output layer uses a `softmax` activation
    function:'
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Keras中构建一个神经网络模型，该模型接受准备好的图像，包含一个具有600个单位的隐藏层，并使用ReLU激活函数，输出层的单元数与类别数相同。输出层使用`softmax`激活函数：
- en: '[PRE74]'
  id: totrans-322
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'Compile the model using multiclass cross-entropy, stochastic gradient descent,
    and an accuracy performance metric:'
  id: totrans-323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用多类交叉熵、随机梯度下降以及准确度作为性能指标来编译模型：
- en: '[PRE75]'
  id: totrans-324
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE75]'
- en: 'Train the model. How many epochs are required to achieve at least 95% classification
    accuracy on the training data? Let''s have a look:'
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 训练模型。需要多少个epoch才能在训练数据上达到至少95%的分类准确率？让我们来看看：
- en: '[PRE76]'
  id: totrans-326
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'The output is as follows:'
  id: totrans-327
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 5.40: Training the model'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: '![图5.40：训练模型'
- en: '](img/C12626_05_40.jpg)'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_05_40.jpg)'
- en: 'Figure 5.40: Training the model'
  id: totrans-330
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图5.40：训练模型
- en: 15 epochs are required to achieve at least 95% classification accuracy on the
    training set.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 需要15个epoch才能在训练集上达到至少95%的分类准确率。
- en: In this example, we have measured the performance of the neural network classifier
    using the data that the classifier was trained with. In general, this method should
    not be used as it typically reports a higher level of accuracy than one should
    expect from the model. In supervised learning problems, there are a number of
    **cross-validation** techniques that should be used instead. As this is a book
    on unsupervised learning, cross-validation lies outside the scope of this book.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个示例中，我们使用分类器训练时的数据来测量神经网络分类器的性能。一般来说，这种方法不应该使用，因为它通常报告比实际模型应该有的准确度更高。在监督学习问题中，有多种**交叉验证**技术应该被使用。由于这是一本关于无监督学习的书，交叉验证超出了本书的范围。
- en: 'Activity 10: Simple MNIST Autoencoder'
  id: totrans-333
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 10：简单的MNIST自编码器
- en: 'Solution:'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Import `pickle`, `numpy`, and `matplotlib`, and the `Model`, `Input`, and `Dense`
    classes from Keras:'
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入 `pickle`、`numpy` 和 `matplotlib`，以及从 Keras 导入 `Model`、`Input` 和 `Dense` 类：
- en: '[PRE77]'
  id: totrans-336
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE77]'
- en: 'Load the images from the supplied sample of the MNIST dataset that is provided
    with the accompanying source code (`mnist.pkl`):'
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从提供的 MNIST 数据集样本（随附源代码 `mnist.pkl`）加载图像：
- en: '[PRE78]'
  id: totrans-338
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE78]'
- en: 'Prepare the images for input into a neural network. As a hint, there are **two**
    separate steps in this process:'
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 准备图像以输入神经网络。作为提示，此过程有 **两个** 独立步骤：
- en: '[PRE79]'
  id: totrans-340
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'Construct a simple autoencoder network that reduces the image size to 10 x
    10 after the encoding stage:'
  id: totrans-341
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建一个简单的自编码器网络，使图像在编码阶段后缩小到 10 x 10：
- en: '[PRE80]'
  id: totrans-342
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE80]'
- en: 'Compile the autoencoder using a binary cross-entropy loss function and `adadelta`
    gradient descent:'
  id: totrans-343
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用二元交叉熵损失函数和 `adadelta` 梯度下降法编译自编码器：
- en: '[PRE81]'
  id: totrans-344
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE81]'
- en: 'Fit the encoder model:'
  id: totrans-345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 拟合编码器模型：
- en: '[PRE82]'
  id: totrans-346
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE82]'
- en: 'The output is as follows:'
  id: totrans-347
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 5.41: Training the model'
  id: totrans-348
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.41: 训练模型'
- en: '](img/C12626_05_41.jpg)'
  id: totrans-349
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_05_41.jpg)'
- en: 'Figure 5.41: Training the model'
  id: totrans-350
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 5.41: 训练模型'
- en: 'Calculate and store the output of the encoding stage for the first five samples:'
  id: totrans-351
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算并存储编码阶段的前五个样本的输出：
- en: '[PRE83]'
  id: totrans-352
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE83]'
- en: 'Reshape the encoder output to 10 x 10 (10 x 10 = 100) pixels and multiply by
    255:'
  id: totrans-353
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将编码器输出重塑为 10 x 10（10 x 10 = 100）像素并乘以 255：
- en: '[PRE84]'
  id: totrans-354
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE84]'
- en: 'Calculate and store the output of the decoding stage for the first five samples:'
  id: totrans-355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算并存储解码阶段的前五个样本的输出：
- en: '[PRE85]'
  id: totrans-356
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE85]'
- en: 'Reshape the output of the decoder to 28 x 28 and multiply by 255:'
  id: totrans-357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将解码器的输出重塑为 28 x 28，并乘以 255：
- en: '[PRE86]'
  id: totrans-358
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE86]'
- en: 'Plot the original image, the encoder output, and the decoder:'
  id: totrans-359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制原始图像、编码器输出和解码器：
- en: '[PRE87]'
  id: totrans-360
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE87]'
- en: 'The output is as follows:'
  id: totrans-361
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 5.42: The original image, the encoder output, and the decoder'
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 5.42: 原始图像、编码器输出和解码器'
- en: '](img/C12626_05_42.jpg)'
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_05_42.jpg)'
- en: 'Figure 5.42: The original image, the encoder output, and the decoder'
  id: totrans-364
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 5.42: 原始图像、编码器输出和解码器'
- en: So far, we have shown how a simple single hidden layer in both the encoding
    and decoding stage can be used to reduce the data to a lower dimension space.
    We can also make this model more complicated by adding additional layers to both
    the encoding and the decoding stages.
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经展示了如何使用编码和解码阶段的简单单层隐藏层来将数据降到低维空间。我们还可以通过在编码和解码阶段添加额外的层来使这个模型更加复杂。
- en: 'Activity 11: MNIST Convolutional Autoencoder'
  id: totrans-366
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '活动 11: MNIST 卷积自编码器'
- en: 'Solution:'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Import `pickle`, `numpy`, `matplotlib`, and the `Model` class from `keras.models`
    and import `Input`, `Conv2D`, `MaxPooling2D`, and `UpSampling2D` from `keras.layers`:'
  id: totrans-368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入 `pickle`、`numpy`、`matplotlib`，以及从 `keras.models` 导入 `Model` 类，导入从 `keras.layers`
    的 `Input`、`Conv2D`、`MaxPooling2D` 和 `UpSampling2D`：
- en: '[PRE88]'
  id: totrans-369
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE88]'
- en: 'Load the data:'
  id: totrans-370
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载数据：
- en: '[PRE89]'
  id: totrans-371
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE89]'
- en: 'Rescale the images to have values between 0 and 1:'
  id: totrans-372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将图像重新缩放为 0 和 1 之间的值：
- en: '[PRE90]'
  id: totrans-373
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE90]'
- en: 'We need to reshape the images to add a single depth channel for use with convolutional
    stages. Reshape the images to have a shape of 28 x 28 x 1:'
  id: totrans-374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们需要重塑图像，以便为卷积阶段添加一个单独的深度通道。将图像重塑为 28 x 28 x 1 的形状：
- en: '[PRE91]'
  id: totrans-375
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE91]'
- en: 'Define an input layer. We will use the same shape input as an image:'
  id: totrans-376
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义输入层。我们将使用与图像相同的输入形状：
- en: '[PRE92]'
  id: totrans-377
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE92]'
- en: 'Add a convolutional stage with 16 layers or filters, a 3 x 3 weight matrix,
    a ReLU activation function, and using same padding, which means the output has
    the same length as the input image:'
  id: totrans-378
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加一个具有 16 层或滤波器的卷积阶段，使用 3 x 3 的权重矩阵、ReLU 激活函数，并使用相同的填充，这意味着输出的长度与输入图像相同：
- en: '[PRE93]'
  id: totrans-379
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE93]'
- en: 'Add a max pooling layer to the encoder with a 2 x 2 kernel:'
  id: totrans-380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向编码器添加一个最大池化层，使用 2 x 2 的内核：
- en: '[PRE94]'
  id: totrans-381
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE94]'
- en: 'Add a decoding convolutional layer:'
  id: totrans-382
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加一个解码卷积层：
- en: '[PRE95]'
  id: totrans-383
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE95]'
- en: 'Add an upsampling layer:'
  id: totrans-384
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加上采样层：
- en: '[PRE96]'
  id: totrans-385
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE96]'
- en: 'Add the final convolutional stage, using one layer as per the initial image
    depth:'
  id: totrans-386
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加最后的卷积阶段，使用一个层，按照初始图像深度进行：
- en: '[PRE97]'
  id: totrans-387
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE97]'
- en: 'Construct the model by passing the first and last layers of the network to
    the `Model` class:'
  id: totrans-388
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过将网络的第一层和最后一层传递给 `Model` 类来构建模型：
- en: '[PRE98]'
  id: totrans-389
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE98]'
- en: 'Display the structure of the model:'
  id: totrans-390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 显示模型的结构：
- en: '[PRE99]'
  id: totrans-391
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE99]'
- en: 'The output is as follows:'
  id: totrans-392
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 5.43: Structure of model'
  id: totrans-393
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.43: 模型结构'
- en: '](img/C12626_05_43.jpg)'
  id: totrans-394
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_05_43.jpg)'
- en: 'Figure 5.43: Structure of model'
  id: totrans-395
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: '图 5.43: 模型结构'
- en: 'Compile the autoencoder using a binary cross-entropy loss function and `adadelta`
    gradient descent:'
  id: totrans-396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用二元交叉熵损失函数和 `adadelta` 梯度下降法编译自编码器：
- en: '[PRE100]'
  id: totrans-397
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE100]'
- en: 'Now, let''s fit the model; again, we pass the images as the training data and
    as the desired output. Train for 20 epochs as convolutional networks take a lot
    longer to compute:'
  id: totrans-398
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们来拟合模型；再次传递图像作为训练数据和期望输出。由于卷积网络计算时间较长，因此训练 20 个周期：
- en: '[PRE101]'
  id: totrans-399
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE101]'
- en: 'The output is as follows:'
  id: totrans-400
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 5.44: Training the model'
  id: totrans-401
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 5.44: 训练模型'
- en: '](img/C12626_05_44.jpg)'
  id: totrans-402
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_05_44.jpg)'
- en: 'Figure 5.44: Training the model'
  id: totrans-403
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 5.44：训练模型
- en: 'Calculate and store the output of the encoding stage for the first five samples:'
  id: totrans-404
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算并存储前五个样本的编码阶段输出：
- en: '[PRE102]'
  id: totrans-405
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE102]'
- en: 'Reshape the encoder output for visualization, where each image is X*Y in size:'
  id: totrans-406
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为可视化重新调整编码器输出的形状，每个图像的大小为 X*Y：
- en: '[PRE103]'
  id: totrans-407
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE103]'
- en: 'Get the output of the decoder for the first five images:'
  id: totrans-408
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取前五张图像的解码器输出：
- en: '[PRE104]'
  id: totrans-409
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE104]'
- en: 'Reshape the decoder output to 28 x 28 in size:'
  id: totrans-410
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将解码器输出调整为 28 x 28 的大小：
- en: '[PRE105]'
  id: totrans-411
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE105]'
- en: 'Reshape the original images back to 28 x 28 in size:'
  id: totrans-412
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将原始图像调整回 28 x 28 的大小：
- en: '[PRE106]'
  id: totrans-413
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE106]'
- en: 'Plot the original image, the mean encoder output, and the decoder:'
  id: totrans-414
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制原始图像、平均编码器输出和解码器：
- en: '[PRE107]'
  id: totrans-415
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE107]'
- en: 'The output is as follows:'
  id: totrans-416
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 5.45: The original image, the encoder output, and the decoder'
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 5.45：原始图像、编码器输出和解码器'
- en: '](img/C12626_05_45.jpg)'
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_05_45.jpg)'
- en: 'Figure 5.45: The original image, the encoder output, and the decoder'
  id: totrans-419
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 5.45：原始图像、编码器输出和解码器
- en: At the end of this activity, you will have developed an autoencoder comprising
    convolutional layers within the neural network. Note the improvements made in
    the decoder representations. This architecture has a significant performance benefit
    over fully-connected neural network layers and is extremely useful in working
    with image-based datasets and generating artificial data samples.
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: 在此活动结束时，你将开发一个包含卷积层的自编码器神经网络。注意解码器表示中的改进。与全连接神经网络层相比，这种架构在性能上具有显著优势，非常适用于处理基于图像的数据集和生成人工数据样本。
- en: 'Chapter 6: t-Distributed Stochastic Neighbor Embedding (t-SNE)'
  id: totrans-421
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 6 章：t-分布随机邻域嵌入（t-SNE）
- en: 'Activity 12: Wine t-SNE'
  id: totrans-422
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 12：葡萄酒 t-SNE
- en: 'Solution:'
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Import `pandas`, `numpy`, `matplotlib`, and the `t-SNE` and `PCA` models from
    scikit-learn:'
  id: totrans-424
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入 `pandas`、`numpy`、`matplotlib` 以及来自 scikit-learn 的 `t-SNE` 和 `PCA` 模型：
- en: '[PRE108]'
  id: totrans-425
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE108]'
- en: 'Load the Wine dataset using the `wine.data` file included in the accompanying
    source code and display the first five rows of data:'
  id: totrans-426
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用随附源代码中的 `wine.data` 文件加载葡萄酒数据集，并显示数据集的前五行：
- en: '[PRE109]'
  id: totrans-427
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE109]'
- en: 'The output is as follows:'
  id: totrans-428
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 6.24: The first five rows of the wine dataset.'
  id: totrans-429
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 6.24：葡萄酒数据集的前五行。'
- en: '](img/C12626_06_24.jpg)'
  id: totrans-430
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_06_24.jpg)'
- en: 'Figure 6.24: The first five rows of the wine dataset.'
  id: totrans-431
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6.24：葡萄酒数据集的前五行。
- en: 'The first column contains the labels; extract this column and remove it from
    the dataset:'
  id: totrans-432
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第一列包含标签；提取该列并将其从数据集中移除：
- en: '[PRE110]'
  id: totrans-433
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE110]'
- en: 'Execute PCA to reduce the dataset to the first six components:'
  id: totrans-434
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行 PCA 降维，将数据集缩减到前六个组件：
- en: '[PRE111]'
  id: totrans-435
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE111]'
- en: 'Determine the amount of variance within the data described by these six components:'
  id: totrans-436
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确定这六个组件描述的数据中的方差量：
- en: '[PRE112]'
  id: totrans-437
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE112]'
- en: 'The output is as follows:'
  id: totrans-438
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE113]'
  id: totrans-439
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE113]'
- en: 'Create a t-SNE model using a specified random state and a `verbose` value of
    1:'
  id: totrans-440
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个使用指定随机状态和 `verbose` 值为 1 的 t-SNE 模型：
- en: '[PRE114]'
  id: totrans-441
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE114]'
- en: 'The output is as follows:'
  id: totrans-442
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 6.25: Creating t-SNE model.'
  id: totrans-443
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 6.25：创建 t-SNE 模型。'
- en: '](img/C12626_06_25.jpg)'
  id: totrans-444
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_06_25.jpg)'
- en: 'Figure 6.25: Creating t-SNE model.'
  id: totrans-445
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6.25：创建 t-SNE 模型。
- en: 'Fit the PCA data to the t-SNE model:'
  id: totrans-446
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 PCA 数据拟合到 t-SNE 模型：
- en: '[PRE115]'
  id: totrans-447
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE115]'
- en: 'The output is as follows:'
  id: totrans-448
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 6.26: Fitting PCA data t-SNE model'
  id: totrans-449
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 6.26：拟合 PCA 数据 t-SNE 模型'
- en: '](img/C12626_06_26.jpg)'
  id: totrans-450
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_06_26.jpg)'
- en: 'Figure 6.26: Fitting PCA data t-SNE model'
  id: totrans-451
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6.26：拟合 PCA 数据 t-SNE 模型
- en: 'Confirm that the shape of the t-SNE fitted data is two dimensional:'
  id: totrans-452
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认 t-SNE 拟合数据的形状是二维的：
- en: '[PRE116]'
  id: totrans-453
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE116]'
- en: 'The output is as follows:'
  id: totrans-454
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE117]'
  id: totrans-455
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE117]'
- en: 'Create a scatter plot of the two-dimensional data:'
  id: totrans-456
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建二维数据的散点图：
- en: '[PRE118]'
  id: totrans-457
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE118]'
- en: 'The output is as follows:'
  id: totrans-458
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 6.27: Scatterplot of two-dimensional data'
  id: totrans-459
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 6.27：二维数据的散点图'
- en: '](img/C12626_06_27.jpg)'
  id: totrans-460
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_06_27.jpg)'
- en: 'Figure 6.27: Scatterplot of two-dimensional data'
  id: totrans-461
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6.27：二维数据的散点图
- en: 'Create a secondary scatter plot of the two-dimensional data with the class
    labels applied to visualize any clustering that may be present:'
  id: totrans-462
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个带有类别标签的二维数据次级散点图，以可视化可能存在的任何聚类：
- en: '[PRE119]'
  id: totrans-463
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE119]'
- en: 'The output is as follows:'
  id: totrans-464
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 6.28: Secondary plot of two-dimensional data'
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.28：二维数据的次级图'
- en: '](img/C12626_06_28.jpg)'
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_06_28.jpg)'
- en: 'Figure 6.28: Secondary plot of two-dimensional data'
  id: totrans-467
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6.28：二维数据的次级图
- en: Note that while there is an overlap between the wine classes, it can also be
    seen that there is some clustering within the data. The first wine class is predominantly
    positioned in the top left-hand corner of the plot, the second wine class in the
    bottom-right, and the third wine class between the first two. This representation
    certainly couldn't be used to classify individual wine samples with great confidence,
    but it shows an overall trend and series of clusters contained within the high-dimensional
    data that we were unable to see earlier.
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，虽然酒类之间有重叠，但也可以看到数据中存在一些聚类。第一类酒主要位于图表的左上角，第二类酒位于右下角，第三类酒则位于前两者之间。这个表示方法当然不能用于高信心地对单个酒样进行分类，但它展示了一个总体趋势以及在之前无法看到的高维数据中包含的一系列聚类。
- en: 'Activity 13: t-SNE Wine and Perplexity'
  id: totrans-469
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 13：t-SNE 酒类与困惑度
- en: 'Solution:'
  id: totrans-470
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Import `pandas`, `numpy`, `matplotlib`, and the `t-SNE` and `PCA` models from
    scikit-learn:'
  id: totrans-471
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入 `pandas`、`numpy`、`matplotlib` 和 `t-SNE` 与 `PCA` 模型（来自 scikit-learn）：
- en: '[PRE120]'
  id: totrans-472
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE120]'
- en: 'Load the Wine dataset and inspect the first five rows:'
  id: totrans-473
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载酒类数据集并检查前五行：
- en: '[PRE121]'
  id: totrans-474
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE121]'
- en: 'The output is as follows:'
  id: totrans-475
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 6.29: The first five rows of wine data.'
  id: totrans-476
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 6.29：酒类数据的前五行'
- en: '](img/C12626_06_29.jpg)'
  id: totrans-477
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_06_29.jpg)'
- en: 'Figure 6.29: The first five rows of wine data.'
  id: totrans-478
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6.29：酒类数据的前五行
- en: 'The first column provides the labels; extract them from the DataFrame and store
    them in a separate variable. Ensure that the column is removed from the DataFrame:'
  id: totrans-479
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第一列提供了标签；从数据框中提取它们并将其存储在一个单独的变量中。确保该列从数据框中移除：
- en: '[PRE122]'
  id: totrans-480
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE122]'
- en: 'Execute PCA on the dataset and extract the first six components:'
  id: totrans-481
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对数据集执行 PCA 并提取前六个主成分：
- en: '[PRE123]'
  id: totrans-482
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE123]'
- en: 'Construct a loop that iterates through the perplexity values (1, 5, 20, 30,
    80, 160, 320). For each loop, generate a t-SNE model with the corresponding perplexity
    and print a scatter plot of the labeled wine classes. Note the effect of different
    perplexity values:'
  id: totrans-483
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建一个循环，遍历困惑度值（1、5、20、30、80、160、320）。对于每个循环，生成一个对应困惑度的 t-SNE 模型，并绘制标记酒类的散点图。注意不同困惑度值的效果：
- en: '[PRE124]'
  id: totrans-484
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE124]'
- en: 'A perplexity value of 1 fails to separate the data into any particular structure:'
  id: totrans-485
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`1`的困惑度值无法将数据分离成任何特定的结构：'
- en: '![Figure 6.30: Plot for perplexity value 1'
  id: totrans-486
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.30：困惑度值为 1 的图表'
- en: '](img/C12626_06_30.jpg)'
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_06_30.jpg)'
- en: 'Figure 6.30: Plot for perplexity value 1'
  id: totrans-488
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6.30：困惑度值为 1 的图表
- en: 'Increasing the perplexity to 5 leads to a very non-linear structure that is
    difficult to separate, and it''s hard to identify any clusters or patterns:'
  id: totrans-489
  prefs: []
  type: TYPE_NORMAL
  zh: 将困惑度增加到 5 会导致非常非线性的结构，难以分离，并且很难识别任何聚类或模式：
- en: '![Figure 6.31: Plot for perplexity of 5'
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.31：困惑度为 5 的图表'
- en: '](img/C12626_06_31.jpg)'
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_06_31.jpg)'
- en: 'Figure 6.31: Plot for perplexity of 5'
  id: totrans-492
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6.31：困惑度为 5 的图表
- en: 'A perplexity of 20 finally starts to show some sort of horse-shoe structure.
    While visually obvious, this can still be tricky to implement:'
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
  zh: 困惑度为 20 最终开始显示某种马蹄形结构。虽然在视觉上明显，但实现起来仍然可能有些困难：
- en: '![Figure 6.32: Plot for perplexity of 20'
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.32：困惑度为 20 的图表'
- en: '](img/C12626_06_32.jpg)'
  id: totrans-495
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_06_32.jpg)'
- en: 'Figure 6.32: Plot for perplexity of 20'
  id: totrans-496
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6.32：困惑度为 20 的图表
- en: 'A perplexity of 30 demonstrates quite good results. There is a linear relationship
    between the projected structure with some separation between the types of wine:'
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: 困惑度为 30 显示出相当好的结果。投影结构之间存在一定的线性关系，并且酒类之间有一些分离：
- en: '![Figure 6.33: Plot for perplexity of 30'
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.33：困惑度为 30 的图表'
- en: '](img/C12626_06_33.jpg)'
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_06_33.jpg)'
- en: 'Figure 6.33: Plot for perplexity of 30'
  id: totrans-500
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6.33：困惑度为 30 的图表
- en: 'Finally, the last two images in the activity show the extent to which the plots
    can become increasingly complex and non-linear with increasing perplexity:'
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，活动中的最后两张图片展示了随着困惑度的增加，图表如何变得越来越复杂和非线性：
- en: '![Figure 6.34: Plot for perplexity of 80'
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.34：困惑度为 80 的图表'
- en: '](img/C12626_06_34.jpg)'
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_06_34.jpg)'
- en: 'Figure 6.34: Plot for perplexity of 80'
  id: totrans-504
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6.34：困惑度为 80 的图表
- en: 'Here''s the plot for a perplexity of 160:'
  id: totrans-505
  prefs: []
  type: TYPE_NORMAL
  zh: 这是困惑度为 160 的图表：
- en: '![Figure 6.35: Plot for perplexity of 160'
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.35：困惑度为 160 的图表'
- en: '](img/C12626_06_35.jpg)'
  id: totrans-507
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_06_35.jpg)'
- en: 'Figure 6.35: Plot for perplexity of 160'
  id: totrans-508
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 6.35：困惑度为 160 的图表
- en: Looking at the individual plots for each of the perplexity values, the effect
    perplexity has on the visualization of data is immediately obvious. Very small
    or very large perplexity values produces a range of unusual shapes that don't
    indicate the presence of any persistent pattern. The most plausible value seems
    to be 30, which produced the most linear plot we saw in the previous activity.
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
  zh: 查看每个困惑度值的单独图形，困惑度对数据可视化的影响立刻显现出来。非常小或非常大的困惑度值会产生一系列不寻常的形状，无法显示出任何持续的模式。最合理的值似乎是30，它产生了我们在前一个活动中看到的最线性的图形。
- en: In this activity, we demonstrated the need to be careful when selecting the
    perplexity and that some iteration may be required to determine the correct value.
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
  zh: 在这次活动中，我们展示了在选择困惑度时需要小心，并且可能需要一些迭代来确定正确的值。
- en: 'Activity 14: t-SNE Wine and Iterations'
  id: totrans-511
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动14：t-SNE 葡萄酒与迭代
- en: 'Solution:'
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Import `pandas`, `numpy`, `matplotlib`, and the `t-SNE` and `PCA` models from
    scikit-learn:'
  id: totrans-513
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入`pandas`、`numpy`、`matplotlib`，以及从scikit-learn导入的`t-SNE`和`PCA`模型：
- en: '[PRE125]'
  id: totrans-514
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE125]'
- en: 'Load the Wine dataset and inspect the first five rows:'
  id: totrans-515
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载葡萄酒数据集并检查前五行：
- en: '[PRE126]'
  id: totrans-516
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE126]'
- en: 'The output is as follows:'
  id: totrans-517
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 6.36: The first five rows of wine dataset'
  id: totrans-518
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 6.36：葡萄酒数据集的前五行](img/C12626_06_36.jpg)'
- en: '](img/C12626_06_36.jpg)'
  id: totrans-519
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_06_36.jpg)'
- en: 'Figure 6.36: The first five rows of wine dataset'
  id: totrans-520
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6.36：葡萄酒数据集的前五行
- en: 'The first column provides the labels; extract these from the DataFrame and
    store them in a separate variable. Ensure that the column is removed from the
    DataFrame:'
  id: totrans-521
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第一列提供标签；从DataFrame中提取这些标签并存储到一个单独的变量中。确保将该列从DataFrame中移除：
- en: '[PRE127]'
  id: totrans-522
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE127]'
- en: 'Execute PCA on the dataset and extract the first six components:'
  id: totrans-523
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在数据集上执行PCA并提取前六个主成分：
- en: '[PRE128]'
  id: totrans-524
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE128]'
- en: 'Construct a loop that iterates through the iteration values (`250`, `500`,
    `1000`). For each loop, generate a t-SNE model with the corresponding number of
    iterations and identical number of iterations without progress values:'
  id: totrans-525
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建一个循环，遍历迭代值（`250`、`500`、`1000`）。对于每次循环，生成一个具有相应迭代次数的t-SNE模型，并生成相同迭代次数且没有进度值的模型：
- en: '[PRE129]'
  id: totrans-526
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE129]'
- en: 'Construct a scatter plot of the labeled wine classes. Note the effect of different
    iteration values:'
  id: totrans-527
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建一个葡萄酒类别的散点图。注意不同迭代值的效果：
- en: '[PRE130]'
  id: totrans-528
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE130]'
- en: 'The output is as follows:'
  id: totrans-529
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 6.37: Scatterplot of wine classes with 250 iterations'
  id: totrans-530
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.37：250次迭代的葡萄酒类别散点图](img/C12626_06_37.jpg)'
- en: '](img/C12626_06_37.jpg)'
  id: totrans-531
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_06_37.jpg)'
- en: 'Figure 6.37: Scatterplot of wine classes with 250 iterations'
  id: totrans-532
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6.37：250次迭代的葡萄酒类别散点图
- en: 'Here''s the plot for 500 iterations:'
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: 这是500次迭代的图：
- en: '![Figure 6.38: Scatterplot of wine classes with 500 iterations'
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.38：500次迭代的葡萄酒类别散点图](img/C12626_06_38.jpg)'
- en: '](img/C12626_06_38.jpg)'
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_06_38.jpg)'
- en: 'Figure 6.38: Scatterplot of wine classes with 500 iterations'
  id: totrans-536
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6.38：500次迭代的葡萄酒类别散点图
- en: 'Here''s the plot for 1,000 iterations:'
  id: totrans-537
  prefs: []
  type: TYPE_NORMAL
  zh: 这是1,000次迭代的图：
- en: '![Figure 6.39: Scatterplot of wine classes with 1,000 iterations'
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 6.39：1,000次迭代的葡萄酒类别散点图](img/C12626_06_39.jpg)'
- en: '](img/C12626_06_39.jpg)'
  id: totrans-539
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_06_39.jpg)'
- en: 'Figure 6.39: Scatterplot of wine classes with 1,000 iterations'
  id: totrans-540
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图6.39：1,000次迭代的葡萄酒类别散点图
- en: Again, we can see the improvement in the structure of the data as the number
    of iterations increase. Even in a relatively simple dataset such as this, 250
    iterations are not sufficient to project any structure of data into the lower-dimensional
    space.
  id: totrans-541
  prefs: []
  type: TYPE_NORMAL
  zh: 再次，我们可以看到随着迭代次数的增加，数据结构的改善。即使在像这样的相对简单的数据集中，250次迭代也不足以将数据结构投影到低维空间中。
- en: As we observed in the corresponding activity, there is a balance to find in
    setting the iteration parameter. In this example, 250 iterations were insufficient,
    and at least 1,000 iterations were required for the final stabilization of the
    data.
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在相应活动中观察到的，设置迭代参数时需要找到一个平衡点。在这个例子中，250次迭代是不足够的，至少需要1,000次迭代才能最终稳定数据。
- en: 'Chapter 7: Topic Modeling'
  id: totrans-543
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第7章：主题建模
- en: 'Activity 15: Loading and Cleaning Twitter Data'
  id: totrans-544
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动15：加载和清理Twitter数据
- en: 'Solution:'
  id: totrans-545
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Import the necessary libraries:'
  id: totrans-546
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入必要的库：
- en: '[PRE131]'
  id: totrans-547
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE131]'
- en: 'Load the LA Times health Twitter data (`latimeshealth.txt`) from [https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-Python/tree/master/Lesson07/Activity15-Activity17](https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-Python/tree/master/Lesson07/Activity15-Activity17):'
  id: totrans-548
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从[https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-Python/tree/master/Lesson07/Activity15-Activity17](https://github.com/TrainingByPackt/Applied-Unsupervised-Learning-with-Python/tree/master/Lesson07/Activity15-Activity17)加载LA
    Times健康Twitter数据(`latimeshealth.txt`)：
- en: Note
  id: totrans-549
  prefs:
  - PREF_IND
  - PREF_H4
  type: TYPE_NORMAL
  zh: 注意
- en: '[PRE132]'
  id: totrans-550
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE132]'
- en: 'Run a quick exploratory analysis to ascertain the data size and structure:'
  id: totrans-551
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行快速探索性分析以确定数据大小和结构：
- en: '[PRE133]'
  id: totrans-552
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE133]'
- en: 'The output is as follows:'
  id: totrans-553
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 7.54: Shape, column names, and head of data'
  id: totrans-554
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 7.54：数据的形状、列名和数据头'
- en: '](img/C12626_07_54.jpg)'
  id: totrans-555
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_07_54.jpg)'
- en: 'Figure 7.54: Shape, column names, and head of data'
  id: totrans-556
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7.54：数据的形状、列名和数据头
- en: 'Extract the tweet text and convert it to a list object:'
  id: totrans-557
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提取推文文本并转换为列表对象：
- en: '[PRE134]'
  id: totrans-558
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE134]'
- en: 'The output is as follows:'
  id: totrans-559
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 7.55: Headlines and their length'
  id: totrans-560
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 7.55：标题及其长度'
- en: '](img/C12626_07_55.jpg)'
  id: totrans-561
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_07_55.jpg)'
- en: 'Figure 7.55: Headlines and their length'
  id: totrans-562
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7.55：标题及其长度
- en: 'Write a function to perform language detection, tokenization on whitespaces,
    and replace screen names and URLs with `SCREENNAME` and `URL`, respectively. The
    function should also remove punctuation, numbers, and the `SCREENNAME` and `URL`
    replacements. Convert everything to lowercase, except `SCREENNAME` and `URL`.
    It should remove all stop words, perform lemmatization, and keep words with five
    or more letters:'
  id: totrans-563
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编写函数，执行语言检测、基于空格的分词、替换屏幕名和 URL 为 `SCREENNAME` 和 `URL`。该函数还应删除标点、数字以及 `SCREENNAME`
    和 `URL` 的替换。将所有内容转换为小写，除了 `SCREENNAME` 和 `URL`。它应删除所有停用词，执行词形还原，并保留五个或更多字母的单词：
- en: Note
  id: totrans-564
  prefs:
  - PREF_IND
  - PREF_H4
  type: TYPE_NORMAL
  zh: 注意
- en: '[PRE135]'
  id: totrans-565
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE135]'
- en: 'Apply the function defined in *step 5* to every tweet:'
  id: totrans-566
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对每条推文应用第 5 步中定义的函数：
- en: '[PRE136]'
  id: totrans-567
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE136]'
- en: 'Remove elements of output list equal to `None`:'
  id: totrans-568
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除等于 `None` 的输出列表元素：
- en: '[PRE137]'
  id: totrans-569
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE137]'
- en: 'The output is as follows:'
  id: totrans-570
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 7.56: Headline and length after removing None'
  id: totrans-571
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 7.56：删除 None 后的标题和长度'
- en: '](img/C12626_07_56.jpg)'
  id: totrans-572
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_07_56.jpg)'
- en: 'Figure 7.56: Headline and length after removing None'
  id: totrans-573
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7.56：删除 None 后的标题和长度
- en: 'Turn the elements of each tweet back into a string. Concatenate using white
    space:'
  id: totrans-574
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将每条推文的元素转换回字符串。使用空格连接：
- en: '[PRE138]'
  id: totrans-575
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE138]'
- en: 'The first 10 elements of the output list should resemble the following:'
  id: totrans-576
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出列表的前 10 个元素应如下所示：
- en: '![Figure 7.57: Tweets cleaned for modeling'
  id: totrans-577
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 7.57：用于建模的清洁推文'
- en: '](img/C12626_07_57.jpg)'
  id: totrans-578
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_07_57.jpg)'
- en: 'Figure 7.57: Tweets cleaned for modeling'
  id: totrans-579
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7.57：用于建模的清洁推文
- en: Keep the notebook open for future modeling.
  id: totrans-580
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持笔记本打开以供将来建模。
- en: 'Activity 16: Latent Dirichlet Allocation and Health Tweets'
  id: totrans-581
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 16：潜在狄利克雷分配与健康推文
- en: 'Solution:'
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Specify the `number_words`, `number_docs`, and `number_features` variables:'
  id: totrans-583
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 指定 `number_words`、`number_docs` 和 `number_features` 变量：
- en: '[PRE139]'
  id: totrans-584
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE139]'
- en: 'Create a bag-of-words model and assign the feature names to another variable
    for use later on:'
  id: totrans-585
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建词袋模型，并将特征名分配给另一个变量以供以后使用：
- en: '[PRE140]'
  id: totrans-586
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE140]'
- en: 'The output is as follows:'
  id: totrans-587
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE141]'
  id: totrans-588
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE141]'
- en: 'Identify the optimal number of topics:'
  id: totrans-589
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确定最佳主题数：
- en: '[PRE142]'
  id: totrans-590
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE142]'
- en: 'The output is as follows:'
  id: totrans-591
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 7.58: Number of topics versus perplexity score data frame'
  id: totrans-592
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 7.58：主题数与困惑分数数据框架'
- en: '](img/C12626_07_58.jpg)'
  id: totrans-593
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_07_58.jpg)'
- en: 'Figure 7.58: Number of topics versus perplexity score data frame'
  id: totrans-594
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7.58：主题数与困惑分数数据框架
- en: 'Fit the LDA model using the optimal number of topics:'
  id: totrans-595
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用最佳主题数拟合 LDA 模型：
- en: '[PRE143]'
  id: totrans-596
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE143]'
- en: 'The output is as follows:'
  id: totrans-597
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 7.59: LDA model'
  id: totrans-598
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 7.59：LDA 模型'
- en: '](img/C12626_07_59.jpg)'
  id: totrans-599
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_07_59.jpg)'
- en: 'Figure 7.59: LDA model'
  id: totrans-600
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7.59：LDA 模型
- en: 'Create and print the word-topic table:'
  id: totrans-601
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建并打印词-主题表：
- en: '[PRE144]'
  id: totrans-602
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE144]'
- en: 'The output is as follows:'
  id: totrans-603
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 7.60: Word-topic table for the health tweet data'
  id: totrans-604
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 7.60：健康推文数据的词-主题表'
- en: '](img/C12626_07_60.jpg)'
  id: totrans-605
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_07_60.jpg)'
- en: 'Figure 7.60: Word-topic table for the health tweet data'
  id: totrans-606
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7.60：健康推文数据的词-主题表
- en: 'Print the document-topic table:'
  id: totrans-607
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打印文档-主题表：
- en: '[PRE145]'
  id: totrans-608
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE145]'
- en: 'The output is as follows:'
  id: totrans-609
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 7.61: Document topic table'
  id: totrans-610
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 7.61：文档主题表'
- en: '](img/C12626_07_61.jpg)'
  id: totrans-611
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_07_61.jpg)'
- en: 'Figure 7.61: Document topic table'
  id: totrans-612
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7.61：文档主题表
- en: 'Create a biplot visualization:'
  id: totrans-613
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建双图可视化：
- en: '[PRE146]'
  id: totrans-614
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE146]'
- en: '![Figure 7.62: A histogram and biplot for the LDA model trained on health tweets'
  id: totrans-615
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 7.62：在健康推文上训练的 LDA 模型的直方图和双图'
- en: '](img/C12626_07_62.jpg)'
  id: totrans-616
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_07_62.jpg)'
- en: 'Figure 7.62: A histogram and biplot for the LDA model trained on health tweets'
  id: totrans-617
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7.62：在健康推文上训练的 LDA 模型的直方图和双图
- en: Keep the notebook open for future modeling.
  id: totrans-618
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持笔记本打开以供将来建模。
- en: 'Activity 17: Non-Negative Matrix Factorization'
  id: totrans-619
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 17：非负矩阵分解
- en: 'Solution:'
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Create the appropriate bag-of-words model and output the feature names as another
    variable:'
  id: totrans-621
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建适当的词袋模型，并将特征名作为另一个变量输出：
- en: '[PRE147]'
  id: totrans-622
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE147]'
- en: 'Define and fit the NMF algorithm using the number of topics (`n_components`)
    value from activity two:'
  id: totrans-623
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义并使用活动二中的主题数（`n_components`）值拟合 NMF 算法：
- en: '[PRE148]'
  id: totrans-624
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE148]'
- en: 'The output is as follows:'
  id: totrans-625
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 7.63: Defining the NMF model'
  id: totrans-626
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 7.63：定义 NMF 模型'
- en: '](img/C12626_07_63.jpg)'
  id: totrans-627
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_07_63.jpg)'
- en: 'Figure 7.63: Defining the NMF model'
  id: totrans-628
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7.63：定义 NMF 模型
- en: 'Get the topic-document and word-topic result tables. Take a few minutes to
    explore the word groupings and try to define the abstract topics:'
  id: totrans-629
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取主题-文档和单词-主题的结果表格。花几分钟时间探索单词分组，并尝试定义抽象的主题：
- en: '[PRE149]'
  id: totrans-630
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE149]'
- en: '![Figure 7.64: The word-topic table with probabilities'
  id: totrans-631
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 7.64：带有概率的单词-主题表'
- en: '](img/C12626_07_64.jpg)'
  id: totrans-632
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_07_64.jpg)'
- en: 'Figure 7.64: The word-topic table with probabilities'
  id: totrans-633
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7.64：带有概率的单词-主题表
- en: Adjust the model parameters and rerun *step 3* and *step 4*.
  id: totrans-634
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调整模型参数并重新运行 *步骤 3* 和 *步骤 4*。
- en: 'Chapter 8: Market Basket Analysis'
  id: totrans-635
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第 8 章：市场购物篮分析
- en: 'Activity 18: Loading and Preparing Full Online Retail Data'
  id: totrans-636
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 18：加载和准备完整在线零售数据
- en: 'Solution:'
  id: totrans-637
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Load the online retail dataset file:'
  id: totrans-638
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载在线零售数据集文件：
- en: '[PRE150]'
  id: totrans-639
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE150]'
- en: 'Clean and prep the data for modeling, including turning the cleaned data into
    a list of lists:'
  id: totrans-640
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 清洗并准备数据进行建模，包括将清洗后的数据转化为列表的列表：
- en: '[PRE151]'
  id: totrans-641
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE151]'
- en: 'Encode the data and recast it as a DataFrame:'
  id: totrans-642
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对数据进行编码并将其重新构建为 DataFrame：
- en: '[PRE152]'
  id: totrans-643
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE152]'
- en: 'The output is as follows:'
  id: totrans-644
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 8.35: A subset of the cleaned, encoded, and recast DataFrame built
    from the complete online retail dataset'
  id: totrans-645
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.35：从完整在线零售数据集中构建的清洗、编码和重新构建的 DataFrame 子集'
- en: '](img/C12626_08_35.jpg)'
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_08_35.jpg)'
- en: 'Figure 8.35: A subset of the cleaned, encoded, and recast DataFrame built from
    the complete online retail dataset'
  id: totrans-647
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8.35：从完整在线零售数据集中构建的清洗、编码和重新构建的 DataFrame 子集
- en: 'Activity 19: Apriori on the Complete Online Retail Dataset'
  id: totrans-648
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 19：在完整在线零售数据集上运行 Apriori 算法
- en: 'Solution:'
  id: totrans-649
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Run the Apriori algorithm on the full data with reasonable parameter settings:'
  id: totrans-650
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用合理的参数设置在完整数据上运行 Apriori 算法：
- en: '[PRE153]'
  id: totrans-651
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE153]'
- en: 'The output is as follows:'
  id: totrans-652
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 8.36: The Apriori algorithm results using the complete online retail
    dataset'
  id: totrans-653
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 8.36：使用完整在线零售数据集的 Apriori 算法结果'
- en: '](img/C12626_08_36.jpg)'
  id: totrans-654
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_08_36.jpg)'
- en: 'Figure 8.36: The Apriori algorithm results using the complete online retail
    dataset'
  id: totrans-655
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8.36：使用完整在线零售数据集的 Apriori 算法结果
- en: 'Filter the results down to the item set containing `10 COLOUR SPACEBOY PEN`.
    Compare the support value with that under *Exercise 44*, *Executing the Apriori
    algorithm*:'
  id: totrans-656
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将结果过滤到包含 `10 COLOUR SPACEBOY PEN` 的物品集。将其支持度值与 *练习 44* 中的支持度值进行比较，*执行 Apriori
    算法*：
- en: '[PRE154]'
  id: totrans-657
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE154]'
- en: 'The output is as follows:'
  id: totrans-658
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 8.37: Result of item set containing 10 COLOUR SPACEBOY PEN'
  id: totrans-659
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 8.37：包含 10 支 COLOUR SPACEBOY PEN 的物品集结果'
- en: '](img/C12626_08_37.jpg)'
  id: totrans-660
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_08_37.jpg)'
- en: 'Figure 8.37: Result of item set containing 10 COLOUR SPACEBOY PEN'
  id: totrans-661
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8.37：包含 10 支 COLOUR SPACEBOY PEN 的物品集结果
- en: The support value does change. When the dataset is expanded to include all transactions,
    the support for this item set increases from 0.015 to 0.015793\. That is, in the
    reduced dataset used for the exercises, this item set appears in 1.5% of the transactions,
    while in the full dataset, it appears in approximately 1.6% of transactions.
  id: totrans-662
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 支持度值确实发生了变化。当数据集扩展到包含所有交易时，该物品集的支持度从 0.015 增加到 0.015793。也就是说，在用于练习的缩小数据集中，这个物品集出现在
    1.5% 的交易中，而在完整数据集中，它出现在大约 1.6% 的交易中。
- en: Add another column containing the item set length. Then, filter down to those
    item sets whose length is two and whose support is in the range [0.02, 0.021].
    Are the item sets the same as those found in *Exercise 44*, *Executing the Apriori
    algorithm,* *Step 6*?
  id: totrans-663
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加一个新的列，包含物品集的长度。然后，过滤出长度为 2 且支持度在 [0.02, 0.021] 范围内的物品集。是否与 *练习 44* 中找到的物品集相同？*执行
    Apriori 算法*，*步骤 6*？
- en: '[PRE155]'
  id: totrans-664
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE155]'
- en: '![Figure 8.38: The section of the results of filtering based on length and
    support'
  id: totrans-665
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 8.38：基于长度和支持度过滤结果的部分'
- en: '](img/C12626_08_38.jpg)'
  id: totrans-666
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_08_38.jpg)'
- en: 'Figure 8.38: The section of the results of filtering based on length and support'
  id: totrans-667
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8.38：基于长度和支持度过滤结果的部分
- en: The results did change. Before even looking at the particular item sets and
    their support values, we see that this filtered DataFrame has fewer item sets
    than the DataFrame in the previous exercise. When we use the full dataset, there
    are fewer item sets that match the filtering criteria; that is, only 14 item sets
    contain 2 items and have a support value greater than or equal to 0.02, and less
    than 0.021\. In the previous exercise, 17 item sets met these criteria.
  id: totrans-668
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 结果确实发生了变化。在查看具体的物品集及其支持度值之前，我们看到这个经过过滤的 DataFrame 比前一个练习中的 DataFrame 物品集要少。当我们使用完整数据集时，符合过滤标准的物品集较少；也就是说，只有
    14 个物品集包含 2 个物品，并且支持度值大于或等于 0.02，且小于 0.021。在前一个练习中，有 17 个物品集符合这些标准。
- en: 'Plot the `support` values:'
  id: totrans-669
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制 `support` 值：
- en: '[PRE156]'
  id: totrans-670
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE156]'
- en: '![Figure 8.39: The distribution of support values'
  id: totrans-671
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.39：支持度值的分布'
- en: '](img/C12626_08_27.jpg)'
  id: totrans-672
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_08_27.jpg)'
- en: 'Figure 8.39: The distribution of support values'
  id: totrans-673
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8.39：支持度值的分布
- en: This plot shows the distribution of support values for the full transaction
    dataset. As you might have assumed, the distribution is right skewed; that is,
    most of the item sets have lower support values and there is a long tail of support
    values on the higher end of the spectrum. Given how many unique item sets exist,
    it is not surprising that no single item set appears in a high percentage of the
    transactions. With this information, we could tell management that even the most
    prominent item set only appears in approximately 10% of the transactions, and
    that the vast majority of item sets appear in less than 2% of transactions. These
    results may not support changes in store layout, but could very well inform pricing
    and discounting strategies. We would gain more information on how to build these
    strategies by formalizing some association rules.
  id: totrans-674
  prefs: []
  type: TYPE_NORMAL
  zh: 该图展示了完整交易数据集中的支持度值分布。正如你可能已经猜测的，分布是右偏的；也就是说，大多数项集的支持度较低，并且在高端范围内有一个长尾。考虑到存在大量独特的项集，单个项集在高比例交易中出现的情况并不令人惊讶。凭借这些信息，我们可以告诉管理层，即便是最突出的项集也仅在大约10%的交易中出现，而绝大多数项集的出现频率不到2%。这些结果可能不会支持改变商店布局，但很可能会对定价和折扣策略提供指导。通过公式化一些关联规则，我们可以获得更多有关如何构建这些策略的信息。
- en: 'Activity 20: Finding the Association Rules on the Complete Online Retail Dataset'
  id: totrans-675
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 20：在完整在线零售数据集上查找关联规则
- en: 'Solution:'
  id: totrans-676
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Fit the association rule model on the full dataset. Use metric confidence and
    a minimum threshold of 0.6:'
  id: totrans-677
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将关联规则模型拟合到完整数据集上。使用置信度指标，最小阈值为 0.6：
- en: '[PRE157]'
  id: totrans-678
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE157]'
- en: 'The output is as follows:'
  id: totrans-679
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 8.40: The association rules based on the complete online retail dataset'
  id: totrans-680
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 8.40：基于完整在线零售数据集的关联规则'
- en: '](img/C12626_08_40.jpg)'
  id: totrans-681
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_08_40.jpg)'
- en: 'Figure 8.40: The association rules based on the complete online retail dataset'
  id: totrans-682
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8.40：基于完整在线零售数据集的关联规则
- en: Count the number of association rules. Is the number different to that found
    in *Exercise 45*, *Deriving Association Rules*, *Step 1*?
  id: totrans-683
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算关联规则的数量。这个数量是否与*练习 45*，*推导关联规则*，*步骤 1*中找到的数量不同？
- en: '[PRE158]'
  id: totrans-684
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE158]'
- en: There are `498` association rules.
  id: totrans-685
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 存在`498`条关联规则。
- en: 'Plot confidence against support:'
  id: totrans-686
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制置信度与支持度的关系图：
- en: '[PRE159]'
  id: totrans-687
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE159]'
- en: 'The output is as follows:'
  id: totrans-688
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 8.41: The plot of confidence against support'
  id: totrans-689
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 8.41：置信度与支持度的关系图'
- en: '](img/C12626_08_41.jpg)'
  id: totrans-690
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_08_41.jpg)'
- en: 'Figure 8.41: The plot of confidence against support'
  id: totrans-691
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8.41：置信度与支持度的关系图
- en: The plot reveals that there are some association rules featuring relatively
    high support and confidence values for this dataset.
  id: totrans-692
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该图揭示了该数据集中一些关联规则，它们具有相对较高的支持度和置信度值。
- en: 'Look at the distributions of lift, leverage, and conviction:'
  id: totrans-693
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看提升值、杠杆值和信念值的分布：
- en: '[PRE160]'
  id: totrans-694
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE160]'
- en: 'The output is as follows:'
  id: totrans-695
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 8.42: The distribution of lift values'
  id: totrans-696
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.42：提升值的分布'
- en: '](img/C12626_08_42.jpg)'
  id: totrans-697
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_08_42.jpg)'
- en: 'Figure 8.42: The distribution of lift values'
  id: totrans-698
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8.42：提升值的分布
- en: '[PRE161]'
  id: totrans-699
  prefs: []
  type: TYPE_PRE
  zh: '[PRE161]'
- en: 'The output is as follows:'
  id: totrans-700
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 8.43: The distribution of leverage values'
  id: totrans-701
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.43：杠杆值的分布'
- en: '](img/C12626_08_43.jpg)'
  id: totrans-702
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_08_43.jpg)'
- en: 'Figure 8.43: The distribution of leverage values'
  id: totrans-703
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8.43：杠杆值的分布
- en: '[PRE162]'
  id: totrans-704
  prefs: []
  type: TYPE_PRE
  zh: '[PRE162]'
- en: 'The output is as follows:'
  id: totrans-705
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 8.44: The distribution of conviction values'
  id: totrans-706
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 8.44：信念值的分布'
- en: '](img/C12626_08_44.jpg)'
  id: totrans-707
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_08_44.jpg)'
- en: 'Figure 8.44: The distribution of conviction values'
  id: totrans-708
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8.44：信念值的分布
- en: Having derived association rules, we can return to management with additional
    information, the most important of which would be that there are roughly seven
    item sets that have reasonably high values for both support and confidence. Look
    at the scatterplot of confidence against support to see the seven item sets that
    are separated from all the others. These seven item sets also have high lift values,
    as can be seen in the lift histogram. It seems that we have identified some actionable
    association rules, rules that we can use to drive business decisions.
  id: totrans-709
  prefs: []
  type: TYPE_NORMAL
  zh: 得出关联规则后，我们可以向管理层提供更多信息，其中最重要的一点是，大约有七个项集在支持度和置信度上都有较高的值。查看支持度与置信度的散点图，看看哪些七个项集与其他项集有所区别。这七个项集的提升值也很高，从提升直方图中可以看出。看来我们已经识别出一些可以采取行动的关联规则，这些规则可以用来推动商业决策。
- en: 'Chapter 9: Hotspot Analysis'
  id: totrans-710
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第9章：热点分析
- en: 'Activity 21: Estimating Density in One Dimension'
  id: totrans-711
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动 21：在一维空间中估算密度
- en: 'Solution:'
  id: totrans-712
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: Open a new notebook and install all the necessary libraries.
  id: totrans-713
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个新笔记本并安装所有必要的库。
- en: '[PRE163]'
  id: totrans-714
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE163]'
- en: 'Sample 1,000 data points from the standard normal distribution. Add 3.5 to
    each of the last 625 values of the sample (that is, the indices between 375 and
    1,000). To do this, set a random state of 100 using `numpy.random.RandomState`
    to guarantee the same sampled values, and then randomly generate the data points
    using the `randn(1000)` call:'
  id: totrans-715
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从标准正态分布中采样1,000个数据点。将3.5加到样本的最后625个值上（即，索引范围从375到1,000）。为此，使用`numpy.random.RandomState`设置随机状态为100，以保证采样值一致，然后使用`randn(1000)`调用随机生成数据点：
- en: '[PRE164]'
  id: totrans-716
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE164]'
- en: 'Plot the 1,000-point sample data as a histogram and add a scatterplot below
    it:'
  id: totrans-717
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将1,000个数据点的样本数据绘制为直方图，并在其下方添加散点图：
- en: '[PRE165]'
  id: totrans-718
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE165]'
- en: 'The output is as follows:'
  id: totrans-719
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 9.29: A histogram of the random sample with a scatterplot underneath'
  id: totrans-720
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图9.29：随机样本的直方图，下方是散点图'
- en: '](img/C12626_09_29.jpg)'
  id: totrans-721
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_09_29.jpg)'
- en: 'Figure 9.29: A histogram of the random sample with a scatterplot underneath'
  id: totrans-722
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图9.29：随机样本的直方图，下方是散点图
- en: 'Define a grid of bandwidth values. Then, define and fit a grid search cross-validation
    algorithm:'
  id: totrans-723
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义一组带宽值。然后，定义并拟合一个网格搜索交叉验证算法：
- en: '[PRE166]'
  id: totrans-724
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE166]'
- en: 'Extract the optimal bandwidth value:'
  id: totrans-725
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提取最佳带宽值：
- en: '[PRE167]'
  id: totrans-726
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE167]'
- en: 'Replot the histogram from *Step 3* and overlay the estimated density:'
  id: totrans-727
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新绘制*步骤3*中的直方图，并叠加估计的密度：
- en: '[PRE168]'
  id: totrans-728
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE168]'
- en: 'The output is as follows:'
  id: totrans-729
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 9.30: A histogram of the random sample with the optimal estimated
    density overlaid'
  id: totrans-730
  prefs: []
  type: TYPE_NORMAL
  zh: '![图9.30：随机样本的直方图，叠加了最佳估计的密度'
- en: '](img/C12626_09_30.jpg)'
  id: totrans-731
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_09_30.jpg)'
- en: 'Figure 9.30: A histogram of the random sample with the optimal estimated density
    overlaid'
  id: totrans-732
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图9.30：随机样本的直方图，叠加了最佳估计的密度
- en: 'Activity 22: Analyzing Crime in London'
  id: totrans-733
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动22：分析伦敦的犯罪情况
- en: 'Solution:'
  id: totrans-734
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案：
- en: 'Load the crime data. Use the path where you saved the downloaded directory,
    create a list of the year-month tags, use the `read_csv` command to load the individual
    files iteratively, and then concatenate these files together:'
  id: totrans-735
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载犯罪数据。使用保存下载目录的路径，创建年份-月份标签的列表，使用`read_csv`命令逐个加载单独的文件，然后将这些文件合并在一起：
- en: '[PRE169]'
  id: totrans-736
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE169]'
- en: 'The output is as follows:'
  id: totrans-737
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 9.31: An example of one of the individual crime files'
  id: totrans-738
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图9.31：单个犯罪文件的示例'
- en: '](img/C12626_09_31.jpg)'
  id: totrans-739
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_09_31.jpg)'
- en: 'Figure 9.31: An example of one of the individual crime files'
  id: totrans-740
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图9.31：单个犯罪文件的示例
- en: This printed information is just for the first of the loaded files, which will
    be the criminal information from the Metropolitan Police Service for July 2018\.
    This one file has nearly 100,000 entries. You will notice that there is a great
    deal of interesting information in this dataset, but we will focus on `Longitude`,
    `Latitude`, `Month`, and `Crime type`.
  id: totrans-741
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 该打印信息仅针对加载的第一个文件，即2018年7月伦敦大都会警察局的犯罪信息。该文件包含近100,000条记录。你会注意到数据集中包含大量有趣的信息，但我们将重点关注`Longitude`（经度）、`Latitude`（纬度）、`Month`（月份）和`Crime
    type`（犯罪类型）。
- en: 'Print diagnostics of the complete (six months) and concatenated dataset:'
  id: totrans-742
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打印完整（六个月）和合并数据集的诊断信息：
- en: '[PRE170]'
  id: totrans-743
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE170]'
- en: 'The output is as follows:'
  id: totrans-744
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 9.32: Descriptors of the full crime dataset'
  id: totrans-745
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图9.32：完整犯罪数据集的描述信息'
- en: '](img/C12626_09_32.jpg)'
  id: totrans-746
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_09_32.jpg)'
- en: 'Figure 9.32: Descriptors of the full crime dataset'
  id: totrans-747
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图9.32：完整犯罪数据集的描述信息
- en: 'Subset the DataFrame down to four variables (`Longitude`, `Latitude`, `Month`,
    and `Crime type`):'
  id: totrans-748
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据框限制为四个变量（`Longitude`，`Latitude`，`Month`和`Crime type`）：
- en: '[PRE171]'
  id: totrans-749
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE171]'
- en: 'The output is as follows:'
  id: totrans-750
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 9.33: Crime data in DataFrame form subset down to the Longitude, Latitude,
    Month, and Crime type columns'
  id: totrans-751
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图9.33：数据框中犯罪数据的子集，仅保留经度、纬度、月份和犯罪类型列'
- en: '](img/C12626_09_33.jpg)'
  id: totrans-752
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_09_33.jpg)'
- en: 'Figure 9.33: Crime data in DataFrame form subset down to the Longitude, Latitude,
    Month, and Crime type columns'
  id: totrans-753
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图9.33：数据框中犯罪数据的子集，仅保留经度、纬度、月份和犯罪类型列
- en: 'Using the `jointplot` function from `seaborn`, fit and visualize three kernel
    density estimation models for bicycle theft in July, September, and December 2018:'
  id: totrans-754
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`seaborn`的`jointplot`函数，拟合并可视化2018年7月、9月和12月自行车盗窃的三种核密度估计模型：
- en: '[PRE172]'
  id: totrans-755
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE172]'
- en: 'The output is as follows:'
  id: totrans-756
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 9.34: The estimated joint and marginal densities for bicycle thefts
    in July 2018'
  id: totrans-757
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图9.34：2018年7月自行车盗窃的联合密度和边际密度估计'
- en: '](img/C12626_09_34.jpg)'
  id: totrans-758
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_09_34.jpg)'
- en: 'Figure 9.34: The estimated joint and marginal densities for bicycle thefts
    in July 2018'
  id: totrans-759
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图9.34：2018年7月自行车盗窃的联合密度和边际密度估计
- en: '[PRE173]'
  id: totrans-760
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE173]'
- en: 'The output is as follows:'
  id: totrans-761
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '![Figure 9.35: The estimated joint and marginal densities for bicycle thefts
    in September 2018'
  id: totrans-762
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 9.35：2018年9月自行车盗窃的联合分布和边际分布估计]'
- en: '](img/C12626_09_35.jpg)'
  id: totrans-763
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_09_35.jpg)'
- en: 'Figure 9.35: The estimated joint and marginal densities for bicycle thefts
    in September 2018'
  id: totrans-764
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 9.35：2018年9月自行车盗窃的联合分布和边际分布估计
- en: '[PRE174]'
  id: totrans-765
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE174]'
- en: 'The output is as follows:'
  id: totrans-766
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 9.36: The estimated joint and marginal densities for bicycle thefts
    in December 2018'
  id: totrans-767
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 9.36：2018年12月自行车盗窃的联合分布和边际分布估计]'
- en: '](img/C12626_09_36.jpg)'
  id: totrans-768
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_09_36.jpg)'
- en: 'Figure 9.36: The estimated joint and marginal densities for bicycle thefts
    in December 2018'
  id: totrans-769
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 9.36：2018年12月自行车盗窃的联合分布和边际分布估计
- en: From month to month, the density of bicycle thefts stays quite constant. There
    are slight differences between the densities, which is to be expected given that
    the data that is the foundation of these estimated densities is three one-month
    samples. Given these results, police or criminologists should be confident in
    predicting where future bicycle thefts are most likely to occur.
  id: totrans-770
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 从月份到月份，自行车盗窃的密度保持相当稳定。密度之间有细微的差异，这在所预期之内，因为这些估计的密度是基于三个月的样本数据。根据这些结果，警察或犯罪学家应该对预测未来最可能发生自行车盗窃的地点充满信心。
- en: 'Repeat *Step 4*; this time, use shoplifting crimes for the months of August,
    October, and November 2018:'
  id: totrans-771
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复*步骤 4*；这次，使用2018年8月、10月和11月的商店盗窃数据：
- en: '[PRE175]'
  id: totrans-772
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE175]'
- en: 'The output is as follows:'
  id: totrans-773
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 9.37: The estimated joint and marginal densities for shoplifting incidents
    in August 2018'
  id: totrans-774
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 9.37：2018年8月商店盗窃事件的联合分布和边际分布估计]'
- en: '](img/C12626_09_37.jpg)'
  id: totrans-775
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_09_37.jpg)'
- en: 'Figure 9.37: The estimated joint and marginal densities for shoplifting incidents
    in August 2018'
  id: totrans-776
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 9.37：2018年8月商店盗窃事件的联合分布和边际分布估计
- en: '[PRE176]'
  id: totrans-777
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE176]'
- en: 'The output is as follows:'
  id: totrans-778
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 9.38: The estimated joint and marginal densities for shoplifting incidents
    in October 2018'
  id: totrans-779
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 9.38：2018年10月商店盗窃事件的联合分布和边际分布估计]'
- en: '](img/C12626_09_38.jpg)'
  id: totrans-780
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_09_38.jpg)'
- en: 'Figure 9.38: The estimated joint and marginal densities for shoplifting incidents
    in October 2018'
  id: totrans-781
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 9.38：2018年10月商店盗窃事件的联合分布和边际分布估计
- en: '[PRE177]'
  id: totrans-782
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE177]'
- en: 'The output is as follows:'
  id: totrans-783
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 9.39: The estimated joint and marginal densities for shoplifting incidents
    in November 2018'
  id: totrans-784
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![图 9.39：2018年11月商店盗窃事件的联合分布和边际分布估计]'
- en: '](img/C12626_09_39.jpg)'
  id: totrans-785
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '](img/C12626_09_39.jpg)'
- en: 'Figure 9.39: The estimated joint and marginal densities for shoplifting incidents
    in November 2018'
  id: totrans-786
  prefs:
  - PREF_IND
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 9.39：2018年11月商店盗窃事件的联合分布和边际分布估计
- en: Like the bicycle theft results, the shoplifting densities are quite stable across
    the months. The density from August 2018 looks different from the other two months;
    however, if you look at the longitude and latitude values, you will notice that
    the density is very similar, but it has just shifted and scaled. The reason for
    this is that there were probably a number of outliers forcing the creation of
    a much larger plotting region.
  id: totrans-787
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 与自行车盗窃的结果类似，商店盗窃的密度在各个月份之间保持相当稳定。2018年8月的密度看起来与其他两个月有所不同；然而，如果你查看经纬度值，你会发现密度非常相似，只是发生了平移和缩放。这是因为可能存在一些离群点，迫使绘图区域变得更大。
- en: 'Repeat *Step 5*; this time use burglary crimes for the months of July, October,
    and December 2018:'
  id: totrans-788
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复*步骤 5*；这次使用2018年7月、10月和12月的入室盗窃数据：
- en: '[PRE178]'
  id: totrans-789
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE178]'
- en: 'The output is as follows:'
  id: totrans-790
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 9.40: The estimated joint and marginal densities for burglaries in
    July 2018'
  id: totrans-791
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 9.40：2018年7月入室盗窃的联合分布和边际分布估计]'
- en: '](img/C12626_09_40.jpg)'
  id: totrans-792
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_09_40.jpg)'
- en: 'Figure 9.40: The estimated joint and marginal densities for burglaries in July
    2018'
  id: totrans-793
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 9.40：2018年7月入室盗窃的联合分布和边际分布估计
- en: '[PRE179]'
  id: totrans-794
  prefs: []
  type: TYPE_PRE
  zh: '[PRE179]'
- en: 'The output is as follows:'
  id: totrans-795
  prefs: []
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 9.41: The estimated joint and marginal densities for burglaries in
    October 2018'
  id: totrans-796
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 9.41：2018年10月入室盗窃的联合分布和边际分布估计]'
- en: '](img/C12626_09_41.jpg)'
  id: totrans-797
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_09_41.jpg)'
- en: 'Figure 9.41: The estimated joint and marginal densities for burglaries in October
    2018'
  id: totrans-798
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 9.41：2018年10月入室盗窃的联合分布和边际分布估计
- en: '[PRE180]'
  id: totrans-799
  prefs: []
  type: TYPE_PRE
  zh: '[PRE180]'
- en: 'The output is as follows:'
  id: totrans-800
  prefs: []
  type: TYPE_NORMAL
  zh: 输出结果如下：
- en: '![Figure 9.42: The estimated joint and marginal densities for burglaries in
    December 2018'
  id: totrans-801
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 9.42：2018年12月入室盗窃的联合分布和边际分布估计]'
- en: '](img/C12626_09_42.jpg)'
  id: totrans-802
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/C12626_09_42.jpg)'
- en: 'Figure 9.42: The estimated joint and marginal densities for burglaries in December
    2018'
  id: totrans-803
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 9.42：2018年12月入室盗窃的联合分布和边际分布估计
- en: Once again, we can see that the distributions are quite similar across the months.
    The only difference is that the densities seem to widen or spread from July to
    December. As always, the noise and inherent lack of information contained in the
    sample data is causing small shifts in the estimated densities.
  id: totrans-804
  prefs: []
  type: TYPE_NORMAL
  zh: 再次，我们可以看到各个月份的分布非常相似。唯一的区别是从七月到十二月，密度似乎变得更加宽广或分散。和往常一样，样本数据中固有的噪声和信息缺失导致了估计密度的微小变化。
