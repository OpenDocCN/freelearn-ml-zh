- en: Improving Individual Models
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 提升个体模型
- en: In this chapter, we will see how we can improve different models, and we will
    see how to modify model options. We will also learn how to use different models
    and see how we can remove noise by removing predictors that are not really needed
    for predictions. You will also understand how to prepare additional data for the
    models, and we will see how we can add additional fields. Finally, you see how
    how oversampling and undersampling different categories of an outcome variable
    can make it more likely that the model that you end up using actually better understands
    the data.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将看到如何提升不同的模型，以及如何修改模型选项。我们还将学习如何使用不同的模型，并了解如何通过移除对预测并非真正必要的预测变量来去除噪声。您还将了解如何为模型准备额外的数据，我们将看到如何添加额外的字段。最后，您将看到过采样和欠采样结果变量的不同类别如何使您最终使用的模型更有可能真正理解数据。
- en: 'The following are the topics that will be covered in this chapter, and these
    are the ways in which models can be improved:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题，以及模型可以如何被提升：
- en: Modifying model options
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修改模型选项
- en: Using different models
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用不同的模型
- en: Removing noise
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 去除噪声
- en: Doing additional data preparation
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 进行额外的数据准备
- en: Balancing data (oversampling/undersampling)
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 平衡数据（过采样/欠采样）
- en: Modifying model options
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 修改模型选项
- en: 'Modifying model options to improve the model is one of the straightforward
    ways to improve a model. We will see how we can do this with the help of an example:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 通过修改模型选项来改进模型是提升模型的一种直接方法。我们将通过一个例子来展示如何做到这一点：
- en: 'We will create an SVM model just as we did in the second chapter:'
  id: totrans-10
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将创建一个与第二章中相同的SVM模型：
- en: '![](img/5df9f40a-f416-4358-a497-5ded25fa0549.png)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5df9f40a-f416-4358-a497-5ded25fa0549.png)'
- en: Click on Status, go to the Expert tab, and select Expert under Mode. As we have
    seen in [Chapter 2](f4f20b86-4417-4c0c-a8b2-d0be16f28e20.xhtml), *Getting Started
    with Machine Learning*, whenever we are using SVM models, we need to modify their
    settings. Change the Regularization parameter to 5\. And, in the Kernel type,
    select Polynomial. Then, click on Run.
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击状态，转到专家选项卡，并在模式下选择专家。正如我们在[第2章](f4f20b86-4417-4c0c-a8b2-d0be16f28e20.xhtml)“机器学习入门”中看到的，当我们使用SVM模型时，我们需要修改它们的设置。将正则化参数更改为5。然后，在核类型中选择多项式。然后，点击运行。
- en: 'You will see a model created. Now, let''s do our next step of analyzing the
    model. Connect your generated model to an Analysis node from the Output palette.
    Open the Analysis node, and select the Coincidence matrices (for the symbolic
    targets option) and click on Run. This will be the result that will be acquired:'
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将看到一个模型被创建。现在，让我们进行下一步，分析模型。将您的生成模型连接到输出调色板中的分析节点。打开分析节点，选择巧合矩阵（对于符号目标选项）并点击运行。这将是我们获得的结果：
- en: '![](img/ca69616e-309c-453d-b08a-0ba3c5710a08.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ca69616e-309c-453d-b08a-0ba3c5710a08.png)'
- en: The results clearly show that the model isn't consistent as there is a huge
    difference between the accuracy percentage of the training and the testing dataset.
    But, what we can see is the testing percentage is better than the testing percentage
    that we acquired for the linear model in [Chapter 2](f4f20b86-4417-4c0c-a8b2-d0be16f28e20.xhtml),
    *Getting Started with Machine Learning*, around 73%. Hence, maybe the polynomial
    model can do a better job but not with the current model as it is capitalizing
    on chance.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 结果清楚地显示，模型并不一致，因为训练集和测试集的准确率百分比之间存在巨大差异。但我们看到的是，测试百分比比我们在[第2章](f4f20b86-4417-4c0c-a8b2-d0be16f28e20.xhtml)“机器学习入门”中获得的线性模型的测试百分比要好，大约为73%。因此，也许多项式模型可以做得更好，但不是当前的模型，因为它正在利用机会。
- en: Now that we have a potentially better model, we can go ahead and modify the
    settings of this model. You can go to the SVM model status, and in the Expert
    tab, you can see that the Degree is set to 3\. There is a chance that this cubic
    function may be proving a bit complex for the data that we have. Let's use a quadratic
    function instead. Change the Degree to 2 and click Run.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有一个可能更好的模型，我们可以继续修改这个模型的设置。您可以转到SVM模型状态，在专家选项卡中，您可以看到度数设置为3。有可能这个三次函数对于我们拥有的数据来说可能有点复杂。让我们改用一个二次函数。将度数更改为2并点击运行。
- en: 'Again, run the analysis just like we have always done, and you will find these
    results:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 再次，像我们以前做的那样运行分析，您将找到以下结果：
- en: '![](img/8554ba26-20aa-4c56-b168-1b0242cb7c29.png)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8554ba26-20aa-4c56-b168-1b0242cb7c29.png)'
- en: As you can see, the accuracy percentages of both the datasets are within a difference
    of 5%. Hence, we can say that the model is consistent. Moreover, we can also see
    that the overall accuracy for the testing dataset has improved.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，两个数据集的准确率百分比之间的差异在5%以内。因此，我们可以说该模型是一致的。此外，我们还可以看到测试数据集的整体准确率有所提高。
- en: This is how we improved an existing model by modifying its options to provide
    better results with higher overall accuracy and consistency.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是我们通过修改其选项来改进现有模型，以提供具有更高整体准确率和一致性的更好结果的方式。
- en: Using a different model to improve results
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用不同的模型来提高结果
- en: In the previous section, we saw how we can improve a result acquired from the
    model by modifying its options. Now, we will see how to improve the results by
    changing the model itself.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一节中，我们看到了如何通过修改其选项来改进从模型中获得的结果。现在，我们将看到如何通过更改模型本身来提高结果。
- en: 'Every model looks at the data differently. They have their own algorithms.
    These algorithms provide us with different perspectives to look at the data. Sometimes,
    just changing the perception of looking at the data can give us improved results.
    The different algorithms capitalize on unique aspects of data. Let''s see how
    we can do this with the help of an example:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 每个模型看待数据的方式都不同。它们有自己的算法。这些算法为我们提供了不同的视角来观察数据。有时，仅仅改变观察数据的方式就能给我们带来更好的结果。不同的算法利用数据的独特方面。让我们通过一个例子看看我们如何做到这一点：
- en: Bring your data, and partition it into training and testing datasets.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 带上您的数据，将其分为训练集和测试集。
- en: 'Connect the Partition node to a Neural Net node from the Modeling palette:'
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将“分区”节点连接到建模调色板中的“神经网络”节点：
- en: '![](img/75253761-59fd-422c-aea4-a4e03a8f3af5.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/75253761-59fd-422c-aea4-a4e03a8f3af5.png)'
- en: 'Click on the Neural Net node and go to the Build Options tab. In this, go the
    Advanced option and just change the Random seed to `5000`:'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“神经网络”节点，然后转到“构建选项”标签页。在这里，转到“高级”选项，只需将随机种子更改为`5000`：
- en: '![](img/4fd2e68f-7287-4803-b3a1-63fb082eb2b6.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/4fd2e68f-7287-4803-b3a1-63fb082eb2b6.png)'
- en: The reason that we are keeping the seed as `5000` is because we have acquired
    a better result using `5000` as the seed, as you may can recall from [Chapter
    2](f4f20b86-4417-4c0c-a8b2-d0be16f28e20.xhtml), *Getting Started with Machine
    Learning*, where we have demonstrated a neural network.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们保持随机种子为`5000`的原因是，我们使用`5000`作为种子获得了更好的结果，正如您可能从[第2章](f4f20b86-4417-4c0c-a8b2-d0be16f28e20.xhtml)，“机器学习入门”，中回忆的那样，我们在其中演示了一个神经网络。
- en: Click on Run.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“运行”。
- en: 'Once again, you will have to analyze the model that is built. For this, recall
    the steps that we have followed until now. Go to the Output palette, and connect
    the generated model node to the Analysis node. Run the Analysis node with the
    checked Coincidence matrices. The following will be the results acquired:'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次，您将不得不分析构建的模型。为此，回想一下我们迄今为止所遵循的步骤。转到输出调色板，将生成的模型节点连接到“分析”节点。使用勾选的巧合矩阵运行“分析”节点。以下将是获得的结果：
- en: '![](img/df18ccd7-5fd4-43f7-aa7b-38a7f0f902a2.png)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/df18ccd7-5fd4-43f7-aa7b-38a7f0f902a2.png)'
- en: You can see that we are at an overall accuracy of around 80%, and how each of
    the predictions have performed. The overall accuracy is similar to what we have
    achieved when we used the SVM model. Hence, we can say that the SVM and Neural
    Net models are doing equally well for this dataset. Let's see how we can improve
    these results a little more.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以看到，我们的整体准确率约为80%，以及每个预测的表现。整体准确率与我们使用SVM模型时达到的准确率相似。因此，我们可以说SVM和神经网络模型在这个数据集上表现同样出色。让我们看看我们如何进一步提高这些结果。
- en: 'We will use a decision tree in this example. For adding a decision tree node,
    select the Partition node, and connect it to the C5.0 node from the Modeling palette:'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这个例子中，我们将使用决策树。为了添加决策树节点，选择“分区”节点，并将其从建模调色板中的C5.0节点连接：
- en: '![](img/bbfe92f1-947f-4b21-b98e-186e5cd9d482.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/bbfe92f1-947f-4b21-b98e-186e5cd9d482.png)'
- en: The C5.0 model is a decision tree model that looks at the data from a very different
    perspective.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: C5.0模型是一个决策树模型，它从非常不同的角度观察数据。
- en: 'Click on the C5.0 model node to build a **C5.0** model and run it:'
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击C5.0模型节点以构建**C5.0**模型并运行它：
- en: '![](img/a23483f3-5ab3-4967-8189-0ba7a4c1e610.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/a23483f3-5ab3-4967-8189-0ba7a4c1e610.png)'
- en: Now, connect the C5.0 model node to the Neural Net generated model node.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将C5.0模型节点连接到神经网络生成的模型节点。
- en: 'Connect the C5.0 generated model to the Analysis node:'
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将C5.0生成的模型连接到“分析”节点：
- en: '![](img/e1bebf80-9c06-4a40-8a34-4cca560fee36.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e1bebf80-9c06-4a40-8a34-4cca560fee36.png)'
- en: This will enable us to compare the results very easily.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 这将使我们能够非常容易地比较结果。
- en: 'Run the Analysis node. The following will be the results acquired:'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行分析节点。以下将是获得的结果：
- en: '![](img/0156d7c3-821b-41a3-b8bb-33478e428957.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0156d7c3-821b-41a3-b8bb-33478e428957.png)'
- en: As you can see, the overall accuracy for the testing dataset with the C5.0 model
    is 85%. This is much better than what we had acquired with just the Neural Net
    model. We can certainly improve on this by making some modifications to the C5.0
    model, which I'll leave up to you as a homework exercise.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，使用C5.0模型对测试数据集的整体准确率为85%。这比我们仅使用神经网络模型获得的结果要好得多。我们当然可以通过对C5.0模型进行一些修改来进一步提高这一点，我将把它留作您的家庭作业练习。
- en: So, we saw how the C5.0 model slightly improved the results, and has done a
    good job in overall accuracy and with each of the predictions both for the training
    and testing dataset. This was just an example on another approach to improve the
    performance of a model. We will now see how removing noise from the data can give
    us much better results.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们看到了C5.0模型略微提高了结果，并在总体准确性和对训练集和测试集的每个预测方面都做得很好。这只是另一种提高模型性能的方法的例子。我们现在将看到去除数据中的噪声如何给我们带来更好的结果。
- en: Removing noise to improve models
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 去除噪声以改进模型
- en: Let's focus on how noise can affect the results. Noise is nothing but missing
    data, outliers, or too many predictors that try to confuse the model with unnecessary
    predictions.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们关注噪声如何影响结果。噪声不过是缺失数据、异常值或试图用不必要的预测来混淆模型的过多预测因子。
- en: Decision tree models don't have noise because of too many predictors, as by
    default, they eliminate the predictors that they don't use for predictions as
    opposed to other statistical and machine learning models.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 决策树模型由于默认情况下会消除它们不用于预测的预测因子，因此不会因为预测因子太多而产生噪声，这与其他统计和机器学习模型不同。
- en: 'Having too many predictors in a model causes the following problems:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 模型中过多的预测因子会导致以下问题：
- en: Additional noise in the data that affects the overall accuracy of the model
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据中的额外噪声会影响模型的总体准确性
- en: The model becomes much more complex than it should be
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模型变得比应有的复杂得多
- en: If new data is to be added for new predictions, we need to collect data even
    for the variables that are not important and are not really required for the predictions,
    because our model uses them up to a certain extent.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果要添加新的数据以进行新的预测，我们需要收集那些不重要且实际上并不需要用于预测的变量的数据，因为我们的模型在某种程度上会使用它们。
- en: If these kinds of predictors are cleared and eliminated from the model, this
    could simplify the understanding of the model and, potentially, it will give better
    results as well.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这些类型的预测因子从模型中清除并消除，这可能会简化模型的理解，并且可能还会给出更好的结果。
- en: How to remove noise
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何去除噪声
- en: 'Let''s understand with the help of an example. Follow these steps:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个例子来理解。按照以下步骤操作：
- en: Partition your data into a training and testing dataset.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将您的数据划分为训练集和测试集。
- en: Connect your Partition node to a Neural Net model from the Modeling palette.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将您的分区节点连接到建模面板中的神经网络模型。
- en: Select the model and, just like we have always done, go to the Build Options
    tab, then to the Advanced options, and change the Random seed to `5000` (because
    that has given us the best results so far). Click on Run.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择模型，就像我们一直做的那样，转到“构建选项”选项卡，然后转到“高级选项”，将随机种子更改为`5000`（因为到目前为止这已经给出了最佳结果）。点击运行。
- en: 'We have seen the accuracy of this model before. Refer to the list of top 10
    predictors for different random seeds that we acquired and stored in a table while
    demonstrating Neural Net in [Chapter 2](f4f20b86-4417-4c0c-a8b2-d0be16f28e20.xhtml),
    *Getting Started with Machine Learning*:'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们之前已经看到过这个模型的准确性。请参考我们在[第2章](f4f20b86-4417-4c0c-a8b2-d0be16f28e20.xhtml)“机器学习入门”中演示神经网络时获取并存储在表中的不同随机种子前10个预测因子列表：
- en: '![](img/6e878a7d-ac7e-449f-9a20-3c5b75b0fbf4.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6e878a7d-ac7e-449f-9a20-3c5b75b0fbf4.png)'
- en: We will now remove the variables, which haven't appeared in any of the models
    or have appeared in just a few.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在将去除那些在任何模型中都没有出现或只出现几次的变量。
- en: 'For removing variables, we will create another version of this Neural Net model.
    Connect the Partition node to another Neural Net model from the Modeling palette:'
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了去除变量，我们将创建这个神经网络模型的另一个版本。将分区节点连接到建模面板中的另一个神经网络模型：
- en: '![](img/4251f35a-c0c2-40f3-b57d-f1ae18201be8.png)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4251f35a-c0c2-40f3-b57d-f1ae18201be8.png)'
- en: 'Edit the new Neural Net model: Here, in the Fields tab, we will remove the
    Predictors that didn''t appear in the top 10 list of any model:'
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编辑新的神经网络模型：在这里，在字段选项卡中，我们将移除任何模型中未出现在前10位列表中的预测因子：
- en: '![](img/3b731e5b-ff81-4d04-b837-297657a1df6a.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/3b731e5b-ff81-4d04-b837-297657a1df6a.png)'
- en: You just have to click the predictor from the Inputs list and click on the arrow
    pointing towards the left-side box. You can also restore them if needed using
    the same method. These are the variables that didn't appear in the top 10 list
    of any model.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 您只需从输入列表中选择预测因子，然后点击指向左侧框的箭头。如果需要，您也可以使用相同的方法恢复它们。这些是未出现在任何模型前10位列表中的变量。
- en: 'We will also remove the variables that appeared just once or twice in the lists:'
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们还将移除在列表中只出现一次或两次的变量：
- en: '![](img/0f8917ea-9fa6-4c73-9d7a-83d1088e724e.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/0f8917ea-9fa6-4c73-9d7a-83d1088e724e.png)'
- en: Go to the Advanced options in the Build Options tab and change the Random seed
    to `5000.` Then click on Run.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往构建选项选项卡的高级选项，并将随机种子更改为`5000`。然后点击运行。
- en: 'Connect the first Neural Net model to the second Neural Net model:'
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将第一个神经网络模型连接到第二个神经网络模型：
- en: '![](img/e168247f-90d3-4dc4-83c0-ef782b8cd18b.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e168247f-90d3-4dc4-83c0-ef782b8cd18b.png)'
- en: 'Connect the second Neural Net model to the Analysis node from the Output palette:'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将第二个神经网络模型连接到输出调色板中的分析节点：
- en: '![](img/bb652aff-a9e8-46bb-9409-b42ebf681a07.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/bb652aff-a9e8-46bb-9409-b42ebf681a07.png)'
- en: 'Run the Analysis node, just like we have always done. The following will be
    the comparative analysis of the two models:'
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行分析节点，就像我们一直做的那样。以下将是两个模型的比较分析：
- en: '![](img/ddd7e56b-0830-4cf5-b040-e33ca0dc02f4.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/ddd7e56b-0830-4cf5-b040-e33ca0dc02f4.png)'
- en: As you can see, the overall accuracy for the testing and training dataset of
    the second model is slightly better than the first model. Hence, we got a 2% improvement
    in predictability just by removing some unnecessary predictors. If we see the
    job of the model in predicting for each of the individual categories, the model
    with noise removed has done well in that too.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，第二个模型的测试和训练数据集的整体准确率略高于第一个模型。因此，我们仅通过去除一些不必要的预测因子就提高了2%的可预测性。如果我们看到模型在预测每个单独类别的工作，去除噪声的模型在这方面也做得很好。
- en: Hence, we have explored another way to improve the results acquired from a model.
    We saw how removing noise, and reducing the number of variables or predictors
    by eliminating the unnecessary ones, can give us better results. Let's move on
    to see another method to improve accuracy. We will see how preparing the data
    to some extent can give us better results.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们探索了另一种提高模型获取结果的方法。我们看到了如何通过去除噪声，通过消除不必要的变量或预测因子来减少变量的数量，可以给我们带来更好的结果。让我们继续看看另一种提高准确性的方法。我们将看到如何准备数据在一定程度上可以给我们带来更好的结果。
- en: Doing additional data preparation
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进行额外的数据准备
- en: In this section, we will see how additional preparation done on the data can
    allow us to extract an extra piece of information.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将看到对数据进行额外准备如何使我们能够提取额外的信息。
- en: Until now, we have improved our model by modifying its options, using a different
    model, changing the perspective of looking at data, and removing noise. Sometimes
    though, these techniques will just slightly improve the model; but if you could
    go back to the data preparation phase and look for extra bits that can be pulled
    from the data that can give better results, this can really go a long way in improving
    accuracy.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们通过修改选项、使用不同的模型、改变观察数据的角度以及去除噪声来改进我们的模型。然而，有时这些技术只会略微提高模型；但如果你能回到数据准备阶段，寻找可以从数据中提取的额外信息，这真的可以在提高准确性方面走得很远。
- en: Preparing the data
  id: totrans-82
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备数据
- en: 'Follow these steps to prepare the data in the data preparation stage:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤在数据准备阶段准备数据：
- en: Get your data and partition it.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取您的数据并将其分区。
- en: Run a Neural Net model again, with a Random seed of `5000`. We will get an accuracy
    of around 80%.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次运行神经网络模型，随机种子为`5000`。我们将得到大约80%的准确率。
- en: We will now create a new model and add one additional predictor. If you go back
    to the list of top ten predictors list, we will find predictors such as the number
    of speakers and TVs that customers purchased. Hence, it makes sense to have a
    predictor that shows the total number of items purchased.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们将创建一个新的模型并添加一个额外的预测因子。如果你回到前十个预测因子列表，我们会发现像客户购买的演讲者和电视机的数量这样的预测因子。因此，有一个显示购买项目总数的预测因子是有意义的。
- en: 'Go to the Field Ops palette and connect the Partition node to a Derive node:'
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往字段操作调色板，并将分区节点连接到导出节点：
- en: '![](img/e4bbdd4e-1820-4afb-91b6-036ef9b63b36.png)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e4bbdd4e-1820-4afb-91b6-036ef9b63b36.png)'
- en: A Derive node allows us to create additional variables.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 导出节点允许我们创建额外的变量。
- en: 'Edit the Derive node. Set the Derive field as `Total Items` and click on the
    expression builder button, which is on the right of the Formula field, and we
    will create an expression by selecting the predictors of interest and clicking
    on the plus button:'
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编辑导出节点。将导出字段设置为“总项目”，然后点击公式字段右侧的表达式构建器按钮，通过选择感兴趣的预测因子并点击加号按钮来创建一个表达式：
- en: '![](img/98a8ca4d-86d7-41b9-b4d7-6bc7a20ae433.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/98a8ca4d-86d7-41b9-b4d7-6bc7a20ae433.png)'
- en: 'This means that `Total Items` includes Stereos, TVs, and Speakers. You will
    get an expression in the Formula field, like this:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着“总项目”包括立体声、电视和扬声器。你将在公式字段中得到一个表达式，如下所示：
- en: '![](img/15f8b8bf-8e7a-4d06-a0ff-5a47982557d8.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/15f8b8bf-8e7a-4d06-a0ff-5a47982557d8.png)'
- en: This is the expression that will be used for `Total Items`. Click on OK.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 这是用于“总项目”的表达式。点击确定。
- en: 'The variable that we just created needs to be instantiated so that the model
    is able to use it; for this, connect the Total Items node to the Type node from
    the Field Ops palette:'
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们刚刚创建的变量需要实例化，以便模型能够使用它；为此，从字段操作调色板将总项目节点连接到类型节点：
- en: '![](img/2d96befb-9d04-40ec-8d39-b527c5e644c8.png)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/2d96befb-9d04-40ec-8d39-b527c5e644c8.png)'
- en: 'Edit the Type node. Click on the Read Values button to read the new variable:'
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编辑类型节点。点击读取值按钮来读取新变量：
- en: '![](img/411fecf1-2216-4a4a-9834-c3690eb8255f.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/411fecf1-2216-4a4a-9834-c3690eb8255f.png)'
- en: As you can see, the Total Items predictor is now read, and that it will be counted
    as an Input predictor in this model. Click on OK.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，“总项目”预测因子现在已被读取，并且它将被计为模型中的输入预测因子。点击确定。
- en: 'Connect the Type node to a Neural Net model from the Modeling palette:'
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将类型节点连接到建模调色板中的神经网络模型：
- en: '![](img/8b81bf1a-ad4f-444d-a4ff-04029669859c.png)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/8b81bf1a-ad4f-444d-a4ff-04029669859c.png)'
- en: Run the Neural Net model with Random seed set to `5000`.
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将随机种子设置为`5000`运行神经网络模型。
- en: 'Take a look at the model results by clicking on the newly generated model.
    You can see that the Total Items has acquired its place in the top ten predictors
    in Predictor Importance:'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击新生成的模型查看模型结果。你可以看到“总项目”已经在预测重要性中的前十个预测因子中占有一席之地：
- en: '![](img/3817cc99-fd3a-4d12-a4e3-0b5e7f86cdbb.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/3817cc99-fd3a-4d12-a4e3-0b5e7f86cdbb.png)'
- en: Close the window.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 关闭窗口。
- en: 'We will now connect the first generated model to the second model:'
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们现在将第一个生成的模型连接到第二个模型：
- en: '![](img/e5599821-c246-4666-ae5e-48dc8a0e9ca3.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e5599821-c246-4666-ae5e-48dc8a0e9ca3.png)'
- en: 'Add an Analysis node to the first Neural Net model:'
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向第一个神经网络模型添加一个分析节点：
- en: '![](img/485ecf60-b958-48f0-b325-f7d0139299a5.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/485ecf60-b958-48f0-b325-f7d0139299a5.png)'
- en: 'Run the Analysis node, as always. You should get the following results:'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如往常一样运行分析节点。你应该得到以下结果：
- en: '![](img/39ca2cea-7c35-4900-bba7-4fa8123c2a97.png)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/39ca2cea-7c35-4900-bba7-4fa8123c2a97.png)'
- en: Notice that the accuracy that we have has slightly improved. We just added a
    variable to an existing model. Hence, we get an idea of how our results can be
    affected when we do additional preparation on the data before running the model.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，我们得到的准确性略有提高。我们只是向现有模型添加了一个变量。因此，我们可以了解在运行模型之前对数据进行额外准备时，我们的结果会受到怎样的影响。
- en: Speaking of how Total Items has helped the model, you can see the job it has
    done for predicting current customers. We have actually done a better job in predicting
    the current customer field. Hence, this shows that the new variables that we chose
    to add may not necessarily improve the accuracy of the overall model, but can
    certainly improve the accuracy of one or more predicted categories. You can decide
    which category is more important for your requirements and select a new variable
    accordingly. We will now move on to see how sampling can help us provide better
    results.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 说到“总项目”如何帮助模型，你可以看到它在预测当前客户方面所做的工作。实际上，我们在预测当前客户字段方面做得更好。因此，这表明我们选择添加的新变量不一定能提高整体模型的准确性，但肯定可以提高一个或多个预测类别的准确性。你可以决定哪个类别对你的要求更重要，并相应地选择一个新变量。我们现在将转向查看采样如何帮助我们提供更好的结果。
- en: Balancing data
  id: totrans-114
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 平衡数据
- en: In this section, we will see how we can oversample or undersample different
    aspects of the outcome variable to improve our accuracy. We will change our dataset
    to see this. Refer to the `Loan` dataset provided with the GitHub link of this
    book.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将看到如何通过过采样或欠采样结果变量的不同方面来提高我们的准确率。我们将更改我们的数据集来查看这一点。请参阅本书GitHub链接提供的“贷款”数据集。
- en: The need for balancing data
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 平衡数据的需求
- en: 'To demonstrate this, we will use a different dataset. Select the Var. File
    node on the canvas. Navigate to where the file is located by clicking the triple
    dots beside the file field. Then select the `Loan` dataset:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 为了演示这一点，我们将使用不同的数据集。在画布上选择“变量文件”节点。通过点击文件字段旁边的三个点导航到文件所在位置。然后选择“贷款”数据集：
- en: '![](img/c7cf695c-f156-44e5-b18d-0be27afcdc9c.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/c7cf695c-f156-44e5-b18d-0be27afcdc9c.png)'
- en: 'Go to the Types tab and change the Loan predictor''s Role to Target. This is
    the variable that we will predict:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 前往“类型”选项卡，将贷款预测变量的角色更改为目标。这是我们将会预测的变量：
- en: '![](img/997d3766-6a5c-4628-a83c-e348b8d32a48.png)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/997d3766-6a5c-4628-a83c-e348b8d32a48.png)'
- en: Click on Read Values. Then, click on OK. In this example, we are predicting
    whether or not people have a loan.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 点击读取值。然后，点击确定。在这个例子中，我们正在预测人们是否有贷款。
- en: 'Let''s see the distribution of our loan variable; go to the Graphs palette
    and connect our source node, Loan, to a Distribution node:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看我们的贷款变量的分布；前往图形调色板，并将我们的源节点“贷款”连接到分布节点：
- en: '![](img/12c1e1d3-6e9b-4bd8-851e-d1d49887c575.png)'
  id: totrans-123
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/12c1e1d3-6e9b-4bd8-851e-d1d49887c575.png)'
- en: 'Click on the Distribution node. Then click on the arrow next to the field box
    to select our predictor, for which we need to see the distribution, in our case,
    loan:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 点击分布节点。然后点击字段框旁边的箭头以选择我们的预测变量，我们需要查看其分布，在我们的例子中，是贷款：
- en: '![](img/2deb58f3-850b-4b01-921d-a1110f5ad231.png)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/2deb58f3-850b-4b01-921d-a1110f5ad231.png)'
- en: 'Then, click on Run. You will see the following distribution:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，点击运行。你会看到以下分布：
- en: '![](img/ffadf281-bcfb-44ee-9f38-18992d4b1072.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/ffadf281-bcfb-44ee-9f38-18992d4b1072.png)'
- en: Notice that 86% of the people in this dataset have a loan, and 13% don't have
    a loan. In such a case, predicting the group of people having no loan can be a
    little difficult because the distribution is very uneven. Hence, in such a situation,
    we need to balance the data. This means making it a little more similar similar
    in terms of the category size of each group. This balancing of data is also known
    as oversampling or undersampling.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，在这个数据集中，86%的人有贷款，而13%的人没有贷款。在这种情况下，预测没有贷款的人群可能有点困难，因为分布非常不均匀。因此，在这种情况下，我们需要平衡数据。这意味着使每个组的类别大小在某种程度上更加相似。这种数据平衡也被称为过采样或欠采样。
- en: Let's take a little more of an extreme example. Let's say that we're trying
    to predict fraud, and that the distribution of the dataset is that 99% of the
    cases are perfectly legitimate and only 1% of the cases are fraudulent. Now, if
    we build a model with that type of distribution, what will often happen is that
    the model is going to predict that all cases aren't fraudulent. The overall accuracy
    of such a model will be 99%, because 99% of the time it's right, but what we really
    care about is predicting those few fraudulent cases. If we're always predicting
    that we have a good case, then you know the model itself is not really that useful,
    even though its overall accuracy is 99%. Hence, sometimes the overall accuracy
    of the model is not that useful. What we really care more about is the accuracy
    of predicting each individual category.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们用一个更极端的例子来说明。假设我们正在尝试预测欺诈，并且数据集的分布是99%的情况是完全合法的，只有1%的情况是欺诈的。现在，如果我们用这种类型的分布构建模型，通常会发生的情况是模型会预测所有案例都不是欺诈的。这种模型的总体准确率将是99%，因为99%的时候它是正确的，但我们真正关心的是预测那些少数欺诈案例。如果我们总是预测我们有好的案例，那么你知道模型本身并不是特别有用，尽管它的总体准确率是99%。因此，有时模型的总体准确率并不是那么有用。我们真正更关心的是预测每个单个类别的准确率。
- en: What happens with situations like the fraud detection example is, because one
    group is so over-represented, or technically the other group, or the smaller group,
    is under-represented, the model doesn't really learn the patterns or the characteristics
    that are going on for the smaller group, and that's why we sometimes need to oversample
    or undersample.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在像欺诈检测这样的情况下，如果一组过度代表，或者技术上另一组，即较小的组，代表性不足，模型实际上并没有学习到较小组中存在的模式或特征，这就是为什么我们有时需要过采样或欠采样。
- en: Let's come back to our example and try and see what we can do with it.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回到我们的例子，并尝试看看我们能用它做什么。
- en: Implementing balance in data
  id: totrans-132
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 实现数据平衡
- en: 'Let''s first build a model to predict the loan and see what we find:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们首先构建一个模型来预测贷款，看看我们发现了什么：
- en: Go to the Field Ops palette and connect the Loan node to a Partition node.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往字段操作调色板，并将贷款节点连接到分区节点。
- en: 'Connect the Neural Net model to the Partition node from the Modeling palette,
    and run the Neural Net model with defaults:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将神经网络模型从建模调色板连接到分区节点，并使用默认设置运行神经网络模型：
- en: '![](img/aa6246f9-abcb-475b-851f-1944ce0b9ce5.png)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/aa6246f9-abcb-475b-851f-1944ce0b9ce5.png)'
- en: 'Go to the Output palette and connect the newly generated node to the Analysis
    node. Run the Analysis node with the Coincidence matrices checked, and you will
    get the following results:'
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往输出调色板，并将新生成的节点连接到分析节点。运行分析节点，并勾选巧合矩阵，你将得到以下结果：
- en: '![](img/ba16f041-ca0f-4a0b-9f32-ebc41e04ee97.png)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/ba16f041-ca0f-4a0b-9f32-ebc41e04ee97.png)'
- en: As you can see, the overall accuracy of the model is around 93%, and the model
    is quite consistent. Let's see how well the model has predicted each one of the
    categories. We are certainly predicting the Yes group pretty well. However, we
    are not doing so well with the No group. We can try to improve the way we predict
    our No group.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，模型的总体准确率约为93%，模型相当一致。让我们看看模型对每个类别的预测效果如何。我们当然预测了“是”组得很好。然而，我们在“否”组上做得并不好。我们可以尝试改进我们预测“否”组的方式。
- en: The results acquired bring us to a stage where we will have to oversample the
    **No** group. Or undersample the **Yes** group.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 获得的结果使我们达到一个阶段，我们将不得不对**否**组进行过采样。或者对**是**组进行欠采样。
- en: 'For oversampling, we will first need to partition the dataset into a training
    and testing dataset. One thing to remember here is when we are oversampling a
    dataset, we do not need to have equal oversampling on the training as well as
    the testing dataset. In fact, what we need is to assess the testing dataset on
    the original distribution, because with oversampling we run the risk of performing
    well on the training dataset but not on the testing dataset. To avoid this, we
    will first have to separate our data. Hence, we will first oversample the training
    dataset data, then build a model on it, and then apply it to the testing dataset:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 对于过采样，我们首先需要将数据集划分为训练集和测试集。在这里要记住的一件事是，当我们对数据集进行过采样时，我们不需要在训练集和测试集上都有相同数量的过采样。实际上，我们需要的是在原始分布上评估测试集，因为过采样我们可能会在训练集上表现良好，但在测试集上表现不佳。为了避免这种情况，我们首先必须分离我们的数据。因此，我们首先对训练集数据进行过采样，然后在上面构建模型，最后将其应用于测试集：
- en: 'Go to the Record Ops palette, and connect the Partition node to the Select
    node:'
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往记录操作调色板，并将分区节点连接到选择节点：
- en: '![](img/c540cd83-60ab-4ecd-8f78-b3cdbe1f437b.png)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/c540cd83-60ab-4ecd-8f78-b3cdbe1f437b.png)'
- en: 'Select the Select node. Here we will select only the people that are in the
    training dataset. We will perform our data manipulations, then oversample or undersample
    our data and get the results. For doing this, click on the expression builder.
    Then, select the Partition variable:'
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择选择节点。在这里，我们将只选择训练数据集中的人。我们将执行我们的数据处理，然后对数据进行过采样或欠采样，并得到结果。为此，点击表达式构建器。然后，选择分区变量：
- en: '![](img/660c1692-3a94-4f46-a63b-4bc525ef556f.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/660c1692-3a94-4f46-a63b-4bc525ef556f.png)'
- en: 'Click on the **=** sign, and then click on the field values button:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 点击等号，然后点击字段值按钮：
- en: '![](img/7e3bb5a8-6db6-4091-b19f-67a29ec3a660.png)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/7e3bb5a8-6db6-4091-b19f-67a29ec3a660.png)'
- en: 'Then, select the Training dataset and click on OK:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，选择训练数据集并点击确定：
- en: '![](img/28c04fbc-d9e0-4e18-8304-fa59eb964160.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/28c04fbc-d9e0-4e18-8304-fa59eb964160.png)'
- en: A dialogue box will open. Click OK on that too.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 将会打开一个对话框。也在那里点击确定。
- en: 'Connect another Select node to the existing Select node:'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将另一个选择节点连接到现有的选择节点：
- en: '![](img/e46787d5-ec29-4070-913d-ec07251891e1.png)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e46787d5-ec29-4070-913d-ec07251891e1.png)'
- en: 'In this Select node, we will keep people with a value of No; for this, go to
    the expression builder and select the loan variable, click on the = sign, and
    then click on the field values button and select No:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个选择节点中，我们将保留值为“否”的人；为此，前往表达式构建器并选择贷款变量，点击等号，然后点击字段值按钮并选择“否”：
- en: '![](img/32af08b7-2893-47e4-acf7-e5c412441b45.png)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/32af08b7-2893-47e4-acf7-e5c412441b45.png)'
- en: 'We will add another Select node connected to the first Select node:'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将添加另一个与第一个选择节点连接的选择节点：
- en: '![](img/93b6c218-d985-4a99-9e89-32b917349cca.png)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/93b6c218-d985-4a99-9e89-32b917349cca.png)'
- en: Click on the expression builder. Select the loan variable, and click on the
    = sign. Click on the field values button and select the Yes value. Click on OK.
    So, now we have selected all people with a loan. This is a larger group of people,
    which is over-represented. This brings us to the stage where we select only one-third
    of the dataset.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 点击表达式构建器。选择loan变量，并点击等号。点击字段值按钮并选择Yes值。点击OK。因此，现在我们已选择了所有有贷款的人。这是一个较大的群体，代表性过高。这使我们处于只选择数据集三分之一的状态。
- en: 'Go to the Record Ops palette and connect the Sample node to the Select node
    of the Yes group:'
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到Record Ops调色板，将Sample节点连接到Yes组的Select节点：
- en: '![](img/b0380f14-be87-418d-9334-dcdcf9742366.png)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b0380f14-be87-418d-9334-dcdcf9742366.png)'
- en: 'Edit the Sample node. Select Random% to randomly select the values, and set
    the value to 33%. Also, check the Repeatable partition assignment. This will allow
    us to select the same people every time we create a model for this selection.
    Click on OK:'
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编辑Sample节点。选择Random%以随机选择值，并将值设置为33%。同时检查可重复分区分配。这将允许我们在为该选择创建模型时每次都选择相同的人。点击OK：
- en: '![](img/7a0be76c-898a-455e-8913-a0cbae412d99.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/7a0be76c-898a-455e-8913-a0cbae412d99.png)'
- en: 'We will have to combine this separate data and bring it back together. For
    this, connect the Select node that has all people with the value set as No to
    the Append node. Then right-click on the Sample node and select connect to connect
    it to the Append node:'
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们必须将这份数据合并并重新整合在一起。为此，将所有人员设置为“否”的Select节点连接到Append节点。然后右键单击Sample节点，选择connect将其连接到Append节点：
- en: '![](img/37bcd7c9-5889-451a-b764-e49cce86c5c9.png)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/37bcd7c9-5889-451a-b764-e49cce86c5c9.png)'
- en: 'Click on the Append node and select All datasets, then click on OK:'
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击Append节点，选择All datasets，然后点击OK：
- en: '![](img/0fcd1a05-80c1-4005-99cc-9ccead12a53a.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/0fcd1a05-80c1-4005-99cc-9ccead12a53a.png)'
- en: 'Let''s check how the distribution of the Loan field looks now after sampling.
    For this, go to the Graphs palette and connect the Append node to the Distribution
    node:'
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在检查采样后Loan字段的分布情况。为此，转到Graphs调色板，将Append节点连接到Distribution节点：
- en: '![](img/499396cf-81a2-409e-8233-fd29ec77aee0.png)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/499396cf-81a2-409e-8233-fd29ec77aee0.png)'
- en: 'Click on the Distribution node, go to the Field box, and select loan just as
    we did before. Then click on Run. Here is the distribution that we have acquired
    after sampling:'
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击Distribution节点，转到Field框，并选择loan，就像我们之前做的那样。然后点击Run。以下是采样后我们获得分布：
- en: '![](img/b6f718b4-972c-4b13-8261-875316efd736.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b6f718b4-972c-4b13-8261-875316efd736.png)'
- en: You can see that the No group constitutes about one-third of the sample.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以看到No组大约占样本的三分之一。
- en: Hence, by undersampling the Yes node, we were able to see the difference from
    13%.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，通过下采样Yes节点，我们能够看到从13%的差异。
- en: 'Let''s see oversampling:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看过采样：
- en: Let's now connect the Append node to the Type node from the Field Ops palette.
    Here, we won't be using the partition field. Hence, go to the Types node and change
    the Partition's role to None.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将Append节点从Field Ops调色板连接到Type节点。在这里，我们不会使用分区字段。因此，转到Types节点，将Partition的角色更改为None。
- en: We will again build our model by going to the modeling palette. And connect
    the Type node to a neural net model. And run this setup on the defaults.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将通过转到建模调色板再次构建我们的模型。将Type节点连接到神经网络模型，并在默认设置上运行此配置。
- en: 'Now, connect your first generated model to the newly generated model, and connect
    both of them to the Analysis node. Let''s see our results:'
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将您生成的第一个模型连接到新生成的模型，并将它们都连接到Analysis节点。让我们看看结果：
- en: '![](img/4b578ba2-2d91-42ba-b105-0637a652776e.png)'
  id: totrans-176
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/4b578ba2-2d91-42ba-b105-0637a652776e.png)'
- en: You can see how well we are predicting the No group now! Our model has performed
    pretty well in predicting the accuracies of the individual models. Hence, we ended
    up balancing the data, obviously it is at expense of errors in the yes group.
    But the No group was our matter of concern as it was under-represented.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您可以看到我们预测No组的效果如何！我们的模型在预测各个模型的准确性方面表现相当不错。因此，我们最终平衡了数据，显然这是以yes组中的错误为代价的。但No组是我们关注的重点，因为它代表性不足。
- en: Summary
  id: totrans-178
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: This chapter taught us how to modify the various options that are available
    for enhancing the model. We also learned how to add additional fields and remove
    noise from these models. Lastly, we sampled the data available, which helped us
    to understand the model better.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 本章教我们如何修改可用于增强模型的各个选项。我们还学习了如何添加额外的字段并从这些模型中去除噪声。最后，我们对可用数据进行采样，这有助于我们更好地理解模型。
- en: In the next chapter, we are going to learn how to combine models and improve
    them even further.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章，我们将学习如何结合模型并进一步提升它们。
