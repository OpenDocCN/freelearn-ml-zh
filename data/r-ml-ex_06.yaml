- en: Chapter 5. Credit Risk Detection and Prediction – Descriptive Analytics
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第5章. 信用风险检测与预测 – 描述性分析
- en: In the last two chapters, you saw some interesting problems revolving around
    the retail and e-commerce domains. You now know how to detect and predict shopping
    trends from shopping patterns as well as how to build recommendation systems.
    If you remember from [Chapter 1](part0014_split_000.html#DB7S2-973e731d75c2419489ee73e3a0cf4be8
    "Chapter 1. Getting Started with R and Machine Learning"), *Getting started with
    R and Machine Learning* that the applications of machine learning are diverse,
    we can apply the same concepts and techniques to solve a wide variety of problems
    in the real world. We will be tackling a completely new problem here, but hold
    on to what you have learnt because several concepts you learnt previously will
    come in handy soon!
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在最后两章中，你看到了一些围绕零售和电子商务领域的问题。你现在知道如何从购物模式中检测和预测购物趋势，以及如何构建推荐系统。如果你还记得[第1章](part0014_split_000.html#DB7S2-973e731d75c2419489ee73e3a0cf4be8
    "第1章。使用R和机器学习入门")，*使用R和机器学习入门*，机器学习的应用是多样化的，我们可以将相同的概念和技术应用于解决现实世界中广泛的各种问题。在这里，我们将解决一个全新的问题，但请记住你所学到的知识，因为你在之前学到的几个概念很快就会派上用场！
- en: In the next couple of chapters, we will be tackling a new problem related to
    the financial domain. We will be looking at the bank customers of a particular
    German bank who could be credit risks for the bank, based on some data that has
    been previously collected. We will perform descriptive and exploratory analysis
    on this data to highlight different potential features in the dataset and also
    look at their relationship with credit risk. In the next step, we will be building
    predictive models using machine learning algorithms and these data features to
    detect and predict customers who could be potential credit risks. You may remember
    that the two main things that we need to do this analysis to remain unchanged
    are data and algorithms.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的几章中，我们将探讨与金融领域相关的新问题。我们将研究一家特定德国银行的客户，根据之前收集的一些数据，这些客户可能是银行的信用风险。我们将对数据进行描述性和探索性分析，以突出数据集中不同的潜在特征，并查看它们与信用风险的关系。在下一步，我们将使用机器学习算法和数据特征来构建预测模型，以检测和预测可能成为潜在信用风险的客户。你可能还记得，为了进行这项分析并保持不变，我们需要的是数据和算法。
- en: You might be surprised to know that risk analysis is one of the top most focus
    areas of financial organizations including in banks, investment firms, insurance
    firms, and brokerage firms. Each of these organizations often has dedicated teams
    for solving problems revolving around risk analysis. Some examples of risk which
    are frequently analyzed include credit risk, sales risk, fraud related risks,
    and many more.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会惊讶地发现，风险分析是金融机构，包括银行、投资公司、保险公司和经纪公司等，最关注的领域之一。这些机构中的每一个通常都有专门的团队来解决围绕风险分析的问题。经常分析的风险例子包括信用风险、销售风险、与欺诈相关的风险等等。
- en: 'In this chapter, we will be focusing on the following topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将重点关注以下主题：
- en: Descriptive analytics of our credit risk dataset
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信用风险数据集的描述性分析
- en: Domain knowledge of the credit risk problem
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信用风险问题的领域知识
- en: Detailed analysis of dataset features
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集特征的详细分析
- en: Exploratory analysis of the data
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据的探索性分析
- en: Visualizations on various data features
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 各种数据特征的可视化
- en: Statistical tests to determine feature significance
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于确定特征重要性的统计测试
- en: Always remember that domain knowledge is essential before solving any machine
    learning problem because otherwise we will end up applying random algorithms and
    techniques blindly which may not give the right results.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 总是记住，在解决任何机器学习问题之前，领域知识是必不可少的，否则我们可能会盲目地应用随机算法和技术，这可能导致结果不正确。
- en: Types of analytics
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分析类型
- en: 'Before we start tackling our next challenge, it will be useful to get an idea
    of the different types of analytics which broadly encompass the data science domain.
    We use a variety of data mining and machine learning techniques to solve different
    data problems. However, depending on the mechanism of the technique and its end
    result, we can broadly classify analytics into four different types which are
    explained next:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始解决下一个挑战之前，了解不同类型的分析将非常有用，这些分析大致涵盖了数据科学领域。我们使用各种数据挖掘和机器学习技术来解决不同的数据问题。然而，根据技术的机制和最终结果，我们可以将分析大致分为四种不同类型，以下将进行解释：
- en: '**Descriptive analytics**: This is what we use when we have some data to analyze.
    We start with looking at the different attributes of the data, extract meaningful
    features, and use statistics and visualizations to understand what has already
    happened. The main aim of descriptive analytics is to get a broad idea of what
    kind of data we are dealing with and summarize what has happened in the past.
    Above almost 80% of all analytics in businesses today are descriptive.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述性分析**：这是我们分析一些数据时使用的。我们从查看数据的各种属性开始，提取有意义的特征，并使用统计和可视化来了解已经发生的事情。描述性分析的主要目的是获得我们处理的数据类型的大致概念，并总结过去发生的事情。几乎超过80%的商业分析都是描述性的。'
- en: '**Diagnostic analytics**: This is sometimes clubbed together with descriptive
    analytics. Here the main objective is to delve deeper into the data to find specific
    patterns and answer questions such as why did this occur. Usually, it involves
    root-cause analysis to come to the root of why something happened and what were
    the main factors involved in doing during its occurrence. Sometimes techniques
    such as regression modeling help in achieving this.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**诊断分析**：这有时与描述性分析结合在一起。这里的主要目标是深入数据以寻找特定的模式并回答诸如为什么发生这种情况等问题。通常，它涉及根本原因分析，以找到事情发生的原因以及在其发生过程中涉及的主要因素。有时回归建模等技术有助于实现这一点。'
- en: '**Predictive analytics**: This is the final step in any analytics pipeline.
    Once you have built consistent and stable predictive models with a good flow of
    clean data for predictions, you can build systems which utilize this and start
    prescribing actions which you might take to improve your business. Do remember
    that predictive modeling can only predict what might happen in the future because
    all models are probabilistic in nature and nothing is 100 percent certain.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**预测分析**：这是任何分析流程中的最后一步。一旦你构建了具有良好数据流且稳定的预测模型，你就可以构建利用这些模型并开始制定可能采取的行动以改善业务的系统。请记住，预测模型只能预测未来可能发生的事情，因为所有模型本质上都是概率性的，没有任何事情是100%确定的。'
- en: '**Prescriptive analytics**: This is the final step in any analytics pipeline
    if you are in the stage that you have built consistent predictive models with
    a good flow of clean data such that you are able to predict what might happen
    in the future. Then you can build systems which utilize this and start prescribing
    actions which you might take to improve your business. Do remember that you need
    working predictive models with good data and an excellent feedback mechanism to
    achieve this.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**规范性分析**：如果你处于构建了具有良好数据流且一致的预测模型，能够预测未来可能发生的事情的阶段，那么这是任何分析流程中的最后一步。然后你可以构建利用这些模型并开始制定可能采取的行动以改善业务的系统。请记住，你需要具有良好数据的运行预测模型和出色的反馈机制才能实现这一点。'
- en: Most organizations do a lot of descriptive analytics and some amount of predictive
    analytics. However, it is really difficult to implement prescriptive analytics
    due to the ever changing business conditions and data streams and problems associated
    with that, the most common one being data sanitization issues. We will be touching
    upon descriptive analytics in this chapter before moving on to predictive analytics
    in the next chapter to solve our problem related to credit risk analytics.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数组织进行大量的描述性分析以及一定程度的预测分析。然而，由于不断变化的商业条件和数据流以及与之相关的问题，实施规范性分析非常困难，其中最常见的问题是数据清洗问题。在本章中，我们将先讨论描述性分析，然后再在下一章中转向预测分析，以解决与信用风险分析相关的问题。
- en: Our next challenge
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 我们接下来的挑战
- en: We have dealt with some interesting applications of machine learning in the
    e-commerce domain in the last couple of chapters. For the next two chapters, our
    big challenge will be in the financial domain. We will be using data analysis
    and machine learning techniques to analyze financial data from a German bank.
    This data will contain a lot of information regarding customers of that bank.
    We will be analyzing that data in two stages which include descriptive and predictive
    analytics.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去的几章中，我们已经处理了一些电子商务领域机器学习的有趣应用。对于接下来的两章，我们的主要挑战将是在金融领域。我们将使用数据分析与机器学习技术来分析一家德国银行的财务数据。这些数据将包含大量关于该银行客户的信息。我们将分两个阶段分析这些数据，包括描述性和预测性分析。
- en: '**Descriptive**: Here we will look closely at the data and its various attributes.
    We will perform descriptive analysis and visualizations to see the kind of features
    we are dealing with and how they might be related to credit risk. The data we
    will be dealing with here consists of labeled data already and we will be able
    to see how many customers were credit risks and how many weren''t. We will also
    look closely at each feature in the data and understand its significance which
    will be useful in the next step.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述性**：在这里，我们将仔细研究数据和其各种属性。我们将进行描述性分析和可视化，以了解我们正在处理什么样的特征以及它们可能与信用风险有何关联。我们在这里处理的数据已经标记，我们将能够看到有多少客户是信用风险，有多少不是。我们还将仔细研究数据中的每个特征，了解其重要性，这将在下一步中很有用。'
- en: '**Predictive**: Here we will focus more on the machine learning algorithms
    used in predictive modeling to build predictive models using the data we have
    already acquired in the previous step. We will be using various machine learning
    algorithms and testing the accuracy of the models when predicting if a customer
    could be a potential credit risk. We will be using labeled data to train the model
    and then test the models on several data instances, comparing our predicted result
    with the actual result to see how well our models perform.'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**预测性**：在这里，我们将更多地关注用于预测建模的机器学习算法，利用我们在上一步中已经获取的数据来构建预测模型。我们将使用各种机器学习算法，并在预测客户是否可能成为潜在的信用风险时测试模型的准确性。我们将使用标记数据来训练模型，然后在几个数据实例上测试模型，将我们的预测结果与实际结果进行比较，以查看我们的模型表现如何。'
- en: The significance of predicting credit risks is quite useful for financial organizations,
    such as banks that have to often deal with loan applications from their customers.
    They have to then make the decision to approve or deny the loan based on information
    they have about the customer. If they have a robust machine learning system built
    in place which can analyze the data about the customer and say which customers
    might be credit risks, then they can prevent losses to their business by not approving
    loans to such customers.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 预测信用风险的重要性对金融机构来说非常有用，例如经常处理客户贷款申请的银行。他们必须根据他们关于客户的信息来决定批准或拒绝贷款。如果他们有一个强大的机器学习系统已经建立，可以分析客户数据并指出哪些客户可能是信用风险，那么他们可以通过不批准这些客户的贷款来防止他们的业务遭受损失。
- en: What is credit risk?
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是信用风险？
- en: We have been using this term **credit risk** since the start of this chapter
    and many of you might be wondering what exactly does this mean, even though you
    might have guessed it after reading the previous section. Here, we will be explaining
    this term clearly so that you will have no problem in understanding the data and
    its features in the subsequent sections when we will be analyzing the data.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 我们从本章开始就一直在使用这个术语**信用风险**，你们中的许多人可能想知道这究竟是什么意思，即使你在阅读了上一节之后可能已经猜到了。在这里，我们将清楚地解释这个术语，以便你们在后续章节分析数据时，对数据和其特征的理解不会有任何问题。
- en: The standard definition of credit risk is the risk of defaulting on a debt which
    takes place due to the borrower failing to make the required debt payments in
    time. This risk is taken by the lender since the lender incurs losses of both
    the principal amount as well as the interest on it.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 信用风险的标准定义是因借款人未能按时偿还债务而产生的违约风险。这种风险由贷款人承担，因为贷款人将遭受本金及其利息的损失。
- en: In our case, we will be dealing with a bank which acts as the financial organization
    giving out loans to customers who apply for them. Hence, customers who might default
    on the loan payment would be credit risks for the bank. By analyzing customer
    data and applying machine learning algorithms on it, the bank will be able to
    predict in advance which customers might be potential credit risks. This will
    help in risk mitigation and in minimizing losses by not giving away loans to customers
    who could be credit risks for the bank.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的案例中，我们将处理一家作为金融组织向申请贷款的客户发放贷款的银行。因此，可能无法按时偿还贷款的客户将成为银行的信用风险。通过分析客户数据并在其上应用机器学习算法，银行将能够提前预测哪些客户可能是潜在的信用风险。这将有助于风险缓解，并通过不向可能成为银行信用风险的客户发放贷款来最小化损失。
- en: Getting the data
  id: totrans-28
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 获取数据
- en: 'The first step in our data analysis pipeline is to get the dataset. We have
    actually cleaned the data and provided meaningful names to the data attributes
    and you can check that out by opening the `german_credit_dataset.csv` file. You
    can also get the actual dataset from the source which is from the Department of
    Statistics, University of Munich through the following URL: [http://www.statistik.lmu.de/service/datenarchiv/kredit/kredit_e.html](http://www.statistik.lmu.de/service/datenarchiv/kredit/kredit_e.html).'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 我们数据分析流程的第一步是获取数据集。我们实际上已经清理了数据，并为数据属性提供了有意义的名称，您可以通过打开`german_credit_dataset.csv`文件来检查这一点。您还可以从以下URL获取实际数据集，该数据集来自慕尼黑大学统计学系：[http://www.statistik.lmu.de/service/datenarchiv/kredit/kredit_e.html](http://www.statistik.lmu.de/service/datenarchiv/kredit/kredit_e.html)。
- en: 'You can download the data and then run the following commands by firing up
    R in the same directory with the data file, to get a feel of the data we will
    be dealing with in the following sections:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以下载数据，然后在同一目录下启动R并运行以下命令，以了解以下章节中我们将要处理的数据：
- en: '[PRE0]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The following figure shows the first six rows of the data. Each column indicates
    an attribute of the dataset. We will be focusing on each attribute in more detail
    later.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了数据的头六行。每一列表示数据集的一个属性。我们将在稍后更详细地关注每个属性。
- en: '![Getting the data](img/00139.jpeg)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![获取数据](img/00139.jpeg)'
- en: 'To get detailed information about the dataset and its attributes, you can use
    the following code snippet:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 要获取有关数据集及其属性的详细信息，您可以使用以下代码片段：
- en: '[PRE1]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The preceding code will enable you to get a quick look at the total number of
    data points you are dealing with, which includes the number of records, the number
    of attributes, and the detailed information about each attribute including things
    such as the attribute name, type, and some samples of attribute values, as you
    can see in the following screenshot. Using this, we can get a good idea about
    the different attributes and their data types so that we know what transformations
    to apply on them and what statistical methods to use during descriptive analytics.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码将使您能够快速查看您正在处理的数据点的总数，这包括记录数、属性数以及每个属性的详细信息，例如属性名称、类型和一些属性值的样本，正如您可以在以下屏幕截图中所见。利用这一点，我们可以对不同的属性及其数据类型有一个很好的了解，以便我们知道对它们应用哪些转换，以及在描述性分析期间使用哪些统计方法。
- en: '![Getting the data](img/00140.jpeg)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![获取数据](img/00140.jpeg)'
- en: From the preceding output, you can see that our dataset has a total of 1000
    records, where each record deals with data points pertaining to one bank customer.
    Each record has various data points or attributes describing the data and we have
    a total of 21 attributes for each record. The data type and sample values for
    each attribute are also shown in the previous image.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 从前面的输出中，您可以看到我们的数据集共有1000条记录，其中每条记录处理与一位银行客户相关的数据点。每条记录都有各种数据点或属性来描述数据，我们为每条记录有21个属性。每个属性的数据类型和样本值也在之前的图像中显示。
- en: Note
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Do note that by default R has assigned the `int` datatype to the variables based
    on their values but we will be changing some of that in our data preprocessing
    phase based on their actual semantics.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，默认情况下，R根据其值将`int`数据类型分配给变量，但我们在数据预处理阶段将根据它们的实际语义更改其中一些。
- en: Data preprocessing
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据预处理
- en: In this section, we will be focusing on data preprocessing which includes data
    cleaning, transformation, and normalizations if required. Basically, we perform
    operations to get the data ready before we start performing any analysis on it.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将重点关注数据预处理，包括数据清理、转换以及如果需要的话进行归一化。基本上，我们在开始对数据进行任何分析之前执行操作以使数据准备就绪。
- en: Dealing with missing values
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 处理缺失值
- en: There will be situations when the data you are dealing with will have missing
    values, which are often represented as `NA` in R. There are several ways to detect
    them and we will show you a couple of ways next. Note that there are several ways
    in which you can do this.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 当您处理的数据将包含缺失值时，这些缺失值通常在R中表示为`NA`。有几种方法可以检测它们，我们将在下面展示几种方法。请注意，您可以通过多种方式完成此操作。
- en: '[PRE2]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The `is.na` function is really useful as it helps in finding out if any element
    has an `NA` value in the dataset. There is another way of doing the same by using
    the `complete.cases` function, which essentially returns a logical vector saying
    whether the rows are complete and if they have any `NA` values. You can check
    if the total records count has decreased compared to the original dataset as then
    you will know that you have some missing values in the dataset. Fortunately, in
    our case, we do not have any missing values. However, in the future if you are
    dealing with missing values, there are various ways to deal with that. Some of
    them include removing the rows with missing values by using functions such as
    `complete.cases`, or filling them up with a value which could be the most frequent
    value or the mean, and so on. This is also known as missing value imputation and
    it depends on the variable attribute and the domain you are dealing with. Hence,
    we won't be focusing too much in this area here.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '`is.na` 函数非常有用，因为它有助于找出数据集中是否有任何元素具有 `NA` 值。还有另一种方法可以做到这一点，即使用 `complete.cases`
    函数，它本质上返回一个逻辑向量，表示行是否完整以及是否有任何 `NA` 值。你可以检查与原始数据集相比总记录数是否减少，这样你就会知道数据集中有一些缺失值。幸运的是，在我们的案例中，我们没有缺失值。然而，在未来如果你处理缺失值，有各种方法可以处理。其中一些包括使用
    `complete.cases` 等函数删除具有缺失值的行，或者用最频繁的值或平均值等填充它们。这也被称为缺失值插补，它取决于变量的属性和你要处理的领域。因此，我们不会在这个领域过多关注。'
- en: Datatype conversions
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据类型转换
- en: 'We had mentioned earlier that by default all the attributes of the dataset
    had been declared as `int`, which is a numeric type by R, but it is not so in
    this case and we have to change that based on the variable semantics and values.
    If you have taken a basic course on statistics, you might know that usually we
    deal with two types of variables:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 我们之前提到，默认情况下，数据集的所有属性都已声明为 `int`，这是 R 中的数值类型，但在这个案例中并非如此，我们必须根据变量语义和值来更改它。如果你已经上过基础的统计学课程，你可能知道我们通常处理两种类型的变量：
- en: '**Numeric variables**: The values of these variables carry some mathematical
    meaning. This means that you can carry out mathematical operations on them, such
    as addition, subtraction, and so on. Some examples can be a person''s age, weight,
    and so on.'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数值变量**：这些变量的值具有某种数学意义。这意味着你可以对它们执行数学运算，例如加法、减法等。一些例子可以是人的年龄、体重等。'
- en: '**Categorical variables**: The values of these variables do not have any mathematical
    significance and you cannot perform any mathematical operations on them. Each
    value in this variable belongs to a specific class or category. Some examples
    can be a person''s gender, job, and so on.'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分类变量**：这些变量的值没有任何数学意义，你不能对它们执行任何数学运算。这个变量中的每个值都属于一个特定的类别或类别。一些例子可以是人的性别、工作等。'
- en: Since all the variables in our dataset have been converted to numeric by default,
    we will only need to convert the categorical variables from numeric data types
    to factors, which is a nice way to represent categorical variables in R.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们数据集中的所有变量默认都已转换为数值类型，我们只需要将分类变量从数值数据类型转换为因子，这是在 R 中表示分类变量的好方法。
- en: 'The numeric variables in our dataset include `credit.duration.months`, `credit.amount`,
    and age and we will not need to perform any conversions. However, the remaining
    18 variables are all categorical and we will be using the following utility function
    to convert their data types:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 我们数据集中的数值变量包括 `credit.duration.months`、`credit.amount` 和年龄，我们不需要进行任何转换。然而，剩余的
    18 个变量都是分类变量，我们将使用以下实用函数来转换它们的数据类型：
- en: '[PRE3]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'This function will be used on our existing data frame `credit.df` as follows
    for transforming the variable data types:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 此函数将用于我们的现有数据框 `credit.df`，如下所示，以转换变量数据类型：
- en: '[PRE4]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Now we can see the attribute details in the data frame with the transformed
    data types for the selected categorical variables in the following output. You
    will notice that out of the 21 variables/attributes of the dataset, 18 of them
    have been successfully transformed into categorical variables.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们可以看到以下输出中转换后的数据类型所选分类变量的属性细节。你会注意到，在数据集的 21 个变量/属性中，有 18 个已经成功转换为分类变量。
- en: '![Datatype conversions](img/00141.jpeg)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![数据类型转换](img/00141.jpeg)'
- en: This brings an end to the data preprocessing step and we will now dive into
    analyzing our dataset.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 这标志着数据预处理步骤的结束，我们将现在深入分析我们的数据集。
- en: Note
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Do note that several of our dataset attributes/features have a lot of classes
    or categories and we will need to do some more data transformations and feature
    engineering in the analysis phase to prevent overfitting of our predictive models,
    which we shall discuss later.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，我们的一些数据集属性/特征有很多类别或类别，我们将在分析阶段进行更多的数据转换和特征工程，以防止我们的预测模型过度拟合，我们将在后面讨论这一点。
- en: Data analysis and transformation
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据分析和转换
- en: Now that we have processed our data, it is ready for analysis. We will be carrying
    out descriptive and exploratory analysis in this section, as mentioned earlier.
    We will analyze the different dataset attributes and talk about their significance,
    semantics, and relationship with the credit risk attribute. We will be using statistical
    functions, contingency tables, and visualizations to depict all of this.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经处理了我们的数据，它已准备好进行分析。我们将进行描述性和探索性分析，如前所述。我们将分析不同的数据集属性，并讨论它们的显著性、语义以及与信用风险属性的关系。我们将使用统计函数、列联表和可视化来描述所有这些。
- en: Besides this, we will also be doing data transformation for some of the features
    in our dataset, namely the categorical variables. We will be doing this to combine
    the category classes which have similar semantics and remove the classes having
    very less proportion by merging them with a similar class. Some reasons for doing
    this include preventing the overfitting of our predictive models, which we will
    be building in [Chapter 6](part0046_split_000.html#1BRPS1-973e731d75c2419489ee73e3a0cf4be8
    "Chapter 6. Credit Risk Detection and Prediction – Predictive Analytics"), *Credit
    Risk Detection and Prediction – Predictive Analytics*, linking semantically similar
    classes together and also because modeling techniques like logistic regression
    do not handle categorical variables with a large number of classes very well.
    We will analyze each feature/variable in the dataset first and then perform any
    transformations if necessary.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这个，我们还将对我们数据集中的某些特征进行数据转换，特别是分类变量。我们将这样做是为了合并具有相似语义的类别，并通过与相似类别合并来删除比例非常小的类别。这样做的一些原因包括防止我们将在[第6章](part0046_split_000.html#1BRPS1-973e731d75c2419489ee73e3a0cf4be8
    "第6章。信用风险检测与预测 – 预测分析")中构建的预测模型过度拟合，即“信用风险检测与预测 – 预测分析”，将语义相似的类别联系起来，以及因为像逻辑回归这样的建模技术并不擅长处理具有大量类别的分类变量。我们首先将分析数据集中的每个特征/变量，然后根据需要执行任何转换。
- en: Building analysis utilities
  id: totrans-64
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 构建分析工具
- en: Before we begin our analysis, we will be developing some utility functions which
    we will be using to analyze the dataset features. Do note that all the utility
    functions are defined in a separate `.R` file called `descriptive_analytics_utils.R`.
    You can load all the functions in memory or in any other R script file by using
    the command `source('descriptive_analytics_utils.R')` and then start using them.
    We will be talking about these utility functions now.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始分析之前，我们将开发一些实用函数，我们将使用这些函数来分析数据集特征。请注意，所有实用函数都定义在一个单独的`.R`文件中，称为`descriptive_analytics_utils.R`。您可以通过使用命令`source('descriptive_analytics_utils.R')`将所有函数加载到内存中或任何其他R脚本文件中，然后开始使用它们。我们现在将讨论这些实用函数。
- en: 'We will now talk about the various packages we have used. We have used some
    packages such as `pastecs` and `gmodels` for getting summary statistics of features
    and for building contingency tables. The packages `gridExtra` and `ggplot2` have
    been used for grid layouts and building visualizations respectively. If you do
    not have them installed, you can use the `install.packages` command to install
    them. Next, load the packages as shown in the following code snippet:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将讨论我们使用过的各种包。我们使用了一些包，如`pastecs`和`gmodels`来获取特征的摘要统计信息以及构建列联表。`gridExtra`和`ggplot2`包被用于网格布局和构建可视化。如果您尚未安装它们，可以使用`install.packages`命令进行安装。接下来，按照以下代码片段加载这些包：
- en: '[PRE5]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[PRE6]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Next, we will build some functions for visualizing the numeric variables. We
    will be doing that by using `histograms\density` plots and `box plots` to depict
    the attribute distributions.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将构建一些用于可视化数值变量的函数。我们将通过使用`直方图/密度图`和`箱线图`来描述属性分布来完成这项工作。
- en: '[PRE8]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: We have used the `qplot` function from the `ggplot2` package for building the
    visualizations which we will be seeing in action soon. Now we will be shifting
    our focus to `categorical variables`. We will start with building a function to
    get summary statistics of any `categorical variable`.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用了`ggplot2`包中的`qplot`函数来构建我们将看到的可视化。现在，我们将把注意力转向`分类变量`。我们将从一个函数开始，该函数用于获取任何`分类变量`的汇总统计信息。
- en: '[PRE9]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The preceding function will summarize the categorical variable and talk about
    how many classes or categories are present in it and some other details such as
    frequency and proportion. If you remember, we had mentioned earlier that we will
    also be depicting the relationship of categorical variables with the class/dependent
    variable `credit.risk`. The following function will help us achieve the same in
    the form of contingency tables:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的函数将总结分类变量，并讨论其中有多少类别或类别以及一些其他细节，如频率和比例。如果你还记得，我们之前提到我们还将展示分类变量与类/依赖变量`credit.risk`的关系。以下函数将帮助我们以列联表的形式实现相同的目标：
- en: '[PRE10]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'We will also build some functions for depicting visualizations. We will be
    visualizing `categorical variable` distribution using bar charts by using the
    following function:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还将构建一些用于展示可视化的函数。我们将使用以下函数通过条形图可视化`分类变量`的分布：
- en: '[PRE11]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'We will use mosaic plots to depict visualizations of the previously mentioned
    contingency tables using the following function:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用mosaic图来展示之前提到的列联表的可视化，使用以下函数：
- en: '[PRE12]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Now that we have built all the necessary utilities, we will begin analyzing
    our data in the following section.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经构建了所有必要的工具，接下来我们将开始分析数据，并在下一节进行详细说明。
- en: Analyzing the dataset
  id: totrans-81
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 分析数据集
- en: We will be analyzing each feature of the dataset in this section and depicting
    our analysis in the form of summary statistics, relationships, statistical tests,
    and visualizations wherever necessary. We will denote necessary analysis which
    will be carried out for each variable in a table. An important point to remember
    is that the dependent feature denoted in code by `dep.var` will always be `credit.rating`
    since this is the variable which is dependent on the other features; these features
    are independent variables and will be denoted as `indep.var` in the tables and
    plots often.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将分析数据集的每个特征，并在必要时以汇总统计、关系、统计检验和可视化的形式展示我们的分析。我们将用表格表示对每个变量进行的必要分析。需要记住的一个重要点是，代码中用`dep.var`表示的依赖特征始终是`credit.rating`，因为这是依赖于其他特征的变量；这些特征是独立变量，在表格和图中通常用`indep.var`表示。
- en: We will carry out detailed analysis and transformations for some of the important
    features which have a lot of significance, especially data features having a large
    number of classes, so that we can clearly understand data distributions and how
    they change on transformation of the data. For the remaining features, we will
    not focus too much on the summary statistics but emphasize more on feature engineering
    through transformations and their relationships with the dependent `credit.rating`
    variable.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将对一些重要特征进行详细分析和转换，这些特征具有很大的意义，特别是具有大量类别的数据特征，这样我们可以清楚地理解数据分布以及它们在数据转换时的变化。对于剩余的特征，我们不会过多关注汇总统计，而更强调通过转换和它们与依赖变量`credit.rating`的关系来进行特征工程。
- en: 'Now we will attach the data frame so that we can access the individual features
    easily. You can do that using the following code snippet:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将附加数据框，以便我们可以轻松访问单个特征。你可以使用以下代码片段来完成：
- en: '[PRE13]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Now we will be starting our analysis with the dependent variable `credit.risk`,
    also known as the class variable in our dataset, which we will be trying to predict
    in the next chapter.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将从依赖变量`credit.risk`开始分析，也称为数据集中的类变量，我们将在下一章尝试预测它。
- en: 'The following code snippet helps us in getting the required summary statistics
    for this feature:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码片段帮助我们获取该特征的所需汇总统计信息：
- en: '[PRE14]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: The following visualizations tell us that `credit.rating` has two classes, `1`
    and `0`, and gives the necessary statistics. Basically, customers with a credit
    rating of `1` are credit worthy and those with a rating of `0` are not credit
    worthy. We also observe from the bar chart that the proportion of credit worthy
    customers in the bank is significantly high compared to the rest.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 以下可视化告诉我们`credit.rating`有两个类别，`1`和`0`，并提供了必要的统计数据。基本上，信用评分为`1`的客户是可信赖的，而评分为`0`的客户是不可信赖的。我们还从条形图中观察到，在银行中，有信用评级的客户比例相对于其他客户来说显著较高。
- en: '![Analyzing the dataset](img/00142.jpeg)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00142.jpeg)'
- en: Next, we will analyze the `account.balance` feature. Basically, this attribute
    indicates the current balance of the current account of the customer.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将分析`account.balance`特征。基本上，这个属性表示客户当前账户的余额。
- en: We will start with getting the summary statistics and plotting a bar-chart using
    the following code snippet. We will include both the outputs together for better
    understanding.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先使用以下代码片段获取摘要统计信息并绘制条形图。为了更好地理解，我们将一起包含输出结果。
- en: '[PRE15]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: From the following visualizations, you can see that there are four distinct
    classes for `account.balance` and they each have some specific semantics which
    we will be talking about soon.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 从以下可视化中，你可以看到`account.balance`有四个不同的类别，并且每个类别都有一些特定的语义，我们将在下面讨论。
- en: '![Analyzing the dataset](img/00143.jpeg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00143.jpeg)'
- en: From the preceding output you can see that there are four distinct classes for
    `account.balance`, and they each have some semantics, as defined next. The currency
    DM indicates Deutsche Mark, the old currency name of Germany.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 从前面的输出中，你可以看到`account.balance`有四个不同的类别，并且每个类别都有一些语义，如下定义。货币DM表示德国的旧货币名称——德国马克。
- en: 'The four classes indicate the following as the main semantics or checking account
    held for at least a year:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 这四个类别表示以下主要语义或至少持有一年以上的支票账户：
- en: '**1**: No running bank account'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 没有运行中的银行账户'
- en: '**2**: No balance or debit'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 没有余额或借记'
- en: '**3**: Balance of `< 200` DM'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 余额小于`200` DM'
- en: '**4**: Balance of `>=200` DM'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: 余额`>=200` DM'
- en: The currency DM indicates Deutsche Mark, the old currency name of Germany. We
    will be doing some feature engineering here and will combine classes 3 and 4 together
    to indicate customers who have a positive balance in their account. We will do
    this because the proportion of class 3 is quite small compared to the rest and
    we don't want to unnecessarily keep too many classes per feature unless they are
    critical. We will achieve this by using the following code snippets.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 货币DM表示德国马克，德国的旧货币名称。在这里，我们将进行一些特征工程，并将类别3和4合并在一起，以表示账户中有正余额的客户。我们这样做是因为类别3的比例相对于其他类别来说很小，我们不希望在不必要的情况下为每个特征保留太多的类别，除非它们是关键的。我们将通过以下代码片段实现这一点。
- en: First, we will load the necessary package for doing this. Install it using the
    command `install.packages("car")` in case you do not have the package installed.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将加载进行此操作所需的包。如果你还没有安装该包，请使用命令`install.packages("car")`进行安装。
- en: '[PRE16]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Now we will recode the necessary classes, as shown next:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将重新编码必要的类别，如下所示：
- en: '[PRE17]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: We will now see the relationship between `new.account.balance` and `credit.rating`
    using a contingency table, as discussed earlier, and visualize it using a mosaic
    plot by using the following code snippet. We will also perform some statistical
    tests which I will explain in brief later.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将使用之前讨论的列联表来查看`new.account.balance`和`credit.rating`之间的关系，并使用以下代码片段通过mosaic
    plot进行可视化。我们还将进行一些统计测试，我将在稍后简要解释。
- en: '[PRE18]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: In the following figure, you can now see how the various classes for `account.balance`
    are distributed with regards to `credit.rating` in both the table and the plot.
    An interesting thing to see is that 90% of people with funds in their account
    are not potential credit risks, which sounds reasonable.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下图中，你现在可以看到`account.balance`的各个类别与`credit.rating`在表格和图中的分布情况。一个有趣的现象是，90%的账户有资金的客户不是潜在的信用风险，这听起来是合理的。
- en: '![Analyzing the dataset](img/00144.jpeg)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00144.jpeg)'
- en: 'We also perform two statistical tests here: the Chi-squared test and Fisher''s
    test, both relevant tests in contingency tables used extensively for hypothesis
    testing. Going into details of the statistical calculations involved in these
    tests is out of scope of this chapter. I will put it in a way which is easy to
    understand. Usually, we start with a null hypothesis that between the two variables
    as depicted previously, there exists no association or relationship, as well as
    an alternative hypothesis that there is a possibility of a relationship or association
    between the two variables. If the p-value obtained from the test is less than
    or equal to `0.05`, only then can we reject the null hypothesis in favor of the
    alternative hypothesis. In this case, you can clearly see that both the tests
    give p-values `< 0.05`, which definitely favors the alternative hypothesis that
    there is some association between `credit.rating` and `account.balance`. These
    types of tests are extremely useful when we build statistical models. You can
    look up the preceding tests on the internet or any statistics book to get a deeper
    insight into what p-values signify and how they work.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在这里还执行了两个统计测试：卡方测试和费舍尔测试，这两个测试都是列联表中广泛用于假设检验的相关测试。详细讨论这些测试中涉及的统计计算超出了本章的范围。我将用一种易于理解的方式来说明。通常，我们从一个零假设开始，即之前描绘的两个变量之间不存在关联或关系，以及一个备择假设，即两个变量之间存在关联或关系的可能性。如果从测试中获得p值小于或等于`0.05`，那么我们才能拒绝零假设，接受备择假设。在这种情况下，您可以清楚地看到，这两个测试都给出了`<
    0.05`的p值，这肯定有利于备择假设，即`credit.rating`和`account.balance`之间存在某种关联。这类测试在构建统计模型时非常有用。您可以在互联网或任何统计学书籍中查找前面的测试，以深入了解p值的意义及其工作原理。
- en: Note
  id: totrans-112
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Do note that going forward we will show only the most important analysis results
    for each feature. However, you can always try getting relevant information for
    the various analysis techniques using the functions we explained earlier. For
    contingency tables, use the `get.contingency.table()` function. Statistical tests
    can be performed by setting the `stat.tests` parameter as `TRUE` in the `get.contingency.table()`
    function. You can also use the `visualize.contingency.table()` function to view
    mosaic plots.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，从现在开始，我们将只展示每个特征最重要的分析结果。然而，您始终可以使用我们之前解释过的函数尝试获取各种分析技术的相关信息。对于列联表，使用`get.contingency.table()`函数。可以通过在`get.contingency.table()`函数中将`stat.tests`参数设置为`TRUE`来执行统计测试。您还可以使用`visualize.contingency.table()`函数来查看错综图。
- en: Now we will look at `credit.duration.months`, which signifies the duration of
    the credit in months. This is a numerical variable and the analysis will be a
    bit different from the other categorical variables.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将查看`credit.duration.months`，这表示信用期限（按月）。这是一个数值变量，分析将与其他分类变量略有不同。
- en: '[PRE19]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'We can visualize the same from the following figure:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以从以下图中看到相同的内容：
- en: '![Analyzing the dataset](img/00145.jpeg)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00145.jpeg)'
- en: The values we see are in months and we get the typical summary statistics for
    this feature, including the mean, median, and quartiles. We will now visualize
    the overall distribution of the values for this feature using both `histograms/density`
    plots and `boxplots`.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 我们看到的值是按月计算的，我们得到这个特征的典型汇总统计量，包括平均值、中位数和四分位数。我们现在将使用`histograms/density`图和`boxplots`来可视化这个特征的值分布。
- en: '[PRE20]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: We now visualize the same in the form of box plots, including the one showing
    associations with `credit.rating` next.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在以箱线图的形式可视化相同的内容，包括显示与`credit.rating`相关的下一个。
- en: '[PRE21]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Interestingly, from the following plots we see that the median credit duration
    for people who have a bad credit rating is higher than those who have a good credit
    rating. This seems to be plausible if we assume that many customers with long
    credit durations defaulted on their payments.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 有趣的是，从下面的图中我们可以看到，信用评级差的客户的平均信用期限高于信用评级好的客户。如果我们假设许多信用期限长的客户违约了，这似乎是合理的。
- en: '![Analyzing the dataset](img/00147.jpeg)'
  id: totrans-123
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00147.jpeg)'
- en: 'Moving on to the next variable, `previous.credit.payment.status` indicates
    what is the status of the customer with regards to paying his previous credits.
    This is a `categorical variable` and we get the statistics for it as shown next:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将查看下一个变量`previous.credit.payment.status`，这表示客户在支付其先前信用时的状态。这是一个`分类变量`，我们得到如下的统计数据：
- en: '[PRE22]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'This gives us the following table and bar chart depicting the data distribution:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 这给我们以下表格和条形图，展示了数据分布：
- en: '![Analyzing the dataset](img/00148.jpeg)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00148.jpeg)'
- en: 'The classes indicate the following as the main semantics:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 这些类别表示以下主要语义：
- en: '**0**: Hesitant payment'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**0**: 犹豫不决的支付'
- en: '**1**: Problematic running account'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 运行账户有问题'
- en: '**2**: No previous credits left'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 没有剩余的先前信用'
- en: '**3**: No problem with the current credits at this bank'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 这家银行的当前信用额度没有问题'
- en: '**4**: Paid back the previous credits at this bank'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: 在这家银行还清了之前的信用'
- en: 'We will be applying the following transformations to this feature, so the new
    semantics will be:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将对这个功能应用以下变换，因此新的语义将是：
- en: '**1**: Some problems with payment'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 支付存在一些问题'
- en: '**2**: All credits paid'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 所有信用已支付'
- en: '**3**: No problems and credits paid in this bank only'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 没有问题，并且只在银行支付了信用'
- en: 'We will perform the transformations in the following code snippet:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在以下代码片段中执行变换：
- en: '[PRE23]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'The contingency table for the transformed feature is obtained as follows:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 变换后特征的列联表如下获得：
- en: '[PRE24]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: We observe from the following table that maximum people who have a good credit
    rating have paid their previous credits without any problem and those who do not
    have a good credit rating had some problem with their payments, which makes sense!
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 从以下表格中我们可以观察到，拥有良好信用评级的最大人数已经没有问题地支付了之前的信用，而没有良好信用评级的人则支付上存在一些问题，这是有道理的！
- en: '![Analyzing the dataset](img/00149.jpeg)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00149.jpeg)'
- en: 'The next feature we will look at is `credit.purpose`, which signifies the purpose
    of the credit amount. This is also a categorical variable and we get its summary
    statistics and plot the bar chart showing the frequency of its various classes
    as follows:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 我们接下来要分析的功能是 `credit.purpose`，它表示信用金额的目的。这也是一个分类变量，我们得到其摘要统计信息，并绘制以下条形图来显示其各种类别的频率：
- en: '[PRE25]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'This gives us the following table and bar chart depicting the data distribution:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 这给我们以下表格和条形图，展示了数据分布：
- en: '![Analyzing the dataset](img/00150.jpeg)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00150.jpeg)'
- en: We observe that there are a staggering 11 classes just for this feature. Besides
    this, we also observe that several classes have extremely low proportions compared
    to the top 5 classes and class **label 7** doesn't even appear in the dataset!
    This is exactly why we need to do feature engineering by grouping some of these
    classes together, as we did previously.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 我们观察到，仅针对这个功能就有惊人的11个类别。除此之外，我们还观察到，与前5个类别相比，有几个类别的比例极低，而且类别**标签7**甚至没有出现在数据集中！这正是我们需要通过将一些这些类别分组在一起进行特征工程的原因，就像我们之前做的那样。
- en: 'The classes indicate the following as the main semantics:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 这些类别表示以下主要语义：
- en: '**0**: Others'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**0**: 其他'
- en: '**1**: New car'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 新车'
- en: '**2**: Used car'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 二手车'
- en: '**3**: Furniture items'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 家具物品'
- en: '**4**: Radio or television'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: 收音机或电视'
- en: '**5**: Household appliances'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**5**: 家用电器'
- en: '**6**: Repair'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**6**: 维修'
- en: '**7**: Education'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**7**: 教育'
- en: '**8**: Vacation'
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**8**: 假期'
- en: '**9**: Retraining'
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**9**: 再培训'
- en: '**10**: Business'
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**10**: 商业'
- en: 'We will be transforming this feature by combining some of the existing classes
    and the new semantics after transformation will be the following:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将通过结合一些现有的类和变换后的新语义来转换这个功能，变换后的语义如下：
- en: '**1**: New car'
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 新车'
- en: '**2**: Used car'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 二手车'
- en: '**3**: Home related items'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 与家庭相关的物品'
- en: '**4**: Others'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: 其他'
- en: 'We will do this by using the following code snippet:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将通过以下代码片段来完成这项工作：
- en: '[PRE26]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'The contingency table for the transformed feature is then obtained by the following
    code snippet:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 通过以下代码片段获得变换后特征的列联表：
- en: '[PRE27]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Based on the following table, we see that the customers who have credit purposes
    of home related items or other items seem to have the maximum proportion in the
    bad credit rating category:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 根据以下表格，我们看到拥有家庭相关物品或其他物品信用目的的客户在不良信用评级类别中的比例似乎最高：
- en: '![Analyzing the dataset](img/00151.jpeg)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00151.jpeg)'
- en: 'The next feature we will analyze is `credit.amount`, which basically signifies
    the amount of credit in DM being asked from the bank by the customer. This is
    a numerical variable and we use the following code for getting the summary statistics:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 我们接下来要分析的功能是 `credit.amount`，它基本上表示客户从银行请求的信用金额。这是一个数值变量，我们使用以下代码来获取摘要统计信息：
- en: '[PRE28]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '![Analyzing the dataset](img/00152.jpeg)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00152.jpeg)'
- en: 'We see the normal statistics, such as the average credit amount as 3270 DM
    and the median as around 3270 DM. We will now visualize the distribution of the
    preceding data using a histogram and density plot as follows:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到一些正常统计量，例如平均信贷金额为 3270 DM，中位数约为 3270 DM。现在我们将使用直方图和密度图来可视化前面数据的分布，如下所示：
- en: '[PRE29]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'This will give us the histogram and density plot for `credit.amount`, and you
    can see that it is a right-skewed distribution in the following figure:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 这将为我们提供`credit.amount`的直方图和密度图，您可以在以下图中看到它是一个右偏分布：
- en: '![Analyzing the dataset](img/00153.jpeg)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00153.jpeg)'
- en: 'Next, we will visualize the data using boxplots to see the data distribution
    and its relationship with `credit.rating` using the following code snippet:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将使用以下代码片段使用箱线图来可视化数据，以查看数据分布及其与 `credit.rating` 的关系：
- en: '[PRE30]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: This generates the following boxplots where you can clearly see the right skew
    in the distribution shown by the numerous dots in the boxplots. We also see an
    interesting insight that the median credit rating was bad for those customers
    who asked for a higher credit amount, which seems likely assuming many of them
    may have failed to make all the payments required to pay off the credit amount.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 这生成了以下箱线图，您可以在箱线图中清楚地看到分布的右偏，由箱线中的许多点表示。我们还发现了一个有趣的见解，即对于要求更高信贷金额的客户，其信贷评分的中位数是差的，这在许多客户可能未能支付所需全部还款以偿还信贷金额的情况下似乎很合理。
- en: '![Analyzing the dataset](img/00154.jpeg)'
  id: totrans-182
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00154.jpeg)'
- en: Now that you have a good idea about how to perform descriptive analysis for
    categorical and numerical variables, going forward we will not be showing outputs
    of all the different analysis techniques for each feature. Feel free to experiment
    with the functions we used earlier on the remaining variables to obtain the summary
    statistics and visualizations if you are interested in digging deeper into the
    data!
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经了解了如何对分类和数值变量进行描述性分析，从现在开始，我们将不会展示每个特征的所有不同分析技术的输出。如果您有兴趣深入了解数据，请随意使用我们之前使用的函数对剩余变量进行实验，以获取汇总统计量和可视化结果！
- en: 'The next feature is savings, which is a categorical variable having the following
    semantics for the 5 class labels:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个特征是储蓄，它是一个具有以下五个类别语义的分类变量：
- en: '**1**: No savings'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 没有储蓄'
- en: '**2**: `< 100` DM'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: `< 100` DM'
- en: '**3**: Between `[100, 499]` DM'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 在 `[100, 499]` DM 之间'
- en: '**4**: Between `[500, 999]` DM'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: 在 `[500, 999]` DM 之间'
- en: '**5**: `>= 1000` DM'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**5**: `>= 1000` DM'
- en: 'The feature signifies the average amount of savings/stocks belonging to the
    customer. We will be transforming it to the following four class labels:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 该特征表示客户拥有的平均储蓄/股票金额。我们将将其转换为以下四个类别标签：
- en: '**1**: No savings'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 没有储蓄'
- en: '**2**: `< 100` DM'
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: `< 100` DM'
- en: '**3**: Between `[100, 999]` DM'
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 在 `[100, 999]` DM 之间'
- en: '**4**: `>= 1000` DM'
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: `>= 1000` DM'
- en: 'We will be using the following code snippet:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用以下代码片段：
- en: '[PRE31]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Now we analyze the relationship between savings and `credit.rating` using the
    following code for the contingency table:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将使用以下代码分析储蓄与 `credit.rating` 之间的关系，以生成列联表：
- en: '[PRE32]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: This generates the following contingency table. On observing the table values,
    it is clear that people with no savings have the maximum proportion among customers
    who have a bad credit rating, which is not surprising! This number is also high
    for customers with a good credit rating since the total number of good credit
    rating records is also high compared to the total records in bad credit rating.
    However, we also see that the proportion of people having `> 1000` DM and a good
    credit rating is quite high in comparison to the proportion of people having both
    a bad credit rating and `> 1000` DM in their savings account.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 这生成了以下列联表。观察表值后，很明显，在具有不良信贷评分的客户中，没有储蓄的人的比例最高，这并不令人惊讶！这个数字对于具有良好信贷评分的客户来说也很高，因为与不良信贷评分的总记录数相比，良好信贷评分的总记录数也较高。然而，我们还可以看到，具有
    `> 1000` DM 和良好信贷评分的人的比例相对于在储蓄账户中同时具有不良信贷评分和 `> 1000` DM 的人的比例相当高。
- en: '![Analyzing the dataset](img/00155.jpeg)'
  id: totrans-200
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00155.jpeg)'
- en: 'We will now look at the feature named `employment.duration`, which is a categorical
    variable signifying the duration for which the customer has been employed until
    present. The semantics for the five classes of the feature are:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将查看名为 `employment.duration` 的特征，它是一个表示客户至今为止被雇佣时间的分类变量。该特征的五个类别语义如下：
- en: '**1**: Unemployed'
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 失业'
- en: '**2**: `< 1` year'
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: `< 1` 年'
- en: '**3**: Between `[1, 4]` years'
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 在 `[1, 4]` 年之间'
- en: '**4**: Between `[4, 7]` years'
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: 在 `[4, 7]` 年之间'
- en: '**5**: `>= 7` years'
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**5**: `>= 7`年'
- en: 'We will be transforming it to the following four classes:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将将其转换为以下四个类别：
- en: '**1**: Unemployed or `< 1` year'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 未就业或`< 1`年'
- en: '**2**: Between `[1,4]` years'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 在 `[1,4]` 年之间'
- en: '**3**: Between `[4,7]` years'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 在 `[4,7]` 年之间'
- en: '**4**: `>= 7` years'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: `>= 7`年'
- en: 'We will be using the following code:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用以下代码：
- en: '[PRE33]'
  id: totrans-213
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Now we analyze its relationship using the contingency table, as follows:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们使用列联表分析其关系，如下所示：
- en: '[PRE34]'
  id: totrans-215
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: What we observe from the following table is that the proportion of customers
    having none or a significantly low number of years in employment and a bad credit
    rating is much higher than similar customers having a good credit rating. In the
    case of `employment.duration` feature, the value 1 indicates the people who are
    unemployed or have `< 1` year of employment. The proportion of these people having
    a bad credit rating in 93 out of 300 people. This gives 31% which is lot higher
    compared to the same metric for the customers having a good credit rating which
    is 141 out of 700 customers, or 20%.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 从以下表中我们可以观察到，没有或显著低就业年数和不良信用评级的客户比例远高于具有良好信用评级的类似客户。在`employment.duration`特征中，值1表示失业或就业时间少于`1`年的人。在300人中有93人具有不良信用评级，这给出了31%的比例，与具有良好信用评级的客户相同指标相比，这一比例要高得多，后者为700客户中的141人，或20%。
- en: '![Analyzing the dataset](img/00156.jpeg)'
  id: totrans-217
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00156.jpeg)'
- en: 'We now move on to the next feature named `installment.rate`, which is a categorical
    variable with the following semantics:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在继续分析下一个特征，名为`installment.rate`，这是一个具有以下语义的分类变量：
- en: '**1**: `>=35%`'
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: `>=35%`'
- en: '**2**: Between `[25, 35]%`'
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 在 `[25, 35]%` 之间'
- en: '**3**: Between `[20, 25]%`'
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 在 `[20, 25]%` 之间'
- en: '**4**: `< 20%` for the four classes'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: 四个类别的`< 20%`'
- en: There wasn't too much information in the original metadata for this attribute
    so there is some ambiguity, but what we assumed is that it indicates the percentage
    of the customer's salary which was used to pay the credit loan as monthly installments.
    We won't be doing any transformations here so we will directly go to the relationships.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个属性的原始元数据中信息不多，因此存在一些歧义，但我们假设它表示客户工资中用于支付信用贷款月度分期付款的百分比。我们在这里不会进行任何转换，所以我们将直接进入关系分析。
- en: '[PRE35]'
  id: totrans-224
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '[PRE36]'
  id: totrans-225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: '![Analyzing the dataset](img/00157.jpeg)'
  id: totrans-226
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00157.jpeg)'
- en: 'The next variable we will analyze is `marital.status`, which indicates the
    marital status of the customer and is a categorical variable. It has four classes
    with the following semantics:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 我们接下来要分析的是`marital.status`变量，它表示客户的婚姻状况，是一个分类变量。它有四个类别，具有以下语义：
- en: '**1**: Male divorced'
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 男性离婚'
- en: '**2**: Male single'
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 男性单身'
- en: '**3**: Male married/widowed'
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 男性已婚/丧偶'
- en: '**4**: Female'
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: 女性'
- en: 'We will be transforming them into three classes with the following semantics:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将根据以下语义将其转换为三个类别：
- en: '**1**: Male divorced/single'
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 男性离婚/单身'
- en: '**2**: Male married/widowed'
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 男性已婚/丧偶'
- en: '**3**: Female'
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 女性'
- en: 'We will be using the following code:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用以下代码：
- en: '[PRE37]'
  id: totrans-237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'We now observe the relationship between `marital.status` and `credit.rating`
    by building a contingency table using the following code snippet:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在通过以下代码片段构建一个列联表来观察`marital.status`和`credit.rating`之间的关系：
- en: '[PRE38]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: From the following table, we notice that the ratio of single men to married
    men for customers with a good credit rating is **1:2** compared to nearly **1:1**
    for customers with a bad credit rating. Does this mean that maybe more married
    men tend to pay their credit debts in time? That could be a possibility for this
    dataset, but do remember that correlation does not imply causation in general.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 从以下表中，我们注意到，对于信用评级良好的客户，单身男性与已婚男性的比例为**1:2**，而对于信用评级较差的客户，这一比例接近**1:1**。这意味着也许已婚男性更倾向于按时偿还信用债务？这可能是一个可能性，但请记住，相关性并不总是意味着因果关系。
- en: '![Analyzing the dataset](img/00158.jpeg)'
  id: totrans-241
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00158.jpeg)'
- en: The p-values from the statistical tests give us a value of `0.01`, indicating
    that there might be some association between the features.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 统计测试的p值给出了`0.01`的值，这表明特征之间可能存在某种关联。
- en: 'The next feature is guarantor, which signifies if the customer has any further
    debtors or guarantors. This is a categorical variable with three classes having
    the following semantics:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个特征是担保人，这表示客户是否有任何其他债务人或担保人。这是一个有三个类别的分类变量，具有以下语义：
- en: '**1**: None'
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 无'
- en: '**2**: Co-applicant'
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 共同借款人'
- en: '**3**: Guarantor'
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 担保人'
- en: 'We transform them into two variables with the following semantics:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将它们转换成以下语义的两个变量：
- en: '**1**: No'
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 否'
- en: '**2**: Yes'
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 是'
- en: 'For the transformation, we use the following code snippet:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 对于转换，我们使用以下代码片段：
- en: '[PRE39]'
  id: totrans-251
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: Performing statistical tests on this yield a p-value of `1`, which is much greater
    than `0.05`, thus ruling the null hypothesis in favor and implying that there
    is probably no association between guarantor and `credit.rating`.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 对此结果进行统计分析得到 p 值为 `1`，这个值远大于 `0.05`，因此拒绝零假设，暗示担保人与 `credit.rating` 之间可能没有关联。
- en: Tip
  id: totrans-253
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: You can also run the statistical tests using direct functions instead of calling
    the `get.contingency.table(…)` function each time. For Fisher's exact test, call
    `fisher.test(credit.rating, guarantor)`, and for Pearson's Chi-squared test, call
    `chisq.test(credit,rating, guarantor)`. Feel free to substitute guarantor with
    any of the other independent variables to carry out these tests.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以使用直接函数而不是每次都调用 `get.contingency.table(…)` 函数来运行统计分析。对于费舍尔精确检验，调用 `fisher.test(credit.rating,
    guarantor)`，对于皮尔逊卡方检验，调用 `chisq.test(credit,rating, guarantor)`。您可以将担保人替换为任何其他独立变量以执行这些测试。
- en: The next feature is `residence.duration`, which signifies how long the customer
    has been residing at his current address.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个特征是 `residence.duration`，表示客户在其当前地址居住的时间。
- en: 'This is a categorical variable with the following semantics for the four classes:'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个分类变量，以下是对四个类别的语义描述：
- en: '**1**: `< 1` year'
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: `< 1` 年'
- en: '**2**: Between `[1,4]` years'
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 在 `[1,4]` 年之间'
- en: '**3**: Between `[4,7]` years'
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 在 `[4,7]` 年之间'
- en: '**4**: `>= 7` years'
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: `>= 7` 年'
- en: We will not be doing any transformations and will be directly doing statistical
    tests to see if this feature has any association with `credit,rating`. From in
    the previous tip, using the functions `fisher.test` and `chisq.test` both give
    us a p-value of `0.9`, which is significantly `> 0.05` and thus there is no significant
    relationship between them. We will show the outputs of both the statistical tests
    here, just so you can get an idea of what they depict.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将不对这些数据进行转换，而是直接进行统计分析，以查看该特征是否与 `credit,rating` 有任何关联。根据之前的提示，使用 `fisher.test`
    和 `chisq.test` 函数都给出了 p 值为 `0.9`，这个值显著大于 `0.05`，因此它们之间没有显著关系。我们将在这里展示这两个统计测试的输出，以便您了解它们所描述的内容。
- en: '[PRE40]'
  id: totrans-262
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'You can see from the following outputs that we get the same p-value from both
    the tests we talked about earlier:'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从以下输出中看到，我们从之前提到的两个测试中都得到了相同的 p 值：
- en: '![Analyzing the dataset](img/00159.jpeg)'
  id: totrans-264
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00159.jpeg)'
- en: 'We now shift our focus to `current.assets,` which is a categorical variable
    having the following semantics for the four classes:'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在将重点转向 `current.assets`，这是一个分类变量，以下是对四个类别的语义描述：
- en: '**1**: No assets'
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 没有资产'
- en: '**2**: Car/other'
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 汽车/其他'
- en: '**3**: Life insurance/savings contract'
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 人寿保险/储蓄合同'
- en: '**4**: House/land ownership'
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: 房地产/土地所有权'
- en: We will not be doing any transformations on this data and will directly run
    the same statistical tests to check if it has any association with `credit.rating`.
    We get a p-value of `3 x 10-5`, which is definitely `< 0.05`, and thus we can
    conclude that the alternative hypothesis holds good that there is some association
    between the variables.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将不对这些数据进行转换，而是直接运行相同的统计分析，以检查它是否与 `credit.rating` 有任何关联。我们得到的 p 值为 `3 x 10-5`，这个值显然小于
    `0.05`，因此我们可以得出结论，备择假设成立，即变量之间存在某种关联。
- en: 'The next variable we will analyze is `age`. This is a numeric variable and
    we will get its summary statistics as follows:'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将要分析的下一个变量是 `age`。这是一个数值变量，我们将如下获取其摘要统计信息：
- en: '[PRE41]'
  id: totrans-272
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: '**Output**:'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: '**输出**：'
- en: '![Analyzing the dataset](img/00160.jpeg)'
  id: totrans-274
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00160.jpeg)'
- en: 'We can observe that the average age of customers is 35.5 years and the median
    age is 33 years. To view the feature distributions, we will visualize it using
    a histogram and density plot using the following code snippet:'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以观察到，客户平均年龄为 35.5 岁，中位数为 33 岁。为了查看特征分布，我们将使用以下代码片段使用直方图和密度图进行可视化：
- en: '[PRE42]'
  id: totrans-276
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'We can observe from the following plots that the distribution is a right-skewed
    distribution with the majority of customer ages ranging from 25 to 45 years:'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 从以下图表中我们可以观察到，分布是右偏分布，大多数客户年龄在 25 至 45 岁之间：
- en: '![Analyzing the dataset](img/00161.jpeg)'
  id: totrans-278
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00161.jpeg)'
- en: 'We will now observe the relationship between `age` and `credit.rating` by visualizing
    it through boxplots, as follows:'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在将通过箱线图可视化来观察 `age` 和 `credit.rating` 之间的关系，如下所示：
- en: '[PRE43]'
  id: totrans-280
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: The right-skew from the following plots is clearly distinguishable in the boxplots
    by the cluster of dots we see at the extreme end. The interesting observation
    we can make from the right plot is that people who have a bad credit rating have
    a lower median age than people who have a good credit rating.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 从以下图表中可以看出，右偏斜在箱线图中通过我们在极端端点看到的点簇明显可辨。从右边的图表中我们可以得出的有趣观察是，信用评级差的客户的平均年龄低于信用评级好的客户。
- en: '![Analyzing the dataset](img/00162.jpeg)'
  id: totrans-282
  prefs: []
  type: TYPE_IMG
  zh: '![分析数据集](img/00162.jpeg)'
- en: One reason for this association could be that younger people who are still not
    well settled and employed have failed to repay the credit loans which they had
    taken from the bank. But, once again, this is just an assumption which we cannot
    verify unless we look into the full background of each customer.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 这种关联的一个原因可能是，一些年轻人由于尚未稳定就业而未能偿还他们从银行借取的信用贷款。但，再次强调，这只是一个假设，除非我们查看每个客户的完整背景，否则我们无法验证。
- en: 'Next, we will look at the feature `other.credits`, which has the following
    semantics for the three classes:'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将查看特征 `other.credits`，它具有以下三个类别的语义：
- en: '**1**: At other banks'
  id: totrans-285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 在其他银行'
- en: '**2**: At stores'
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 在商店'
- en: '**3**: No further credits'
  id: totrans-287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 没有更多信用'
- en: 'This feature indicates if the customer has any other pending credits elsewhere.
    We will transform this to two classes with the following semantics:'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 这个特征表示客户是否在其他地方有任何其他待处理的信用。我们将将其转换为两个类别，具有以下语义：
- en: '**1**: Yes'
  id: totrans-289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 是'
- en: '**2**: No'
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 否'
- en: 'We will be using the following code snippet:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用以下代码片段：
- en: '[PRE44]'
  id: totrans-292
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: On performing statistical tests on the newly transformed feature, we get a p-value
    of `0.0005`, which is `< 0.05`, and thus favors the alternative hypothesis over
    the null, indicating that there is some association between this feature and `credit.rating`,
    assuming there is no influence from anything else.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 对新转换的特征进行统计分析，我们得到一个 p 值为 `0.0005`，这 `< 0.05`，因此支持备择假设而非零假设，表明这个特征与 `credit.rating`
    之间存在某种关联，假设没有其他因素的影响。
- en: 'The next feature `apartment.type` is a categorical variable having the following
    semantics for the three classes:'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个特征 `apartment.type` 是一个具有以下语义的三个类别的类别变量：
- en: '**1**: Free apartment'
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 免费公寓'
- en: '**2**: Rents flat'
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 租赁公寓'
- en: '**3**: Owns occupied flat'
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 拥有并居住的公寓'
- en: This feature basically signifies the type of apartment in which the customer
    resides. We will not be doing any transformation to this variable and will be
    directly moving on to the statistical tests. Both the tests give us a p-value
    of `< 0.05`, which signifies that some association is present between `apartment.type`
    and `credit.rating`, assuming no other factors affect it.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 这个特征基本上表示客户居住的公寓类型。我们不会对这个变量进行任何转换，并将直接进行统计分析。这两个测试都给出了 p 值 `< 0.05`，这表明 `apartment.type`
    和 `credit.rating` 之间存在某种关联，假设没有其他因素影响。
- en: 'Now we will look at the feature `bank.credits`, which is a categorical variable
    having the following semantics for the four classes:'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将查看特征 `bank.credits`，这是一个具有以下语义的类别变量，对于四个类别：
- en: '**1**: One'
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 一个'
- en: '**2**: Two/three'
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 两个/三个'
- en: '**3**: Four/five'
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 四个/五个'
- en: '**4**: Six or more'
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: 六个或更多'
- en: 'This feature signifies the total number of credit loans taken by the customer
    from this bank including the current one. We will transform this into a binary
    feature with the following semantics for the two classes:'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 这个特征表示客户从该银行（包括当前的一个）借取的信用贷款总数。我们将将其转换为一个二元特征，具有以下两个类别的语义：
- en: '**1**: One'
  id: totrans-305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 一个'
- en: '**2**: More than one'
  id: totrans-306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 超过一个'
- en: 'We will be using the following code:'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用以下代码：
- en: '[PRE45]'
  id: totrans-308
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: Carrying out statistical tests on this transformed feature gives us a p-value
    of `0.2`, which is much `> 0.05`, and hence we know that the null hypothesis still
    holds good that there is no significant association between `bank.credits` and
    `credit.rating`. Interestingly, if you perform statistical tests with the untransformed
    version of `bank.credits`, you will get an even higher p-value of `0.4`, which
    indicates no significant association.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 对这个转换后的特征进行统计分析，我们得到一个 p 值为 `0.2`，这比 `0.05` 大得多，因此我们知道零假设仍然有效，即 `bank.credits`
    和 `credit.rating` 之间没有显著的关联。有趣的是，如果你使用 `bank.credits` 的未转换版本进行统计分析，你会得到一个更高的 p
    值为 `0.4`，这表明没有显著的关联。
- en: 'The next feature is `occupation`, which obviously signifies the present job
    of the customer. This is a categorical variable with the following semantics for
    its four classes:'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个特征是`occupation`，显然表示客户的当前工作。这是一个分类变量，其四个类别具有以下语义：
- en: '**1**: Unemployed with no permanent residence'
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 失业且无永久居留权'
- en: '**2**: Unskilled with permanent residence'
  id: totrans-312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 无技能且拥有永久居留权'
- en: '**3**: Skilled worker/minor civil servant'
  id: totrans-313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**3**: 技能工人/次要公务员'
- en: '**4**: Executive/self-employed/higher civil servant'
  id: totrans-314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**4**: 执行/自雇/高级公务员'
- en: We won't be applying any transformations on this feature since each class is
    quite distinct in its characteristics. Hence, we will be moving on directly to
    analyzing the relationships with statistical tests. Both the tests yield a p-value
    of `0.6`, which is definitely `> 0.05`, and the null hypothesis holds good that
    there is no significant relationship between the two features.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不会对这个特征应用任何转换，因为每个类别在特征上都有其独特的特点。因此，我们将直接进行统计分析，这两个测试得到的p值为`0.6`，这肯定大于`0.05`，因此零假设成立，即两个特征之间没有显著的关系。
- en: 'We will now look at the next feature dependents, which is a categorical variable
    having the following semantics for its two class labels:'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在将查看下一个特征`dependents`，这是一个具有以下语义的两个类别标签的分类变量：
- en: '**1**: Zero to two'
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 零到两个'
- en: '**2**: Three or more'
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 三或更多'
- en: This feature signifies the total number of people who are dependents for the
    customer. We will not be applying any transformations since it is already a binary
    variable. Carrying out statistical tests on this feature yields a p-value of `1`,
    which tells us that this feature does not have a significant relationship with
    `credit.rating`.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 这个特征表示作为客户依赖者的总人数。我们不会对这个特征应用任何转换，因为它已经是一个二进制变量。对这个特征进行统计分析得到的p值为`1`，这告诉我们这个特征与`credit.rating`没有显著的关系。
- en: 'Next up is the feature telephone, which is a binary categorical variable which
    has two classes with the following semantics indicating whether the customer has
    a telephone:'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来是特征`telephone`，这是一个具有两个类别的二进制分类变量，以下语义表示客户是否有电话：
- en: '**1**: No'
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 否'
- en: '**2**: Yes'
  id: totrans-322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 是'
- en: We do not need any further transformations here since it is a binary variable.
    So, we move on to the statistical tests which give us a p-value of `0.3`, which
    is `> 0.05`, ruling the null hypothesis in favor of the alternative, thus indicating
    that no significant association exists between telephone and `credit.rating`.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这是一个二进制变量，我们在这里不需要进行任何进一步的转换。因此，我们继续进行统计分析，得到的p值为`0.3`，这大于`0.05`，因此零假设被拒绝，表明电话与`credit.rating`之间没有显著的关联。
- en: 'The final feature in the dataset is `foreign.worker`, which is a binary categorical
    variable having two classes with the following semantics indicating if the customer
    is a foreign worker:'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集中的最后一个特征是`foreign.worker`，这是一个具有两个类别的二进制分类变量，以下语义表示客户是否是外国工人：
- en: '**1**: Yes'
  id: totrans-325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**: 是'
- en: '**2**: No'
  id: totrans-326
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**: 否'
- en: We do not perform any transformations since it is already a binary variable
    with two distinct classes and move on to the statistical tests. Both the tests
    give us a p-value of `< 0.05`, which might indicate that this variable has a significant
    relationship with `credit.rating`.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 我们没有进行任何转换，因为这个变量已经是二进制变量，具有两个不同的类别，所以我们继续进行统计分析。这两个测试都给出了小于0.05的p值，这可能表明这个变量与`credit.rating`有显著的关系。
- en: With this, we come to an end of our data analysis phase for the dataset.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这一点，我们完成了对数据集的数据分析阶段。
- en: Saving the transformed dataset
  id: totrans-329
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 保存转换后的数据集
- en: 'We have performed a lot of feature engineering using data transformations for
    several categorical variables and since we will be building predictive models
    on the transformed feature sets, we need to store this dataset separately to disk.
    We use the following code snippet for the same:'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经对多个分类变量进行了大量的特征工程，使用数据转换，由于我们将在转换后的特征集上构建预测模型，我们需要将这个数据集单独存储到磁盘上。我们使用以下代码片段来完成同样的任务：
- en: '[PRE46]'
  id: totrans-331
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: We can load the above file into R directly the next time start building predictive
    models, which we will be covering in the next chapter.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 下次开始构建预测模型时，我们可以直接将上述文件加载到R中，我们将在下一章中介绍这一点。
- en: Next steps
  id: totrans-333
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下一步
- en: 'We have analyzed our dataset, performed necessary feature engineering and statistical
    tests, built visualizations, and gained substantial domain knowledge about credit
    risk analysis and what kind of features are considered by banks when they analyze
    customers. The reason why we analyzed each feature in the dataset in detail was
    to give you an idea about each feature that is considered by banks when analyzing
    credit rating for customers. This was to give you good domain knowledge understanding
    and also to help you get familiar with the techniques of performing an exploratory
    and descriptive analysis of any dataset in the future. So, what next? Now comes
    the really interesting part of using this dataset; building feature sets from
    this data and feeding them into predictive models to predict which customers can
    be potential credit risks and which of them are not. As mentioned previously,
    there are two steps to this: data and algorithms. In fact, we will go a step further
    and say that there are feature sets and algorithms which will help us in achieving
    our main objective.'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经分析了我们的数据集，进行了必要的特征工程和统计测试，构建了可视化，并获得了关于信用风险分析和银行在分析客户时考虑哪些特征的大量领域知识。我们详细分析数据集中每个特征的原因是为了让你了解银行在分析客户信用评级时考虑的每个特征。这是为了让你对领域知识有良好的理解，并帮助你熟悉未来对任何数据集进行探索性和描述性分析的技术。那么接下来是什么？现在真正有趣的部分来了；从这些数据中构建特征集，并将它们输入到预测模型中，以预测哪些客户可能是潜在的信用风险，哪些不是。如前所述，这有两个步骤：数据和算法。实际上，我们将更进一步，说有特征集和算法将帮助我们实现主要目标。
- en: Feature sets
  id: totrans-335
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 特征集
- en: A dataset is basically a file consisting of several records of observation where
    each tuple or record denotes one complete set of observations and the columns
    are specific attributes or features in that observation which talk about specific
    characteristics. In predictive analytics, usually there is one attribute or feature
    in the dataset whose class or category has to be predicted. This variable is `credit.rating`
    in our dataset, also known as the dependent variable. All the other features on
    which this depends are the independent variables. Taking a combination of these
    features forms a feature vector, which is also known popularly as a feature set.
    There are various ways of identifying what feature sets we should consider for
    predictive models, and you will see going ahead that for any dataset there is
    never a fixed feature set. It keeps changing based on feature engineering, the
    type of predictive model we are building, and the significance of the features
    based on statistical tests.
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集基本上是一个包含多个观测记录的文件，其中每个元组或记录代表一组完整的观测，而列则是该观测中特定的属性或特征，它们讨论了特定的特性。在预测分析中，通常数据集中有一个属性或特征，其类别或类别需要被预测。这个变量在我们的数据集中是`credit.rating`，也称为因变量。所有其他依赖这些特征的变量都是自变量。这些特征的组合形成了一个特征向量，也常被称为特征集。确定我们应该考虑哪些特征集用于预测模型有多种方法，并且你将会看到，对于任何数据集，都没有一个固定的特征集。它根据特征工程、我们构建的预测模型类型以及基于统计测试的特征的重要性而不断变化。
- en: Each property in the feature set is termed as a feature or attribute and these
    are also known as independent or explanatory variables in statistics. Features
    can be of various types, as we saw in our dataset. We can have categorical features
    with several classes, binary features with two classes, ordinal features which
    are basically categorical features but have some order inherent in them (for example,
    low, medium, high), and numerical features which could be integer values or real
    values. Features are highly important in building predictive models and more often
    than not, the data scientists spend a lot of time in building the perfect feature
    sets to highly boost the accuracy of predictive models. This is why domain knowledge
    is highly essential, besides knowing about the machine learning algorithms.
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 特征集中的每个属性被称为特征或属性，在统计学中它们也被称为独立变量或解释变量。特征可以是各种类型，正如我们在数据集中所看到的。我们可以有具有多个类别的分类特征，具有两个类别的二元特征，有序特征，它们基本上是分类特征，但具有内在的某种顺序（例如，低、中、高），以及可能是整数或实数值的数值特征。特征在构建预测模型中非常重要，而且往往数据科学家会花费大量时间构建完美的特征集，以极大地提高预测模型的准确性。这就是为什么除了了解机器学习算法之外，领域知识也非常重要。
- en: Machine learning algorithms
  id: totrans-338
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 机器学习算法
- en: Once we get the feature sets ready, we can start using predictive models to
    use them and start predicting the credit rating of customers based on their features.
    An important thing to remember is that this is an iterative process and we have
    to keep modifying our feature sets based on outputs and feedback obtained from
    our predictive models to further improve them. Several methods which are relevant
    in our scenario, which belong to the class of supervised machine learning algorithms,
    are explained briefly in this section.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们准备好了特征集，我们就可以开始使用预测模型来使用它们，并开始根据客户特征预测客户的信用评级。要记住的一个重要的事情是，这是一个迭代过程，我们必须根据从预测模型获得的输出和反馈来不断修改我们的特征集，以进一步提高它们。在本节中简要解释了与我们场景相关的几种方法，它们属于监督机器学习算法的类别。
- en: '**Linear classification algorithms**: These algorithms perform classification
    in terms of a linear function which assigns scores to each class by performing
    a dot product of the feature set and some weights associated with them. The predicted
    class is the one which has the highest score. The optimal weights for the feature
    set are determined in various ways and differ based on the chosen algorithms.
    Some examples of algorithms include logistic regression, support vector machines,
    and perceptrons.'
  id: totrans-340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**线性分类算法**：这些算法通过线性函数进行分类，通过执行特征集和与之相关的某些权重的点积为每个类别分配分数。预测的类别是得分最高的类别。特征集的最优权重以各种方式确定，并且根据所选算法而有所不同。一些算法的例子包括逻辑回归、支持向量机和感知器。'
- en: '**Decision trees**: Here we use decision trees as predictive models that map
    various observations from the data points to the observed class of the record
    we are to predict. A decision tree is just like a flowchart structure, where each
    internal nonleaf node denotes a check on a feature, each branch represents an
    outcome of that check, and each terminal leaf node contains a class label which
    we predict finally.'
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**决策树**：在这里，我们使用决策树作为预测模型，将数据点中的各种观察结果映射到我们要预测的记录的观察类别。决策树就像一个流程图结构，其中每个内部非叶节点表示对特征的检查，每个分支代表该检查的结果，每个终端叶节点包含一个我们最终预测的类别标签。'
- en: '**Ensemble learning methods**: These include using multiple machine learning
    algorithms to obtain better predictive models. An example is the Random Forest
    classification algorithm which uses an ensemble of decision trees during the model
    training phase, and at each stage it takes the majority output decision from the
    ensemble of decision trees as its output. This tends to reduce overfitting, which
    occurs frequently when using decision trees.'
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**集成学习方法**：这包括使用多个机器学习算法来获得更好的预测模型。一个例子是随机森林分类算法，它在模型训练阶段使用决策树的集成，并在每个阶段从决策树的集成中获取多数输出决策作为其输出。这倾向于减少过度拟合，这在使用决策树时经常发生。'
- en: '**Boosting algorithms**: This is also an ensemble learning technique in the
    supervised learning family of algorithms. It consists of an iterative process
    of training several weak classification models and learning from them before adding
    them to a final classifier which is stronger than them. A weighted approach is
    followed when adding the classifiers, which is based on their accuracy. Future
    weak classifiers focus more on the records which were previously misclassified.'
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**提升算法**：这也是监督学习算法家族中的一种集成学习技术。它由训练多个弱分类模型并从它们中学习的过程组成，然后再将它们添加到一个比它们更强的最终分类器中。在添加分类器时遵循一种加权的做法，这基于它们的准确性。未来的弱分类器更多地关注先前被错误分类的记录。'
- en: '**Neural networks**: These algorithms are inspired by the biological neural
    networks which consist of systems of interconnected neurons that exchange messages
    with each other. In predictive modeling, we deal with artificial neural networks
    which consist of interconnected groups of nodes. Each node consists of a function
    which is usually a mathematical function (that is, sigmoid function) and has an
    adaptive weight associated with it which keeps changing based on inputs fed to
    the nodes and constantly checking the error obtained from the outputs in several
    iterations also known as **epochs**.'
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**神经网络**：这些算法受到生物神经网络的启发，生物神经网络由相互连接的神经元系统组成，它们相互交换信息。在预测建模中，我们处理人工神经网络，它由相互连接的节点组组成。每个节点包含一个函数，通常是一个数学函数（即，Sigmoid函数），并且与它相关联的权重是自适应的，根据输入到节点的数据不断变化，并在多次迭代（也称为**时期**）中不断检查从输出获得的错误。'
- en: We will be covering several of these algorithms when building predictive models
    in the next chapter.
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章构建预测模型时，我们将介绍这些算法中的几个。
- en: Summary
  id: totrans-346
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: Congratulations on staying until the end of this chapter! You have learnt several
    important things by now which we have covered in this chapter. You now have an
    idea about one of the most important areas in the financial domain, that is, Credit
    Risk analysis. Besides this, you also gained significant domain knowledge about
    how banks analyze customers for their credit ratings and what kind of attributes
    and features are considered by them. Descriptive and exploratory analysis of the
    dataset also gave you an insight into how to start working from scratch when you
    just have a problem to solve and a dataset given to you! You now know how to perform
    feature engineering, build beautiful publication quality visualizations using
    `ggplot2`, and perform statistical tests to check feature associations. Finally,
    we wrapped up our discussion by talking about feature sets and gave a brief introduction
    to several supervised machine learning algorithms which will help us in the next
    step of predicting credit risks. The most interesting part is yet to come, so
    stay tuned!
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜你坚持看到本章的结尾！到目前为止，你已经通过本章学习到了一些重要内容。你现在对金融领域最重要的一个领域有了概念，那就是信用风险分析。除此之外，你还获得了关于银行如何分析客户以确定其信用评级以及他们考虑的哪些属性和特征的显著领域知识。对数据集的描述性和探索性分析也让你了解了当你只有一个问题要解决和一个数据集时，如何从头开始工作！你现在知道如何进行特征工程，使用`ggplot2`构建精美的出版物质量可视化，以及进行统计测试以检查特征关联。最后，我们通过讨论特征集来结束我们的讨论，并对几个监督机器学习算法进行了简要介绍，这些算法将帮助我们下一步预测信用风险。最有趣的部分还在后面，所以请继续关注！
