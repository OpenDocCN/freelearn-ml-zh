- en: Chapter 1. Practical Machine Learning with R
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第一章：使用R进行实用机器学习
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Downloading and installing R
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 下载和安装R
- en: Downloading and installing RStudio
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 下载和安装RStudio
- en: Installing and loading packages
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装和加载包
- en: Reading and writing data
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 读取和写入数据
- en: Using R to manipulate data
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用R操作数据
- en: Applying basic statistics
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应用基本统计
- en: Visualizing data
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可视化数据
- en: Getting a dataset for machine learning
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获取机器学习数据集
- en: Introduction
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: The aim of machine learning is to uncover hidden patterns, unknown correlations,
    and find useful information from data. In addition to this, through incorporation
    with data analysis, machine learning can be used to perform predictive analysis.
    With machine learning, the analysis of business operations and processes is not
    limited to human scale thinking; machine scale analysis enables businesses to
    capture hidden values in big data.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习的目的是从数据中揭示隐藏的模式、未知的相关性，并找到有用的信息。除此之外，通过结合数据分析，机器学习可以用于执行预测分析。使用机器学习，对商业运营和流程的分析不仅限于人类规模的思考；机器规模的分束能够使企业捕捉到大数据中的隐藏价值。
- en: Machine learning has similarities to the human reasoning process. Unlike traditional
    analysis, the generated model cannot evolve as data is accumulated. Machine learning
    can learn from the data that is processed and analyzed. In other words, the more
    data that is processed, the more it can learn.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习与人类推理过程有相似之处。与传统的分析不同，生成的模型不能随着数据的积累而进化。机器学习可以从处理和分析的数据中学习。换句话说，处理的数据越多，它就能学到的越多。
- en: R, as a dialect of GNU-S, is a powerful statistical language that can be used
    to manipulate and analyze data. Additionally, R provides many machine learning
    packages and visualization functions, which enable users to analyze data on the
    fly. Most importantly, R is open source and free.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: R，作为GNU-S方言的一种，是一种强大的统计语言，可以用来操作和分析数据。此外，R提供了许多机器学习包和可视化函数，使用户能够即时分析数据。最重要的是，R是开源的且免费的。
- en: 'Using R greatly simplifies machine learning. All you need to know is how each
    algorithm can solve your problem, and then you can simply use a written package
    to quickly generate prediction models on data with a few command lines. For example,
    you can either perform Naïve Bayes for spam mail filtering, conduct k-means clustering
    for customer segmentation, use linear regression to forecast house prices, or
    implement a hidden Markov model to predict the stock market, as shown in the following
    screenshot:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 使用R极大地简化了机器学习。您需要知道的是每个算法如何解决您的问题，然后您只需简单地使用一个编写的包，通过几条命令行快速生成数据上的预测模型。例如，您可以对垃圾邮件过滤执行朴素贝叶斯，对客户细分执行k-means聚类，使用线性回归预测房价，或者实现一个隐马尔可夫模型来预测股市，如下面的截图所示：
- en: '![Introduction](img/00002.jpeg)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![介绍](img/00002.jpeg)'
- en: Stock market prediction using R
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 使用R进行股票市场预测
- en: Moreover, you can perform nonlinear dimension reduction to calculate the dissimilarity
    of image data, and visualize the clustered graph, as shown in the following screenshot.
    All you need to do is follow the recipes provided in this book.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您还可以执行非线性降维来计算图像数据的相似度，并可视化聚类图，如下面的截图所示。您需要做的只是遵循本书中提供的菜谱。
- en: '![Introduction](img/00003.jpeg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![介绍](img/00003.jpeg)'
- en: A clustered graph of face image data
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 面部图像数据的聚类图
- en: This chapter serves as an overall introduction to machine learning and R; the
    first few recipes introduce how to set up the R environment and integrated development
    environment, RStudio. After setting up the environment, the following recipe introduces
    package installation and loading. In order to understand how data analysis is
    practiced using R, the next four recipes cover data read/write, data manipulation,
    basic statistics, and data visualization using R. The last recipe in the chapter
    lists useful data sources and resources.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 本章作为机器学习和R的整体介绍；前几道菜谱介绍了如何设置R环境和集成开发环境RStudio。在设置环境之后，接下来的菜谱介绍了包的安装和加载。为了理解如何使用R进行数据分析，接下来的四个菜谱涵盖了使用R进行数据读取/写入、数据处理、基本统计和数据可视化。本章的最后一道菜谱列出了有用的数据来源和资源。
- en: Downloading and installing R
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载和安装R
- en: To use R, you must first install it on your computer. This recipe gives detailed
    instructions on how to download and install R.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用R，您必须首先在您的计算机上安装它。这道菜谱提供了如何下载和安装R的详细说明。
- en: Getting ready
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: 'If you are new to the R language, you can find a detailed introduction, language
    history, and functionality on the official website ([http://www.r-project.org](http://www.r-project.org)/).
    When you are ready to download and install R, please access the following link:
    [http://cran.r-project.org/](http://cran.r-project.org/).'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您是 R 语言的初学者，您可以在官方网站上找到详细介绍、语言历史和功能（[http://www.r-project.org](http://www.r-project.org/)）。当您准备好下载和安装
    R 时，请访问以下链接：[http://cran.r-project.org/](http://cran.r-project.org/)。
- en: How to do it...
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Please perform the following steps to download and install R for Windows and
    Mac users:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 请按照以下步骤下载和安装适用于 Windows 和 Mac 用户版本的 R：
- en: Go to the R CRAN website, [http://www.r-project.org/](http://www.r-project.org/),
    and click on the **download R** link, that is, [http://cran.r-project.org/mirrors.html](http://cran.r-project.org/mirrors.html)):![How
    to do it...](img/00004.jpeg)
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往 R CRAN 网站，[http://www.r-project.org/](http://www.r-project.org/)，并点击 **下载
    R** 链接，即 [http://cran.r-project.org/mirrors.html](http://cran.r-project.org/mirrors.html)）：![如何操作...](img/00004.jpeg)
- en: You may select the mirror location closest to you:![How to do it...](img/00005.jpeg)
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以选择离您最近的镜像位置：![如何操作...](img/00005.jpeg)
- en: CRAN mirrors
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: CRAN 镜像
- en: Select the correct download link based on your operating system:![How to do
    it...](img/00006.jpeg)
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据您的操作系统选择正确的下载链接：![如何操作...](img/00006.jpeg)
- en: Click on the download link based on your OS
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 根据您的操作系统点击下载链接
- en: As the installation of R differs for Windows and Mac, the steps required to
    install R for each OS are provided here.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 Windows 和 Mac 安装 R 的步骤不同，因此为每个操作系统提供了安装 R 所需的步骤。
- en: 'For Windows users:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Windows 用户：
- en: Click on **Download R for Windows**, as shown in the following screenshot, and
    then click on **base**:![How to do it...](img/00007.jpeg)
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **下载 R for Windows**，如图所示，然后点击 **基础版**：![如何操作...](img/00007.jpeg)
- en: Go to "Download R for Windows" and click "base"
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 前往“下载 Windows 版 R”并点击“基础版”
- en: Click on **Download R 3.x.x for Windows**:![How to do it...](img/00008.jpeg)
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **下载 R 3.x.x for Windows**：![如何操作...](img/00008.jpeg)
- en: Click "Download R 3.x.x for Windows"
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 点击“下载 R 3.x.x for Windows”
- en: The installation file should be downloaded. Once the download is finished, you
    can double-click on the installation file and begin installing R:![How to do it...](img/00009.jpeg)
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装文件应该已下载。下载完成后，您可以双击安装文件并开始安装 R：![如何操作...](img/00009.jpeg)
- en: The Windows installation of R is quite straightforward; the installation GUI
    may instruct you on how to install the program step by step (public license, destination
    location, select components, startup options, startup menu folder, and select
    additional tasks). Leave all the installation options as the default settings
    if you do not want to make any changes.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Windows 版 R 的安装相当简单；安装 GUI 可能会逐步指导您如何安装程序（公共许可协议、目标位置、选择组件、启动选项、启动菜单文件夹以及选择附加任务）。如果您不想进行任何更改，请保留所有安装选项为默认设置。
- en: After successfully completing the installation, a shortcut to the R application
    will appear in your Start menu, which will open the R Console:![How to do it...](img/00010.jpeg)
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，R 应用程序的快捷方式将出现在您的开始菜单中，这将打开 R 控制台：![如何操作...](img/00010.jpeg)
- en: The Windows R Console
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Windows R 控制台
- en: 'For Mac OS X users:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Mac OS X 用户：
- en: Go to **Download R for (Mac) OS X,** as shown in this screenshot.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往 **下载 (Mac) OS X 版 R**，如图所示。
- en: Click on the latest version (`.pkg` file extension) according to your Mac OS
    version:![How to do it...](img/00011.jpeg)
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据您的 Mac OS 版本点击最新版本（`.pkg` 文件扩展名）：![如何操作...](img/00011.jpeg)
- en: Double-click on the downloaded installation file (`.pkg` extension) and begin
    to install R. Leave all the installation options as the default settings if you
    do not want to make any changes:![How to do it...](img/00012.jpeg)
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击下载的安装文件（`.pkg` 扩展名）并开始安装 R。如果您不想进行任何更改，请保留所有安装选项为默认设置：![如何操作...](img/00012.jpeg)
- en: Follow the onscreen instructions, **Introduction**, **Read Me**, **License**,
    **Destination Select**, **Installation Type**, **Installation**, **Summary**,
    and click on **continue** to complete the installation.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照屏幕上的说明，**简介**、**阅读我**、**许可协议**、**目标选择**、**安装类型**、**安装**、**摘要**，并点击 **继续**
    以完成安装。
- en: After the file is installed, you can use **Spotlight Search** or go to the application
    folder to find R:![How to do it...](img/00013.jpeg)
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 文件安装完成后，您可以使用 **Spotlight 搜索** 或转到应用程序文件夹来查找 R：![如何操作...](img/00013.jpeg)
- en: Use "Spotlight Search" to find R
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用“Spotlight 搜索”查找 R
- en: Click on R to open **R Console**:![How to do it...](img/00014.jpeg)
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 R 打开 **R 控制台**：![如何操作...](img/00014.jpeg)
- en: 'As an alternative to downloading a Mac `.pkg` file to install R, Mac users
    can also install R using Homebrew:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 作为下载 Mac `.pkg` 文件安装 R 的替代方案，Mac 用户也可以使用 Homebrew 安装 R：
- en: Download `XQuartz-2.X.X.dmg` from [https://xquartz.macosforge.org/landing/](https://xquartz.macosforge.org/landing/).
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 [https://xquartz.macosforge.org/landing/](https://xquartz.macosforge.org/landing/)
    下载 `XQuartz-2.X.X.dmg`。
- en: Double-click on the `.dmg` file to mount it.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击 `.dmg` 文件以挂载它。
- en: 'Update brew with the following command line:'
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令行更新 brew：
- en: '[PRE0]'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Clone the repository and symlink all its formulae to `homebrew/science`:'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 克隆仓库并将所有公式链接到 `homebrew/science`：
- en: '[PRE1]'
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Install gfortran:'
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装 gfortran：
- en: '[PRE2]'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Install R:'
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装 R：
- en: '[PRE3]'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: For Linux users, there are precompiled binaries for Debian, Red Hat, SUSE, and
    Ubuntu. Alternatively, you can install R from a source code. Besides downloading
    precompiled binaries, you can install R for Linux through a package manager. Here
    are the installation steps for CentOS and Ubuntu.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Linux 用户，有预编译的二进制文件适用于 Debian、Red Hat、SUSE 和 Ubuntu。或者，您也可以从源代码安装 R。除了下载预编译的二进制文件外，您还可以通过包管理器安装
    R。以下是 CentOS 和 Ubuntu 的安装步骤。
- en: 'Downloading and installing R on Ubuntu:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Ubuntu 上下载和安装 R：
- en: 'Add the entry to the `/etc/apt/sources.list` file:'
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将条目添加到 `/etc/apt/sources.list` 文件中：
- en: '[PRE4]'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Then, update the repository:'
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，更新仓库：
- en: '[PRE5]'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Install R with the following command:'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令安装 R：
- en: '[PRE6]'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Start R in the command line:'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令行中启动 R：
- en: '[PRE7]'
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Downloading and installing R on CentOS 5:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 在 CentOS 5 上下载和安装 R：
- en: 'Get rpm CentOS5 RHEL EPEL repository of CentOS5:'
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取 rpm CentOS5 RHEL EPEL 仓库的 CentOS5：
- en: '[PRE8]'
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Install CentOS5 RHEL EPEL repository:'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装 CentOS5 RHEL EPEL 仓库：
- en: '[PRE9]'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Update the installed packages:'
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新已安装的软件包：
- en: '[PRE10]'
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Install R through the repository:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过仓库安装 R：
- en: '[PRE11]'
  id: totrans-79
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Start R in the command line:'
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令行中启动 R：
- en: '[PRE12]'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Downloading and installing R on CentOS 6:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 在 CentOS 6 上下载和安装 R：
- en: 'Get rpm CentOS5 RHEL EPEL repository of CentOS6:'
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取 rpm CentOS5 RHEL EPEL 仓库的 CentOS6：
- en: '[PRE13]'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Install the CentOS5 RHEL EPEL repository:'
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装 CentOS5 RHEL EPEL 仓库：
- en: '[PRE14]'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Update the installed packages:'
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新已安装的软件包：
- en: '[PRE15]'
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Install R through the repository:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过仓库安装 R：
- en: '[PRE16]'
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Start R in the command line:'
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在命令行中启动 R：
- en: '[PRE17]'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: How it works...
  id: totrans-93
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: CRAN provides precompiled binaries for Linux, Mac OS X, and Windows. For Mac
    and Windows users, the installation procedures are straightforward. You can generally
    follow onscreen instructions to complete the installation. For Linux users, you
    can use the package manager provided for each platform to install R or build R
    from the source code.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: CRAN 为 Linux、Mac OS X 和 Windows 提供预编译的二进制文件。对于 Mac 和 Windows 用户，安装过程很简单。您通常可以遵循屏幕上的说明来完成安装。对于
    Linux 用户，您可以使用每个平台提供的包管理器安装 R 或从源代码构建 R。
- en: See also
  id: totrans-95
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: For those planning to build R from the source code, refer to **R Installation
    and Administration** ([http://cran.r-project.org/doc/manuals/R-admin.html](http://cran.r-project.org/doc/manuals/R-admin.html)),
    which illustrates how to install R on a variety of platforms.
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于计划从源代码构建 R 的用户，请参考**R 安装和管理**([http://cran.r-project.org/doc/manuals/R-admin.html](http://cran.r-project.org/doc/manuals/R-admin.html))，其中说明了如何在各种平台上安装
    R。
- en: Downloading and installing RStudio
  id: totrans-97
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载和安装 RStudio
- en: To write an R script, one can use R Console, R commander, or any text editor
    (EMACS, VIM, or sublime). However, the assistance of RStudio, an **integrated
    development environment** (**IDE**) for R, can make development a lot easier.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 要编写 R 脚本，可以使用 R 控制台、R 命令行或任何文本编辑器（EMACS、VIM 或 sublime）。然而，使用 R 的集成开发环境（IDE）RStudio
    的帮助可以使开发变得更加容易。
- en: RStudio provides comprehensive facilities for software development. Built-in
    features such as syntax highlighting, code completion, and smart indentation help
    maximize productivity. To make R programming more manageable, RStudio also integrates
    the main interface into a four-panel layout. It includes an interactive R Console,
    a tabbed source code editor, a panel for the currently active objects/history,
    and a tabbed panel for the file browser/plot window/package install window/R help
    window. Moreover, RStudio is open source and is available for many platforms,
    such as Windows, Mac OS X, and Linux. This recipe shows how to download and install
    RStudio.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: RStudio 提供了全面的软件开发工具。内置功能，如语法高亮、代码补全和智能缩进，有助于最大化生产力。为了使 R 编程更易于管理，RStudio 还将主界面集成到一个四面板布局中。它包括一个交互式
    R 控制台、一个标签页式的源代码编辑器、一个用于当前活动对象/历史的面板，以及一个标签页式的面板用于文件浏览器/绘图窗口/包安装窗口/R 帮助窗口。此外，RStudio
    是开源的，适用于许多平台，如 Windows、Mac OS X 和 Linux。本食谱展示了如何下载和安装 RStudio。
- en: Getting ready
  id: totrans-100
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: RStudio requires a working R installation; when RStudio loads, it must be able
    to locate a version of R. You must therefore have completed the previous recipe
    with R installed on your OS before proceeding to install RStudio.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: RStudio 需要一个有效的 R 安装；当 RStudio 加载时，它必须能够定位到一个 R 版本。因此，您必须在安装 RStudio 之前完成之前步骤，确保您的操作系统上已安装
    R。
- en: How to do it...
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps to download and install RStudio for Windows and
    Mac users:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Windows 和 Mac 用户，请按照以下步骤下载和安装 RStudio：
- en: 'Access RStudio''s official site by using the following URL: [http://www.rstudio.com/products/RStudio/](http://www.rstudio.com/products/RStudio/).![How
    to do it...](img/00015.jpeg)'
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过以下网址访问 RStudio 的官方网站：[http://www.rstudio.com/products/RStudio/](http://www.rstudio.com/products/RStudio/).![如何操作...](img/00015.jpeg)
- en: For a desktop version installation, click on **Download RStudio Desktop** ([http://www.rstudio.com/products/rstudio/download/](http://www.rstudio.com/products/rstudio/download/))
    and choose the RStudio recommended for your system. Download the relevant packages:![How
    to do it...](img/00016.jpeg)
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于桌面版本安装，点击 **下载 RStudio 桌面版** ([http://www.rstudio.com/products/rstudio/download/](http://www.rstudio.com/products/rstudio/download/))
    并选择适合您系统的 RStudio。下载相关包：![如何操作...](img/00016.jpeg)
- en: Install RStudio by double-clicking on the downloaded packages. For Windows users,
    follow the onscreen instruction to install the application:![How to do it...](img/00017.jpeg)
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击下载的包来安装 RStudio。对于 Windows 用户，请按照屏幕上的说明安装应用程序：![如何操作...](img/00017.jpeg)
- en: For Mac users, simply drag the RStudio icon to the `Applications` folder:![How
    to do it...](img/00018.jpeg)
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于 Mac 用户，只需将 RStudio 图标拖到 `应用程序` 文件夹：![如何操作...](img/00018.jpeg)
- en: Start RStudio:![How to do it...](img/00019.jpeg)
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动 RStudio：![如何操作...](img/00019.jpeg)
- en: The RStudio console
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: RStudio 控制台
- en: 'Perform the following steps for downloading and installing RStudio for Ubuntu/Debian
    and RedHat/Centos users:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Ubuntu/Debian 和 RedHat/Centos 用户，请按照以下步骤下载和安装 RStudio：
- en: 'For Debian(6+)/Ubuntu(10.04+) 32-bit:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Debian(6+)/Ubuntu(10.04+) 32 位系统：
- en: '[PRE18]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'For Debian(6+)/Ubuntu(10.04+) 64-bit:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Debian(6+)/Ubuntu(10.04+) 64 位系统：
- en: '[PRE19]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'For RedHat/CentOS(5,4+) 32 bit:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 RedHat/CentOS(5,4+) 32 位系统：
- en: '[PRE20]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'For RedHat/CentOS(5,4+) 64 bit:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 RedHat/CentOS(5,4+) 64 位系统：
- en: '[PRE21]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: How it works
  id: totrans-119
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理
- en: The RStudio program can be run on the desktop or through a web browser. The
    desktop version is available for Windows, Mac OS X, and Linux platforms with similar
    operations across all platforms. For Windows and Mac users, after downloading
    the precompiled package of RStudio, follow the onscreen instructions, shown in
    the preceding steps, to complete the installation. Linux users may use the package
    management system provided for installation.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: RStudio 程序可以在桌面或通过网页浏览器运行。桌面版本适用于 Windows、Mac OS X 和 Linux 平台，所有平台上的操作类似。对于
    Windows 和 Mac 用户，在下载 RStudio 的预编译包后，按照屏幕上的说明（如前所述步骤），完成安装。Linux 用户可以使用提供的包管理系统进行安装。
- en: See also
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'In addition to the desktop version, users may install a server version to provide
    access to multiple users. The server version provides a URL that users can access
    to use the RStudio resources. To install RStudio, please refer to the following
    link: [http://www.rstudio.com/ide/download/server.html](http://www.rstudio.com/ide/download/server.html).
    This page provides installation instructions for the following Linux distributions:
    Debian (6+), Ubuntu (10.04+), RedHat, and CentOS (5.4+).'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 除了桌面版本外，用户还可以安装服务器版本，以便为多个用户提供访问权限。服务器版本提供了一个用户可以访问以使用 RStudio 资源的 URL。要安装 RStudio，请参阅以下链接：[http://www.rstudio.com/ide/download/server.html](http://www.rstudio.com/ide/download/server.html)。此页面提供了以下
    Linux 发行版的安装说明：Debian (6+)、Ubuntu (10.04+)、RedHat 和 CentOS (5.4+)。
- en: For other Linux distributions, you can build RStudio from the source code.
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于其他 Linux 发行版，您可以从源代码构建 RStudio。
- en: Installing and loading packages
  id: totrans-124
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装和加载包
- en: After successfully installing R, users can download, install, and update packages
    from the repositories. As R allows users to create their own packages, official
    and non-official repositories are provided to manage these user-created packages.
    **CRAN** is the official R package repository. Currently, the CRAN package repository
    features 6,379 available packages (as of 02/27/2015). Through the use of the packages
    provided on CRAN, users may extend the functionality of R to machine learning,
    statistics, and related purposes. CRAN is a network of FTP and web servers around
    the world that store identical, up-to-date versions of code and documentation
    for R. You may select the closest CRAN mirror to your location to download packages.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在成功安装R之后，用户可以从存储库中下载、安装和更新包。由于R允许用户创建自己的包，因此提供了官方和非官方的存储库来管理这些用户创建的包。**CRAN**是官方的R包存储库。目前，CRAN包存储库有6,379个可用的包（截至2015年2月27日）。通过使用CRAN上提供的包，用户可以扩展R的功能，用于机器学习、统计学和相关目的。CRAN是一个全球范围内的FTP和Web服务器网络，存储着R的代码和文档的相同、最新版本。你可以选择离你位置最近的CRAN镜像来下载包。
- en: Getting ready
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Start an R session on your host computer.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的主机计算机上启动一个R会话。
- en: How to do it...
  id: totrans-128
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps to install and load R packages:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤来安装和加载R包：
- en: 'To load a list of installed packages:'
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要加载已安装包的列表：
- en: '[PRE22]'
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Setting the default CRAN mirror:'
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置默认CRAN镜像：
- en: '[PRE23]'
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'R will return a list of CRAN mirrors, and then ask the user to either type
    a mirror ID to select it, or enter zero to exit:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: R将返回CRAN镜像列表，然后询问用户是输入镜像ID来选择它，还是输入零来退出：
- en: 'Install a package from CRAN; take package e1071 as an example:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从CRAN安装一个包；以包e1071为例：
- en: '[PRE24]'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Update a package from CRAN; take package e1071 as an example:'
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从CRAN更新一个包；以包e1071为例：
- en: '[PRE25]'
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Load the package the package:'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载包：
- en: '[PRE26]'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'If you would like to view the documentation of the package, you can use the
    `help` function:'
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你想要查看包的文档，你可以使用`help`函数：
- en: '[PRE27]'
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'If you would like to view the documentation of the function, you can use the
    `help` function:'
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你想要查看函数的文档，你可以使用`help`函数：
- en: '[PRE28]'
  id: totrans-144
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Alternatively, you can use the help shortcut, `?`, to view the help document
    for this function:'
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 或者，你可以使用帮助快捷键`?`来查看该函数的帮助文档：
- en: '[PRE29]'
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'If the function does not provide any documentation, you may want to search
    the supplied documentation for a given keyword. For example, if you wish to search
    for documentation related to `svm`:'
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果函数没有提供任何文档，你可能需要搜索提供的文档中与给定关键字相关的文档。例如，如果你想要搜索与`svm`相关的文档：
- en: '[PRE30]'
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Alternatively, you can use `??` as the shortcut for `help.search`:'
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 或者，你可以使用`??`作为`help.search`的快捷键：
- en: '[PRE31]'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'To view the argument taken for the function, simply use the `args` function.
    For example, if you would like to know the argument taken for the `lm` function:'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看函数所接受的参数，只需使用`args`函数。例如，如果你想知道`lm`函数所接受的参数：
- en: '[PRE32]'
  id: totrans-152
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'Some packages will provide examples and demos; you can use `example` or `demo`
    to view an example or demo. For example, one can view an example of the `lm` package
    and a demo of the `graphics` package by typing the following commands:'
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一些包会提供示例和演示；你可以使用`example`或`demo`来查看示例或演示。例如，可以通过输入以下命令来查看`lm`包的示例和`graphics`包的演示：
- en: '[PRE33]'
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'To view all the available demos, you may use the demo function to list all
    of them:'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看所有可用的演示，你可以使用`demo`函数来列出它们：
- en: '[PRE34]'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE34]'
- en: How it works
  id: totrans-157
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的
- en: This recipe first introduces how to view loaded packages, install packages from
    CRAN, and load new packages. Before installing packages, those of you who are
    interested in the listing of the CRAN package can refer to [http://cran.r-project.org/web/packages/available_packages_by_name.html](http://cran.r-project.org/web/packages/available_packages_by_name.html).
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 本食谱首先介绍了如何查看已加载的包、从CRAN安装包以及加载新包。在安装包之前，对CRAN包列表感兴趣的读者可以参考[http://cran.r-project.org/web/packages/available_packages_by_name.html](http://cran.r-project.org/web/packages/available_packages_by_name.html)。
- en: When a package is installed, documentation related to the package is also provided.
    You are, therefore, able to view the documentation or the related help pages of
    installed packages and functions. Additionally, demos and examples are provided
    by packages that can help users understand the capability of the installed package.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 当安装包时，也会提供与包相关的文档。因此，你可以查看已安装包和函数的文档或相关帮助页面。此外，一些包还提供了演示和示例，可以帮助用户了解已安装包的功能。
- en: See also
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: Besides installing packages from CRAN, there are other R package repositories,
    including Crantastic, a community site for rating and reviewing CRAN packages,
    and R-Forge, a central platform for the collaborative development of R packages.
    In addition to this, Bioconductor provides R packages for the analysis of genomic
    data.
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 除了从 CRAN 安装包外，还有其他 R 包仓库，包括 Crantastic，这是一个用于评分和评论 CRAN 包的社区网站，以及 R-Forge，这是一个
    R 包协作开发的中心平台。此外，Bioconductor 提供用于基因组数据分析的 R 包。
- en: If you would like to find relevant functions and packages, please visit the
    list of task views at [http://cran.r-project.org/web/views/](http://cran.r-project.org/web/views/),
    or search for keywords at [http://rseek.org](http://rseek.org).
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您想查找相关的函数和包，请访问任务视图列表 [http://cran.r-project.org/web/views/](http://cran.r-project.org/web/views/)，或搜索关键词
    [http://rseek.org](http://rseek.org)。
- en: Reading and writing data
  id: totrans-163
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 读写数据
- en: Before starting to explore data, you must load the data into the R session.
    This recipe will introduce methods to load data either from a file into the memory
    or use the predefined data within R.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始探索数据之前，您必须将数据加载到 R 会话中。本食谱将介绍从文件中加载数据到内存或使用 R 中的预定义数据的方法。
- en: Getting ready
  id: totrans-165
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: First, start an R session on your machine. As this recipe involves steps toward
    the file IO, if the user does not specify the full path, read and write activity
    will take place in the current working directory.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，在您的机器上启动一个 R 会话。由于本食谱涉及文件 I/O 步骤，如果用户没有指定完整路径，读写活动将在当前工作目录中进行。
- en: You can simply type `getwd()` in the R session to obtain the current working
    directory location. However, if you would like to change the current working directory,
    you can use `setwd("<path>")`, where `<path>` can be replaced as your desired
    path, to specify the working directory.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以直接在 R 会话中输入 `getwd()` 以获取当前工作目录位置。但是，如果您想更改当前工作目录，可以使用 `setwd("<path>")`，其中
    `<path>` 可以替换为您希望指定的路径，以指定工作目录。
- en: How to do it...
  id: totrans-168
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps to read and write data with R:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以使用 R 读写数据：
- en: 'To view the built-in datasets of R, type the following command:'
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看 R 的内置数据集，请输入以下命令：
- en: '[PRE35]'
  id: totrans-171
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE35]'
- en: R will return a list of datasets in a `dataset` package, and the list comprises
    the name and description of each dataset.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: R 将返回 `dataset` 包中的数据集列表，列表包括每个数据集的名称和描述。
- en: 'To load the dataset `iris` into an R session, type the following command:'
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将数据集 `iris` 加载到 R 会话中，请输入以下命令：
- en: '[PRE36]'
  id: totrans-174
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE36]'
- en: The dataset iris is now loaded into the data frame format, which is a common
    data structure in R to store a data table.
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`iris` 数据集现在已加载到数据框格式中，这是 R 中存储数据表的常见数据结构。'
- en: 'To view the data type of iris, simply use the `class` function:'
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看 `iris` 的数据类型，只需使用 `class` 函数：
- en: '[PRE37]'
  id: totrans-177
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE37]'
- en: The `data.frame` console print shows that the `iris` dataset is in the structure
    of data frame.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`data.frame` 控制台打印显示，`iris` 数据集是以数据框的结构存在的。'
- en: 'Use the save function to store an object in a file. For example, to save the
    loaded iris data into `myData.RData`, use the following command:'
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `save` 函数将对象存储到文件中。例如，要将加载的 `iris` 数据保存到 `myData.RData`，请使用以下命令：
- en: '[PRE38]'
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Use the load function to read a saved object into an R session. For example,
    to load iris data from `myData.RData`, use the following command:'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `load` 函数将保存的对象读入 R 会话。例如，要从 `myData.RData` 加载 iris 数据，请使用以下命令：
- en: '[PRE39]'
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'In addition to using built-in datasets, R also provides a function to import
    data from text into a data frame. For example, the `read.table` function can format
    a given text into a data frame:'
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 除了使用内置数据集外，R 还提供了一个函数，可以将文本数据导入到数据框中。例如，`read.table` 函数可以将给定的文本格式化为数据框：
- en: '[PRE40]'
  id: totrans-184
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'You can also use `row.names` and `col.names` to specify the names of columns
    and rows:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您还可以使用 `row.names` 和 `col.names` 来指定列和行的名称：
- en: '[PRE41]'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'View the class of the `test.data` variable:'
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看 `test.data` 变量的类：
- en: '[PRE42]'
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE42]'
- en: The `class` function shows that the `test.data` variable contains a data frame.
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`class` 函数显示 `test.data` 变量包含一个数据框。'
- en: 'In addition to importing data by using the `read.table` function, you can use
    the `write.table` function to export data to a text file:'
  id: totrans-190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 除了使用 `read.table` 函数导入数据外，您还可以使用 `write.table` 函数将数据导出到文本文件：
- en: '[PRE43]'
  id: totrans-191
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE43]'
- en: The `write.table` function will write the content of `test.data` into `test.txt`
    (the written path can be found by typing `getwd()`), with a separation delimiter
    as white space.
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`write.table` 函数将 `test.data` 的内容写入 `test.txt`（写入路径可以通过输入 `getwd()` 查找），以空格作为分隔符。'
- en: 'Similar to `write.table`, `write.csv` can also export data to a file. However,
    `write.csv` uses a comma as the default delimiter:'
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 与 `write.table` 类似，`write.csv` 也可以将数据导出到文件。但是，`write.csv` 使用逗号作为默认分隔符：
- en: '[PRE44]'
  id: totrans-194
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'With the `read.csv` function, the `csv` file can be imported as a data frame.
    However, the last example writes column and row names of the data frame to the
    `test.csv` file. Therefore, specifying header to `TRUE` and row names as the first
    column within the function can ensure the read data frame will not treat the header
    and the first column as values:'
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `read.csv` 函数，可以将 `csv` 文件导入为数据框。然而，最后一个示例将数据框的列名和行名写入 `test.csv` 文件。因此，在函数中指定
    header 为 `TRUE` 并将行名作为第一列可以确保读取的数据框不会将标题和第一列视为值：
- en: '[PRE45]'
  id: totrans-196
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE45]'
- en: How it works
  id: totrans-197
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理
- en: Generally, data for collection may be in multiple files and different formats.
    To exchange data between files and RData, R provides many built-in functions,
    such as `save`, `load`, `read.csv`, `read.table`, `write.csv`, and `write.table`.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，收集的数据可能存在于多个文件和不同的格式中。为了在文件和 RData 之间交换数据，R 提供了许多内置函数，例如 `save`、`load`、`read.csv`、`read.table`、`write.csv`
    和 `write.table`。
- en: This example first demonstrates how to load the built-in dataset iris into an
    R session. The iris dataset is the most famous and commonly used dataset in the
    field of machine learning. Here, we use the iris dataset as an example. The recipe
    shows how to save RData and load it with the `save` and `load` functions. Furthermore,
    the example explains how to use `read.table`, `write.table`, `read.csv`, and `write.csv`
    to exchange data from files to a data frame. The use of the R IO function to read
    and write data is very important as most of the data sources are external. Therefore,
    you have to use these functions to load data into an R session.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 此示例首先演示了如何将内置数据集 iris 载入 R 会话。iris 数据集是机器学习领域中最为著名和常用的数据集。在此，我们使用 iris 数据集作为示例。食谱展示了如何使用
    `save` 和 `load` 函数保存 RData 并加载它。此外，示例解释了如何使用 `read.table`、`write.table`、`read.csv`
    和 `write.csv` 从文件交换数据到数据框。使用 R IO 函数读取和写入数据非常重要，因为大多数数据源都是外部的。因此，你必须使用这些函数将数据加载到
    R 会话中。
- en: See also
  id: totrans-200
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 相关内容
- en: For the `load`, `read.table`, and `read.csv` functions, the file to be read
    can also be a complete URL (for supported URLs, use `?url` for more information).
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 `load`、`read.table` 和 `read.csv` 函数，要读取的文件也可以是一个完整的 URL（对于支持的 URL，使用 `?url`
    获取更多信息）。
- en: 'On some occasions, data may be in an Excel file instead of a flat text file.
    The `WriteXLS` package allows writing an object into an Excel file with a given
    variable in the first argument and the file to be written in the second argument:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，数据可能存在于 Excel 文件中而不是平面文本文件中。`WriteXLS` 包允许将对象写入 Excel 文件，其中第一个参数是给定的变量，第二个参数是要写入的文件：
- en: 'Install the `WriteXLS` package:'
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装 `WriteXLS` 包：
- en: '[PRE46]'
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'Load the `WriteXLS` package:'
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 载入 `WriteXLS` 包：
- en: '[PRE47]'
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'Use the `WriteXLS` function to write the data frame iris into a file named
    `iris.xls`:'
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `WriteXLS` 函数将数据框 iris 写入名为 `iris.xls` 的文件：
- en: '[PRE48]'
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE48]'
- en: Using R to manipulate data
  id: totrans-209
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 R 操作数据
- en: This recipe will discuss how to use the built-in R functions to manipulate data.
    As data manipulation is the most time consuming part of most analysis procedures,
    you should gain knowledge of how to apply these functions on data.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 本食谱将讨论如何使用内置的 R 函数来操作数据。由于数据操作是大多数分析过程中最耗时的部分，你应该了解如何应用这些函数于数据。
- en: Getting ready
  id: totrans-211
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure you have completed the previous recipes by installing R on your operating
    system.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 确保你已经完成了之前的食谱，通过在你的操作系统上安装 R 来完成。
- en: How to do it...
  id: totrans-213
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Perform the following steps to manipulate the data with R.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以使用 R 操作数据。
- en: 'Subset the data using the bracelet notation:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 使用花括号表示法对数据进行子集化：
- en: 'Load the dataset iris into the R session:'
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据集 iris 载入 R 会话：
- en: '[PRE49]'
  id: totrans-217
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'To select values, you may use a bracket notation that designates the indices
    of the dataset. The first index is for the rows and the second for the columns:'
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要选择值，你可以使用括号表示法来指定数据集的索引。第一个索引用于行，第二个用于列：
- en: '[PRE50]'
  id: totrans-219
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'You can also select multiple columns using c():'
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你也可以使用 c() 选择多个列：
- en: '[PRE51]'
  id: totrans-221
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'You can then use `str()` to summarize and display the internal structure of
    `Sepal.iris`:'
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，你可以使用 `str()` 来总结并显示 `Sepal.iris` 的内部结构：
- en: '[PRE52]'
  id: totrans-223
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'To subset data with the rows of given indices, you can specify the indices
    at the first index with the bracket notation. In this example, we show you how
    to subset data with the top five records with the `Sepal.Length` column and the
    `Sepal.Width` selected:'
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要使用给定索引的行来子集化数据，你可以在第一个索引处使用括号表示法指定索引。在这个例子中，我们向你展示如何使用`Sepal.Length`列和选定的`Sepal.Width`来子集化数据的前五条记录：
- en: '[PRE53]'
  id: totrans-225
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'It is also possible to set conditions to filter the data. For example, to filter
    returned records containing the setosa data with all five variables. In the following
    example, the first index specifies the returning criteria, and the second index
    specifies the range of indices of the variable returned:'
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 还可以设置条件来过滤数据。例如，要过滤返回包含所有五个变量的setosa数据，以下示例中，第一个索引指定返回标准，第二个索引指定返回变量的索引范围：
- en: '[PRE54]'
  id: totrans-227
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'Alternatively, the `which` function returns the indexes of satisfied data.
    The following example returns indices of the iris data containing species equal
    to `setosa`:'
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 或者，`which`函数返回满足条件的数据的索引。以下示例返回包含物种等于`setosa`的鸢尾花数据的索引：
- en: '[PRE55]'
  id: totrans-229
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'The indices returned by the operation can then be applied as the index to select
    the iris containing the setosa species. The following example returns the setosa
    with all five variables:'
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 操作返回的索引可以应用于选择包含setosa物种的鸢尾花。以下示例返回包含所有五个变量的setosa：
- en: '[PRE56]'
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'Subset data using the `subset` function:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`subset`函数进行数据子集化：
- en: Besides using the bracket notation, R provides a `subset` function that enables
    users to subset the data frame by observations with a logical statement.
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 除了使用括号表示法外，R还提供了一个`subset`函数，允许用户通过逻辑语句对数据框进行子集化。
- en: 'First, subset species, sepal length, and sepal width out of the iris data.
    To select the sepal length and width out of the iris data, one should specify
    the column to be subset in the `select` argument:'
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，从鸢尾花数据中子集化物种、花瓣长度和花瓣宽度。要选择鸢尾花数据中的花瓣长度和宽度，应在`select`参数中指定要子集化的列：
- en: '[PRE57]'
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE57]'
- en: This reveals that `Sepal.data` contains 150 objects with the `Sepal.Length`
    variable and `Sepal.Width`.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 这表明`Sepal.data`包含150个对象，具有`Sepal.Length`变量和`Sepal.Width`。
- en: 'On the other hand, you can use a subset argument to get subset data containing
    setosa only. In the second argument of the subset function, you can specify the
    subset criteria:'
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 另一方面，你可以使用子集参数来获取仅包含setosa的数据子集。在`subset`函数的第二参数中，你可以指定子集标准：
- en: '[PRE58]'
  id: totrans-238
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'Most of the time, you may want to apply a union or intersect a condition while
    subsetting data. The OR and AND operations can be further employed for this purpose.
    For example, if you would like to retrieve data with `Petal.Width >=0.2 and Petal.Length
    < = 1.4`:'
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 大多数时候，在子集化数据时，你可能想要应用一个并集或交集条件。为此，可以进一步使用OR和AND操作。例如，如果你想检索`Petal.Width >=0.2
    and Petal.Length <= 1.4`的数据：
- en: '[PRE59]'
  id: totrans-240
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE59]'
- en: '**Merging data**: merging data involves joining two data frames into a merged
    data frame by a common column or row name. The following example shows how to
    merge the `flower.type` data frame and the first three rows of the iris with a
    common row name within the `Species` column:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: '**合并数据**：合并数据涉及通过公共列或行名将两个数据框合并到一个合并的数据框中。以下示例显示了如何通过`Species`列中的公共行名将`flower.type`数据框和鸢尾花的头三行合并：'
- en: '[PRE60]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: '**Ordering data**: the `order` function will return the index of a sorted data
    frame with a specified column. The following example shows the results from the
    first six records with the sepal length ordered (from big to small) iris data'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '**排序数据**：`order`函数将返回一个按指定列排序的数据框的索引。以下示例显示了按花瓣长度排序（从大到小）的鸢尾花数据的前六条记录的结果'
- en: '[PRE61]'
  id: totrans-244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: How it works
  id: totrans-245
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理
- en: 'Before conducting data analysis, it is important to organize collected data
    into a structured format. Therefore, we can simply use the R data frame to subset,
    merge, and order a dataset. This recipe first introduces two methods to subset
    data: one uses the bracket notation, while the other uses the `subset` function.
    You can use both methods to generate the subset data by selecting columns and
    filtering data with the given criteria. The recipe then introduces the `merge`
    function to merge data frames. Last, the recipe introduces how to use `order`
    to sort the data.'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行数据分析之前，将收集到的数据组织成结构化格式非常重要。因此，我们可以简单地使用R数据框来子集化、合并和排序数据集。本食谱首先介绍了两种子集化数据的方法：一种使用括号表示法，另一种使用`subset`函数。你可以使用这两种方法通过选择列和根据给定标准过滤数据来生成子集数据。然后，本食谱介绍了`merge`函数来合并数据框。最后，本食谱介绍了如何使用`order`来排序数据。
- en: There's more...
  id: totrans-247
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'The `sub` and `gsub` functions allow using regular expression to substitute
    a string. The `sub` and `gsub` functions perform the replacement of the first
    and all the other matches, respectively:'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '`sub` 和 `gsub` 函数允许使用正则表达式来替换字符串。`sub` 和 `gsub` 函数分别执行第一次和所有其他匹配的替换：'
- en: '[PRE62]'
  id: totrans-249
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: Applying basic statistics
  id: totrans-250
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 应用基本统计
- en: R provides a wide range of statistical functions, allowing users to obtain the
    summary statistics of data, generate frequency and contingency tables, produce
    correlations, and conduct statistical inferences. This recipe covers basic statistics
    that can be applied to a dataset.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: R 提供了广泛的统计函数，使用户能够获取数据的汇总统计信息，生成频率和列联表，生成相关系数，并进行统计推断。本食谱涵盖了可以应用于数据集的基本统计方法。
- en: Getting ready
  id: totrans-252
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure you have completed the previous recipes by installing R on your operating
    system.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您已经通过在操作系统上安装 R 完成了前面的食谱。
- en: How to do it...
  id: totrans-254
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps to apply statistics on a dataset:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以在数据集上应用统计：
- en: 'Load the iris data into an R session:'
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 iris 数据加载到 R 会话中：
- en: '[PRE63]'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'Observe the format of the data:'
  id: totrans-258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 观察数据的格式：
- en: '[PRE64]'
  id: totrans-259
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'The iris dataset is a data frame containing four numeric attributes: `petal
    length`, `petal width`, `sepal width`, and `sepal length`. For numeric values,
    you can perform descriptive statistics, such as `mean`, `sd`, `var`, `min`, `max`,
    `median`, `range`, and `quantile`. These can be applied to any of the four attributes
    in the dataset:'
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: iris 数据集是一个包含四个数值属性的数据框：`花瓣长度`、`花瓣宽度`、`萼片宽度`和`萼片长度`。对于数值值，可以执行描述性统计，如 `mean`、`sd`、`var`、`min`、`max`、`median`、`range`
    和 `quantile`。这些可以应用于数据集中的任意四个属性：
- en: '[PRE65]'
  id: totrans-261
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'The preceding example demonstrates how to apply descriptive statistics on a
    single variable. In order to obtain summary statistics on every numeric attribute
    of the data frame, one may use `sapply`. For example, to apply the mean on the
    first four attributes in the iris data frame, ignore the `na` value by setting
    `na.rm` as `TRUE`:'
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 上述示例演示了如何对一个单一变量应用描述性统计。为了获取数据框中每个数值属性的汇总统计信息，可以使用 `sapply`。例如，为了在 iris 数据框的前四个属性上应用均值，通过将
    `na.rm` 设置为 `TRUE` 来忽略 `na` 值：
- en: '[PRE66]'
  id: totrans-263
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'As an alternative to using `sapply` to apply descriptive statistics on given
    attributes, R offers the summary function that provides a full range of descriptive
    statistics. In the following example, the summary function provides the mean,
    median, 25th and 75th quartiles, min, and max of every iris dataset numeric attribute:'
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 作为使用 `sapply` 在给定属性上应用描述性统计的替代方法，R 提供了 summary 函数，该函数提供了全面的描述性统计。在以下示例中，summary
    函数提供了每个 iris 数据集数值属性的均值、中位数、第 25 和第 75 分位数、最小值和最大值：
- en: '[PRE67]'
  id: totrans-265
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'The preceding example shows how to output the descriptive statistics of a single
    variable. R also provides the correlation for users to investigate the relationship
    between variables. The following example generates a 4x4 matrix by computing the
    correlation of each attribute pair within the iris:'
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 上述示例展示了如何输出单一变量的描述性统计。R 还提供了相关系数，供用户研究变量之间的关系。以下示例通过计算 iris 数据集中每个属性对的相关性来生成一个
    4x4 矩阵：
- en: '[PRE68]'
  id: totrans-267
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'R also provides a function to compute the covariance of each attribute pair
    within the iris:'
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: R 还提供了一个函数来计算 iris 数据集中每个属性对的协方差：
- en: '[PRE69]'
  id: totrans-269
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'Statistical tests are performed to access the significance of the results;
    here we demonstrate how to use a t-test to determine the statistical differences
    between two samples. In this example, we perform a t.test on the petal width an
    of an iris in either the setosa or versicolor species. If we obtain a p-value
    less than 0.5, we can be certain that the petal width between the setosa and versicolor
    will vary significantly:'
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过进行统计测试来评估结果的显著性；在此示例中，我们演示了如何使用 t-test 来确定两个样本之间的统计差异。在此示例中，我们对 setosa 或 versicolor
    物种中 iris 的花瓣宽度进行了 t.test。如果我们获得小于 0.5 的 p 值，我们可以确信 setosa 和 versicolor 之间的花瓣宽度将会有显著差异：
- en: '[PRE70]'
  id: totrans-271
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'Alternatively, you can perform a correlation test on the sepal length to the
    sepal width of an iris, and then retrieve a correlation score between the two
    variables. The stronger the positive correlation, the closer the value is to 1\.
    The stronger the negative correlation, the closer the value is to -1:'
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 或者，您可以对 iris 的萼片长度与萼片宽度进行相关性测试，然后检索两个变量之间的相关性得分。正相关越强，值越接近 1。负相关越强，值越接近 -1：
- en: '[PRE71]'
  id: totrans-273
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE71]'
- en: How it works...
  id: totrans-274
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: R has a built-in statistics function, which enables the user to perform descriptive
    statistics on a single variable. The recipe first introduces how to apply `mean`,
    `sd`, `var`, `min`, `max`, `median`, `range`, and `quantile` on a single variable.
    Moreover, in order to apply the statistics on all four numeric variables, one
    can use the `sapply` function. In order to determine the relationships between
    multiple variables, one can conduct correlation and covariance. Finally, the recipe
    shows how to determine the statistical differences of two given samples by performing
    a statistical test.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: R 有一个内置的统计函数，使用户能够对单个变量执行描述性统计。本食谱首先介绍了如何将 `mean`、`sd`、`var`、`min`、`max`、`median`、`range`
    和 `quantile` 应用于单个变量。此外，为了将统计应用于所有四个数值变量，可以使用 `sapply` 函数。为了确定多个变量之间的关系，可以进行相关性和协方差分析。最后，本食谱展示了如何通过执行统计测试来确定两个给定样本的统计差异。
- en: There's more...
  id: totrans-276
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多...
- en: 'If you need to compute an aggregated summary statistics against data in different
    groups, you can use the aggregate and reshape functions to compute the summary
    statistics of data subsets:'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你需要针对不同组的数据计算汇总统计量，你可以使用 `aggregate` 和 `reshape` 函数来计算数据子集的汇总统计量：
- en: 'Use `aggregate` to calculate the mean of each iris attribute group by the species:'
  id: totrans-278
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `aggregate` 计算每个鸢尾花属性组的平均值，按物种分组：
- en: '[PRE72]'
  id: totrans-279
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE72]'
- en: 'Use `reshape` to calculate the mean of each iris attribute group by the species:'
  id: totrans-280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `reshape` 计算每个鸢尾花属性组的平均值，按物种分组：
- en: '[PRE73]'
  id: totrans-281
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE73]'
- en: For information on reshape and aggregate, refer to the help documents by using
    `?reshape` or `?aggregate`.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 关于 `reshape` 和 `aggregate` 的信息，请使用 `?reshape` 或 `?aggregate` 查看帮助文档。
- en: Visualizing data
  id: totrans-283
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据可视化
- en: Visualization is a powerful way to communicate information through graphical
    means. Visual presentations make data easier to comprehend. This recipe presents
    some basic functions to plot charts, and demonstrates how visualizations are helpful
    in data exploration.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 可视化是通过图形手段传达信息的一种强大方式。视觉呈现使数据更容易理解。本食谱介绍了一些基本的绘图函数，并展示了可视化在数据探索中的帮助。
- en: Getting ready
  id: totrans-285
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that you have completed the previous recipes by installing R on your
    operating system.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 确保你已经通过在操作系统上安装 R 完成了前面的食谱。
- en: How to do it...
  id: totrans-287
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps to visualize a dataset:'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以可视化数据集：
- en: 'Load the iris data into the R session:'
  id: totrans-289
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将鸢尾花数据加载到 R 会话中：
- en: '[PRE74]'
  id: totrans-290
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'Calculate the frequency of species within the iris using the `table` command:'
  id: totrans-291
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `table` 命令计算鸢尾花中物种的频率：
- en: '[PRE75]'
  id: totrans-292
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE75]'
- en: 'As the frequency in the table shows, each species represents 1/3 of the iris
    data. We can draw a simple pie chart to represent the distribution of species
    within the iris:'
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如表中的频率所示，每个物种代表鸢尾花数据的 1/3。我们可以绘制一个简单的饼图来表示鸢尾花中物种的分布：
- en: '[PRE76]'
  id: totrans-294
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE76]'
- en: '![How to do it...](img/00020.jpeg)'
  id: totrans-295
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/00020.jpeg)'
- en: The pie chart of species distribution
  id: totrans-296
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 物种分布的饼图
- en: 'The histogram creates a frequency plot of sorts along the *x*-axis. The following
    example produces a histogram of the sepal length:'
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 直方图在 *x*-轴上创建一种频率图。以下示例生成花瓣长度的直方图：
- en: '[PRE77]'
  id: totrans-298
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE77]'
- en: '![How to do it...](img/00021.jpeg)'
  id: totrans-299
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/00021.jpeg)'
- en: The histogram of the sepal length
  id: totrans-300
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 花瓣长度的直方图
- en: In the histogram, the *x*-axis presents the sepal length and the *y*-axis presents
    the count for different sepal lengths. The histogram shows that for most irises,
    sepal lengths range from 4 cm to 8 cm.
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在直方图中，*x*-轴表示花瓣长度，*y*-轴表示不同花瓣长度的计数。直方图显示，对于大多数鸢尾花，花瓣长度范围在 4 厘米到 8 厘米之间。
- en: 'Boxplots, also named box and whisker graphs, allow you to convey a lot of information
    in one simple plot. In such a graph, the line represents the median of the sample.
    The box itself shows the upper and lower quartiles. The whiskers show the range:'
  id: totrans-302
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 箱线图，也称为箱线图，允许你在一张简单的图表中传达大量信息。在这种图表中，线代表样本的中位数。箱子本身显示上四分位数和下四分位数。胡须显示范围：
- en: '[PRE78]'
  id: totrans-303
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE78]'
- en: '![How to do it...](img/00022.jpeg)'
  id: totrans-304
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/00022.jpeg)'
- en: The boxplot of the petal width
  id: totrans-305
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 花瓣宽度的箱线图
- en: The preceding screenshot clearly shows the median and upper range of the petal
    width of the setosa is much shorter than versicolor and virginica. Therefore,
    the petal width can be used as a substantial attribute to distinguish iris species.
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前面的截图清楚地显示了 Setosa 的花瓣宽度中位数和上四分位数比 versicolor 和 virginica 短得多。因此，花瓣宽度可以用作区分鸢尾花物种的重要属性。
- en: 'A scatter plot is used when there are two variables to plot against one another.
    This example plots the petal length against the petal width and color dots in
    accordance to the species it belongs to:'
  id: totrans-307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当有两个变量需要相互绘制时，会使用散点图。此例将花瓣长度与花瓣宽度绘制，并用颜色点表示它所属的物种：
- en: '[PRE79]'
  id: totrans-308
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE79]'
- en: '![How to do it...](img/00023.jpeg)'
  id: totrans-309
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/00023.jpeg)'
- en: The scatter plot of the sepal length
  id: totrans-310
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 萼片长度的散点图
- en: 'The preceding screenshot is a scatter plot of the petal length against the
    petal width. As there are four attributes within the iris dataset, it takes six
    operations to plot all combinations. However, R provides a function named `pairs`,
    which can generate each subplot in one figure:'
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 上一张截图是花瓣长度与花瓣宽度的散点图。由于iris数据集中有四个属性，因此需要六次操作才能绘制所有组合。然而，R提供了一个名为`pairs`的函数，可以在一个图中生成每个子图：
- en: '[PRE80]'
  id: totrans-312
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE80]'
- en: '![How to do it...](img/00024.jpeg)'
  id: totrans-313
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/00024.jpeg)'
- en: Pairs scatterplot of iris data
  id: totrans-314
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 鸢尾花数据的成对散点图
- en: How it works...
  id: totrans-315
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: R provides many built-in plot functions, which enable users to visualize data
    with different kinds of plots. This recipe demonstrates the use of pie charts
    that can present category distribution. A pie chart of an equal size shows that
    the number of each species is equal. A histogram plots the frequency of different
    sepal lengths. A box plot can convey a great deal of descriptive statistics, and
    shows that the petal width can be used to distinguish an iris species. Lastly,
    we introduced scatter plots, which plot variables on a single plot. In order to
    quickly generate a scatter plot containing all the pairs of iris data, one may
    use the `pairs` command.
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: R提供了许多内置的绘图函数，使用户能够使用不同类型的图表可视化数据。本食谱演示了使用饼图来展示类别分布。等大小的饼图表明每种物种的数量相等。直方图绘制不同萼片长度的频率。箱线图可以传达大量的描述性统计信息，并表明可以使用花瓣宽度来区分鸢尾花物种。最后，我们介绍了散点图，它在一个图中绘制变量。为了快速生成包含所有鸢尾花数据对的散点图，可以使用`pairs`命令。
- en: See also
  id: totrans-317
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参考以下内容
- en: 'ggplot2 is another plotting system for R, based on the implementation of Leland
    Wilkinson''s grammar of graphics. It allows users to add, remove, or alter components
    in a plot with a higher abstraction. However, the level of abstraction results
    is slow compared to lattice graphics. For those of you interested in the topic
    of ggplot, you can refer to this site: [http://ggplot2.org/](http://ggplot2.org/).'
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ggplot2是R的另一个绘图系统，基于Leland Wilkinson的图形语法实现。它允许用户以更高的抽象级别在图中添加、删除或更改组件。然而，与lattice图形相比，抽象级别的结果较慢。对于对ggplot感兴趣的用户，可以参考此网站：[http://ggplot2.org/](http://ggplot2.org/)。
- en: Getting a dataset for machine learning
  id: totrans-319
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 获取机器学习数据集
- en: While R has a built-in dataset, the sample size and field of application is
    limited. Apart from generating data within a simulation, another approach is to
    obtain data from external data repositories. A famous data repository is the UCI
    machine learning repository, which contains both artificial and real datasets.
    This recipe introduces how to get a sample dataset from the UCI machine learning
    repository.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然R有内置的数据集，但样本大小和应用领域有限。除了在模拟中生成数据外，另一种方法是获取外部数据仓库的数据。一个著名的数据仓库是UCI机器学习仓库，它包含人工和真实数据集。本食谱介绍了如何从UCI机器学习仓库获取样本数据集。
- en: Getting ready
  id: totrans-321
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that you have completed the previous recipes by installing R on your
    operating system.
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您已通过在操作系统上安装R完成了前面的食谱。
- en: How to do it...
  id: totrans-323
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps to retrieve data for machine learning:'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以检索机器学习数据：
- en: 'Access the UCI machine learning repository: [http://archive.ics.uci.edu/ml/](http://archive.ics.uci.edu/ml/).![How
    to do it...](img/00025.jpeg)'
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问UCI机器学习仓库：[http://archive.ics.uci.edu/ml/](http://archive.ics.uci.edu/ml/)。![如何操作...](img/00025.jpeg)
- en: UCI data repository
  id: totrans-326
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: UCI数据仓库
- en: Click on **View ALL Data Sets**. Here you will find a list of datasets containing
    field names, such as **Name**, **Data Types**, **Default Task**, **Attribute Types**,
    **# Instances**, **# Attributes**, and **Year**:![How to do it...](img/00026.jpeg)
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**查看所有数据集**。在这里，您将找到一个包含字段名称的数据集列表，例如**名称**、**数据类型**、**默认任务**、**属性类型**、**实例数**、**属性数**和**年份**：![如何操作...](img/00026.jpeg)
- en: Use *Ctrl* + *F* to search for **Iris**:![How to do it...](img/00027.jpeg)
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用*Ctrl* + *F*搜索**Iris**：![如何操作...](img/00027.jpeg)
- en: Click on **Iris**. This will display the data folder and the dataset description:![How
    to do it...](img/00028.jpeg)
  id: totrans-329
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**Iris**。这将显示数据文件夹和数据集描述：![如何操作...](img/00028.jpeg)
- en: Click on **Data Folder**, which will display a directory containing the iris
    dataset:![How to do it...](img/00029.jpeg)
  id: totrans-330
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**数据文件夹**，将显示包含鸢尾花数据集的目录：![如何操作...](img/00029.jpeg)
- en: 'You can then either download `iris.data` or use the `read.csv` function to
    read the dataset:'
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，您可以选择下载`iris.data`或使用`read.csv`函数读取数据集：
- en: '[PRE81]'
  id: totrans-332
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE81]'
- en: How it works...
  id: totrans-333
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Before conducting data analysis, it is important to collect your dataset. However,
    to collect an appropriate dataset for further exploration and analysis is not
    easy. We can, therefore, use the prepared dataset with the UCI repository as our
    data source. Here, we first access the UCI dataset repository and then use the
    iris dataset as an example. We can find the iris dataset by using the browser's
    find function (*Ctrl* + *F*), and then enter the file directory. Last, we can
    download the dataset and use the R IO function, `read.csv`, to load the iris dataset
    into an R session.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行数据分析之前，收集您的数据集非常重要。然而，收集一个适合进一步探索和分析的适当数据集并不容易。因此，我们可以使用UCI存储库中的准备好的数据集作为我们的数据源。在这里，我们首先访问UCI数据集存储库，然后以鸢尾花数据集为例。我们可以通过使用浏览器的查找功能（*Ctrl*
    + *F*）找到鸢尾花数据集，然后进入文件目录。最后，我们可以下载数据集，并使用R的IO函数`read.csv`将鸢尾花数据集加载到R会话中。
- en: See also
  id: totrans-335
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: KDnuggets ([http://www.kdnuggets.com/datasets/index.html](http://www.kdnuggets.com/datasets/index.html))
    offers a resourceful list of datasets for data mining and data science. You can
    explore the list to find the data that satisfies your requirements.
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: KDnuggets ([http://www.kdnuggets.com/datasets/index.html](http://www.kdnuggets.com/datasets/index.html))
    提供了一个丰富的数据集列表，适用于数据挖掘和数据科学。您可以探索这个列表，以找到满足您要求的数据。
