- en: Machine Learning Server
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Machine Learning Server
- en: Microsoft ML Server and its capabilities in SQL Server and HDInsight are the
    subject of this chapter. In addition, the chapter will provide a walk-through
    on ML Server's use in order to demonstrate optimal situations in which to use
    it and how to deploy a solution with it.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的主题是Microsoft ML Server及其在SQL Server和HDInsight中的功能。此外，本章还将提供ML Server使用方法的概述，以展示使用ML
    Server的最佳情况以及如何使用它部署解决方案。
- en: Classified algorithms are supervised learning algorithms, which means that they
    make predictions based on a set of examples.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 分类算法是监督学习算法，这意味着它们基于一组示例进行预测。
- en: Often, it is useful to use data to predict a category, and this is known as
    classification. Take, for example, Andrew Ng's work on the classification of YouTube
    content as a cat video, or a video of something that is not a cat. As in the famous
    work by Andrew Ng, when there are only two choices, it is called **two-class**
    or ...
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '通常，使用数据来预测一个类别是有用的，这被称为分类。以Andrew Ng对YouTube内容的分类工作为例，将其分类为猫视频或不是猫的视频。正如Andrew
    Ng的著名工作一样，当只有两个选择时，它被称为**双类**或... '
- en: What is Microsoft ML Server?
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是Microsoft ML Server？
- en: Microsoft ML Server brings machine learning and artificial intelligence to your
    data. It makes it possible for you to have data underlying intelligence apps in
    an enterprise environment that provides the opportunities of open source, with
    the security and reliance of Microsoft software. Microsoft ML Server offers an
    enterprise-ready platform for cleaning, modelling, and analyzing data at scale.
    It allows organizations to become insight-driven, allowing you to analyze data
    in SQL, as well as offering full enterprise support for Python and R.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft ML Server将机器学习和人工智能带到您的数据中。它使您能够在提供开源机会的企业环境中拥有数据驱动的智能应用程序，同时拥有Microsoft软件的安全性和可靠性。Microsoft
    ML Server提供了一个企业级平台，用于大规模的清洁、建模和分析数据。它允许组织成为洞察驱动的，允许您在SQL中分析数据，同时为Python和R提供全面的企业级支持。
- en: ML Server meets the needs of everyone involved in analyzing data, from business
    users to data engineers and data scientists. With SQL, Python, and R, businesses
    can be assured of having the opportunity to analyze their data using the most
    commonly-known and adopted languages in the world, offering businesses the opportunity
    to have data-based innovation. With Microsoft ML Server, the availability of R,
    SQL, and Python amalgamates the best of the open source and proprietary worlds
    together to bring true data science.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: ML Server满足了所有参与数据分析的人的需求，从商业用户到数据工程师和数据科学家。有了SQL、Python和R，企业可以确保有机会使用世界上最常见和广泛采用的编程语言来分析他们的数据，为企业提供基于数据的创新机会。通过Microsoft
    ML Server，R、SQL和Python的结合将开源和专有世界的最佳之处结合起来，带来真正的数据科学。
- en: Microsoft ML Server used to be known as Microsoft R Server. In continuation
    of this effort to democratize data, R support is built on a legacy of previous
    versions of Microsoft R Server, and Revolution R Enterprise products.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft ML Server曾经被称为Microsoft R Server。为了继续实现数据民主化的努力，R支持建立在之前版本的Microsoft
    R Server和Revolution R Enterprise产品的基础上。
- en: With the advent of Microsoft ML Server, significant machine learning and AI
    capabilities enhancements are made in every release. Python support was added
    in the most recent release. ML Server supports the full data science life cycle
    of your Python-based analytics.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 随着Microsoft ML Server的推出，每次发布都显著增强了机器学习和人工智能的能力。在最近的版本中添加了对Python的支持。ML Server支持基于Python的分析的完整数据科学生命周期。
- en: Additionally, ML Server enables operationalization support so that you can deploy
    your models to a scalable grid for both batch and real-time scoring. This means
    that you can go through the machine learning process, and then set your model
    for use by everyone in the organization. This is the true democratization of data
    for everyone!
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，ML Server还提供了操作支持，使您可以将模型部署到可扩展的网格中进行批量处理和实时评分。这意味着您可以通过机器学习过程，然后设置模型供组织中的每个人使用。这是真正为每个人实现数据民主化！
- en: 'What problems does Microsoft ML Server solve? Microsoft ML Server can help
    solve many different, real-life business problems. It can take care of data in
    an end-to-end process. For example, it can clean and preprocess larger sets of
    data so that downstream systems can work with the data in order to produce insights.
    There are different examples for which HDInsight is useful, such as:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft ML Server 解决了哪些问题？Microsoft ML Server 可以帮助解决许多不同、真实的业务问题。它可以处理端到端的数据流程。例如，它可以清理和预处理大量数据，以便下游系统可以处理数据以产生洞察。以下是一些
    HDInsight 有用的示例：
- en: Sentiment analysis
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 情感分析
- en: Website traffic patterns
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网站流量模式
- en: Weather correlation effects
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 天气相关性效应
- en: Sales analysis
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 销售分析
- en: Customer analysis
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 客户分析
- en: '**Internet of Things (IoT)** projects'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**物联网（IoT）** 项目'
- en: Next, we will look at getting started with Microsoft ML Server.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将探讨如何开始使用 Microsoft ML Server。
- en: How to get started with Microsoft ML Server
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何开始使用 Microsoft ML Server
- en: To get started with Microsoft ML Server, it is recommended that the Microsoft
    **Data Science Virtual Machine** (**DSVM**) is used.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始使用 Microsoft ML Server，建议使用 Microsoft **数据科学虚拟机**（**DSVM**）。
- en: The DSVM is a specially-built custom virtual machine that is hosted on Microsoft's
    Azure cloud. It is designed specifically for data science, and for giving learners
    a jump start in learning this new technology. It has Microsoft ML Server pre-installed
    and preconfigured so you can get started right away with data science projects.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: DSVM 是一种专门构建的定制虚拟机，托管在微软的 Azure 云上。它专门为数据科学设计，旨在帮助学习者快速入门这项新技术。它预装并预配置了 Microsoft
    ML Server，因此您可以立即开始数据科学项目。
- en: You can use languages such as R and Python to do your data analytics right on
    the Microsoft DSVM. It is great for prototyping, and is a useful learning tool
    so that learners are set up for success early in the process.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用 R 和 Python 等语言在 Microsoft DSVM 上直接进行数据分析。这对于原型设计非常出色，并且是很有用的学习工具，使学习者在学习过程中早期就为成功做好准备。
- en: Configuring the DSVM
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置 DSVM
- en: 'The wizard that creates the Microsoft DSVM needs to be configured. The options
    are listed as follows:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 创建 Microsoft DSVM 的向导需要配置。选项如下：
- en: '**Name**:Give the DSVM a name.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**名称**：为 DSVM 起一个名字。'
- en: '**VM disk type**: Choose SSD or HDD.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**虚拟机磁盘类型**：选择 SSD 或 HDD。'
- en: '**Username**: Specify the admin account ID to sign in.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户名**：指定管理员帐户 ID 以登录。'
- en: '**Password**: Specify the admin account password.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**密码**：指定管理员帐户密码。'
- en: '**Subscription**: If you have more than one subscription, select the one on
    which the machine is to be created and billed.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**订阅**：如果您有多个订阅，请选择要在其上创建和计费机器的订阅。'
- en: '**Resource group**: You can create a new resource group or use an existing
    group.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**资源组**：您可以创建一个新的资源组或使用现有的组。'
- en: '**Location**: Select the data center that is most appropriate. For the fastest
    network access, it is the data center that has most of your data or is closest
    to your actual location.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**位置**：选择最合适的数据中心。为了获得最快的网络访问，应选择拥有您大部分数据或离您实际位置最近的数据中心。'
- en: '**Size**: Select one of the server types that meets your functional requirements
    and cost constraints. For more choices of VM sizes, select View All.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**大小**：选择满足您功能需求和成本限制的服务器类型之一。若要查看更多虚拟机大小选项，请选择“查看所有”。'
- en: '**Settings**:'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**设置**：'
- en: Use managed disks. Choose Managed if you want Azure to manage the disks for
    the VM. If not, you need to specify a new or existing storage account.
  id: totrans-33
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用托管磁盘。如果您希望 Azure 为虚拟机管理磁盘，请选择“托管”。如果不这样做，您需要指定一个新的或现有的存储帐户。
- en: Other parameters. You can use the default values. If you want to use non-default
    values, hover over the informational link for help on the specific fields.
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 其他参数。您可以使用默认值。如果您想使用非默认值，请将鼠标悬停在信息链接上以获取特定字段的帮助。
- en: Once the settings have been configured, the next step is to check and verify
    that all the information you entered is correct. Then, select Create and the DSVM
    will be set up in Azure.
  id: totrans-35
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一旦配置了设置，下一步是检查和验证您输入的所有信息是否正确。然后，选择“创建”，DSVM 将在 Azure 中设置。
- en: Now that the DSVM is set up, let's look at the opportunities to use Python in
    Microsoft ML Server.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 现在 DSVM 已经设置好了，让我们看看在 Microsoft ML Server 中使用 Python 的机会。
- en: Machine learning with Python
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Python 进行机器学习
- en: Python has a lot of machine learning functionality. One of the most commonly
    used machine learning libraries in Python is the scikit-learn library. It is used
    for creating, training, and evaluating models. In this hands-on book, the Python
    scikit-learn library is used in the code to train and evaluate the model.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: Python 拥有大量的机器学习功能。Python 中最常用的机器学习库之一是 scikit-learn 库。它用于创建、训练和评估模型。在这本实战书中，我们使用
    Python scikit-learn 库在代码中训练和评估模型。
- en: Getting started with Python
  id: totrans-39
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 开始使用 Python
- en: Python is a popular programming language that is rapidly gaining worldwide acceptance.
    Python has many strengths; it is reliable, flexible, easy to learn and use, and
    is free to use on all operating systems. It has been widely adopted among the
    open source community, and is supported by a strong developer community. Python
    has many free libraries for you to download and use in your data science work.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: Python 是一种流行的编程语言，正在迅速获得全球的认可。Python 具有许多优势；它可靠、灵活、易于学习和使用，并且可以在所有操作系统上免费使用。它在开源社区中得到了广泛的应用，并得到了强大的开发者社区的支持。Python
    提供了许多免费的库，供您下载和使用在您的数据科学工作中。
- en: Python meets developers where they are; it supports all different types of development,
    including web applications, iterative development, web services, desktop apps,
    scripting, scientific, and mathematical computing. Python is used by businesses
    as well as many universities, scientists, casual developers, and professional
    developers alike.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: Python 与开发者所处的环境相契合；它支持所有不同类型的开发，包括网络应用、迭代开发、网络服务、桌面应用、脚本、科学计算和数学计算。Python 被企业和许多大学、科学家、普通开发者以及专业开发者所使用。
- en: Throughout this chapter, the Python coding will be completed using Microsoft
    Visual Studio, which incorporates a powerful Python IDE on Windows. Visual Studio
    provides open source support for the Python language through the Python development
    and data science workloads (Visual Studio 2017) and the free **Python Tools for
    Visual Studio** (**PTVS**) (Visual Studio 2015 and earlier).
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，Python 编码将使用 Microsoft Visual Studio 完成，该软件在 Windows 上集成了一个强大的 Python IDE。Visual
    Studio 通过 Python 开发和数据科学工作负载（Visual Studio 2017）以及免费的 **Python Tools for Visual
    Studio** （**PTVS**）（Visual Studio 2015 及更早版本）为 Python 语言提供开源支持。
- en: Using the DSVM, we can clean, model, analyze, and visualize our data and develop
    models using Microsoft ML Server with Python.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 DSVM，我们可以使用 Microsoft ML Server 和 Python 清洗、建模、分析和可视化我们的数据，并开发模型。
- en: For Python, there are many common development studios. Since the chapter will
    use R and Python, we will use Visual Studio Community edition because it has both
    R and Python IDEs in place. For the hands-on part of the chapter, the DSVM already
    has the PTVS extension and R extensions pre-installed, so there is no need for
    us to take time to install and configure these additional items.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Python，有许多常见的开发工作室。由于本章将使用 R 和 Python，我们将使用 Visual Studio Community 版本，因为它已经内置了
    R 和 Python IDE。对于本章的实战部分，DSVM 已经预先安装了 PTVS 扩展和 R 扩展，因此我们不需要花费时间安装和配置这些附加项。
- en: Set up your Python environment in Visual Studio
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在 Visual Studio 中设置您的 Python 环境
- en: Visual Studio needs to be configured so that it is using Python with Microsoft
    ML Server. This is the first step, and it only needs to be conducted once.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: Visual Studio 需要配置，以便使用 Microsoft ML Server 的 Python。这是第一步，并且只需要执行一次。
- en: In Visual Studio, select the View | Other Windows | Python Environments menu
    command.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Visual Studio 中，选择视图 | 其他窗口 | Python 环境 菜单命令。
- en: We are going to create a `cookiecutter` Python project. To do this, firstly,
    we need to install `cookiecutter`.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将创建一个 `cookiecutter` Python 项目。为此，首先，我们需要安装 `cookiecutter`。
- en: 'Open Command Prompt, and type in the following command:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 打开命令提示符，输入以下命令：
- en: '[PRE0]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Then, we can proceed to use the `cookiecutter` functionality in Visual Studio
    to get off to a great start with Python and Visual Studio.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们可以继续使用 Visual Studio 中的 `cookiecutter` 功能，以 Python 和 Visual Studio 为起点。
- en: In this exercise, the code will come from a Microsoft repository, which is stored
    on GitHub.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，代码将来自微软的代码库，该代码库存储在 GitHub 上。
- en: In Visual Studio, choose File | ...
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Visual Studio 中，选择文件 | ...
- en: Writing your own code with Python in Microsoft ML Server
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在 Microsoft ML Server 中使用 Python 编写自己的代码
- en: In the last section, there was an end-to-end example that demonstrated the ability
    to use machine learning with Python in Microsoft ML Server. In this hands-on walk-through,
    there will be an exploration of writing Python code from scratch using Microsoft
    ML Server.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在最后一节中，有一个端到端的示例，展示了在Microsoft ML Server中使用Python进行机器学习的能力。在本节动手实践中，我们将探索使用Microsoft
    ML Server从头编写Python代码。
- en: 'Walk-through: reading data in and out in Microsoft ML Server'
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Microsoft ML Server中读取和写入数据的教程
- en: In this hands-on walk-through, the same Iris dataset will be used to provide
    further examples using a familiar dataset. The purpose of the code is to show
    one of the in-built datasets, and read it out to the Python output screen.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节动手实践中，我们将使用相同的Iris数据集，以使用熟悉的数据集提供更多示例。代码的目的是展示一个内置数据集，并将其读取到Python输出屏幕上。
- en: In this walk-through, we will read data in and out of Microsoft ML Server. Initially,
    the code imports the Iris dataset from the scikit-learn library. The initial code
    will print out the data in the Iris dataset. The data is assigned to the `df`
    variable , which is set to a dataframe.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节教程中，我们将从Microsoft ML Server中读取和写入数据。最初，代码从scikit-learn库中导入Iris数据集。初始代码将打印出Iris数据集中的数据。数据被分配给`df`变量，该变量被设置为dataframe。
- en: 'Here is the sequence of steps, in summary, of how we will proceed at a high
    level:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 概括来说，以下是我们将如何进行的高级步骤：
- en: It imports the Iris dataset from the scikit-learn library
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它从scikit-learn库中导入Iris数据集
- en: The Pandas library is imported, ...
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '导入了Pandas库，... '
- en: Introducing regression with Python in Microsoft ML Server
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Microsoft ML Server中使用Python介绍回归
- en: In this example, the Iris dataset is used again, since it is already available
    as part of the Python installation. In this segment of Python code, the Python
    Seaborn library is used to produce charts and graphs. Seaborn is a Python package
    that allows us to produce interesting results that can help our machine learning
    work.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在此示例中，再次使用Iris数据集，因为它已经作为Python安装的一部分可用。在此段Python代码中，使用了Python Seaborn库来生成图表和图形。Seaborn是一个Python包，它允许我们生成有趣的结果，这些结果可以帮助我们的机器学习工作。
- en: In this next demo, the code will be changed in order to produce more charts,
    and save them to the Git repository on the DSVM.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个演示中，代码将进行更改以生成更多图表，并将它们保存到DSVM上的Git存储库中。
- en: At a high level, the code uses the Iris dataset, and produces charts based on
    the data. In the last plot, the linear regression line is added for clarity.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 从高层次来看，代码使用了Iris数据集，并基于数据生成图表。在最后一个图表中，添加了线性回归线以提高清晰度。
- en: The chart shows the relationship between the length of the sepal, and the length
    of the petals, in three species of Iris. The data is grouped by color, and it
    is clear to see that the linear regression line fits through each of the three
    species.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 图表显示了三种Iris物种的萼片长度与花瓣长度之间的关系。数据按颜色分组，很明显线性回归线穿过每个物种。
- en: In the simplest invocation, the Seaborn `lmplot` function draws a scatterplot
    of two variables, `x` and `y`, and then fits the regression model `y` ~ `x`. It
    plots the resulting regression line and a 95% confidence interval for that regression.
    In the example here, it has been conducted for each of the species.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 在最简单的调用中，Seaborn的`lmplot`函数绘制两个变量`x`和`y`的散点图，然后拟合回归模型`y` ~ `x`。它绘制了回归线以及该回归的95%置信区间。在此示例中，它对每个物种都进行了操作。
- en: 'The code is commented at a low level as follows:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 代码按以下方式进行低级注释：
- en: 'The first step is to load the Iris dataset:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是加载Iris数据集：
- en: '[PRE1]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Then, the colour scheme is set:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，设置颜色方案：
- en: '[PRE2]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'This code will generate a joint plot using the Iris dataset:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码将使用Iris数据集生成一个联合图：
- en: '[PRE3]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The next step is to save the output to an image, and then produce a plot:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是将输出保存到图像中，然后生成一个图表：
- en: '[PRE4]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'This code will generate a `jointplot` using the Iris dataset:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码将使用Iris数据集生成一个`jointplot`：
- en: '[PRE5]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Next, we save the output to an image:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将输出保存到图像中：
- en: '[PRE6]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Then, we feed back success to the user:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们将成功反馈给用户：
- en: '[PRE7]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'This code will generate a linear regression plot using the Iris dataset:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码将使用Iris数据集生成一个线性回归图：
- en: '[PRE8]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The output is then saved to an image:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 然后将输出保存到图像中：
- en: '[PRE9]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Then, we feed back success to the user via the console:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们通过控制台将成功反馈给用户：
- en: '[PRE10]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: When the script is executed, the image files can be found in the Visual Studio
    repository folder. This is an example of where the images might be found in a
    repository folder: `C:\Users\myusername\source\repos\Python Packt Example\Python
    Packt Example`.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 当脚本执行时，图像文件可以在Visual Studio仓库文件夹中找到。这是图像可能在仓库文件夹中找到的一个示例：`C:\Users\myusername\source\repos\Python
    Packt Example\Python Packt Example`。
- en: More data visualization charts in Python and the Microsoft Machine Learning
    service
  id: totrans-90
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Python和Microsoft机器学习服务中查看更多数据可视化图表
- en: 'The code will also produce two more charts: a pairplot and a jointplot.'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 代码还会生成另外两个图表：对数图和联合图。
- en: A pairplot sets out to plot pairwise relationships in a dataset. The pairplot
    takes variables such as petal width, petal length, sepal width, and sepal length,
    and correlates them with one another. The output is generated very quickly using
    Python in Microsoft ML Server. The visualization allows the patterns in the data
    to be seen very quickly. For example, there is an interesting relationship between
    petal length and petal width, which can be viewed from the lower row of the pairplot.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 对数图旨在在一个数据集中绘制成对关系。对数图使用变量，如花瓣宽度、花瓣长度、萼片宽度和萼片长度，并将它们相互关联。输出是通过在Microsoft ML
    Server中使用Python快速生成的。可视化允许快速看到数据中的模式。例如，花瓣长度和花瓣宽度之间存在一个有趣的关系，这可以从对数图的下方行中看到。
- en: In Seaborn, a jointplot draws a plot of two variables with bivariate and univariate
    graphs. This is produced ...
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 在Seaborn中，联合图绘制了两个变量的双变量和单变量图。这是由 ...
- en: Regression code walk-through with Python and Microsoft ML Server
  id: totrans-94
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Python和Microsoft ML Server进行回归代码演练
- en: 'We will change the file by commenting out the existing Python code, and we
    can add our new code to the same file. It is important to know how to comment
    out code, so that the code is readable and maintainable:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将通过注释掉现有的Python代码来更改文件，并可以将我们的新代码添加到同一个文件中。了解如何注释代码很重要，这样代码才是可读的和可维护的：
- en: Comment out the existing Python code by inserting a hash sign, `#` , at the
    start of each line.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过在每行开头插入井号`#`来注释掉现有的Python代码。
- en: 'The code should appear as follows:'
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 代码应该如下所示：
- en: '[PRE11]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Copy the code given previously into the file. The file should appear as illustrated
    in the next screenshot, which only shows some of the code for the purposes of
    clarity:'
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将之前给出的代码复制到文件中。文件应该如图所示，为了清晰起见，只显示了部分代码：
- en: '![](img/4a401afd-a789-4a25-ad40-30876180d563.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/4a401afd-a789-4a25-ad40-30876180d563.png)'
- en: To run the code, click on the file in Solution Explorer so that it is highlighted.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行代码时，请点击解决方案资源管理器中的文件，使其高亮显示。
- en: Click the Start button.
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击开始按钮。
- en: 'The code will execute, and the Python interpreter will appear. Here is an example:'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 代码将执行，Python解释器将出现。以下是一个示例：
- en: '![](img/fdbf294d-5796-4119-8c87-c1c50e3117ce.PNG)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/fdbf294d-5796-4119-8c87-c1c50e3117ce.PNG)'
- en: Once the code finishes execution, press any key to continue, as instructed.
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦代码执行完成，按照指示按任意键继续。
- en: Search for the repository folder on the DSVM to look for the images produced
    by the Python code. If you are unclear about the repository location, search for `*.png` and
    you will find the completed files.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在DSVM上搜索仓库文件夹以查找Python代码生成的图像。如果您不清楚仓库位置，搜索`*.png`并将找到完成的文件。
- en: Save your work by going to File | Save All in the Visual Studio menu bar.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过在Visual Studio菜单栏中转到文件 | 保存所有来保存您的作品。
- en: Analyzing results in machine learning models
  id: totrans-108
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分析机器学习模型的结果
- en: 'No data has meaning apart from in its context. Machine learning is the way
    forward to understand data, but it needs to be interpreted as well. At a very
    high level, this process can be depicted as follows:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 任何数据在没有其上下文的情况下都没有意义。机器学习是理解数据的前进方向，但也需要被解释。在非常高的层面上，这个过程可以描述如下：
- en: '![](img/15e94601-4495-4120-b45d-af731d44b66e.png)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/15e94601-4495-4120-b45d-af731d44b66e.png)'
- en: Data needs to be understood; data goes through an analysis process. There can
    be trade-offs between accuracy and performance. Sometimes it is better to select
    an algorithm that is less accurate in order to have better performance. Another
    advantage of choosing more approximate methods is that they naturally tend to
    avoid overfitting.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 需要理解数据；数据需要经过分析过程。在准确性和性能之间可能会有权衡。有时选择一个不太准确但性能更好的算法会更好。选择更近似方法的另一个优点是它们自然倾向于避免过拟合。
- en: There is no one single best method for interpreting statistics ...
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 解释统计学没有一种唯一最佳的方法 ...
- en: Measuring the fit of the model
  id: totrans-113
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 测量模型的拟合度
- en: How well do the model's predictions actually match the observed data? It is
    crucial to understand the extent to which the predicted response value for a given
    observation is close to the actual response value for that observation.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 模型的预测实际上与观察数据匹配得有多好？了解给定观察值的预测响应值与该观察值的实际响应值接近的程度至关重要。
- en: In regression, the most common measure is the **mean squared error** (**MSE**),
    which is the average squared difference between the estimated values and the actual
    value that is estimated. If the MSE is small, then the predicted responses are
    very close to the true responses. If the MSE is large, then the predicted and
    true responses differ substantially. This is the first step in showing that the
    model is not a good fit.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在回归中，最常用的度量标准是**均方误差**（**MSE**），它是估计值与实际估计值之间平均平方差的平均值。如果MSE很小，那么预测响应非常接近真实响应。如果MSE很大，那么预测响应和真实响应差异很大。这是展示模型不适合的第一个步骤。
- en: Note that the analysis focuses on the MSE test data, not the MSE for the training
    data. The most interesting results use test data that the model has not seen previously,
    and this is where we focus our analysis on MSE results.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，分析集中在MSE测试数据上，而不是训练数据的MSE。最有趣的结果使用模型之前未见过的测试数据，这是我们分析MSE结果的重点。
- en: Cross validation
  id: totrans-117
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 交叉验证
- en: 'As we test and train our model, the MSE can vary widely across different sets
    of data. For this reason, cross-validation is important in order to understand
    the true results. Cross validation seeks to show how the model works in practice.
    The question is: Will our model generalize to an independent dataset?'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 随着我们对模型进行测试和训练，MSE可以在不同的数据集上广泛变化。因此，交叉验证对于理解真实结果非常重要。交叉验证试图展示模型在实际中的工作方式。问题是：我们的模型能否推广到独立数据集？
- en: To conduct cross validation, the model is continually trained and then it is
    given a series of test sets of data. Cross validation combines the measures of
    fitness and averages them in order to derive model prediction performance.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 为了进行交叉验证，模型会持续训练，然后给出一系列测试数据集。交叉验证结合了度量标准，并平均它们以推导出模型预测性能。
- en: Variance and bias
  id: totrans-120
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 方差和偏差
- en: What do we mean by the variance and bias of the results? Variance refers to
    the amount by which the predicted values would change if it was estimated using
    a different set of training data. Throughout the training process, different training
    datasets will result in different predictions, but it is hoped that the predictions
    will not vary too much between training sets.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 我们所说的方差和偏差的结果是什么意思？方差指的是如果使用不同的训练数据集进行估计，预测值将变化的程度。在整个训练过程中，不同的训练数据集将导致不同的预测，但希望预测值在训练集之间不会变化太大。
- en: Bias refers to the error that is introduced by simplifying a real-life problem
    to a dataset. By simplifying data into a simpler model, bias may be introduced.
    When we look at the complexities of real life, this is a common issue that needs
    to be understood and taken into account when interpreting results.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 偏差是指将现实生活中的问题简化为数据集时引入的错误。通过将数据简化为更简单的模型，可能会引入偏差。当我们观察现实生活的复杂性时，这是一个需要理解和考虑的问题，尤其是在解释结果时。
- en: Summary
  id: totrans-123
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概述
- en: In this chapter, we have investigated Visual Studio for Python and run through
    some interesting walk-throughs. We have learned about the modelling process using
    the **Team Data Science Process **(**TDSP**). As part of this process, we have
    looked at modeling and analyzing our results, as well as conducting data visualization
    to evangelize our work.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们研究了适用于Python的Visual Studio，并经历了一些有趣的演示。我们学习了使用**团队数据科学流程**（**TDSP**）进行建模的过程。在这个过程中，我们研究了结果建模和分析，以及进行数据可视化以宣传我们的工作。
