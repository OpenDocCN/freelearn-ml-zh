- en: '10'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '10'
- en: Probability Basics
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概率基础
- en: '**Probability distribution** is an essential concept in statistics and machine
    learning. It describes the underlying distribution that governs the generation
    of potential outcomes or events in an experiment or random process. There are
    different types of probability distributions, depending on the specific domain
    and characteristics of the data. A proper probability distribution is a useful
    tool in understanding and modeling the behavior of random processes and events,
    providing convenient tools for decision-making and predictions when developing
    data-driven predictive and optimization models.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '**概率分布**是统计学和机器学习中的一个基本概念。它描述了控制实验或随机过程中潜在结果或事件生成的潜在分布。根据特定领域和数据的特点，存在不同类型的概率分布。一个合适的概率分布是理解和建模随机过程和事件行为的有用工具，在开发数据驱动的预测和优化模型时，提供了方便的工具进行决策和预测。'
- en: By the end of this chapter, you will understand the common probability distributions
    and their parameters. You will also be able to use these probability distributions
    to perform usual tasks such as sampling and probability calculations in R, as
    well as common sampling distribution and order statistics.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将理解常见的概率分布及其参数。你还将能够使用这些概率分布来执行常规任务，如R中的抽样和概率计算，以及常见的抽样分布和顺序统计量。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Introducing probability distribution
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 介绍概率分布
- en: Exploring common discrete distributions
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索常见离散分布
- en: Discovering common continuous distributions
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发现常见连续分布
- en: Understanding common sampling distributions
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解常见抽样分布
- en: Understanding order statistics
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解顺序统计量
- en: Technical requirements
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'To run the code in this chapter, you will need to have the latest versions
    of the following packages:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 要运行本章中的代码，你需要拥有以下软件包的最新版本：
- en: '`ggplot2`, 3.4.0'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ggplot2`, 3.4.0'
- en: '`dplyr`, 1.0.10'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dplyr`, 1.0.10'
- en: Please note that the versions of the packages mentioned in the preceding list
    are the latest ones at the time of writing this chapter.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，前面提到的软件包版本是编写本章时的最新版本。
- en: The code and data for this chapter is available at [https://github.com/PacktPublishing/The-Statistics-and-Machine-Learning-with-R-Workshop/blob/main/Chapter_10/working.R](https://github.com/PacktPublishing/The-Statistics-and-Machine-Learning-with-R-Workshop/blob/main/Chapter_10/working.R).
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的代码和数据可在[https://github.com/PacktPublishing/The-Statistics-and-Machine-Learning-with-R-Workshop/blob/main/Chapter_10/working.R](https://github.com/PacktPublishing/The-Statistics-and-Machine-Learning-with-R-Workshop/blob/main/Chapter_10/working.R)找到。
- en: Introducing probability distribution
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍概率分布
- en: Probability distribution provides a framework for understanding and predicting
    the behavior of random variables. Once we know the underlying data-generating
    probability distribution, we can make more informed decisions about how things
    are likely to appear, either in a predictive or optimization context. In other
    words, if the selected probability distribution can model the observed data very
    well, we have a powerful tool to predict potential future values, as well as the
    uncertainty of such occurrence.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 概率分布提供了一个理解和预测随机变量行为的框架。一旦我们知道了数据生成的潜在概率分布，我们就可以更明智地决定事物可能出现的可能性，无论是在预测还是优化环境中。换句话说，如果选定的概率分布可以很好地模拟观察到的数据，我们就有了一个强大的工具来预测潜在的未来值，以及这种发生的不确定性。
- en: Here, a random variable is a variable whose value is not fixed and may assume
    multiple or infinitely many possible values, representing the outcomes (or realizations)
    of a random event. Probability distributions allow us to represent and analyze
    the probability of these outcomes, offering a comprehensive view of the underlying
    uncertainties in various scenarios. A probability distribution takes the random
    variable, denoted as x, and converts it into a probability, P(x), a floating number
    valued between 0 and 1\. The probability distribution can be a **probability density
    function** (**PDF**) or **probability mass function** (**PMF**) that specifies
    the probability of observing an outcome for a continuous variable (or discrete
    variable), or a **cumulative distribution function** (**CDF**) that provides the
    total probability that a random variable is less than or equal to a given fixed
    quantity.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，一个随机变量是一个值不固定且可能假设多个或无限多个可能值的变量，它代表了随机事件的结果（或实现）。概率分布使我们能够表示和分析这些结果的可能性，为各种场景下潜在的不确定性提供了一个全面的视角。概率分布将随机变量，表示为
    x，转换为概率，P(x)，这是一个介于 0 和 1 之间的浮点数。概率分布可以是**概率密度函数**（**PDF**）或**概率质量函数**（**PMF**），它指定了观察到一个结果对于连续变量（或离散变量）的概率，或者是一个**累积分布函数**（**CDF**），它提供了随机变量小于或等于给定固定数量的总概率。
- en: In the following example, we use f(x) to represent the probability density function
    of x, and F(x) to represent the CDF.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下示例中，我们使用 f(x) 来表示 x 的概率密度函数，并使用 F(x) 来表示 CDF。
- en: 'There are two main categories of probability distributions: discrete probability
    distribution and continuous probability distribution. A discrete probability distribution
    deals with discrete variables, which are random variables that can assume a limited
    or countable number of possible values. For example, if we have a probability
    distribution that specifies the probability of experiencing a rainy day in a week,
    the underlying random variable is the day of the week and can only take an integer
    value between 1 and 7\. Let’s assume there is a total of C possible values for
    the discrete random variable. For a given possible value, x i, with i ∈ {1, …
    , C}, the corresponding PMF is f(x i) ∈ [0,1], and all probabilities should sum
    to 1, giving ∑ i=1 C  f( x i) = 1\. We can think of PMF f(x) as a bar chart that
    specifies the probability output for each discrete input.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 概率分布主要有两大类：离散概率分布和连续概率分布。离散概率分布处理离散变量，这些是只能假设有限或可数个可能值的随机变量。例如，如果我们有一个概率分布，指定了一周内下雨天的概率，那么潜在的随机变量是星期几，只能取
    1 到 7 之间的整数。假设离散随机变量有 C 个可能值。对于给定的可能值，x_i，其中 i ∈ {1, … , C}，相应的 PMF 是 f(x_i) ∈
    [0,1]，并且所有概率的总和应为 1，即 ∑_i=1^C f(x_i) = 1。我们可以将 PMF f(x) 视为一个条形图，它指定了每个离散输入的概率输出。
- en: We will cover a few common discrete distributions. For example, the binomial
    distribution models the number of successes in a fixed number of **Bernoulli**
    trials with the same probability of success, the **Poisson** distribution models
    the number of events within a fixed interval of time or space, and the geometric
    distribution models the number of trials required for the first success in a sequence
    of Bernoulli trials. These will be covered later in this chapter.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将介绍一些常见的离散分布。例如，二项分布模型了在固定数量的具有相同成功概率的**伯努利**试验中成功的次数，**泊松**分布模型了在固定时间或空间间隔内的事件数量，几何分布模型了在一系列伯努利试验中第一次成功所需的试验次数。这些将在本章后面进行介绍。
- en: Continuous probability distributions, on the other hand, involve continuous
    variables, which can take an infinite number of values within a specified range,
    denoted as 𝒳. The random variable, x ∈ 𝒳, is now continuous, and the corresponding
    PDF f(x) ∈ [0,1] satisfies ∫ f(x)dx = 1 for x ∈ 𝒳, where we have switched the
    summation sign to an integral to account for an infinite amount of possible values
    of the continuous variable, x. We can think of PDF f(x) as a line plot that specifies
    the probability output for each continuous input.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，连续概率分布涉及连续变量，这些变量可以在指定的范围内取无限多个值，表示为 𝒳。随机变量 x ∈ 𝒳 现在是连续的，相应的 PDF f(x) ∈ [0,1]
    满足 ∫ f(x)dx = 1，其中 x ∈ 𝒳，我们将求和符号改为积分，以考虑连续变量 x 的无限多个可能值。我们可以将 PDF f(x) 视为一个线形图，它指定了每个连续输入的概率输出。
- en: We will cover a few widely used continuous distributions, starting with the
    normal (or Gaussian) distribution, which describes the distribution of many natural
    quantities. Other examples of continuous distributions include the exponential
    distribution, which models the time between independent events in a Poisson process,
    and the uniform distribution, which assigns equal probability to all outcomes
    within a specified range.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将介绍一些广泛使用的连续分布，从正态分布（或高斯分布）开始，它描述了许多自然量的分布。其他连续分布的例子包括指数分布，它模拟泊松过程中独立事件之间的时间，以及均匀分布，它将等概率分配给指定范围内的所有结果。
- en: '*Figure 10**.1* summarizes these two types of probability distributions:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '*图10*.1 总结了这两种类型的概率分布：'
- en: '![Figure 10.1 – Summarizing the two categories of probability distributions.
    Both distributions sum to 1](img/B18680_10_001.jpg)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![图10.1 – 总结两种概率分布的分类。两种分布的总和为1](img/B18680_10_001.jpg)'
- en: Figure 10.1 – Summarizing the two categories of probability distributions. Both
    distributions sum to 1
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.1 – 总结两种概率分布的分类。两种分布的总和为1
- en: Note that each probability distribution has an associated closed-form expression
    with a corresponding set of parameters. We will highlight the expression and parameters
    for each distribution next, starting with the discrete distributions.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，每个概率分布都有一个与之相关的闭式表达式和一组相应的参数。我们将在下一部分突出显示每个分布的表达式和参数，从离散分布开始。
- en: Exploring common discrete probability distributions
  id: totrans-28
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索常见的离散概率分布
- en: Discrete probability distributions are characterized by their corresponding
    PMFs, which assign a probability to each possible outcome of the input random
    variable. The sum of the probabilities for all possible outcomes in a discrete
    distribution equals 1, leading to ∑ i=1 C  f( x i) = 1\. This also means that
    one of the outcomes *must* occur, giving f(x i) > 0, ∀ i = 1, … , C.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 离散概率分布以其对应的概率质量函数（PMF）为特征，为输入随机变量的每个可能结果分配一个概率。离散分布中所有可能结果的概率之和等于1，导致 ∑ i=1
    C f(x_i) = 1。这也意味着其中一个结果*必须*发生，即 f(x_i) > 0，∀ i = 1, … , C。
- en: Discrete probability distributions are vital in various fields, such as finance.
    They are commonly used for statistical analyses, including hypothesis testing,
    parameter estimation, and predictive modeling. We can use discrete probability
    distributions to quantify uncertainties, make predictions, and gain insights into
    the underlying data-generating process of the observed outcomes.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 离散概率分布在各个领域都至关重要，例如金融。它们常用于统计分析，包括假设检验、参数估计和预测建模。我们可以使用离散概率分布来量化不确定性，进行预测，并深入了解观察到的结果背后的数据生成过程。
- en: 'Let’s start with the most fundamental discrete distribution: the Bernoulli
    distribution.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从最基本的离散分布开始：伯努利分布。
- en: The Bernoulli distribution
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 伯努利分布
- en: The **Bernoulli distribution** is a fundamental discrete probability distribution
    that specifies the behavior of a binary random variable in a single Bernoulli
    trial. Here, a **Bernoulli trial** is a single experiment with only two possible
    outcomes, which can also be labeled as “success” and “failure.” It is the simplest
    discrete probability distribution and serves as the basis for more complex distributions,
    such as binomial and geometric distributions.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '**伯努利分布**是一种基本的离散概率分布，它指定了在单个伯努利试验中二元随机变量的行为。在这里，**伯努利试验**是一个只有两种可能结果的单一实验，这些结果也可以标记为“成功”和“失败”。它是最简单的离散概率分布，并作为更复杂分布（如二项分布和几何分布）的基础。'
- en: The Bernoulli distribution is widely used in modeling scenarios with binary
    outcomes, such as coin tosses, yes/no survey questions, or the presence/absence
    of a specific feature in a dataset. For example, in statistical hypothesis testing,
    the Bernoulli distribution is often used in scenarios such as comparing the success
    rates of two treatments for a medical condition. In finance, the Bernoulli distribution
    can be used to model binary outcomes, such as a stock’s price going up or down.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 伯努利分布广泛应用于具有二元结果的建模场景中，例如抛硬币、是/否调查问题，或在数据集中存在/不存在特定特征的场景。例如，在统计假设检验中，伯努利分布常用于比较两种治疗某种医疗状况的成功率。在金融领域，伯努利分布可以用来模拟二元结果，例如股票价格上升或下降。
- en: As a convention, the two outcomes in a Bernoulli distribution are often encoded
    as `1` for success and `0` for failure. The Bernoulli distribution is characterized
    by a single parameter, p, which represents the probability of success. In other
    words, we have f(x = 1) = p. Similarly, since total probabilities sum to `1`,
    the probability of failure is given by 1 − p, giving f(x = 0) = 1 − p.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 按照惯例，伯努利分布中的两种结果通常编码为成功为 `1`，失败为 `0`。伯努利分布由一个参数 p 表示，它代表成功的概率。换句话说，我们有 f(x =
    1) = p。同样，由于总概率加起来为 `1`，失败的概率由 1 − p 给出，即 f(x = 0) = 1 − p。
- en: 'We can express the PMF of a Bernoulli distribution as follows:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以将伯努利分布的概率质量函数（PMF）表示如下：
- en: f(x) = {p, if x = 1  1 − p, if x = 0
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: f(x) = {p, if x = 1 1 − p, if x = 0
- en: 'Alternatively, we can express f(x) in a more compact form, as follows. It is
    easy to verify that these two representations are equivalent:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，我们可以将 f(x) 以更紧凑的形式表示，如下所示。很容易验证这两种表示是等价的：
- en: f(x = i) = p i (1 − p) 1−i for i ∈ {0,1}
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: f(x = i) = p^i (1 − p)^(1−i) 对于 i ∈ {0,1}
- en: Note that p ∈ [0,1].
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 注意到 p ∈ [0,1]。
- en: 'As for the mean, μ (first moment), and variance, σ 2 (second moment), which
    characterize the Bernoulli distribution, we have the following:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 对于伯努利分布的均值，μ（第一矩）和方差，σ²（第二矩），我们有以下结果：
- en: μ = p
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: μ = p
- en: σ 2 = p(1 − p)
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: σ² = p(1 − p)
- en: We’ll simulate and analyze Bernoulli-distributed random variables using R in
    the following exercise.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的练习中，我们将使用 R 模拟和分析伯努利分布的随机变量。
- en: Exercise 10.1 – simulating and analyzing Bernoulli-distributed random variables
  id: totrans-45
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习 10.1 – 模拟和分析伯努利分布的随机变量
- en: 'In this exercise, we will simulate and analyze Bernoulli-distributed random
    variables using the `rbinom()` function:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将使用 `rbinom()` 函数模拟和分析伯努利分布的随机变量：
- en: 'Simulate a single Bernoulli trial with a success probability of `0.6`:'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 模拟一个成功概率为 `0.6` 的单个伯努利试验：
- en: '[PRE0]'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Here, the outcome will be displayed as either `0` or `1`. We can control the
    random seed to ensure the reproducibility of the results:'
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这里，结果将显示为 `0` 或 `1`。我们可以控制随机种子以确保结果的再现性：
- en: '[PRE1]'
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Generate five random Bernoulli outcomes with the same probability of success:'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 生成五个具有相同成功概率的随机伯努利结果：
- en: '[PRE2]'
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Calculate the mean and variance of the Bernoulli distribution:'
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算伯努利分布的均值和方差：
- en: '[PRE3]'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Here, we use the `cat()` function to concatenate and print out the results.
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们使用 `cat()` 函数连接并打印结果。
- en: 'Analyze the results of multiple Bernoulli trials in terms of the observed/empirical
    probability of success:'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从观察/实证成功的概率来分析多次伯努利试验的结果：
- en: '[PRE4]'
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Since we only sampled 5 times, the resulting empirical probability of success
    (`0.4`) is very far from the true probability (`0.6`). We can enlarge the size
    of random trials to get a more reliable estimate:'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由于我们只采样了 5 次，成功的结果的实证概率 (`0.4`) 与真实概率 (`0.6`) 相差甚远。我们可以增加随机试验的规模以获得更可靠的估计：
- en: '[PRE5]'
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Using a total of `1000` trials, we can now reproduce the exact true probability
    of success.
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用总共 `1000` 次试验，我们现在可以重现成功的确切概率。
- en: The next section reviews the binomial distribution.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个部分回顾了二项分布。
- en: The binomial distribution
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 二项分布
- en: The `1` or `0`. Specifically, it is a discrete probability distribution that
    specifies the count of successes in a given number of Bernoulli trials. These
    trials are independent and share the same probability of success.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '`1` 或 `0`。具体来说，它是一个离散概率分布，指定了在给定数量的伯努利试验中的成功次数。这些试验是独立的，并且具有相同成功的概率。'
- en: 'There are two parameters for the binomial distribution PMF:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 二项分布 PMF 有两个参数：
- en: The number of trials, n
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 试验次数，n
- en: The probability of success, p, in each trial
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每次试验中成功的概率，p
- en: Note
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'We still assume only two possible outcomes: success (`1`) or failure (`0`).
    The probability of failure can also be represented as q , where q = 1 − p.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 我们仍然假设只有两种可能的结果：成功 (`1`) 或失败 (`0`)。失败的概率也可以表示为 q，其中 q = 1 − p。
- en: 'The PMF of the binomial distribution with a total of k successes is given in
    the following formula:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 总共有 k 次成功的二项分布的 PMF 如下公式给出：
- en: P(x = k) = C(n, k) p k (1 − p) n−1
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: P(x = k) = C(n, k) p^k (1 − p)^(n−1)
- en: 'Here, C(n, k) represents the number of combinations of choosing k successes
    from n trials, which can be calculated using the binomial coefficient formula:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，C(n, k) 表示从 n 次试验中选择 k 次成功的组合数，可以使用二项式系数公式计算：
- en: C(n, k) =  n ! _ k !(n − k) !
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: C(n, k) = n! / (k! * (n − k)!)
- en: 'The first two moments are as follows:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 前两个矩如下：
- en: μ = np
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: μ = np
- en: σ 2 = np(1 − p)
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: σ² = np(1 − p)
- en: Using the PMF of the binomial distribution, we can compute the probability of
    observing a specific number of successes in a specific number of trials.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 使用二项分布的 PMF，我们可以计算在特定次数的试验中观察特定次数成功的概率。
- en: The binomial distribution has some important relationships with other probability
    distributions. For instance, as n approaches infinity and p remains constant,
    the binomial distribution converges to the normal distribution, a continuous probability
    distribution to be introduced later.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 二项分布与其他概率分布有一些重要关系。例如，当 n 趋向于无穷大且 p 保持不变时，二项分布收敛到正态分布，这是一种将在后面介绍的连续概率分布。
- en: Let’s go through an exercise to get familiar with the functions related to binomial
    distribution.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个练习来熟悉与二项分布相关的函数。
- en: Exercise 10.2 – simulating and analyzing binomial random variables
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习 10.2 – 模拟和分析二项随机变量
- en: 'In this exercise, we will simulate and analyze binomial-distributed random
    variables using the `dbinom()` and `pbinom()` functions:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将使用 `dbinom()` 和 `pbinom()` 函数模拟和分析二项分布的随机变量：
- en: 'Use the `dbinom()` function to calculate the probability of observing 0 to
    10 successes based on a binomial distribution with a success probability of `0.5`
    and a total of 10 trials:'
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `dbinom()` 函数根据成功概率为 `0.5` 和总共 10 次试验的二项分布计算观察 0 到 10 次成功的概率：
- en: '[PRE6]'
  id: totrans-82
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Here, we use `0:n` to create a list of integers from 0 to 10, each of which
    will then get passed to the `dbinom()` function to evaluate the corresponding
    probability.
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们使用 `0:n` 来创建一个从 0 到 10 的整数列表，每个整数随后将传递给 `dbinom()` 函数以评估相应的概率。
- en: 'Create a bar plot of the binomial probabilities using the `barplot()` function:'
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `barplot()` 函数创建二项概率的条形图：
- en: '[PRE7]'
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Running this code generates *Figure 10**.2*, which shows that the middle occurrence
    of 5 has the highest probability:'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 运行此代码生成 *图 10**.2*，显示中间发生 5 次的概率最高：
- en: '![Figure 10.2 – Visualizing the binomial distribution with n=10 and p=0.5](img/B18680_10_002.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![图 10.2 – 使用 n=10 和 p=0.5 可视化二项分布](img/B18680_10_002.jpg)'
- en: Figure 10.2 – Visualizing the binomial distribution with n=10 and p=0.5
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.2 – 使用 n=10 和 p=0.5 可视化二项分布
- en: 'Calculate the cumulative binomial probabilities using the `pbinom()` function:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `pbinom()` 函数计算累积二项概率：
- en: '[PRE8]'
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: The result shows that the cumulative binomial probabilities from the CDF are
    calculated as the cumulative sum of the previous element-wise probabilities in
    the PMF.
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 结果显示，累积二项概率是从 CDF 中计算出来的，它是 PMF 中前一个元素概率的累积和。
- en: We can also use the CDF to compute the probability of observing a specific value
    or higher.
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们还可以使用 CDF 来计算观察特定值或更高的概率。
- en: 'Calculate the probability of obtaining at least seven successes:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算至少获得七次成功的概率：
- en: '[PRE9]'
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Here, the probability of obtaining at least 7 successes is calculated by taking
    the complement of observing 6 or fewer successes – that is, we have P(X ≥ 7) =
    1 − P(X ≤ 6).
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，通过观察 6 次或更少的成功来计算至少获得 7 次成功的概率，即我们有 P(X ≥ 7) = 1 − P(X ≤ 6)。
- en: Let’s go through another application-related exercise to put these calculations
    into perspective.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过另一个与实际应用相关的练习来将这些计算置于适当的背景中。
- en: Exercise 10.3 – calculating winning probabilities
  id: totrans-97
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习 10.3 – 计算获胜概率
- en: 'In this exercise, we will calculate the winning probabilities of a sports team:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将计算体育队的获胜概率：
- en: Suppose the sports team has a probability of 80% of winning a match. If there
    are a total of five matches, what is the probability of winning at least four
    matches?
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 假设体育队赢得比赛的概率为 80%。如果总共有五场比赛，那么赢得至少四场比赛的概率是多少？
- en: '[PRE10]'
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Calculate the probability of winning, at most, three matches:'
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算最多赢得三场比赛的概率：
- en: '[PRE11]'
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Note that this probability is a complement to the previous probability of winning
    at least four matches. We can verify this relationship as follows:'
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，这个概率是赢得至少四场比赛的前一个概率的补数。我们可以如下验证这个关系：
- en: '[PRE12]'
  id: totrans-104
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: In the following section, we’ll pause to discuss the normal approximation to
    the binomial distribution. This relationship is widely used in statistical analysis
    and has its roots in the central limit theorem.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将暂停讨论二项分布的正态近似。这种关系在统计分析中得到广泛应用，其根源在于中心极限定理。
- en: The normal approximation to the binomial distribution
  id: totrans-106
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 二项分布的正态近似
- en: The normal (or **Gaussian**) approximation to the binomial distribution says
    that the binomial distribution can be approximated by a normal distribution that
    shares the same mean value (μ = np) and variance value (σ 2 = np(1 − p)). Such
    normal approximation to the binomial distribution becomes more accurate as the
    number of experiments (n) increases, and the success probability (p) does not
    approach 0 or 1\. As a rule of thumb, we often use the normal approximation when
    both np ≥ 10 and nq ≥ 10.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 正态分布（或**高斯分布**）对二项分布的近似表明，二项分布可以被一个具有相同均值（μ = np）和方差值（σ² = np(1 - p)）的正态分布所近似。这种正态近似随着实验次数（n）的增加和成功概率（p）不接近0或1而变得更加准确。作为一个经验法则，我们通常在np
    ≥ 10和nq ≥ 10时使用正态近似。
- en: 'To use the normal approximation, we need to standardize the binomial random
    variable, x, by converting it into the form of a standard normal variable, z,
    based on the following formula:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用正态近似，我们需要通过以下公式将二项随机变量x标准化，将其转换为标准正态变量z的形式：
- en: z =  x − μ _ σ
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: z = x - μ / σ
- en: Here, μ = np and σ = √ _ np(1 − p) . This is also called the **z-score**. Going
    through such standardization is a common practice when trying to compare different
    quantities on the same scale. We can make use of the standard normal distribution
    (to be introduced later) to work on the corresponding PDF or CDF, depending on
    the specific task. In this case, we can use the standard normal distribution (that
    is, N(0,1)) to approximate the probabilities associated with the binomial distribution.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，μ = np，σ = √np(1 - p)。这也被称为**z分数**。在尝试将不同数量比较在相同尺度上时，进行这种标准化是一种常见做法。我们可以利用标准正态分布（稍后介绍）来处理相应的PDF或CDF，具体取决于具体任务。在这种情况下，我们可以使用标准正态分布（即N(0,1)）来近似与二项分布相关的概率。
- en: Let’s look at a concrete example. Suppose we toss a coin 100 times (assuming
    a fair coin with an equal probability of landing with a head or a tail) and would
    like to compute the probability of obtaining between 40 and 60 heads (both inclusive).
    Let x be the random variable that denotes the number of heads. We know that x
    assumes a binomial distribution with n = 100 and p = 0.5.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看一个具体的例子。假设我们抛掷一枚硬币100次（假设是公平的硬币，正面和反面的概率相等）并希望计算得到40到60个头（包括两端）的概率。令x表示头数。我们知道x服从参数为n
    = 100和p = 0.5的二项分布。
- en: 'To check whether the normal approximation is appropriate, we calculate np =
    100 * 0.5 = 50 > 10 and np(1 − p) = 100 * 0.5 * 0.5 = 25 > 10\. We also verify
    the same using R, as shown in the following code snippet:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 为了检查正态近似是否合适，我们计算np = 100 * 0.5 = 50 > 10和np(1 - p) = 100 * 0.5 * 0.5 = 25 >
    10。我们还可以使用R进行验证，如下面的代码片段所示：
- en: '[PRE13]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Both conditions evaluate `TRUE`. Now, we can standardize the upper and lower
    limits (`60` and `40`, respectively) to convert them into a standardized score.
    To do this, we need to obtain the parameters of the binomial distribution, followed
    by applying the standardization formula, z = x − μ _ σ , to get the z-score. The
    following code snippet completes the standardization:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 两个条件都评估为`TRUE`。现在，我们可以将上限和下限（分别为`60`和`40`）标准化，将它们转换为标准化分数。为此，我们需要获得二项分布的参数，然后应用标准化公式，z
    = x - μ / σ，以获得z分数。以下代码片段完成了标准化：
- en: '[PRE14]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'With the standardized z-score, we can now calculate the original probability
    based on the standard normal distribution alone. In other words, we have the following:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 使用标准化后的z分数，我们现在可以仅基于标准正态分布来计算原始概率。换句话说，我们有以下：
- en: P(40 ≤ x ≤ 60) = P( 40 − 50 _ 5  ≤  x − 50 _ 5  ≤  60 − 50 _ 5 ) = P( − 2 ≤
    z ≤ 2)
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: P(40 ≤ x ≤ 60) = P(40 - 50 / 5 ≤ x - 50 / 5 ≤ 60 - 50 / 5) = P(-2 ≤ z ≤ 2)
- en: 'As shown in the following code snippet, we can now call the `pnorm()` function
    to calculate the CDF at points z = − 2 and z = 2, whose difference gives the final
    probability:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 如以下代码片段所示，我们现在可以调用`pnorm()`函数来计算z = -2和z = 2处的累积分布函数（CDF），它们的差值给出了最终的概率：
- en: '[PRE15]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Let’s also calculate the corresponding probability using the binomial distribution
    to see how close the normal approximation is. The following code snippet uses
    the `pbino``m()` function to obtain the CDF of the binomial at both limits and
    then takes the difference to give the total probability of observing an outcome
    in this range:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们也计算使用二项分布对应的概率，看看正态近似有多接近。以下代码片段使用`pbino()`函数在两个极限处获得二项分布的CDF，然后取差值给出在这个范围内的观察结果的总体概率：
- en: '[PRE16]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: The result shows that the approximation is accurate up to the second decimal
    place. Therefore, the normalization approximation provides an alternative approach
    to calculating the probabilities if directly using the binomial distribution is
    inconvenient. However, although the normal approximation is a powerful tool, we
    still need to check the required conditions to ensure a good approximation.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 结果显示，近似值精确到小数点后第二位。因此，归一化近似法为计算概率提供了一种替代方法，如果直接使用二项分布不方便的话。然而，尽管正态近似是一个强大的工具，我们仍然需要检查所需条件以确保良好的近似。
- en: '*Figure 10**.3* summarizes the two approaches to calculating the total probability
    of observing a specific range of values. We can calculate it by taking the difference
    in the CDF between the two boundaries of the range. Alternatively, we can rely
    on the normal distribution to approximate the binomial distribution and calculate
    the total probability after obtaining the standardized z-score based on these
    parameters, assuming the conditions are satisfied:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '*图10.3* 总结了计算观察特定值范围的总体概率的两种方法。我们可以通过计算范围两个边界之间的累积分布函数（CDF）的差来计算它。或者，我们可以依赖正态分布来近似二项分布，并在满足条件的情况下，根据这些参数获得标准化的z分数后计算总体概率：'
- en: '![Figure 10.3 – Summarizing the normal approximation to the binomial distribution
    when calculating the total probability of observing a specific range of values](img/B18680_10_003.jpg)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![图10.3 – 总结在计算观察特定值范围的总体概率时对二项分布的正态近似](img/B18680_10_003.jpg)'
- en: Figure 10.3 – Summarizing the normal approximation to the binomial distribution
    when calculating the total probability of observing a specific range of values
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.3 – 总结在计算观察特定值范围的总体概率时对二项分布的正态近似
- en: We will review the Poisson distribution in the next section.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在下一节回顾泊松分布。
- en: The Poisson distribution
  id: totrans-127
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 泊松分布
- en: 'Another popular discrete probability distribution is the Poisson distribution,
    which describes the number of events within a fixed interval of time or space.
    It has a single constant parameter that specifies the average rate of occurrence.
    Specifically, we must denote λ as the average rate of occurrence of events in
    the given interval. We can express the PMF of the Poisson distribution as follows:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个流行的离散概率分布也是泊松分布，它描述了在固定时间或空间区间内的事件数量。它有一个单一常数参数，指定了发生平均速率。具体来说，我们必须将λ表示为给定区间内事件发生的平均速率。我们可以将泊松分布的概率质量函数（PMF）表示如下：
- en: P(x = k) =  λ k e −λ _ k !
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: P(x = k) = λ^k e^(-λ) / k!
- en: Here, P(x = k) denotes the probability of experiencing a total of k occurrences
    in the fixed interval, e is Euler’s number (approximately 2.71), and k ! is the
    factorial of k (the product of all positive integers up to k).
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，P(x = k)表示在固定区间内经历总共k次发生的概率，e是欧拉数（约等于2.71），而k!是k的阶乘（所有正整数乘积到k）。
- en: 'With this equation, we can calculate the probability of observing any (integer)
    number of events within the given fixed interval. We can further calculate the
    mean and variance of the Poisson distribution as follows:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这个公式，我们可以计算在给定固定区间内观察到任何（整数）事件数量的概率。我们还可以进一步计算泊松分布的均值和方差如下：
- en: μ = λ
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: μ = λ
- en: σ 2 = λ
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: σ^2 = λ
- en: The Poisson distribution is often used to model rare events that occur independently
    and at a constant average rate. Some real-world applications of Poisson processes
    include the number of hotel bookings received at the front desk per hour and the
    number of emails arriving in an inbox within a day.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 泊松分布通常用于模拟独立发生且平均发生速率恒定的事件。泊松过程的一些实际应用包括每小时前台收到的酒店预订数量和一天内收到的电子邮件数量。
- en: Let’s go through an exercise to get familiar with common probability calculations
    related to the Poisson distribution.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个练习来熟悉与泊松分布相关的常见概率计算。
- en: Exercise 10.4 – simulating and analyzing Poisson-distributed random variables
  id: totrans-136
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习10.4 – 模拟和分析泊松分布的随机变量
- en: 'In this exercise, we will use R to work with the Poisson distribution, including
    calculating the probabilities (using the PMF), plotting the distribution, and
    generating random samples. Specifically, we will calculate the Poisson probabilities
    for an average rate of occurrence of 5 events per interval (λ = 5), plot the PMF,
    and calculate the cumulative probabilities. We will also generate a random sample
    of 100 observations from this Poisson distribution:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将使用 R 来处理泊松分布，包括计算概率（使用概率质量函数 PMF）、绘制分布图和生成随机样本。具体来说，我们将计算平均发生率为每间隔5个事件的泊松概率（λ
    = 5），绘制概率质量函数 PMF，并计算累积概率。我们还将从这个泊松分布中生成100个观察值的随机样本：
- en: 'Calculate the probabilities of observing 0 to 15 occurrences/events per interval
    based on a Poisson distribution parameterized by λ = 5 using the `dpois()` function:'
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据λ = 5的泊松分布参数，使用 `dpois()` 函数计算每个间隔内观察到0到15个发生/事件的概率：
- en: '[PRE17]'
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Create a bar plot of the Poisson probabilities:'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建泊松概率的条形图：
- en: '[PRE18]'
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Running this code generates *Figure 10**.4*. As expected, the peak probabilities
    appear around five times:'
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 运行此代码生成 *图10**.4*。如预期，峰值概率出现在5次左右：
- en: '![Figure 10.4 – Visualizing the PMF of the Poisson distribution as a bar plot](img/B18680_10_004.jpg)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![图10.4 – 将泊松分布的概率质量函数 PMF 以条形图的形式可视化](img/B18680_10_004.jpg)'
- en: Figure 10.4 – Visualizing the PMF of the Poisson distribution as a bar plot
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.4 – 将泊松分布的概率质量函数 PMF 以条形图的形式可视化
- en: 'Calculate cumulative Poisson probabilities for each number of events (0 to
    15) using the `ppois()` function:'
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `ppois()` 函数计算每个事件数（0到15）的累积泊松概率：
- en: '[PRE19]'
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Running this code generates *Figure 10**.5*. Note that the CDF curve increases
    sharply around the mean occurrence of five times and gradually saturates as we
    move toward the right end of the graph:'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 运行此代码生成 *图10**.5*。注意，CDF 曲线在平均发生5次附近急剧上升，并向图形的右侧逐渐饱和：
- en: '![Figure 10.5 – Visualizing the CDF of the Poisson distribution as a bar plot](img/B18680_10_005.jpg)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![图10.5 – 将泊松分布的累积分布函数 CDF 以条形图的形式可视化](img/B18680_10_005.jpg)'
- en: Figure 10.5 – Visualizing the CDF of the Poisson distribution as a bar plot
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.5 – 将泊松分布的累积分布函数 CDF 以条形图的形式可视化
- en: 'Generate `100` random samples from this Poisson distribution using the `rpois()`
    function:'
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `rpois()` 函数从这个泊松分布中生成 `100` 个随机样本：
- en: '[PRE20]'
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: As expected, the majority of the occurrences are around five times.
  id: totrans-152
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如预期，大多数发生次数都在5次左右。
- en: Poisson approximation to binomial distribution
  id: totrans-153
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 泊松分布对二项分布的近似
- en: As it turns out, we can also use the Poisson distribution to approximate the
    binomial distribution under specific conditions. For instance, when the number
    of trials (n) in a binomial distribution is large and the success probability
    (p) is small, the binomial distribution can be approximated by a Poisson distribution
    with λ = np.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 结果表明，我们还可以在特定条件下使用泊松分布来近似二项分布。例如，当二项分布中的试验次数（n）很大且成功概率（p）很小时，二项分布可以被近似为λ = np的泊松分布。
- en: 'Let’s use an example to demonstrate how to apply the Poisson approximation
    to the binomial distribution. Suppose we have a binomial distribution with n =
    1000 and p = 0.01\. We want to find the probability of observing exactly 15 successes:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们用一个例子来演示如何将泊松近似应用于二项分布。假设我们有一个n = 1000和p = 0.01的二项分布。我们想找到观察到恰好15次成功的概率：
- en: 'We can start with the binomial probability and calculate the corresponding
    probability using the `dbinom()` function after specifying the parameters:'
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以从二项概率开始，指定参数后使用 `dbinom()` 函数计算相应的概率：
- en: '[PRE21]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Next, we must calculate the approximate Poisson parameter, λ = np:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '接下来，我们必须计算近似的泊松参数，λ = np:'
- en: '[PRE22]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Now, we can calculate the Poisson probability of observing 15 successes:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们可以计算观察到15次成功的泊松概率：
- en: '[PRE23]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: The result suggests that the approximation is quite accurate to the third decimal
    point.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 结果表明，近似值在第三位小数点处相当准确。
- en: One more interesting property is that adding up several independent Poisson-distributed
    random variables also produces a Poisson distribution, which is parameterized
    by the sum of the corresponding individual λ values. For example, if x 1 and x 2
    are independent Poisson random variables with λ 1 and λ 2, respectively, their
    sum (y = x 1 + x 2) also follows a Poisson distribution with λ = λ 1 + λ 2\. This
    gives a convenient property when working with the sum of multiple Poisson-distributed
    random variables.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个有趣的性质是，将几个独立的泊松分布随机变量相加也会产生泊松分布，其参数为相应单个λ值的总和。例如，如果x₁和x₂是分别具有λ₁和λ₂的独立泊松随机变量，它们的和（y
    = x₁ + x₂）也遵循λ = λ₁ + λ₂的泊松分布。这在处理多个泊松分布随机变量的和时提供了一个方便的性质。
- en: 'In the next section, we’ll cover another widely used discrete distribution:
    the geometric distribution.'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将介绍另一个广泛使用的离散分布：几何分布。
- en: The geometric distribution
  id: totrans-165
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 几何分布
- en: The geometric distribution is a discrete probability distribution that describes
    the number of trials required for the first success in a sequence of independent
    Bernoulli trials, each with the same probability of success. Similar to the binomial
    distribution, the geometric distribution is a collection of multiple independent
    Bernoulli trials, although the subject of interest is the first occurrence of
    success in the sequence of trials. Here, the first occurrence of success means
    that all previous trials need to be non-success, and the current trial is the
    first success among multiple trials performed so far.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 几何分布是一种离散概率分布，描述了在一系列独立伯努利试验中，每个试验具有相同的成功概率，第一次成功所需的试验次数。与二项分布类似，几何分布是多个独立伯努利试验的集合，尽管感兴趣的是试验序列中成功的第一次发生。在这里，成功的第一次发生意味着所有之前的试验都需要是非成功，而当前试验是在迄今为止进行的多个试验中第一次成功。
- en: It is commonly used to model the waiting time until an event occurs or the number
    of attempts needed to achieve a desired outcome. Examples include the number of
    attempts to pass a driving test until success, the number of times we observe
    continuous sunny days, and the number of coin flips needed to obtain the first
    head. The geometric distribution is quite useful when modeling the waiting time
    or the number of attempts needed to achieve the first success in a sequence of
    independent Bernoulli trials.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 它通常用于模拟事件发生前的等待时间或达到期望结果所需的尝试次数。例如，包括通过驾驶考试所需的尝试次数直到成功、连续晴天观察的次数以及获得第一次正面所需的抛硬币次数。在模拟一系列独立伯努利试验中第一次成功所需的等待时间或尝试次数时，几何分布非常有用。
- en: 'The geometric distribution is defined by a single parameter, p, which represents
    the probability of success on each Bernoulli trial. The PMF of the geometric distribution
    is given by the following formula:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 几何分布由一个参数p定义，该参数代表每次伯努利试验成功的概率。几何分布的概率质量函数（PMF）由以下公式给出：
- en: P(x = k) = (1 − p) k−1 p
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: P(x = k) = (1 − p)^(k−1) * p
- en: This formula specifies the probability of observing the first success on the
    k th trial. Therefore, the probability is calculated as a joint probability of
    observing k individual events, where the first k − 1 events are non-success with
    a joint probability of (1 − p) k−1, and the last event is a success with a probability
    of p.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 此公式指定了在k次试验中观察到第一次成功的概率。因此，该概率是通过观察k个独立事件的联合概率来计算的，其中前k-1个事件是非成功，联合概率为(1 − p)^(k−1)，最后一个事件是成功，概率为p。
- en: 'The mean and variance parameters of a geometric distribution can be expressed
    as follows:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 几何分布的均值和方差参数可以表示如下：
- en: μ =  1 _ p
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: μ = 1 / p
- en: σ 2 =  1 − p _ p 2
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: σ² = (1 − p) / p²
- en: Note that the geometric distribution is **memoryless**, meaning that the probability
    of success in the next trial does not depend on the past trials. In other words,
    the waiting time until the first success does not change, regardless of the number
    of past trials that have already been conducted.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，几何分布是**无记忆的**，这意味着下一次试验成功的概率不依赖于过去的试验。换句话说，直到第一次成功所需的等待时间不会因已经进行的过去试验的数量而改变。
- en: Let’s go through an exercise to simulate and analyze a random variable while
    following the geometric distribution.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个练习来模拟和分析一个遵循几何分布的随机变量。
- en: Exercise 10.5 – simulating and analyzing geometrically-distributed random variables
  id: totrans-176
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习10.5 – 模拟和分析几何分布的随机变量
- en: 'In this exercise, we will use R to work with the geometric distribution, including
    calculating the PMF and CDF probabilities, plotting the distribution, and generating
    random samples:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将使用 R 来处理几何分布，包括计算概率质量函数（PMF）和累积分布函数（CDF）概率，绘制分布，并生成随机样本：
- en: 'For a geometric distribution with a success probability of p = 0.25, calculate
    geometric probabilities for each number of trials (from 1 to 10) using the `dgeom()`
    function:'
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于成功概率为 p = 0.25 的几何分布，使用 `dgeom()` 函数计算每个试验次数（从 1 到 10）的几何概率：
- en: '[PRE24]'
  id: totrans-179
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Note that the `0:9` argument represents the number of failures in the `dgeom()`
    function.
  id: totrans-180
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，`0:9` 参数表示 `dgeom()` 函数中的失败次数。
- en: 'Create a bar plot for these geometric probabilities:'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为这些几何概率创建条形图：
- en: '[PRE25]'
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Running this code generates *Figure 10**.6*. As expected, the probability of
    obtaining a longer sequence of continuous failures decreases as the number of
    trials increases:'
  id: totrans-183
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 运行此代码生成**图 10**.6*. 如预期，随着试验次数的增加，获得更长的连续失败序列的概率降低：
- en: '![Figure 10.6 – Visualizing the PMF of the geometric distribution as a bar
    plot](img/B18680_10_006.jpg)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![图 10.6 – 将几何分布的概率质量函数（PMF）作为条形图可视化](img/B18680_10_006.jpg)'
- en: Figure 10.6 – Visualizing the PMF of the geometric distribution as a bar plot
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.6 – 将几何分布的概率质量函数（PMF）作为条形图可视化
- en: 'Calculate cumulative geometric probabilities for the previous trials using
    the `pgeom()` function:'
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `pgeom()` 函数计算之前试验的累积几何概率：
- en: '[PRE26]'
  id: totrans-187
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Generate 100 random samples from this geometric distribution using the `rgeom()`
    function:'
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `rgeom()` 函数从这个几何分布中生成 100 个随机样本：
- en: '[PRE27]'
  id: totrans-189
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: The result shows a decreasing frequency as the numbers grow large, which matches
    the PMF of the geometric distribution.
  id: totrans-190
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 结果显示，随着数字增大，频率逐渐降低，这与几何分布的概率质量函数（PMF）相匹配。
- en: Let’s go through another application-related exercise on the probability of
    finding bugs in a computer program.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过另一个与概率相关的练习来查找计算机程序中的错误。
- en: Exercise 10.6 – simulating and analyzing geometrically-distributed random variables
  id: totrans-192
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习 10.6 – 模拟和分析几何分布的随机变量
- en: 'In this exercise, we will visit a real-world example that involves a software
    tester trying to find bugs in a computer program. In this example, the software
    tester finds bugs in a program with a probability of `0.1` on each attempt, and
    the attempts are independent. The company wants to know the probability of finding
    the first bug within the first five attempts, as well as the expected number of
    attempts needed to find the first bug:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将访问一个涉及软件测试员尝试在计算机程序中查找错误的现实世界示例。在这个例子中，软件测试员每次尝试找到错误的概率为 `0.1`，且尝试是独立的。公司想知道在第一次五次尝试内找到第一个错误的概率，以及找到第一个错误所需的预期尝试次数：
- en: 'Calculate the probability of finding the first bug within the first five attempts
    using the `pgeom()` function:'
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `pgeom()` 函数计算在第一次五次尝试内找到第一个错误的概率：
- en: '[PRE28]'
  id: totrans-195
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: Here, note that we use `4` since the `dgeom()` function uses zero-based indexing.
  id: totrans-196
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这里，请注意我们使用 `4`，因为 `dgeom()` 函数使用零基索引。
- en: 'As the `pgeom()` function returns the CDF of a specific input, we can equivalently
    calculate this probability by summing up all previous probabilities up to the
    current input, as shown here:'
  id: totrans-197
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由于 `pgeom()` 函数返回特定输入的累积分布函数（CDF），我们可以通过将所有之前的概率加到当前输入上等效地计算这个概率，如下所示：
- en: '[PRE29]'
  id: totrans-198
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Calculate the expected number of attempts needed to find the first bug using
    the mean (expected value) of the geometric distribution:'
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用几何分布的均值（期望值）计算找到第一个错误所需的预期尝试次数：
- en: '[PRE30]'
  id: totrans-200
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Visualize the probabilities of finding the first bug within different numbers
    of attempts (from `1` to `20`) in a bar chart:'
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在条形图中可视化在不同尝试次数（从 `1` 到 `20`）内找到第一个错误的概率：
- en: '[PRE31]'
  id: totrans-202
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Running this code generates *Figure 10**.7*. This figure suggests that rare
    events (those requiring a continuous stream of failures) assume lower probabilities
    as we move toward the right:'
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 运行此代码生成**图 10**.7*. 此图表明，随着我们向右移动，需要连续失败流的事件（那些具有较低概率的事件）的概率更低：
- en: '![Figure 10.7 – Visualizing the probabilities of finding the first bug within
    different numbers of attempts](img/B18680_10_007.jpg)'
  id: totrans-204
  prefs: []
  type: TYPE_IMG
  zh: '![图 10.7 – 在不同尝试次数内可视化找到第一个错误的概率](img/B18680_10_007.jpg)'
- en: Figure 10.7 – Visualizing the probabilities of finding the first bug within
    different numbers of attempts
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.7 – 在不同尝试次数内可视化找到第一个错误的概率
- en: As this figure suggests, the probability of observing the first bug decreases
    as the number of attempts increases.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 如此图表所示，观察到第一个错误的概率随着尝试次数的增加而降低。
- en: Comparing different discrete probability distributions
  id: totrans-207
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 比较不同的离散概率分布
- en: 'The discrete probability distributions introduced so far in this chapter are
    essential tools to model scenarios where the outcome variable takes on discrete
    values. Each discrete distribution has specific assumptions, properties, and applications.
    *Figure 10**.8* provides a summary takeaway and analysis by comparing the main
    characteristics of the binomial, Poisson, and geometric distributions:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 本章迄今为止介绍的离散概率分布是模拟结果变量取离散值场景的必要工具。每个离散分布都有特定的假设、属性和应用。*图10.8* 通过比较二项分布、泊松分布和几何分布的主要特征提供了总结和解析：
- en: '![Figure 10.8 – Summarizing and comparing different discrete distributions](img/B18680_10_008.jpg)'
  id: totrans-209
  prefs: []
  type: TYPE_IMG
  zh: '![图10.8 – 总结和比较不同的离散分布](img/B18680_10_008.jpg)'
- en: Figure 10.8 – Summarizing and comparing different discrete distributions
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.8 – 总结和比较不同的离散分布
- en: With different discrete distributions at hand, it is important to understand
    the specific assumptions and requirements of each distribution to select the appropriate
    one for a given problem. For example, the binomial distribution is suitable for
    modeling the number of successes in a given number of experiments, the Poisson
    distribution is suitable for modeling the number of events occurring in a fixed
    period, and the geometric distribution is often used to model the number of trials
    required to achieve the first success.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 在手头有不同离散分布的情况下，了解每个分布的具体假设和要求，对于选择给定问题的合适分布非常重要。例如，二项分布适用于模拟在给定次数的实验中成功的次数，泊松分布适用于模拟在固定期间内发生的事件数，几何分布通常用于模拟达到第一次成功所需的试验次数。
- en: In practice, these discrete probability distributions can be used to analyze
    various real-world scenarios, make predictions, and optimize processes. Getting
    a good understanding of the characteristics and applications of each distribution
    allows you to choose the right distribution for the specific problem and perform
    relevant analyses using R.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 在实践中，这些离散概率分布可以用来分析各种现实世界场景，进行预测和优化流程。了解每个分布的特征和应用，可以帮助你为特定问题选择合适的分布，并使用R进行相关分析。
- en: The next section introduces continuous distributions, including normal distribution,
    exponential distribution, and uniform distribution.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个部分介绍了连续分布，包括正态分布、指数分布和均匀分布。
- en: Discovering common continuous probability distributions
  id: totrans-214
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 发现常见的连续概率分布
- en: Continuous probability distributions model the probability of random variables
    that assume any value within a specific continuous range. In other words, the
    underlying random variable is continuous instead of discrete. These distributions
    describe the probabilities of observing values that fall within a continuous interval,
    rather than equal to individual discrete outcomes in a discrete probability distribution.
    Specifically, in a continuous probability distribution, the probability of the
    random variable equal to any specific value is typically zero, since the possible
    outcomes are uncountable. Instead, probabilities for continuous distributions
    are calculated for intervals or ranges of values.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 连续概率分布用于模拟随机变量在特定连续范围内取任何值的概率。换句话说，基础随机变量是连续的而不是离散的。这些分布描述了观察到的值落在连续区间内的概率，而不是在离散概率分布中等于单个离散结果的概率。具体来说，在连续概率分布中，随机变量等于任何特定值的概率通常为零，因为可能的结果是不可数的。相反，连续分布的概率是针对区间或值范围的。
- en: We can use a PDF to describe a continuous distribution. This corresponds to
    the PMF of a discrete probability distribution. The PDF defines the probability
    of observing a value within an infinitesimally small interval around a given point.
    The area under the PDF curve over a specific range represents the probability
    of the random variable falling within that range – that is, the probabilities
    are calculated for intervals or ranges of values by integrating the PDF over the
    desired range. In contrast, probabilities are assigned to individual points in
    a PMF, and the probabilities are calculated for a set of discrete values by summing
    up their individual probabilities.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用PDF来描述连续分布。这对应于离散概率分布的PMF。PDF定义了在给定点周围无限小间隔内观察到一个值的概率。PDF曲线在特定范围内的面积代表随机变量落在该范围内的概率——也就是说，通过在所需范围内对PDF进行积分来计算区间或值范围的概率。相比之下，PMF为单个点分配概率，通过将它们的个别概率相加来计算一组离散值的概率。
- en: In addition, the visualization for continuous probability distributions is also
    different. Compared to the bar chart used for the PMF of discrete probabilities
    distributions, the PDF of continuous distributions is plotted as smooth curves
    called density plots. The area under the curve over a specific range represents
    the probability of the random variable falling within that range.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，连续概率分布的可视化也有所不同。与用于离散概率分布PMF的条形图相比，连续分布的PDF以称为密度图的平滑曲线绘制。曲线在特定范围内的面积代表随机变量落在该范围内的概率。
- en: '*Figure 10**.9* summarizes the main differences between discrete and continuous
    probability distributions:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '*图10.9*总结了离散和连续概率分布之间的主要差异：'
- en: '![Figure 10.9 – Summarizing the differences between discrete and continuous
    probability distributions](img/B18680_10_009.jpg)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![图10.9 – 总结离散和连续概率分布之间的差异](img/B18680_10_009.jpg)'
- en: Figure 10.9 – Summarizing the differences between discrete and continuous probability
    distributions
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.9 – 总结离散和连续概率分布之间的差异
- en: In summary, discrete and continuous probability distributions model different
    types of random variables. Discrete probability distributions represent countable
    outcomes, while continuous distributions represent uncountable possibilities within
    a continuous range. These differences between these two types of distributions
    determine how we select the appropriate distribution for a given problem and perform
    relevant analyses.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 总结来说，离散和连续概率分布模型不同类型的随机变量。离散概率分布表示可数的输出结果，而连续分布表示在连续范围内不可数的可能性。这两种分布类型之间的差异决定了我们如何为特定问题选择合适的分布并执行相关分析。
- en: 'In the next section, we’ll introduce the most widely used continuous probability
    distribution: the normal probability distribution.'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将介绍最广泛使用的连续概率分布：正态概率分布。
- en: The normal distribution
  id: totrans-223
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 正态分布
- en: The **normal probability distribution**, also called the **Gaussian distribution**,
    is a continuous probability distribution that models scenarios where the continuous
    outcomes are symmetrically distributed around the mean. It is the most widely
    used probability distribution in practice as many natural and social phenomena
    tend to follow a normal distribution as a result of the central limit theorem.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '**正态概率分布**，也称为**高斯分布**，是一种连续概率分布，它模拟了连续结果围绕均值对称分布的场景。由于许多自然和社会现象由于中心极限定理的结果往往遵循正态分布，因此它是实践中最广泛使用的概率分布。'
- en: 'Two parameters are used to characterize the normal distribution: the mean (μ)
    and the standard deviation (σ). The mean represents the central tendency or the
    average value of the distribution. The outcomes around the center of the distribution
    get the highest probability. The standard deviation describes the dispersion or
    spread of the data from the mean, serving as a measure of variability in the distribution.'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 两个参数用于描述正态分布：均值（μ）和标准差（σ）。均值代表分布的中心趋势或平均值。分布中心的值获得最高的概率。标准差描述数据从均值的离散程度，作为分布变异性的度量。
- en: 'The PDF of the normal distribution is specified as follows:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 正态分布的概率密度函数（PDF）如下所示：
- en: f(x) =  1 _ √ _ 2π  σ  e −(x−μ) 2 _ 2σ 2
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: f(x) = 1 / √(2πσ) e^(-(x−μ)^2 / (2σ^2))
- en: We can also write x ∼ N(μ, σ 2), which reads as the random variable, x, follows
    a normal distribution parameterized by μ and σ 2.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 我们也可以写成 x ∼ N(μ, σ²)，这表示随机变量 x 遵循由 μ 和 σ² 参数化的正态分布。
- en: Graphically, the normal distribution looks like a bell-shaped curve, with most
    values concentrated near the mean and fewer values toward the extremes at both
    ends. An empirical rule, called the 68-95-99.7 rule, says that approximately 68%
    of the values lie within 1 standard deviation of the mean, 95% within 2 standard
    deviations, and 99.7% within 3 standard deviations.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 从图形上看，正态分布看起来像钟形曲线，大多数值集中在均值附近，两端极端的值较少。一个经验法则，称为 68-95-99.7 规则，表示大约 68% 的值位于均值加减一个标准差范围内，95%
    在加减两个标准差范围内，99.7% 在加减三个标准差范围内。
- en: 'A particular normal distribution that is commonly used is the standard normal
    distribution, which is written as z ∼ N(0, 1) – that is, a standard normal distribution
    has μ = 0 and σ = 0\. A special property is that we can transform any normally
    distributed random variable into a standard normal variable using the following
    formula:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 一种常用的特定正态分布是标准正态分布，表示为 z ∼ N(0, 1) – 即，标准正态分布具有 μ = 0 和 σ = 0。一个特殊性质是我们可以使用以下公式将任何正态分布的随机变量转换为标准正态变量：
- en: z =  x − μ _ σ
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: z = x − μ / σ
- en: We can then use the standard normal table (called a Z-table) to find probabilities
    and percentiles of interest.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们可以使用标准正态分布表（称为 Z 表）来找到感兴趣的概率和分位数。
- en: Let’s go through an exercise to practice the calculations related to the normal
    distribution.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个练习来练习与正态分布相关的计算。
- en: Exercise 10.7 – simulating and analyzing normal random variables
  id: totrans-234
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习 10.7 – 模拟和分析正态随机变量
- en: 'In this exercise, we will simulate and analyze normal-distributed random variables:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将模拟和分析正态分布的随机变量：
- en: 'Calculate the probability density of the standard normal distribution using
    the `dnorm()` function from `-4` to `4` with a step size of `0.1`:'
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `dnorm()` 函数计算标准正态分布从 `-4` 到 `4` 的概率密度，步长为 `0.1`：
- en: '[PRE32]'
  id: totrans-237
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Here, we use the `seq()` function to create a vector of equally spaced values
    and extract the corresponding probability for each of the input values using the
    `dnorm()` function.
  id: totrans-238
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们使用 `seq()` 函数创建一个等间距的值向量，并使用 `dnorm()` 函数提取每个输入值的对应概率。
- en: 'Plot the normal distribution as a continuous curve using the `plot()` function:'
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `plot()` 函数将正态分布绘制为连续曲线：
- en: '[PRE33]'
  id: totrans-240
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Running this code generates *Figure 10**.10*, which shows that the PDF is centered
    around the mean, `0`, and has a standard deviation of `1` as the spread:'
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 运行此代码生成 *图 10**.10*，它显示 PDF 以均值 `0` 为中心，具有标准差 `1` 的分布范围：
- en: '![Figure 10.10 – Visualizing the density plot of the standard normal distribution](img/B18680_10_010.jpg)'
  id: totrans-242
  prefs: []
  type: TYPE_IMG
  zh: '![图 10.10 – 标准正态分布密度图的可视化](img/B18680_10_010.jpg)'
- en: Figure 10.10 – Visualizing the density plot of the standard normal distribution
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.10 – 标准正态分布密度图的可视化
- en: 'Calculate the cumulative probabilities of the normal distribution using the
    `pnorm()` function:'
  id: totrans-244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `pnorm()` 函数计算正态分布的累积概率：
- en: '[PRE34]'
  id: totrans-245
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'Running this code generates *Figure 10**.11*:'
  id: totrans-246
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 运行此代码生成 *图 10**.11*：
- en: '![Figure 10.11 – Visualizing the cumulative density function of the standard
    normal distribution](img/B18680_10_011.jpg)'
  id: totrans-247
  prefs: []
  type: TYPE_IMG
  zh: '![图 10.11 – 标准正态分布累积密度函数的可视化](img/B18680_10_011.jpg)'
- en: Figure 10.11 – Visualizing the cumulative density function of the standard normal
    distribution
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.11 – 标准正态分布累积密度函数的可视化
- en: 'Generate random samples from a normal distribution using the `rnorm()` function:'
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `rnorm()` 函数从正态分布中生成随机样本：
- en: '[PRE35]'
  id: totrans-250
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Find the 90th quantile (inverse cumulative probability) for a given probability
    using the `qnorm()` function:'
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `qnorm()` 函数找到一个给定概率的 90% 分位数（逆累积概率）：
- en: '[PRE36]'
  id: totrans-252
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Let’s look at another exercise for solving practical problems using the normal
    distribution.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看另一个使用正态分布解决实际问题的练习。
- en: Exercise 10.8 – calculating probabilities with the normal distribution
  id: totrans-254
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习 10.8 – 使用正态分布计算概率
- en: 'Let’s assume a company manufactures batteries with an average life span of
    100 hours and a standard deviation of 10 hours. Let’s also assume that the lifespan
    of the batteries follows a normal distribution:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 假设一家公司生产的电池平均寿命为 100 小时，标准差为 10 小时。假设电池的寿命遵循正态分布：
- en: 'Simulate a dataset of 1,000 batteries:'
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 模拟一个包含 1,000 个电池的数据集：
- en: '[PRE37]'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE37]'
- en: Here, we use the `rnomr()` function to sample from the given normal distribution
    randomly. We also specify the random seed for reproducibility.
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们使用`rnorm()`函数从给定的正态分布中随机抽样。我们还指定了随机种子以确保可重复性。
- en: 'Calculate the probability that a randomly chosen battery will last more than
    120 hours:'
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算随机选择的一块电池使用时间超过120小时的概率：
- en: '[PRE38]'
  id: totrans-260
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE38]'
- en: Here, we use the `pnorm()` function to calculate the total probability of being
    smaller than `120`, then take the complement to get the probability of being larger
    than `120`.
  id: totrans-261
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们使用`pnorm()`函数计算小于`120`的总概率，然后取补数以获得大于`120`的概率。
- en: As expected, the probability of deviating from the mean by two standard deviations
    is quite small.
  id: totrans-262
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如预期，偏离平均值两个标准差外的概率相当小。
- en: 'Plot the PDF of the lifespans with the area under the curve above `120` hours
    shaded:'
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制寿命概率密度函数，曲线下方的面积大于`120`小时的区域进行阴影处理：
- en: '[PRE39]'
  id: totrans-264
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE39]'
- en: Here, we build a DataFrame, `df`, to store the sample value and the corresponding
    density that was obtained using the `density()` function. We then subset to get
    the corresponding DataFrame, `df_shaded`, for the area to be shaded. In `ggplot`,
    we use the `geom_density()` function to plot the density curve, `geom_vline()`
    to add a vertical line indicating the threshold, and `geom_area()` to shade the
    area toward the right.
  id: totrans-265
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们构建一个DataFrame，`df`，用于存储样本值和通过`density()`函数获得的相应密度。然后我们子集以获取要阴影处理的区域的相应DataFrame，`df_shaded`。在`ggplot`中，我们使用`geom_density()`函数绘制密度曲线，`geom_vline()`添加表示阈值的垂直线，以及`geom_area()`对右侧区域进行阴影处理。
- en: 'Running this code generates *Figure 10**.12*:'
  id: totrans-266
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 运行此代码将生成**图10.12**：
- en: '![Figure 10.12 – Visualizing the PDF of the empirical normal distribution with
    the area above the threshold shaded](img/B18680_10_012.jpg)'
  id: totrans-267
  prefs: []
  type: TYPE_IMG
  zh: '![图10.12 – 使用阴影区域可视化经验正态分布的概率密度函数](img/B18680_10_012.jpg)'
- en: Figure 10.12 – Visualizing the PDF of the empirical normal distribution with
    the area above the threshold shaded
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.12 – 使用阴影区域可视化经验正态分布的概率密度函数
- en: 'The next section covers another continuous probability distribution: the exponential
    distribution.'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 下一节将介绍另一种连续概率分布：指数分布。
- en: The exponential distribution
  id: totrans-270
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 指数分布
- en: The **exponential distribution** is a continuous probability distribution that’s
    commonly used to model the time or space between events in a Poisson process.
    As covered in the previous section, a Poisson process models events that occur
    independently and at a constant average rate. The exponential distribution is
    often employed to describe the waiting time between rare events, such as the time
    between phone calls at a call center.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '**指数分布**是一种连续概率分布，常用于模拟泊松过程中事件之间的时间或空间。如前所述，泊松过程模拟独立且以恒定平均速率发生的事件。指数分布常用于描述罕见事件之间的等待时间，例如呼叫中心的电话之间的时间。'
- en: 'The PDF of the exponential distribution is given by the following formula:'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 指数分布的概率密度函数由以下公式给出：
- en: f(x) = λ e −λx, x ≥ 0
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: f(x) = λ e^(-λx), x ≥ 0
- en: Here, λ is the rate parameter, which represents the average number of events
    that occur per unit of time or space, and e is the base of the natural logarithm.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，λ是速率参数，表示每单位时间或空间发生的事件的平均数量，e是自然对数的底数。
- en: A defining characteristic of an exponential distribution is the memoryless property,
    which says that the probability of an event occurring in the future is independent
    of the time that has already elapsed since the last event. This makes the exponential
    distribution a suitable choice for modeling waiting times between independent
    and rare events.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 指数分布的一个定义特征是记忆性属性，它表明未来事件发生的概率与自上次事件以来已经过去的时间无关。这使得指数分布适合用于模拟独立且罕见事件之间的等待时间。
- en: 'The mean and standard deviation of the exponential distribution are as follows:'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 指数分布的均值和标准差如下：
- en: μ =  1 _ λ
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: μ = 1 / λ
- en: σ 2 =  1 _ λ 2
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: σ² = 1 / λ²
- en: The exponential distribution contains a single parameter, λ, and models the
    average number of events occurring per unit of time or space for the waiting time
    between events. The same parameter, λ, in the context of modeling a Poisson process,
    refers to the average number of events occurring in a fixed interval, in terms
    of either time or space. Both distributions are used to model different aspects
    of the same Poisson process.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 指数分布包含一个参数 λ，并模拟事件之间等待时间每单位时间或空间发生的平均事件数。在模拟泊松过程的情况下，相同的参数 λ 指的是在固定间隔内（无论是时间还是空间）发生的平均事件数。这两个分布都用于模拟泊松过程的各个方面。
- en: Now, let’s go through an exercise to review the probability calculations related
    to the exponential distribution.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们通过一个练习来复习与指数分布相关的概率计算。
- en: Exercise 10.9 – calculating probabilities with the exponential distribution
  id: totrans-281
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习 10.9 – 使用指数分布计算概率
- en: 'In this exercise, we will look at generating random samples while following
    an exponential distribution and calculate and visualize the total probability
    above a certain threshold:'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将探讨在遵循指数分布的同时生成随机样本，并计算和可视化超过某个阈值的总概率：
- en: 'Generate a random sample of 1,000 data points from an exponential distribution
    with a rate parameter of `0.01` using the `rexp()` function:'
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `rexp()` 函数从具有速率参数 `0.01` 的指数分布中生成 1,000 个数据点的随机样本：
- en: '[PRE40]'
  id: totrans-284
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'Calculate the probability that the waiting time between events is more than
    150 units using the `pexp()` function:'
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `pexp()` 函数计算事件之间的等待时间超过 150 个单位时的概率：
- en: '[PRE41]'
  id: totrans-286
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'Plot the PDF and shade the area under the curve for waiting times greater than
    the threshold:'
  id: totrans-287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制 PDF 并阴影表示超过阈值的等待时间下的曲线区域：
- en: '[PRE42]'
  id: totrans-288
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE42]'
- en: Here, we create a DataFrame for different waiting times generated in the random
    samples, obtain the corresponding densities using the `dexp()` function, and build
    the `df` and `df_shaded` DataFrames to be used in `ggplot`.
  id: totrans-289
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们创建一个用于存储在随机样本中生成的不同等待时间的 DataFrame，使用 `dexp()` 函数获取相应的密度，并构建 `df` 和 `df_shaded`
    DataFrame 以供 `ggplot` 使用。
- en: 'Running this code generates *Figure 10**.13*:'
  id: totrans-290
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 运行此代码生成 *图 10**.13*：
- en: '![Figure 10.13 – Visualizing the empirical PDF of the exponential distribution
    with the area above the threshold shaded](img/B18680_10_013.jpg)'
  id: totrans-291
  prefs: []
  type: TYPE_IMG
  zh: '![图 10.13 – 以阴影表示阈值以上的指数分布的经验概率密度函数](img/B18680_10_013.jpg)'
- en: Figure 10.13 – Visualizing the empirical PDF of the exponential distribution
    with the area above the threshold shaded
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10.13 – 以阴影表示阈值以上的区域来可视化指数分布的经验概率密度函数
- en: The next section introduces uniform distribution.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 下一节将介绍均匀分布。
- en: Uniform distribution
  id: totrans-294
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 均匀分布
- en: As the name suggests, uniform distribution is a continuous probability distribution
    where all outcomes within a given range are equally likely. The PDF, which appears
    as a straight line (illustrated next), is characterized by two parameters, the
    lower bound (a) and the upper bound (b), which define the range of possible values.
    All values within this range have the same probability of occurrence, and values
    outside the range have a probability of zero.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 如其名所示，均匀分布是一种连续概率分布，其中给定范围内的所有结果出现的可能性相同。PDF（如图所示为一条直线）由两个参数定义，即下限（a）和上限（b），它们定义了可能值的范围。此范围内的所有值具有相同的发生概率，而范围外的值具有零概率。
- en: 'The PDF of the uniform distribution is given by the following formula:'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 均匀分布的 PDF 由以下公式给出：
- en: f(x) = { 1 _ b − a , if x ∈ [a, b]  0, otherwise
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: f(x) = { 1 _ b − a , if x ∈ [a, b]  0, otherwise
- en: 'The parameters of a uniform distribution are as follows:'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 均匀分布的参数如下：
- en: μ =  a + b _ 2
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: μ =  a + b _ 2
- en: σ 2 =  (b − a) 2 _ 12
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: σ 2 =  (b − a) 2 _ 12
- en: Let’s go through a similar exercise to analyze uniformly distributed random
    variables.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个类似的练习来分析均匀分布的随机变量。
- en: Exercise 10.10 – calculating probabilities with uniform distribution
  id: totrans-302
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习 10.10 – 使用均匀分布计算概率
- en: 'In this exercise, we will look at generating random samples, calculating probabilities,
    and plotting the PDF of a uniform distribution:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将探讨生成随机样本、计算概率和绘制均匀分布的 PDF：
- en: 'Generate a random sample of 10,000 data points from a uniform distribution
    with a lower bound (`a`) of `2` and an upper bound (`b`) of `10` using the `runif()`
    function:'
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `runif()` 函数从下限 (`a`) 为 `2` 和上限 (`b`) 为 `10` 的均匀分布中生成 10,000 个数据点的随机样本：
- en: '[PRE43]'
  id: totrans-305
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'Calculate the probability that a value selected from the uniform distribution
    is greater than `7` using the `punif()` function:'
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`punif()`函数计算从均匀分布中选出的值大于`7`的概率：
- en: '[PRE44]'
  id: totrans-307
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'Here, we use the `punif()` function to calculate the CDF between `a` and `threshold`.
    We can also approximate this probability using the empirical samples:'
  id: totrans-308
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们使用`punif()`函数计算`a`和`threshold`之间的CDF。我们也可以使用经验样本来近似这个概率：
- en: '[PRE45]'
  id: totrans-309
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE45]'
- en: We can see that the approximation is quite close, and it will be even closer
    when the sample size gets larger.
  id: totrans-310
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们可以看到，近似相当接近，并且当样本量增大时，它将更加接近。
- en: 'Plot its PDF using `ggplot()`:'
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`ggplot()`绘制其PDF：
- en: '[PRE46]'
  id: totrans-312
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'Here, we build a sequence of placeholders on the *x* axis. Then, we obtain
    the corresponding densities and combine them into a DataFrame for plotting. Running
    this code generates *Figure 10**.14*:'
  id: totrans-313
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们在*x*轴上构建一系列占位符。然后，我们获得相应的密度并将它们组合成一个DataFrame进行绘图。运行此代码生成*图10.14*：
- en: '![Figure 10.14 – Visualizing the PDF of a uniform distribution](img/B18680_10_014.jpg)'
  id: totrans-314
  prefs: []
  type: TYPE_IMG
  zh: '![图10.14 – 绘制均匀分布的PDF](img/B18680_10_014.jpg)'
- en: Figure 10.14 – Visualizing the PDF of a uniform distribution
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.14 – 绘制均匀分布的PDF
- en: Uniform distribution can be used to generate normally distributed random samples.
    Let’s look at how this can be done.
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 均匀分布可以用来生成正态分布的随机样本。让我们看看这是如何实现的。
- en: Generating normally distributed random samples
  id: totrans-317
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 生成正态分布的随机样本
- en: So far, we have learned how to sample from a Gaussian distribution using the
    `rnorm()` function. It helps to look at how these random samples are generated
    under the hood. This specific technique is known as the inverse transform method,
    which relies on the inverse CDF or quantile function of the target distribution
    (in this case, the normal distribution).
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经学习了如何使用`rnorm()`函数从高斯分布中采样。这有助于了解这些随机样本是如何在幕后生成的。这种特定的技术被称为逆变换法，它依赖于目标分布（在这种情况下，正态分布）的逆CDF或分位数函数。
- en: The process involves three steps. First, we will generate random samples from
    a uniform distribution, usually U(0,1), where all values between `0` and `1` are
    equally likely. Next, for each uniform random sample, we will locate the corresponding
    value in the target distribution using the inverse CDF (quantile function) of
    the standard normal distribution. Lastly, we will apply the scale-location transformation
    to convert the standard normal random sample into a random sample from the target
    normal distribution.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 此过程涉及三个步骤。首先，我们将从均匀分布中生成随机样本，通常是U(0,1)，其中`0`和`1`之间的所有值都是等可能的。接下来，对于每个均匀随机样本，我们将使用标准正态分布的逆CDF（分位数函数）在目标分布中定位相应的值。最后，我们将应用缩放-定位变换将标准正态随机样本转换为目标正态分布的随机样本。
- en: This method relies on the property that the CDF of a continuous random variable
    is a function that maps the sample space (the domain of the PDF) to the range
    of [`0`, `1`]. The inverse CDF is the inverse of the CDF and maps the interval,
    [0, 1], back to the sample space. By passing the uniform random samples into the
    inverse CDF, we reverse the mapping and obtain random samples that follow the
    target distribution, subject to additional transformation.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法依赖于连续随机变量的CDF是一个将样本空间（PDF的定义域）映射到[0, 1]范围的函数。逆CDF是CDF的逆函数，将区间[0, 1]映射回样本空间。通过将均匀随机样本传递给逆CDF，我们反转映射并得到遵循目标分布的随机样本，前提是进行额外的变换。
- en: Let’s look at this process in greater detail. Suppose we want to sample from
    a normal distribution, N(μ, σ 2). How do we generate random samples from this
    particular distribution? One approach is to generate a random sample, x, from
    a standard normal distribution N(0,1), and then apply the scale-location transformation
    to obtain the final sample, σx + μ. By scaling the sample based on σ, followed
    by adding μ, the resulting sample will follow a normal distribution with mean,
    μ, and variance, σ 2.
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地看看这个过程。假设我们想要从正态分布N(μ, σ²)中采样。我们如何从这个特定的分布中生成随机样本？一种方法是从标准正态分布N(0,1)中生成一个随机样本x，然后应用缩放-定位变换以获得最终的样本σx
    + μ。通过基于σ缩放样本，然后加上μ，得到的样本将遵循具有均值μ和方差σ²的正态分布。
- en: The first step of sampling from a standard normal distribution is the key, whereas
    the second step is a simple and deterministic transformation. The approach we
    introduced earlier is to transform a uniformly distributed variable using the
    inverse CDF of a standard normal distribution. For example, if U is uniformly
    distributed on [0,1], then Φ −1(U) follows N(0,1), where Φ −1 is the inverse of
    the cumulative function of a standard normal distribution.
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 从标准正态分布中采样的第一步是关键，而第二步是一个简单且确定的变换。我们之前介绍的方法是使用标准正态分布的逆CDF将均匀分布的变量进行变换。例如，如果U在[0,1]区间上均匀分布，那么Φ −1(U)遵循N(0,1)，其中Φ −1是标准正态分布累积函数的逆。
- en: 'An illustrative example is shown in *Figure 10**.15*. First, we sample a random
    point from the uniform distribution on [0,1]. Next, we use the inverse CDF of
    the standard normal distribution to obtain the corresponding sample in the CDF
    space, given the fact that the CDF monotonically maps an arbitrary input value
    to an output on [0,1]. Mathematically, the random sample of the standard normal
    is given by x = Φ −1(U). Considering the one-to-one mapping relationship between
    the PDF and the CDF of the standard normal, we could obtain the same input, x,
    in the PDF space as well. We would also expect most of the samples to be centered
    around the mean. Finally, we apply the scale-location transformation to convert
    to the random sample of the normal distribution with the desired mean and variance:'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 一个说明性的例子在*图10**.15*中展示。首先，我们从[0,1]区间上的均匀分布中随机采样一个点。接下来，我们使用标准正态分布的逆累积分布函数（CDF）来获得CDF空间中的对应样本，考虑到CDF单调地将任意输入值映射到[0,1]区间的输出。从数学上讲，标准正态分布的随机样本由
    x = Φ −1(U) 给出。考虑到标准正态分布的PDF和CDF之间的一一映射关系，我们也可以在PDF空间中获得相同的输入，x。我们还会期望大多数样本都集中在均值附近。最后，我们应用尺度-位置变换来转换为具有所需均值和方差的正态分布的随机样本：
- en: '![Figure 10.15 – Obtaining a random sample from the desired univariate Gaussian
    distribution](img/B18680_10_015.jpg)'
  id: totrans-324
  prefs: []
  type: TYPE_IMG
  zh: '![图10.15 – 从所需的单变量高斯分布中获得随机样本](img/B18680_10_015.jpg)'
- en: Figure 10.15 – Obtaining a random sample from the desired univariate Gaussian
    distribution
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.15 – 从所需的单变量高斯分布中获得随机样本
- en: 'Let’s look at a concrete example of generating normally distributed random
    samples using the inverse transform method. In the following code snippet, we
    first set the seed for reproducibility and define the parameters of the target
    normal distribution. We then generate 5 samples while following the uniform distribution
    between 0 and 1\. Finally, we calculate the corresponding quantiles for the uniform
    sample using the inverse CDF (the quantile function, `qnorm()`) of the normal
    distribution:'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个具体的例子来看如何使用逆变换方法生成正态分布的随机样本。在下面的代码片段中，我们首先设置种子以实现可重复性，并定义目标正态分布的参数。然后，我们在0和1之间遵循均匀分布生成5个样本。最后，我们使用正态分布的逆CDF（分位数函数，`qnorm()`）计算均匀样本的对应分位数：
- en: '[PRE47]'
  id: totrans-327
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'We can also apply the scale-location transformation to obtain the same random
    samples, as shown in the following code snippet:'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 我们也可以应用尺度-位置变换来获得相同的随机样本，如下面的代码片段所示：
- en: '[PRE48]'
  id: totrans-329
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: The next section covers sampling distributions.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个部分将涵盖采样分布。
- en: Understanding common sampling distributions
  id: totrans-331
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解常见的采样分布
- en: A sampling distribution is a probability distribution of a sample statistic
    based on many samples drawn from a population. In other words, it is the distribution
    of a particular statistic (such as the mean, median, or proportion) calculated
    from many sets of samples from the same population, where each set has the same
    size. There are two things to take note of here. First, the sampling distribution
    is not about the random samples drawn from the PDF. Instead, it is a distribution
    that’s made from an aggregate statistic, which comes from another distribution
    drawn from the PDF. Second, we would need to sample from the PDF in multiple rounds
    to create the sampling distribution, where each round consists of multiple samples
    from the PDF.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 采样分布是基于从总体中抽取的许多样本的样本统计量的概率分布。换句话说，它是从同一总体的多个样本集中计算出的特定统计量（如均值、中位数或比例）的分布，其中每个集合的大小相同。这里有两点需要注意。首先，采样分布不是关于从PDF中抽取的随机样本。相反，它是由来自另一个分布的聚合统计量构成的分布，该分布是从PDF中抽取的。其次，我们需要在多个回合中从PDF中采样以创建采样分布，其中每个回合包括从PDF中抽取的多个样本。
- en: Let’s look at an exercise in R to illustrate the concept of the sampling distribution
    using the sample mean as the statistic of interest. We will generate samples from
    a population whose distribution is given and calculate the sample means. Then,
    we will create a histogram of the sample means to visualize the sampling distribution
    of the sample mean.
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过R中的练习来展示使用样本均值作为感兴趣统计量的抽样分布的概念。我们将从给定分布的总体中生成样本，并计算样本均值。然后，我们将创建样本均值的直方图来可视化样本均值的抽样分布。
- en: Exercise 10.11 – generating a sampling distribution
  id: totrans-334
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习10.11 – 生成抽样分布
- en: 'In this exercise, we will first generate a population of samples from a normal
    distribution. We will then sample from this population in multiple rounds, with
    each round consisting of multiple samples. Finally, we will extract the mean of
    each round of samples and plot them together in a histogram:'
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们首先从正态分布生成一个样本总体。然后，我们将从该总体中多次抽取样本，每次抽取包含多个样本。最后，我们将提取每轮样本的均值并将它们一起绘制在直方图中：
- en: 'Generate 100,000 samples from N(50,10). Check the summary of the samples using
    `summary()`:'
  id: totrans-336
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从N(50,10)生成100,000个样本。使用`summary()`检查样本的摘要：
- en: '[PRE49]'
  id: totrans-337
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'Define a function to sample 50 numbers from the previous population and return
    the mean of the samples:'
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义一个函数，从之前的总体中抽取50个数字并返回样本的平均值：
- en: '[PRE50]'
  id: totrans-339
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'Here, we use the `sample()` function to sample 50 numbers from the population
    of samples created earlier without replacement. We can test out this function
    and observe a different return in each run, which is also close to the population
    mean of `50`:'
  id: totrans-340
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们使用`sample()`函数从之前创建的样本总体中抽取50个数字，不进行替换。我们可以测试这个函数，并观察到每次运行都会得到不同的返回值，这些值也接近于总体均值`50`：
- en: '[PRE51]'
  id: totrans-341
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'Repeat this function for a total of 1,000 times to obtain a corresponding set
    of 1,000 sample means:'
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将此函数重复1,000次以获得相应的1,000个样本均值：
- en: '[PRE52]'
  id: totrans-343
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE52]'
- en: Here, we use the `replicate()` function to apply the `get_sample_mean()` function
    repeatedly for a specified number of times. It is often used in simulations, resampling
    methods, or any situation where you need to perform the same operation multiple
    times and collect the results.
  id: totrans-344
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们使用`replicate()`函数重复应用`get_sample_mean()`函数指定次数。它常用于模拟、重抽样方法或任何需要多次执行相同操作并收集结果的情况。
- en: The result shows a sample mean from the sampling distribution that is very close
    to the population mean.
  id: totrans-345
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 结果显示，样本均值从抽样分布中得到的值非常接近总体均值。
- en: 'Visualize the sampling distribution of the sample mean using a histogram:'
  id: totrans-346
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用直方图可视化样本均值的抽样分布：
- en: '[PRE53]'
  id: totrans-347
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'Running this code generates *Figure 10**.16*:'
  id: totrans-348
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 运行此代码生成*图10.16*：
- en: '![Figure 10.16 – Visualizing the sampling distribution of the sample mean in
    a histogram](img/B18680_10_016.jpg)'
  id: totrans-349
  prefs: []
  type: TYPE_IMG
  zh: '![图10.16 – 使用直方图可视化样本均值的抽样分布](img/B18680_10_016.jpg)'
- en: Figure 10.16 – Visualizing the sampling distribution of the sample mean in a
    histogram
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.16 – 使用直方图可视化样本均值的抽样分布
- en: In the next section, we’ll introduce common sampling distributions that are
    used in statistical estimation and hypothesis testing.
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将介绍在统计估计和假设检验中常用的抽样分布。
- en: Common sampling distributions
  id: totrans-352
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 常见的抽样分布
- en: 'Several common sampling distributions are widely used in statistical inference.
    These distributions arise from the properties of different statistics calculated
    from random samples drawn from a population. Some of the most important sampling
    distributions include the following:'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 几种常见的抽样分布广泛应用于统计推断。这些分布源于从总体中抽取的随机样本计算出的不同统计量的特性。以下是一些最重要的抽样分布：
- en: '`n > 30`), the sampling distribution of the sample mean approaches a normal
    distribution, even if the original population distribution is not necessarily
    normal. This property allows us to use the normal distribution to make inferences
    for the sample mean, such as hypothesis testing and confidence interval construction.'
  id: totrans-354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当`n > 30`时，样本均值的抽样分布趋近于正态分布，即使原始的总体分布不一定呈正态分布。这一特性允许我们使用正态分布对样本均值进行推断，例如假设检验和置信区间构建。
- en: '**Sampling distribution of the sample proportion**: The distribution of the
    sample proportion (the proportion of successes in a group of samples) in a large
    number of independent Bernoulli trials (binary outcomes) follows a normal distribution,
    given a sufficiently large sample size and a success probability not too close
    to 0 or 1\. In this case, the mean stays the same and the standard deviation is
    a transformed population proportion, adjusted by the sample size. In particular,
    under certain conditions (np > 10 and n(1 − p) > 10 based on our previous introduction
    on approximating the binomial distribution via normal distribution), the sampling
    distribution of the sample proportion can be approximated by a normal distribution
    with the same mean and a standard deviation given by σ = √ _ p(1 − p) / n .'
  id: totrans-355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**样本比例的抽样分布**：在大量独立的伯努利试验（二元结果）中，样本比例（样本组中成功的比例）的分布遵循正态分布，前提是样本量足够大，成功概率不太接近0或1。在这种情况下，均值保持不变，标准差是经过样本量调整的转换后的总体比例。特别是，在一定的条件下（np
    > 10和n(1 − p) > 10，基于我们之前关于通过正态分布近似二项分布的介绍），样本比例的抽样分布可以近似为具有相同均值和标准差σ = √p(1 −
    p) / n的正态分布。'
- en: '**t-distribution**: The **t-distribution** is also called the **Student’s t-distribution**.
    It is used when estimating the population mean from a small sample (typically
    n<30) drawn from a normal population, whose standard deviation is not provided.
    The t-distribution is similar in shape to the normal distribution but has a thicker
    tail, with the exact shape determined by the degree of freedom (*df*), which is
    typically equal to n − 1\. The t-distribution can be used to calculate the t-scores,
    which are used in hypothesis testing and confidence interval construction when
    the population standard deviation is not provided.'
  id: totrans-356
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**t分布**：**t分布**也称为**学生t分布**。当从正态分布的总体中抽取小样本（通常n<30）估计总体均值，且未提供标准差时使用。t分布的形状与正态分布相似，但尾部更厚，其确切形状由自由度（*df*）决定，通常等于n
    − 1。t分布可用于计算t分数，当未提供总体标准差时，t分数用于假设检验和置信区间构建。'
- en: '**Chi-square distribution**: The **chi-square distribution** is used in hypothesis
    testing and the construction of confidence intervals for the population variance.
    It can also be used to test independence in contingency tables. It is a family
    of right-skewed distributions defined by a single parameter, the degree of freedom.
    In the context of hypothesis testing for the population variance, the test statistic
    assumes a chi-square distribution with n − 1 degrees of freedom. In the context
    of contingency tables, the test statistic follows a chi-square distribution with
    (r − 1)(c − 1) degrees of freedom, where r denotes the number of rows and c denotes
    the number of columns in the table.'
  id: totrans-357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**卡方分布**：**卡方分布**用于假设检验和构建总体方差的置信区间。它还可以用于检验列联表的独立性。它是一族由自由度定义的右偏分布。在检验总体方差的假设检验背景下，检验统计量假设具有n
    − 1个自由度的卡方分布。在列联表的背景下，检验统计量遵循具有(r − 1)(c − 1)个自由度的卡方分布，其中r表示表中的行数，c表示列数。'
- en: '**F-distribution**: The **F-distribution** is used in the **analysis of variance**
    (**ANOVA**) to test the null hypothesis that the means of multiple groups are
    equal. It is a family of right-skewed distributions that are defined by two parameters,
    the *df* for the numerator (*df1*) and the denominator (*df2*). For example, in
    the context of one-way ANOVA, the test statistic follows an F-distribution with
    *df1=k - 1* and *df2=N -* *k*.'
  id: totrans-358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**F分布**：**F分布**用于方差分析（ANOVA）中检验多个组均值相等的零假设。它是一族右偏分布，由两个参数定义，分子（*df1*）和分母（*df2*）的自由度。例如，在一元方差分析（ANOVA）的背景下，检验统计量遵循具有*df1=k
    - 1*和*df2=N - k*的F分布。'
- en: Overall, these sampling distributions are important tools in various inferential
    procedures, such as making statistical inferences about the parameters of the
    population distribution based on sample data via hypothesis testing or constructing
    confidence intervals. The four types of sampling distributions are also a subset
    of a bigger list in the playbook of statistical inferences, each looking at different
    assumptions, sample statistics, and inference procedures.
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 总体而言，这些抽样分布是各种推断过程的重要工具，例如，通过假设检验或构建置信区间，基于样本数据对总体分布的参数进行统计推断。四种类型的抽样分布也是统计推断策略中的更大列表的一个子集，每个都考察不同的假设、样本统计量和推断程序。
- en: Let’s look at an exercise on constructing the confidence interval for the population
    mean using the t-distribution.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看一个关于使用t分布构建总体均值置信区间的练习。
- en: Exercise 10.12 – estimating the population mean using the t-distribution
  id: totrans-361
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习10.12 – 使用t分布估计总体均值
- en: 'In this exercise, we will use a small sample to estimate the population mean
    and construct the confidence interval of the estimate using the t-distribution
    in R:'
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将使用一个小样本来估计总体均值，并使用R中的t分布构建估计的置信区间：
- en: 'Generate 10 samples from a normal distribution, N(50,10), using the `rnorm()`
    function:'
  id: totrans-363
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`rnorm()`函数从正态分布N(50,10)中生成10个样本：
- en: '[PRE54]'
  id: totrans-364
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'Calculate the sample mean and standard deviation:'
  id: totrans-365
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算样本均值和标准差：
- en: '[PRE55]'
  id: totrans-366
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE55]'
- en: We will now use the sample mean and standard deviation to estimate the population
    mean.
  id: totrans-367
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在，我们将使用样本均值和标准差来估计总体均值。
- en: 'Calculate the 95% confidence interval using the t-distribution:'
  id: totrans-368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用t分布计算95%置信区间：
- en: '[PRE56]'
  id: totrans-369
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE56]'
- en: Here, we use the `qt()` function to find the critical t-value corresponding
    to a two-tailed test with a significance level of `0.05` and degrees of freedom,
    n − 1\. Then, we calculate the margin of error by multiplying the critical t-value
    by the standard error of the sample mean (note that we need to divide by the square
    root of sample size) and construct the confidence interval by adding and subtracting
    the margin of error from the sample mean.
  id: totrans-370
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们使用`qt()`函数找到对应于显著性水平为`0.05`和自由度n - 1的双尾检验的临界t值。然后，我们通过将临界t值乘以样本均值的标准误差（注意我们需要除以样本大小的平方根）来计算误差范围，并通过从样本均值中加减误差范围来构建置信区间。
- en: We will introduce constructing the confidence interval around a sample estimate
    in more detail in the next chapter. For now, it suffices to understand how a sampling
    distribution could be derived and used to produce estimates about the profile
    of the population.
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在下一章更详细地介绍围绕样本估计构建置信区间的过程。目前，只需了解如何推导和利用抽样分布来产生关于总体分布特征的估计即可。
- en: 'The next section covers another interesting and important topic: order statistics.'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 下一节将介绍另一个有趣且重要的主题：顺序统计量。
- en: Understanding order statistics
  id: totrans-373
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解顺序统计量
- en: '**Order statistics** are the values of a collection of samples when arranged
    in ascending or descending order. These ordered samples provide useful information
    about the distribution and characteristics of the sampled data. Usually, the k th
    order statistic is the k th smallest value in the sorted sample.'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: '**顺序统计量**是在将样本按升序或降序排列后，样本集合中的值。这些有序样本提供了有关样本数据分布和特征的有用信息。通常，第k个顺序统计量是排序样本中的第k个最小值。'
- en: For example, for a collection of samples of size n, the order statistics are
    denoted as X 1, X 2, … , X n, where X 1 is the smallest value (the minimum), X n
    is the largest value (the maximum), and X k represents the k th smallest value
    in the sorted sample.
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，对于大小为n的样本集合，顺序统计量表示为X1, X2, … , Xn，其中X1是最小值（最小值），Xn是最大值（最大值），而Xk代表排序样本中的第k个最小值。
- en: Let’s look at how to extract order statistics in R.
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何在R中提取顺序统计量。
- en: Extracting order statistics
  id: totrans-377
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 提取顺序统计量
- en: Extracting the order statistics of a collection of samples could involve two
    types of tasks. We may be interested in collecting samples in an ordered fashion,
    which can be achieved using the `sort()` function. Alternatively, we may be interested
    in extracting a specific order statistic from the ordered collection of samples,
    such as finding the third-largest sample in the collection or calculating a particular
    quantile of the collection.
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 从样本集合中提取顺序统计量可能涉及两种类型的任务。我们可能对以有序方式收集样本感兴趣，这可以通过使用`sort()`函数实现。或者，我们可能对从有序样本集合中提取特定的顺序统计量感兴趣，例如找到集合中的第三个最大样本或计算集合的特定分位数。
- en: Let’s look at an example of such extraction in R.
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看在R中如何进行此类提取的例子。
- en: Exercise 10.13 – extracting order statistics
  id: totrans-380
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习10.13 – 提取顺序统计量
- en: 'In this exercise, we will generate a collection of normally distributed random
    samples and look at sorting the samples and extracting particular order statistics
    from them:'
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将生成一组正态分布的随机样本，并查看对这些样本进行排序以及从中提取特定的顺序统计量：
- en: 'Generate 10 random samples from a normal distribution with a mean of `50` and
    a standard deviation of `10`:'
  id: totrans-382
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从均值为`50`和标准差为`10`的正态分布中生成10个随机样本：
- en: '[PRE57]'
  id: totrans-383
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'Sort them in ascending order using the `sort()` function:'
  id: totrans-384
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`sort()`函数按升序排序：
- en: '[PRE58]'
  id: totrans-385
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'We can see that these samples are now ordered in ascending order. We can switch
    to descending order by setting `decreasing = T` in the `sort()` function:'
  id: totrans-386
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们可以看到，这些样本现在是按升序排列的。我们可以通过在`sort()`函数中设置`decreasing = T`来切换到降序：
- en: '[PRE59]'
  id: totrans-387
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'Find the minimum value (first order statistic):'
  id: totrans-388
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 找到最小值（第一阶统计量）：
- en: '[PRE60]'
  id: totrans-389
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE60]'
- en: 'Find the maximum value (last order statistic):'
  id: totrans-390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 找到最大值（最后一个顺序统计量）：
- en: '[PRE61]'
  id: totrans-391
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE61]'
- en: Here, we obtain the index of the last entry using the length of the collection
    of samples.
  id: totrans-392
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这里，我们使用样本集合的长度来获取最后一个条目的索引。
- en: 'Find the third order statistic (that is, `k =` `3`):'
  id: totrans-393
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 找到第三阶统计量（即`k =` `3`）：
- en: '[PRE62]'
  id: totrans-394
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'Calculate the median (50th percentile):'
  id: totrans-395
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算中位数（50百分位数）：
- en: '[PRE63]'
  id: totrans-396
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'Note that the median (or any other order statistics) stays the same in the
    raw samples or the sorted samples:'
  id: totrans-397
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，中位数（或任何其他顺序统计量）在原始样本或排序后的样本中保持不变：
- en: '[PRE64]'
  id: totrans-398
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'Calculate the 25th and 75th percentiles (first and third quartiles) using the
    `quantile()` function:'
  id: totrans-399
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`quantile()`函数计算第25和第75百分位数（第一和第三四分位数）：
- en: '[PRE65]'
  id: totrans-400
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'Again, applying the same function to the ordered samples gives the same results:'
  id: totrans-401
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 再次，将相同的函数应用于有序样本会得到相同的结果：
- en: '[PRE66]'
  id: totrans-402
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'In the next section, we’ll cover a very important use of order statistics in
    finance: the value at risk.'
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将介绍顺序统计量在金融中的一个非常重要的用途：风险价值。
- en: Calculating the value at risk
  id: totrans-404
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 计算风险价值
- en: The **value at risk** (**VaR**) is a widely used risk management metric in finance
    that estimates the potential loss in a portfolio or investment over a specified
    period for a given confidence level, such as 95% or 99%. It is used to quantify
    the downside risk and allocate capital accordingly. Here, the confidence level
    represents the probability that the potential loss will not exceed the calculated
    VaR. A higher confidence level indicates a more conservative estimate of the risk.
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: '**风险价值**（**VaR**）是金融中广泛使用的风险管理指标，它估计在给定置信水平（如95%或99%）下，在指定期间内投资组合或投资的潜在损失。它用于量化下行风险并据此分配资本。在这里，置信水平表示潜在损失不会超过计算出的VaR的概率。更高的置信水平表示对风险的更保守估计。'
- en: There are different approaches to calculating the VaR. We are going to focus
    on the simplest approach – that is, using **historical simulation**. This method
    uses historical data to simulate potential losses. First, we must sort the historical
    returns in ascending order. The VaR is then calculated as the percentile of return
    corresponding to the specified confidence level. This is a simple and intuitive
    approach, although it assumes that the historical behavior of the returns is representative
    of the future.
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: 计算VaR有不同的方法。我们将关注最简单的方法——即使用**历史模拟**。这种方法使用历史数据来模拟潜在损失。首先，我们必须按升序排序历史回报。然后，VaR被计算为对应于指定置信水平的回报分位数。这是一个简单直观的方法，尽管它假设历史回报行为代表未来。
- en: Let’s go through an exercise to illustrate how to calculate the VaR.
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个练习来说明如何计算VaR。
- en: Exercise 10.14 – calculating the VaR
  id: totrans-408
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习10.14 – 计算VaR
- en: 'In this exercise, we will discuss how to calculate the VaR, a measure of the
    potential loss in the value of a portfolio over a specified period for a given
    confidence level:'
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将讨论如何计算VaR，这是在给定置信水平下，特定时期内投资组合价值潜在损失的一个度量：
- en: 'Generate daily returns in a year (252 trading days) from a normal distribution
    with a mean of `0.08` and a standard deviation of `0.05`:'
  id: totrans-410
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从均值为`0.08`和标准差为`0.05`的正态分布中生成一年的每日回报率（252个交易日）：
- en: '[PRE67]'
  id: totrans-411
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'We can check the summary of the daily returns as follows, which shows that
    the daily return could be as high as 20% and as low as -7%. This means that although
    the underlying asset is profitable on average (with an expected return of 8%),
    there is still a significant risk in terms of daily fluctuations. The VaR gives
    us a measure of how large the risk is in extreme situations:'
  id: totrans-412
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 我们可以如下检查每日回报率的摘要，它显示每日回报率可能高达20%，也可能低至-7%。这意味着尽管基础资产平均来说是有利可图的（预期回报率为8%），但在每日波动方面仍然存在显著风险。VaR为我们提供了一个衡量在极端情况下风险大小的度量：
- en: '[PRE68]'
  id: totrans-413
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'Calculate the VaR at the 95% confidence level for a total portfolio value of
    1 million USD:'
  id: totrans-414
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算总投资组合价值为100万美元时的95%置信水平VaR：
- en: '[PRE69]'
  id: totrans-415
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE69]'
- en: Here, we sort the daily returns in ascending order and store them in `sorted_returns`.
    Then, we obtain the index of the bottom 5% quantile in `VaR_index`, which is then
    used to retrieve the corresponding VaR of daily returns. Finally, we convert the
    percentage return into the loss in portfolio value in `VaR_amount`. Note that
    although the result is a negative number, we often report it as a positive number
    to indicate the potential loss (or even more) that could occur in an extreme situation.
  id: totrans-416
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们将每日回报率按升序排序，并存储在`sorted_returns`中。然后，我们在`VaR_index`中获取底部5%分位数的索引，然后使用它来检索相应的每日回报率VaR。最后，我们将百分比回报率转换为投资组合价值的损失`VaR_amount`。请注意，尽管结果是负数，但我们通常将其报告为正数，以表示在极端情况下可能发生的潜在损失（甚至更多）。
- en: 'Visualize the daily returns as a density plot and shade the area of the VaR:'
  id: totrans-417
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将每日回报率可视化为一个密度图，并阴影VaR区域：
- en: '[PRE70]'
  id: totrans-418
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE70]'
- en: Here, we first convert the daily returns into a DataFrame, which is used by
    `ggplot()` to plot a density curve using `geom_density()`. We also add a vertical
    line representing the VaR using `geom_vline()`. To shade the area below the VaR,
    we use `ggplot_build()` to filter the data and use `geom_ribbon()` to color the
    region that satisfies the filtering condition.
  id: totrans-419
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这里，我们首先将每日回报率转换为DataFrame，该DataFrame由`ggplot()`使用`geom_density()`绘制密度曲线。我们还添加了一条表示VaR的垂直线，使用`geom_vline()`。为了阴影VaR下方的区域，我们使用`ggplot_build()`来过滤数据，并使用`geom_ribbon()`来着色满足过滤条件的区域。
- en: 'Running this code generates *Figure 10**.17*:'
  id: totrans-420
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 运行此代码将生成**图10.17**：
- en: '![Figure 10.17 – Visualizing the daily returns and the VaR area](img/B18680_10_017.jpg)'
  id: totrans-421
  prefs: []
  type: TYPE_IMG
  zh: '![图10.17 – 可视化每日回报率和VaR区域](img/B18680_10_017.jpg)'
- en: Figure 10.17 – Visualizing the daily returns and the VaR area
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: 图10.17 – 可视化每日回报率和VaR区域
- en: Thus, we can quantify the VaR based on the empirical distribution of the observed
    daily returns.
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们可以根据观察到的每日回报率的经验分布来量化VaR。
- en: Summary
  id: totrans-424
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we covered common probability distributions. We started by
    introducing discrete probability distributions, including the Bernoulli distribution,
    the binomial distribution, the Poisson distribution, and the geometric distribution.
    We followed by covering common continuous probability distributions, including
    the normal distribution, the exponential distribution, and the uniform distribution.
    Next, we introduced common sampling distributions and their use in statistical
    inferences for population statistics. Finally, we covered order statistics and
    their use in calculating the VaR in the context of daily stock returns.
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们介绍了常见的概率分布。我们首先介绍了离散概率分布，包括伯努利分布、二项分布、泊松分布和几何分布。然后，我们介绍了常见的连续概率分布，包括正态分布、指数分布和均匀分布。接下来，我们介绍了常见的抽样分布及其在统计推断中对总体统计的应用。最后，我们介绍了顺序统计及其在每日股票回报率VaR计算中的应用。
- en: In the next chapter, we will cover statistical estimation procedures, including
    point estimation, the central limit theorem, and the confidence interval.
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将介绍统计估计程序，包括点估计、中心极限定理和置信区间。
