- en: '*Chapter 3*: Understanding and Defining Business Problems'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第三章*：理解和定义商业问题'
- en: This chapter covers topics that are the most critical for success and yet are
    not discussed in detail in data science programs or books. Although the topic
    of understanding and defining business problems is mentioned very briefly as something
    that should be done, it is very rare that the discussion will go into how to actually
    do it properly. In this chapter, we will go into specific tools and methods that
    can be used to gain an understanding of the system under consideration and determine
    the problem that needs to be solved.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章涵盖了成功最关键的话题，但在数据科学课程或书籍中并未详细讨论。尽管理解并定义商业问题的主题被简要提及为应该做的事情，但讨论很少深入到如何正确地去做。在本章中，我们将探讨可以用来理解所考虑的系统并确定需要解决的问题的具体工具和方法。
- en: This section is independent of DataRobot, as DataRobot cannot help you with
    this part of the process. This is something that a data analyst, a business analyst,
    or a data scientist has to do. Correctly defining a business problem is hard to
    do—it is not automatable, and it is also not done properly most of the time. If
    you gain this skill, you will become invaluable. This is a key area where there
    will always be a need for experienced data scientists (or whatever they are called
    in the future).
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这一节与DataRobot无关，因为DataRobot无法帮助你在这一过程中。这是数据分析师、业务分析师或数据科学家必须做的事情。正确定义商业问题很难做到——它无法自动化，而且大多数时候也没有得到妥善处理。如果你掌握了这项技能，你将变得无价。这是一个始终需要经验丰富的数据科学家（或未来他们被称为什么）的关键领域。
- en: By the end of this chapter, you will have learned about some of the core concepts
    and methods you need to know in order to ensure that you are solving the right
    problems. The rest of the book will explain how to solve those problems in the
    right way.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将了解一些核心概念和方法，这些是你确保解决正确问题的必要知识。本书的其余部分将解释如何以正确的方式解决这些问题。
- en: 'In the chapter, we''re going to cover the following main topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主要主题：
- en: Understanding the system context
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解系统上下文
- en: Understanding the *why* and the *how*
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解“为什么”和“如何”
- en: Getting to the root of the business problem
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 找到商业问题的根源
- en: Defining the **machine learning** (**ML**) problem
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义**机器学习**（**ML**）问题
- en: Determining predictions, actions, and consequences for Responsible **artificial
    intelligence** (**AI**)
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定负责任的**人工智能**（**AI**）的预测、行动和后果
- en: Operationalizing and generating value
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实施并产生价值
- en: Understanding the system context
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解系统上下文
- en: All problems arise within the context of a system. A system could be a single
    cell of an organism, a global population, or the entire economy. In the same way,
    all solutions need to fit into a system. A technological solution (for example,
    an AI solution) will typically require changes to processes, people, skills, other
    IT systems, or even the business model for it to be effective. For an organization,
    the system could be its entire supply chain, competitors, and customers. Given
    that a system's definition can be very broad, it is generally advisable that you
    imagine a system to be broader than the problems you are considering. You want
    all the components or agents that your problem touches to be part of the system
    context. Defining the system boundary is part art and part science, and it is
    an iterative process. Given that you will be looking at the system from a broader
    perspective, this also means that the same system context will be valid for multiple
    ML projects or use cases. The understanding you gain here will pay dividends across
    many projects.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 所有问题都源于系统的上下文。系统可能是一个生物体的单个细胞、全球人口或整个经济。同样，所有解决方案都需要适应系统。一个技术解决方案（例如，人工智能解决方案）通常需要改变流程、人员、技能、其他IT系统，甚至可能需要改变商业模式才能有效。对于一个组织来说，系统可能是其整个供应链、竞争对手和客户。鉴于系统的定义可能非常广泛，通常建议你想象系统比你所考虑的问题更广泛。你希望你的问题所触及的所有组成部分或代理都成为系统上下文的一部分。定义系统边界既是艺术又是科学，并且是一个迭代的过程。鉴于你将从更广泛的视角审视系统，这也意味着相同的系统上下文将适用于多个机器学习项目或用例。在这里获得的理解将在许多项目中带来回报。
- en: Data scientists or analysts who might have worked in an organization or industry
    would have intuitively learned many of the systemic aspects of the problem. They
    might feel that they do not need to look into this further as they already understand
    key issues. While that might be true, it is also true that people develop blind
    spots and start to overlook key missing pieces or carry implicit assumptions that
    are mostly correct but sometimes wrong. Using structured methods to capture systemic
    understanding helps overcome these problems and also ensures that everyone is
    working from a common understanding. These issues are typically ones leading to
    problems or delays in projects downstream. Let's look at how we build this understanding
    by creating a context diagram.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在组织或行业中工作过的数据科学家或分析师可能会本能地学习到许多问题的系统性方面。他们可能会觉得他们不需要进一步调查，因为他们已经理解了关键问题。虽然这可能是对的，但人们也会发展出盲点，开始忽视关键缺失的部分或携带隐含的假设，这些假设大多数情况下是正确的，但有时是错误的。使用结构化方法来捕捉系统性理解有助于克服这些问题，并确保每个人都从共同的理解出发。这些问题通常是导致项目下游出现问题或延误的问题。让我们通过创建环境图来了解我们如何构建这种理解。
- en: 'A context diagram is a high-level view of your system, showing key players
    and their interactions, as illustrated here:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 环境图是您系统的整体视图，展示了关键参与者和他们的互动，如图所示：
- en: '![Figure 3.1 – Context diagram'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.1 – 环境图'
- en: '](img/B17159_03_01.jpg)'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B17159_03_01.jpg]'
- en: Figure 3.1 – Context diagram
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.1 – 环境图
- en: The specific diagramming convention is not that important; what is more important
    is that you understand and document the components and understand how they interact.
    There are many diagramming conventions out there, so feel free to use the one
    you like. Make sure to capture three to five important instances of each topic
    in the diagram. The arrows need not be one-way.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 特定的绘图惯例并不那么重要；更重要的是，您需要理解和记录组件，并了解它们是如何相互作用的。现在有许多绘图惯例，所以请随意使用您喜欢的。确保在图中捕捉到每个主题的三到五个重要实例。箭头不必是单向的。
- en: 'As you look at this simple diagram, you will agree that we should know all
    of these things. As you try to build this diagram, you might be shocked to learn
    that finding and capturing this information is not that straightforward. Most
    people in an organization will have some notion of these things but might not
    be able to precisely specify the most important customers or **key performance
    indicators** (**KPIs**), and so on. In most organizations, it might take some
    time and discussion to put this together. Most of the components in the diagram
    are easy to understand but some are a bit confusing, so it''s worth discussing
    them a little bit, as follows:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 当您查看这个简单的图表时，您会同意我们应该知道所有这些信息。当您尝试构建这个图表时，您可能会惊讶地发现找到和捕捉这些信息并不那么简单。组织中的大多数人都会对这些事物有所了解，但可能无法精确地指定最重要的客户或**关键绩效指标**（**KPIs**）等。在大多数组织中，可能需要一些时间和讨论才能将这些内容整理出来。图中的大部分组件都很容易理解，但有些则有些令人困惑，因此值得稍作讨论，如下所述：
- en: '**Key objectives**: Key objectives are measurable metrics that let you determine
    whether you are achieving your goals in a timely fashion. These typically take
    the form of financial performance, market share, customer satisfaction, reputation,
    quality levels, and compliance. It is important to have precise and measurable
    definitions and alignment with the goals of the organization. These represent
    true value to an organization, and it is important to understand how your projects
    and models impact these.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**关键目标**：关键目标是可衡量的指标，让您能够确定您是否及时实现了目标。这些通常以财务表现、市场份额、客户满意度、声誉、质量水平和合规性等形式出现。拥有精确和可衡量的定义以及与组织目标的协调一致非常重要。这些对组织来说具有真正的价值，了解您的项目和模型如何影响这些因素也很重要。'
- en: '**External drivers/risks**: These are external factors or drivers that impact
    the key objectives but are not under your control. Notice that we are not discussing
    specific events, but changes in value of factors that might be considered events—for
    example, the factor might be **gross domestic product** (**GDP**) change. It is
    not in our control, and a value of -20% might indicate a financial crash. So,
    our driver in this case is GDP change as opposed to financial crash.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**外部驱动/风险**：这些是影响关键目标的外部因素或驱动因素，但不在您的控制之下。请注意，我们不是在讨论具体事件，而是在讨论可能被视为事件的因素的值的变化——例如，该因素可能是**国内生产总值**（**GDP**）的变化。这不在我们的控制之下，-20%的值可能表明金融危机。因此，我们在这个案例中的驱动因素是GDP变化，而不是金融危机。'
- en: '**Key decision levers**: These are also drivers that impact key objectives,
    but they are in our control. For example, the number of employees is a factor
    that is in our control (as we can decide how many to hire) and it will have an
    impact on outcomes. Other examples could be how much to invest in new technology
    or in marketing, and so on. These could be strategic decisions or choices, such
    as creating a new distribution channel, bundling products, and so on. Regardless
    of type, the important thing to remember is to make sure that the idea is captured
    in a precise way—for example, if a new distribution channel is a driver, you should
    know what the five actual choices are.'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**关键决策杠杆**：这些也是影响关键目标的因素，但它们在我们可控范围内。例如，员工数量是我们可控的因素（因为我们可以决定雇佣多少人）并且它将对结果产生影响。其他例子可能包括在新技术或市场营销上投入多少，等等。这些可能是战略决策或选择，例如创建新的分销渠道、捆绑产品等。无论类型如何，重要的是要确保想法以精确的方式被捕捉到——例如，如果新的分销渠道是一个驱动因素，你应该知道五个实际的选择是什么。'
- en: Note of caution
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 警告
- en: Please do not get trapped in philosophical debates. Quickly create the first
    iteration of your diagram and refine it in the future, as needed. It is OK to
    move forward with the first draft, as your analysis might inform and change the
    current thinking.
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 请不要陷入哲学争论。快速创建你的图表的第一版，并在需要时进行改进。在分析可能告知并改变当前思考的情况下，可以带着第一稿向前推进。
- en: As you may have guessed by now, the reason for highlighting these three items
    is that historic data about them will be critical for any data science project.
    You will also agree that data about these factors is critical for operational
    as well as strategic decisions, yet you might find that this data might not be
    easily available or might have quality issues. In addition, pay special attention
    to key knowledge stores. These will be the databases, data warehouses, data lakes,
    or filesystems that contain data for your organization. We will revisit these
    items again in the following sections.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 如你现在可能已经猜到的，强调这三项的原因是，关于它们的历史数据对于任何数据科学项目都将是关键的。你也会同意，这些因素的数据对于运营以及战略决策都是关键的，但你可能会发现这些数据可能不容易获得或可能存在质量问题。此外，特别关注关键知识库。这些将是包含你组织数据的数据库、数据仓库、数据湖或文件系统。我们将在接下来的章节中再次回顾这些项目。
- en: Now that we understand the context, we want to understand how our system operates
    and why it behaves a certain way. Both of these aspects are critical to understanding
    the system. In the next section, we will describe how to create that understanding.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经了解了背景，我们想要了解我们的系统是如何运作的以及为什么它以某种方式表现。这两个方面对于理解系统都是至关重要的。在下一节中，我们将描述如何创建这种理解。
- en: Understanding the why and the how
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解原因和方式
- en: 'The key to understanding a system''s function and its behavior lies in the
    following aspects:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 理解一个系统的功能和其行为的关键在于以下方面：
- en: '**Process**: How do objects and information flow through the system''s processes?'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**过程**：对象和信息是如何通过系统的流程流动的？'
- en: '**Interaction**: How do different entities or components of the system interact
    with each other?'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**交互**：不同的实体或系统的不同组成部分是如何相互作用的？'
- en: '**State**: How does the state of an entity evolve over time?'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**状态**：一个实体的状态是如何随时间演变的？'
- en: '**Causal**: What are the causal relationships?'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**因果关系**：有哪些因果关系？'
- en: Each of these aspects is represented via diagrams. There are many diagramming
    conventions for process modeling, causal modeling, and interaction diagrams. These
    conventions are used differently in different domains. You can follow any of the
    conventions that you like or are already familiar with. In this book, we will
    follow certain conventions that are amenable to computational modeling. What that
    means is that these diagrams can be combined with data and turned into models
    that can be used for analysis. This will become important in the later stages
    of our project. In-depth details of how to create these diagrams and turn them
    into computational models are beyond the scope of this book, but if you are interested
    you can seek out other sources to learn about these techniques. Even if you do
    not create computational models, these diagrams will provide useful insights that
    you will be able to use in your ML projects. It is possible that you have people
    in your organization that build—or have built—such diagrams. You should seek those
    people out and elicit their help in building these diagrams. Let's look at each
    of these aspects in more detail.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 这些方面中的每一个都通过图表来表示。有许多用于流程建模、因果建模和交互图的图表规范。这些规范在不同的领域中用途不同。你可以遵循你喜欢的或已经熟悉的任何规范。在这本书中，我们将遵循适合计算建模的某些规范。这意味着这些图表可以与数据结合，转化为可用于分析的模型。这将在我们项目的后期阶段变得很重要。如何创建这些图表并将它们转化为计算模型的深入细节超出了本书的范围，但如果你感兴趣，你可以寻找其他资源来学习这些技术。即使你不创建计算模型，这些图表也会提供有用的见解，你可以在你的机器学习项目中使用。可能你的组织中有人在构建——或者已经构建——这样的图表。你应该寻找这些人，并请他们在构建这些图表时提供帮助。让我们更详细地看看这些方面的每一个。
- en: Process diagrams
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 流程图
- en: 'In an organization''s operation, there are several functions that have well-defined
    processes. Objects, people, or information flow through these processes, as illustrated
    in the following diagram:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在组织的运营中，有几个具有明确定义流程的功能。对象、人员或信息通过这些流程流动，如下面的图所示：
- en: '![Figure 3.2 – Process diagram'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.2 – 流程图'
- en: '](img/B17159_03_02.jpg)'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.2 – 流程图](img/B17159_03_02.jpg)'
- en: Figure 3.2 – Process diagram
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.2 – 流程图
- en: Based on the system context, you already know the most important processes in
    an organization. You can start building diagrams for these key processes—or at
    the very least, the one that is relevant to your project. It is important to build
    end-to-end process flows—for example, the entire customer journey, or the entire
    development process for a product. It is also important to understand the process
    from a customer's viewpoint (gray boxes) and not just internal processes (white
    boxes). Make sure to capture failure points or rework paths, or where a process
    might end abruptly instead of normal completion. As entities flow through these
    processes, decisions or computations are made that could be candidate ML problems.
    Regardless of the project you are starting from, it is a good idea to identify
    other potential opportunities along the way. It may turn out that looking at the
    process differently or building a different ML model could provide larger benefit
    or might preempt a need for the current project. Whether or not that turns out
    to be the case, it is important to capture this information. By the way, did you
    notice in the preceding process diagram that the customer is not receiving a reject
    message? As you can imagine, this is an important part of the customer experience
    that is being left out. I am sure that error will be caught at some point, but
    making the process explicit increases the odds of catching it sooner and taking
    it into account as you are building your models.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 根据系统环境，你已经知道了组织中最重要的流程。你可以开始构建这些关键流程的图表——或者至少是与你项目相关的那个流程。构建端到端流程流是非常重要的——例如，整个客户旅程，或者一个产品的整个开发流程。同样重要的是要从客户的角度（灰色框）理解流程，而不仅仅是内部流程（白色框）。确保捕捉到故障点或返工路径，或者流程可能突然结束而不是正常完成的地方。当实体通过这些流程时，会做出决策或计算，这些可能是机器学习问题的候选者。无论你从哪个项目开始，沿途识别其他潜在的机会都是一个好主意。结果可能表明，以不同的方式看待流程或构建不同的机器学习模型可能会带来更大的利益，或者可能预防当前项目的需求。无论结果如何，捕捉这些信息都是重要的。顺便说一句，你注意到在先前的流程图中客户没有收到拒绝消息吗？正如你可以想象的那样，这是客户体验中一个被遗漏的重要部分。我相信错误会在某个时候被发现，但使流程明确会增加尽早发现并考虑它在构建模型时的机会。
- en: Besides building the diagram, it is important to capture data about the process.
    You will frequently run into situations where someone has already built a process
    diagram but did not capture any data. If you are reading this book, then I do
    not need to tell you how important collecting that data is for accurately understanding
    the process. Typical information to be captured is counts and types of objects
    flowing through each step, time taken at each step, labor hours and resources
    required at each step, probability of taking a specific path, quality metrics,
    and so on. If such information is not being captured for key processes, then it
    is important to start collecting this information as soon as possible. This information
    could be critical for building a business case for your project, serving as useful
    features in the model, and helping identify problems that might be otherwise hidden.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 除了构建图示之外，捕捉关于该过程的数据同样重要。你经常会遇到有人已经构建了流程图，但没有捕捉任何数据的情况。如果你正在阅读这本书，那么我不需要告诉你收集这些数据对于准确理解过程的重要性。需要捕捉的典型信息包括每个步骤中流动的物体数量和类型、每个步骤所需的时间、每个步骤所需的劳动力和资源、采取特定路径的概率、质量指标等等。如果关键流程没有捕捉到此类信息，那么尽快开始收集这些信息是很重要的。这些信息对于构建项目商业案例、作为模型中的有用特征以及帮助识别可能被隐藏的问题可能至关重要。
- en: It is important to note again that you do not want to get stuck in terminology
    debates, and instead quickly create a diagram that is sufficient to help you understand
    what happens in the process, as opposed to a very detailed view with every little
    nuance in it. It is OK to revisit this if a need arises to get into more details
    on some specific aspect of the process.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是再次指出，你不想陷入术语争论，而是快速创建一个图示，足以帮助你理解过程中发生的事情，而不是一个包含每一个细微差别的非常详细的视图。如果需要深入了解过程的某个特定方面，重新审视这是可以的。
- en: Actual processes are typically a little more complex than what we show in *Figure
    3.2* but not by much, and it is not uncommon to uncover things that are not known
    to many people outside the specific department where these tasks are done. In
    my experience, it is also not uncommon to find that no single person understands
    the entire process. The exercise can be valuable in itself by highlighting key
    problems but it is especially valuable to the data science team building models
    to automate some part of this process, yet I am surprised to see how many times
    data science teams build models without understanding the process.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 实际的流程通常比我们在*图3.2*中展示的要复杂一些，但并不太多，而且发现许多外部特定部门中这些任务完成的人不知道的事情并不罕见。在我的经验中，发现没有一个人理解整个流程的情况也并不罕见。这个练习本身就有价值，因为它可以突出关键问题，但对于构建模型以自动化流程某些部分的数据科学团队来说，尤其有价值，但我惊讶地看到数据科学团队在不了解流程的情况下构建了多少次模型。
- en: Interaction diagrams
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 交互图
- en: 'There are many interactions happening in a system that do not follow a fixed
    process. These interactions can happen in different orders and need to be kept
    flexible, and are best understood via interaction diagrams. Those of you with
    software development backgrounds are likely familiar with such diagrams that show
    interactions among software components or objects. In our case, we are interested
    in understanding interactions between key players in a system, as illustrated
    in the following diagram:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在一个系统中，有许多交互发生，这些交互并不遵循固定的流程。这些交互可以按不同的顺序发生，需要保持灵活性，并且最好通过交互图来理解。那些有软件开发背景的人可能熟悉这样的图示，它们展示了软件组件或对象之间的交互。在我们的案例中，我们感兴趣的是理解系统关键参与者之间的交互，如下面的图示所示：
- en: '![Figure 3.3 – Interaction diagram'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.3 – 交互图'
- en: '](img/B17159_03_03.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17159_03_03.jpg)'
- en: Figure 3.3 – Interaction diagram
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.3 – 交互图
- en: The diagram shows a marketplace where several competitors are selling their
    products. Customers come to this marketplace to purchase the products. The competitors
    spend money to advertise their products on various media channels, and set their
    prices. The consumers are influenced by the advertising, pricing, and word of
    mouth from other consumers. At any given time, many of these interactions are
    taking place, creating a complex and dynamic environment. If you are building
    a pricing model you have to take all of this into account, or your model will
    show great statistical fit to data but will prove ineffective during operation.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 图表显示了一个市场，其中几个竞争对手在销售他们的产品。客户来到这个市场购买产品。竞争对手在各个媒体渠道上花钱做广告，并设定他们的价格。消费者受到广告、定价和其他消费者口碑的影响。在任何给定时间，许多这些互动都在进行中，创造了一个复杂且动态的环境。如果你在构建定价模型，你必须考虑到所有这些因素，否则你的模型将对数据有很好的统计拟合，但在实际操作中却证明是无效的。
- en: Note that key players can be people, organizations, bots, marketplaces, fraudsters,
    and so on. The idea behind building this and other diagrams is to codify and make
    explicit what you know. This enables everyone to share a common view of the system
    and question assumptions or point out missing information. It is also important
    to make sure that you treat these diagrams as hypotheses that need to be tested
    with data. You have to continually ask whether the data supports what we are saying
    in these diagrams. If not, then maybe your assumptions need to be refined, or
    perhaps you have missing data or other data-quality problems. Perhaps the data
    collection is biased. I am sure you have heard stories about how biased data was
    used to make predictions that turned out to be totally wrong. Building a diagram
    is not a guarantee that you will catch biased data, but it does improve your odds
    of catching it.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，关键参与者可以是人、组织、机器人、市场、欺诈者等等。构建这个和其他图表背后的想法是将你所知道的内容编码化并使其明确化。这使每个人都能对系统有一个共同的认识，并质疑假设或指出缺失的信息。同样重要的是确保你将这些图表视为需要用数据来检验的假设。你必须不断地问自己，数据是否支持我们在这些图表中所说的内容。如果不是，那么可能需要细化你的假设，或者可能缺少数据或其他数据质量问题。也许数据收集存在偏差。我确信你听说过关于如何使用有偏差的数据做出预测，结果却完全错误的故事。构建图表并不能保证你将捕捉到有偏差的数据，但它确实提高了你捕捉到它的机会。
- en: State diagrams
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 状态图
- en: A state diagram captures the evolution of state of some important entity or
    actor in a system. Typical candidates are customers and products. As with other
    diagrams, you build these diagrams for only the important or critical actors in
    a system.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 状态图捕捉了系统中某些重要实体或演员的状态演变。典型的候选者包括客户和产品。与其他图表一样，你只为系统中的重要或关键演员构建这些图表。
- en: 'An example state diagram can be seen here:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 一个示例状态图如下所示：
- en: '![Figure 3.4 – State diagram'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.4 – 状态图'
- en: '](img/B17159_03_04.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17159_03_04.jpg)'
- en: Figure 3.4 – State diagram
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.4 – 状态图
- en: State diagrams are very similar in concept to **Markov chains** (this concept
    represents the probability of transitioning a system from one state to another
    state in such a way that the probability is fixed and not dependent on any previous
    history), except in a state diagram you do not have to assume that history does
    not matter. A state diagram is built for a specific agent. *Figure 3.4* shows
    a state diagram of a person progressing through various states over time. The
    arrows represent transitions from one state to another, and the person stays in
    a given state until they transition to the next state. The transition is typically
    assumed to be instantaneous. You can also think of the transitions in terms of
    transition probabilities (in which case, it starts resembling a Markov chain).
    The diagrams can be hierarchical in the sense that a state can be decomposed into
    sub-states, and those sub-states can be interconnected via transitions.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 状态图在概念上与**马尔可夫链**非常相似（这个概念表示系统从一个状态转换到另一个状态的概率，这种概率是固定的，并且不依赖于任何先前历史），但在状态图中，你不必假设历史不重要。状态图是为特定代理构建的。*图3.4*显示了一个人随时间推移通过各种状态的状态图。箭头代表从一个状态到另一个状态的转换，并且人在给定状态下停留，直到他们转换到下一个状态。转换通常被认为是瞬时的。你也可以从转换概率的角度来考虑转换（在这种情况下，它开始类似于马尔可夫链）。这些图表可以是分层的，从某种意义上说，一个状态可以被分解为子状态，而这些子状态可以通过转换相互连接。
- en: In addition to building a diagram, you want to understand what causes a transition
    to take place. Is it deterministic or is it random? You also want to collect data
    about how often and when these transitions take place as this data is very useful
    for further analysis, as well as for building ML models. Transitions of one actor
    might cause a transition in another actor's state, thus state diagrams are also
    connected to interaction diagrams. Each of the transitions is a potential candidate
    for an ML model, where you can use data to predict when a transition (and which
    one) might fire. As you can imagine, building these diagrams will lead to the
    identification of opportunities that might otherwise be missed.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 除了构建图之外，你还想了解是什么导致了转换的发生。它是确定性的还是随机的？你还想收集关于这些转换发生频率和时间的资料，因为这些数据对于进一步分析和构建机器学习模型非常有用。一个行为者的转换可能会引起另一个行为者状态的转换，因此状态图也与交互图相关联。每个转换都可能是一个机器学习模型的潜在候选者，你可以使用数据来预测何时（以及哪个）转换可能会触发。正如你可以想象的那样，构建这些图将导致识别出可能被遗漏的机会。
- en: Using these diagrams, you now have an understanding of how a system functions.
    We are now ready to look at what determines a system's behavior.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些图，你现在已经理解了系统是如何运作的。我们现在准备查看决定系统行为的是什么。
- en: Causal diagrams
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 因果图
- en: Causal diagrams intend to capture our understanding of cause-and-effect relationships
    present in a system. This understanding may or may not be correct. In fact, you
    might never be able to prove causation. Philosophical debates aside, you can greatly
    improve your understanding by using the methods outlined in this section, combined
    with data.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 因果图旨在捕捉我们对系统中存在的因果关系关系的理解。这种理解可能正确也可能不正确。事实上，你可能永远无法证明因果关系。抛开哲学辩论不谈，你可以通过使用本节中概述的方法，并结合数据，大大提高你的理解。
- en: 'An example causal diagram can be seen here:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 一个示例因果图可以在此处查看：
- en: '![Figure 3.5 – Causal diagram'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.5 – 因果图'
- en: '](img/B17159_03_05.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17159_03_05.jpg)'
- en: Figure 3.5 – Causal diagram
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.5 – 因果图
- en: The preceding diagram shows the relationships in a housing market (this is just
    an example—it doesn't show all the causal influences). It says that as interest
    rates go up, home sales decline. Home sales are also influenced by demand and
    prices. As prices go up, the rising prices can increase demand as more people
    want to buy homes to make money, but the price itself is a deterrent. You can
    see that there are opposing effects and feedback loops present in this simple
    diagram. No wonder the dynamics confound us, and this frequently leads to the
    system going haywire. Everyone thinks they understand how the housing market works,
    but real understanding is difficult to achieve in the presence of complex dynamics.
    Similar dynamics are at play in many business situations. It is easy to build
    an ML model to predict home prices, but it is much harder to understand the overall
    dynamics. This lack of understanding can lead to a situation where you are using
    excellent ML models to make bad decisions, hence building such models is critical
    for understanding the true nature of the problem you are trying to solve. Such
    diagrams are also useful for understanding and treating confounding variables
    and counterfactual analysis [Pearl].
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的图显示了房地产市场中的关系（这只是一个例子——它并没有显示所有因果关系）。它表明，随着利率上升，房屋销售会下降。房屋销售也受需求和价格的影响。随着价格上涨，价格上涨可以增加需求，因为更多的人想要买房来赚钱，但价格本身是一个障碍。你可以看到，在这个简单的图中存在相反的效果和反馈循环。难怪动态让我们困惑，这经常导致系统出现混乱。每个人都认为他们理解房地产市场是如何运作的，但在复杂的动态面前，真正的理解很难实现。许多商业情况中也存在类似的动态。构建一个预测房价的机器学习模型很容易，但理解整体动态要困难得多。这种缺乏理解可能导致你使用优秀的机器学习模型做出糟糕的决定，因此构建这样的模型对于理解你试图解决的问题的真实性质至关重要。这样的图对于理解和处理混杂变量以及反事实分析也非常有用
    [Pearl]。
- en: 'There is one more representation of causal models that comes from the discipline
    of system dynamics. This representation combines some ideas from the other diagrams
    with causal diagrams to create a view that can be very insightful and can be easily
    turned into a dynamic simulation model. System dynamics is a vast discipline in
    itself, and there are many good books and papers on the topic [Sterman]. Here,
    I will only introduce the notion and what it looks like, and how it can be useful.
    Here is an example system dynamics (also known as stock and flow) diagram:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 来自系统动力学学科的因果模型还有另一种表示方法。这种表示方法结合了其他图表的一些想法和因果图，以创建一个可以非常具有洞察力的视图，并且可以轻松地转换为动态模拟模型。系统动力学本身是一个庞大的学科，关于这个主题有许多优秀的书籍和论文[斯特曼]。在这里，我将只介绍这个概念及其外观，以及它如何有用。以下是一个系统动力学（也称为库存和流量）图的示例：
- en: '![Figure 3.6 – System dynamics (stock and flow) diagram'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.6 – 系统动力学（库存和流量）图'
- en: '](img/B17159_03_06.jpg)'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17159_03_06.jpg)'
- en: Figure 3.6 – System dynamics (stock and flow) diagram
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.6 – 系统动力学（库存和流量）图
- en: This diagram captures ideas from a state diagram, a process diagram, and a causal
    diagram into a composite view that can be very instructive. Imagine the journey
    of a product as it changes state, going from a *raw product* to a *shipped product*.
    Each box in this case represents the quantity of a product in a specific state—for
    example, the **Assembled Product** box represents all products that have been
    assembled and are now waiting to become *finished products*. This happens at a
    rate called the *finish rate*. The finish rate is dependent on how many assemblers
    are available to perform the work. You will also notice that some assembled products
    turn out to be defective. These products flow into the **Defective Product** box
    at a rate called the *defect rate*. These then have to be repaired by repairers.
    Because of defects, the shipping target is not met and there is a shortfall. This
    shortfall increases pressure on the employees, which increases burnout. The burnout
    in turn reduces the number of assemblers (they quit or get sick). Since the number
    of assemblers is reduced, this slows down the finish rate. This in turn increases
    the pressure and more people are shifted to become repairers, as repairs can be
    done faster. This leaves no one working as preventers and causes the vicious cycle
    to continue, with the process becoming more and more backlogged.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 这个图表将状态图、流程图和因果图的思想捕捉到一个综合的视图中，可以非常具有指导意义。想象一下产品从一个状态变化到另一个状态的过程，从*原始产品*变为*已发货产品*。在这个例子中，每个框代表特定状态下的产品数量——例如，**组装产品**框代表所有已经组装并等待成为*成品*的产品。这是在*完成率*的速率下发生的。完成率取决于有多少组装员可以完成这项工作。你还会注意到，一些组装产品出现了缺陷。这些产品以*缺陷率*的速率流入**缺陷产品**框。然后它们必须由维修人员修复。由于缺陷，无法达到发货目标，出现了短缺。这种短缺增加了对员工的压力，进而增加了倦怠。倦怠反过来又减少了组装员的人数（他们辞职或生病）。由于组装员人数减少，这减慢了完成率。这反过来又增加了压力，更多的人被转移到维修人员的位置，因为维修可以更快地完成。这导致没有人作为预防者工作，从而导致了恶性循环的持续，过程变得越来越积压。
- en: This dynamic plays out in many organizations and they wonder why they are always
    under pressure. Once the diagram is laid out, you can see the problem is that
    they are fixing symptoms as opposed to the root problem of defects. In this simple
    diagram it is easy to see, but in more complex situations you can run simulations
    of these diagrams to find the problem points. The diagram also helps to clarify
    the relationship between the processes, decisions, and business objectives. These
    diagrams can be simulated to understand the business impacts of decisions, as
    well as the impacts of deploying ML models. This is a great way to show the value
    of your efforts in a way that most people can easily understand.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 这种动态在很多组织中都会发生，他们想知道为什么他们总是处于压力之下。一旦图表被布置出来，你就可以看到问题在于他们只是在修复症状，而不是缺陷的根本问题。在这个简单的图表中很容易看出，但在更复杂的情况下，你可以对这些图表进行模拟以找到问题点。这个图表也有助于阐明过程、决策和商业目标之间的关系。这些图表可以模拟以了解决策的商业影响，以及部署机器学习模型的影响。这是展示你努力价值的一种很好的方式，大多数人都能轻松理解。
- en: Now, let's come back to ML. If this analysis is not done, then it is most likely
    that defect repair will get flagged as a problem, and it is likely you will be
    building a model to predict how many defects will be created or predict how many
    items will be shipped. You will build a great model, but that will not solve the
    problem. The key problem is to find which factors are causing the defects and
    how the defects can be reduced. This will require the manufacturing team to work
    closely with the data science team to find a solution. Again, the key point is
    that unless someone does this analysis, the data science team is likely to be
    solving the wrong problem. You might think that this doesn't happen often, but
    I contend that this happens a lot more than you might think because the true problem
    often stays hidden for a long time.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们回到机器学习。如果这个分析没有做，那么很可能是缺陷修复会被标记为问题，你很可能会构建一个模型来预测将产生多少缺陷或预测将发送多少物品。你会构建一个很好的模型，但这并不能解决问题。关键问题是要找到导致缺陷的因素以及如何减少缺陷。这需要制造团队与数据科学团队紧密合作以找到解决方案。再次强调，关键点是除非有人进行这种分析，否则数据科学团队很可能会解决错误的问题。你可能认为这种情况不常发生，但我认为这种情况发生的频率比你想象的要高得多，因为真正的问题往往隐藏很长时间。
- en: In general, it is best to treat each causal relationship you have drawn in these
    diagrams as a hypothesis. The diagram then represents a collection of hypotheses.
    There are statistical and simulation methods that can be used to validate these
    hypotheses. For this, you will need to start collecting data or start discovering
    where that data is stored. Now that we have learned about these diagrams, let's
    look at how we get to the root of the problem.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，最好将这些图中绘制的每个因果关系视为一个假设。然后，图表示了一系列假设。有统计和模拟方法可以用来验证这些假设。为此，你需要开始收集数据或开始发现数据存储的位置。现在我们已经了解了这些图，让我们看看我们如何找到问题的根源。
- en: Getting to the root of the business problem
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 解决业务问题的根源
- en: Some problems are easy to solve, while others prove to be much harder. One of
    the reasons this happens is that when a problem's symptoms appear somewhere else
    and after some delay, then it is very difficult to know where the problem really
    is. By definition, the symptoms are clearly visible—they are explicit and you
    can easily collect data about them. The underlying problem, on the other hand,
    is happening in some other department or building and is not visible because it
    is not causing immediate pain. Most likely, no data is being collected about the
    root problem, or it might be too hard to collect that data. Given the nature of
    ML, it is almost a given that all the data you are getting is about symptoms.
    If you are lucky, you might get some data about the root problem as well (although
    you will not know it).
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 一些问题容易解决，而另一些问题则证明要难得多。其中一个原因是，当一个问题的症状出现在其他地方并且经过一段时间之后，就很难知道问题真正在哪里。根据定义，症状是明显可见的——它们是明确的，你可以轻松收集关于它们的数据。另一方面，潜在的问题可能发生在某个其他部门或建筑中，因为它不会立即引起疼痛，所以是不可见的。很可能是没有收集关于根本问题的数据，或者收集这些数据可能过于困难。鉴于机器学习的特性，几乎可以肯定的是，你得到的所有数据都是关于症状的。如果你很幸运，你可能会得到一些关于根本问题的数据（尽管你不会知道它）。
- en: 'One of the ways to get started is by using an old method called *five whys*,
    which basically involves asking the question *Why?* five times to get to the root
    cause. Many times, there might be multiple causes at each level. So, in practical
    terms, many people use another diagram that is called a *fishbone diagram* to
    capture this information, as illustrated here:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 一种开始的方法是使用一种称为“五问法”的旧方法，它基本上涉及连续问五次“为什么？”以找到根本原因。很多时候，每个层次可能会有多个原因。因此，在实践中，许多人使用另一种称为“鱼骨图”的图来捕捉这些信息，如图所示：
- en: '![Figure 3.7 – Fishbone diagram'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.7 – 鱼骨图'
- en: '](img/B17159_03_07.jpg)'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '![img/B17159_03_07.jpg](img/B17159_03_07.jpg)'
- en: Figure 3.7 – Fishbone diagram
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.7 – 鱼骨图
- en: In the preceding fishbone example diagram, we are trying to understand why we
    have a software defect problem. As you ask *why* questions and capture the causes,
    you begin to add potential causes. You continue this process until you feel that
    you have captured the essence of the problem. As you can tell, this is partly
    a causal diagram and can be used as a starting point for building a causal model
    for your system while maintaining focus on a specific problem. Data can then be
    collected to confirm or reject the hypotheses. As you can see, this fishbone diagram
    will inform the system dynamics diagram we saw in *Figure 3.6*. The key point
    of the exercise is to understand the root cause and work on fixing this. I hope
    you are beginning to see that accurately predicting something is not always the
    same as fixing the real problem, and you have to be a bit careful about setting
    up your ML problem for your project to be successful. Also, notice that there
    might be multiple causes leading up to a problem and you might have to address
    multiple issues in order to see significant mitigation of the problem. On the
    other hand, addressing only one aspect (say, employee burnout) without understanding
    the full picture could lead you to conclude that burnout is not a problem. It
    is not uncommon in organizations to have reached wrong conclusions that then get
    incorporated into the myths of the organization—"*we already tried that, and it
    does not work.*"
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的鱼骨图示例中，我们试图理解为什么会出现软件缺陷问题。当你提出*为什么*的问题并捕捉到原因时，你开始添加潜在的原因。你继续这个过程，直到你觉得你已经捕捉到了问题的本质。正如你所见，这基本上是一个因果图，可以用作构建你系统因果模型的一个起点，同时保持对特定问题的关注。然后可以收集数据来证实或拒绝假设。正如你所见，这个鱼骨图将为我们看到的*图3.6*中的系统动态图提供信息。这个练习的关键点是理解根本原因并着手解决这个问题。我希望你开始意识到，准确预测某件事并不总是等同于解决实际问题，你必须对你的项目设置ML问题时要格外小心，以确保项目成功。此外，请注意，导致问题的可能原因可能有多个，你可能必须解决多个问题才能看到问题的显著缓解。另一方面，如果不了解全貌，只解决一个方面（比如员工倦怠）可能会导致你得出结论，认为倦怠不是一个问题。在组织中，得出错误的结论并将其纳入组织的神话——“*我们已经尝试过了，但这不起作用.*”并不罕见。
- en: Now that we have identified the business problem that needs to be tackled, let's
    look at how we turn it into an ML problem.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们已经确定了需要解决的商业问题，让我们看看如何将其转化为ML问题。
- en: Defining the ML problem
  id: totrans-82
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 定义ML问题
- en: 'Before we get into the details of ML, it is important to note that not all
    problems are appropriate to be solved with ML. For a problem to be a good candidate,
    it should have the following characteristics (we will focus only on **supervised
    learning** (**SL**) problems for now):'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们深入探讨ML的细节之前，重要的是要注意，并非所有问题都适合用ML来解决。一个问题要成为好的候选者，它应该具有以下特征（我们现在将只关注**监督学习**（**SL**）问题）：
- en: There is a clear target or label value that would be useful if an algorithm
    can predict it. In the absence of an algorithm this value remains unknown, requires
    a person's judgment, or requires substantial effort for it to be determined. Sometimes,
    the target will not be the actual variable of interest but a critical component
    of that calculation. This part is not always obvious, but the problem analysis
    you did in previous sections of this chapter will certainly help in clarifying
    which variable makes the best target.
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 存在一个明确的或标签值，如果算法可以预测它，将会很有用。在没有算法的情况下，这个值仍然是未知的，需要人的判断，或者需要大量努力才能确定。有时，目标可能不是感兴趣的变量本身，而是计算中的关键组成部分。这部分并不总是显而易见，但你在本章前面的部分所做的问题分析无疑将有助于阐明哪个变量是最好的目标。
- en: You have access to a large enough historical dataset that contains the values
    of the target or label you wish to predict. You will need to create a list of
    data sources that contain relevant data and start understanding the data that
    they contain.
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以访问一个足够大的历史数据集，其中包含你希望预测的目标或标签值。你需要创建一个包含相关数据的来源列表，并开始理解它们包含的数据。
- en: Determine which type of SL problem is best suited to your problem (regression,
    classification, or time series). Sometimes, you can cast one type of problem into
    another type.
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确定哪种类型的SL问题最适合你的问题（回归、分类或时间序列）。有时，你可以将一种类型的问题转化为另一种类型。
- en: There is typically a trade-off between accuracy, explainability, and understandability.
    It is important for you to consider what is more important for your business problem.
    In many situations, we are willing to sacrifice accuracy to improve understandability.
    This, in turn, determines which algorithms and which explanatory method you should
    select.
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通常在准确性、可解释性和可理解性之间有一个权衡。对于您的商业问题，考虑什么更重要是很重要的。在许多情况下，我们愿意牺牲准确性以提高可理解性。这反过来又决定了您应该选择哪些算法和解释方法。
- en: 'You will have to review your datasets and the business problem definition to
    see whether you can craft a specification such that the conditions listed previously
    are satisfied. In doing so, there are several transformations that might have
    to be performed, such as these:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要审查您的数据集和商业问题定义，以查看是否可以制定一个规范，以满足之前列出的条件。在这样做的时候，可能需要进行一些转换，例如这些：
- en: 'Transform the target such that it is more valuable as an output or better suited
    to solve the business problem. Take the following examples:'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将目标进行转换，使其作为输出更有价值或更适合解决商业问题。以下是一些示例：
- en: (a) If numeric target values are over a very large range of values or are distributed
    with a high skew, then you can try to log the target as a new target.
  id: totrans-90
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: (a) 如果目标数值范围非常大或者分布具有高度偏斜，那么您可以尝试将目标进行对数转换作为新的目标。
- en: (b) If the actual value is less important than a range, then you can create
    bins and use the binned values as targets.
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: (b) 如果实际值不如范围重要，那么您可以创建分箱，并使用分箱值作为目标。
- en: (c) Sometimes, a change in value or the rate of change makes for a better target.
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: (c) 有时，值的改变或变化率可以作为一个更好的目标。
- en: 'Create interaction features based on the causal diagrams. Take the following
    examples:'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于因果图创建交互特征。以下是一些示例：
- en: (a) Intermediate variables in the causal model that are not directly observed
    but can be computed by combining various other features.
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: (a) 因果模型中的中间变量，这些变量没有直接观察到，但可以通过组合其他各种特征来计算。
- en: (b) If your target is in log form, then it might make sense to create logs of
    various features.
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: (b) 如果您的目标是对数形式，那么创建各种特征的日志可能是有意义的。
- en: (c) Similarly, you might want to bin certain features if the bins have a special
    significance in the business problem.
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: (c) 类似地，如果某些特征在商业问题中具有特殊意义，您可能想要对这些特征进行分箱。
- en: (d) Explore whether creating rate-of-change features would be important for
    your model.
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: (d) 探索创建变化率特征对于您的模型是否重要。
- en: Identify missing data that showed up in the causal diagram but is not present
    in your dataset. Depending on the importance and how easy it is to get this, you
    might want to collect it before building the model. Another choice is to get the
    data collection process started in parallel with building the model with the data
    you already have. In the latter case, you can always revisit the model in the
    next iteration when you have collected the data.
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 识别在因果图中出现但不在您的数据集中存在的缺失数据。根据其重要性和获取的难易程度，您可能希望在构建模型之前收集这些数据。另一种选择是与使用您已有的数据进行模型构建并行启动数据收集过程。在后一种情况下，当您收集到数据时，您总是可以在下一次迭代中重新审视模型。
- en: 'In addition, you also have to think about how you will define and assess errors.
    Which metric will be best for the problem? We covered metrics in [*Chapter 2*](B17159_02_Final_NM_ePub.xhtml#_idTextAnchor039),
    *Machine Learning Basics*, and DataRobot automatically picks an appropriate metric
    for the problem. I have found the selections to be very good most of the time,
    so it is a good idea to go with the recommendation unless you have a good reason
    not to. In addition to metrics, you need to think about whether you care more
    about errors in a specific range versus some other range—for example, maybe you
    want to be more accurate in the high-value range of a feature versus the low-value
    range. In such cases, you can consider using this numeric feature (this has to
    be a non-target feature) as a weight for computing the error metrics. You can
    find this setting under **Advanced Options** in the **Additional** tab, as illustrated
    in the following screenshot:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您还必须考虑您将如何定义和评估错误。哪种指标最适合这个问题？我们在[*第 2 章*](B17159_02_Final_NM_ePub.xhtml#_idTextAnchor039)“机器学习基础”中介绍了指标，DataRobot
    会自动为问题选择一个合适的指标。我发现大多数时候选择都非常好，所以除非您有充分的理由不这样做，否则遵循推荐是一个好主意。除了指标之外，您还需要考虑您是否更关心特定范围内的错误，而不是其他范围的错误——例如，您可能希望在一个特征的较高价值范围内比在较低价值范围内更准确。在这种情况下，您可以考虑使用这个数值特征（这必须是一个非目标特征）作为计算错误指标的权重。您可以在**附加**选项卡下的**高级选项**中找到此设置，如下面的截图所示：
- en: '![Figure 3.8 – Additional options'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 3.8 – 其他选项'
- en: '](img/B17159_03_08.jpg)'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片 B17159_03_08.jpg](img/B17159_03_08.jpg)'
- en: Figure 3.8 – Additional options
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 图 3.8 – 其他选项
- en: The preceding screenshot shows the options for selecting a feature to be used
    as a weighting for the predictions. Note that this has to be set at the start
    of a project. Once the model building starts, you cannot change this setting.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 上述截图显示了选择用作预测权重的特征的选项。请注意，这必须在项目开始时设置。一旦模型构建开始，您就不能更改此设置。
- en: Once you have the ML problem defined, DataRobot comes into action to build the
    models. We will cover this in later chapters. For now, we want to discuss what
    happens when the models are built and are now able to generate predictions.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您定义了机器学习问题，DataRobot 就会开始构建模型。我们将在后面的章节中介绍这一点。现在，我们想要讨论当模型构建完成并且现在能够生成预测时会发生什么。
- en: Determining predictions, actions, and consequences for Responsible AI
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 确定预测、行动和后果以实现负责任的 AI
- en: After the model is built and deployed in DataRobot, it might seem that our job
    is done—but not so fast. You should start analyzing what the predictions profile
    looks like and start discussing with users and stakeholders the details of actions
    to be taken. The models you have helped build are likely to introduce many changes
    in your system and will impact other people. It is therefore important to try
    to make sure that these impacts are not negative. Making sure that your models
    will not cause harm is called Responsible AI. This will build upon the work you
    did during the understanding phase through various diagrams.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 在 DataRobot 中构建和部署模型后，可能看起来我们的工作已经完成——但并非如此。您应该开始分析预测配置文件的外观，并开始与用户和利益相关者讨论将要采取的行动的细节。您帮助构建的模型可能会在您的系统中引入许多变化，并影响其他人。因此，确保这些影响不是负面的非常重要。确保您的模型不会造成伤害被称为负责任的
    AI。这将建立在您在理解阶段通过各种图表所做的工作之上。
- en: Just as in previous sections we saw how a causal diagram helps you to relate
    features to a target, we can also see how the target affects other parts of the
    system. The diagram should reveal how the target impacts key objectives or outcomes;
    it should also reveal key feedback loops that will change the behavior of the
    rest of the system, as well as giving a hint of other consequences. This makes
    it relatively straightforward to understand and compute the **return on investment**
    (**ROI**) from your model. A common challenge expressed by data science teams
    is that they find it hard to express the impacts of a model. As you can now see,
    the work we put into understanding our system from a causal perspective also helps
    to determine the business impact of the model.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在前面的章节中看到的那样，因果图有助于您将特征与目标相关联，我们还可以看到目标如何影响系统的其他部分。该图应揭示目标如何影响关键目标或结果；它还应揭示将改变系统其余部分行为的关键反馈循环，以及给出其他后果的暗示。这使得理解并计算您模型的**投资回报率**（ROI）相对简单。数据科学团队表达的一个常见挑战是他们发现很难表达模型的影响。正如您现在所看到的，我们从因果角度理解我们的系统所投入的工作也有助于确定模型的企业影响。
- en: It is very common to see that most systems don't provide a free lunch—there
    are always trade-offs. Your actions might improve one objective but might hurt
    another. It is very important to understand these trade-offs and to ensure that
    your stakeholders understand them as well. It is very possible that even though
    the model will provide a positive ROI, it might cause performance to degrade in
    other areas, such that you might not want to go forward with it. Some of these
    consequences could be in the areas of regulatory or ethical issues. These areas
    are often overlooked, only to be discovered (painfully) at a later point in time.
    One of the key benefits of doing this analysis is to make sure you are catching
    any problems earlier.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 很常见的是，大多数系统并不提供免费的午餐——总是有权衡。你的行动可能会改善一个目标，但可能会损害另一个。理解这些权衡并确保你的利益相关者也理解它们非常重要。即使模型将提供正的投资回报率，它也可能在其他领域降低性能，以至于你可能不想继续进行。其中一些后果可能涉及监管或伦理问题。这些领域通常被忽视，直到后来（痛苦地）被发现。进行这种分析的关键好处之一是确保你能够尽早发现问题。
- en: 'Another mechanism that is often used is to simulate the system dynamics diagrams.
    This allows you to understand the dynamic behavior of your system and can serve
    as a virtual experiment. Virtual experiments or simulations let you test out different
    strategies in a safe environment before launching your models. Not only does this
    help you avoid costly mistakes—it can often also suggest improvements or strategies
    to further optimize the benefits. The reasons many data science projects do not
    succeed are that data science teams rarely do this, typically do not have the
    skills to do this analysis, and have historically not taken this part very seriously.
    Let''s look here at a simple example of an ML model in a system:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种经常使用的机制是模拟系统动态图。这让你能够理解你系统的动态行为，并可以作为虚拟实验。虚拟实验或模拟让你在发布模型之前在一个安全的环境中测试不同的策略。这不仅可以帮助你避免代价高昂的错误——它还经常可以提出改进或策略，以进一步优化收益。许多数据科学项目不成功的原因是，数据科学团队很少这样做，通常没有进行这种分析所需的技能，并且历史上并没有认真对待这一部分。让我们看看一个简单的系统中的ML模型示例：
- en: '![Figure 3.9 – Impact analysis'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '![图3.9 – 影响分析'
- en: '](img/B17159_03_09.jpg)'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B17159_03_09.jpg)'
- en: Figure 3.9 – Impact analysis
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.9 – 影响分析
- en: In this example, you have a price promotion model that uses some features to
    generate a promotion price. This model monitors the sales and updates the price
    accordingly. For some reason (database updates, approvals, and so on), there is
    a delay involved in updating these prices on the e-commerce site. This creates
    a lag in the sales data that is not known to the modeling team because the modeling
    team did not understand the entire flow and how much time it takes to update prices
    on the site. If you were to do an analysis of this simple diagram, you would discover
    that such feedback loops with delays produce oscillating behavior. This means
    that the pricing will always be off—sometimes higher and sometimes lower. This
    behavior is somewhat similar to what you see in most model results anyway, so
    it is entirely possible that this effect will be missed. The system will perform
    poorly even though the model itself was fine. I have kept this example very simple
    to make a point. You can imagine that if the situation were more complex, most
    people would not be able to see the problem on their own till it is too late.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，你有一个使用一些特征来生成促销价格的定价促销模型。该模型监控销售情况并根据情况更新价格。由于某些原因（数据库更新、审批等），在电子商务网站上更新这些价格存在延迟。这导致销售数据出现滞后，建模团队并不知道这一点，因为建模团队没有理解整个流程以及更新网站价格所需的时间。如果你对这个简单的图表进行分析，你会发现这种带有延迟的反馈循环会产生振荡行为。这意味着定价将始终不准确——有时会更高，有时会更低。这种行为与你在大多数模型结果中看到的行为有些相似，因此这种影响可能会被忽略。即使模型本身没有问题，系统表现也可能不佳。我保持这个例子非常简单，以便说明问题。你可以想象，如果情况更复杂，大多数人可能无法在问题变得太晚之前自己发现问题。
- en: On the flip side, you can also evaluate how much sales impact your model will
    make compared to the status quo. This is a great way to show ROI and the business
    value of your work. Since simulations based on these diagrams are a visual representation
    of your business, most people find it a lot easier to understand as compared to
    narratives or spreadsheets. This also helps in gaining acceptance of your ML models.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，你也可以评估你的模型与现状相比将产生多少销售影响。这是展示投资回报率和你的工作商业价值的好方法。由于基于这些图表的模拟是你们业务的视觉表示，大多数人发现它比叙述或电子表格更容易理解。这也帮助获得你ML模型的可接受度。
- en: While DataRobot does not help with many of these aspects, it does offer mechanisms
    to determine whether your model is biased along with any protected features and
    measure the amount of bias that exists in the model. This, combined with the preceding
    analysis, can go a long way to ensure that your models are not biased and that
    the results are not being used in a way that goes against your organization's
    values. Now that we are happy with the model's expected results, we can start
    the process of deployment.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然DataRobot不帮助解决这些方面的许多问题，但它确实提供了确定你的模型是否具有偏见以及任何受保护特征的机制，并测量模型中存在的偏见程度。这与前面的分析相结合，可以确保你的模型没有偏见，结果不会被用于违反你组织价值观的方式。现在我们对我们模型的预期结果感到满意，我们可以开始部署过程。
- en: Operationalizing and generating value
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 运营和产生价值
- en: 'Operationalizing a model in your infrastructure can be a complicated undertaking.
    There are some aspects of deployment that are made simple by DataRobot, but there
    are other parts of deployment that are outside the scope of DataRobot and can
    be quite challenging. Let''s discuss the tasks that are part of this process,
    as follows:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的基础设施中实施模型可能是一项复杂的任务。有些部署方面可以通过DataRobot简化，但有些部署方面超出了DataRobot的范围，可能相当具有挑战性。让我们讨论以下属于此过程的任务：
- en: '**Deploying a model as an application programming interface (API)**: One of
    the very first tasks is to deploy your model as an API so that it can serve predictions
    as needed. You will have to decide whether this needs to be a batch or real-time
    operation. DataRobot automates much of the task of setting this up, and you can
    have an API serving predictions in minutes.'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**将模型作为应用程序编程接口（API）部署**：首要任务之一是将你的模型作为API部署，以便按需提供预测。你必须决定这需要是批量操作还是实时操作。DataRobot自动化了设置此过程的大部分任务，你可以在几分钟内拥有一个提供预测的API。'
- en: '**Integration and testing with business systems**: Having an API is only part
    of the story—you will now need to integrate this API into your business systems.
    Sometimes, you can serve up predictions to users via standalone Excel files or
    web pages, but for many use cases integration is required. This can sometimes
    take time and effort and can slow things down. Another potential path that many
    organizations are beginning to use is **robotic process automation** (**RPA**).
    DataRobot offers integrations with several RPA tools that can speed up the integration
    process if your use case is amenable to an RPA implementation.'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**与业务系统集成和测试**：拥有API只是故事的一部分——你现在需要将此API集成到你的业务系统中。有时，你可以通过独立的Excel文件或网页向用户提供预测，但对于许多用例，集成是必需的。这有时可能需要时间和精力，并可能减慢进度。许多组织开始使用的一种潜在路径是**机器人流程自动化**（RPA）。如果您的用例适合RPA实施，DataRobot提供了与多个RPA工具的集成，可以加快集成过程。'
- en: '**Building an end use interface**: This is not needed if your use case calls
    for complete automation, but most use cases will have some level of user involvement.
    With integration out of the way, you will still require some way for the user
    to interact with the prediction and make appropriate decisions. You will need
    to consider how users will adjust to a new way of doing business and how to make
    this experience as frictionless as possible. In fact, in many use cases, the predictions
    are specifically set up to reduce friction in an existing process.'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**构建端用户界面**：如果你的用例需要完全自动化，则不需要此功能，但大多数用例将需要一定程度的用户参与。一旦集成完成，你仍需要某种方式让用户与预测进行交互并做出适当的决策。你需要考虑用户如何适应新的业务方式，以及如何使这一体验尽可能无摩擦。实际上，在许多用例中，预测被特别设置以减少现有流程中的摩擦。'
- en: '**User training**: Make sure you are planning for and ready to offer training
    to users whose workflow is being impacted by the new models. Creating training
    and offering this training is a great way to increase adoption and acceptance
    of the model. Many times, this is thought of after the fact and can cause delays
    or reduce acceptance.'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户培训**：确保您正在计划并为受新模型影响的用户提供培训。创建培训并提供这种培训是提高模型采用率和接受度的绝佳方式。很多时候，这种想法是在事后才出现的，可能会导致延误或降低接受度。'
- en: '**User acceptance and change management**: This is typically an ongoing process.
    It is generally a good idea to involve users and stakeholders from the start.
    If users feel that their voice is heard, this will improve the chances of acceptance.
    Users can also help avoid potential problems that the data science team will not
    catch on their own. Frequent communication about why you are doing this project,
    how it impacts the users, and how their work will change (hopefully for the better)
    are all good strategies to improve your odds of success. Building the diagrams
    listed previously in conjunction with users is a great way to start this dialog
    and is ultimately what adds value to the business. As you can see, many things
    have to happen before and after a model is built to realize value. It is no wonder
    that projects often do not succeed in adding value.'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户接受度和变更管理**：这通常是一个持续的过程。通常，从一开始就涉及用户和利益相关者是一个好主意。如果用户觉得他们的声音被听到了，这将提高接受的可能性。用户还可以帮助避免数据科学团队自己可能无法发现的潜在问题。经常沟通您为什么要进行这个项目，它如何影响用户，以及他们的工作将如何改变（希望是变得更好），这些都是提高成功机会的好策略。与用户一起构建之前列出的图表是开始这种对话的绝佳方式，也是最终为业务增加价值的方式。正如您所看到的，在模型构建之前和之后有许多事情要做，才能实现价值。难怪项目往往无法成功增加价值。'
- en: '**Model monitoring and maintenance**: Once the model is operational, you will
    need to set up mechanisms to monitor the prediction service and the performance.
    Over time, the performance tends to degrade, or you might want to improve the
    performance of the model. This requires the models to be updated or retrained
    with new data. Luckily, DataRobot makes these tasks very easy as it provides mechanisms
    to set up the monitoring and retraining of the models.'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**模型监控和维护**：一旦模型投入运行，您需要建立机制来监控预测服务和性能。随着时间的推移，性能往往会下降，或者您可能希望提高模型的性能。这需要用新数据更新或重新训练模型。幸运的是，DataRobot提供了设置监控和模型重新训练的机制，使得这些任务变得非常简单。'
- en: Summary
  id: totrans-124
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we covered some tools and methods to help you gain an understanding
    of your system and the business problem you are trying to solve. Some of these
    methods will be new or unfamiliar to even experienced data scientists, but it
    is important to take the time to internalize them and practice them on your projects.
    Some of this will feel unnecessary given the time pressures. This is one of the
    reasons tools such as DataRobot are beneficial, as they reduce the time you need
    to spend on repetitive tasks and allow you to focus on things that tools cannot
    do.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们介绍了一些工具和方法，以帮助您理解您的系统和您试图解决的商业问题。其中一些方法即使是经验丰富的数据科学家也可能感到陌生，但花时间将它们内化并在您的项目中进行实践是非常重要的。考虑到时间压力，其中一些方法可能会觉得没有必要。这就是为什么像DataRobot这样的工具是有益的，因为它们可以减少您在重复性任务上花费的时间，让您能够专注于工具无法完成的事情。
- en: Hopefully, I have convinced you that the combination of data science teams focusing
    more on understanding the problem and using automation tools for some of the model
    building and tuning tasks provides the best value to an organization. A lot of
    the work done here will also come in handy toward the end of the project when
    we are getting ready to operationalize the models into the organization. Specifically,
    in this chapter, we have learned how to understand the broader system context,
    how the system operates, and why it behaves a certain way. We also saw how to
    get to the root problem that a business needs to solve and turn the business problem
    into a form that can be solved with ML. We then learned how to make sure that
    the solution solves the right problem and does not create unintended side effects.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 希望我已经说服你们，数据科学团队专注于理解问题，并使用自动化工具进行一些模型构建和调优任务，这对组织提供了最佳价值。在这里完成的大部分工作也将在项目后期派上用场，当我们准备将模型实施到组织中时。具体来说，在本章中，我们学习了如何理解更广泛的系统环境，系统是如何运作的，以及为什么它会以某种方式表现。我们还看到了如何找到企业需要解决的根源问题，并将业务问题转化为可以用机器学习解决的问题。然后我们学习了如何确保解决方案解决了正确的问题，并且不会产生意外的副作用。
- en: Finally, we learned how to make sure that the solution is accepted by the stakeholders
    and gets operationalized, leading to the realization of business value.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们学习了如何确保解决方案被利益相关者接受并得到实施，从而实现商业价值。
- en: We are now ready to start working with some example datasets and begin using
    DataRobot to help solve the business problem we have uncovered and the ML problem
    we have defined.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已准备好开始使用一些示例数据集，并开始使用DataRobot来帮助我们解决我们发现的业务问题和定义的机器学习问题。
- en: Further reading
  id: totrans-129
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: '*Causality: Models, Reasoning and Inference, Second Edition*, Judea Pearl,
    Cambridge University Press.'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*《因果性：模型、推理与推断，第二版》，作者：朱迪亚·佩尔，出版社：剑桥大学出版社*。'
- en: '*Business Dynamics: Systems Thinking and Modeling for a Complex World*, John
    D. Sterman, Irwin/McGraw-Hill.'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*《商业动力学：复杂世界的系统思维与建模》，作者：约翰·D·斯特曼，出版社：Irwin/McGraw-Hill*。'
