- en: '11'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '11'
- en: Applying Power BI ML Models
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 应用Power BI机器学习模型
- en: In [*Chapter 10*](B19500_10.xhtml#_idTextAnchor139), we reviewed the results
    of training and testing all three of your ML models. Your options for future iterations
    and plans for your ML models were reviewed and discussed. The Predict Damage ML
    and Predict Height ML models had promising testing results, while the Predict
    Size ML model had room for improvement. For all three of your models, the best
    next steps were to review the results with your stakeholders, and, if possible,
    meet with your data science team to determine whether more advanced tooling and
    techniques could improve upon your initial work.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在[*第10章*](B19500_10.xhtml#_idTextAnchor139)中，我们回顾了训练和测试您所有三个机器学习模型的结果。我们审查并讨论了您未来迭代和机器学习模型的计划。预测损坏ML和预测高度ML模型在测试中表现出良好的结果，而预测尺寸ML模型还有改进的空间。对于您所有的模型，最佳下一步是审查结果与您的利益相关者，并在可能的情况下与您的数据科学团队会面，以确定是否更高级的工具和技术可以改进您最初的工作。
- en: For this chapter, you will apply the ML models that you built to new data from
    the FAA Wildlife Strike database. The data used up to this point in the book ended
    on October 16, 2022\. The new data for this chapter will be reports that have
    been added to the publicly available data between that date and March 11, 2023\.
    The purpose of this chapter will be to review the process through which you can
    bring in new data and automate the process to score it and make predictions with
    your ML models. At the end, you will review the results of your newly scored data
    to see whether the results are similar to the ML testing done on the ML models
    by Power BI.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本章，您将应用您构建的机器学习模型来处理来自FAA野生动物撞击数据库的新数据。本书到目前为止使用的数据截止到2022年10月16日。本章的新数据将是自该日期至2023年3月11日之间添加到公开数据中的报告。本章的目的将是回顾您可以通过哪些流程引入新数据，并自动化评分过程以及使用机器学习模型进行预测的过程。最后，您将审查新评分数据的成果，以查看结果是否与Power
    BI对机器学习模型进行的测试结果相似。
- en: Technical requirements
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'As always, make sure you have access to the following:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 如往常一样，请确保您有权访问以下内容：
- en: The FAA Wildlife Strike data files from either the FAA website or the Packt
    GitHub site
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来自FAA网站或Packt GitHub站点的FAA野生动物撞击数据文件
- en: A Power BI Pro license
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Power BI Pro许可证
- en: 'One of the following Power BI licensing options for access to Power BI dataflows:'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下Power BI许可选项之一用于访问Power BI数据流：
- en: Power BI Premium
  id: totrans-9
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Power BI Premium
- en: Power BI Premium Per User
  id: totrans-10
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Power BI Premium按用户许可
- en: 'One of the following options for getting data into the Power BI cloud service:'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以下选项之一用于将数据导入Power BI云服务：
- en: Microsoft OneDrive (with connectivity to the Power BI cloud service)
  id: totrans-12
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Microsoft OneDrive（与Power BI云服务连接）
- en: Microsoft Access + Power BI Gateway
  id: totrans-13
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Microsoft Access + Power BI网关
- en: Azure Data Lake (with connectivity to the Power BI cloud service)
  id: totrans-14
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Azure Data Lake（与Power BI云服务连接）
- en: Power BI Desktop April 2023 or later (no licenses required)
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Power BI桌面版2023年4月或更高版本（无需许可证）
- en: Bringing the new FAA Wildlife strike data into Power BI
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将新的FAA野生动物撞击数据引入Power BI
- en: Meetings with project stakeholders and data science teams will determine the
    best next steps for your Power BI ML models. In the meantime, you can apply these
    ML models to new data and then compare the predictions to real results. Taking
    these steps will help you learn how to add your ML models to an automated refresh
    process in Power BI.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 与项目利益相关者和数据科学团队的会议将确定您的Power BI机器学习模型的最佳下一步。在此期间，您可以将这些机器学习模型应用于新数据，然后比较预测与实际结果。采取这些步骤将帮助您学习如何将您的机器学习模型添加到Power
    BI的自动刷新过程中。
- en: Downloading and configuring the new FAA Wildlife Strike data
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载和配置新的FAA野生动物撞击数据
- en: 'As in [*Chapter 1*](B19500_01.xhtml#_idTextAnchor015), you should begin by
    downloading a new copy of the FAA Wildlife Strike data. The copy you’ve been using
    to date for this book contained data through October 16, 2022\. Now, you’ll pull
    in new data to score with the Power BI ML models that were trained and tested
    with historical data. The new file contains data through March 1, 2023\. You can
    download a copy of the text file used for this part of the book at the Packt GitHub
    site here: [https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-11/STRIKE_REPORTS_new.txt](https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-11/STRIKE_REPORTS_new.txt).'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 如[*第1章*](B19500_01.xhtml#_idTextAnchor015)中所述，您应该首先下载FAA野生动物打击数据的新副本。您迄今为止为此书使用的数据包含到2022年10月16日的数据。现在，您将拉入新的数据，以便与使用历史数据训练和测试的Power
    BI ML模型进行评分。新文件包含到2023年3月1日的数据。您可以在Packt GitHub网站上下载用于本书此部分的文本文件的副本，链接如下：[https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-11/STRIKE_REPORTS_new.txt](https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-11/STRIKE_REPORTS_new.txt)。
- en: In a real-world data project, the most common path of action would be to either
    update the source file with the newer version of the file or have an automated
    incremental refresh process data from the source on a schedule. Since we are just
    using this data to test against your ML models, and since this is a simple workshop,
    the instructions for this book will pull in the new data as a separate query in
    a dataflow. As a separate query, the original source data will still exist unchanged
    in case source-to-target comparisons for the ML models are needed.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在现实世界的数据项目中，最常见的行动路径是更新源文件以使用文件的较新版本，或者根据计划自动增量刷新从源数据的数据。由于我们只是使用这些数据来测试您的ML模型，并且由于这是一个简单的研讨会，本书的说明将作为单独的查询在数据流中提取新数据。作为一个单独的查询，原始源数据将保持不变，以防需要为ML模型进行源到目标的比较。
- en: Power BI can automate data pulls from many sources, but the source of the FAA
    Wildlife Strike data is an Access database in a zip file that cannot easily be
    pulled into Power BI automatically. If you’d like to automate the process of downloading
    the FAA Wildlife Strike data from the web for your own future use, you’ll need
    to configure a nightly pull using a tool such as Azure Data Factory. Azure Data
    Factory and other data movement tools are outside the scope of this book, but
    plenty of online documentation should be able to guide you through the process
    of a nightly pull that serves up a file for storage in a destination such as Azure
    Data Lake or Azure SQL Database.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: Power BI可以从许多来源自动提取数据，但FAA野生动物打击数据的来源是一个zip文件中的Access数据库，无法轻松自动将其拉入Power BI。如果您想自动化从网络下载FAA野生动物打击数据的过程以供您未来使用，您需要使用Azure
    Data Factory等工具配置夜间提取。Azure Data Factory和其他数据移动工具超出了本书的范围，但大量的在线文档应该能够指导您完成夜间提取的过程，该过程提供用于在Azure
    Data Lake或Azure SQL数据库等目的地存储的文件。
- en: For the example provided in the book, an assumption will be made that the text
    file from the Packt GitHub site was downloaded and added to OneDrive. If you use
    another method, you should be able to easily adjust the source of the Power BI
    dataflow in the proceeding instructions.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 就书中提供的示例而言，将假设从Packt GitHub网站下载并添加到OneDrive中的文本文件。如果您使用其他方法，您应该能够轻松调整后续说明中Power
    BI数据流的源。
- en: Adding new FAA Wildlife Strike data to the Strike Reports dataflow
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将新的FAA野生动物打击数据添加到打击报告数据流中
- en: 'Once the new file of FAA Wildlife Strike data is in OneDrive, you can add it
    to the Power BI Cloud service using dataflows. First, open up the dataflow named
    **Strike Reports** and navigate to the **Edit Tables** screen. Follow these steps
    to add the new data to the **Raw** **Data** group:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦新的FAA野生动物打击数据文件存入OneDrive，您就可以使用数据流将其添加到Power BI云服务中。首先，打开名为**打击报告**的数据流，导航到**编辑表**屏幕。按照以下步骤将新数据添加到**原始数据**组：
- en: Go to **Get Data** | **Text/CSV**.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往**获取数据** | **文本/CSV**。
- en: '`STRIKE_REPORTS_new.txt` file.'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`STRIKE_REPORTS_new.txt`文件。'
- en: Click **Select** and then click **Next**.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**选择**，然后点击**下一步**。
- en: Click **Create**.
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**。
- en: Move the query to the **Raw** **Data** group.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将查询移动到**原始数据**组。
- en: If `Changed column type` was added to **Applied steps**, remove it.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果**应用步骤**中添加了**更改列类型**，请将其移除。
- en: Rename the query `Strike` `Reports New`.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将查询重命名为**打击报告 新**。
- en: Now, you can add a version of the new strike reports query to the **Curated
    Queries** group, which will be prepped for use with ML queries.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你可以将新打击报告查询的一个版本添加到**Curated Queries**组，该组将准备用于ML查询。
- en: Right-click on **Strike Reports New** and select **Reference**.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**Strike Reports New**并选择**Reference**。
- en: Move the new file to the **Curated Report** **Queries** group.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新文件移动到**Curated Report Queries**组。
- en: Rename the file `Strike Reports` `Curated New`.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重命名文件`Strike Reports Curated New`。
- en: 'Next, you replicate the logic of the `02 Curated Data – Strike Reports Curated
    New.M` from the Packt GitHub site at this link: [https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-11](https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-11).'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，从Packt GitHub网站上的此链接复制`02 Curated Data – Strike Reports Curated New.M`的逻辑：[https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-11](https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-11)。
- en: 'Your **Strike Reports** dataflow should now look like this:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 你的**Strike Reports**数据流现在应该看起来像这样：
- en: '![Figure 11.1 – The Strike Reports dataflow with queries for new data added](img/B19500_11_001.jpg)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![图11.1 – 添加了新数据查询的Strike Reports数据流](img/B19500_11_001.jpg)'
- en: Figure 11.1 – The Strike Reports dataflow with queries for new data added
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.1 – 添加了新数据查询的Strike Reports数据流
- en: Once you’ve added the new queries, go ahead and process the dataflow. Now you
    are ready to move on to the **ML Queries** dataflow, which will be used to prep
    the data for Power BI ML. You will apply the same filter and transformation criteria
    to the new data before running it through the ML models to be scored.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦添加了新查询，继续处理数据流。现在你已准备好进入**ML Queries**数据流，该数据流将用于准备Power BI ML的数据。在运行ML模型进行评分之前，你将对新数据应用相同的过滤和转换标准。
- en: Transforming the new data to prep it for scoring with Power BI ML queries
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将新数据转换为准备与Power BI ML查询评分
- en: 'In order to prep the new FAA Wildlife Strike data to be scored by the three
    Power BI ML models, start by opening up the **Edit Tables** view for the **ML
    Queries** dataflow. Once it’s open, follow these steps:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 为了准备新的FAA野生动物打击数据，以便由三个Power BI ML模型进行评分，首先打开**ML Queries**数据流的**Edit Tables**视图。一旦打开，请按照以下步骤操作：
- en: Select **Get data** | **Dataflows**, and click **Next**.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**Get data** | **Dataflows**，并点击**Next**。
- en: Select **Strike Reports Curated New**, and click **Create**.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**Strike Reports Curated New**，并点击**Create**。
- en: Move the new query to the **Sources** group.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新查询移动到**Sources**组。
- en: Right-click **Strike Reports Curated New** and uncheck **Enable load** so that
    you don’t store a duplicate copy of the data.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**Strike Reports Curated New**并取消勾选**Enable load**，这样你就不存储数据的副本。
- en: Now you are ready to create new queries that will be transformed and filtered
    to meet the criteria of your Power BI ML models!
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已准备好创建新的查询，这些查询将被转换和过滤以满足你的Power BI ML模型的标准！
- en: Your next step is to recreate the logic that was created for each of the three
    ML models, and then apply that logic to the new FAA Wildlife Strike data. The
    ML models are trained for specific filter and transformation criteria applied
    to rows of data through 10/16/2022\. You will be applying that same filter and
    transformation steps to the data that was added to the database after 10/16/2022
    so that it can be scored by the ML models.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 你的下一步是重新创建为三个ML模型创建的逻辑，然后将该逻辑应用于新的FAA野生动物打击数据。ML模型是针对2022年10月16日之前应用于数据行的特定过滤和转换标准进行训练的。你将对2022年10月16日之后添加到数据库中的数据进行相同的过滤和转换步骤，以便它们可以通过ML模型进行评分。
- en: 'Rather than walking through the process of cutting and pasting from the existing
    queries, you can use the M queries from the Packt GitHub repository at this link:
    [https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-11](https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-11).
    Follow these steps:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 而不是从现有查询中剪切和粘贴过程，你可以使用此链接的Packt GitHub存储库中的M查询：[https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-11](https://github.com/PacktPublishing/Unleashing-Your-Data-with-Power-BI-Machine-Learning-and-OpenAI/tree/main/Chapter-11)。按照以下步骤操作：
- en: Create a new group in the **ML Queries** dataflow called **ML** **Scoring Queries**.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**ML Queries**数据流中创建一个新的组，命名为**ML Scoring Queries**。
- en: Select **Get data** | **Blank query**.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**Get data** | **Blank query**。
- en: Copy the M code from the Packt GitHub site from the query titled `03 ML Scoring
    Queries - Predict Damage` `ML Score.M`.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 Packt GitHub 网站上标题为 `03 ML 评分查询 - 预测损坏` `ML 评分.M` 的查询中复制 M 代码。
- en: Paste that code into the blank query field and click **Next**.
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将该代码粘贴到空白查询字段中并点击**下一步**。
- en: Rename the query `Predict Damage ML Score` and move it to the **ML Scoring**
    **Queries** group.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重命名查询 `预测损坏 ML 评分` 并将其移动到**ML 评分** **查询**组。
- en: Repeat *steps 2-5* for the query from the Packt GitHub site named `04 ML Scoring
    Queries - Predict Size ML Score.M` and name the query `Predict Size` `ML Score`.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 Packt GitHub 网站上名为 `04 ML 评分查询 - 预测大小 ML 评分.M` 的查询重复*步骤 2-5*，并将查询命名为 `预测大小`
    `ML 评分`。
- en: Repeat *steps 2-5* for the query from the Packt GitHub site named `05 ML Scoring
    Queries - Predict Height ML Score.M` and name the query `Predict Height` `ML Score`.
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对 Packt GitHub 网站上名为 `05 ML 评分查询 - 预测高度 ML 评分.M` 的查询重复*步骤 2-5*，并将查询命名为 `预测高度`
    `ML 评分`。
- en: Click on **Save & close** to save and close your dataflow.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存并关闭**以保存并关闭您的数据流。
- en: 'Your **ML Queries** dataflow should now look like this:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 您的**ML 查询**数据流现在应该看起来像这样：
- en: '![Figure 11.2 – The new group of queries added that will be used to score the
    new data with Power BI ML models](img/B19500_11_002.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.2 – 将用于使用 Power BI ML 模型评分新数据的查询组添加到新查询](img/B19500_11_002.jpg)'
- en: Figure 11.2 – The new group of queries added that will be used to score the
    new data with Power BI ML models
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.2 – 将用于使用 Power BI ML 模型评分新数据的查询组添加到新查询
- en: Now you have the new FAA Wildlife Strike data ready to go for scoring with Power
    BI ML models! The new data, which was not used to train or test the original ML
    models, and which was added to the source database after the original data, has
    now been prepped for scoring so that you can evaluate the utility of your ML models
    when used with newly generated data.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经有了准备使用 Power BI ML 模型评分的新 FAA 野生动物撞击数据！这些新数据未用于训练或测试原始 ML 模型，且是在原始数据之后添加到源数据库中的，现在已准备好评分，以便您可以在使用新生成数据时评估您的
    ML 模型的效用。
- en: Applying Power BI ML models to score new FAA Wildlife Strike data
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将 Power BI ML 模型应用于评分新的 FAA 野生动物撞击数据
- en: After 11 chapters of work, you are finally ready to run new data through your
    Power BI ML models and evaluate the resulting predictions! You will run through
    the process of applying each ML model to the new data, and then browse the results
    of the scoring to compare predictions with the real results.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 经过 11 章的工作，您终于准备好将新数据通过您的 Power BI ML 模型运行并评估产生的预测！您将运行将每个 ML 模型应用于新数据的过程，然后浏览评分结果以比较预测与实际结果。
- en: Applying the Predict Damage ML model in Power BI
  id: totrans-64
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在 Power BI 中应用预测损坏 ML 模型
- en: 'You will now reference the **Predict Damage ML Score** data from the **ML Queries**
    dataflow against the **Predict Damage ML** model so that it can be scored. *Figure
    11**.3* is a quick summary of the data that you have used to train, test, and
    now apply the **Predict Damage** **ML Model**:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在将引用来自**ML 查询**数据流的**预测损坏 ML 评分**数据与**预测损坏 ML**模型进行对比，以便进行评分。*图 11*.3 是您用于训练、测试和现在应用**预测损坏**
    **ML 模型**的数据的快速总结：
- en: '|  | **Training** | **Testing** | **Apply (new)** |'
  id: totrans-66
  prefs: []
  type: TYPE_TB
  zh: '|  | **训练** | **测试** | **应用（新）** |'
- en: '| Rows | 10,165 | 4,326 | 653 |'
  id: totrans-67
  prefs: []
  type: TYPE_TB
  zh: '| 行数 | 10,165 | 4,326 | 653 |'
- en: '| Date Range | >= 1/1/2014 & <= 10/16/2022 | >= 1/1/2014 & <= 10/16/2022 |
    > 10/16/2022 & <= 3/1/2023 |'
  id: totrans-68
  prefs: []
  type: TYPE_TB
  zh: '| 日期范围 | >= 1/1/2014 & <= 10/16/2022 | >= 1/1/2014 & <= 10/16/2022 | > 10/16/2022
    & <= 3/1/2023 |'
- en: Figure 11.3 – Details about data used for training, testing, and applying new
    data to Predict Damage ML
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.3 – 用于训练、测试和将新数据应用于预测损坏 ML 的数据的详细信息
- en: 'Follow these steps to add the new data to the **Edit Tables** view of the **Predict
    Damage** **ML** dataflow:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤将新数据添加到**预测损坏** **ML**数据流的**编辑表**视图：
- en: Select **Get data** | **Dataflows**, and click **Next**.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**获取数据** | **数据流**，然后点击**下一步**。
- en: Select **Predict Damage ML Score** from the **ML Queries** dataflow and click
    **Create**.
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**ML 查询**数据流中选择**预测损坏 ML 评分**并点击**创建**。
- en: Click **Save &** **close**.
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存并** **关闭**。
- en: Refresh the **Predict Damage** **ML** dataflow.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 刷新**预测损坏** **ML**数据流。
- en: 'Now you can apply **Predict Damage ML** model to score the new data. First,
    navigate to the ML model and click on the icon to apply the model:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您可以将**预测损坏 ML**模型应用于评分新数据。首先，导航到 ML 模型并点击应用模型的图标：
- en: '![Figure 11.4 – Icon to apply the ML model](img/B19500_11_004.jpg)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.4 – 应用 ML 模型的图标](img/B19500_11_004.jpg)'
- en: Figure 11.4 – Icon to apply the ML model
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.4 – 应用 ML 模型的图标
- en: 'Next, select the query for the new data to be scored, and enter the threshold
    you’d like to use as the cutoff for predicting damage. As you recall from [*Chapter
    9*](B19500_09.xhtml#_idTextAnchor125), the probability threshold with maximum
    profit was 0.74, but you can choose any value between **0** and **1**. The following
    example shows **0.5**:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，选择要评分的新数据的查询，并输入你希望用作预测损伤截止值的阈值。如你从 [*第 9 章*](B19500_09.xhtml#_idTextAnchor125)
    回忆的那样，最大利润的概率阈值是 0.74，但你可以在 **0** 和 **1** 之间选择任何值。以下示例显示 **0.5**：
- en: '![Figure 11.5 – Choosing the input table and threshold for applying the ML
    model](img/B19500_11_005.jpg)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.5 – 选择应用 ML 模型的输入表和阈值](img/B19500_11_005.jpg)'
- en: Figure 11.5 – Choosing the input table and threshold for applying the ML model
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.5 – 选择应用 ML 模型的输入表和阈值
- en: When you click **Save and apply**, the **Predict Power BI ML** model will be
    used to make predictions about incidents for the new data! If the new data were
    changing at a cadence, you could set the dataflow to refresh and it would score
    the new data automatically on a schedule.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 当你点击 **保存并应用** 时，**Predict Power BI ML** 模型将被用于对新数据进行预测！如果新数据以一定的节奏变化，你可以设置数据流以刷新，它将自动按计划评分新数据。
- en: 'Once the scoring of the dataflow has been completed, you will have access to
    two new tables in the **Predict Damage ML** dataflow. During the writing of this
    book, some queries needed to be reauthenticated. If you get an error, you may
    need to follow the prompts within a query that has a yellow warning icon and save
    your credentials again. One of these tables will contain the newly scored data,
    and the other will contain explanations about the features that were used to make
    the prediction. Connecting to these dataflow tables from Power BI Desktop, you
    can see that the first table named **Predict Damage ML Score enriched Predict
    Damage ML** contains the rows that were scored, the outcome of the prediction
    based on the probability threshold, the score used to compare with the probability
    threshold, an explanation about the prediction, and an index column, which is
    a foreign key for the second table:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦完成数据流的评分，你将能够访问 **Predict Damage ML** 数据流中的两个新表。在撰写本书的过程中，一些查询需要重新验证。如果你遇到错误，你可能需要遵循带有黄色警告图标的查询中的提示，并再次保存你的凭据。其中一张表将包含新评分的数据，另一张表将包含用于做出预测的特征的解释。从
    Power BI Desktop 连接到这些数据流表，你可以看到第一个名为 **Predict Damage ML Score enriched Predict
    Damage ML** 的表包含评分的行，基于概率阈值的预测结果，用于与概率阈值比较的评分，关于预测的解释，以及一个索引列，它是第二个表的外键：
- en: '![Figure 11.6 – Table of scored new data with predictions and explanations
    added](img/B19500_11_006.jpg)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.6 – 添加了预测和解释的评分新数据表](img/B19500_11_006.jpg)'
- en: Figure 11.6 – Table of scored new data with predictions and explanations added
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.6 – 添加了预测和解释的评分新数据表
- en: 'The second table is named **Predict Damage ML Score enriched Predict Damage
    ML explanations** and contains a separate row for each feature that was used to
    make the prediction. During the writing process of this book, an occasional bug
    would show up in the Power BI Service resulting in this table showing as blank
    within the dataflow. If you encounter this bug, connecting to this table using
    Power BI Desktop will allow you to see the data. The **Contribution** field is
    added up to calculate the prediction score value for the first table, which is
    compared to the probability threshold. Negative scores reduce the resulting score,
    and positive scores increase the score:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 第二张表名为 **Predict Damage ML Score enriched Predict Damage ML explanations**，并为每个用于做出预测的特征包含一个单独的行。在本书的编写过程中，Power
    BI 服务偶尔会出现一个错误，导致此表在数据流中显示为空白。如果你遇到这个错误，使用 Power BI Desktop 连接到此表将允许你看到数据。**贡献**字段被加起来以计算第一个表的预测评分值，该值与概率阈值进行比较。负分会降低最终评分，而正分会增加评分：
- en: '![Figure 11.7 – Table of features explaining the predictions for each scored
    row](img/B19500_11_007.jpg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.7 – 解释每个评分行的特征表](img/B19500_11_007.jpg)'
- en: Figure 11.7 – Table of features explaining the predictions for each scored row
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.7 – 解释每个评分行的特征表
- en: 'In the **Power BI Desktop Model** view, you can see that the tables have a
    one-to-many relationship:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 在 **Power BI Desktop 模型视图** 中，你可以看到这些表之间存在一对一的关系：
- en: '![Figure 11.8 – Scored data and explanations have a one-to-many relationship](img/B19500_11_008.jpg)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.8 – 得分数据和解释之间存在一对一的关系](img/B19500_11_008.jpg)'
- en: Figure 11.8 – Scored data and explanations have a one-to-many relationship
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.8 – 评分数据和解释之间存在一对一的关系
- en: 'You can create an interactive report using Power BI to explore the results
    of the ML model scoring new data. First, you review the explanations of the different
    features for a single row of scored data. To clarify, the following screenshot
    is for a single event, indicated by an index of **7**, which was given a prediction
    score of **18.00** and registers as predicting **No Damage** since the prediction
    score of 18 is less than the probability threshold of 50\. You can see that the
    prediction score of 18 is the result of adding up all of the **Contribution**
    values in the table (bottom right) and waterfall chart (bottom left):'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 Power BI 创建交互式报告来探索新数据的 ML 模型评分结果。首先，你审查单行评分数据的各个特征的解释。为了澄清，以下截图是针对一个单一事件，由
    **索引** 7 表示，该事件被赋予了预测分数 **18.00**，并记录为预测 **无损伤**，因为预测分数 18 小于 50% 的概率阈值。你可以看到预测分数
    18 是通过将表格（右下角）和水下图表（左下角）中的所有 **贡献** 值相加得到的：
- en: '![Figure 11.9 – Left half – Contribution of features used to predict damage
    for a single wildlife strike incident](img/B19500_11_009.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.9 – 左半部分 – 用于预测单一野生动物撞击事件的损伤特征贡献](img/B19500_11_009.jpg)'
- en: Figure 11.9 – Left half – Contribution of features used to predict damage for
    a single wildlife strike incident
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.9 – 左半部分 – 用于预测单一野生动物撞击事件的损伤特征贡献
- en: This screenshot has been split into two figures to make sure you can read it.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 这张截图已被分成两个图，以确保你可以阅读。
- en: '![Figure 11.10 – Right half – contribution of features used to predict damage
    for a single wildlife strike incident](img/B19500_11_010.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.10 – 右半部分 – 用于预测单一野生动物撞击事件的损伤特征贡献](img/B19500_11_010.jpg)'
- en: Figure 11.10 – Right half – contribution of features used to predict damage
    for a single wildlife strike incident
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.10 – 右半部分 – 用于预测单一野生动物撞击事件的损伤特征贡献
- en: 'In the waterfall chart split into *Figure 11**.9* and *Figure 11**.10*, you
    can zoom in to see that the features on the left contributed to keeping the Prediction
    Score low while the features on the right increased the result:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在分成 *图 11*.*9* 和 *图 11*.*10* 的瀑布图中，你可以放大查看，可以看到左侧的特征有助于保持预测分数低，而右侧的特征增加了结果：
- en: '![Figure 11.11 – Features contributing to the Prediction Score of 18 for the
    incident](img/B19500_11_011.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.11 – 对事件预测分数 18 有贡献的特征](img/B19500_11_011.jpg)'
- en: Figure 11.11 – Features contributing to the Prediction Score of 18 for the incident
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.11 – 对事件预测分数 18 有贡献的特征
- en: 'Switching to another incident given an **Index** value of **2**, you’ll see
    that the prediction was a false positive because it predicted damage when none
    was reported. The features that were weighted strongly within the prediction score
    of 85 can be sorted to the top of the table. This type of analysis can help you
    identify features or combinations of features that might contribute to inaccurate
    predictions or features that have little impact on the prediction. For example,
    looking at the explanations, you can see that having hit 2-10 large animals contributed
    to the high prediction score:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 当给定 **索引** 值为 **2** 的另一个事件时，你会看到预测是错误的，因为它预测了损伤，但实际上没有报告。在预测得分为 85 的预测分数中，权重较强的特征可以排序到表格的顶部。这种分析可以帮助你识别可能对预测不准确有贡献的特征或特征组合，或者对预测影响较小的特征。例如，查看解释，你可以看到撞击
    2-10 只大型动物对高预测分数有贡献：
- en: '![Figure 11.12 – Left half – the incident was predicted to have damage when
    it did not](img/B19500_11_012.jpg)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.12 – 左半部分 – 预测到事件有损伤，但实际上没有](img/B19500_11_012.jpg)'
- en: Figure 11.12 – Left half – the incident was predicted to have damage when it
    did not
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.12 – 左半部分 – 预测到事件有损伤，但实际上没有
- en: '*Figure 11**.12* and *Figure 11**.13* each show half of the screen, to make
    it easier to read.'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 11*.*12* 和 *图 11*.*13* 各自显示了屏幕的一半，以便更容易阅读。'
- en: '![Figure 11.13 – Right half – the incident was predicted to have damage when
    it did not](img/B19500_11_013.jpg)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.13 – 右半部分 – 预测到事件有损伤，但实际上没有](img/B19500_11_013.jpg)'
- en: Figure 11.13 – Right half – the incident was predicted to have damage when it
    did not
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.13 – 右半部分 – 预测到事件有损伤，但实际上没有
- en: 'Using these tables in Power BI, you can also aggregate the results to understand
    differences at scale. For example, in the following report, you can see the **Precision
    %** and **Accuracy** metrics broken down by **Size**, with an adjustable probability
    threshold, distribution buckets for prediction scores, and aggregate values for
    the feature explanations:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Power BI 中使用这些表格，您还可以汇总结果以了解规模差异。例如，在以下报告中，您可以看到按 **Size** 分解的 **Precision
    %** 和 **Accuracy** 指标，具有可调整的概率阈值，预测分数的分布桶，以及特征解释的汇总值：
- en: '![Figure 11.14 – Left half – aggregate scoring results for the new rows of
    data](img/B19500_11_014.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.14 – 左半部分 – 新数据行的汇总评分结果](img/B19500_11_014.jpg)'
- en: Figure 11.14 – Left half – aggregate scoring results for the new rows of data
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.14 – 左半部分 – 新数据行的汇总评分结果
- en: The other half of the screen is shown in *Figure 11**.15*.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 屏幕的另一部分在 *图 11*.*15* 中显示。
- en: '![Figure 11.15 – Right half – aggregate scoring results for the new rows of
    data](img/B19500_11_015.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.15 – 右半部分 – 新数据行的汇总评分结果](img/B19500_11_015.jpg)'
- en: Figure 11.15 – Right half – aggregate scoring results for the new rows of data
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.15 – 右半部分 – 新数据行的汇总评分结果
- en: 'Clicking on **Small** under **Size** to filter the whole page, you can see
    that from an average and median perspective, **Size** being **Small** strongly
    contributes to lower prediction scores:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 点击 **Size** 下的 **Small** 以过滤整个页面，您可以看到从平均值和中位数的角度来看，**Size** 为 **Small** 强烈地导致预测分数降低：
- en: '![Figure 11.16 – Left half – report filtered with Size set to Small](img/B19500_11_016.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.16 – 左半部分 – 将 Size 设置为 Small 的报告过滤结果](img/B19500_11_016.jpg)'
- en: Figure 11.16 – Left half – report filtered with Size set to Small
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.16 – 左半部分 – 将 Size 设置为 Small 的报告过滤结果
- en: '*Figure 11**.17* shows the other half of the screen.'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 11*.*17* 显示了屏幕的另一部分。'
- en: '![Figure 11.17 – Right half – Report filtered for Size of Small](img/B19500_11_017.jpg)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.17 – 右半部分 – 对 Size 为 Small 的报告进行过滤](img/B19500_11_017.jpg)'
- en: Figure 11.17 – Right half – Report filtered for Size of Small
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.17 – 右半部分 – 对 Size 为 Small 的报告进行过滤
- en: 'You can compare some of the metrics to the values from the Model Performance
    Report that was reviewed in [*Chapter 9*](B19500_09.xhtml#_idTextAnchor125). Remember,
    *Recall* is the percentage of incidents with damage that are likely to be predicted
    as having damage, and *Precision* is the number of records predicted to have damage
    that actually have damage:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以将一些指标与已审查的模型性能报告中的值进行比较，该报告在 [*第 9 章*](B19500_09.xhtml#_idTextAnchor125)
    中已审查。记住，*召回率* 是可能预测为有损坏的损坏事件的百分比，而 *精度* 是预测为有损坏且实际上确实有损坏的记录数：
- en: '|  | **Testing** | **New** **data scoring** |'
  id: totrans-119
  prefs: []
  type: TYPE_TB
  zh: '|  | **测试** | **新数据评分** |'
- en: '| Recall at Probability Threshold .5 | 88% | 80% |'
  id: totrans-120
  prefs: []
  type: TYPE_TB
  zh: '| 概率阈值 .5 下的召回率 | 88% | 80% |'
- en: '| Precision at Probability Threshold .5 | 30% | 29% |'
  id: totrans-121
  prefs: []
  type: TYPE_TB
  zh: '| 概率阈值 .5 下的精度 | 30% | 29% |'
- en: '| Recall at Probability Threshold .74 | 67% | 59% |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| 概率阈值 .74 下的召回率 | 67% | 59% |'
- en: '| Precision at Probability Threshold .74 | 49% | 49% |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| 概率阈值 .74 下的精度 | 49% | 49% |'
- en: Figure 11.18 – New data Recall and Precision compared to original testing results
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.18 – 新数据召回率和精度与原始测试结果比较
- en: The results for the new data appear to be somewhat consistent with the testing,
    but now you can dive into the data and judge for yourself! You are now ready to
    move on to the **Predict Size ML** model to test it on new data.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 新数据的结果似乎与测试结果基本一致，但现在您可以深入数据并自行判断！您现在可以继续进行到 **Predict Size ML** 模型，以在新数据上对其进行测试。
- en: Applying the Predict Size ML model in Power BI
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在 Power BI 中应用 Predict Size ML 模型
- en: Applying the new data to the **Predict Size ML** model will be a repetitive
    task compared to what was just done for **Predict Damage ML**. As you recall from
    [*Chapter 10*](B19500_10.xhtml#_idTextAnchor139), the **Predict Size ML** model
    did not get very good results during testing, with a 61% AUC. The ML model probably
    needs either re-evaluation by a data science team or significant work to improve
    the AUC. Scoring new data against the model can still be a valuable exercise to
    help identify areas for improvement.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 将新数据应用于 **Predict Size ML** 模型将与之前为 **Predict Damage ML** 所做的操作相比是一个重复的任务。如您从
    [*第 10 章*](B19500_10.xhtml#_idTextAnchor139) 中回忆的那样，**Predict Size ML** 模型在测试期间没有取得很好的结果，AUC
    为 61%。ML 模型可能需要数据科学团队的重新评估或进行大量工作以提高 AUC。对新数据进行评分仍然是一项有价值的练习，有助于确定改进领域。
- en: 'In order to minimize repetition, here’s a summary of the steps to add new data
    and apply the ML model. Follow these steps to add the new data to the **Edit Tables**
    view of the **Predict Size** **ML** dataflow:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 为了减少重复，以下是将新数据添加并应用 ML 模型的步骤摘要。按照以下步骤将新数据添加到 **Predict Size** **ML** 数据流的 **编辑表格**
    视图中：
- en: Select **Get data** | **Dataflows**, and click **Next**.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **获取数据** | **数据流**，然后点击 **下一步**。
- en: Select **Predict Size ML Score** from the **ML Queries** dataflow and click
    **Create**.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 **ML 查询** 数据流中选择 **Predict Size ML Score** 并点击 **创建**。
- en: Click **Save &** **close**.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **保存并关闭**。
- en: Refresh the **Predict Size** **ML** dataflow.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 刷新 **Predict Size** **ML** 数据流。
- en: Navigate to the screen for **Predict Size ML Model**, and click **Apply** **ML
    model**.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 **Predict Size ML 模型** 屏幕，并点击 **应用** **ML 模型**。
- en: Choose the **Predict Size ML Score** input table and click **Save &** **apply**.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **Predict Size ML Score** 输入表并点击 **保存并应用**。
- en: 'Once the scoring is complete, you can pull tables of both the scored data and
    the related feature contributions into Power BI Desktop to review the results.
    You build a similar report for the **Size** predictions as you did for **Damage**
    predictions:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 评分完成后，你可以将评分数据和相关的特征贡献表拖入 Power BI Desktop 以查看结果。你可以为 **尺寸** 预测构建一个与 **损害**
    预测类似的报告：
- en: '![Figure 11.19 – Left half – evaluation of the Predict Size ML scoring of new
    data](img/B19500_11_019.jpg)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.19 – 左半部分 – 新数据 Predict Size ML 评分的评估](img/B19500_11_019.jpg)'
- en: Figure 11.19 – Left half – evaluation of the Predict Size ML scoring of new
    data
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.19 – 左半部分 – 新数据 Predict Size ML 评分的评估
- en: For ease of viewing, *Figure 11**.19* shows the left half of the screen, while
    *Figure 11**.20* shows the right side.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 为了便于查看，*图 11*.*19* 展示了屏幕的左半部分，而 *图 11*.*20* 展示了右侧。
- en: '![Figure 11.20 – Right half – evaluation of the Predict Size ML scoring of
    new data](img/B19500_11_020.jpg)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
  zh: '![图 11.20 – 右半部分 – 新数据 Predict Size ML 评分的评估](img/B19500_11_020.jpg)'
- en: Figure 11.20 – Right half – evaluation of the Predict Size ML scoring of new
    data
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.20 – 右半部分 – 新数据 Predict Size ML 评分的评估
- en: 'As with the original testing of this ML model, the results were barely better
    than random guessing. Only 119 rows of data met the criteria for the testing,
    which likely adds to the lackluster results. You can compare the results that
    were correctly classified to the original testing outcomes:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 与该 ML 模型的原始测试一样，结果几乎与随机猜测一样好。只有 119 行数据符合测试标准，这可能是结果不佳的原因之一。你可以将正确分类的结果与原始测试结果进行比较：
- en: '| **Size** | **Testing** | **New** **data scoring** |'
  id: totrans-142
  prefs: []
  type: TYPE_TB
  zh: '| **尺寸** | **测试** | **新数据评分** |'
- en: '| Small | 70% | 66% |'
  id: totrans-143
  prefs: []
  type: TYPE_TB
  zh: '| 小型 | 70% | 66% |'
- en: '| Medium | 36% | 26% |'
  id: totrans-144
  prefs: []
  type: TYPE_TB
  zh: '| 中等 | 36% | 26% |'
- en: '| Large | 61% | 63% |'
  id: totrans-145
  prefs: []
  type: TYPE_TB
  zh: '| 大型 | 61% | 63% |'
- en: Figure 11.21 – Comparing original test results versus newly scored data for
    Predict Size ML
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11.21 – 比较原始测试结果与 Predict Size ML 新评分数据
- en: While the new results are still not good, they do appear to be in the same range
    as the original test results. You can now move on to scoring new data for your
    final ML model, **Predict** **Height ML**!
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然新的结果仍然不是很好，但它们似乎与原始测试结果处于同一范围内。你现在可以继续对新数据进行评分，以构建最终的 ML 模型，**Predict** **Height
    ML**！
- en: Applying the Predict Height ML model in Power BI
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在 Power BI 中应用 Predict Height ML 模型
- en: 'As you did with the **Predict Size ML** model scoring of new data, you can
    follow similar steps starting in the **Edit Tables** view of the **Predict Height
    ML** dataflow to score the new data:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你对新数据的 **Predict Size ML** 模型评分所做的那样，你可以从 **Predict Height ML** 数据流的 **编辑表格**
    视图开始，遵循类似的步骤对新数据进行评分：
- en: Select **Get data** | **Dataflows**, and click **Next**.
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **获取数据** | **数据流**，然后点击 **下一步**。
- en: Select **Predict Height ML Score** from the **ML Queries** dataflow and click
    **Create**.
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 **ML 查询** 数据流中选择 **Predict Height ML Score** 并点击 **创建**。
- en: Click **Save &** **close**.
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **保存并关闭**。
- en: Refresh the **Predict Height** **ML** dataflow.
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 刷新 **Predict Height** **ML** 数据流。
- en: Navigate to the screen for **Predict Height ML** model, and click **Apply**
    **ML model**.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 **Predict Height ML** 模型屏幕，并点击 **应用** **ML 模型**。
- en: Choose the **Predict Height ML Score** input table and click **Save &** **apply**.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **Predict Height ML Score** 输入表并点击 **保存并应用**。
- en: As with the previous two ML models, you can pull tables of both the scored data
    and the related feature contributions into Power BI Desktop to review the results.
    With a regression ML model, you aren’t predicting yes/no or categorical values,
    but rather numeric values that can be compared to the actuals. With a regression,
    there isn’t necessarily a right or wrong answer, but instead, you can compare
    how close the predicted numbers compare to reality. For example, you can predict
    that a plane struck a bird at 2,000 feet above the ground, but is that a good
    prediction if it actually happened at 2,052 feet? The answer to that question
    in the real world depends on the requirements of the stakeholders and end users!
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 与前两个机器学习模型一样，你可以将评分数据和相关的特征贡献表拖入Power BI桌面以查看结果。在使用回归机器学习模型时，你不是在预测是/否或分类值，而是在预测可以与实际值进行比较的数值。在回归中，不一定有正确或错误答案，而是可以比较预测数值与现实的接近程度。例如，你可以预测飞机在离地面2,000英尺处撞到了一只鸟，但如果实际上是在2,052英尺处发生，这还是一个好的预测吗？这个问题在现实世界中的答案取决于利益相关者和最终用户的要求！
- en: 'The following figure illustrates the predicted height, actual height, and contribution
    information for features for the new data scored with the **Predict Height** **ML**
    model:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 下图展示了使用**预测高度**机器学习模型对新数据进行评分的预测高度、实际高度和特征贡献信息：
- en: '![Figure 11.22 – Left half – comparing the predicted height to the actual height](img/B19500_11_022.jpg)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![图11.22 – 左半部分 – 比较预测高度与实际高度](img/B19500_11_022.jpg)'
- en: Figure 11.22 – Left half – comparing the predicted height to the actual height
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.22 – 左半部分 – 比较预测高度与实际高度
- en: '![Figure 11.23 – Right half – comparing the predicted height to the actual
    height](img/B19500_11_023.jpg)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![图11.23 – 右半部分 – 比较预测高度与实际高度](img/B19500_11_023.jpg)'
- en: Figure 11.23 – Right half – comparing the predicted height to the actual height
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.23 – 右半部分 – 比较预测高度与实际高度
- en: As mentioned previously in the book, the actual **Height** values tend to land
    on round numbers in the hundreds or thousands. For example, 8 reports in the new
    data illustrated here were recorded to be at 4,000 feet. Is this due to rounding
    by the report filer? Is it due to standard heights for aircraft that are near
    an airport? Are there other reasons? Without additional information, it is impossible
    to know the reason. On the **Average of Contribution by Field** chart in the bottom
    left of the page, you notice that at both the aggregate level and filtered level,
    the **Distance**, **Speed**, **Airport ID**, and **Phase of Flight** features
    tend to have the greatest contribution.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 如本书之前所述，实际**高度**值往往落在百位或千位的整数上。例如，这里展示的新数据中有8份报告记录在4,000英尺。这是由于报告提交者的四舍五入吗？是由于靠近机场的飞机的标准高度吗？还是有其他原因？没有更多信息，无法知道原因。在页面左下角的**按字段平均贡献**图表中，你注意到在汇总级别和筛选级别，**距离**、**速度**、**机场ID**和**飞行阶段**特征往往有最大的贡献。
- en: 'Expanding the table in *Figure 11**.24* that lists each individual incident,
    you can see the **Residual** value of the predicted height versus the actual height:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 在*图11.24*中展开列出每个单个事件的表格，你可以看到预测高度与实际高度之间的**残差**值：
- en: '![Figure 11.24 – The individual event’s predicted height, actual height, and
    residual value](img/B19500_11_024.jpg)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![图11.24 – 单个事件的预测高度、实际高度和残差值](img/B19500_11_024.jpg)'
- en: Figure 11.24 – The individual event’s predicted height, actual height, and residual
    value
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 图11.24 – 单个事件的预测高度、实际高度和残差值
- en: In *Figure 11**.24*, notice that the range of accuracy for the predictions shifts
    considerably between incidents. There are probably many different factors contributing
    to the inaccuracies. Can the predictions be better? Or is there natural variability
    in the data due to the nature of the incidents and the process for recording data
    about the incidents? Conversations with the project stakeholders, people in charge
    of recording the data, and data science experts can help you learn more about
    this particular use case.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在*图11.24*中，注意预测的准确性范围在事件之间有相当大的变化。可能有许多不同的因素导致了不准确。预测能否更好？或者，由于事件性质和数据记录过程，数据中存在自然变异性？与项目利益相关者、负责记录数据的人员和数据科学专家的对话可以帮助你了解更多关于这个特定用例的信息。
- en: You’ve reached a point in your project where you have designed your ML models
    in Power BI, trained them, tested them, and then applied them to new data in a
    way that could work with an automated process in Power BI.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 您的项目已经达到一个阶段，您在Power BI中设计了ML模型，训练了它们，测试了它们，然后将它们应用到Power BI中新的数据上，这种方式可以与Power
    BI中的自动化流程协同工作。
- en: Summary
  id: totrans-168
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you brought new FAA Wildlife Strike data into Power BI and
    transformed the data to match the design of your original architecture. You then
    transformed the data to meet the filtering and transformation requirements of
    the data used to train and test your **Predict Damage ML**, **Predict Size ML**,
    and **Predict Height ML** models. Then, you made predictions for the new data
    by applying the trained Power BI ML models. Finally, you reviewed the results
    of the predictions and compared them to the actual results.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您将新的FAA野生动物撞击数据引入Power BI，并将数据转换为与您原始架构设计相匹配。然后，您将数据转换为满足用于训练和测试您的**预测损伤ML**、**预测尺寸ML**和**预测高度ML**模型的数据的过滤和转换要求。接着，您通过应用训练好的Power
    BI ML模型对新数据进行预测。最后，您回顾了预测结果，并将它们与实际结果进行了比较。
- en: '[*Chapter 12*](B19500_12.xhtml#_idTextAnchor165) will add a special twist to
    your project! For those of you out in the real world, changing scope and expectations
    is a frequent occurrence with data projects. When this book was being written,
    **OpenAI** and **Microsoft OpenAI** were fast becoming media sensations. Your
    stakeholders have asked you to find some use cases for OpenAI in your project.
    It’s a scope change to your project, but it will be an exciting adventure! [*Chapter
    12*](B19500_12.xhtml#_idTextAnchor165) will review the OpenAI and Microsoft OpenAI
    offerings, as they can be applied to this project for added value.'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第12章*](B19500_12.xhtml#_idTextAnchor165)将为您的项目增添一个特别的转折！对于那些身处现实世界中的您，数据项目中的范围和期望的改变是经常发生的事情。当本书正在编写时，**OpenAI**和**微软OpenAI**正迅速成为媒体
    sensation。您的利益相关者要求您在项目中找到一些OpenAI的应用案例。这是您项目范围的一次改变，但将是一次激动人心的冒险！[*第12章*](B19500_12.xhtml#_idTextAnchor165)将回顾OpenAI和微软OpenAI的提供内容，因为它们可以应用于此项目以增加价值。'
- en: 'Part 4: Integrating OpenAI with Power BI'
  id: totrans-171
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第四部分：将OpenAI与Power BI集成
- en: In the final part of the book, you will see how you can make use of Open AI
    and Azure OpenAI to enhance your BI work. In the final chapter, you will look
    at some of the key ideas and lessons covered in the book, and think about how
    you can use them in your own work.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的最后一部分，您将了解如何利用Open AI和Azure OpenAI来增强您的BI工作。在最后一章中，您将回顾本书中涵盖的一些关键思想和经验教训，并思考如何将它们应用到您自己的工作中。
- en: 'The following three chapters make up *Part 4*:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 以下三个章节构成了*第四部分*：
- en: '[*Chapter 12*](B19500_12.xhtml#_idTextAnchor165), *Use Cases for OpenAI*'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第12章*](B19500_12.xhtml#_idTextAnchor165), *OpenAI的应用案例*'
- en: '[*Chapter 13*](B19500_13.xhtml#_idTextAnchor173), *Using OpenAI and Azure OpenAI
    in Power BI Dataflows*'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第13章*](B19500_13.xhtml#_idTextAnchor173), *在Power BI数据流中使用OpenAI和Azure OpenAI*'
- en: '[*Chapter 14*](B19500_14.xhtml#_idTextAnchor186), *Project Review and Looking
    Forward*'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第14章*](B19500_14.xhtml#_idTextAnchor186), *项目回顾与展望*'
